!(function(){var Sd=(Yt,Ue)=>(Ue=Symbol[Yt])?Ue:Symbol.for("Symbol."+Yt),Jh=Yt=>{throw TypeError(Yt)};var qh=function(Yt,Ue){this[0]=Yt,this[1]=Ue};var il=Yt=>{var Ue=Yt[Sd("asyncIterator")],c=!1,g,Y={};return Ue==null?(Ue=Yt[Sd("iterator")](),g=Q=>Y[Q]=O=>Ue[Q](O)):(Ue=Ue.call(Yt),g=Q=>Y[Q]=O=>{if(c){if(c=!1,Q==="throw")throw O;return O}return c=!0,{done:!1,value:new qh(new Promise(y=>{var J=Ue[Q](O);J instanceof Object||Jh("Object expected"),y(J)}),1)}}),Y[Sd("iterator")]=()=>Y,g("next"),"throw"in Ue?g("throw"):Y.throw=Q=>{throw Q},"return"in Ue&&g("return"),Y};(self.webpackChunk=self.webpackChunk||[]).push([[54],{80882:function(Yt,Ue,c){"use strict";c.d(Ue,{Z:function(){return P}});var g=c(97460),Y=c(67294),Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},O=Q,y=c(92578),J=function(I,m){return Y.createElement(y.Z,(0,g.Z)({},I,{ref:m,icon:O}))},k=Y.forwardRef(J),P=k},49312:function(Yt,Ue,c){"use strict";c.d(Ue,{Z:function(){return D}});var g=c(42122),Y=c.n(g),Q=c(67294),O=c(50048);function y(f){return/^\d+$/.test(f)?"".concat(f,"px"):f}function J(){}var k=function(){return k=Object.assign||function(f){for(var v,L=1,h=arguments.length;L<h;L++){v=arguments[L];for(var R in v)Object.prototype.hasOwnProperty.call(v,R)&&(f[R]=v[R])}return f},k.apply(this,arguments)};function P(f){var v=f.width,L=f.height,h=f.value,R=f.defaultValue,T=f.language,W=f.theme,K=f.options,ie=f.overrideServices,ce=f.editorWillMount,_e=f.editorDidMount,ve=f.editorWillUnmount,De=f.onChange,le=f.className,Z=f.original,$=f.originalUri,G=f.modifiedUri,q=(0,Q.useRef)(null),p=(0,Q.useRef)(null),S=(0,Q.useRef)(null),B=(0,Q.useRef)(null),te=y(v),me=y(L),de=(0,Q.useMemo)(function(){return{width:te,height:me}},[te,me]),Pe=function(){var ht=ce(O);return ht||{}},Me=function(){_e(p.current,O);var ht=p.current.getModel().modified;S.current=ht.onDidChangeContent(function(Mt){B.current||De(ht.getValue(),Mt)})},nt=function(){ve(p.current,O)},It=function(){var ht=h!=null?h:R,Mt=$==null?void 0:$(O),it=G==null?void 0:G(O),kt=Mt&&O.editor.getModel(Mt),ze=it&&O.editor.getModel(it);kt?(kt.setValue(Z),O.editor.setModelLanguage(kt,T)):kt=O.editor.createModel(ht,T,Mt),ze?(kt.setValue(ht),O.editor.setModelLanguage(ze,T)):ze=O.editor.createModel(ht,T,it),p.current.setModel({original:kt,modified:ze})};return(0,Q.useEffect)(function(){q.current&&(Pe(),p.current=O.editor.createDiffEditor(q.current,k(k(k({},le?{extraEditorClassName:le}:{}),K),W?{theme:W}:{}),ie),It(),Me())},[]),(0,Q.useEffect)(function(){p.current&&p.current.updateOptions(k(k({},le?{extraEditorClassName:le}:{}),K))},[le,K]),(0,Q.useEffect)(function(){p.current&&p.current.layout()},[v,L]),(0,Q.useEffect)(function(){if(p.current){var ht=p.current.getModel(),Mt=ht.original,it=ht.modified;O.editor.setModelLanguage(Mt,T),O.editor.setModelLanguage(it,T)}},[T]),(0,Q.useEffect)(function(){if(p.current){var ht=p.current.getModel().modified;B.current=!0,p.current.getModifiedEditor().pushUndoStop(),ht.pushEditOperations([],[{range:ht.getFullModelRange(),text:h}]),p.current.getModifiedEditor().pushUndoStop(),B.current=!1}},[h]),(0,Q.useEffect)(function(){O.editor.setTheme(W)},[W]),(0,Q.useEffect)(function(){if(p.current){var ht=p.current.getModel().original;Z!==ht.getValue()&&ht.setValue(Z)}},[Z]),(0,Q.useEffect)(function(){return function(){if(p.current){nt(),p.current.dispose();var ht=p.current.getModel(),Mt=ht.original,it=ht.modified;Mt&&Mt.dispose(),it&&it.dispose()}S.current&&S.current.dispose()}},[]),Q.createElement("div",{ref:q,style:de,className:"react-monaco-editor-container"})}P.defaultProps={width:"100%",height:"100%",original:null,value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorWillMount:J,editorDidMount:J,editorWillUnmount:J,onChange:J,className:null},P.displayName="MonacoDiffEditor";var s=null,I=function(){return I=Object.assign||function(f){for(var v,L=1,h=arguments.length;L<h;L++){v=arguments[L];for(var R in v)Object.prototype.hasOwnProperty.call(v,R)&&(f[R]=v[R])}return f},I.apply(this,arguments)},m=function(f,v){var L={};for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&v.indexOf(h)<0&&(L[h]=f[h]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var R=0,h=Object.getOwnPropertySymbols(f);R<h.length;R++)v.indexOf(h[R])<0&&Object.prototype.propertyIsEnumerable.call(f,h[R])&&(L[h[R]]=f[h[R]]);return L};function C(f){var v=f.width,L=f.height,h=f.value,R=f.defaultValue,T=f.language,W=f.theme,K=f.options,ie=f.overrideServices,ce=f.editorWillMount,_e=f.editorDidMount,ve=f.editorWillUnmount,De=f.onChange,le=f.className,Z=f.uri,$=(0,Q.useRef)(null),G=(0,Q.useRef)(null),q=(0,Q.useRef)(null),p=(0,Q.useRef)(null),S=y(v),B=y(L),te=(0,Q.useMemo)(function(){return{width:S,height:B}},[S,B]),me=function(){var nt=ce(O);return nt||{}},de=function(){_e(G.current,O),q.current=G.current.onDidChangeModelContent(function(nt){p.current||De(G.current.getValue(),nt)})},Pe=function(){ve(G.current,O)},Me=function(){var nt=h!==null?h:R;if($.current){var It=I(I({},K),me()),ht=Z==null?void 0:Z(O),Mt=ht&&O.editor.getModel(ht);Mt?(Mt.setValue(nt),O.editor.setModelLanguage(Mt,T)):Mt=O.editor.createModel(nt,T,ht),G.current=O.editor.create($.current,I(I(I({model:Mt},le?{extraEditorClassName:le}:{}),It),W?{theme:W}:{}),ie),de()}};return(0,Q.useEffect)(Me,[]),(0,Q.useEffect)(function(){if(G.current){if(h===G.current.getValue())return;var nt=G.current.getModel();p.current=!0,G.current.pushUndoStop(),nt.pushEditOperations([],[{range:nt.getFullModelRange(),text:h}],void 0),G.current.pushUndoStop(),p.current=!1}},[h]),(0,Q.useEffect)(function(){if(G.current){var nt=G.current.getModel();O.editor.setModelLanguage(nt,T)}},[T]),(0,Q.useEffect)(function(){if(G.current){var nt=K.model,It=m(K,["model"]);G.current.updateOptions(I(I({},le?{extraEditorClassName:le}:{}),It))}},[le,K]),(0,Q.useEffect)(function(){G.current&&G.current.layout()},[v,L]),(0,Q.useEffect)(function(){O.editor.setTheme(W)},[W]),(0,Q.useEffect)(function(){return function(){G.current&&(Pe(),G.current.dispose()),q.current&&q.current.dispose()}},[]),Q.createElement("div",{ref:$,style:te,className:"react-monaco-editor-container"})}C.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorWillMount:J,editorDidMount:J,editorWillUnmount:J,onChange:J,className:null},C.displayName="MonacoEditor";var V=C,r={BiuCodeEditor:"BiuCodeEditor___OXbWR"},x=c(85893),w=function(v){var L=v.editorOption,h=L===void 0?{}:L,R=v.language,T=R===void 0?"javascript":R,W=v.theme,K=W===void 0?"vs-light":W,ie=v.code,ce=ie===void 0?"":ie,_e=v.onChange,ve=_e===void 0?function(){}:_e,De=Y()({selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!0,folding:!0,codeLens:!0},h),le=function($){$.focus()};return(0,x.jsx)("div",{className:r.BiuCodeEditor,children:(0,x.jsx)(V,{width:"100%",height:"100%",theme:K,language:T,value:ce,options:De,onChange:function($){return ve($)},editorDidMount:le})})},D=w},31285:function(){"use strict"},5520:function(){"use strict"},8745:function(Yt,Ue,c){"use strict";c.d(Ue,{i:function(){return y}});var g=c(67294),Y=c(21770),Q=c(83760),O=c(53124);function y(k){return P=>g.createElement(Q.ZP,{theme:{token:{motion:!1,zIndexPopupBase:0}}},g.createElement(k,Object.assign({},P)))}const J=(k,P,s,I,m)=>y(V=>{const{prefixCls:r,style:x}=V,w=g.useRef(null),[D,f]=g.useState(0),[v,L]=g.useState(0),[h,R]=(0,Y.Z)(!1,{value:V.open}),{getPrefixCls:T}=g.useContext(O.E_),W=T(I||"select",r);g.useEffect(()=>{if(R(!0),typeof ResizeObserver!="undefined"){const ce=new ResizeObserver(ve=>{const De=ve[0].target;f(De.offsetHeight+8),L(De.offsetWidth)}),_e=setInterval(()=>{var ve;const De=m?`.${m(W)}`:`.${W}-dropdown`,le=(ve=w.current)===null||ve===void 0?void 0:ve.querySelector(De);le&&(clearInterval(_e),ce.observe(le))},10);return()=>{clearInterval(_e),ce.disconnect()}}},[]);let K=Object.assign(Object.assign({},V),{style:Object.assign(Object.assign({},x),{margin:0}),open:h,visible:h,getPopupContainer:()=>w.current});s&&(K=s(K)),P&&Object.assign(K,{[P]:{overflow:{adjustX:!1,adjustY:!1}}});const ie={paddingBottom:D,position:"relative",minWidth:v};return g.createElement("div",{ref:w,style:ie},g.createElement(k,Object.assign({},K)))});Ue.Z=J},57838:function(Yt,Ue,c){"use strict";c.d(Ue,{Z:function(){return Y}});var g=c(67294);function Y(){const[,Q]=g.useReducer(O=>O+1,0);return Q}},74443:function(Yt,Ue,c){"use strict";c.d(Ue,{c4:function(){return Q}});var g=c(67294),Y=c(29691);const Q=["xxl","xl","lg","md","sm","xs"],O=P=>({xs:`(max-width: ${P.screenXSMax}px)`,sm:`(min-width: ${P.screenSM}px)`,md:`(min-width: ${P.screenMD}px)`,lg:`(min-width: ${P.screenLG}px)`,xl:`(min-width: ${P.screenXL}px)`,xxl:`(min-width: ${P.screenXXL}px)`}),y=P=>{const s=P,I=[].concat(Q).reverse();return I.forEach((m,C)=>{const V=m.toUpperCase(),r=`screen${V}Min`,x=`screen${V}`;if(!(s[r]<=s[x]))throw new Error(`${r}<=${x} fails : !(${s[r]}<=${s[x]})`);if(C<I.length-1){const w=`screen${V}Max`;if(!(s[x]<=s[w]))throw new Error(`${x}<=${w} fails : !(${s[x]}<=${s[w]})`);const f=`screen${I[C+1].toUpperCase()}Min`;if(!(s[w]<=s[f]))throw new Error(`${w}<=${f} fails : !(${s[w]}<=${s[f]})`)}}),P},J=(P,s)=>{if(s){for(const I of Q)if(P[I]&&(s==null?void 0:s[I])!==void 0)return s[I]}},k=()=>{const[,P]=(0,Y.ZP)(),s=O(y(P));return g.useMemo(()=>{const I=new Map;let m=-1,C={};return{responsiveMap:s,matchHandlers:{},dispatch(V){return C=V,I.forEach(r=>r(C)),I.size>=1},subscribe(V){return I.size||this.register(),m+=1,I.set(m,V),V(C),m},unsubscribe(V){I.delete(V),I.size||this.unregister()},register(){Object.keys(s).forEach(V=>{const r=s[V],x=D=>{let{matches:f}=D;this.dispatch(Object.assign(Object.assign({},C),{[V]:f}))},w=window.matchMedia(r);w.addListener(x),this.matchHandlers[r]={mql:w,listener:x},x(w)})},unregister(){Object.keys(s).forEach(V=>{const r=s[V],x=this.matchHandlers[r];x==null||x.mql.removeListener(x==null?void 0:x.listener)}),I.clear()}}},[P])};Ue.ZP=k},88258:function(Yt,Ue,c){"use strict";var g=c(67294),Y=c(53124),Q=c(32983);const O=y=>{const{componentName:J}=y,{getPrefixCls:k}=(0,g.useContext)(Y.E_),P=k("empty");switch(J){case"Table":case"List":return g.createElement(Q.Z,{image:Q.Z.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return g.createElement(Q.Z,{image:Q.Z.PRESENTED_IMAGE_SIMPLE,className:`${P}-small`});case"Table.filter":return null;default:return g.createElement(Q.Z,null)}};Ue.Z=O},32983:function(Yt,Ue,c){"use strict";c.d(Ue,{Z:function(){return L}});var g=c(67294),Y=c(93967),Q=c.n(Y),O=c(10110),y=c(24327),J=c(29691),P=()=>{const[,h]=(0,J.ZP)(),[R]=(0,O.Z)("Empty"),W=new y.t(h.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return g.createElement("svg",{style:W,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},g.createElement("title",null,(R==null?void 0:R.description)||"Empty"),g.createElement("g",{fill:"none",fillRule:"evenodd"},g.createElement("g",{transform:"translate(24 31.67)"},g.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),g.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),g.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),g.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),g.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),g.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),g.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},g.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),g.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},I=()=>{const[,h]=(0,J.ZP)(),[R]=(0,O.Z)("Empty"),{colorFill:T,colorFillTertiary:W,colorFillQuaternary:K,colorBgContainer:ie}=h,{borderColor:ce,shadowColor:_e,contentColor:ve}=(0,g.useMemo)(()=>({borderColor:new y.t(T).onBackground(ie).toHexString(),shadowColor:new y.t(W).onBackground(ie).toHexString(),contentColor:new y.t(K).onBackground(ie).toHexString()}),[T,W,K,ie]);return g.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},g.createElement("title",null,(R==null?void 0:R.description)||"Empty"),g.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},g.createElement("ellipse",{fill:_e,cx:"32",cy:"33",rx:"32",ry:"7"}),g.createElement("g",{fillRule:"nonzero",stroke:ce},g.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),g.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:ve}))))},m=c(83559),C=c(83262);const V=h=>{const{componentCls:R,margin:T,marginXS:W,marginXL:K,fontSize:ie,lineHeight:ce}=h;return{[R]:{marginInline:W,fontSize:ie,lineHeight:ce,textAlign:"center",[`${R}-image`]:{height:h.emptyImgHeight,marginBottom:W,opacity:h.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${R}-description`]:{color:h.colorTextDescription},[`${R}-footer`]:{marginTop:T},"&-normal":{marginBlock:K,color:h.colorTextDescription,[`${R}-description`]:{color:h.colorTextDescription},[`${R}-image`]:{height:h.emptyImgHeightMD}},"&-small":{marginBlock:W,color:h.colorTextDescription,[`${R}-image`]:{height:h.emptyImgHeightSM}}}}};var r=(0,m.I$)("Empty",h=>{const{componentCls:R,controlHeightLG:T,calc:W}=h,K=(0,C.IX)(h,{emptyImgCls:`${R}-img`,emptyImgHeight:W(T).mul(2.5).equal(),emptyImgHeightMD:T,emptyImgHeightSM:W(T).mul(.875).equal()});return[V(K)]}),x=c(53124),w=function(h,R){var T={};for(var W in h)Object.prototype.hasOwnProperty.call(h,W)&&R.indexOf(W)<0&&(T[W]=h[W]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,W=Object.getOwnPropertySymbols(h);K<W.length;K++)R.indexOf(W[K])<0&&Object.prototype.propertyIsEnumerable.call(h,W[K])&&(T[W[K]]=h[W[K]]);return T};const D=g.createElement(P,null),f=g.createElement(I,null),v=h=>{const{className:R,rootClassName:T,prefixCls:W,image:K=D,description:ie,children:ce,imageStyle:_e,style:ve,classNames:De,styles:le}=h,Z=w(h,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:$,direction:G,className:q,style:p,classNames:S,styles:B}=(0,x.dj)("empty"),te=$("empty",W),[me,de,Pe]=r(te),[Me]=(0,O.Z)("Empty"),nt=typeof ie!="undefined"?ie:Me==null?void 0:Me.description,It=typeof nt=="string"?nt:"empty";let ht=null;return typeof K=="string"?ht=g.createElement("img",{alt:It,src:K}):ht=K,me(g.createElement("div",Object.assign({className:Q()(de,Pe,te,q,{[`${te}-normal`]:K===f,[`${te}-rtl`]:G==="rtl"},R,T,S.root,De==null?void 0:De.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},B.root),p),le==null?void 0:le.root),ve)},Z),g.createElement("div",{className:Q()(`${te}-image`,S.image,De==null?void 0:De.image),style:Object.assign(Object.assign(Object.assign({},_e),B.image),le==null?void 0:le.image)},ht),nt&&g.createElement("div",{className:Q()(`${te}-description`,S.description,De==null?void 0:De.description),style:Object.assign(Object.assign({},B.description),le==null?void 0:le.description)},nt),ce&&g.createElement("div",{className:Q()(`${te}-footer`,S.footer,De==null?void 0:De.footer),style:Object.assign(Object.assign({},B.footer),le==null?void 0:le.footer)},ce)))};v.PRESENTED_IMAGE_DEFAULT=D,v.PRESENTED_IMAGE_SIMPLE=f;var L=v},25378:function(Yt,Ue,c){"use strict";var g=c(67294),Y=c(8410),Q=c(57838),O=c(74443);function y(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const P=(0,g.useRef)(k),s=(0,Q.Z)(),I=(0,O.ZP)();return(0,Y.Z)(()=>{const m=I.subscribe(C=>{P.current=C,J&&s()});return()=>I.unsubscribe(m)},[]),P.current}Ue.Z=y},10110:function(Yt,Ue,c){"use strict";var g=c(67294),Y=c(76745),Q=c(88526);const O=(y,J)=>{const k=g.useContext(Y.Z),P=g.useMemo(()=>{var I;const m=J||Q.Z[y],C=(I=k==null?void 0:k[y])!==null&&I!==void 0?I:{};return Object.assign(Object.assign({},typeof m=="function"?m():m),C||{})},[y,J,k]),s=g.useMemo(()=>{const I=k==null?void 0:k.locale;return k!=null&&k.exist&&!I?Q.Z.locale:I},[k]);return[P,s]};Ue.Z=O},40290:function(Yt,Ue,c){"use strict";c.d(Ue,{Z:function(){return aa}});var g=c(67294),Y=c(97460),Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},O=Q,y=c(92578),J=function(xe,Ft){return g.createElement(y.Z,(0,Y.Z)({},xe,{ref:Ft,icon:O}))},k=g.forwardRef(J),P=k,s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},I=s,m=function(xe,Ft){return g.createElement(y.Z,(0,Y.Z)({},xe,{ref:Ft,icon:I}))},C=g.forwardRef(m),V=C,r=c(6171),x=c(90814),w=c(93967),D=c.n(w),f=c(4942),v=c(87462),L=c(71002),h=c(1413),R=c(97685),T=c(21770),W=c(15105),K=c(64217),ie=c(80334),ce=c(81626),_e=[10,20,50,100],ve=function(xe){var Ft=xe.pageSizeOptions,jt=Ft===void 0?_e:Ft,Ci=xe.locale,Ki=xe.changeSize,Ni=xe.pageSize,cn=xe.goButton,mn=xe.quickGo,Kn=xe.rootPrefixCls,Nn=xe.disabled,vn=xe.buildOptionText,_s=xe.showSizeChanger,pn=xe.sizeChangerRender,cs=g.useState(""),Qn=(0,R.Z)(cs,2),Rn=Qn[0],Ss=Qn[1],Gs=function(){return!Rn||Number.isNaN(Rn)?void 0:Number(Rn)},As=typeof vn=="function"?vn:function(Wi){return"".concat(Wi," ").concat(Ci.items_per_page)},xs=function(Fn){Ss(Fn.target.value)},ls=function(Fn){cn||Rn===""||(Ss(""),!(Fn.relatedTarget&&(Fn.relatedTarget.className.indexOf("".concat(Kn,"-item-link"))>=0||Fn.relatedTarget.className.indexOf("".concat(Kn,"-item"))>=0))&&(mn==null||mn(Gs())))},Xn=function(Fn){Rn!==""&&(Fn.keyCode===W.Z.ENTER||Fn.type==="click")&&(Ss(""),mn==null||mn(Gs()))},Vs=function(){return jt.some(function(Fn){return Fn.toString()===Ni.toString()})?jt:jt.concat([Ni]).sort(function(Fn,Fs){var Os=Number.isNaN(Number(Fn))?0:Number(Fn),fo=Number.isNaN(Number(Fs))?0:Number(Fs);return Os-fo})},jn="".concat(Kn,"-options");if(!_s&&!mn)return null;var ys=null,Ps=null,Ns=null;return _s&&pn&&(ys=pn({disabled:Nn,size:Ni,onSizeChange:function(Fn){Ki==null||Ki(Number(Fn))},"aria-label":Ci.page_size,className:"".concat(jn,"-size-changer"),options:Vs().map(function(Wi){return{label:As(Wi),value:Wi}})})),mn&&(cn&&(Ns=typeof cn=="boolean"?g.createElement("button",{type:"button",onClick:Xn,onKeyUp:Xn,disabled:Nn,className:"".concat(jn,"-quick-jumper-button")},Ci.jump_to_confirm):g.createElement("span",{onClick:Xn,onKeyUp:Xn},cn)),Ps=g.createElement("div",{className:"".concat(jn,"-quick-jumper")},Ci.jump_to,g.createElement("input",{disabled:Nn,type:"text",value:Rn,onChange:xs,onKeyUp:Xn,onBlur:ls,"aria-label":Ci.page}),Ci.page,Ns)),g.createElement("li",{className:jn},ys,Ps)},De=ve,le=function(xe){var Ft=xe.rootPrefixCls,jt=xe.page,Ci=xe.active,Ki=xe.className,Ni=xe.showTitle,cn=xe.onClick,mn=xe.onKeyPress,Kn=xe.itemRender,Nn="".concat(Ft,"-item"),vn=D()(Nn,"".concat(Nn,"-").concat(jt),(0,f.Z)((0,f.Z)({},"".concat(Nn,"-active"),Ci),"".concat(Nn,"-disabled"),!jt),Ki),_s=function(){cn(jt)},pn=function(Rn){mn(Rn,cn,jt)},cs=Kn(jt,"page",g.createElement("a",{rel:"nofollow"},jt));return cs?g.createElement("li",{title:Ni?String(jt):null,className:vn,onClick:_s,onKeyDown:pn,tabIndex:0},cs):null},Z=le,$=function(xe,Ft,jt){return jt};function G(){}function q(ae){var xe=Number(ae);return typeof xe=="number"&&!Number.isNaN(xe)&&isFinite(xe)&&Math.floor(xe)===xe}function p(ae,xe,Ft){var jt=typeof ae=="undefined"?xe:ae;return Math.floor((Ft-1)/jt)+1}var S=function(xe){var Ft=xe.prefixCls,jt=Ft===void 0?"rc-pagination":Ft,Ci=xe.selectPrefixCls,Ki=Ci===void 0?"rc-select":Ci,Ni=xe.className,cn=xe.current,mn=xe.defaultCurrent,Kn=mn===void 0?1:mn,Nn=xe.total,vn=Nn===void 0?0:Nn,_s=xe.pageSize,pn=xe.defaultPageSize,cs=pn===void 0?10:pn,Qn=xe.onChange,Rn=Qn===void 0?G:Qn,Ss=xe.hideOnSinglePage,Gs=xe.align,As=xe.showPrevNextJumpers,xs=As===void 0?!0:As,ls=xe.showQuickJumper,Xn=xe.showLessItems,Vs=xe.showTitle,jn=Vs===void 0?!0:Vs,ys=xe.onShowSizeChange,Ps=ys===void 0?G:ys,Ns=xe.locale,Wi=Ns===void 0?ce.Z:Ns,Fn=xe.style,Fs=xe.totalBoundaryShowSizeChanger,Os=Fs===void 0?50:Fs,fo=xe.disabled,yo=xe.simple,No=xe.showTotal,Js=xe.showSizeChanger,ms=Js===void 0?vn>Os:Js,Ds=xe.sizeChangerRender,To=xe.pageSizeOptions,Ko=xe.itemRender,_o=Ko===void 0?$:Ko,Po=xe.jumpPrevIcon,ro=xe.jumpNextIcon,Co=xe.prevIcon,hr=xe.nextIcon,Qo=g.useRef(null),Bo=(0,T.Z)(10,{value:_s,defaultValue:cs}),fs=(0,R.Z)(Bo,2),Hn=fs[0],Ts=fs[1],$s=(0,T.Z)(1,{value:cn,defaultValue:Kn,postState:function(qs){return Math.max(1,Math.min(qs,p(void 0,Hn,vn)))}}),$n=(0,R.Z)($s,2),On=$n[0],Zs=$n[1],go=g.useState(On),eo=(0,R.Z)(go,2),Ro=eo[0],er=eo[1];(0,g.useEffect)(function(){er(On)},[On]);var fr=Rn!==G,Zo="current"in xe,Lo=Math.max(1,On-(Xn?3:5)),or=Math.min(p(void 0,Hn,vn),On+(Xn?3:5));function _r(Es,qs){var zo=Es||g.createElement("button",{type:"button","aria-label":qs,className:"".concat(jt,"-item-link")});return typeof Es=="function"&&(zo=g.createElement(Es,(0,h.Z)({},xe))),zo}function Xo(Es){var qs=Es.target.value,zo=p(void 0,Hn,vn),Dr;return qs===""?Dr=qs:Number.isNaN(Number(qs))?Dr=Ro:qs>=zo?Dr=zo:Dr=Number(qs),Dr}function Wo(Es){return q(Es)&&Es!==On&&q(vn)&&vn>0}var rr=vn>Hn?ls:!1;function ko(Es){(Es.keyCode===W.Z.UP||Es.keyCode===W.Z.DOWN)&&Es.preventDefault()}function ar(Es){var qs=Xo(Es);switch(qs!==Ro&&er(qs),Es.keyCode){case W.Z.ENTER:Do(qs);break;case W.Z.UP:Do(qs-1);break;case W.Z.DOWN:Do(qs+1);break;default:break}}function vr(Es){Do(Xo(Es))}function tr(Es){var qs=p(Es,Hn,vn),zo=On>qs&&qs!==0?qs:On;Ts(Es),er(zo),Ps==null||Ps(On,Es),Zs(zo),Rn==null||Rn(zo,Es)}function Do(Es){if(Wo(Es)&&!fo){var qs=p(void 0,Hn,vn),zo=Es;return Es>qs?zo=qs:Es<1&&(zo=1),zo!==Ro&&er(zo),Zs(zo),Rn==null||Rn(zo,Hn),zo}return On}var mo=On>1,ir=On<p(void 0,Hn,vn);function gr(){mo&&Do(On-1)}function mr(){ir&&Do(On+1)}function Go(){Do(Lo)}function Vr(){Do(or)}function Yo(Es,qs){if(Es.key==="Enter"||Es.charCode===W.Z.ENTER||Es.keyCode===W.Z.ENTER){for(var zo=arguments.length,Dr=new Array(zo>2?zo-2:0),jr=2;jr<zo;jr++)Dr[jr-2]=arguments[jr];qs.apply(void 0,Dr)}}function pt(Es){Yo(Es,gr)}function e(Es){Yo(Es,mr)}function n(Es){Yo(Es,Go)}function a(Es){Yo(Es,Vr)}function b(Es){var qs=_o(Es,"prev",_r(Co,"prev page"));return g.isValidElement(qs)?g.cloneElement(qs,{disabled:!mo}):qs}function M(Es){var qs=_o(Es,"next",_r(hr,"next page"));return g.isValidElement(qs)?g.cloneElement(qs,{disabled:!ir}):qs}function j(Es){(Es.type==="click"||Es.keyCode===W.Z.ENTER)&&Do(Ro)}var ee=null,ue=(0,K.Z)(xe,{aria:!0,data:!0}),ye=No&&g.createElement("li",{className:"".concat(jt,"-total-text")},No(vn,[vn===0?0:(On-1)*Hn+1,On*Hn>vn?vn:On*Hn])),Te=null,Ae=p(void 0,Hn,vn);if(Ss&&vn<=Hn)return null;var ot=[],qe={rootPrefixCls:jt,onClick:Do,onKeyPress:Yo,showTitle:jn,itemRender:_o,page:-1},Et=On-1>0?On-1:0,Ht=On+1<Ae?On+1:Ae,ri=ls&&ls.goButton,_i=(0,L.Z)(yo)==="object"?yo.readOnly:!yo,Ii=ri,bi=null;yo&&(ri&&(typeof ri=="boolean"?Ii=g.createElement("button",{type:"button",onClick:j,onKeyUp:j},Wi.jump_to_confirm):Ii=g.createElement("span",{onClick:j,onKeyUp:j},ri),Ii=g.createElement("li",{title:jn?"".concat(Wi.jump_to).concat(On,"/").concat(Ae):null,className:"".concat(jt,"-simple-pager")},Ii)),bi=g.createElement("li",{title:jn?"".concat(On,"/").concat(Ae):null,className:"".concat(jt,"-simple-pager")},_i?Ro:g.createElement("input",{type:"text","aria-label":Wi.jump_to,value:Ro,disabled:fo,onKeyDown:ko,onKeyUp:ar,onChange:ar,onBlur:vr,size:3}),g.createElement("span",{className:"".concat(jt,"-slash")},"/"),Ae));var fn=Xn?1:2;if(Ae<=3+fn*2){Ae||ot.push(g.createElement(Z,(0,v.Z)({},qe,{key:"noPager",page:1,className:"".concat(jt,"-item-disabled")})));for(var an=1;an<=Ae;an+=1)ot.push(g.createElement(Z,(0,v.Z)({},qe,{key:an,page:an,active:On===an})))}else{var zn=Xn?Wi.prev_3:Wi.prev_5,kn=Xn?Wi.next_3:Wi.next_5,sn=_o(Lo,"jump-prev",_r(Po,"prev page")),_n=_o(or,"jump-next",_r(ro,"next page"));xs&&(ee=sn?g.createElement("li",{title:jn?zn:null,key:"prev",onClick:Go,tabIndex:0,onKeyDown:n,className:D()("".concat(jt,"-jump-prev"),(0,f.Z)({},"".concat(jt,"-jump-prev-custom-icon"),!!Po))},sn):null,Te=_n?g.createElement("li",{title:jn?kn:null,key:"next",onClick:Vr,tabIndex:0,onKeyDown:a,className:D()("".concat(jt,"-jump-next"),(0,f.Z)({},"".concat(jt,"-jump-next-custom-icon"),!!ro))},_n):null);var In=Math.max(1,On-fn),Jn=Math.min(On+fn,Ae);On-1<=fn&&(Jn=1+fn*2),Ae-On<=fn&&(In=Ae-fn*2);for(var po=In;po<=Jn;po+=1)ot.push(g.createElement(Z,(0,v.Z)({},qe,{key:po,page:po,active:On===po})));if(On-1>=fn*2&&On!==3&&(ot[0]=g.cloneElement(ot[0],{className:D()("".concat(jt,"-item-after-jump-prev"),ot[0].props.className)}),ot.unshift(ee)),Ae-On>=fn*2&&On!==Ae-2){var ao=ot[ot.length-1];ot[ot.length-1]=g.cloneElement(ao,{className:D()("".concat(jt,"-item-before-jump-next"),ao.props.className)}),ot.push(Te)}In!==1&&ot.unshift(g.createElement(Z,(0,v.Z)({},qe,{key:1,page:1}))),Jn!==Ae&&ot.push(g.createElement(Z,(0,v.Z)({},qe,{key:Ae,page:Ae})))}var lo=b(Et);if(lo){var Bs=!mo||!Ae;lo=g.createElement("li",{title:jn?Wi.prev_page:null,onClick:gr,tabIndex:Bs?null:0,onKeyDown:pt,className:D()("".concat(jt,"-prev"),(0,f.Z)({},"".concat(jt,"-disabled"),Bs)),"aria-disabled":Bs},lo)}var Vo=M(Ht);if(Vo){var Ao,Ho;yo?(Ao=!ir,Ho=mo?0:null):(Ao=!ir||!Ae,Ho=Ao?null:0),Vo=g.createElement("li",{title:jn?Wi.next_page:null,onClick:mr,tabIndex:Ho,onKeyDown:e,className:D()("".concat(jt,"-next"),(0,f.Z)({},"".concat(jt,"-disabled"),Ao)),"aria-disabled":Ao},Vo)}var Jo=D()(jt,Ni,(0,f.Z)((0,f.Z)((0,f.Z)((0,f.Z)((0,f.Z)({},"".concat(jt,"-start"),Gs==="start"),"".concat(jt,"-center"),Gs==="center"),"".concat(jt,"-end"),Gs==="end"),"".concat(jt,"-simple"),yo),"".concat(jt,"-disabled"),fo));return g.createElement("ul",(0,v.Z)({className:Jo,style:Fn,ref:Qo},ue),ye,lo,yo?bi:ot,Vo,g.createElement(De,{locale:Wi,rootPrefixCls:jt,disabled:fo,selectPrefixCls:Ki,changeSize:tr,pageSize:Hn,pageSizeOptions:To,quickGo:rr?Do:null,goButton:Ii,showSizeChanger:ms,sizeChangerRender:Ds}))},B=S,te=c(62906),me=c(53124),de=c(98675),Pe=c(25378),Me=c(10110),nt=c(74902),It=c(91),ht=c(8410),Mt=c(31131),it=c(42550),kt=function(xe){var Ft=xe.className,jt=xe.customizeIcon,Ci=xe.customizeIconProps,Ki=xe.children,Ni=xe.onMouseDown,cn=xe.onClick,mn=typeof jt=="function"?jt(Ci):jt;return g.createElement("span",{className:Ft,onMouseDown:function(Nn){Nn.preventDefault(),Ni==null||Ni(Nn)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:cn,"aria-hidden":!0},mn!==void 0?mn:g.createElement("span",{className:D()(Ft.split(/\s+/).map(function(Kn){return"".concat(Kn,"-icon")}))},Ki))},ze=kt,he=function(xe,Ft,jt,Ci,Ki){var Ni=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,cn=arguments.length>6?arguments[6]:void 0,mn=arguments.length>7?arguments[7]:void 0,Kn=g.useMemo(function(){if((0,L.Z)(Ci)==="object")return Ci.clearIcon;if(Ki)return Ki},[Ci,Ki]),Nn=g.useMemo(function(){return!!(!Ni&&Ci&&(jt.length||cn)&&!(mn==="combobox"&&cn===""))},[Ci,Ni,jt.length,cn,mn]);return{allowClear:Nn,clearIcon:g.createElement(ze,{className:"".concat(xe,"-clear"),onMouseDown:Ft,customizeIcon:Kn},"\xD7")}},ke=g.createContext(null);function et(){return g.useContext(ke)}function at(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,xe=g.useState(!1),Ft=(0,R.Z)(xe,2),jt=Ft[0],Ci=Ft[1],Ki=g.useRef(null),Ni=function(){window.clearTimeout(Ki.current)};g.useEffect(function(){return Ni},[]);var cn=function(Kn,Nn){Ni(),Ki.current=window.setTimeout(function(){Ci(Kn),Nn&&Nn()},ae)};return[jt,cn,Ni]}function rt(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,xe=g.useRef(null),Ft=g.useRef(null);g.useEffect(function(){return function(){window.clearTimeout(Ft.current)}},[]);function jt(Ci){(Ci||xe.current===null)&&(xe.current=Ci),window.clearTimeout(Ft.current),Ft.current=window.setTimeout(function(){xe.current=null},ae)}return[function(){return xe.current},jt]}function Ne(ae,xe,Ft,jt){var Ci=g.useRef(null);Ci.current={open:xe,triggerOpen:Ft,customizedTrigger:jt},g.useEffect(function(){function Ki(Ni){var cn;if(!((cn=Ci.current)!==null&&cn!==void 0&&cn.customizedTrigger)){var mn=Ni.target;mn.shadowRoot&&Ni.composed&&(mn=Ni.composedPath()[0]||mn),Ci.current.open&&ae().filter(function(Kn){return Kn}).every(function(Kn){return!Kn.contains(mn)&&Kn!==mn})&&Ci.current.triggerOpen(!1)}}return window.addEventListener("mousedown",Ki),function(){return window.removeEventListener("mousedown",Ki)}},[])}function Oe(ae){return ae&&![W.Z.ESC,W.Z.SHIFT,W.Z.BACKSPACE,W.Z.TAB,W.Z.WIN_KEY,W.Z.ALT,W.Z.META,W.Z.WIN_KEY_RIGHT,W.Z.CTRL,W.Z.SEMICOLON,W.Z.EQUALS,W.Z.CAPS_LOCK,W.Z.CONTEXT_MENU,W.Z.F1,W.Z.F2,W.Z.F3,W.Z.F4,W.Z.F5,W.Z.F6,W.Z.F7,W.Z.F8,W.Z.F9,W.Z.F10,W.Z.F11,W.Z.F12].includes(ae)}var we=c(39983),Ye=function(xe,Ft){var jt,Ci=xe.prefixCls,Ki=xe.id,Ni=xe.inputElement,cn=xe.disabled,mn=xe.tabIndex,Kn=xe.autoFocus,Nn=xe.autoComplete,vn=xe.editable,_s=xe.activeDescendantId,pn=xe.value,cs=xe.maxLength,Qn=xe.onKeyDown,Rn=xe.onMouseDown,Ss=xe.onChange,Gs=xe.onPaste,As=xe.onCompositionStart,xs=xe.onCompositionEnd,ls=xe.onBlur,Xn=xe.open,Vs=xe.attrs,jn=Ni||g.createElement("input",null),ys=jn,Ps=ys.ref,Ns=ys.props,Wi=Ns.onKeyDown,Fn=Ns.onChange,Fs=Ns.onMouseDown,Os=Ns.onCompositionStart,fo=Ns.onCompositionEnd,yo=Ns.onBlur,No=Ns.style;return(0,ie.Kp)(!("maxLength"in jn.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),jn=g.cloneElement(jn,(0,h.Z)((0,h.Z)((0,h.Z)({type:"search"},Ns),{},{id:Ki,ref:(0,it.sQ)(Ft,Ps),disabled:cn,tabIndex:mn,autoComplete:Nn||"off",autoFocus:Kn,className:D()("".concat(Ci,"-selection-search-input"),(jt=jn)===null||jt===void 0||(jt=jt.props)===null||jt===void 0?void 0:jt.className),role:"combobox","aria-expanded":Xn||!1,"aria-haspopup":"listbox","aria-owns":"".concat(Ki,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(Ki,"_list"),"aria-activedescendant":Xn?_s:void 0},Vs),{},{value:vn?pn:"",maxLength:cs,readOnly:!vn,unselectable:vn?null:"on",style:(0,h.Z)((0,h.Z)({},No),{},{opacity:vn?null:0}),onKeyDown:function(ms){Qn(ms),Wi&&Wi(ms)},onMouseDown:function(ms){Rn(ms),Fs&&Fs(ms)},onChange:function(ms){Ss(ms),Fn&&Fn(ms)},onCompositionStart:function(ms){As(ms),Os&&Os(ms)},onCompositionEnd:function(ms){xs(ms),fo&&fo(ms)},onPaste:Gs,onBlur:function(ms){ls(ms),yo&&yo(ms)}})),jn},st=g.forwardRef(Ye),Pt=st;function Qt(ae){return Array.isArray(ae)?ae:ae!==void 0?[ae]:[]}var ci=typeof window!="undefined"&&window.document&&window.document.documentElement,Gt=ci;function Lt(ae){return ae!=null}function Ai(ae){return!ae&&ae!==0}function oi(ae){return["string","number"].includes((0,L.Z)(ae))}function $e(ae){var xe=void 0;return ae&&(oi(ae.title)?xe=ae.title.toString():oi(ae.label)&&(xe=ae.label.toString())),xe}function Xe(ae,xe){Gt?g.useLayoutEffect(ae,xe):g.useEffect(ae,xe)}function wi(ae){var xe;return(xe=ae.key)!==null&&xe!==void 0?xe:ae.value}var ii=function(xe){xe.preventDefault(),xe.stopPropagation()},Ui=function(xe){var Ft=xe.id,jt=xe.prefixCls,Ci=xe.values,Ki=xe.open,Ni=xe.searchValue,cn=xe.autoClearSearchValue,mn=xe.inputRef,Kn=xe.placeholder,Nn=xe.disabled,vn=xe.mode,_s=xe.showSearch,pn=xe.autoFocus,cs=xe.autoComplete,Qn=xe.activeDescendantId,Rn=xe.tabIndex,Ss=xe.removeIcon,Gs=xe.maxTagCount,As=xe.maxTagTextLength,xs=xe.maxTagPlaceholder,ls=xs===void 0?function($s){return"+ ".concat($s.length," ...")}:xs,Xn=xe.tagRender,Vs=xe.onToggleOpen,jn=xe.onRemove,ys=xe.onInputChange,Ps=xe.onInputPaste,Ns=xe.onInputKeyDown,Wi=xe.onInputMouseDown,Fn=xe.onInputCompositionStart,Fs=xe.onInputCompositionEnd,Os=xe.onInputBlur,fo=g.useRef(null),yo=(0,g.useState)(0),No=(0,R.Z)(yo,2),Js=No[0],ms=No[1],Ds=(0,g.useState)(!1),To=(0,R.Z)(Ds,2),Ko=To[0],_o=To[1],Po="".concat(jt,"-selection"),ro=Ki||vn==="multiple"&&cn===!1||vn==="tags"?Ni:"",Co=vn==="tags"||vn==="multiple"&&cn===!1||_s&&(Ki||Ko);Xe(function(){ms(fo.current.scrollWidth)},[ro]);var hr=function($n,On,Zs,go,eo){return g.createElement("span",{title:$e($n),className:D()("".concat(Po,"-item"),(0,f.Z)({},"".concat(Po,"-item-disabled"),Zs))},g.createElement("span",{className:"".concat(Po,"-item-content")},On),go&&g.createElement(ze,{className:"".concat(Po,"-item-remove"),onMouseDown:ii,onClick:eo,customizeIcon:Ss},"\xD7"))},Qo=function($n,On,Zs,go,eo,Ro){var er=function(Zo){ii(Zo),Vs(!Ki)};return g.createElement("span",{onMouseDown:er},Xn({label:On,value:$n,disabled:Zs,closable:go,onClose:eo,isMaxTag:!!Ro}))},Bo=function($n){var On=$n.disabled,Zs=$n.label,go=$n.value,eo=!Nn&&!On,Ro=Zs;if(typeof As=="number"&&(typeof Zs=="string"||typeof Zs=="number")){var er=String(Ro);er.length>As&&(Ro="".concat(er.slice(0,As),"..."))}var fr=function(Lo){Lo&&Lo.stopPropagation(),jn($n)};return typeof Xn=="function"?Qo(go,Ro,On,eo,fr):hr($n,Ro,On,eo,fr)},fs=function($n){if(!Ci.length)return null;var On=typeof ls=="function"?ls($n):ls;return typeof Xn=="function"?Qo(void 0,On,!1,!1,void 0,!0):hr({title:On},On,!1)},Hn=g.createElement("div",{className:"".concat(Po,"-search"),style:{width:Js},onFocus:function(){_o(!0)},onBlur:function(){_o(!1)}},g.createElement(Pt,{ref:mn,open:Ki,prefixCls:jt,id:Ft,inputElement:null,disabled:Nn,autoFocus:pn,autoComplete:cs,editable:Co,activeDescendantId:Qn,value:ro,onKeyDown:Ns,onMouseDown:Wi,onChange:ys,onPaste:Ps,onCompositionStart:Fn,onCompositionEnd:Fs,onBlur:Os,tabIndex:Rn,attrs:(0,K.Z)(xe,!0)}),g.createElement("span",{ref:fo,className:"".concat(Po,"-search-mirror"),"aria-hidden":!0},ro,"\xA0")),Ts=g.createElement(we.Z,{prefixCls:"".concat(Po,"-overflow"),data:Ci,renderItem:Bo,renderRest:fs,suffix:Hn,itemKey:wi,maxCount:Gs});return g.createElement("span",{className:"".concat(Po,"-wrap")},Ts,!Ci.length&&!ro&&g.createElement("span",{className:"".concat(Po,"-placeholder")},Kn))},Mn=Ui,Ri=function(xe){var Ft=xe.inputElement,jt=xe.prefixCls,Ci=xe.id,Ki=xe.inputRef,Ni=xe.disabled,cn=xe.autoFocus,mn=xe.autoComplete,Kn=xe.activeDescendantId,Nn=xe.mode,vn=xe.open,_s=xe.values,pn=xe.placeholder,cs=xe.tabIndex,Qn=xe.showSearch,Rn=xe.searchValue,Ss=xe.activeValue,Gs=xe.maxLength,As=xe.onInputKeyDown,xs=xe.onInputMouseDown,ls=xe.onInputChange,Xn=xe.onInputPaste,Vs=xe.onInputCompositionStart,jn=xe.onInputCompositionEnd,ys=xe.onInputBlur,Ps=xe.title,Ns=g.useState(!1),Wi=(0,R.Z)(Ns,2),Fn=Wi[0],Fs=Wi[1],Os=Nn==="combobox",fo=Os||Qn,yo=_s[0],No=Rn||"";Os&&Ss&&!Fn&&(No=Ss),g.useEffect(function(){Os&&Fs(!1)},[Os,Ss]);var Js=Nn!=="combobox"&&!vn&&!Qn?!1:!!No,ms=Ps===void 0?$e(yo):Ps,Ds=g.useMemo(function(){return yo?null:g.createElement("span",{className:"".concat(jt,"-selection-placeholder"),style:Js?{visibility:"hidden"}:void 0},pn)},[yo,Js,pn,jt]);return g.createElement("span",{className:"".concat(jt,"-selection-wrap")},g.createElement("span",{className:"".concat(jt,"-selection-search")},g.createElement(Pt,{ref:Ki,prefixCls:jt,id:Ci,open:vn,inputElement:Ft,disabled:Ni,autoFocus:cn,autoComplete:mn,editable:fo,activeDescendantId:Kn,value:No,onKeyDown:As,onMouseDown:xs,onChange:function(Ko){Fs(!0),ls(Ko)},onPaste:Xn,onCompositionStart:Vs,onCompositionEnd:jn,onBlur:ys,tabIndex:cs,attrs:(0,K.Z)(xe,!0),maxLength:Os?Gs:void 0})),!Os&&yo?g.createElement("span",{className:"".concat(jt,"-selection-item"),title:ms,style:Js?{visibility:"hidden"}:void 0},yo.label):null,Ds)},ps=Ri,Zn=function(xe,Ft){var jt=(0,g.useRef)(null),Ci=(0,g.useRef)(!1),Ki=xe.prefixCls,Ni=xe.open,cn=xe.mode,mn=xe.showSearch,Kn=xe.tokenWithEnter,Nn=xe.disabled,vn=xe.prefix,_s=xe.autoClearSearchValue,pn=xe.onSearch,cs=xe.onSearchSubmit,Qn=xe.onToggleOpen,Rn=xe.onInputKeyDown,Ss=xe.onInputBlur,Gs=xe.domRef;g.useImperativeHandle(Ft,function(){return{focus:function(ms){jt.current.focus(ms)},blur:function(){jt.current.blur()}}});var As=rt(0),xs=(0,R.Z)(As,2),ls=xs[0],Xn=xs[1],Vs=function(ms){var Ds=ms.which,To=jt.current instanceof HTMLTextAreaElement;!To&&Ni&&(Ds===W.Z.UP||Ds===W.Z.DOWN)&&ms.preventDefault(),Rn&&Rn(ms),Ds===W.Z.ENTER&&cn==="tags"&&!Ci.current&&!Ni&&(cs==null||cs(ms.target.value)),!(To&&!Ni&&~[W.Z.UP,W.Z.DOWN,W.Z.LEFT,W.Z.RIGHT].indexOf(Ds))&&Oe(Ds)&&Qn(!0)},jn=function(){Xn(!0)},ys=(0,g.useRef)(null),Ps=function(ms){pn(ms,!0,Ci.current)!==!1&&Qn(!0)},Ns=function(){Ci.current=!0},Wi=function(ms){Ci.current=!1,cn!=="combobox"&&Ps(ms.target.value)},Fn=function(ms){var Ds=ms.target.value;if(Kn&&ys.current&&/[\r\n]/.test(ys.current)){var To=ys.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");Ds=Ds.replace(To,ys.current)}ys.current=null,Ps(Ds)},Fs=function(ms){var Ds=ms.clipboardData,To=Ds==null?void 0:Ds.getData("text");ys.current=To||""},Os=function(ms){var Ds=ms.target;if(Ds!==jt.current){var To=document.body.style.msTouchAction!==void 0;To?setTimeout(function(){jt.current.focus()}):jt.current.focus()}},fo=function(ms){var Ds=ls();ms.target!==jt.current&&!Ds&&!(cn==="combobox"&&Nn)&&ms.preventDefault(),(cn!=="combobox"&&(!mn||!Ds)||!Ni)&&(Ni&&_s!==!1&&pn("",!0,!1),Qn())},yo={inputRef:jt,onInputKeyDown:Vs,onInputMouseDown:jn,onInputChange:Fn,onInputPaste:Fs,onInputCompositionStart:Ns,onInputCompositionEnd:Wi,onInputBlur:Ss},No=cn==="multiple"||cn==="tags"?g.createElement(Mn,(0,v.Z)({},xe,yo)):g.createElement(ps,(0,v.Z)({},xe,yo));return g.createElement("div",{ref:Gs,className:"".concat(Ki,"-selector"),onClick:Os,onMouseDown:fo},vn&&g.createElement("div",{className:"".concat(Ki,"-prefix")},vn),No)},Bn=g.forwardRef(Zn),Xi=Bn,Vn=c(40228),qi=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],je=function(xe){var Ft=xe===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:Ft,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:Ft,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:Ft,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:Ft,adjustY:1},htmlRegion:"scroll"}}},Tt=function(xe,Ft){var jt=xe.prefixCls,Ci=xe.disabled,Ki=xe.visible,Ni=xe.children,cn=xe.popupElement,mn=xe.animation,Kn=xe.transitionName,Nn=xe.dropdownStyle,vn=xe.dropdownClassName,_s=xe.direction,pn=_s===void 0?"ltr":_s,cs=xe.placement,Qn=xe.builtinPlacements,Rn=xe.dropdownMatchSelectWidth,Ss=xe.dropdownRender,Gs=xe.dropdownAlign,As=xe.getPopupContainer,xs=xe.empty,ls=xe.getTriggerDOMNode,Xn=xe.onPopupVisibleChange,Vs=xe.onPopupMouseEnter,jn=(0,It.Z)(xe,qi),ys="".concat(jt,"-dropdown"),Ps=cn;Ss&&(Ps=Ss(cn));var Ns=g.useMemo(function(){return Qn||je(Rn)},[Qn,Rn]),Wi=mn?"".concat(ys,"-").concat(mn):Kn,Fn=typeof Rn=="number",Fs=g.useMemo(function(){return Fn?null:Rn===!1?"minWidth":"width"},[Rn,Fn]),Os=Nn;Fn&&(Os=(0,h.Z)((0,h.Z)({},Os),{},{width:Rn}));var fo=g.useRef(null);return g.useImperativeHandle(Ft,function(){return{getPopupElement:function(){var No;return(No=fo.current)===null||No===void 0?void 0:No.popupElement}}}),g.createElement(Vn.Z,(0,v.Z)({},jn,{showAction:Xn?["click"]:[],hideAction:Xn?["click"]:[],popupPlacement:cs||(pn==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:Ns,prefixCls:ys,popupTransitionName:Wi,popup:g.createElement("div",{onMouseEnter:Vs},Ps),ref:fo,stretch:Fs,popupAlign:Gs,popupVisible:Ki,getPopupContainer:As,popupClassName:D()(vn,(0,f.Z)({},"".concat(ys,"-empty"),xs)),popupStyle:Os,getTriggerDOMNode:ls,onPopupVisibleChange:Xn}),Ni)},St=g.forwardRef(Tt),Ze=St,Je=c(84506);function xt(ae,xe){var Ft=ae.key,jt;return"value"in ae&&(jt=ae.value),Ft!=null?Ft:jt!==void 0?jt:"rc-index-key-".concat(xe)}function yt(ae){return typeof ae!="undefined"&&!Number.isNaN(ae)}function Xt(ae,xe){var Ft=ae||{},jt=Ft.label,Ci=Ft.value,Ki=Ft.options,Ni=Ft.groupLabel,cn=jt||(xe?"children":"label");return{label:cn,value:Ci||"value",options:Ki||"options",groupLabel:Ni||cn}}function ni(ae){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ft=xe.fieldNames,jt=xe.childrenAsData,Ci=[],Ki=Xt(Ft,!1),Ni=Ki.label,cn=Ki.value,mn=Ki.options,Kn=Ki.groupLabel;function Nn(vn,_s){Array.isArray(vn)&&vn.forEach(function(pn){if(_s||!(mn in pn)){var cs=pn[cn];Ci.push({key:xt(pn,Ci.length),groupOption:_s,data:pn,label:pn[Ni],value:cs})}else{var Qn=pn[Kn];Qn===void 0&&jt&&(Qn=pn.label),Ci.push({key:xt(pn,Ci.length),group:!0,data:pn,label:Qn}),Nn(pn[mn],!0)}})}return Nn(ae,!1),Ci}function gi(ae){var xe=(0,h.Z)({},ae);return"props"in xe||Object.defineProperty(xe,"props",{get:function(){return(0,ie.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),xe}}),xe}var Gi=function(xe,Ft,jt){if(!Ft||!Ft.length)return null;var Ci=!1,Ki=function cn(mn,Kn){var Nn=(0,Je.Z)(Kn),vn=Nn[0],_s=Nn.slice(1);if(!vn)return[mn];var pn=mn.split(vn);return Ci=Ci||pn.length>1,pn.reduce(function(cs,Qn){return[].concat((0,nt.Z)(cs),(0,nt.Z)(cn(Qn,_s)))},[]).filter(Boolean)},Ni=Ki(xe,Ft);return Ci?typeof jt!="undefined"?Ni.slice(0,jt):Ni:null},ji=g.createContext(null),is=ji;function Hi(ae){var xe=ae.visible,Ft=ae.values;if(!xe)return null;var jt=50;return g.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(Ft.slice(0,jt).map(function(Ci){var Ki=Ci.label,Ni=Ci.value;return["number","string"].includes((0,L.Z)(Ki))?Ki:Ni}).join(", ")),Ft.length>jt?", ...":null)}var hn=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],vt=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],mt=function(xe){return xe==="tags"||xe==="multiple"},Nt=g.forwardRef(function(ae,xe){var Ft,jt=ae.id,Ci=ae.prefixCls,Ki=ae.className,Ni=ae.showSearch,cn=ae.tagRender,mn=ae.direction,Kn=ae.omitDomProps,Nn=ae.displayValues,vn=ae.onDisplayValuesChange,_s=ae.emptyOptions,pn=ae.notFoundContent,cs=pn===void 0?"Not Found":pn,Qn=ae.onClear,Rn=ae.mode,Ss=ae.disabled,Gs=ae.loading,As=ae.getInputElement,xs=ae.getRawInputElement,ls=ae.open,Xn=ae.defaultOpen,Vs=ae.onDropdownVisibleChange,jn=ae.activeValue,ys=ae.onActiveValueChange,Ps=ae.activeDescendantId,Ns=ae.searchValue,Wi=ae.autoClearSearchValue,Fn=ae.onSearch,Fs=ae.onSearchSplit,Os=ae.tokenSeparators,fo=ae.allowClear,yo=ae.prefix,No=ae.suffixIcon,Js=ae.clearIcon,ms=ae.OptionList,Ds=ae.animation,To=ae.transitionName,Ko=ae.dropdownStyle,_o=ae.dropdownClassName,Po=ae.dropdownMatchSelectWidth,ro=ae.dropdownRender,Co=ae.dropdownAlign,hr=ae.placement,Qo=ae.builtinPlacements,Bo=ae.getPopupContainer,fs=ae.showAction,Hn=fs===void 0?[]:fs,Ts=ae.onFocus,$s=ae.onBlur,$n=ae.onKeyUp,On=ae.onKeyDown,Zs=ae.onMouseDown,go=(0,It.Z)(ae,hn),eo=mt(Rn),Ro=(Ni!==void 0?Ni:eo)||Rn==="combobox",er=(0,h.Z)({},go);vt.forEach(function(bo){delete er[bo]}),Kn==null||Kn.forEach(function(bo){delete er[bo]});var fr=g.useState(!1),Zo=(0,R.Z)(fr,2),Lo=Zo[0],or=Zo[1];g.useEffect(function(){or((0,Mt.Z)())},[]);var _r=g.useRef(null),Xo=g.useRef(null),Wo=g.useRef(null),rr=g.useRef(null),ko=g.useRef(null),ar=g.useRef(!1),vr=at(),tr=(0,R.Z)(vr,3),Do=tr[0],mo=tr[1],ir=tr[2];g.useImperativeHandle(xe,function(){var bo,Ys;return{focus:(bo=rr.current)===null||bo===void 0?void 0:bo.focus,blur:(Ys=rr.current)===null||Ys===void 0?void 0:Ys.blur,scrollTo:function(Er){var Uo;return(Uo=ko.current)===null||Uo===void 0?void 0:Uo.scrollTo(Er)},nativeElement:_r.current||Xo.current}});var gr=g.useMemo(function(){var bo;if(Rn!=="combobox")return Ns;var Ys=(bo=Nn[0])===null||bo===void 0?void 0:bo.value;return typeof Ys=="string"||typeof Ys=="number"?String(Ys):""},[Ns,Rn,Nn]),mr=Rn==="combobox"&&typeof As=="function"&&As()||null,Go=typeof xs=="function"&&xs(),Vr=(0,it.x1)(Xo,Go==null||(Ft=Go.props)===null||Ft===void 0?void 0:Ft.ref),Yo=g.useState(!1),pt=(0,R.Z)(Yo,2),e=pt[0],n=pt[1];(0,ht.Z)(function(){n(!0)},[]);var a=(0,T.Z)(!1,{defaultValue:Xn,value:ls}),b=(0,R.Z)(a,2),M=b[0],j=b[1],ee=e?M:!1,ue=!cs&&_s;(Ss||ue&&ee&&Rn==="combobox")&&(ee=!1);var ye=ue?!1:ee,Te=g.useCallback(function(bo){var Ys=bo!==void 0?bo:!ee;Ss||(j(Ys),ee!==Ys&&(Vs==null||Vs(Ys)))},[Ss,ee,j,Vs]),Ae=g.useMemo(function(){return(Os||[]).some(function(bo){return[`
`,`\r
`].includes(bo)})},[Os]),ot=g.useContext(is)||{},qe=ot.maxCount,Et=ot.rawValues,Ht=function(Ys,Sr,Er){if(!(eo&&yt(qe)&&(Et==null?void 0:Et.size)>=qe)){var Uo=!0,Cr=Ys;ys==null||ys(null);var Hr=Gi(Ys,Os,yt(qe)?qe-Et.size:void 0),Pr=Er?null:Hr;return Rn!=="combobox"&&Pr&&(Cr="",Fs==null||Fs(Pr),Te(!1),Uo=!1),Fn&&gr!==Cr&&Fn(Cr,{source:Sr?"typing":"effect"}),Uo}},ri=function(Ys){!Ys||!Ys.trim()||Fn(Ys,{source:"submit"})};g.useEffect(function(){!ee&&!eo&&Rn!=="combobox"&&Ht("",!1,!1)},[ee]),g.useEffect(function(){M&&Ss&&j(!1),Ss&&!ar.current&&mo(!1)},[Ss]);var _i=rt(),Ii=(0,R.Z)(_i,2),bi=Ii[0],fn=Ii[1],an=g.useRef(!1),zn=function(Ys){var Sr=bi(),Er=Ys.key,Uo=Er==="Enter";if(Uo&&(Rn!=="combobox"&&Ys.preventDefault(),ee||Te(!0)),fn(!!gr),Er==="Backspace"&&!Sr&&eo&&!gr&&Nn.length){for(var Cr=(0,nt.Z)(Nn),Hr=null,Pr=Cr.length-1;Pr>=0;Pr-=1){var Zr=Cr[Pr];if(!Zr.disabled){Cr.splice(Pr,1),Hr=Zr;break}}Hr&&vn(Cr,{type:"remove",values:[Hr]})}for(var Yr=arguments.length,Ir=new Array(Yr>1?Yr-1:0),Qr=1;Qr<Yr;Qr++)Ir[Qr-1]=arguments[Qr];if(ee&&(!Uo||!an.current)){var la;Uo&&(an.current=!0),(la=ko.current)===null||la===void 0||la.onKeyDown.apply(la,[Ys].concat(Ir))}On==null||On.apply(void 0,[Ys].concat(Ir))},kn=function(Ys){for(var Sr=arguments.length,Er=new Array(Sr>1?Sr-1:0),Uo=1;Uo<Sr;Uo++)Er[Uo-1]=arguments[Uo];if(ee){var Cr;(Cr=ko.current)===null||Cr===void 0||Cr.onKeyUp.apply(Cr,[Ys].concat(Er))}Ys.key==="Enter"&&(an.current=!1),$n==null||$n.apply(void 0,[Ys].concat(Er))},sn=function(Ys){var Sr=Nn.filter(function(Er){return Er!==Ys});vn(Sr,{type:"remove",values:[Ys]})},_n=function(){an.current=!1},In=g.useRef(!1),Jn=function(){mo(!0),Ss||(Ts&&!In.current&&Ts.apply(void 0,arguments),Hn.includes("focus")&&Te(!0)),In.current=!0},po=function(){ar.current=!0,mo(!1,function(){In.current=!1,ar.current=!1,Te(!1)}),!Ss&&(gr&&(Rn==="tags"?Fn(gr,{source:"submit"}):Rn==="multiple"&&Fn("",{source:"blur"})),$s&&$s.apply(void 0,arguments))},ao=[];g.useEffect(function(){return function(){ao.forEach(function(bo){return clearTimeout(bo)}),ao.splice(0,ao.length)}},[]);var lo=function(Ys){var Sr,Er=Ys.target,Uo=(Sr=Wo.current)===null||Sr===void 0?void 0:Sr.getPopupElement();if(Uo&&Uo.contains(Er)){var Cr=setTimeout(function(){var Yr=ao.indexOf(Cr);if(Yr!==-1&&ao.splice(Yr,1),ir(),!Lo&&!Uo.contains(document.activeElement)){var Ir;(Ir=rr.current)===null||Ir===void 0||Ir.focus()}});ao.push(Cr)}for(var Hr=arguments.length,Pr=new Array(Hr>1?Hr-1:0),Zr=1;Zr<Hr;Zr++)Pr[Zr-1]=arguments[Zr];Zs==null||Zs.apply(void 0,[Ys].concat(Pr))},Bs=g.useState({}),Vo=(0,R.Z)(Bs,2),Ao=Vo[1];function Ho(){Ao({})}var Jo;Go&&(Jo=function(Ys){Te(Ys)}),Ne(function(){var bo;return[_r.current,(bo=Wo.current)===null||bo===void 0?void 0:bo.getPopupElement()]},ye,Te,!!Go);var Es=g.useMemo(function(){return(0,h.Z)((0,h.Z)({},ae),{},{notFoundContent:cs,open:ee,triggerOpen:ye,id:jt,showSearch:Ro,multiple:eo,toggleOpen:Te})},[ae,cs,ye,ee,jt,Ro,eo,Te]),qs=!!No||Gs,zo;qs&&(zo=g.createElement(ze,{className:D()("".concat(Ci,"-arrow"),(0,f.Z)({},"".concat(Ci,"-arrow-loading"),Gs)),customizeIcon:No,customizeIconProps:{loading:Gs,searchValue:gr,open:ee,focused:Do,showSearch:Ro}}));var Dr=function(){var Ys;Qn==null||Qn(),(Ys=rr.current)===null||Ys===void 0||Ys.focus(),vn([],{type:"clear",values:Nn}),Ht("",!1,!1)},jr=he(Ci,Dr,Nn,fo,Js,Ss,gr,Rn),Gr=jr.allowClear,Mr=jr.clearIcon,Ua=g.createElement(ms,{ref:ko}),na=D()(Ci,Ki,(0,f.Z)((0,f.Z)((0,f.Z)((0,f.Z)((0,f.Z)((0,f.Z)((0,f.Z)((0,f.Z)((0,f.Z)((0,f.Z)({},"".concat(Ci,"-focused"),Do),"".concat(Ci,"-multiple"),eo),"".concat(Ci,"-single"),!eo),"".concat(Ci,"-allow-clear"),fo),"".concat(Ci,"-show-arrow"),qs),"".concat(Ci,"-disabled"),Ss),"".concat(Ci,"-loading"),Gs),"".concat(Ci,"-open"),ee),"".concat(Ci,"-customize-input"),mr),"".concat(Ci,"-show-search"),Ro)),Ca=g.createElement(Ze,{ref:Wo,disabled:Ss,prefixCls:Ci,visible:ye,popupElement:Ua,animation:Ds,transitionName:To,dropdownStyle:Ko,dropdownClassName:_o,direction:mn,dropdownMatchSelectWidth:Po,dropdownRender:ro,dropdownAlign:Co,placement:hr,builtinPlacements:Qo,getPopupContainer:Bo,empty:_s,getTriggerDOMNode:function(Ys){return Xo.current||Ys},onPopupVisibleChange:Jo,onPopupMouseEnter:Ho},Go?g.cloneElement(Go,{ref:Vr}):g.createElement(Xi,(0,v.Z)({},ae,{domRef:Xo,prefixCls:Ci,inputElement:mr,ref:rr,id:jt,prefix:yo,showSearch:Ro,autoClearSearchValue:Wi,mode:Rn,activeDescendantId:Ps,tagRender:cn,values:Nn,open:ee,onToggleOpen:Te,activeValue:jn,searchValue:gr,onSearch:Ht,onSearchSubmit:ri,onRemove:sn,tokenWithEnter:Ae,onInputBlur:_n}))),ba;return Go?ba=Ca:ba=g.createElement("div",(0,v.Z)({className:na},er,{ref:_r,onMouseDown:lo,onKeyDown:zn,onKeyUp:kn,onFocus:Jn,onBlur:po}),g.createElement(Hi,{visible:Do&&!ee,values:Nn}),Ca,zo,Gr&&Mr),g.createElement(ke.Provider,{value:Es},ba)}),He=Nt,Qe=function(){return null};Qe.isSelectOptGroup=!0;var ft=Qe,ct=function(){return null};ct.isSelectOption=!0;var ei=ct,Vi=c(56982),fi=c(98423),Di=c(87718);function zi(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var dn=["disabled","title","children","style","className"];function gn(ae){return typeof ae=="string"||typeof ae=="number"}var Mi=function(xe,Ft){var jt=et(),Ci=jt.prefixCls,Ki=jt.id,Ni=jt.open,cn=jt.multiple,mn=jt.mode,Kn=jt.searchValue,Nn=jt.toggleOpen,vn=jt.notFoundContent,_s=jt.onPopupScroll,pn=g.useContext(is),cs=pn.maxCount,Qn=pn.flattenOptions,Rn=pn.onActiveValue,Ss=pn.defaultActiveFirstOption,Gs=pn.onSelect,As=pn.menuItemSelectedIcon,xs=pn.rawValues,ls=pn.fieldNames,Xn=pn.virtual,Vs=pn.direction,jn=pn.listHeight,ys=pn.listItemHeight,Ps=pn.optionRender,Ns="".concat(Ci,"-item"),Wi=(0,Vi.Z)(function(){return Qn},[Ni,Qn],function(fs,Hn){return Hn[0]&&fs[1]!==Hn[1]}),Fn=g.useRef(null),Fs=g.useMemo(function(){return cn&&yt(cs)&&(xs==null?void 0:xs.size)>=cs},[cn,cs,xs==null?void 0:xs.size]),Os=function(Hn){Hn.preventDefault()},fo=function(Hn){var Ts;(Ts=Fn.current)===null||Ts===void 0||Ts.scrollTo(typeof Hn=="number"?{index:Hn}:Hn)},yo=g.useCallback(function(fs){return mn==="combobox"?!1:xs.has(fs)},[mn,(0,nt.Z)(xs).toString(),xs.size]),No=function(Hn){for(var Ts=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,$s=Wi.length,$n=0;$n<$s;$n+=1){var On=(Hn+$n*Ts+$s)%$s,Zs=Wi[On]||{},go=Zs.group,eo=Zs.data;if(!go&&!(eo!=null&&eo.disabled)&&(yo(eo.value)||!Fs))return On}return-1},Js=g.useState(function(){return No(0)}),ms=(0,R.Z)(Js,2),Ds=ms[0],To=ms[1],Ko=function(Hn){var Ts=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;To(Hn);var $s={source:Ts?"keyboard":"mouse"},$n=Wi[Hn];if(!$n){Rn(null,-1,$s);return}Rn($n.value,Hn,$s)};(0,g.useEffect)(function(){Ko(Ss!==!1?No(0):-1)},[Wi.length,Kn]);var _o=g.useCallback(function(fs){return mn==="combobox"?String(fs).toLowerCase()===Kn.toLowerCase():xs.has(fs)},[mn,Kn,(0,nt.Z)(xs).toString(),xs.size]);(0,g.useEffect)(function(){var fs=setTimeout(function(){if(!cn&&Ni&&xs.size===1){var Ts=Array.from(xs)[0],$s=Wi.findIndex(function($n){var On=$n.data;return On.value===Ts});$s!==-1&&(Ko($s),fo($s))}});if(Ni){var Hn;(Hn=Fn.current)===null||Hn===void 0||Hn.scrollTo(void 0)}return function(){return clearTimeout(fs)}},[Ni,Kn]);var Po=function(Hn){Hn!==void 0&&Gs(Hn,{selected:!xs.has(Hn)}),cn||Nn(!1)};if(g.useImperativeHandle(Ft,function(){return{onKeyDown:function(Hn){var Ts=Hn.which,$s=Hn.ctrlKey;switch(Ts){case W.Z.N:case W.Z.P:case W.Z.UP:case W.Z.DOWN:{var $n=0;if(Ts===W.Z.UP?$n=-1:Ts===W.Z.DOWN?$n=1:zi()&&$s&&(Ts===W.Z.N?$n=1:Ts===W.Z.P&&($n=-1)),$n!==0){var On=No(Ds+$n,$n);fo(On),Ko(On,!0)}break}case W.Z.TAB:case W.Z.ENTER:{var Zs,go=Wi[Ds];go&&!(go!=null&&(Zs=go.data)!==null&&Zs!==void 0&&Zs.disabled)&&!Fs?Po(go.value):Po(void 0),Ni&&Hn.preventDefault();break}case W.Z.ESC:Nn(!1),Ni&&Hn.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Hn){fo(Hn)}}}),Wi.length===0)return g.createElement("div",{role:"listbox",id:"".concat(Ki,"_list"),className:"".concat(Ns,"-empty"),onMouseDown:Os},vn);var ro=Object.keys(ls).map(function(fs){return ls[fs]}),Co=function(Hn){return Hn.label};function hr(fs,Hn){var Ts=fs.group;return{role:Ts?"presentation":"option",id:"".concat(Ki,"_list_").concat(Hn)}}var Qo=function(Hn){var Ts=Wi[Hn];if(!Ts)return null;var $s=Ts.data||{},$n=$s.value,On=Ts.group,Zs=(0,K.Z)($s,!0),go=Co(Ts);return Ts?g.createElement("div",(0,v.Z)({"aria-label":typeof go=="string"&&!On?go:null},Zs,{key:Hn},hr(Ts,Hn),{"aria-selected":_o($n)}),$n):null},Bo={role:"listbox",id:"".concat(Ki,"_list")};return g.createElement(g.Fragment,null,Xn&&g.createElement("div",(0,v.Z)({},Bo,{style:{height:0,width:0,overflow:"hidden"}}),Qo(Ds-1),Qo(Ds),Qo(Ds+1)),g.createElement(Di.Z,{itemKey:"key",ref:Fn,data:Wi,height:jn,itemHeight:ys,fullHeight:!1,onMouseDown:Os,onScroll:_s,virtual:Xn,direction:Vs,innerProps:Xn?null:Bo},function(fs,Hn){var Ts=fs.group,$s=fs.groupOption,$n=fs.data,On=fs.label,Zs=fs.value,go=$n.key;if(Ts){var eo,Ro=(eo=$n.title)!==null&&eo!==void 0?eo:gn(On)?On.toString():void 0;return g.createElement("div",{className:D()(Ns,"".concat(Ns,"-group"),$n.className),title:Ro},On!==void 0?On:go)}var er=$n.disabled,fr=$n.title,Zo=$n.children,Lo=$n.style,or=$n.className,_r=(0,It.Z)($n,dn),Xo=(0,fi.Z)(_r,ro),Wo=yo(Zs),rr=er||!Wo&&Fs,ko="".concat(Ns,"-option"),ar=D()(Ns,ko,or,(0,f.Z)((0,f.Z)((0,f.Z)((0,f.Z)({},"".concat(ko,"-grouped"),$s),"".concat(ko,"-active"),Ds===Hn&&!rr),"".concat(ko,"-disabled"),rr),"".concat(ko,"-selected"),Wo)),vr=Co(fs),tr=!As||typeof As=="function"||Wo,Do=typeof vr=="number"?vr:vr||Zs,mo=gn(Do)?Do.toString():void 0;return fr!==void 0&&(mo=fr),g.createElement("div",(0,v.Z)({},(0,K.Z)(Xo),Xn?{}:hr(fs,Hn),{"aria-selected":_o(Zs),className:ar,title:mo,onMouseMove:function(){Ds===Hn||rr||Ko(Hn)},onClick:function(){rr||Po(Zs)},style:Lo}),g.createElement("div",{className:"".concat(ko,"-content")},typeof Ps=="function"?Ps(fs,{index:Hn}):Do),g.isValidElement(As)||Wo,tr&&g.createElement(ze,{className:"".concat(Ns,"-option-state"),customizeIcon:As,customizeIconProps:{value:Zs,disabled:rr,isSelected:Wo}},Wo?"\u2713":null))}))},pi=g.forwardRef(Mi),Cn=pi,En=function(ae,xe){var Ft=g.useRef({values:new Map,options:new Map}),jt=g.useMemo(function(){var Ki=Ft.current,Ni=Ki.values,cn=Ki.options,mn=ae.map(function(vn){if(vn.label===void 0){var _s;return(0,h.Z)((0,h.Z)({},vn),{},{label:(_s=Ni.get(vn.value))===null||_s===void 0?void 0:_s.label})}return vn}),Kn=new Map,Nn=new Map;return mn.forEach(function(vn){Kn.set(vn.value,vn),Nn.set(vn.value,xe.get(vn.value)||cn.get(vn.value))}),Ft.current.values=Kn,Ft.current.options=Nn,mn},[ae,xe]),Ci=g.useCallback(function(Ki){return xe.get(Ki)||Ft.current.options.get(Ki)},[xe]);return[jt,Ci]};function Yn(ae,xe){return Qt(ae).join("").toUpperCase().includes(xe)}var vs=function(ae,xe,Ft,jt,Ci){return g.useMemo(function(){if(!Ft||jt===!1)return ae;var Ki=xe.options,Ni=xe.label,cn=xe.value,mn=[],Kn=typeof jt=="function",Nn=Ft.toUpperCase(),vn=Kn?jt:function(pn,cs){return Ci?Yn(cs[Ci],Nn):cs[Ki]?Yn(cs[Ni!=="children"?Ni:"label"],Nn):Yn(cs[cn],Nn)},_s=Kn?function(pn){return gi(pn)}:function(pn){return pn};return ae.forEach(function(pn){if(pn[Ki]){var cs=vn(Ft,_s(pn));if(cs)mn.push(pn);else{var Qn=pn[Ki].filter(function(Rn){return vn(Ft,_s(Rn))});Qn.length&&mn.push((0,h.Z)((0,h.Z)({},pn),{},(0,f.Z)({},Ki,Qn)))}return}vn(Ft,_s(pn))&&mn.push(pn)}),mn},[ae,jt,Ci,Ft,xe])},ds=c(98924),Is=0,Fo=(0,ds.Z)();function no(){var ae;return Fo?(ae=Is,Is+=1):ae="TEST_OR_SSR",ae}function Ls(ae){var xe=g.useState(),Ft=(0,R.Z)(xe,2),jt=Ft[0],Ci=Ft[1];return g.useEffect(function(){Ci("rc_select_".concat(no()))},[]),ae||jt}var Io=c(50344),Xs=["children","value"],So=["children"];function Hs(ae){var xe=ae,Ft=xe.key,jt=xe.props,Ci=jt.children,Ki=jt.value,Ni=(0,It.Z)(jt,Xs);return(0,h.Z)({key:Ft,value:Ki!==void 0?Ki:Ft,children:Ci},Ni)}function zs(ae){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(0,Io.Z)(ae).map(function(Ft,jt){if(!g.isValidElement(Ft)||!Ft.type)return null;var Ci=Ft,Ki=Ci.type.isSelectOptGroup,Ni=Ci.key,cn=Ci.props,mn=cn.children,Kn=(0,It.Z)(cn,So);return xe||!Ki?Hs(Ft):(0,h.Z)((0,h.Z)({key:"__RC_SELECT_GRP__".concat(Ni===null?jt:Ni,"__"),label:Ni},Kn),{},{options:zs(mn)})}).filter(function(Ft){return Ft})}var uo=function(xe,Ft,jt,Ci,Ki){return g.useMemo(function(){var Ni=xe,cn=!xe;cn&&(Ni=zs(Ft));var mn=new Map,Kn=new Map,Nn=function(pn,cs,Qn){Qn&&typeof Qn=="string"&&pn.set(cs[Qn],cs)},vn=function _s(pn){for(var cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Qn=0;Qn<pn.length;Qn+=1){var Rn=pn[Qn];!Rn[jt.options]||cs?(mn.set(Rn[jt.value],Rn),Nn(Kn,Rn,jt.label),Nn(Kn,Rn,Ci),Nn(Kn,Rn,Ki)):_s(Rn[jt.options],!0)}};return vn(Ni),{options:Ni,valueOptions:mn,labelOptions:Kn}},[xe,Ft,jt,Ci,Ki])},xo=uo;function to(ae){var xe=g.useRef();xe.current=ae;var Ft=g.useCallback(function(){return xe.current.apply(xe,arguments)},[]);return Ft}function so(ae){var xe=ae.mode,Ft=ae.options,jt=ae.children,Ci=ae.backfill,Ki=ae.allowClear,Ni=ae.placeholder,cn=ae.getInputElement,mn=ae.showSearch,Kn=ae.onSearch,Nn=ae.defaultOpen,vn=ae.autoFocus,_s=ae.labelInValue,pn=ae.value,cs=ae.inputValue,Qn=ae.optionLabelProp,Rn=isMultiple(xe),Ss=mn!==void 0?mn:Rn||xe==="combobox",Gs=Ft||convertChildrenToData(jt);if(warning(xe!=="tags"||Gs.every(function(Xn){return!Xn.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),xe==="tags"||xe==="combobox"){var As=Gs.some(function(Xn){return Xn.options?Xn.options.some(function(Vs){return typeof("value"in Vs?Vs.value:Vs.key)=="number"}):typeof("value"in Xn?Xn.value:Xn.key)=="number"});warning(!As,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(warning(xe!=="combobox"||!Qn,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),warning(xe==="combobox"||!Ci,"`backfill` only works with `combobox` mode."),warning(xe==="combobox"||!cn,"`getInputElement` only work with `combobox` mode."),noteOnce(xe!=="combobox"||!cn||!Ki||!Ni,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),Kn&&!Ss&&xe!=="combobox"&&xe!=="tags"&&warning(!1,"`onSearch` should work with `showSearch` instead of use alone."),noteOnce(!Nn||vn,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),pn!=null){var xs=toArray(pn);warning(!_s||xs.every(function(Xn){return _typeof(Xn)==="object"&&("key"in Xn||"value"in Xn)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),warning(!Rn||Array.isArray(pn),"`value` should be array when `mode` is `multiple` or `tags`")}if(jt){var ls=null;toNodeArray(jt).some(function(Xn){if(!React.isValidElement(Xn)||!Xn.type)return!1;var Vs=Xn,jn=Vs.type;if(jn.isSelectOption)return!1;if(jn.isSelectOptGroup){var ys=toNodeArray(Xn.props.children).every(function(Ps){return!React.isValidElement(Ps)||!Xn.type||Ps.type.isSelectOption?!0:(ls=Ps.type,!1)});return!ys}return ls=jn,!0}),ls&&warning(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(ls.displayName||ls.name||ls,"`.")),warning(cs===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}function Oo(ae,xe){if(ae){var Ft=function jt(Ci){for(var Ki=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ni=0;Ni<Ci.length;Ni++){var cn=Ci[Ni];if(cn[xe==null?void 0:xe.value]===null)return warning(!1,"`value` in Select options should not be `null`."),!0;if(!Ki&&Array.isArray(cn[xe==null?void 0:xe.options])&&jt(cn[xe==null?void 0:xe.options],!0))break}};Ft(ae)}}var us=null,Eo=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],hs=["inputValue"];function os(ae){return!ae||(0,L.Z)(ae)!=="object"}var vo=g.forwardRef(function(ae,xe){var Ft=ae.id,jt=ae.mode,Ci=ae.prefixCls,Ki=Ci===void 0?"rc-select":Ci,Ni=ae.backfill,cn=ae.fieldNames,mn=ae.inputValue,Kn=ae.searchValue,Nn=ae.onSearch,vn=ae.autoClearSearchValue,_s=vn===void 0?!0:vn,pn=ae.onSelect,cs=ae.onDeselect,Qn=ae.dropdownMatchSelectWidth,Rn=Qn===void 0?!0:Qn,Ss=ae.filterOption,Gs=ae.filterSort,As=ae.optionFilterProp,xs=ae.optionLabelProp,ls=ae.options,Xn=ae.optionRender,Vs=ae.children,jn=ae.defaultActiveFirstOption,ys=ae.menuItemSelectedIcon,Ps=ae.virtual,Ns=ae.direction,Wi=ae.listHeight,Fn=Wi===void 0?200:Wi,Fs=ae.listItemHeight,Os=Fs===void 0?20:Fs,fo=ae.labelRender,yo=ae.value,No=ae.defaultValue,Js=ae.labelInValue,ms=ae.onChange,Ds=ae.maxCount,To=(0,It.Z)(ae,Eo),Ko=Ls(Ft),_o=mt(jt),Po=!!(!ls&&Vs),ro=g.useMemo(function(){return Ss===void 0&&jt==="combobox"?!1:Ss},[Ss,jt]),Co=g.useMemo(function(){return Xt(cn,Po)},[JSON.stringify(cn),Po]),hr=(0,T.Z)("",{value:Kn!==void 0?Kn:mn,postState:function(Ae){return Ae||""}}),Qo=(0,R.Z)(hr,2),Bo=Qo[0],fs=Qo[1],Hn=xo(ls,Vs,Co,As,xs),Ts=Hn.valueOptions,$s=Hn.labelOptions,$n=Hn.options,On=g.useCallback(function(Te){var Ae=Qt(Te);return Ae.map(function(ot){var qe,Et,Ht,ri,_i;if(os(ot))qe=ot;else{var Ii;Ht=ot.key,Et=ot.label,qe=(Ii=ot.value)!==null&&Ii!==void 0?Ii:Ht}var bi=Ts.get(qe);if(bi){var fn;if(Et===void 0&&(Et=bi==null?void 0:bi[xs||Co.label]),Ht===void 0&&(Ht=(fn=bi==null?void 0:bi.key)!==null&&fn!==void 0?fn:qe),ri=bi==null?void 0:bi.disabled,_i=bi==null?void 0:bi.title,0)var an}return{label:Et,value:qe,key:Ht,disabled:ri,title:_i}})},[Co,xs,Ts]),Zs=(0,T.Z)(No,{value:yo}),go=(0,R.Z)(Zs,2),eo=go[0],Ro=go[1],er=g.useMemo(function(){var Te,Ae=_o&&eo===null?[]:eo,ot=On(Ae);return jt==="combobox"&&Ai((Te=ot[0])===null||Te===void 0?void 0:Te.value)?[]:ot},[eo,On,jt,_o]),fr=En(er,Ts),Zo=(0,R.Z)(fr,2),Lo=Zo[0],or=Zo[1],_r=g.useMemo(function(){if(!jt&&Lo.length===1){var Te=Lo[0];if(Te.value===null&&(Te.label===null||Te.label===void 0))return[]}return Lo.map(function(Ae){var ot;return(0,h.Z)((0,h.Z)({},Ae),{},{label:(ot=typeof fo=="function"?fo(Ae):Ae.label)!==null&&ot!==void 0?ot:Ae.value})})},[jt,Lo,fo]),Xo=g.useMemo(function(){return new Set(Lo.map(function(Te){return Te.value}))},[Lo]);g.useEffect(function(){if(jt==="combobox"){var Te,Ae=(Te=Lo[0])===null||Te===void 0?void 0:Te.value;fs(Lt(Ae)?String(Ae):"")}},[Lo]);var Wo=to(function(Te,Ae){var ot=Ae!=null?Ae:Te;return(0,f.Z)((0,f.Z)({},Co.value,Te),Co.label,ot)}),rr=g.useMemo(function(){if(jt!=="tags")return $n;var Te=(0,nt.Z)($n),Ae=function(qe){return Ts.has(qe)};return(0,nt.Z)(Lo).sort(function(ot,qe){return ot.value<qe.value?-1:1}).forEach(function(ot){var qe=ot.value;Ae(qe)||Te.push(Wo(qe,ot.label))}),Te},[Wo,$n,Ts,Lo,jt]),ko=vs(rr,Co,Bo,ro,As),ar=g.useMemo(function(){return jt!=="tags"||!Bo||ko.some(function(Te){return Te[As||"value"]===Bo})||ko.some(function(Te){return Te[Co.value]===Bo})?ko:[Wo(Bo)].concat((0,nt.Z)(ko))},[Wo,As,jt,ko,Bo,Co]),vr=function Te(Ae){var ot=(0,nt.Z)(Ae).sort(function(qe,Et){return Gs(qe,Et,{searchValue:Bo})});return ot.map(function(qe){return Array.isArray(qe.options)?(0,h.Z)((0,h.Z)({},qe),{},{options:qe.options.length>0?Te(qe.options):qe.options}):qe})},tr=g.useMemo(function(){return Gs?vr(ar):ar},[ar,Gs,Bo]),Do=g.useMemo(function(){return ni(tr,{fieldNames:Co,childrenAsData:Po})},[tr,Co,Po]),mo=function(Ae){var ot=On(Ae);if(Ro(ot),ms&&(ot.length!==Lo.length||ot.some(function(Ht,ri){var _i;return((_i=Lo[ri])===null||_i===void 0?void 0:_i.value)!==(Ht==null?void 0:Ht.value)}))){var qe=Js?ot:ot.map(function(Ht){return Ht.value}),Et=ot.map(function(Ht){return gi(or(Ht.value))});ms(_o?qe:qe[0],_o?Et:Et[0])}},ir=g.useState(null),gr=(0,R.Z)(ir,2),mr=gr[0],Go=gr[1],Vr=g.useState(0),Yo=(0,R.Z)(Vr,2),pt=Yo[0],e=Yo[1],n=jn!==void 0?jn:jt!=="combobox",a=g.useCallback(function(Te,Ae){var ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},qe=ot.source,Et=qe===void 0?"keyboard":qe;e(Ae),Ni&&jt==="combobox"&&Te!==null&&Et==="keyboard"&&Go(String(Te))},[Ni,jt]),b=function(Ae,ot,qe){var Et=function(){var sn,_n=or(Ae);return[Js?{label:_n==null?void 0:_n[Co.label],value:Ae,key:(sn=_n==null?void 0:_n.key)!==null&&sn!==void 0?sn:Ae}:Ae,gi(_n)]};if(ot&&pn){var Ht=Et(),ri=(0,R.Z)(Ht,2),_i=ri[0],Ii=ri[1];pn(_i,Ii)}else if(!ot&&cs&&qe!=="clear"){var bi=Et(),fn=(0,R.Z)(bi,2),an=fn[0],zn=fn[1];cs(an,zn)}},M=to(function(Te,Ae){var ot,qe=_o?Ae.selected:!0;qe?ot=_o?[].concat((0,nt.Z)(Lo),[Te]):[Te]:ot=Lo.filter(function(Et){return Et.value!==Te}),mo(ot),b(Te,qe),jt==="combobox"?Go(""):(!mt||_s)&&(fs(""),Go(""))}),j=function(Ae,ot){mo(Ae);var qe=ot.type,Et=ot.values;(qe==="remove"||qe==="clear")&&Et.forEach(function(Ht){b(Ht.value,!1,qe)})},ee=function(Ae,ot){if(fs(Ae),Go(null),ot.source==="submit"){var qe=(Ae||"").trim();if(qe){var Et=Array.from(new Set([].concat((0,nt.Z)(Xo),[qe])));mo(Et),b(qe,!0),fs("")}return}ot.source!=="blur"&&(jt==="combobox"&&mo(Ae),Nn==null||Nn(Ae))},ue=function(Ae){var ot=Ae;jt!=="tags"&&(ot=Ae.map(function(Et){var Ht=$s.get(Et);return Ht==null?void 0:Ht.value}).filter(function(Et){return Et!==void 0}));var qe=Array.from(new Set([].concat((0,nt.Z)(Xo),(0,nt.Z)(ot))));mo(qe),qe.forEach(function(Et){b(Et,!0)})},ye=g.useMemo(function(){var Te=Ps!==!1&&Rn!==!1;return(0,h.Z)((0,h.Z)({},Hn),{},{flattenOptions:Do,onActiveValue:a,defaultActiveFirstOption:n,onSelect:M,menuItemSelectedIcon:ys,rawValues:Xo,fieldNames:Co,virtual:Te,direction:Ns,listHeight:Fn,listItemHeight:Os,childrenAsData:Po,maxCount:Ds,optionRender:Xn})},[Ds,Hn,Do,a,n,M,ys,Xo,Co,Ps,Rn,Ns,Fn,Os,Po,Xn]);return g.createElement(is.Provider,{value:ye},g.createElement(He,(0,v.Z)({},To,{id:Ko,prefixCls:Ki,ref:xe,omitDomProps:hs,mode:jt,displayValues:_r,onDisplayValuesChange:j,direction:Ns,searchValue:Bo,onSearch:ee,autoClearSearchValue:_s,onSearchSplit:ue,dropdownMatchSelectWidth:Rn,OptionList:Cn,emptyOptions:!Do.length,activeValue:mr,activeDescendantId:"".concat(Ko,"_list_").concat(pt)})))}),rs=vo;rs.Option=ei,rs.OptGroup=ft;var co=rs,Ws=co,ho=c(87263),hi=c(33603),ge=c(8745),ut=c(9708),gt=c(88258),Bt=c(98866),qt=c(35792),vi=c(96248),Li=c(27833),mi=c(4173),un=c(29691);const Bi=ae=>{const Ft={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:ae==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},Ft),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},Ft),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},Ft),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},Ft),{points:["br","tr"],offset:[0,-4]})}};function ts(ae,xe){return ae||Bi(xe)}var Rt=ts,F=c(14747),re=c(80110),Se=c(83559),Fe=c(83262),lt=c(67771),Ot=c(33297);const Zt=ae=>{const{optionHeight:xe,optionFontSize:Ft,optionLineHeight:jt,optionPadding:Ci}=ae;return{position:"relative",display:"block",minHeight:xe,padding:Ci,color:ae.colorText,fontWeight:"normal",fontSize:Ft,lineHeight:jt,boxSizing:"border-box"}};var Ei=ae=>{const{antCls:xe,componentCls:Ft}=ae,jt=`${Ft}-item`,Ci=`&${xe}-slide-up-enter${xe}-slide-up-enter-active`,Ki=`&${xe}-slide-up-appear${xe}-slide-up-appear-active`,Ni=`&${xe}-slide-up-leave${xe}-slide-up-leave-active`,cn=`${Ft}-dropdown-placement-`,mn=`${jt}-option-selected`;return[{[`${Ft}-dropdown`]:Object.assign(Object.assign({},(0,F.Wf)(ae)),{position:"absolute",top:-9999,zIndex:ae.zIndexPopup,boxSizing:"border-box",padding:ae.paddingXXS,overflow:"hidden",fontSize:ae.fontSize,fontVariant:"initial",backgroundColor:ae.colorBgElevated,borderRadius:ae.borderRadiusLG,outline:"none",boxShadow:ae.boxShadowSecondary,[`
          ${Ci}${cn}bottomLeft,
          ${Ki}${cn}bottomLeft
        `]:{animationName:lt.fJ},[`
          ${Ci}${cn}topLeft,
          ${Ki}${cn}topLeft,
          ${Ci}${cn}topRight,
          ${Ki}${cn}topRight
        `]:{animationName:lt.Qt},[`${Ni}${cn}bottomLeft`]:{animationName:lt.Uw},[`
          ${Ni}${cn}topLeft,
          ${Ni}${cn}topRight
        `]:{animationName:lt.ly},"&-hidden":{display:"none"},[jt]:Object.assign(Object.assign({},Zt(ae)),{cursor:"pointer",transition:`background ${ae.motionDurationSlow} ease`,borderRadius:ae.borderRadiusSM,"&-group":{color:ae.colorTextDescription,fontSize:ae.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},F.vS),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${jt}-option-disabled)`]:{backgroundColor:ae.optionActiveBg},[`&-selected:not(${jt}-option-disabled)`]:{color:ae.optionSelectedColor,fontWeight:ae.optionSelectedFontWeight,backgroundColor:ae.optionSelectedBg,[`${jt}-option-state`]:{color:ae.colorPrimary}},"&-disabled":{[`&${jt}-option-selected`]:{backgroundColor:ae.colorBgContainerDisabled},color:ae.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:ae.calc(ae.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},Zt(ae)),{color:ae.colorTextDisabled})}),[`${mn}:has(+ ${mn})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${mn}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},(0,lt.oN)(ae,"slide-up"),(0,lt.oN)(ae,"slide-down"),(0,Ot.Fm)(ae,"move-up"),(0,Ot.Fm)(ae,"move-down")]},li=c(11568);const Oi=ae=>{const{multipleSelectItemHeight:xe,paddingXXS:Ft,lineWidth:jt,INTERNAL_FIXED_ITEM_MARGIN:Ci}=ae,Ki=ae.max(ae.calc(Ft).sub(jt).equal(),0),Ni=ae.max(ae.calc(Ki).sub(Ci).equal(),0);return{basePadding:Ki,containerPadding:Ni,itemHeight:(0,li.bf)(xe),itemLineHeight:(0,li.bf)(ae.calc(xe).sub(ae.calc(ae.lineWidth).mul(2)).equal())}},tn=ae=>{const{multipleSelectItemHeight:xe,selectHeight:Ft,lineWidth:jt}=ae;return ae.calc(Ft).sub(xe).div(2).sub(jt).equal()},yi=ae=>{const{componentCls:xe,iconCls:Ft,borderRadiusSM:jt,motionDurationSlow:Ci,paddingXS:Ki,multipleItemColorDisabled:Ni,multipleItemBorderColorDisabled:cn,colorIcon:mn,colorIconHover:Kn,INTERNAL_FIXED_ITEM_MARGIN:Nn}=ae;return{[`${xe}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${xe}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:Nn,borderRadius:jt,cursor:"default",transition:`font-size ${Ci}, line-height ${Ci}, height ${Ci}`,marginInlineEnd:ae.calc(Nn).mul(2).equal(),paddingInlineStart:Ki,paddingInlineEnd:ae.calc(Ki).div(2).equal(),[`${xe}-disabled&`]:{color:Ni,borderColor:cn,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:ae.calc(Ki).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},(0,F.Ro)()),{display:"inline-flex",alignItems:"center",color:mn,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${Ft}`]:{verticalAlign:"-0.2em"},"&:hover":{color:Kn}})}}}},nn=(ae,xe)=>{const{componentCls:Ft,INTERNAL_FIXED_ITEM_MARGIN:jt}=ae,Ci=`${Ft}-selection-overflow`,Ki=ae.multipleSelectItemHeight,Ni=tn(ae),cn=xe?`${Ft}-${xe}`:"",mn=Oi(ae);return{[`${Ft}-multiple${cn}`]:Object.assign(Object.assign({},yi(ae)),{[`${Ft}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:mn.basePadding,paddingBlock:mn.containerPadding,borderRadius:ae.borderRadius,[`${Ft}-disabled&`]:{background:ae.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${(0,li.bf)(jt)} 0`,lineHeight:(0,li.bf)(Ki),visibility:"hidden",content:'"\\a0"'}},[`${Ft}-selection-item`]:{height:mn.itemHeight,lineHeight:(0,li.bf)(mn.itemLineHeight)},[`${Ft}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:(0,li.bf)(Ki),marginBlock:jt}},[`${Ft}-prefix`]:{marginInlineStart:ae.calc(ae.inputPaddingHorizontalBase).sub(mn.basePadding).equal()},[`${Ci}-item + ${Ci}-item,
        ${Ft}-prefix + ${Ft}-selection-wrap
      `]:{[`${Ft}-selection-search`]:{marginInlineStart:0},[`${Ft}-selection-placeholder`]:{insetInlineStart:0}},[`${Ci}-item-suffix`]:{minHeight:mn.itemHeight,marginBlock:jt},[`${Ft}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:ae.calc(ae.inputPaddingHorizontalBase).sub(Ni).equal(),"\n          &-input,\n          &-mirror\n        ":{height:Ki,fontFamily:ae.fontFamily,lineHeight:(0,li.bf)(Ki),transition:`all ${ae.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${Ft}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:ae.calc(ae.inputPaddingHorizontalBase).sub(mn.basePadding).equal(),insetInlineEnd:ae.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${ae.motionDurationSlow}`}})}};function Qi(ae,xe){const{componentCls:Ft}=ae,jt=xe?`${Ft}-${xe}`:"",Ci={[`${Ft}-multiple${jt}`]:{fontSize:ae.fontSize,[`${Ft}-selector`]:{[`${Ft}-show-search&`]:{cursor:"text"}},[`
        &${Ft}-show-arrow ${Ft}-selector,
        &${Ft}-allow-clear ${Ft}-selector
      `]:{paddingInlineEnd:ae.calc(ae.fontSizeIcon).add(ae.controlPaddingHorizontal).equal()}}};return[nn(ae,xe),Ci]}var ns=ae=>{const{componentCls:xe}=ae,Ft=(0,Fe.IX)(ae,{selectHeight:ae.controlHeightSM,multipleSelectItemHeight:ae.multipleItemHeightSM,borderRadius:ae.borderRadiusSM,borderRadiusSM:ae.borderRadiusXS}),jt=(0,Fe.IX)(ae,{fontSize:ae.fontSizeLG,selectHeight:ae.controlHeightLG,multipleSelectItemHeight:ae.multipleItemHeightLG,borderRadius:ae.borderRadiusLG,borderRadiusSM:ae.borderRadius});return[Qi(ae),Qi(Ft,"sm"),{[`${xe}-multiple${xe}-sm`]:{[`${xe}-selection-placeholder`]:{insetInline:ae.calc(ae.controlPaddingHorizontalSM).sub(ae.lineWidth).equal()},[`${xe}-selection-search`]:{marginInlineStart:2}}},Qi(jt,"lg")]};function Ms(ae,xe){const{componentCls:Ft,inputPaddingHorizontalBase:jt,borderRadius:Ci}=ae,Ki=ae.calc(ae.controlHeight).sub(ae.calc(ae.lineWidth).mul(2)).equal(),Ni=xe?`${Ft}-${xe}`:"";return{[`${Ft}-single${Ni}`]:{fontSize:ae.fontSize,height:ae.controlHeight,[`${Ft}-selector`]:Object.assign(Object.assign({},(0,F.Wf)(ae,!0)),{display:"flex",borderRadius:Ci,flex:"1 1 auto",[`${Ft}-selection-wrap:after`]:{lineHeight:(0,li.bf)(Ki)},[`${Ft}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${Ft}-selection-item,
          ${Ft}-selection-placeholder
        `]:{display:"block",padding:0,lineHeight:(0,li.bf)(Ki),transition:`all ${ae.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${Ft}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${Ft}-selection-item:empty:after`,`${Ft}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${Ft}-show-arrow ${Ft}-selection-item,
        &${Ft}-show-arrow ${Ft}-selection-search,
        &${Ft}-show-arrow ${Ft}-selection-placeholder
      `]:{paddingInlineEnd:ae.showArrowPaddingInlineEnd},[`&${Ft}-open ${Ft}-selection-item`]:{color:ae.colorTextPlaceholder},[`&:not(${Ft}-customize-input)`]:{[`${Ft}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${(0,li.bf)(jt)}`,[`${Ft}-selection-search-input`]:{height:Ki,fontSize:ae.fontSize},"&:after":{lineHeight:(0,li.bf)(Ki)}}},[`&${Ft}-customize-input`]:{[`${Ft}-selector`]:{"&:after":{display:"none"},[`${Ft}-selection-search`]:{position:"static",width:"100%"},[`${Ft}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${(0,li.bf)(jt)}`,"&:after":{display:"none"}}}}}}}function Dn(ae){const{componentCls:xe}=ae,Ft=ae.calc(ae.controlPaddingHorizontalSM).sub(ae.lineWidth).equal();return[Ms(ae),Ms((0,Fe.IX)(ae,{controlHeight:ae.controlHeightSM,borderRadius:ae.borderRadiusSM}),"sm"),{[`${xe}-single${xe}-sm`]:{[`&:not(${xe}-customize-input)`]:{[`${xe}-selector`]:{padding:`0 ${(0,li.bf)(Ft)}`},[`&${xe}-show-arrow ${xe}-selection-search`]:{insetInlineEnd:ae.calc(Ft).add(ae.calc(ae.fontSize).mul(1.5)).equal()},[`
            &${xe}-show-arrow ${xe}-selection-item,
            &${xe}-show-arrow ${xe}-selection-placeholder
          `]:{paddingInlineEnd:ae.calc(ae.fontSize).mul(1.5).equal()}}}},Ms((0,Fe.IX)(ae,{controlHeight:ae.singleItemHeightLG,fontSize:ae.fontSizeLG,borderRadius:ae.borderRadiusLG}),"lg")]}const Ut=ae=>{const{fontSize:xe,lineHeight:Ft,lineWidth:jt,controlHeight:Ci,controlHeightSM:Ki,controlHeightLG:Ni,paddingXXS:cn,controlPaddingHorizontal:mn,zIndexPopupBase:Kn,colorText:Nn,fontWeightStrong:vn,controlItemBgActive:_s,controlItemBgHover:pn,colorBgContainer:cs,colorFillSecondary:Qn,colorBgContainerDisabled:Rn,colorTextDisabled:Ss,colorPrimaryHover:Gs,colorPrimary:As,controlOutline:xs}=ae,ls=cn*2,Xn=jt*2,Vs=Math.min(Ci-ls,Ci-Xn),jn=Math.min(Ki-ls,Ki-Xn),ys=Math.min(Ni-ls,Ni-Xn);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(cn/2),zIndexPopup:Kn+50,optionSelectedColor:Nn,optionSelectedFontWeight:vn,optionSelectedBg:_s,optionActiveBg:pn,optionPadding:`${(Ci-xe*Ft)/2}px ${mn}px`,optionFontSize:xe,optionLineHeight:Ft,optionHeight:Ci,selectorBg:cs,clearBg:cs,singleItemHeightLG:Ni,multipleItemBg:Qn,multipleItemBorderColor:"transparent",multipleItemHeight:Vs,multipleItemHeightSM:jn,multipleItemHeightLG:ys,multipleSelectorBgDisabled:Rn,multipleItemColorDisabled:Ss,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(ae.fontSize*1.25),hoverBorderColor:Gs,activeBorderColor:As,activeOutlineColor:xs,selectAffixPadding:cn}},pe=(ae,xe)=>{const{componentCls:Ft,antCls:jt,controlOutlineWidth:Ci}=ae;return{[`&:not(${Ft}-customize-input) ${Ft}-selector`]:{border:`${(0,li.bf)(ae.lineWidth)} ${ae.lineType} ${xe.borderColor}`,background:ae.selectorBg},[`&:not(${Ft}-disabled):not(${Ft}-customize-input):not(${jt}-pagination-size-changer)`]:{[`&:hover ${Ft}-selector`]:{borderColor:xe.hoverBorderHover},[`${Ft}-focused& ${Ft}-selector`]:{borderColor:xe.activeBorderColor,boxShadow:`0 0 0 ${(0,li.bf)(Ci)} ${xe.activeOutlineColor}`,outline:0},[`${Ft}-prefix`]:{color:xe.color}}}},Re=(ae,xe)=>({[`&${ae.componentCls}-status-${xe.status}`]:Object.assign({},pe(ae,xe))}),Ke=ae=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},pe(ae,{borderColor:ae.colorBorder,hoverBorderHover:ae.hoverBorderColor,activeBorderColor:ae.activeBorderColor,activeOutlineColor:ae.activeOutlineColor,color:ae.colorText})),Re(ae,{status:"error",borderColor:ae.colorError,hoverBorderHover:ae.colorErrorHover,activeBorderColor:ae.colorError,activeOutlineColor:ae.colorErrorOutline,color:ae.colorError})),Re(ae,{status:"warning",borderColor:ae.colorWarning,hoverBorderHover:ae.colorWarningHover,activeBorderColor:ae.colorWarning,activeOutlineColor:ae.colorWarningOutline,color:ae.colorWarning})),{[`&${ae.componentCls}-disabled`]:{[`&:not(${ae.componentCls}-customize-input) ${ae.componentCls}-selector`]:{background:ae.colorBgContainerDisabled,color:ae.colorTextDisabled}},[`&${ae.componentCls}-multiple ${ae.componentCls}-selection-item`]:{background:ae.multipleItemBg,border:`${(0,li.bf)(ae.lineWidth)} ${ae.lineType} ${ae.multipleItemBorderColor}`}})}),_t=(ae,xe)=>{const{componentCls:Ft,antCls:jt}=ae;return{[`&:not(${Ft}-customize-input) ${Ft}-selector`]:{background:xe.bg,border:`${(0,li.bf)(ae.lineWidth)} ${ae.lineType} transparent`,color:xe.color},[`&:not(${Ft}-disabled):not(${Ft}-customize-input):not(${jt}-pagination-size-changer)`]:{[`&:hover ${Ft}-selector`]:{background:xe.hoverBg},[`${Ft}-focused& ${Ft}-selector`]:{background:ae.selectorBg,borderColor:xe.activeBorderColor,outline:0}}}},bt=(ae,xe)=>({[`&${ae.componentCls}-status-${xe.status}`]:Object.assign({},_t(ae,xe))}),ti=ae=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},_t(ae,{bg:ae.colorFillTertiary,hoverBg:ae.colorFillSecondary,activeBorderColor:ae.activeBorderColor,color:ae.colorText})),bt(ae,{status:"error",bg:ae.colorErrorBg,hoverBg:ae.colorErrorBgHover,activeBorderColor:ae.colorError,color:ae.colorError})),bt(ae,{status:"warning",bg:ae.colorWarningBg,hoverBg:ae.colorWarningBgHover,activeBorderColor:ae.colorWarning,color:ae.colorWarning})),{[`&${ae.componentCls}-disabled`]:{[`&:not(${ae.componentCls}-customize-input) ${ae.componentCls}-selector`]:{borderColor:ae.colorBorder,background:ae.colorBgContainerDisabled,color:ae.colorTextDisabled}},[`&${ae.componentCls}-multiple ${ae.componentCls}-selection-item`]:{background:ae.colorBgContainer,border:`${(0,li.bf)(ae.lineWidth)} ${ae.lineType} ${ae.colorSplit}`}})}),Jt=ae=>({"&-borderless":{[`${ae.componentCls}-selector`]:{background:"transparent",border:`${(0,li.bf)(ae.lineWidth)} ${ae.lineType} transparent`},[`&${ae.componentCls}-disabled`]:{[`&:not(${ae.componentCls}-customize-input) ${ae.componentCls}-selector`]:{color:ae.colorTextDisabled}},[`&${ae.componentCls}-multiple ${ae.componentCls}-selection-item`]:{background:ae.multipleItemBg,border:`${(0,li.bf)(ae.lineWidth)} ${ae.lineType} ${ae.multipleItemBorderColor}`},[`&${ae.componentCls}-status-error`]:{[`${ae.componentCls}-prefix, ${ae.componentCls}-selection-item`]:{color:ae.colorError}},[`&${ae.componentCls}-status-warning`]:{[`${ae.componentCls}-prefix, ${ae.componentCls}-selection-item`]:{color:ae.colorWarning}}}}),ln=(ae,xe)=>{const{componentCls:Ft,antCls:jt}=ae;return{[`&:not(${Ft}-customize-input) ${Ft}-selector`]:{borderWidth:`0 0 ${(0,li.bf)(ae.lineWidth)} 0`,borderStyle:`none none ${ae.lineType} none`,borderColor:xe.borderColor,background:ae.selectorBg,borderRadius:0},[`&:not(${Ft}-disabled):not(${Ft}-customize-input):not(${jt}-pagination-size-changer)`]:{[`&:hover ${Ft}-selector`]:{borderColor:xe.hoverBorderHover},[`${Ft}-focused& ${Ft}-selector`]:{borderColor:xe.activeBorderColor,outline:0},[`${Ft}-prefix`]:{color:xe.color}}}},An=(ae,xe)=>({[`&${ae.componentCls}-status-${xe.status}`]:Object.assign({},ln(ae,xe))}),Pi=ae=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},ln(ae,{borderColor:ae.colorBorder,hoverBorderHover:ae.hoverBorderColor,activeBorderColor:ae.activeBorderColor,activeOutlineColor:ae.activeOutlineColor,color:ae.colorText})),An(ae,{status:"error",borderColor:ae.colorError,hoverBorderHover:ae.colorErrorHover,activeBorderColor:ae.colorError,activeOutlineColor:ae.colorErrorOutline,color:ae.colorError})),An(ae,{status:"warning",borderColor:ae.colorWarning,hoverBorderHover:ae.colorWarningHover,activeBorderColor:ae.colorWarning,activeOutlineColor:ae.colorWarningOutline,color:ae.colorWarning})),{[`&${ae.componentCls}-disabled`]:{[`&:not(${ae.componentCls}-customize-input) ${ae.componentCls}-selector`]:{color:ae.colorTextDisabled}},[`&${ae.componentCls}-multiple ${ae.componentCls}-selection-item`]:{background:ae.multipleItemBg,border:`${(0,li.bf)(ae.lineWidth)} ${ae.lineType} ${ae.multipleItemBorderColor}`}})});var Ln=ae=>({[ae.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},Ke(ae)),ti(ae)),Jt(ae)),Pi(ae))});const Ji=ae=>{const{componentCls:xe}=ae;return{position:"relative",transition:`all ${ae.motionDurationMid} ${ae.motionEaseInOut}`,input:{cursor:"pointer"},[`${xe}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${xe}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},Kt=ae=>{const{componentCls:xe}=ae;return{[`${xe}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none",appearance:"none"}}}},Si=ae=>{const{antCls:xe,componentCls:Ft,inputPaddingHorizontalBase:jt,iconCls:Ci}=ae,Ki={[`${Ft}-clear`]:{opacity:1,background:ae.colorBgBase,borderRadius:"50%"}};return{[Ft]:Object.assign(Object.assign({},(0,F.Wf)(ae)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${Ft}-customize-input) ${Ft}-selector`]:Object.assign(Object.assign({},Ji(ae)),Kt(ae)),[`${Ft}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},F.vS),{[`> ${xe}-typography`]:{display:"inline"}}),[`${Ft}-selection-placeholder`]:Object.assign(Object.assign({},F.vS),{flex:1,color:ae.colorTextPlaceholder,pointerEvents:"none"}),[`${Ft}-arrow`]:Object.assign(Object.assign({},(0,F.Ro)()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:jt,height:ae.fontSizeIcon,marginTop:ae.calc(ae.fontSizeIcon).mul(-1).div(2).equal(),color:ae.colorTextQuaternary,fontSize:ae.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${ae.motionDurationSlow} ease`,[Ci]:{verticalAlign:"top",transition:`transform ${ae.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${Ft}-suffix)`]:{pointerEvents:"auto"}},[`${Ft}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${Ft}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${Ft}-prefix`]:{flex:"none",marginInlineEnd:ae.selectAffixPadding},[`${Ft}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:jt,zIndex:1,display:"inline-block",width:ae.fontSizeIcon,height:ae.fontSizeIcon,marginTop:ae.calc(ae.fontSizeIcon).mul(-1).div(2).equal(),color:ae.colorTextQuaternary,fontSize:ae.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${ae.motionDurationMid} ease, opacity ${ae.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:ae.colorIcon}},"@media(hover:none)":Ki,"&:hover":Ki}),[`${Ft}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${Ft}-has-feedback`]:{[`${Ft}-clear`]:{insetInlineEnd:ae.calc(jt).add(ae.fontSize).add(ae.paddingXS).equal()}}}}}},$i=ae=>{const{componentCls:xe}=ae;return[{[xe]:{[`&${xe}-in-form-item`]:{width:"100%"}}},Si(ae),Dn(ae),ns(ae),Ei(ae),{[`${xe}-rtl`]:{direction:"rtl"}},(0,re.c)(ae,{borderElCls:`${xe}-selector`,focusElCls:`${xe}-focused`})]};var gs=(0,Se.I$)("Select",(ae,xe)=>{let{rootPrefixCls:Ft}=xe;const jt=(0,Fe.IX)(ae,{rootPrefixCls:Ft,inputPaddingHorizontalBase:ae.calc(ae.paddingSM).sub(1).equal(),multipleSelectItemHeight:ae.multipleItemHeight,selectHeight:ae.controlHeight});return[$i(jt),Ln(jt)]},Ut,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}}),bs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},Rs=bs,We=function(xe,Ft){return g.createElement(y.Z,(0,Y.Z)({},xe,{ref:Ft,icon:Rs}))},d=g.forwardRef(We),N=d,z=c(4340),oe=c(97937),fe=c(80882),Ee=c(50888),Ve=c(68795);function dt(ae){let{suffixIcon:xe,clearIcon:Ft,menuItemSelectedIcon:jt,removeIcon:Ci,loading:Ki,multiple:Ni,hasFeedback:cn,prefixCls:mn,showSuffixIcon:Kn,feedbackIcon:Nn,showArrow:vn,componentName:_s}=ae;const pn=Ft!=null?Ft:g.createElement(z.Z,null),cs=Gs=>xe===null&&!cn&&!vn?null:g.createElement(g.Fragment,null,Kn!==!1&&Gs,cn&&Nn);let Qn=null;if(xe!==void 0)Qn=cs(xe);else if(Ki)Qn=cs(g.createElement(Ee.Z,{spin:!0}));else{const Gs=`${mn}-suffix`;Qn=As=>{let{open:xs,showSearch:ls}=As;return cs(xs&&ls?g.createElement(Ve.Z,{className:Gs}):g.createElement(fe.Z,{className:Gs}))}}let Rn=null;jt!==void 0?Rn=jt:Ni?Rn=g.createElement(N,null):Rn=null;let Ss=null;return Ci!==void 0?Ss=Ci:Ss=g.createElement(oe.Z,null),{clearIcon:pn,suffixIcon:Qn,itemIcon:Rn,removeIcon:Ss}}function At(ae,xe){return xe!==void 0?xe:ae!==null}var Ct=function(ae,xe){var Ft={};for(var jt in ae)Object.prototype.hasOwnProperty.call(ae,jt)&&xe.indexOf(jt)<0&&(Ft[jt]=ae[jt]);if(ae!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ci=0,jt=Object.getOwnPropertySymbols(ae);Ci<jt.length;Ci++)xe.indexOf(jt[Ci])<0&&Object.prototype.propertyIsEnumerable.call(ae,jt[Ci])&&(Ft[jt[Ci]]=ae[jt[Ci]]);return Ft};const Dt="SECRET_COMBOBOX_MODE_DO_NOT_USE",$t=(ae,xe)=>{var Ft;const{prefixCls:jt,bordered:Ci,className:Ki,rootClassName:Ni,getPopupContainer:cn,popupClassName:mn,dropdownClassName:Kn,listHeight:Nn=256,placement:vn,listItemHeight:_s,size:pn,disabled:cs,notFoundContent:Qn,status:Rn,builtinPlacements:Ss,dropdownMatchSelectWidth:Gs,popupMatchSelectWidth:As,direction:xs,style:ls,allowClear:Xn,variant:Vs,dropdownStyle:jn,transitionName:ys,tagRender:Ps,maxCount:Ns,prefix:Wi}=ae,Fn=Ct(ae,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix"]),{getPopupContainer:Fs,getPrefixCls:Os,renderEmpty:fo,direction:yo,virtual:No,popupMatchSelectWidth:Js,popupOverflow:ms}=g.useContext(me.E_),Ds=(0,me.dj)("select"),[,To]=(0,un.ZP)(),Ko=_s!=null?_s:To==null?void 0:To.controlHeight,_o=Os("select",jt),Po=Os(),ro=xs!=null?xs:yo,{compactSize:Co,compactItemClassnames:hr}=(0,mi.ri)(_o,ro),[Qo,Bo]=(0,Li.Z)("select",Vs,Ci),fs=(0,qt.Z)(_o),[Hn,Ts,$s]=gs(_o,fs),$n=g.useMemo(()=>{const{mode:mr}=ae;if(mr!=="combobox")return mr===Dt?"combobox":mr},[ae.mode]),On=$n==="multiple"||$n==="tags",Zs=At(ae.suffixIcon,ae.showArrow),go=(Ft=As!=null?As:Gs)!==null&&Ft!==void 0?Ft:Js,{status:eo,hasFeedback:Ro,isFormItemInput:er,feedbackIcon:fr}=g.useContext(vi.aM),Zo=(0,ut.F)(eo,Rn);let Lo;Qn!==void 0?Lo=Qn:$n==="combobox"?Lo=null:Lo=(fo==null?void 0:fo("Select"))||g.createElement(gt.Z,{componentName:"Select"});const{suffixIcon:or,itemIcon:_r,removeIcon:Xo,clearIcon:Wo}=dt(Object.assign(Object.assign({},Fn),{multiple:On,hasFeedback:Ro,feedbackIcon:fr,showSuffixIcon:Zs,prefixCls:_o,componentName:"Select"})),rr=Xn===!0?{clearIcon:Wo}:Xn,ko=(0,fi.Z)(Fn,["suffixIcon","itemIcon"]),ar=D()(mn||Kn,{[`${_o}-dropdown-${ro}`]:ro==="rtl"},Ni,$s,fs,Ts),vr=(0,de.Z)(mr=>{var Go;return(Go=pn!=null?pn:Co)!==null&&Go!==void 0?Go:mr}),tr=g.useContext(Bt.Z),Do=cs!=null?cs:tr,mo=D()({[`${_o}-lg`]:vr==="large",[`${_o}-sm`]:vr==="small",[`${_o}-rtl`]:ro==="rtl",[`${_o}-${Qo}`]:Bo,[`${_o}-in-form-item`]:er},(0,ut.Z)(_o,Zo,Ro),hr,Ds.className,Ki,Ni,$s,fs,Ts),ir=g.useMemo(()=>vn!==void 0?vn:ro==="rtl"?"bottomRight":"bottomLeft",[vn,ro]),[gr]=(0,ho.Cn)("SelectLike",jn==null?void 0:jn.zIndex);return Hn(g.createElement(Ws,Object.assign({ref:xe,virtual:No,showSearch:Ds.showSearch},ko,{style:Object.assign(Object.assign({},Ds.style),ls),dropdownMatchSelectWidth:go,transitionName:(0,hi.m)(Po,"slide-up",ys),builtinPlacements:Rt(Ss,ms),listHeight:Nn,listItemHeight:Ko,mode:$n,prefixCls:_o,placement:ir,direction:ro,prefix:Wi,suffixIcon:or,menuItemSelectedIcon:_r,removeIcon:Xo,allowClear:rr,notFoundContent:Lo,className:mo,getPopupContainer:cn||Fs,dropdownClassName:ar,disabled:Do,dropdownStyle:Object.assign(Object.assign({},jn),{zIndex:gr}),maxCount:On?Ns:void 0,tagRender:On?Ps:void 0})))},si=g.forwardRef($t),ui=(0,ge.Z)(si,"dropdownAlign");si.SECRET_COMBOBOX_MODE_DO_NOT_USE=Dt,si.Option=ei,si.OptGroup=ft,si._InternalPanelDoNotUseOrYouWillBeFired=ui;var Ti=si,Fi=c(47673),Zi=c(20353),yn=c(93900);const as=ae=>{const{componentCls:xe}=ae;return{[`${xe}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${xe}-item-link`]:{color:ae.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${xe}-item-link`]:{color:ae.colorTextDisabled,cursor:"not-allowed"}}},[`&${xe}-disabled`]:{cursor:"not-allowed",[`${xe}-item`]:{cursor:"not-allowed",backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"},a:{color:ae.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:ae.colorBorder,backgroundColor:ae.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:ae.itemActiveBgDisabled},a:{color:ae.itemActiveColorDisabled}}},[`${xe}-item-link`]:{color:ae.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${xe}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${xe}-simple-pager`]:{color:ae.colorTextDisabled},[`${xe}-jump-prev, ${xe}-jump-next`]:{[`${xe}-item-link-icon`]:{opacity:0},[`${xe}-item-ellipsis`]:{opacity:1}}},[`&${xe}-simple`]:{[`${xe}-prev, ${xe}-next`]:{[`&${xe}-disabled ${xe}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},wn=ae=>{const{componentCls:xe}=ae;return{[`&${xe}-mini ${xe}-total-text, &${xe}-mini ${xe}-simple-pager`]:{height:ae.itemSizeSM,lineHeight:(0,li.bf)(ae.itemSizeSM)},[`&${xe}-mini ${xe}-item`]:{minWidth:ae.itemSizeSM,height:ae.itemSizeSM,margin:0,lineHeight:(0,li.bf)(ae.calc(ae.itemSizeSM).sub(2).equal())},[`&${xe}-mini ${xe}-prev, &${xe}-mini ${xe}-next`]:{minWidth:ae.itemSizeSM,height:ae.itemSizeSM,margin:0,lineHeight:(0,li.bf)(ae.itemSizeSM)},[`&${xe}-mini:not(${xe}-disabled)`]:{[`${xe}-prev, ${xe}-next`]:{[`&:hover ${xe}-item-link`]:{backgroundColor:ae.colorBgTextHover},[`&:active ${xe}-item-link`]:{backgroundColor:ae.colorBgTextActive},[`&${xe}-disabled:hover ${xe}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${xe}-mini ${xe}-prev ${xe}-item-link,
    &${xe}-mini ${xe}-next ${xe}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:ae.itemSizeSM,lineHeight:(0,li.bf)(ae.itemSizeSM)}},[`&${xe}-mini ${xe}-jump-prev, &${xe}-mini ${xe}-jump-next`]:{height:ae.itemSizeSM,marginInlineEnd:0,lineHeight:(0,li.bf)(ae.itemSizeSM)},[`&${xe}-mini ${xe}-options`]:{marginInlineStart:ae.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:ae.miniOptionsSizeChangerTop},"&-quick-jumper":{height:ae.itemSizeSM,lineHeight:(0,li.bf)(ae.itemSizeSM),input:Object.assign(Object.assign({},(0,Fi.x0)(ae)),{width:ae.paginationMiniQuickJumperInputWidth,height:ae.controlHeightSM})}}}},rn=ae=>{const{componentCls:xe}=ae;return{[`
    &${xe}-simple ${xe}-prev,
    &${xe}-simple ${xe}-next
    `]:{height:ae.itemSizeSM,lineHeight:(0,li.bf)(ae.itemSizeSM),verticalAlign:"top",[`${xe}-item-link`]:{height:ae.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:ae.colorBgTextHover},"&:active":{backgroundColor:ae.colorBgTextActive},"&::after":{height:ae.itemSizeSM,lineHeight:(0,li.bf)(ae.itemSizeSM)}}},[`&${xe}-simple ${xe}-simple-pager`]:{display:"inline-block",height:ae.itemSizeSM,marginInlineEnd:ae.marginXS,input:{boxSizing:"border-box",height:"100%",padding:`0 ${(0,li.bf)(ae.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:ae.itemInputBg,border:`${(0,li.bf)(ae.lineWidth)} ${ae.lineType} ${ae.colorBorder}`,borderRadius:ae.borderRadius,outline:"none",transition:`border-color ${ae.motionDurationMid}`,color:"inherit","&:hover":{borderColor:ae.colorPrimary},"&:focus":{borderColor:ae.colorPrimaryHover,boxShadow:`${(0,li.bf)(ae.inputOutlineOffset)} 0 ${(0,li.bf)(ae.controlOutlineWidth)} ${ae.controlOutline}`},"&[disabled]":{color:ae.colorTextDisabled,backgroundColor:ae.colorBgContainerDisabled,borderColor:ae.colorBorder,cursor:"not-allowed"}}}}},oo=ae=>{const{componentCls:xe}=ae;return{[`${xe}-jump-prev, ${xe}-jump-next`]:{outline:0,[`${xe}-item-container`]:{position:"relative",[`${xe}-item-link-icon`]:{color:ae.colorPrimary,fontSize:ae.fontSizeSM,opacity:0,transition:`all ${ae.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${xe}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:ae.colorTextDisabled,letterSpacing:ae.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:ae.paginationEllipsisTextIndent,opacity:1,transition:`all ${ae.motionDurationMid}`}},"&:hover":{[`${xe}-item-link-icon`]:{opacity:1},[`${xe}-item-ellipsis`]:{opacity:0}}},[`
    ${xe}-prev,
    ${xe}-jump-prev,
    ${xe}-jump-next
    `]:{marginInlineEnd:ae.marginXS},[`
    ${xe}-prev,
    ${xe}-next,
    ${xe}-jump-prev,
    ${xe}-jump-next
    `]:{display:"inline-block",minWidth:ae.itemSize,height:ae.itemSize,color:ae.colorText,fontFamily:ae.fontFamily,lineHeight:(0,li.bf)(ae.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:ae.borderRadius,cursor:"pointer",transition:`all ${ae.motionDurationMid}`},[`${xe}-prev, ${xe}-next`]:{outline:0,button:{color:ae.colorText,cursor:"pointer",userSelect:"none"},[`${xe}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:ae.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${(0,li.bf)(ae.lineWidth)} ${ae.lineType} transparent`,borderRadius:ae.borderRadius,outline:"none",transition:`all ${ae.motionDurationMid}`},[`&:hover ${xe}-item-link`]:{backgroundColor:ae.colorBgTextHover},[`&:active ${xe}-item-link`]:{backgroundColor:ae.colorBgTextActive},[`&${xe}-disabled:hover`]:{[`${xe}-item-link`]:{backgroundColor:"transparent"}}},[`${xe}-slash`]:{marginInlineEnd:ae.paginationSlashMarginInlineEnd,marginInlineStart:ae.paginationSlashMarginInlineStart},[`${xe}-options`]:{display:"inline-block",marginInlineStart:ae.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:ae.controlHeight,marginInlineStart:ae.marginXS,lineHeight:(0,li.bf)(ae.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},(0,Fi.ik)(ae)),(0,yn.$U)(ae,{borderColor:ae.colorBorder,hoverBorderColor:ae.colorPrimaryHover,activeBorderColor:ae.colorPrimary,activeShadow:ae.activeShadow})),{"&[disabled]":Object.assign({},(0,yn.Xy)(ae)),width:ae.calc(ae.controlHeightLG).mul(1.25).equal(),height:ae.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:ae.marginXS,marginInlineEnd:ae.marginXS})}}}},Ks=ae=>{const{componentCls:xe}=ae;return{[`${xe}-item`]:{display:"inline-block",minWidth:ae.itemSize,height:ae.itemSize,marginInlineEnd:ae.marginXS,fontFamily:ae.fontFamily,lineHeight:(0,li.bf)(ae.calc(ae.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:ae.itemBg,border:`${(0,li.bf)(ae.lineWidth)} ${ae.lineType} transparent`,borderRadius:ae.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${(0,li.bf)(ae.paginationItemPaddingInline)}`,color:ae.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${xe}-item-active)`]:{"&:hover":{transition:`all ${ae.motionDurationMid}`,backgroundColor:ae.colorBgTextHover},"&:active":{backgroundColor:ae.colorBgTextActive}},"&-active":{fontWeight:ae.fontWeightStrong,backgroundColor:ae.itemActiveBg,borderColor:ae.colorPrimary,a:{color:ae.colorPrimary},"&:hover":{borderColor:ae.colorPrimaryHover},"&:hover a":{color:ae.colorPrimaryHover}}}}},js=ae=>{const{componentCls:xe}=ae;return{[xe]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,F.Wf)(ae)),{display:"flex","&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${xe}-total-text`]:{display:"inline-block",height:ae.itemSize,marginInlineEnd:ae.marginXS,lineHeight:(0,li.bf)(ae.calc(ae.itemSize).sub(2).equal()),verticalAlign:"middle"}}),Ks(ae)),oo(ae)),rn(ae)),wn(ae)),as(ae)),{[`@media only screen and (max-width: ${ae.screenLG}px)`]:{[`${xe}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${ae.screenSM}px)`]:{[`${xe}-options`]:{display:"none"}}}),[`&${ae.componentCls}-rtl`]:{direction:"rtl"}}},Us=ae=>{const{componentCls:xe}=ae;return{[`${xe}:not(${xe}-disabled)`]:{[`${xe}-item`]:Object.assign({},(0,F.Qy)(ae)),[`${xe}-jump-prev, ${xe}-jump-next`]:{"&:focus-visible":Object.assign({[`${xe}-item-link-icon`]:{opacity:1},[`${xe}-item-ellipsis`]:{opacity:0}},(0,F.oN)(ae))},[`${xe}-prev, ${xe}-next`]:{[`&:focus-visible ${xe}-item-link`]:Object.assign({},(0,F.oN)(ae))}}}},dr=ae=>Object.assign({itemBg:ae.colorBgContainer,itemSize:ae.controlHeight,itemSizeSM:ae.controlHeightSM,itemActiveBg:ae.colorBgContainer,itemLinkBg:ae.colorBgContainer,itemActiveColorDisabled:ae.colorTextDisabled,itemActiveBgDisabled:ae.controlItemBgActiveDisabled,itemInputBg:ae.colorBgContainer,miniOptionsSizeChangerTop:0},(0,Zi.T)(ae)),cr=ae=>(0,Fe.IX)(ae,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:ae.calc(ae.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:ae.calc(ae.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:ae.calc(ae.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:ae.calc(ae.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:ae.marginSM,paginationSlashMarginInlineEnd:ae.marginSM,paginationEllipsisTextIndent:"0.13em"},(0,Zi.e)(ae));var pr=(0,Se.I$)("Pagination",ae=>{const xe=cr(ae);return[js(xe),Us(xe)]},dr);const br=ae=>{const{componentCls:xe}=ae;return{[`${xe}${xe}-bordered${xe}-disabled:not(${xe}-mini)`]:{"&, &:hover":{[`${xe}-item-link`]:{borderColor:ae.colorBorder}},"&:focus-visible":{[`${xe}-item-link`]:{borderColor:ae.colorBorder}},[`${xe}-item, ${xe}-item-link`]:{backgroundColor:ae.colorBgContainerDisabled,borderColor:ae.colorBorder,[`&:hover:not(${xe}-item-active)`]:{backgroundColor:ae.colorBgContainerDisabled,borderColor:ae.colorBorder,a:{color:ae.colorTextDisabled}},[`&${xe}-item-active`]:{backgroundColor:ae.itemActiveBgDisabled}},[`${xe}-prev, ${xe}-next`]:{"&:hover button":{backgroundColor:ae.colorBgContainerDisabled,borderColor:ae.colorBorder,color:ae.colorTextDisabled},[`${xe}-item-link`]:{backgroundColor:ae.colorBgContainerDisabled,borderColor:ae.colorBorder}}},[`${xe}${xe}-bordered:not(${xe}-mini)`]:{[`${xe}-prev, ${xe}-next`]:{"&:hover button":{borderColor:ae.colorPrimaryHover,backgroundColor:ae.itemBg},[`${xe}-item-link`]:{backgroundColor:ae.itemLinkBg,borderColor:ae.colorBorder},[`&:hover ${xe}-item-link`]:{borderColor:ae.colorPrimary,backgroundColor:ae.itemBg,color:ae.colorPrimary},[`&${xe}-disabled`]:{[`${xe}-item-link`]:{borderColor:ae.colorBorder,color:ae.colorTextDisabled}}},[`${xe}-item`]:{backgroundColor:ae.itemBg,border:`${(0,li.bf)(ae.lineWidth)} ${ae.lineType} ${ae.colorBorder}`,[`&:hover:not(${xe}-item-active)`]:{borderColor:ae.colorPrimary,backgroundColor:ae.itemBg,a:{color:ae.colorPrimary}},"&-active":{borderColor:ae.colorPrimary}}}}};var Ar=(0,Se.bk)(["Pagination","bordered"],ae=>{const xe=cr(ae);return[br(xe)]},dr);function wr(ae){return(0,g.useMemo)(()=>typeof ae=="boolean"?[ae,{}]:ae&&typeof ae=="object"?[!0,ae]:[void 0,void 0],[ae])}var Or=function(ae,xe){var Ft={};for(var jt in ae)Object.prototype.hasOwnProperty.call(ae,jt)&&xe.indexOf(jt)<0&&(Ft[jt]=ae[jt]);if(ae!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ci=0,jt=Object.getOwnPropertySymbols(ae);Ci<jt.length;Ci++)xe.indexOf(jt[Ci])<0&&Object.prototype.propertyIsEnumerable.call(ae,jt[Ci])&&(Ft[jt[Ci]]=ae[jt[Ci]]);return Ft},Kr=ae=>{const{align:xe,prefixCls:Ft,selectPrefixCls:jt,className:Ci,rootClassName:Ki,style:Ni,size:cn,locale:mn,responsive:Kn,showSizeChanger:Nn,selectComponentClass:vn,pageSizeOptions:_s}=ae,pn=Or(ae,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:cs}=(0,Pe.Z)(Kn),[,Qn]=(0,un.ZP)(),{getPrefixCls:Rn,direction:Ss,showSizeChanger:Gs,className:As,style:xs}=(0,me.dj)("pagination"),ls=Rn("pagination",Ft),[Xn,Vs,jn]=pr(ls),ys=(0,de.Z)(cn),Ps=ys==="small"||!!(cs&&!ys&&Kn),[Ns]=(0,Me.Z)("Pagination",te.Z),Wi=Object.assign(Object.assign({},Ns),mn),[Fn,Fs]=wr(Nn),[Os,fo]=wr(Gs),yo=Fn!=null?Fn:Os,No=Fs!=null?Fs:fo,Js=vn||Ti,ms=g.useMemo(()=>_s?_s.map(ro=>Number(ro)):void 0,[_s]),Ds=ro=>{var Co;const{disabled:hr,size:Qo,onSizeChange:Bo,"aria-label":fs,className:Hn,options:Ts}=ro,{className:$s,onChange:$n}=No||{},On=(Co=Ts.find(Zs=>String(Zs.value)===String(Qo)))===null||Co===void 0?void 0:Co.value;return g.createElement(Js,Object.assign({disabled:hr,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:Zs=>Zs.parentNode,"aria-label":fs,options:Ts},No,{value:On,onChange:(Zs,go)=>{Bo==null||Bo(Zs),$n==null||$n(Zs,go)},size:Ps?"small":"middle",className:D()(Hn,$s)}))},To=g.useMemo(()=>{const ro=g.createElement("span",{className:`${ls}-item-ellipsis`},"\u2022\u2022\u2022"),Co=g.createElement("button",{className:`${ls}-item-link`,type:"button",tabIndex:-1},Ss==="rtl"?g.createElement(x.Z,null):g.createElement(r.Z,null)),hr=g.createElement("button",{className:`${ls}-item-link`,type:"button",tabIndex:-1},Ss==="rtl"?g.createElement(r.Z,null):g.createElement(x.Z,null)),Qo=g.createElement("a",{className:`${ls}-item-link`},g.createElement("div",{className:`${ls}-item-container`},Ss==="rtl"?g.createElement(V,{className:`${ls}-item-link-icon`}):g.createElement(P,{className:`${ls}-item-link-icon`}),ro)),Bo=g.createElement("a",{className:`${ls}-item-link`},g.createElement("div",{className:`${ls}-item-container`},Ss==="rtl"?g.createElement(P,{className:`${ls}-item-link-icon`}):g.createElement(V,{className:`${ls}-item-link-icon`}),ro));return{prevIcon:Co,nextIcon:hr,jumpPrevIcon:Qo,jumpNextIcon:Bo}},[Ss,ls]),Ko=Rn("select",jt),_o=D()({[`${ls}-${xe}`]:!!xe,[`${ls}-mini`]:Ps,[`${ls}-rtl`]:Ss==="rtl",[`${ls}-bordered`]:Qn.wireframe},As,Ci,Ki,Vs,jn),Po=Object.assign(Object.assign({},xs),Ni);return Xn(g.createElement(g.Fragment,null,Qn.wireframe&&g.createElement(Ar,{prefixCls:ls}),g.createElement(B,Object.assign({},To,pn,{style:Po,prefixCls:ls,selectPrefixCls:Ko,className:_o,locale:Wi,pageSizeOptions:ms,showSizeChanger:yo,sizeChangerRender:Ds}))))},aa=Kr},33297:function(Yt,Ue,c){"use strict";c.d(Ue,{Fm:function(){return C}});var g=c(11568),Y=c(93590);const Q=new g.E4("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),O=new g.E4("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),y=new g.E4("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),J=new g.E4("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),k=new g.E4("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),P=new g.E4("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),s=new g.E4("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),I=new g.E4("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),m={"move-up":{inKeyframes:s,outKeyframes:I},"move-down":{inKeyframes:Q,outKeyframes:O},"move-left":{inKeyframes:y,outKeyframes:J},"move-right":{inKeyframes:k,outKeyframes:P}},C=(V,r)=>{const{antCls:x}=V,w=`${x}-${r}`,{inKeyframes:D,outKeyframes:f}=m[r];return[(0,Y.R)(w,D,f,V.motionDurationMid),{[`
        ${w}-enter,
        ${w}-appear
      `]:{opacity:0,animationTimingFunction:V.motionEaseOutCirc},[`${w}-leave`]:{animationTimingFunction:V.motionEaseInOutCirc}}]}},50048:function(Yt,Ue,c){self.MonacoEnvironment=function(g){function Y(Q){return Q.replace(/\/$/,"")}return{globalAPI:!1,getWorkerUrl:function(Q,O){var y=c.p,J=(y?Y(y)+"/":"")+g[O];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(J)){var k=String(window.location),P=k.substr(0,k.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(J.substring(0,P.length)!==P){/^(\/\/)/.test(J)&&(J=window.location.protocol+J);var s="/*"+O+'*/importScripts("'+J+'");',I=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(I)}}return J}}}({editorWorkerService:"editor.worker.js",typescript:"ts.worker.js",json:"json.worker.js",html:"html.worker.js",css:"css.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"}),c(89495),c(40539),c(44818),c(5697),c(5964),c(22860),c(73707),c(17369),Yt.exports=c(96480),c(43763),c(88307),c(15422),c(72323),c(40902),c(68423),c(56292),c(40605)},16268:function(Yt,Ue,c){"use strict";c.d(Ue,{$W:function(){return x},Dt:function(){return r},G6:function(){return C},MG:function(){return V},Pf:function(){return I},WP:function(){return O},fX:function(){return y},i7:function(){return m},ie:function(){return J},mX:function(){return k},px:function(){return Q},vU:function(){return s}});var g=c(4669);class Y{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new g.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let D=document.createElement("canvas").getContext("2d"),f=window.devicePixelRatio||1,v=D.webkitBackingStorePixelRatio||D.mozBackingStorePixelRatio||D.msBackingStorePixelRatio||D.oBackingStorePixelRatio||D.backingStorePixelRatio||1;return f/v}}Y.INSTANCE=new Y;function Q(){return Y.INSTANCE.getZoomLevel()}function O(){return Y.INSTANCE.getTimeSinceLastZoomLevelChanged()}function y(w){return Y.INSTANCE.onDidChangeZoomLevel(w)}function J(){return Y.INSTANCE.getZoomFactor()}function k(){return Y.INSTANCE.getPixelRatio()}const P=navigator.userAgent,s=P.indexOf("Firefox")>=0,I=P.indexOf("AppleWebKit")>=0,m=P.indexOf("Chrome")>=0,C=!m&&P.indexOf("Safari")>=0,V=!m&&!C&&I,r=P.indexOf("Android")>=0,x=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches},10161:function(Yt,Ue,c){"use strict";c.d(Ue,{D:function(){return Q}});var g=c(16268),Y=c(1432);const Q={clipboard:{writeText:Y.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:Y.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:Y.tY||g.$W?0:navigator.keyboard||g.G6?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},23547:function(Yt,Ue,c){"use strict";c.d(Ue,{P$:function(){return O},TN:function(){return Q},go:function(){return Y}});var g=c(81170);const Y={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:g.vW.text,TERMINALS:"Terminals"};class Q{constructor(J){this.data=J}update(){}getData(){return this.data}}const O={CurrentDragAndDropData:void 0}},65321:function(Yt,Ue,c){"use strict";c.d(Ue,{$:function(){return wi},$Z:function(){return ii},Ay:function(){return kt},Ce:function(){return Lt},Cp:function(){return Ui},D6:function(){return $},DI:function(){return te},Dx:function(){return Z},FK:function(){return de},Fx:function(){return It},Gw:function(){return f},H$:function(){return Mn},If:function(){return Pe},Lo:function(){return v},OO:function(){return it},PO:function(){return m},R3:function(){return Gt},RE:function(){return R},Re:function(){return Oe},Ro:function(){return q},Uh:function(){return Ri},Uw:function(){return C},V3:function(){return ps},Y_:function(){return le},_0:function(){return Pt},_h:function(){return Xi},_q:function(){return Vn},dS:function(){return he},dp:function(){return S},fk:function(){return rt},go:function(){return ci},i:function(){return B},jL:function(){return ie},j_:function(){return h},jg:function(){return nt},jt:function(){return Zn},lI:function(){return K},mc:function(){return Ai},mu:function(){return D},nm:function(){return r},qV:function(){return L},tw:function(){return we},uB:function(){return qi},uN:function(){return Ne},uU:function(){return ht},vL:function(){return st},vY:function(){return ze},w:function(){return me},wY:function(){return Bn},wn:function(){return Me},xQ:function(){return p},zB:function(){return Ye}});var g=c(16268),Y=c(10161),Q=c(59069),O=c(23938),y=c(15393),J=c(17301),k=c(4669),P=c(5976),s=c(66663),I=c(1432);function m(je){for(;je.firstChild;)je.firstChild.remove()}function C(je){var Tt;return(Tt=je==null?void 0:je.isConnected)!==null&&Tt!==void 0?Tt:!1}class V{constructor(Tt,St,Ze,Je){this._node=Tt,this._type=St,this._handler=Ze,this._options=Je||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function r(je,Tt,St,Ze){return new V(je,Tt,St,Ze)}function x(je){return function(Tt){return je(new O.n(Tt))}}function w(je){return function(Tt){return je(new Q.y(Tt))}}let D=function(Tt,St,Ze,Je){let xt=Ze;return St==="click"||St==="mousedown"?xt=x(Ze):(St==="keydown"||St==="keypress"||St==="keyup")&&(xt=w(Ze)),r(Tt,St,xt,Je)},f=function(Tt,St,Ze){let Je=x(St);return v(Tt,Je,Ze)};function v(je,Tt,St){return r(je,I.gn&&Y.D.pointerEvents?we.POINTER_DOWN:we.MOUSE_DOWN,Tt,St)}function L(je,Tt,St){return r(je,I.gn&&Y.D.pointerEvents?we.POINTER_UP:we.MOUSE_UP,Tt,St)}function h(je,Tt){return r(je,"mouseout",St=>{let Ze=St.relatedTarget;for(;Ze&&Ze!==je;)Ze=Ze.parentNode;Ze!==je&&Tt(St)})}function R(je,Tt){return r(je,"pointerout",St=>{let Ze=St.relatedTarget;for(;Ze&&Ze!==je;)Ze=Ze.parentNode;Ze!==je&&Tt(St)})}let T=null;function W(je){if(!T){const Tt=St=>setTimeout(()=>St(new Date().getTime()),0);T=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||Tt}return T.call(self,je)}let K,ie;class ce{constructor(Tt,St=0){this._runner=Tt,this.priority=St,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Tt){(0,J.dL)(Tt)}}static sort(Tt,St){return St.priority-Tt.priority}}(function(){let je=[],Tt=null,St=!1,Ze=!1,Je=()=>{for(St=!1,Tt=je,je=[],Ze=!0;Tt.length>0;)Tt.sort(ce.sort),Tt.shift().execute();Ze=!1};ie=(xt,yt=0)=>{let Xt=new ce(xt,yt);return je.push(Xt),St||(St=!0,W(Je)),Xt},K=(xt,yt)=>{if(Ze){let Xt=new ce(xt,yt);return Tt.push(Xt),Xt}else return ie(xt,yt)}})();const _e=8,ve=function(je,Tt){return Tt};class De extends P.JT{constructor(Tt,St,Ze,Je=ve,xt=_e){super();let yt=null,Xt=0,ni=this._register(new y._F),gi=()=>{Xt=new Date().getTime(),Ze(yt),yt=null};this._register(r(Tt,St,Gi=>{yt=Je(yt,Gi);let ji=new Date().getTime()-Xt;ji>=xt?(ni.cancel(),gi()):ni.setIfNotSet(gi,xt-ji)}))}}function le(je,Tt,St,Ze,Je){return new De(je,Tt,St,Ze,Je)}function Z(je){return document.defaultView.getComputedStyle(je,null)}function $(je){if(je!==document.body)return new q(je.clientWidth,je.clientHeight);if(I.gn&&window.visualViewport)return new q(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new q(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new q(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new q(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class G{static convertToPixels(Tt,St){return parseFloat(St)||0}static getDimension(Tt,St,Ze){let Je=Z(Tt),xt="0";return Je&&(Je.getPropertyValue?xt=Je.getPropertyValue(St):xt=Je.getAttribute(Ze)),G.convertToPixels(Tt,xt)}static getBorderLeftWidth(Tt){return G.getDimension(Tt,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Tt){return G.getDimension(Tt,"border-right-width","borderRightWidth")}static getBorderTopWidth(Tt){return G.getDimension(Tt,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Tt){return G.getDimension(Tt,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Tt){return G.getDimension(Tt,"padding-left","paddingLeft")}static getPaddingRight(Tt){return G.getDimension(Tt,"padding-right","paddingRight")}static getPaddingTop(Tt){return G.getDimension(Tt,"padding-top","paddingTop")}static getPaddingBottom(Tt){return G.getDimension(Tt,"padding-bottom","paddingBottom")}static getMarginLeft(Tt){return G.getDimension(Tt,"margin-left","marginLeft")}static getMarginTop(Tt){return G.getDimension(Tt,"margin-top","marginTop")}static getMarginRight(Tt){return G.getDimension(Tt,"margin-right","marginRight")}static getMarginBottom(Tt){return G.getDimension(Tt,"margin-bottom","marginBottom")}}class q{constructor(Tt,St){this.width=Tt,this.height=St}with(Tt=this.width,St=this.height){return Tt!==this.width||St!==this.height?new q(Tt,St):this}static is(Tt){return typeof Tt=="object"&&typeof Tt.height=="number"&&typeof Tt.width=="number"}static lift(Tt){return Tt instanceof q?Tt:new q(Tt.width,Tt.height)}static equals(Tt,St){return Tt===St?!0:!Tt||!St?!1:Tt.width===St.width&&Tt.height===St.height}}function p(je){let Tt=je.offsetParent,St=je.offsetTop,Ze=je.offsetLeft;for(;(je=je.parentNode)!==null&&je!==document.body&&je!==document.documentElement;){St-=je.scrollTop;const Je=Mt(je)?null:Z(je);Je&&(Ze-=Je.direction!=="rtl"?je.scrollLeft:-je.scrollLeft),je===Tt&&(Ze+=G.getBorderLeftWidth(je),St+=G.getBorderTopWidth(je),St+=je.offsetTop,Ze+=je.offsetLeft,Tt=je.offsetParent)}return{left:Ze,top:St}}function S(je,Tt,St){typeof Tt=="number"&&(je.style.width=`${Tt}px`),typeof St=="number"&&(je.style.height=`${St}px`)}function B(je){let Tt=je.getBoundingClientRect();return{left:Tt.left+te.scrollX,top:Tt.top+te.scrollY,width:Tt.width,height:Tt.height}}const te=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function me(je){let Tt=G.getMarginLeft(je)+G.getMarginRight(je);return je.offsetWidth+Tt}function de(je){let Tt=G.getBorderLeftWidth(je)+G.getBorderRightWidth(je),St=G.getPaddingLeft(je)+G.getPaddingRight(je);return je.offsetWidth-Tt-St}function Pe(je){let Tt=G.getBorderTopWidth(je)+G.getBorderBottomWidth(je),St=G.getPaddingTop(je)+G.getPaddingBottom(je);return je.offsetHeight-Tt-St}function Me(je){let Tt=G.getMarginTop(je)+G.getMarginBottom(je);return je.offsetHeight+Tt}function nt(je,Tt){for(;je;){if(je===Tt)return!0;je=je.parentNode}return!1}function It(je,Tt,St){for(;je&&je.nodeType===je.ELEMENT_NODE;){if(je.classList.contains(Tt))return je;if(St){if(typeof St=="string"){if(je.classList.contains(St))return null}else if(je===St)return null}je=je.parentNode}return null}function ht(je,Tt,St){return!!It(je,Tt,St)}function Mt(je){return je&&!!je.host&&!!je.mode}function it(je){return!!kt(je)}function kt(je){for(;je.parentNode;){if(je===document.body)return null;je=je.parentNode}return Mt(je)?je:null}function ze(){let je=document.activeElement;for(;je!=null&&je.shadowRoot;)je=je.shadowRoot.activeElement;return je}function he(je=document.getElementsByTagName("head")[0]){let Tt=document.createElement("style");return Tt.type="text/css",Tt.media="screen",je.appendChild(Tt),Tt}let ke=null;function et(){return ke||(ke=he()),ke}function at(je){var Tt,St;return!((Tt=je==null?void 0:je.sheet)===null||Tt===void 0)&&Tt.rules?je.sheet.rules:!((St=je==null?void 0:je.sheet)===null||St===void 0)&&St.cssRules?je.sheet.cssRules:[]}function rt(je,Tt,St=et()){!St||!Tt||St.sheet.insertRule(je+"{"+Tt+"}",0)}function Ne(je,Tt=et()){if(!Tt)return;let St=at(Tt),Ze=[];for(let Je=0;Je<St.length;Je++)St[Je].selectorText.indexOf(je)!==-1&&Ze.push(Je);for(let Je=Ze.length-1;Je>=0;Je--)Tt.sheet.deleteRule(Ze[Je])}function Oe(je){return typeof HTMLElement=="object"?je instanceof HTMLElement:je&&typeof je=="object"&&je.nodeType===1&&typeof je.nodeName=="string"}const we={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:g.Pf?"webkitAnimationStart":"animationstart",ANIMATION_END:g.Pf?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:g.Pf?"webkitAnimationIteration":"animationiteration"},Ye={stop:function(je,Tt){je.preventDefault?je.preventDefault():je.returnValue=!1,Tt&&(je.stopPropagation?je.stopPropagation():je.cancelBubble=!0)}};function st(je){let Tt=[];for(let St=0;je&&je.nodeType===je.ELEMENT_NODE;St++)Tt[St]=je.scrollTop,je=je.parentNode;return Tt}function Pt(je,Tt){for(let St=0;je&&je.nodeType===je.ELEMENT_NODE;St++)je.scrollTop!==Tt[St]&&(je.scrollTop=Tt[St]),je=je.parentNode}class Qt extends P.JT{constructor(Tt){super(),this._onDidFocus=this._register(new k.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new k.Q5),this.onDidBlur=this._onDidBlur.event;let St=nt(document.activeElement,Tt),Ze=!1;const Je=()=>{Ze=!1,St||(St=!0,this._onDidFocus.fire())},xt=()=>{St&&(Ze=!0,window.setTimeout(()=>{Ze&&(Ze=!1,St=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{nt(document.activeElement,Tt)!==St&&(St?xt():Je())},this._register(r(Tt,we.FOCUS,Je,!0)),this._register(r(Tt,we.BLUR,xt,!0))}}function ci(je){return new Qt(je)}function Gt(je,...Tt){if(je.append(...Tt),Tt.length===1&&typeof Tt[0]!="string")return Tt[0]}function Lt(je,Tt){return je.insertBefore(Tt,je.firstChild),Tt}function Ai(je,...Tt){je.innerText="",Gt(je,...Tt)}const oi=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var $e;(function(je){je.HTML="http://www.w3.org/1999/xhtml",je.SVG="http://www.w3.org/2000/svg"})($e||($e={}));function Xe(je,Tt,St,...Ze){let Je=oi.exec(Tt);if(!Je)throw new Error("Bad use of emmet");St=Object.assign({},St||{});let xt=Je[1]||"div",yt;return je!==$e.HTML?yt=document.createElementNS(je,xt):yt=document.createElement(xt),Je[3]&&(yt.id=Je[3]),Je[4]&&(yt.className=Je[4].replace(/\./g," ").trim()),Object.keys(St).forEach(Xt=>{const ni=St[Xt];typeof ni!="undefined"&&(/^on\w+$/.test(Xt)?yt[Xt]=ni:Xt==="selected"?ni&&yt.setAttribute(Xt,"true"):yt.setAttribute(Xt,ni))}),yt.append(...Ze),yt}function wi(je,Tt,...St){return Xe($e.HTML,je,Tt,...St)}wi.SVG=function(je,Tt,...St){return Xe($e.SVG,je,Tt,...St)};function ii(...je){for(let Tt of je)Tt.style.display="",Tt.removeAttribute("aria-hidden")}function Ui(...je){for(let Tt of je)Tt.style.display="none",Tt.setAttribute("aria-hidden","true")}function Mn(je){return Array.prototype.slice.call(document.getElementsByTagName(je),0)}function Ri(je){const Tt=window.devicePixelRatio*je;return Math.max(1,Math.floor(Tt))/window.devicePixelRatio}function ps(je){window.open(je,"_blank","noopener")}function Zn(je){const Tt=()=>{je(),St=ie(Tt)};let St=ie(Tt);return(0,P.OF)(()=>St.dispose())}s.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Bn(je){return je?`url('${s.Gi.asBrowserUri(je).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Xi(je){return`'${je.replace(/'/g,"%27")}'`}class Vn extends k.Q5{constructor(){super(),this._subscriptions=new P.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(r(window,"keydown",Tt=>{if(Tt.defaultPrevented)return;const St=new Q.y(Tt);if(!(St.keyCode===6&&Tt.repeat)){if(Tt.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Tt.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Tt.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Tt.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(St.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=Tt.altKey,this._keyStatus.ctrlKey=Tt.ctrlKey,this._keyStatus.metaKey=Tt.metaKey,this._keyStatus.shiftKey=Tt.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Tt,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(r(window,"keyup",Tt=>{Tt.defaultPrevented||(!Tt.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!Tt.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!Tt.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!Tt.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Tt.altKey,this._keyStatus.ctrlKey=Tt.ctrlKey,this._keyStatus.metaKey=Tt.metaKey,this._keyStatus.shiftKey=Tt.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Tt,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(r(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(r(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(r(document.body,"mousemove",Tt=>{Tt.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(r(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Vn.instance||(Vn.instance=new Vn),Vn.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function qi(je,Tt){const St=window.matchMedia(je);typeof St.addEventListener=="function"?St.addEventListener("change",Tt):St.addListener(Tt)}},4850:function(Yt,Ue,c){"use strict";c.d(Ue,{Y:function(){return Y},p:function(){return Q}});var g=c(4669);class Y{constructor(y,J,k){const P=s=>this.emitter.fire(s);this.emitter=new g.Q5({onFirstListenerAdd:()=>y.addEventListener(J,P,k),onLastListenerRemove:()=>y.removeEventListener(J,P,k)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function Q(O){return O.preventDefault(),O.stopPropagation(),O}},38626:function(Yt,Ue,c){"use strict";c.d(Ue,{X:function(){return Y},Z:function(){return g}});class g{constructor(O){this.domNode=O,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(O){this._maxWidth!==O&&(this._maxWidth=O,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(O){this._width!==O&&(this._width=O,this.domNode.style.width=this._width+"px")}setHeight(O){this._height!==O&&(this._height=O,this.domNode.style.height=this._height+"px")}setTop(O){this._top!==O&&(this._top=O,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(O){this._left!==O&&(this._left=O,this.domNode.style.left=this._left+"px")}setBottom(O){this._bottom!==O&&(this._bottom=O,this.domNode.style.bottom=this._bottom+"px")}setRight(O){this._right!==O&&(this._right=O,this.domNode.style.right=this._right+"px")}setFontFamily(O){this._fontFamily!==O&&(this._fontFamily=O,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(O){this._fontWeight!==O&&(this._fontWeight=O,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(O){this._fontSize!==O&&(this._fontSize=O,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(O){this._fontFeatureSettings!==O&&(this._fontFeatureSettings=O,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(O){this._lineHeight!==O&&(this._lineHeight=O,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(O){this._letterSpacing!==O&&(this._letterSpacing=O,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(O){this._className!==O&&(this._className=O,this.domNode.className=this._className)}toggleClassName(O,y){this.domNode.classList.toggle(O,y),this._className=this.domNode.className}setDisplay(O){this._display!==O&&(this._display=O,this.domNode.style.display=this._display)}setPosition(O){this._position!==O&&(this._position=O,this.domNode.style.position=this._position)}setVisibility(O){this._visibility!==O&&(this._visibility=O,this.domNode.style.visibility=this._visibility)}setBackgroundColor(O){this._backgroundColor!==O&&(this._backgroundColor=O,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(O){this._layerHint!==O&&(this._layerHint=O,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(O){this._boxShadow!==O&&(this._boxShadow=O,this.domNode.style.boxShadow=O)}setContain(O){this._contain!==O&&(this._contain=O,this.domNode.style.contain=this._contain)}setAttribute(O,y){this.domNode.setAttribute(O,y)}removeAttribute(O){this.domNode.removeAttribute(O)}appendChild(O){this.domNode.appendChild(O.domNode)}removeChild(O){this.domNode.removeChild(O.domNode)}}function Y(Q){return new g(Q)}},94079:function(Yt,Ue,c){"use strict";c.d(Ue,{BO:function(){return Q},IY:function(){return Y},az:function(){return O}});var g=c(65321);function Y(I,m={}){const C=O(m);return C.textContent=I,C}function Q(I,m={}){const C=O(m);return J(C,k(I,!!m.renderCodeSegments),m.actionHandler,m.renderCodeSegments),C}function O(I){const m=I.inline?"span":"div",C=document.createElement(m);return I.className&&(C.className=I.className),C}class y{constructor(m){this.source=m,this.index=0}eos(){return this.index>=this.source.length}next(){const m=this.peek();return this.advance(),m}peek(){return this.source[this.index]}advance(){this.index++}}function J(I,m,C,V){let r;if(m.type===2)r=document.createTextNode(m.content||"");else if(m.type===3)r=document.createElement("b");else if(m.type===4)r=document.createElement("i");else if(m.type===7&&V)r=document.createElement("code");else if(m.type===5&&C){const x=document.createElement("a");x.href="#",C.disposables.add(g.mu(x,"click",w=>{C.callback(String(m.index),w)})),r=x}else m.type===8?r=document.createElement("br"):m.type===1&&(r=I);r&&I!==r&&I.appendChild(r),r&&Array.isArray(m.children)&&m.children.forEach(x=>{J(r,x,C,V)})}function k(I,m){const C={type:1,children:[]};let V=0,r=C;const x=[],w=new y(I);for(;!w.eos();){let D=w.next();const f=D==="\\"&&s(w.peek(),m)!==0;if(f&&(D=w.next()),!f&&P(D,m)&&D===w.peek()){w.advance(),r.type===2&&(r=x.pop());const v=s(D,m);if(r.type===v||r.type===5&&v===6)r=x.pop();else{const L={type:v,children:[]};v===5&&(L.index=V,V++),r.children.push(L),x.push(r),r=L}}else if(D===`
`)r.type===2&&(r=x.pop()),r.children.push({type:8});else if(r.type!==2){const v={type:2,content:D};r.children.push(v),x.push(r),r=v}else r.content+=D}return r.type===2&&(r=x.pop()),x.length,C}function P(I,m){return s(I,m)!==0}function s(I,m){switch(I){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return m?7:0;default:return 0}}},57974:function(Yt,Ue,c){"use strict";c.d(Ue,{Z:function(){return k},e:function(){return J}});var g=c(65321),Y=c(70262),Q=c(23938),O=c(5976),y=c(1432);function J(P,s){let I=new Q.n(s);return I.preventDefault(),{leftButton:I.leftButton,buttons:I.buttons,posx:I.posx,posy:I.posy}}class k{constructor(){this._hooks=new O.SL,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(s,I){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const m=this._onStopCallback;this._onStopCallback=null,s&&m&&m(I)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(s,I,m,C,V){if(this.isMonitoring())return;this._mouseMoveEventMerger=m,this._mouseMoveCallback=C,this._onStopCallback=V;const r=Y.E.getSameOriginWindowChain(),x=y.gn?"pointermove":"mousemove",w="mouseup",D=r.map(v=>v.window.document),f=g.Ay(s);f&&D.unshift(f);for(const v of D)this._hooks.add(g.Y_(v,x,L=>{if(L.buttons!==I){this.stopMonitoring(!0);return}this._mouseMoveCallback(L)},(L,h)=>this._mouseMoveEventMerger(L,h))),this._hooks.add(g.nm(v,w,L=>this.stopMonitoring(!0)));if(Y.E.hasDifferentOriginAncestor()){let v=r[r.length-1];this._hooks.add(g.nm(v.window.document,"mouseout",L=>{new Q.n(L).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(g.nm(v.window.document,"mouseover",L=>{new Q.n(L).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(g.nm(v.window.document.body,"mouseleave",L=>{this.stopMonitoring(!0)}))}}}},70262:function(Yt,Ue,c){"use strict";c.d(Ue,{E:function(){return O}});let g=!1,Y=null;function Q(y){if(!y.parent||y.parent===y)return null;try{let J=y.location,k=y.parent.location;if(J.origin!=="null"&&k.origin!=="null"&&J.origin!==k.origin)return g=!0,null}catch(J){return g=!0,null}return y.parent}class O{static getSameOriginWindowChain(){if(!Y){Y=[];let J=window,k;do k=Q(J),k?Y.push({window:J,iframeElement:J.frameElement||null}):Y.push({window:J,iframeElement:null}),J=k;while(J)}return Y.slice(0)}static hasDifferentOriginAncestor(){return Y||this.getSameOriginWindowChain(),g}static getPositionOfChildWindowRelativeToAncestorWindow(J,k){if(!k||J===k)return{top:0,left:0};let P=0,s=0,I=this.getSameOriginWindowChain();for(const m of I){if(P+=m.window.scrollY,s+=m.window.scrollX,m.window===k||!m.iframeElement)break;let C=m.iframeElement.getBoundingClientRect();P+=C.top,s+=C.left}return{top:P,left:s}}}},59069:function(Yt,Ue,c){"use strict";c.d(Ue,{y:function(){return I}});var g=c(16268),Y=c(22258),Q=c(8313),O=c(1432);function y(m){if(m.charCode){let V=String.fromCharCode(m.charCode).toUpperCase();return Y.kL.fromString(V)}const C=m.keyCode;if(C===3)return 7;if(g.vU){if(C===59)return 80;if(C===107)return 81;if(C===109)return 83;if(O.dz&&C===224)return 57}else if(g.Pf){if(C===91)return 57;if(O.dz&&C===93)return 57;if(!O.dz&&C===92)return 57}return Y.H_[C]||0}const J=O.dz?256:2048,k=512,P=1024,s=O.dz?2048:256;class I{constructor(C){this._standardKeyboardEventBrand=!0;let V=C;this.browserEvent=V,this.target=V.target,this.ctrlKey=V.ctrlKey,this.shiftKey=V.shiftKey,this.altKey=V.altKey,this.metaKey=V.metaKey,this.keyCode=y(V),this.code=V.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(C){return this._asKeybinding===C}_computeKeybinding(){let C=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(C=this.keyCode);let V=0;return this.ctrlKey&&(V|=J),this.altKey&&(V|=k),this.shiftKey&&(V|=P),this.metaKey&&(V|=s),V|=C,V}_computeRuntimeKeybinding(){let C=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(C=this.keyCode),new Q.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,C)}}},23938:function(Yt,Ue,c){"use strict";c.d(Ue,{n:function(){return O},q:function(){return y}});var g=c(16268),Y=c(70262),Q=c(1432);class O{constructor(k){this.timestamp=Date.now(),this.browserEvent=k,this.leftButton=k.button===0,this.middleButton=k.button===1,this.rightButton=k.button===2,this.buttons=k.buttons,this.target=k.target,this.detail=k.detail||1,k.type==="dblclick"&&(this.detail=2),this.ctrlKey=k.ctrlKey,this.shiftKey=k.shiftKey,this.altKey=k.altKey,this.metaKey=k.metaKey,typeof k.pageX=="number"?(this.posx=k.pageX,this.posy=k.pageY):(this.posx=k.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=k.clientY+document.body.scrollTop+document.documentElement.scrollTop);let P=Y.E.getPositionOfChildWindowRelativeToAncestorWindow(self,k.view);this.posx-=P.left,this.posy-=P.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class y{constructor(k,P=0,s=0){if(this.browserEvent=k||null,this.target=k?k.target||k.targetNode||k.srcElement:null,this.deltaY=s,this.deltaX=P,k){let I=k,m=k;if(typeof I.wheelDeltaY!="undefined")this.deltaY=I.wheelDeltaY/120;else if(typeof m.VERTICAL_AXIS!="undefined"&&m.axis===m.VERTICAL_AXIS)this.deltaY=-m.detail/3;else if(k.type==="wheel"){const C=k;C.deltaMode===C.DOM_DELTA_LINE?g.vU&&!Q.dz?this.deltaY=-k.deltaY/3:this.deltaY=-k.deltaY:this.deltaY=-k.deltaY/40}if(typeof I.wheelDeltaX!="undefined")g.G6&&Q.ED?this.deltaX=-(I.wheelDeltaX/120):this.deltaX=I.wheelDeltaX/120;else if(typeof m.HORIZONTAL_AXIS!="undefined"&&m.axis===m.HORIZONTAL_AXIS)this.deltaX=-k.detail/3;else if(k.type==="wheel"){const C=k;C.deltaMode===C.DOM_DELTA_LINE?g.vU&&!Q.dz?this.deltaX=-k.deltaX/3:this.deltaX=-k.deltaX:this.deltaX=-k.deltaX/40}this.deltaY===0&&this.deltaX===0&&k.wheelDelta&&(this.deltaY=k.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},10553:function(Yt,Ue,c){"use strict";c.d(Ue,{o:function(){return k},t:function(){return J}});var g=c(65321),Y=c(9488),Q=c(49898),O=c(5976),y=function(P,s,I,m){var C=arguments.length,V=C<3?s:m===null?m=Object.getOwnPropertyDescriptor(s,I):m,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(P,s,I,m);else for(var x=P.length-1;x>=0;x--)(r=P[x])&&(V=(C<3?r(V):C>3?r(s,I,V):r(s,I))||V);return C>3&&V&&Object.defineProperty(s,I,V),V},J;(function(P){P.Tap="-monaco-gesturetap",P.Change="-monaco-gesturechange",P.Start="-monaco-gesturestart",P.End="-monaco-gesturesend",P.Contextmenu="-monaco-gesturecontextmenu"})(J||(J={}));class k extends O.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(g.nm(document,"touchstart",s=>this.onTouchStart(s),{passive:!1})),this._register(g.nm(document,"touchend",s=>this.onTouchEnd(s))),this._register(g.nm(document,"touchmove",s=>this.onTouchMove(s),{passive:!1}))}static addTarget(s){return k.isTouchDevice()?(k.INSTANCE||(k.INSTANCE=new k),k.INSTANCE.targets.push(s),{dispose:()=>{k.INSTANCE.targets=k.INSTANCE.targets.filter(I=>I!==s)}}):O.JT.None}static ignoreTarget(s){return k.isTouchDevice()?(k.INSTANCE||(k.INSTANCE=new k),k.INSTANCE.ignoreTargets.push(s),{dispose:()=>{k.INSTANCE.ignoreTargets=k.INSTANCE.ignoreTargets.filter(I=>I!==s)}}):O.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(s){let I=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let m=0,C=s.targetTouches.length;m<C;m++){let V=s.targetTouches.item(m);this.activeTouches[V.identifier]={id:V.identifier,initialTarget:V.target,initialTimeStamp:I,initialPageX:V.pageX,initialPageY:V.pageY,rollingTimestamps:[I],rollingPageX:[V.pageX],rollingPageY:[V.pageY]};let r=this.newGestureEvent(J.Start,V.target);r.pageX=V.pageX,r.pageY=V.pageY,this.dispatchEvent(r)}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}onTouchEnd(s){let I=Date.now(),m=Object.keys(this.activeTouches).length;for(let C=0,V=s.changedTouches.length;C<V;C++){let r=s.changedTouches.item(C);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("move of an UNKNOWN touch",r);continue}let x=this.activeTouches[r.identifier],w=Date.now()-x.initialTimeStamp;if(w<k.HOLD_DELAY&&Math.abs(x.initialPageX-Y.Gb(x.rollingPageX))<30&&Math.abs(x.initialPageY-Y.Gb(x.rollingPageY))<30){let D=this.newGestureEvent(J.Tap,x.initialTarget);D.pageX=Y.Gb(x.rollingPageX),D.pageY=Y.Gb(x.rollingPageY),this.dispatchEvent(D)}else if(w>=k.HOLD_DELAY&&Math.abs(x.initialPageX-Y.Gb(x.rollingPageX))<30&&Math.abs(x.initialPageY-Y.Gb(x.rollingPageY))<30){let D=this.newGestureEvent(J.Contextmenu,x.initialTarget);D.pageX=Y.Gb(x.rollingPageX),D.pageY=Y.Gb(x.rollingPageY),this.dispatchEvent(D)}else if(m===1){let D=Y.Gb(x.rollingPageX),f=Y.Gb(x.rollingPageY),v=Y.Gb(x.rollingTimestamps)-x.rollingTimestamps[0],L=D-x.rollingPageX[0],h=f-x.rollingPageY[0];const R=this.targets.filter(T=>x.initialTarget instanceof Node&&T.contains(x.initialTarget));this.inertia(R,I,Math.abs(L)/v,L>0?1:-1,D,Math.abs(h)/v,h>0?1:-1,f)}this.dispatchEvent(this.newGestureEvent(J.End,x.initialTarget)),delete this.activeTouches[r.identifier]}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}newGestureEvent(s,I){let m=document.createEvent("CustomEvent");return m.initEvent(s,!1,!0),m.initialTarget=I,m.tapCount=0,m}dispatchEvent(s){if(s.type===J.Tap){const I=new Date().getTime();let m=0;I-this._lastSetTapCountTime>k.CLEAR_TAP_COUNT_TIME?m=1:m=2,this._lastSetTapCountTime=I,s.tapCount=m}else(s.type===J.Change||s.type===J.Contextmenu)&&(this._lastSetTapCountTime=0);for(let I=0;I<this.ignoreTargets.length;I++)if(s.initialTarget instanceof Node&&this.ignoreTargets[I].contains(s.initialTarget))return;this.targets.forEach(I=>{s.initialTarget instanceof Node&&I.contains(s.initialTarget)&&(I.dispatchEvent(s),this.dispatched=!0)})}inertia(s,I,m,C,V,r,x,w){this.handle=g.jL(()=>{let D=Date.now(),f=D-I,v=0,L=0,h=!0;m+=k.SCROLL_FRICTION*f,r+=k.SCROLL_FRICTION*f,m>0&&(h=!1,v=C*m*f),r>0&&(h=!1,L=x*r*f);let R=this.newGestureEvent(J.Change);R.translationX=v,R.translationY=L,s.forEach(T=>T.dispatchEvent(R)),h||this.inertia(s,D,m,C,V+v,r,x,w+L)})}onTouchMove(s){let I=Date.now();for(let m=0,C=s.changedTouches.length;m<C;m++){let V=s.changedTouches.item(m);if(!this.activeTouches.hasOwnProperty(String(V.identifier))){console.warn("end of an UNKNOWN touch",V);continue}let r=this.activeTouches[V.identifier],x=this.newGestureEvent(J.Change,r.initialTarget);x.translationX=V.pageX-Y.Gb(r.rollingPageX),x.translationY=V.pageY-Y.Gb(r.rollingPageY),x.pageX=V.pageX,x.pageY=V.pageY,this.dispatchEvent(x),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(V.pageX),r.rollingPageY.push(V.pageY),r.rollingTimestamps.push(I)}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}}k.SCROLL_FRICTION=-.005,k.HOLD_DELAY=700,k.CLEAR_TAP_COUNT_TIME=400,y([Q.H],k,"isTouchDevice",null)},76033:function(Yt,Ue,c){"use strict";c.d(Ue,{Y:function(){return m},g:function(){return C}});var g=c(16268),Y=c(23547),Q=c(65321),O=c(10553),y=c(74741),J=c(5976),k=c(1432),P=c(98401),s=c(31285),I=c(63580);class m extends J.JT{constructor(r,x,w={}){super(),this.options=w,this._context=r||this,this._action=x,x instanceof y.aU&&this._register(x.onDidChange(D=>{this.element&&this.handleActionChangeEvent(D)}))}handleActionChangeEvent(r){r.enabled!==void 0&&this.updateEnabled(),r.checked!==void 0&&this.updateChecked(),r.class!==void 0&&this.updateClass(),r.label!==void 0&&(this.updateLabel(),this.updateTooltip()),r.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new y.Wi)),this._actionRunner}set actionRunner(r){this._actionRunner=r}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(r){this._context=r}render(r){const x=this.element=r;this._register(O.o.addTarget(r));const w=this.options&&this.options.draggable;w&&(r.draggable=!0,g.vU&&this._register((0,Q.nm)(r,Q.tw.DRAG_START,D=>{var f;return(f=D.dataTransfer)===null||f===void 0?void 0:f.setData(Y.go.TEXT,this._action.label)}))),this._register((0,Q.nm)(x,O.t.Tap,D=>this.onClick(D,!0))),this._register((0,Q.nm)(x,Q.tw.MOUSE_DOWN,D=>{w||Q.zB.stop(D,!0),this._action.enabled&&D.button===0&&x.classList.add("active")})),k.dz&&this._register((0,Q.nm)(x,Q.tw.CONTEXT_MENU,D=>{D.button===0&&D.ctrlKey===!0&&this.onClick(D)})),this._register((0,Q.nm)(x,Q.tw.CLICK,D=>{Q.zB.stop(D,!0),this.options&&this.options.isMenu||this.onClick(D)})),this._register((0,Q.nm)(x,Q.tw.DBLCLICK,D=>{Q.zB.stop(D,!0)})),[Q.tw.MOUSE_UP,Q.tw.MOUSE_OUT].forEach(D=>{this._register((0,Q.nm)(x,D,f=>{Q.zB.stop(f),x.classList.remove("active")}))})}onClick(r,x=!1){var w;Q.zB.stop(r,!0);const D=P.Jp(this._context)?!((w=this.options)===null||w===void 0)&&w.useEventAsContext?r:{preserveFocus:x}:this._context;this.actionRunner.run(this._action,D)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(r){this.element&&(this.element.tabIndex=r?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class C extends m{constructor(r,x,w={}){super(r,x,w),this.options=w,this.options.icon=w.icon!==void 0?w.icon:!1,this.options.label=w.label!==void 0?w.label:!0,this.cssClass=""}render(r){super.render(r),this.element&&(this.label=(0,Q.R3)(this.element,(0,Q.$)("a.action-label"))),this.label&&(this._action.id===y.Z0.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,Q.R3)(this.element,(0,Q.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(r){this.label&&(this.label.tabIndex=r?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let r=null;this.getAction().tooltip?r=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(r=this.getAction().label,this.options.keybinding&&(r=I.N({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",r,this.options.keybinding))),r&&this.label&&(this.label.title=r)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},90317:function(Yt,Ue,c){"use strict";c.d(Ue,{o:function(){return I}});var g=c(65321),Y=c(59069),Q=c(76033),O=c(74741),y=c(4669),J=c(5976),k=c(98401),P=c(31285),s=function(m,C,V,r){function x(w){return w instanceof V?w:new V(function(D){D(w)})}return new(V||(V=Promise))(function(w,D){function f(h){try{L(r.next(h))}catch(R){D(R)}}function v(h){try{L(r.throw(h))}catch(R){D(R)}}function L(h){h.done?w(h.value):x(h.value).then(f,v)}L((r=r.apply(m,C||[])).next())})};class I extends J.JT{constructor(C,V={}){var r,x,w,D,f,v;super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new y.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new y.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new y.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new y.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=V,this._context=(r=V.context)!==null&&r!==void 0?r:null,this._orientation=(x=this.options.orientation)!==null&&x!==void 0?x:0,this._triggerKeys={keyDown:(D=(w=this.options.triggerKeys)===null||w===void 0?void 0:w.keyDown)!==null&&D!==void 0?D:!1,keys:(v=(f=this.options.triggerKeys)===null||f===void 0?void 0:f.keys)!==null&&v!==void 0?v:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new O.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(R=>this._onDidRun.fire(R))),this._register(this._actionRunner.onBeforeRun(R=>this._onBeforeRun.fire(R))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",V.animated!==!1&&this.domNode.classList.add("animated");let L,h;switch(this._orientation){case 0:L=[15],h=[17];break;case 1:L=[16],h=[18],this.domNode.className+=" vertical";break}this._register(g.nm(this.domNode,g.tw.KEY_DOWN,R=>{const T=new Y.y(R);let W=!0;const K=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;L&&(T.equals(L[0])||T.equals(L[1]))?W=this.focusPrevious():h&&(T.equals(h[0])||T.equals(h[1]))?W=this.focusNext():T.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():T.equals(14)?W=this.focusFirst():T.equals(13)?W=this.focusLast():T.equals(2)&&K instanceof Q.Y&&K.trapsArrowNavigation?W=this.focusNext():this.isTriggerKeyEvent(T)?this._triggerKeys.keyDown?this.doTrigger(T):this.triggerKeyDown=!0:W=!1,W&&(T.preventDefault(),T.stopPropagation())})),this._register(g.nm(this.domNode,g.tw.KEY_UP,R=>{const T=new Y.y(R);this.isTriggerKeyEvent(T)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(T)),T.preventDefault(),T.stopPropagation()):(T.equals(2)||T.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(g.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(g.vY()===this.domNode||!g.jg(g.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),C.appendChild(this.domNode)}isTriggerKeyEvent(C){let V=!1;return this._triggerKeys.keys.forEach(r=>{V=V||C.equals(r)}),V}updateFocusedItem(){for(let C=0;C<this.actionsList.children.length;C++){const V=this.actionsList.children[C];if(g.jg(g.vY(),V)){this.focusedItem=C;break}}}get context(){return this._context}set context(C){this._context=C,this.viewItems.forEach(V=>V.setActionContext(C))}get actionRunner(){return this._actionRunner}set actionRunner(C){C&&(this._actionRunner=C,this.viewItems.forEach(V=>V.actionRunner=C))}getContainer(){return this.domNode}push(C,V={}){const r=Array.isArray(C)?C:[C];let x=k.hj(V.index)?V.index:null;r.forEach(w=>{const D=document.createElement("li");D.className="action-item",D.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(g.nm(D,g.tw.CONTEXT_MENU,v=>{g.zB.stop(v,!0)}));let f;this.options.actionViewItemProvider&&(f=this.options.actionViewItemProvider(w)),f||(f=new Q.g(this.context,w,V)),f.actionRunner=this._actionRunner,f.setActionContext(this.context),f.render(D),this.focusable&&f instanceof Q.Y&&this.viewItems.length===0&&f.setFocusable(!0),x===null||x<0||x>=this.actionsList.children.length?(this.actionsList.appendChild(D),this.viewItems.push(f),this._actionIds.push(w.id)):(this.actionsList.insertBefore(D,this.actionsList.children[x]),this.viewItems.splice(x,0,f),this._actionIds.splice(x,0,w.id),x++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){(0,J.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],g.PO(this.actionsList)}length(){return this.viewItems.length}focus(C){let V=!1,r;if(C===void 0?V=!0:typeof C=="number"?r=C:typeof C=="boolean"&&(V=C),V&&typeof this.focusedItem=="undefined"){const x=this.viewItems.findIndex(w=>w.isEnabled());this.focusedItem=x===-1?void 0:x,this.updateFocus()}else r!==void 0&&(this.focusedItem=r),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const C=this.focusedItem;let V;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=C,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,V=this.viewItems[this.focusedItem]}while(this.focusedItem!==C&&this.options.focusOnlyEnabledItems&&!V.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const C=this.focusedItem;let V;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=C,!1;this.focusedItem=this.viewItems.length-1}V=this.viewItems[this.focusedItem]}while(this.focusedItem!==C&&this.options.focusOnlyEnabledItems&&!V.isEnabled());return this.updateFocus(!0),!0}updateFocus(C,V){typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:V});for(let r=0;r<this.viewItems.length;r++){const x=this.viewItems[r],w=x;if(r===this.focusedItem){let D=!0;k.mf(w.focus)||(D=!1),this.options.focusOnlyEnabledItems&&k.mf(x.isEnabled)&&!x.isEnabled()&&(D=!1),D?w.focus(C):this.actionsList.focus({preventScroll:V})}else k.mf(w.blur)&&w.blur()}}doTrigger(C){if(typeof this.focusedItem=="undefined")return;const V=this.viewItems[this.focusedItem];if(V instanceof Q.Y){const r=V._context===null||V._context===void 0?C:V._context;this.run(V._action,r)}}run(C,V){return s(this,void 0,void 0,function*(){yield this._actionRunner.run(C,V)})}dispose(){(0,J.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},35996:function(Yt,Ue,c){"use strict";c.d(Ue,{Z9:function(){return I},wW:function(){return s},i7:function(){return m}});var g=c(65321),Y=c(1432);const Q=2e4;let O,y,J,k,P;function s(V){O=document.createElement("div"),O.className="monaco-aria-container";const r=()=>{const w=document.createElement("div");return w.className="monaco-alert",w.setAttribute("role","alert"),w.setAttribute("aria-atomic","true"),O.appendChild(w),w};y=r(),J=r();const x=()=>{const w=document.createElement("div");return w.className="monaco-status",w.setAttribute("role","complementary"),w.setAttribute("aria-live","polite"),w.setAttribute("aria-atomic","true"),O.appendChild(w),w};k=x(),P=x(),V.appendChild(O)}function I(V){O&&(y.textContent!==V?(g.PO(J),C(y,V)):(g.PO(y),C(J,V)))}function m(V){O&&(Y.dz?I(V):k.textContent!==V?(g.PO(P),C(k,V)):(g.PO(k),C(P,V)))}function C(V,r){g.PO(V),r.length>Q&&(r=r.substr(0,Q)),V.textContent=r,V.style.visibility="hidden",V.style.visibility="visible"}},15375:function(Yt,Ue,c){"use strict";c.d(Ue,{a:function(){return Y}});var g=c(73046);function Y(Q){let O=Q.definition;for(;O instanceof g.lA;)O=O.definition;return`.codicon-${Q.id}:before { content: '${O.fontCharacter}'; }`}},85207:function(Yt,Ue,c){"use strict";c.d(Ue,{Z:function(){return J}});var g=c(65321),Y=c(41264),Q=c(36248),O=c(97295);const y={badgeBackground:Y.Il.fromHex("#4D4D4D"),badgeForeground:Y.Il.fromHex("#FFFFFF")};class J{constructor(P,s){this.count=0,this.options=s||Object.create(null),(0,Q.jB)(this.options,y,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,g.R3)(P,(0,g.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(P){this.count=P,this.render()}setTitleFormat(P){this.titleFormat=P,this.render()}render(){this.element.textContent=(0,O.WU)(this.countFormat,this.count),this.element.title=(0,O.WU)(this.titleFormat,this.count),this.applyStyles()}style(P){this.badgeBackground=P.badgeBackground,this.badgeForeground=P.badgeForeground,this.badgeBorder=P.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const P=this.badgeBackground?this.badgeBackground.toString():"",s=this.badgeForeground?this.badgeForeground.toString():"",I=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=P,this.element.style.color=s,this.element.style.borderWidth=I?"1px":"",this.element.style.borderStyle=I?"solid":"",this.element.style.borderColor=I}}}},34650:function(Yt,Ue,c){"use strict";c.d(Ue,{q:function(){return O}});var g=c(65321),Y=c(56811),Q=c(36248);class O{constructor(J,k){this.supportIcons=k,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",J.appendChild(this.domNode)}get element(){return this.domNode}set(J,k=[],P="",s){J||(J=""),s&&(J=O.escapeNewLines(J,k)),!(this.didEverRender&&this.text===J&&this.title===P&&Q.fS(this.highlights,k))&&(this.text=J,this.title=P,this.highlights=k,this.render())}render(){const J=[];let k=0;for(const P of this.highlights){if(P.end===P.start)continue;if(k<P.start){const m=this.text.substring(k,P.start);J.push(g.$("span",void 0,...this.supportIcons?(0,Y.T)(m):[m])),k=P.end}const s=this.text.substring(P.start,P.end),I=g.$("span.highlight",void 0,...this.supportIcons?(0,Y.T)(s):[s]);P.extraClasses&&I.classList.add(P.extraClasses),J.push(I),k=P.end}if(k<this.text.length){const P=this.text.substring(k);J.push(g.$("span",void 0,...this.supportIcons?(0,Y.T)(P):[P]))}g.mc(this.domNode,...J),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(J,k){let P=0,s=0;return J.replace(/\r\n|\r|\n/g,(I,m)=>{s=I===`\r
`?-1:0,m+=P;for(const C of k)C.end<=m||(C.start>=m&&(C.start+=s),C.end>=m&&(C.end+=s));return P+=s,"\u23CE"})}}},26974:function(Yt,Ue,c){"use strict";c.d(Ue,{g:function(){return w}});var g=c(65321),Y=c(34650),Q=c(15393),O=c(71050),y=c(59365),J=c(5976),k=c(98401),P=c(63580),s=function(L,h,R,T){function W(K){return K instanceof R?K:new R(function(ie){ie(K)})}return new(R||(R=Promise))(function(K,ie){function ce(De){try{ve(T.next(De))}catch(le){ie(le)}}function _e(De){try{ve(T.throw(De))}catch(le){ie(le)}}function ve(De){De.done?K(De.value):W(De.value).then(ce,_e)}ve((T=T.apply(L,h||[])).next())})};function I(L,h){(0,k.HD)(h)?L.title=h:h!=null&&h.markdownNotSupportedFallback?L.title=h.markdownNotSupportedFallback:L.removeAttribute("title")}class m{constructor(h,R,T){this.hoverDelegate=h,this.target=R,this.fadeInAnimation=T}update(h,R){var T;return s(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let W;if(h===void 0||(0,k.HD)(h)||h instanceof HTMLElement)W=h;else if(!(0,k.mf)(h.markdown))W=(T=h.markdown)!==null&&T!==void 0?T:h.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,P.N)("iconLabel.loading","Loading..."),R),this._cancellationTokenSource=new O.A;const K=this._cancellationTokenSource.token;if(W=yield h.markdown(K),this.isDisposed||K.isCancellationRequested)return}this.show(W,R)})}show(h,R){const T=this._hoverWidget;if(this.hasContent(h)){const W={content:h,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!T};this._hoverWidget=this.hoverDelegate.showHover(W,R)}T==null||T.dispose()}hasContent(h){return h?(0,y.Fr)(h)?!!h.value:!0:!1}get isDisposed(){var h;return(h=this._hoverWidget)===null||h===void 0?void 0:h.isDisposed}dispose(){var h,R;(h=this._hoverWidget)===null||h===void 0||h.dispose(),(R=this._cancellationTokenSource)===null||R===void 0||R.dispose(!0),this._cancellationTokenSource=void 0}}function C(L,h,R){let T,W;const K=(De,le)=>{var Z;De&&(W==null||W.dispose(),W=void 0),le&&(T==null||T.dispose(),T=void 0),(Z=L.onDidHideHover)===null||Z===void 0||Z.call(L)},ie=(De,le,Z)=>new Q._F(()=>s(this,void 0,void 0,function*(){(!W||W.isDisposed)&&(W=new m(L,Z||h,De>0),yield W.update(R,le))}),De),ce=()=>{if(T)return;const De=new J.SL,le=G=>K(!1,G.fromElement===h);De.add(g.nm(h,g.tw.MOUSE_LEAVE,le,!0));const Z=()=>K(!0,!0);De.add(g.nm(h,g.tw.MOUSE_DOWN,Z,!0));const $={targetElements:[h],dispose:()=>{}};if(L.placement===void 0||L.placement==="mouse"){const G=q=>$.x=q.x+10;De.add(g.nm(h,g.tw.MOUSE_MOVE,G,!0))}De.add(ie(L.delay,!1,$)),T=De},_e=g.nm(h,g.tw.MOUSE_OVER,ce,!0);return{show:De=>{K(!1,!0),ie(0,De)},hide:()=>{K(!0,!0)},update:De=>s(this,void 0,void 0,function*(){R=De,yield W==null?void 0:W.update(R)}),dispose:()=>{_e.dispose(),K(!0,!0)}}}var V=c(36248),r=c(61134);class x{constructor(h){this._element=h}get element(){return this._element}set textContent(h){this.disposed||h===this._textContent||(this._textContent=h,this._element.textContent=h)}set className(h){this.disposed||h===this._className||(this._className=h,this._element.className=h)}set empty(h){this.disposed||h===this._empty||(this._empty=h,this._element.style.marginLeft=h?"0":"")}dispose(){this.disposed=!0}}class w extends J.JT{constructor(h,R){super(),this.customHovers=new Map,this.domNode=this._register(new x(g.R3(h,g.$(".monaco-icon-label")))),this.labelContainer=g.R3(this.domNode.element,g.$(".monaco-icon-label-container"));const T=g.R3(this.labelContainer,g.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new x(g.R3(this.labelContainer,g.$("span.monaco-icon-description-container")))),R!=null&&R.supportHighlights||R!=null&&R.supportIcons?this.nameNode=new v(T,!!R.supportIcons):this.nameNode=new D(T),R!=null&&R.supportDescriptionHighlights?this.descriptionNodeFactory=()=>new Y.q(g.R3(this.descriptionContainer.element,g.$("span.label-description")),!!R.supportIcons):this.descriptionNodeFactory=()=>this._register(new x(g.R3(this.descriptionContainer.element,g.$("span.label-description")))),this.hoverDelegate=R==null?void 0:R.hoverDelegate}get element(){return this.domNode.element}setLabel(h,R,T){const W=["monaco-icon-label"];T&&(T.extraClasses&&W.push(...T.extraClasses),T.italic&&W.push("italic"),T.strikethrough&&W.push("strikethrough")),this.domNode.className=W.join(" "),this.setupHover(T!=null&&T.descriptionTitle?this.labelContainer:this.element,T==null?void 0:T.title),this.nameNode.setLabel(h,T),(R||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof Y.q?(this.descriptionNode.set(R||"",T?T.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,T==null?void 0:T.descriptionTitle)):(this.descriptionNode.textContent=R||"",this.setupHover(this.descriptionNode.element,(T==null?void 0:T.descriptionTitle)||""),this.descriptionNode.empty=!R))}setupHover(h,R){const T=this.customHovers.get(h);if(T&&(T.dispose(),this.customHovers.delete(h)),!R){h.removeAttribute("title");return}if(!this.hoverDelegate)I(h,R);else{const W=C(this.hoverDelegate,h,R);W&&this.customHovers.set(h,W)}}dispose(){super.dispose();for(const h of this.customHovers.values())h.dispose();this.customHovers.clear()}}class D{constructor(h){this.container=h,this.label=void 0,this.singleLabel=void 0}setLabel(h,R){if(!(this.label===h&&(0,V.fS)(this.options,R)))if(this.label=h,this.options=R,typeof h=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=g.R3(this.container,g.$("a.label-name",{id:R==null?void 0:R.domId}))),this.singleLabel.textContent=h;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let T=0;T<h.length;T++){const W=h[T],K=(R==null?void 0:R.domId)&&`${R==null?void 0:R.domId}_${T}`;g.R3(this.container,g.$("a.label-name",{id:K,"data-icon-label-count":h.length,"data-icon-label-index":T,role:"treeitem"},W)),T<h.length-1&&g.R3(this.container,g.$("span.label-separator",void 0,(R==null?void 0:R.separator)||"/"))}}}}function f(L,h,R){if(!R)return;let T=0;return L.map(W=>{const K={start:T,end:T+W.length},ie=R.map(ce=>r.e.intersect(K,ce)).filter(ce=>!r.e.isEmpty(ce)).map(({start:ce,end:_e})=>({start:ce-T,end:_e-T}));return T=K.end+h.length,ie})}class v{constructor(h,R){this.container=h,this.supportIcons=R,this.label=void 0,this.singleLabel=void 0}setLabel(h,R){if(!(this.label===h&&(0,V.fS)(this.options,R)))if(this.label=h,this.options=R,typeof h=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new Y.q(g.R3(this.container,g.$("a.label-name",{id:R==null?void 0:R.domId})),this.supportIcons)),this.singleLabel.set(h,R==null?void 0:R.matches,void 0,R==null?void 0:R.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const T=(R==null?void 0:R.separator)||"/",W=f(h,T,R==null?void 0:R.matches);for(let K=0;K<h.length;K++){const ie=h[K],ce=W?W[K]:void 0,_e=(R==null?void 0:R.domId)&&`${R==null?void 0:R.domId}_${K}`,ve=g.$("a.label-name",{id:_e,"data-icon-label-count":h.length,"data-icon-label-index":K,role:"treeitem"});new Y.q(g.R3(this.container,ve),this.supportIcons).set(ie,ce,void 0,R==null?void 0:R.labelEscapeNewLines),K<h.length-1&&g.R3(ve,g.$("span.label-separator",void 0,T))}}}}},56811:function(Yt,Ue,c){"use strict";c.d(Ue,{T:function(){return O}});var g=c(65321),Y=c(73046);const Q=new RegExp(`(\\\\)?\\$\\((${Y.dT.iconNameExpression}(?:${Y.dT.iconModifierExpression})?)\\)`,"g");function O(J){const k=new Array;let P,s=0,I=0;for(;(P=Q.exec(J))!==null;){I=P.index||0,k.push(J.substring(s,I)),s=(P.index||0)+P[0].length;const[,m,C]=P;k.push(m?`$(${C})`:y({id:C}))}return s<J.length&&k.push(J.substring(s)),k}function y(J){const k=g.$("span");return k.classList.add(...Y.dT.asClassNameArray(J)),k}},97862:function(Yt,Ue,c){"use strict";c.d(Ue,{p:function(){return D},W:function(){return w}});var g=c(65321),Y=c(4850),Q=c(94079),O=c(90317),y=c(35996),J=c(13433),k=c(93794),P=c(41264),s=c(4669);class I{constructor(v,L=0,h=v.length,R=L-1){this.items=v,this.start=L,this.end=h,this.index=R}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class m{constructor(v=[],L=10){this._initialize(v),this._limit=L,this._onChange()}getHistory(){return this._elements}add(v){this._history.delete(v),this._history.add(v),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(v){return this._history.has(v)}_onChange(){this._reduceToLimit();const v=this._elements;this._navigator=new I(v,0,v.length,v.length)}_reduceToLimit(){const v=this._elements;v.length>this._limit&&this._initialize(v.slice(v.length-this._limit))}_currentPosition(){const v=this._navigator.current();return v?this._elements.indexOf(v):-1}_initialize(v){this._history=new Set;for(const L of v)this._history.add(L)}get _elements(){const v=[];return this._history.forEach(L=>v.push(L)),v}}var C=c(36248),V=c(63580);const r=g.$,x={inputBackground:P.Il.fromHex("#3C3C3C"),inputForeground:P.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:P.Il.fromHex("#55AAFF"),inputValidationInfoBackground:P.Il.fromHex("#063B49"),inputValidationWarningBorder:P.Il.fromHex("#B89500"),inputValidationWarningBackground:P.Il.fromHex("#352A05"),inputValidationErrorBorder:P.Il.fromHex("#BE1100"),inputValidationErrorBackground:P.Il.fromHex("#5A1D1D")};class w extends k.${constructor(v,L,h){var R;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new s.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new s.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=L,this.options=h||Object.create(null),(0,C.jB)(this.options,x,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(R=this.options.tooltip)!==null&&R!==void 0?R:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=g.R3(v,r(".monaco-inputbox.idle"));let T=this.options.flexibleHeight?"textarea":"input",W=g.R3(this.element,r(".ibwrapper"));if(this.input=g.R3(W,r(T+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=g.R3(W,r("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new J.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),g.R3(v,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(ce=>this.input.scrollTop=ce.scrollTop));const K=this._register(new Y.Y(document,"selectionchange")),ie=s.ju.filter(K.event,()=>{const ce=document.getSelection();return(ce==null?void 0:ce.anchorNode)===W});this._register(ie(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new O.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(v){this.placeholder=v,this.input.setAttribute("placeholder",v)}setTooltip(v){this.tooltip=v,this.input.title=v}setAriaLabel(v){this.ariaLabel=v,v?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(v){this.input.value!==v&&(this.input.value=v,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:g.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(v=null){this.input.select(),v&&(this.input.setSelectionRange(v.start,v.end),v.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return g.w(this.input)}set width(v){if(this.options.flexibleHeight&&this.options.flexibleWidth){let L=0;if(this.mirror){const h=parseFloat(this.mirror.style.paddingLeft||"")||0,R=parseFloat(this.mirror.style.paddingRight||"")||0;L=h+R}this.input.style.width=v-L+"px"}else this.input.style.width=v+"px";this.mirror&&(this.mirror.style.width=v+"px")}set paddingRight(v){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${v}px)`:this.input.style.paddingRight=v+"px",this.mirror&&(this.mirror.style.paddingRight=v+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const v=this.cachedContentHeight,L=this.cachedHeight,h=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:v,height:L}),this.scrollableElement.setScrollPosition({scrollTop:h})}showMessage(v,L){this.message=v,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(v.type));const h=this.stylesForType(this.message.type);this.element.style.border=h.border?`1px solid ${h.border}`:"",(this.hasFocus()||L)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let v=null;return this.validation&&(v=this.validation(this.value),v?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(v)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),v==null?void 0:v.type}stylesForType(v){switch(v){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(v){switch(v){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let v,L=()=>v.style.width=g.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:R=>{if(!this.message)return null;v=g.R3(R,r(".monaco-inputbox-container")),L();const T={inline:!0,className:"monaco-inputbox-message"},W=this.message.formatContent?(0,Q.BO)(this.message.content,T):(0,Q.IY)(this.message.content,T);W.classList.add(this.classForType(this.message.type));const K=this.stylesForType(this.message.type);return W.style.backgroundColor=K.background?K.background.toString():"",W.style.color=K.foreground?K.foreground.toString():"",W.style.border=K.border?`1px solid ${K.border}`:"",g.R3(v,W),null},onHide:()=>{this.state="closed"},layout:L});let h;this.message.type===3?h=V.N("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?h=V.N("alertWarningMessage","Warning: {0}",this.message.content):h=V.N("alertInfoMessage","Info: {0}",this.message.content),y.Z9(h),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const v=this.value,h=v.charCodeAt(v.length-1)===10?" ":"";(v+h).replace(/\u000c/g,"")?this.mirror.textContent=v+h:this.mirror.innerText="\xA0",this.layout()}style(v){this.inputBackground=v.inputBackground,this.inputForeground=v.inputForeground,this.inputBorder=v.inputBorder,this.inputValidationInfoBackground=v.inputValidationInfoBackground,this.inputValidationInfoForeground=v.inputValidationInfoForeground,this.inputValidationInfoBorder=v.inputValidationInfoBorder,this.inputValidationWarningBackground=v.inputValidationWarningBackground,this.inputValidationWarningForeground=v.inputValidationWarningForeground,this.inputValidationWarningBorder=v.inputValidationWarningBorder,this.inputValidationErrorBackground=v.inputValidationErrorBackground,this.inputValidationErrorForeground=v.inputValidationErrorForeground,this.inputValidationErrorBorder=v.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const v=this.inputBackground?this.inputBackground.toString():"",L=this.inputForeground?this.inputForeground.toString():"",h=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=v,this.element.style.color=L,this.input.style.backgroundColor="inherit",this.input.style.color=L,this.element.style.borderWidth=h?"1px":"",this.element.style.borderStyle=h?"solid":"",this.element.style.borderColor=h}layout(){if(!this.mirror)return;const v=this.cachedContentHeight;this.cachedContentHeight=g.wn(this.mirror),v!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(v){const L=this.inputElement,h=L.selectionStart,R=L.selectionEnd,T=L.value;h!==null&&R!==null&&(this.value=T.substr(0,h)+v+T.substr(R),L.setSelectionRange(h+1,h+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class D extends w{constructor(v,L,h){const R=V.N({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),T=` or \u21C5 ${R}`,W=` (\u21C5 ${R})`;super(v,L,h),this.history=new m(h.history,100);const K=()=>{if(h.showHistoryHint&&h.showHistoryHint()&&!this.placeholder.endsWith(T)&&!this.placeholder.endsWith(W)&&this.history.getHistory().length){const ie=this.placeholder.endsWith(")")?T:W,ce=this.placeholder+ie;h.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=ce:this.setPlaceHolder(ce)}};this.observer=new MutationObserver((ie,ce)=>{ie.forEach(_e=>{_e.target.textContent||K()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>K()),this.onblur(this.input,()=>{const ie=ce=>{if(this.placeholder.endsWith(ce)){const _e=this.placeholder.slice(0,this.placeholder.length-ce.length);return h.showPlaceholderOnFocus?this.placeholder=_e:this.setPlaceHolder(_e),!0}else return!1};ie(W)||ie(T)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let v=this.getNextValue();v&&(v=v===this.value?this.getNextValue():v),v&&(this.value=v,y.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let v=this.getPreviousValue();v&&(v=v===this.value?this.getPreviousValue():v),v&&(this.value=v,y.i7(this.value))}getCurrentValue(){let v=this.history.current();return v||(v=this.history.last(),this.history.next()),v}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},72010:function(Yt,Ue,c){"use strict";c.d(Ue,{kX:function(){return W},Bv:function(){return ve}});var g=c(16268),Y=c(23547),Q=c(65321),O=c(4850),y=c(10553),J=c(13433),k=c(9488),P=c(15393),s=c(49898),I=c(4669),m=c(5976),C=c(36248),V=c(61134),r=c(76633);function x(De,le){const Z=[];for(let $ of le){if(De.start>=$.range.end)continue;if(De.end<$.range.start)break;const G=V.e.intersect(De,$.range);V.e.isEmpty(G)||Z.push({range:G,size:$.size})}return Z}function w({start:De,end:le},Z){return{start:De+Z,end:le+Z}}function D(De){const le=[];let Z=null;for(let $ of De){const G=$.range.start,q=$.range.end,p=$.size;if(Z&&p===Z.size){Z.range.end=q;continue}Z={range:{start:G,end:q},size:p},le.push(Z)}return le}function f(...De){return D(De.reduce((le,Z)=>le.concat(Z),[]))}class v{constructor(){this.groups=[],this._size=0}splice(le,Z,$=[]){const G=$.length-Z,q=x({start:0,end:le},this.groups),p=x({start:le+Z,end:Number.POSITIVE_INFINITY},this.groups).map(B=>({range:w(B.range,G),size:B.size})),S=$.map((B,te)=>({range:{start:le+te,end:le+te+1},size:B.size}));this.groups=f(q,S,p),this._size=this.groups.reduce((B,te)=>B+te.size*(te.range.end-te.range.start),0)}get count(){const le=this.groups.length;return le?this.groups[le-1].range.end:0}get size(){return this._size}indexAt(le){if(le<0)return-1;let Z=0,$=0;for(let G of this.groups){const q=G.range.end-G.range.start,p=$+q*G.size;if(le<p)return Z+Math.floor((le-$)/G.size);Z+=q,$=p}return Z}indexAfter(le){return Math.min(this.indexAt(le)+1,this.count)}positionAt(le){if(le<0)return-1;let Z=0,$=0;for(let G of this.groups){const q=G.range.end-G.range.start,p=$+q;if(le<p)return Z+(le-$)*G.size;Z+=q*G.size,$=p}return-1}}function L(De){try{De.parentElement&&De.parentElement.removeChild(De)}catch(le){}}class h{constructor(le){this.renderers=le,this.cache=new Map}alloc(le){let Z=this.getTemplateCache(le).pop();if(!Z){const $=(0,Q.$)(".monaco-list-row"),q=this.getRenderer(le).renderTemplate($);Z={domNode:$,templateId:le,templateData:q}}return Z}release(le){le&&this.releaseRow(le)}releaseRow(le){const{domNode:Z,templateId:$}=le;Z&&(Z.classList.remove("scrolling"),L(Z)),this.getTemplateCache($).push(le)}getTemplateCache(le){let Z=this.cache.get(le);return Z||(Z=[],this.cache.set(le,Z)),Z}dispose(){this.cache.forEach((le,Z)=>{for(const $ of le)this.getRenderer(Z).disposeTemplate($.templateData),$.templateData=null}),this.cache.clear()}getRenderer(le){const Z=this.renderers.get(le);if(!Z)throw new Error(`No renderer found for ${le}`);return Z}}var R=function(De,le,Z,$){var G=arguments.length,q=G<3?le:$===null?$=Object.getOwnPropertyDescriptor(le,Z):$,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(De,le,Z,$);else for(var S=De.length-1;S>=0;S--)(p=De[S])&&(q=(G<3?p(q):G>3?p(le,Z,q):p(le,Z))||q);return G>3&&q&&Object.defineProperty(le,Z,q),q};const T={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(De){return[De]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class W{constructor(le){this.elements=le}update(){}getData(){return this.elements}}class K{constructor(le){this.elements=le}update(){}getData(){return this.elements}}class ie{constructor(){this.types=[],this.files=[]}update(le){if(le.types&&this.types.splice(0,this.types.length,...le.types),le.files){this.files.splice(0,this.files.length);for(let Z=0;Z<le.files.length;Z++){const $=le.files.item(Z);$&&($.size||$.type)&&this.files.push($)}}}getData(){return{types:this.types,files:this.files}}}function ce(De,le){return Array.isArray(De)&&Array.isArray(le)?(0,k.fS)(De,le):De===le}class _e{constructor(le){le!=null&&le.getSetSize?this.getSetSize=le.getSetSize.bind(le):this.getSetSize=(Z,$,G)=>G,le!=null&&le.getPosInSet?this.getPosInSet=le.getPosInSet.bind(le):this.getPosInSet=(Z,$)=>$+1,le!=null&&le.getRole?this.getRole=le.getRole.bind(le):this.getRole=Z=>"listitem",le!=null&&le.isChecked?this.isChecked=le.isChecked.bind(le):this.isChecked=Z=>{}}}class ve{constructor(le,Z,$,G=T){if(this.virtualDelegate=Z,this.domId=`list_id_${++ve.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new P.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=m.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=m.JT.None,this.onDragLeaveTimeout=m.JT.None,this.disposables=new m.SL,this._onDidChangeContentHeight=new I.Q5,this._horizontalScrolling=!1,G.horizontalScrolling&&G.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new v;for(const p of $)this.renderers.set(p.templateId,p);this.cache=this.disposables.add(new h(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof G.mouseSupport=="boolean"?G.mouseSupport:!0),this._horizontalScrolling=(0,C.CJ)(G,p=>p.horizontalScrolling,T.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof G.additionalScrollHeight=="undefined"?0:G.additionalScrollHeight,this.accessibilityProvider=new _e(G.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,C.CJ)(G,p=>p.transformOptimization,T.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(y.o.addTarget(this.rowsContainer)),this.scrollable=new r.Rm((0,C.CJ)(G,p=>p.smoothScrolling,!1)?125:0,p=>(0,Q.jL)(p)),this.scrollableElement=this.disposables.add(new J.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(0,C.CJ)(G,p=>p.alwaysConsumeMouseWheel,T.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,C.CJ)(G,p=>p.verticalScrollMode,T.verticalScrollMode),useShadows:(0,C.CJ)(G,p=>p.useShadows,T.useShadows),mouseWheelScrollSensitivity:G.mouseWheelScrollSensitivity,fastScrollSensitivity:G.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),le.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,Q.nm)(this.rowsContainer,y.t.Change,p=>this.onTouchChange(p))),this.disposables.add((0,Q.nm)(this.scrollableElement.getDomNode(),"scroll",p=>p.target.scrollTop=0)),this.disposables.add((0,Q.nm)(this.domNode,"dragover",p=>this.onDragOver(this.toDragEvent(p)))),this.disposables.add((0,Q.nm)(this.domNode,"drop",p=>this.onDrop(this.toDragEvent(p)))),this.disposables.add((0,Q.nm)(this.domNode,"dragleave",p=>this.onDragLeave(this.toDragEvent(p)))),this.disposables.add((0,Q.nm)(this.domNode,"dragend",p=>this.onDragEnd(p))),this.setRowLineHeight=(0,C.CJ)(G,p=>p.setRowLineHeight,T.setRowLineHeight),this.setRowHeight=(0,C.CJ)(G,p=>p.setRowHeight,T.setRowHeight),this.supportDynamicHeights=(0,C.CJ)(G,p=>p.supportDynamicHeights,T.supportDynamicHeights),this.dnd=(0,C.CJ)(G,p=>p.dnd,T.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(le){if(le!==this._horizontalScrolling){if(le&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=le,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const Z of this.items)this.measureItemWidth(Z);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,Q.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(le){le.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=le.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),le.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(le.smoothScrolling?125:0),le.horizontalScrolling!==void 0&&(this.horizontalScrolling=le.horizontalScrolling),le.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:le.mouseWheelScrollSensitivity}),le.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:le.fastScrollSensitivity})}splice(le,Z,$=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(le,Z,$)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(le,Z,$=[]){const G=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),q={start:le,end:le+Z},p=V.e.intersect(G,q),S=new Map;for(let ke=p.start;ke<p.end;ke++){const et=this.items[ke];if(et.dragStartDisposable.dispose(),et.row){let at=S.get(et.templateId);at||(at=[],S.set(et.templateId,at));const rt=this.renderers.get(et.templateId);rt&&rt.disposeElement&&rt.disposeElement(et.element,ke,et.row.templateData,et.size),at.push(et.row)}et.row=null}const B={start:le+Z,end:this.items.length},te=V.e.intersect(B,G),me=V.e.relativeComplement(B,G),de=$.map(ke=>({id:String(this.itemId++),element:ke,templateId:this.virtualDelegate.getTemplateId(ke),size:this.virtualDelegate.getHeight(ke),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(ke),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:m.JT.None}));let Pe;le===0&&Z>=this.items.length?(this.rangeMap=new v,this.rangeMap.splice(0,0,de),Pe=this.items,this.items=de):(this.rangeMap.splice(le,Z,de),Pe=this.items.splice(le,Z,...de));const Me=$.length-Z,nt=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),It=w(te,Me),ht=V.e.intersect(nt,It);for(let ke=ht.start;ke<ht.end;ke++)this.updateItemInDOM(this.items[ke],ke);const Mt=V.e.relativeComplement(It,nt);for(const ke of Mt)for(let et=ke.start;et<ke.end;et++)this.removeItemFromDOM(et);const it=me.map(ke=>w(ke,Me)),ze=[{start:le,end:le+$.length},...it].map(ke=>V.e.intersect(nt,ke)),he=this.getNextToLastElement(ze);for(const ke of ze)for(let et=ke.start;et<ke.end;et++){const at=this.items[et],rt=S.get(at.templateId),Ne=rt==null?void 0:rt.pop();this.insertItemInDOM(et,he,Ne)}for(const ke of S.values())for(const et of ke)this.cache.release(et);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),Pe.map(ke=>ke.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,Q.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let le=0;for(const Z of this.items)typeof Z.width!="undefined"&&(le=Math.max(le,Z.width));this.scrollWidth=le,this.scrollableElement.setScrollDimensions({scrollWidth:le===0?0:le+10})}rerender(){if(this.supportDynamicHeights){for(const le of this.items)le.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(le){return this.items[le].element}domElement(le){const Z=this.items[le].row;return Z&&Z.domNode}elementHeight(le){return this.items[le].size}elementTop(le){return this.rangeMap.positionAt(le)}indexAt(le){return this.rangeMap.indexAt(le)}indexAfter(le){return this.rangeMap.indexAfter(le)}layout(le,Z){let $={height:typeof le=="number"?le:(0,Q.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,$.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions($),typeof Z!="undefined"&&(this.renderWidth=Z,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof Z=="number"?Z:(0,Q.FK)(this.domNode)})}render(le,Z,$,G,q,p=!1){const S=this.getRenderRange(Z,$),B=V.e.relativeComplement(S,le),te=V.e.relativeComplement(le,S),me=this.getNextToLastElement(B);if(p){const de=V.e.intersect(le,S);for(let Pe=de.start;Pe<de.end;Pe++)this.updateItemInDOM(this.items[Pe],Pe)}for(const de of B)for(let Pe=de.start;Pe<de.end;Pe++)this.insertItemInDOM(Pe,me);for(const de of te)for(let Pe=de.start;Pe<de.end;Pe++)this.removeItemFromDOM(Pe);G!==void 0&&(this.rowsContainer.style.left=`-${G}px`),this.rowsContainer.style.top=`-${Z}px`,this.horizontalScrolling&&q!==void 0&&(this.rowsContainer.style.width=`${Math.max(q,this.renderWidth)}px`),this.lastRenderTop=Z,this.lastRenderHeight=$}insertItemInDOM(le,Z,$){const G=this.items[le];G.row||(G.row=$!=null?$:this.cache.alloc(G.templateId));const q=this.accessibilityProvider.getRole(G.element)||"listitem";G.row.domNode.setAttribute("role",q);const p=this.accessibilityProvider.isChecked(G.element);typeof p!="undefined"&&G.row.domNode.setAttribute("aria-checked",String(!!p)),G.row.domNode.parentElement||(Z?this.rowsContainer.insertBefore(G.row.domNode,Z):this.rowsContainer.appendChild(G.row.domNode)),this.updateItemInDOM(G,le);const S=this.renderers.get(G.templateId);if(!S)throw new Error(`No renderer found for template id ${G.templateId}`);S&&S.renderElement(G.element,le,G.row.templateData,G.size);const B=this.dnd.getDragURI(G.element);G.dragStartDisposable.dispose(),G.row.domNode.draggable=!!B,B&&(G.dragStartDisposable=(0,Q.nm)(G.row.domNode,"dragstart",te=>this.onDragStart(G.element,B,te))),this.horizontalScrolling&&(this.measureItemWidth(G),this.eventuallyUpdateScrollWidth())}measureItemWidth(le){if(!le.row||!le.row.domNode)return;le.row.domNode.style.width=g.vU?"-moz-fit-content":"fit-content",le.width=(0,Q.FK)(le.row.domNode);const Z=window.getComputedStyle(le.row.domNode);Z.paddingLeft&&(le.width+=parseFloat(Z.paddingLeft)),Z.paddingRight&&(le.width+=parseFloat(Z.paddingRight)),le.row.domNode.style.width=""}updateItemInDOM(le,Z){le.row.domNode.style.top=`${this.elementTop(Z)}px`,this.setRowHeight&&(le.row.domNode.style.height=`${le.size}px`),this.setRowLineHeight&&(le.row.domNode.style.lineHeight=`${le.size}px`),le.row.domNode.setAttribute("data-index",`${Z}`),le.row.domNode.setAttribute("data-last-element",Z===this.length-1?"true":"false"),le.row.domNode.setAttribute("data-parity",Z%2===0?"even":"odd"),le.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(le.element,Z,this.length))),le.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(le.element,Z))),le.row.domNode.setAttribute("id",this.getElementDomId(Z)),le.row.domNode.classList.toggle("drop-target",le.dropTarget)}removeItemFromDOM(le){const Z=this.items[le];if(Z.dragStartDisposable.dispose(),Z.row){const $=this.renderers.get(Z.templateId);$&&$.disposeElement&&$.disposeElement(Z.element,le,Z.row.templateData,Z.size),this.cache.release(Z.row),Z.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(le,Z){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:le,reuseAnimation:Z})}get scrollTop(){return this.getScrollTop()}set scrollTop(le){this.setScrollTop(le)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return I.ju.map(this.disposables.add(new O.Y(this.domNode,"click")).event,le=>this.toMouseEvent(le))}get onMouseDblClick(){return I.ju.map(this.disposables.add(new O.Y(this.domNode,"dblclick")).event,le=>this.toMouseEvent(le))}get onMouseMiddleClick(){return I.ju.filter(I.ju.map(this.disposables.add(new O.Y(this.domNode,"auxclick")).event,le=>this.toMouseEvent(le)),le=>le.browserEvent.button===1)}get onMouseDown(){return I.ju.map(this.disposables.add(new O.Y(this.domNode,"mousedown")).event,le=>this.toMouseEvent(le))}get onContextMenu(){return I.ju.any(I.ju.map(this.disposables.add(new O.Y(this.domNode,"contextmenu")).event,le=>this.toMouseEvent(le)),I.ju.map(this.disposables.add(new O.Y(this.domNode,y.t.Contextmenu)).event,le=>this.toGestureEvent(le)))}get onTouchStart(){return I.ju.map(this.disposables.add(new O.Y(this.domNode,"touchstart")).event,le=>this.toTouchEvent(le))}get onTap(){return I.ju.map(this.disposables.add(new O.Y(this.rowsContainer,y.t.Tap)).event,le=>this.toGestureEvent(le))}toMouseEvent(le){const Z=this.getItemIndexFromEventTarget(le.target||null),$=typeof Z=="undefined"?void 0:this.items[Z],G=$&&$.element;return{browserEvent:le,index:Z,element:G}}toTouchEvent(le){const Z=this.getItemIndexFromEventTarget(le.target||null),$=typeof Z=="undefined"?void 0:this.items[Z],G=$&&$.element;return{browserEvent:le,index:Z,element:G}}toGestureEvent(le){const Z=this.getItemIndexFromEventTarget(le.initialTarget||null),$=typeof Z=="undefined"?void 0:this.items[Z],G=$&&$.element;return{browserEvent:le,index:Z,element:G}}toDragEvent(le){const Z=this.getItemIndexFromEventTarget(le.target||null),$=typeof Z=="undefined"?void 0:this.items[Z],G=$&&$.element;return{browserEvent:le,index:Z,element:G}}onScroll(le){try{const Z=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(Z,le.scrollTop,le.height,le.scrollLeft,le.scrollWidth),this.supportDynamicHeights&&this._rerender(le.scrollTop,le.height,le.inSmoothScrolling)}catch(Z){throw console.error("Got bad scroll event:",le),Z}}onTouchChange(le){le.preventDefault(),le.stopPropagation(),this.scrollTop-=le.translationY}onDragStart(le,Z,$){if(!$.dataTransfer)return;const G=this.dnd.getDragElements(le);if($.dataTransfer.effectAllowed="copyMove",$.dataTransfer.setData(Y.go.TEXT,Z),$.dataTransfer.setDragImage){let q;this.dnd.getDragLabel&&(q=this.dnd.getDragLabel(G,$)),typeof q=="undefined"&&(q=String(G.length));const p=(0,Q.$)(".monaco-drag-image");p.textContent=q,document.body.appendChild(p),$.dataTransfer.setDragImage(p,-10,-10),setTimeout(()=>document.body.removeChild(p),0)}this.currentDragData=new W(G),Y.P$.CurrentDragAndDropData=new K(G),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,$)}onDragOver(le){if(le.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),Y.P$.CurrentDragAndDropData&&Y.P$.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(le.browserEvent),!le.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(Y.P$.CurrentDragAndDropData)this.currentDragData=Y.P$.CurrentDragAndDropData;else{if(!le.browserEvent.dataTransfer.types)return!1;this.currentDragData=new ie}const Z=this.dnd.onDragOver(this.currentDragData,le.element,le.index,le.browserEvent);if(this.canDrop=typeof Z=="boolean"?Z:Z.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;le.browserEvent.dataTransfer.dropEffect=typeof Z!="boolean"&&Z.effect===0?"copy":"move";let $;if(typeof Z!="boolean"&&Z.feedback?$=Z.feedback:typeof le.index=="undefined"?$=[-1]:$=[le.index],$=(0,k.EB)($).filter(G=>G>=-1&&G<this.length).sort((G,q)=>G-q),$=$[0]===-1?[-1]:$,ce(this.currentDragFeedback,$))return!0;if(this.currentDragFeedback=$,this.currentDragFeedbackDisposable.dispose(),$[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,m.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const G of $){const q=this.items[G];q.dropTarget=!0,q.row&&q.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,m.OF)(()=>{for(const G of $){const q=this.items[G];q.dropTarget=!1,q.row&&q.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(le){var Z,$;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,P.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&(($=(Z=this.dnd).onDragLeave)===null||$===void 0||$.call(Z,this.currentDragData,le.element,le.index,le.browserEvent))}onDrop(le){if(!this.canDrop)return;const Z=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Y.P$.CurrentDragAndDropData=void 0,!(!Z||!le.browserEvent.dataTransfer)&&(le.browserEvent.preventDefault(),Z.update(le.browserEvent.dataTransfer),this.dnd.drop(Z,le.element,le.index,le.browserEvent))}onDragEnd(le){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Y.P$.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(le)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=m.JT.None}setupDragAndDropScrollTopAnimation(le){if(!this.dragOverAnimationDisposable){const Z=(0,Q.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,Q.jt)(this.animateDragAndDropScrollTop.bind(this,Z))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,P.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=le.pageY}animateDragAndDropScrollTop(le){if(this.dragOverMouseY===void 0)return;const Z=this.dragOverMouseY-le,$=this.renderHeight-35;Z<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(Z-35))):Z>$&&(this.scrollTop+=Math.min(14,Math.floor(.3*(Z-$))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(le){const Z=this.scrollableElement.getDomNode();let $=le;for(;$ instanceof HTMLElement&&$!==this.rowsContainer&&Z.contains($);){const G=$.getAttribute("data-index");if(G){const q=Number(G);if(!isNaN(q))return q}$=$.parentElement}}getRenderRange(le,Z){return{start:this.rangeMap.indexAt(le),end:this.rangeMap.indexAfter(le+Z-1)}}_rerender(le,Z,$){const G=this.getRenderRange(le,Z);let q,p;le===this.elementTop(G.start)?(q=G.start,p=0):G.end-G.start>1&&(q=G.start+1,p=this.elementTop(q)-le);let S=0;for(;;){const B=this.getRenderRange(le,Z);let te=!1;for(let me=B.start;me<B.end;me++){const de=this.probeDynamicHeight(me);de!==0&&this.rangeMap.splice(me,1,[this.items[me]]),S+=de,te=te||de!==0}if(!te){S!==0&&this.eventuallyUpdateScrollDimensions();const me=V.e.relativeComplement(G,B);for(const Pe of me)for(let Me=Pe.start;Me<Pe.end;Me++)this.items[Me].row&&this.removeItemFromDOM(Me);const de=V.e.relativeComplement(B,G);for(const Pe of de)for(let Me=Pe.start;Me<Pe.end;Me++){const nt=Me+1,It=nt<this.items.length?this.items[nt].row:null,ht=It?It.domNode:null;this.insertItemInDOM(Me,ht)}for(let Pe=B.start;Pe<B.end;Pe++)this.items[Pe].row&&this.updateItemInDOM(this.items[Pe],Pe);if(typeof q=="number"){const Pe=this.scrollable.getFutureScrollPosition().scrollTop-le,Me=this.elementTop(q)-p+Pe;this.setScrollTop(Me,$)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(le){const Z=this.items[le];if(this.virtualDelegate.getDynamicHeight){const p=this.virtualDelegate.getDynamicHeight(Z.element);if(p!==null){const S=Z.size;return Z.size=p,Z.lastDynamicHeightWidth=this.renderWidth,p-S}}if(!Z.hasDynamicHeight||Z.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(Z.element))return 0;const $=Z.size;if(!this.setRowHeight&&Z.row){let p=Z.row.domNode.offsetHeight;return Z.size=p,Z.lastDynamicHeightWidth=this.renderWidth,p-$}const G=this.cache.alloc(Z.templateId);G.domNode.style.height="",this.rowsContainer.appendChild(G.domNode);const q=this.renderers.get(Z.templateId);return q&&(q.renderElement(Z.element,le,G.templateData,void 0),q.disposeElement&&q.disposeElement(Z.element,le,G.templateData,void 0)),Z.size=G.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(Z.element,Z.size),Z.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(G.domNode),this.cache.release(G),Z.size-$}getNextToLastElement(le){const Z=le[le.length-1];if(!Z)return null;const $=this.items[Z.end];return!$||!$.row?null:$.row.domNode}getElementDomId(le){return`${this.domId}_${le}`}dispose(){if(this.items){for(const le of this.items)if(le.row){const Z=this.renderers.get(le.row.templateId);Z&&(Z.disposeElement&&Z.disposeElement(le.element,-1,le.row.templateData,void 0),Z.disposeTemplate(le.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,m.B9)(this.disposables)}}ve.InstanceCount=0,R([s.H],ve.prototype,"onMouseClick",null),R([s.H],ve.prototype,"onMouseDblClick",null),R([s.H],ve.prototype,"onMouseMiddleClick",null),R([s.H],ve.prototype,"onMouseDown",null),R([s.H],ve.prototype,"onContextMenu",null),R([s.H],ve.prototype,"onTouchStart",null),R([s.H],ve.prototype,"onTap",null)},69047:function(Yt,Ue,c){"use strict";c.d(Ue,{WK:function(){return le},wD:function(){return te},aV:function(){return kt},sx:function(){return B},cK:function(){return ce},hD:function(){return _e},wn:function(){return q},Zo:function(){return G}});var g=c(65321),Y=c(4850),Q=c(59069),O=c(10553),y=c(35996);class J{constructor(he){this.spliceables=he}splice(he,ke,et){this.spliceables.forEach(at=>at.splice(he,ke,et))}}var k=c(9488),P=c(15393),s=c(41264),I=c(49898),m=c(4669),C=c(75392),V=c(5976),r=c(59870),x=c(36248),w=c(1432),D=c(98401),f=c(5520);class v extends Error{constructor(he,ke){super(`ListError [${he}] ${ke}`)}}var L=c(72010),h=function(ze,he,ke,et){var at=arguments.length,rt=at<3?he:et===null?et=Object.getOwnPropertyDescriptor(he,ke):et,Ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(ze,he,ke,et);else for(var Oe=ze.length-1;Oe>=0;Oe--)(Ne=ze[Oe])&&(rt=(at<3?Ne(rt):at>3?Ne(he,ke,rt):Ne(he,ke))||rt);return at>3&&rt&&Object.defineProperty(he,ke,rt),rt},R=function(ze,he,ke,et){function at(rt){return rt instanceof ke?rt:new ke(function(Ne){Ne(rt)})}return new(ke||(ke=Promise))(function(rt,Ne){function Oe(st){try{Ye(et.next(st))}catch(Pt){Ne(Pt)}}function we(st){try{Ye(et.throw(st))}catch(Pt){Ne(Pt)}}function Ye(st){st.done?rt(st.value):at(st.value).then(Oe,we)}Ye((et=et.apply(ze,he||[])).next())})};class T{constructor(he){this.trait=he,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(he){return he}renderElement(he,ke,et){const at=this.renderedElements.findIndex(rt=>rt.templateData===et);if(at>=0){const rt=this.renderedElements[at];this.trait.unrender(et),rt.index=ke}else{const rt={index:ke,templateData:et};this.renderedElements.push(rt)}this.trait.renderIndex(ke,et)}splice(he,ke,et){const at=[];for(const rt of this.renderedElements)rt.index<he?at.push(rt):rt.index>=he+ke&&at.push({index:rt.index+et-ke,templateData:rt.templateData});this.renderedElements=at}renderIndexes(he){for(const{index:ke,templateData:et}of this.renderedElements)he.indexOf(ke)>-1&&this.trait.renderIndex(ke,et)}disposeTemplate(he){const ke=this.renderedElements.findIndex(et=>et.templateData===he);ke<0||this.renderedElements.splice(ke,1)}}class W{constructor(he){this._trait=he,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new m.Q5,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new T(this)}splice(he,ke,et){var at;ke=Math.max(0,Math.min(ke,this.length-he));const rt=et.length-ke,Ne=he+ke,Oe=[...this.sortedIndexes.filter(Ye=>Ye<he),...et.map((Ye,st)=>Ye?st+he:-1).filter(Ye=>Ye!==-1),...this.sortedIndexes.filter(Ye=>Ye>=Ne).map(Ye=>Ye+rt)],we=this.length+rt;if(this.sortedIndexes.length>0&&Oe.length===0&&we>0){const Ye=(at=this.sortedIndexes.find(st=>st>=he))!==null&&at!==void 0?at:we-1;Oe.push(Math.min(Ye,we-1))}this.renderer.splice(he,ke,et.length),this._set(Oe,Oe),this.length=we}renderIndex(he,ke){ke.classList.toggle(this._trait,this.contains(he))}unrender(he){he.classList.remove(this._trait)}set(he,ke){return this._set(he,[...he].sort(It),ke)}_set(he,ke,et){const at=this.indexes,rt=this.sortedIndexes;this.indexes=he,this.sortedIndexes=ke;const Ne=Me(rt,he);return this.renderer.renderIndexes(Ne),this._onChange.fire({indexes:he,browserEvent:et}),at}get(){return this.indexes}contains(he){return(0,k.ry)(this.sortedIndexes,he,It)>=0}dispose(){(0,V.B9)(this._onChange)}}h([I.H],W.prototype,"renderer",null);class K extends W{constructor(he){super("selected"),this.setAriaSelected=he}renderIndex(he,ke){super.renderIndex(he,ke),this.setAriaSelected&&(this.contains(he)?ke.setAttribute("aria-selected","true"):ke.setAttribute("aria-selected","false"))}}class ie{constructor(he,ke,et){this.trait=he,this.view=ke,this.identityProvider=et}splice(he,ke,et){if(!this.identityProvider)return this.trait.splice(he,ke,et.map(()=>!1));const at=this.trait.get().map(Ne=>this.identityProvider.getId(this.view.element(Ne)).toString()),rt=et.map(Ne=>at.indexOf(this.identityProvider.getId(Ne).toString())>-1);this.trait.splice(he,ke,rt)}}function ce(ze){return ze.tagName==="INPUT"||ze.tagName==="TEXTAREA"}function _e(ze){return ze.classList.contains("monaco-editor")?!0:ze.classList.contains("monaco-list")||!ze.parentElement?!1:_e(ze.parentElement)}class ve{constructor(he,ke,et){this.list=he,this.view=ke,this.disposables=new V.SL,this.multipleSelectionDisposables=new V.SL,this.onKeyDown.filter(at=>at.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(at=>at.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(at=>at.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(at=>at.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(at=>at.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(at=>at.keyCode===9).on(this.onEscape,this,this.disposables),et.multipleSelectionSupport!==!1&&this.onKeyDown.filter(at=>(w.dz?at.metaKey:at.ctrlKey)&&at.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return m.ju.chain(this.disposables.add(new Y.Y(this.view.domNode,"keydown")).event).filter(he=>!ce(he.target)).map(he=>new Q.y(he))}updateOptions(he){he.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),he.multipleSelectionSupport&&this.onKeyDown.filter(ke=>(w.dz?ke.metaKey:ke.ctrlKey)&&ke.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(he){he.preventDefault(),he.stopPropagation(),this.list.setSelection(this.list.getFocus(),he.browserEvent)}onUpArrow(he){he.preventDefault(),he.stopPropagation(),this.list.focusPrevious(1,!1,he.browserEvent);const ke=this.list.getFocus()[0];this.list.setAnchor(ke),this.list.reveal(ke),this.view.domNode.focus()}onDownArrow(he){he.preventDefault(),he.stopPropagation(),this.list.focusNext(1,!1,he.browserEvent);const ke=this.list.getFocus()[0];this.list.setAnchor(ke),this.list.reveal(ke),this.view.domNode.focus()}onPageUpArrow(he){he.preventDefault(),he.stopPropagation(),this.list.focusPreviousPage(he.browserEvent);const ke=this.list.getFocus()[0];this.list.setAnchor(ke),this.list.reveal(ke),this.view.domNode.focus()}onPageDownArrow(he){he.preventDefault(),he.stopPropagation(),this.list.focusNextPage(he.browserEvent);const ke=this.list.getFocus()[0];this.list.setAnchor(ke),this.list.reveal(ke),this.view.domNode.focus()}onCtrlA(he){he.preventDefault(),he.stopPropagation(),this.list.setSelection((0,k.w6)(this.list.length),he.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(he){this.list.getSelection().length&&(he.preventDefault(),he.stopPropagation(),this.list.setSelection([],he.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}h([I.H],ve.prototype,"onKeyDown",null);var De;(function(ze){ze[ze.Idle=0]="Idle",ze[ze.Typing=1]="Typing"})(De||(De={}));const le=new class{mightProducePrintableCharacter(ze){return ze.ctrlKey||ze.metaKey||ze.altKey?!1:ze.keyCode>=31&&ze.keyCode<=56||ze.keyCode>=21&&ze.keyCode<=30||ze.keyCode>=93&&ze.keyCode<=102||ze.keyCode>=80&&ze.keyCode<=90}};class Z{constructor(he,ke,et,at){this.list=he,this.view=ke,this.keyboardNavigationLabelProvider=et,this.delegate=at,this.enabled=!1,this.state=De.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new V.SL,this.disposables=new V.SL,this.updateOptions(he.options)}updateOptions(he){(typeof he.enableKeyboardNavigation=="undefined"?!0:!!he.enableKeyboardNavigation)?this.enable():this.disable(),typeof he.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=he.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const he=m.ju.chain(this.enabledDisposables.add(new Y.Y(this.view.domNode,"keydown")).event).filter(at=>!ce(at.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(at=>new Q.y(at)).filter(at=>this.delegate.mightProducePrintableCharacter(at)).forEach(at=>{at.stopPropagation(),at.preventDefault()}).map(at=>at.browserEvent.key).event,ke=m.ju.debounce(he,()=>null,800);m.ju.reduce(m.ju.any(he,ke),(at,rt)=>rt===null?null:(at||"")+rt)(this.onInput,this,this.enabledDisposables),ke(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var he;const ke=this.list.getFocus();if(ke.length>0&&ke[0]===this.previouslyFocused){const et=(he=this.list.options.accessibilityProvider)===null||he===void 0?void 0:he.getAriaLabel(this.list.element(ke[0]));et&&(0,y.Z9)(et)}this.previouslyFocused=-1}onInput(he){if(!he){this.state=De.Idle,this.triggered=!1;return}const ke=this.list.getFocus(),et=ke.length>0?ke[0]:0,at=this.state===De.Idle?1:0;this.state=De.Typing;for(let rt=0;rt<this.list.length;rt++){const Ne=(et+rt+at)%this.list.length,Oe=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Ne)),we=Oe&&Oe.toString();if(typeof we=="undefined"||(0,C.Ji)(he,we)){this.previouslyFocused=et,this.list.setFocus([Ne]),this.list.reveal(Ne);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class ${constructor(he,ke){this.list=he,this.view=ke,this.disposables=new V.SL,m.ju.chain(this.disposables.add(new Y.Y(ke.domNode,"keydown")).event).filter(at=>!ce(at.target)).map(at=>new Q.y(at)).filter(at=>at.keyCode===2&&!at.ctrlKey&&!at.metaKey&&!at.shiftKey&&!at.altKey).on(this.onTab,this,this.disposables)}onTab(he){if(he.target!==this.view.domNode)return;const ke=this.list.getFocus();if(ke.length===0)return;const et=this.view.domElement(ke[0]);if(!et)return;const at=et.querySelector("[tabIndex]");if(!at||!(at instanceof HTMLElement)||at.tabIndex===-1)return;const rt=window.getComputedStyle(at);rt.visibility==="hidden"||rt.display==="none"||(he.preventDefault(),he.stopPropagation(),at.focus())}dispose(){this.disposables.dispose()}}function G(ze){return w.dz?ze.browserEvent.metaKey:ze.browserEvent.ctrlKey}function q(ze){return ze.browserEvent.shiftKey}function p(ze){return ze instanceof MouseEvent&&ze.button===2}const S={isSelectionSingleChangeEvent:G,isSelectionRangeChangeEvent:q};class B{constructor(he){this.list=he,this.disposables=new V.SL,this._onPointer=new m.Q5,this.onPointer=this._onPointer.event,he.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||S),this.mouseSupport=typeof he.options.mouseSupport=="undefined"||!!he.options.mouseSupport,this.mouseSupport&&(he.onMouseDown(this.onMouseDown,this,this.disposables),he.onContextMenu(this.onContextMenu,this,this.disposables),he.onMouseDblClick(this.onDoubleClick,this,this.disposables),he.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(O.o.addTarget(he.getHTMLElement()))),m.ju.any(he.onMouseClick,he.onMouseMiddleClick,he.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(he){he.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,he.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||S))}isSelectionSingleChangeEvent(he){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(he):!1}isSelectionRangeChangeEvent(he){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(he):!1}isSelectionChangeEvent(he){return this.isSelectionSingleChangeEvent(he)||this.isSelectionRangeChangeEvent(he)}onMouseDown(he){_e(he.browserEvent.target)||document.activeElement!==he.browserEvent.target&&this.list.domFocus()}onContextMenu(he){if(_e(he.browserEvent.target))return;const ke=typeof he.index=="undefined"?[]:[he.index];this.list.setFocus(ke,he.browserEvent)}onViewPointer(he){if(!this.mouseSupport||ce(he.browserEvent.target)||_e(he.browserEvent.target))return;const ke=he.index;if(typeof ke=="undefined"){this.list.setFocus([],he.browserEvent),this.list.setSelection([],he.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(he))return this.changeSelection(he);if(this.isSelectionChangeEvent(he))return this.changeSelection(he);this.list.setFocus([ke],he.browserEvent),this.list.setAnchor(ke),p(he.browserEvent)||this.list.setSelection([ke],he.browserEvent),this._onPointer.fire(he)}onDoubleClick(he){if(ce(he.browserEvent.target)||_e(he.browserEvent.target)||this.isSelectionChangeEvent(he))return;const ke=this.list.getFocus();this.list.setSelection(ke,he.browserEvent)}changeSelection(he){const ke=he.index;let et=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(he)){if(typeof et=="undefined"){const st=this.list.getFocus()[0];et=st!=null?st:ke,this.list.setAnchor(et)}const at=Math.min(et,ke),rt=Math.max(et,ke),Ne=(0,k.w6)(at,rt+1),Oe=this.list.getSelection(),we=Pe(Me(Oe,[et]),et);if(we.length===0)return;const Ye=Me(Ne,nt(Oe,we));this.list.setSelection(Ye,he.browserEvent),this.list.setFocus([ke],he.browserEvent)}else if(this.isSelectionSingleChangeEvent(he)){const at=this.list.getSelection(),rt=at.filter(Ne=>Ne!==ke);this.list.setFocus([ke]),this.list.setAnchor(ke),at.length===rt.length?this.list.setSelection([...rt,ke],he.browserEvent):this.list.setSelection(rt,he.browserEvent)}}dispose(){this.disposables.dispose()}}class te{constructor(he,ke){this.styleElement=he,this.selectorSuffix=ke}style(he){const ke=this.selectorSuffix&&`.${this.selectorSuffix}`,et=[];he.listBackground&&(he.listBackground.isOpaque()?et.push(`.monaco-list${ke} .monaco-list-rows { background: ${he.listBackground}; }`):w.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),he.listFocusBackground&&(et.push(`.monaco-list${ke}:focus .monaco-list-row.focused { background-color: ${he.listFocusBackground}; }`),et.push(`.monaco-list${ke}:focus .monaco-list-row.focused:hover { background-color: ${he.listFocusBackground}; }`)),he.listFocusForeground&&et.push(`.monaco-list${ke}:focus .monaco-list-row.focused { color: ${he.listFocusForeground}; }`),he.listActiveSelectionBackground&&(et.push(`.monaco-list${ke}:focus .monaco-list-row.selected { background-color: ${he.listActiveSelectionBackground}; }`),et.push(`.monaco-list${ke}:focus .monaco-list-row.selected:hover { background-color: ${he.listActiveSelectionBackground}; }`)),he.listActiveSelectionForeground&&et.push(`.monaco-list${ke}:focus .monaco-list-row.selected { color: ${he.listActiveSelectionForeground}; }`),he.listActiveSelectionIconForeground&&et.push(`.monaco-list${ke}:focus .monaco-list-row.selected .codicon { color: ${he.listActiveSelectionIconForeground}; }`),he.listFocusAndSelectionBackground&&et.push(`
				.monaco-drag-image,
				.monaco-list${ke}:focus .monaco-list-row.selected.focused { background-color: ${he.listFocusAndSelectionBackground}; }
			`),he.listFocusAndSelectionForeground&&et.push(`
				.monaco-drag-image,
				.monaco-list${ke}:focus .monaco-list-row.selected.focused { color: ${he.listFocusAndSelectionForeground}; }
			`),he.listInactiveFocusForeground&&(et.push(`.monaco-list${ke} .monaco-list-row.focused { color:  ${he.listInactiveFocusForeground}; }`),et.push(`.monaco-list${ke} .monaco-list-row.focused:hover { color:  ${he.listInactiveFocusForeground}; }`)),he.listInactiveSelectionIconForeground&&et.push(`.monaco-list${ke} .monaco-list-row.focused .codicon { color:  ${he.listInactiveSelectionIconForeground}; }`),he.listInactiveFocusBackground&&(et.push(`.monaco-list${ke} .monaco-list-row.focused { background-color:  ${he.listInactiveFocusBackground}; }`),et.push(`.monaco-list${ke} .monaco-list-row.focused:hover { background-color:  ${he.listInactiveFocusBackground}; }`)),he.listInactiveSelectionBackground&&(et.push(`.monaco-list${ke} .monaco-list-row.selected { background-color:  ${he.listInactiveSelectionBackground}; }`),et.push(`.monaco-list${ke} .monaco-list-row.selected:hover { background-color:  ${he.listInactiveSelectionBackground}; }`)),he.listInactiveSelectionForeground&&et.push(`.monaco-list${ke} .monaco-list-row.selected { color: ${he.listInactiveSelectionForeground}; }`),he.listHoverBackground&&et.push(`.monaco-list${ke}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${he.listHoverBackground}; }`),he.listHoverForeground&&et.push(`.monaco-list${ke} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${he.listHoverForeground}; }`),he.listSelectionOutline&&et.push(`.monaco-list${ke} .monaco-list-row.selected { outline: 1px dotted ${he.listSelectionOutline}; outline-offset: -1px; }`),he.listFocusOutline&&et.push(`
				.monaco-drag-image,
				.monaco-list${ke}:focus .monaco-list-row.focused { outline: 1px solid ${he.listFocusOutline}; outline-offset: -1px; }
			`),he.listInactiveFocusOutline&&et.push(`.monaco-list${ke} .monaco-list-row.focused { outline: 1px dotted ${he.listInactiveFocusOutline}; outline-offset: -1px; }`),he.listHoverOutline&&et.push(`.monaco-list${ke} .monaco-list-row:hover { outline: 1px dashed ${he.listHoverOutline}; outline-offset: -1px; }`),he.listDropBackground&&et.push(`
				.monaco-list${ke}.drop-target,
				.monaco-list${ke} .monaco-list-rows.drop-target,
				.monaco-list${ke} .monaco-list-row.drop-target { background-color: ${he.listDropBackground} !important; color: inherit !important; }
			`),he.listFilterWidgetBackground&&et.push(`.monaco-list-type-filter { background-color: ${he.listFilterWidgetBackground} }`),he.listFilterWidgetOutline&&et.push(`.monaco-list-type-filter { border: 1px solid ${he.listFilterWidgetOutline}; }`),he.listFilterWidgetNoMatchesOutline&&et.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${he.listFilterWidgetNoMatchesOutline}; }`),he.listMatchesShadow&&et.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${he.listMatchesShadow}; }`),he.tableColumnsBorder&&et.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${he.tableColumnsBorder};
			}`),this.styleElement.textContent=et.join(`
`)}}const me={listFocusBackground:s.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:s.Il.fromHex("#0E639C"),listActiveSelectionForeground:s.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:s.Il.fromHex("#FFFFFF"),listFocusAndSelectionBackground:s.Il.fromHex("#094771"),listFocusAndSelectionForeground:s.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:s.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:s.Il.fromHex("#FFFFFF"),listHoverBackground:s.Il.fromHex("#2A2D2E"),listDropBackground:s.Il.fromHex("#383B3D"),treeIndentGuidesStroke:s.Il.fromHex("#a9a9a9"),tableColumnsBorder:s.Il.fromHex("#cccccc").transparent(.2)},de={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function Pe(ze,he){const ke=ze.indexOf(he);if(ke===-1)return[];const et=[];let at=ke-1;for(;at>=0&&ze[at]===he-(ke-at);)et.push(ze[at--]);for(et.reverse(),at=ke;at<ze.length&&ze[at]===he+(at-ke);)et.push(ze[at++]);return et}function Me(ze,he){const ke=[];let et=0,at=0;for(;et<ze.length||at<he.length;)if(et>=ze.length)ke.push(he[at++]);else if(at>=he.length)ke.push(ze[et++]);else if(ze[et]===he[at]){ke.push(ze[et]),et++,at++;continue}else ze[et]<he[at]?ke.push(ze[et++]):ke.push(he[at++]);return ke}function nt(ze,he){const ke=[];let et=0,at=0;for(;et<ze.length||at<he.length;)if(et>=ze.length)ke.push(he[at++]);else if(at>=he.length)ke.push(ze[et++]);else if(ze[et]===he[at]){et++,at++;continue}else ze[et]<he[at]?ke.push(ze[et++]):at++;return ke}const It=(ze,he)=>ze-he;class ht{constructor(he,ke){this._templateId=he,this.renderers=ke}get templateId(){return this._templateId}renderTemplate(he){return this.renderers.map(ke=>ke.renderTemplate(he))}renderElement(he,ke,et,at){let rt=0;for(const Ne of this.renderers)Ne.renderElement(he,ke,et[rt++],at)}disposeElement(he,ke,et,at){let rt=0;for(const Ne of this.renderers)Ne.disposeElement&&Ne.disposeElement(he,ke,et[rt],at),rt+=1}disposeTemplate(he){let ke=0;for(const et of this.renderers)et.disposeTemplate(he[ke++])}}class Mt{constructor(he){this.accessibilityProvider=he,this.templateId="a18n"}renderTemplate(he){return he}renderElement(he,ke,et){const at=this.accessibilityProvider.getAriaLabel(he);at?et.setAttribute("aria-label",at):et.removeAttribute("aria-label");const rt=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(he);typeof rt=="number"?et.setAttribute("aria-level",`${rt}`):et.removeAttribute("aria-level")}disposeTemplate(he){}}class it{constructor(he,ke){this.list=he,this.dnd=ke}getDragElements(he){const ke=this.list.getSelectedElements();return ke.indexOf(he)>-1?ke:[he]}getDragURI(he){return this.dnd.getDragURI(he)}getDragLabel(he,ke){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(he,ke)}onDragStart(he,ke){this.dnd.onDragStart&&this.dnd.onDragStart(he,ke)}onDragOver(he,ke,et,at){return this.dnd.onDragOver(he,ke,et,at)}onDragLeave(he,ke,et,at){var rt,Ne;(Ne=(rt=this.dnd).onDragLeave)===null||Ne===void 0||Ne.call(rt,he,ke,et,at)}onDragEnd(he){this.dnd.onDragEnd&&this.dnd.onDragEnd(he)}drop(he,ke,et,at){this.dnd.drop(he,ke,et,at)}}class kt{constructor(he,ke,et,at,rt=de){var Ne;this.user=he,this._options=rt,this.focus=new W("focused"),this.anchor=new W("anchor"),this.eventBufferer=new m.E7,this._ariaLabel="",this.disposables=new V.SL,this._onDidDispose=new m.Q5,this.onDidDispose=this._onDidDispose.event;const Oe=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Ne=this._options.accessibilityProvider)===null||Ne===void 0?void 0:Ne.getWidgetRole():"list";this.selection=new K(Oe!=="listbox"),(0,x.jB)(rt,me,!1);const we=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=rt.accessibilityProvider,this.accessibilityProvider&&(we.push(new Mt(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),at=at.map(st=>new ht(st.templateId,[...we,st]));const Ye=Object.assign(Object.assign({},rt),{dnd:rt.dnd&&new it(this,rt.dnd)});if(this.view=new L.Bv(ke,et,at,Ye),this.view.domNode.setAttribute("role",Oe),rt.styleController)this.styleController=rt.styleController(this.view.domId);else{const st=(0,g.dS)(this.view.domNode);this.styleController=new te(st,this.view.domId)}if(this.spliceable=new J([new ie(this.focus,this.view,rt.identityProvider),new ie(this.selection,this.view,rt.identityProvider),new ie(this.anchor,this.view,rt.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new $(this,this.view)),(typeof rt.keyboardSupport!="boolean"||rt.keyboardSupport)&&(this.keyboardController=new ve(this,this.view,rt),this.disposables.add(this.keyboardController)),rt.keyboardNavigationLabelProvider){const st=rt.keyboardNavigationDelegate||le;this.typeLabelController=new Z(this,this.view,rt.keyboardNavigationLabelProvider,st),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(rt),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return m.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),he=>this.toListEvent(he))}get onDidChangeSelection(){return m.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),he=>this.toListEvent(he))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let he=!1;const ke=m.ju.chain(this.disposables.add(new Y.Y(this.view.domNode,"keydown")).event).map(rt=>new Q.y(rt)).filter(rt=>he=rt.keyCode===58||rt.shiftKey&&rt.keyCode===68).map(Y.p).filter(()=>!1).event,et=m.ju.chain(this.disposables.add(new Y.Y(this.view.domNode,"keyup")).event).forEach(()=>he=!1).map(rt=>new Q.y(rt)).filter(rt=>rt.keyCode===58||rt.shiftKey&&rt.keyCode===68).map(Y.p).map(({browserEvent:rt})=>{const Ne=this.getFocus(),Oe=Ne.length?Ne[0]:void 0,we=typeof Oe!="undefined"?this.view.element(Oe):void 0,Ye=typeof Oe!="undefined"?this.view.domElement(Oe):this.view.domNode;return{index:Oe,element:we,anchor:Ye,browserEvent:rt}}).event,at=m.ju.chain(this.view.onContextMenu).filter(rt=>!he).map(({element:rt,index:Ne,browserEvent:Oe})=>({element:rt,index:Ne,anchor:{x:Oe.pageX+1,y:Oe.pageY},browserEvent:Oe})).event;return m.ju.any(ke,et,at)}get onKeyDown(){return this.disposables.add(new Y.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return m.ju.signal(this.disposables.add(new Y.Y(this.view.domNode,"focus",!0)).event)}createMouseController(he){return new B(this)}updateOptions(he={}){var ke;this._options=Object.assign(Object.assign({},this._options),he),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(he),(ke=this.keyboardController)===null||ke===void 0||ke.updateOptions(he),this.view.updateOptions(he)}get options(){return this._options}splice(he,ke,et=[]){if(he<0||he>this.view.length)throw new v(this.user,`Invalid start index: ${he}`);if(ke<0)throw new v(this.user,`Invalid delete count: ${ke}`);ke===0&&et.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(he,ke,et))}rerender(){this.view.rerender()}element(he){return this.view.element(he)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(he){this.view.setScrollTop(he)}get ariaLabel(){return this._ariaLabel}set ariaLabel(he){this._ariaLabel=he,this.view.domNode.setAttribute("aria-label",he)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(he,ke){this.view.layout(he,ke)}setSelection(he,ke){for(const et of he)if(et<0||et>=this.length)throw new v(this.user,`Invalid index ${et}`);this.selection.set(he,ke)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(he=>this.view.element(he))}setAnchor(he){if(typeof he=="undefined"){this.anchor.set([]);return}if(he<0||he>=this.length)throw new v(this.user,`Invalid index ${he}`);this.anchor.set([he])}getAnchor(){return(0,k.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const he=this.getAnchor();return typeof he=="undefined"?void 0:this.element(he)}setFocus(he,ke){for(const et of he)if(et<0||et>=this.length)throw new v(this.user,`Invalid index ${et}`);this.focus.set(he,ke)}focusNext(he=1,ke=!1,et,at){if(this.length===0)return;const rt=this.focus.get(),Ne=this.findNextIndex(rt.length>0?rt[0]+he:0,ke,at);Ne>-1&&this.setFocus([Ne],et)}focusPrevious(he=1,ke=!1,et,at){if(this.length===0)return;const rt=this.focus.get(),Ne=this.findPreviousIndex(rt.length>0?rt[0]-he:0,ke,at);Ne>-1&&this.setFocus([Ne],et)}focusNextPage(he,ke){return R(this,void 0,void 0,function*(){let et=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);et=et===0?0:et-1;const at=this.view.element(et),rt=this.getFocusedElements()[0];if(rt!==at){const Ne=this.findPreviousIndex(et,!1,ke);Ne>-1&&rt!==this.view.element(Ne)?this.setFocus([Ne],he):this.setFocus([et],he)}else{const Ne=this.view.getScrollTop();this.view.setScrollTop(Ne+this.view.renderHeight-this.view.elementHeight(et)),this.view.getScrollTop()!==Ne&&(this.setFocus([]),yield(0,P.Vs)(0),yield this.focusNextPage(he,ke))}})}focusPreviousPage(he,ke){return R(this,void 0,void 0,function*(){let et;const at=this.view.getScrollTop();at===0?et=this.view.indexAt(at):et=this.view.indexAfter(at-1);const rt=this.view.element(et),Ne=this.getFocusedElements()[0];if(Ne!==rt){const Oe=this.findNextIndex(et,!1,ke);Oe>-1&&Ne!==this.view.element(Oe)?this.setFocus([Oe],he):this.setFocus([et],he)}else{const Oe=at;this.view.setScrollTop(at-this.view.renderHeight),this.view.getScrollTop()!==Oe&&(this.setFocus([]),yield(0,P.Vs)(0),yield this.focusPreviousPage(he,ke))}})}focusLast(he,ke){if(this.length===0)return;const et=this.findPreviousIndex(this.length-1,!1,ke);et>-1&&this.setFocus([et],he)}focusFirst(he,ke){this.focusNth(0,he,ke)}focusNth(he,ke,et){if(this.length===0)return;const at=this.findNextIndex(he,!1,et);at>-1&&this.setFocus([at],ke)}findNextIndex(he,ke=!1,et){for(let at=0;at<this.length;at++){if(he>=this.length&&!ke)return-1;if(he=he%this.length,!et||et(this.element(he)))return he;he++}return-1}findPreviousIndex(he,ke=!1,et){for(let at=0;at<this.length;at++){if(he<0&&!ke)return-1;if(he=(this.length+he%this.length)%this.length,!et||et(this.element(he)))return he;he--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(he=>this.view.element(he))}reveal(he,ke){if(he<0||he>=this.length)throw new v(this.user,`Invalid index ${he}`);const et=this.view.getScrollTop(),at=this.view.elementTop(he),rt=this.view.elementHeight(he);if((0,D.hj)(ke)){const Ne=rt-this.view.renderHeight;this.view.setScrollTop(Ne*(0,r.u)(ke,0,1)+at)}else{const Ne=at+rt,Oe=et+this.view.renderHeight;at<et&&Ne>=Oe||(at<et||Ne>=Oe&&rt>=this.view.renderHeight?this.view.setScrollTop(at):Ne>=Oe&&this.view.setScrollTop(Ne-this.view.renderHeight))}}getRelativeTop(he){if(he<0||he>=this.length)throw new v(this.user,`Invalid index ${he}`);const ke=this.view.getScrollTop(),et=this.view.elementTop(he),at=this.view.elementHeight(he);if(et<ke||et+at>ke+this.view.renderHeight)return null;const rt=at-this.view.renderHeight;return Math.abs((ke-et)/rt)}getHTMLElement(){return this.view.domNode}style(he){this.styleController.style(he)}toListEvent({indexes:he,browserEvent:ke}){return{indexes:he,elements:he.map(et=>this.view.element(et)),browserEvent:ke}}_onFocusChange(){const he=this.focus.get();this.view.domNode.classList.toggle("element-focused",he.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var he;const ke=this.focus.get();if(ke.length>0){let et;!((he=this.accessibilityProvider)===null||he===void 0)&&he.getActiveDescendantId&&(et=this.accessibilityProvider.getActiveDescendantId(this.view.element(ke[0]))),this.view.domNode.setAttribute("aria-activedescendant",et||this.view.getElementDomId(ke[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const he=this.selection.get();this.view.domNode.classList.toggle("selection-none",he.length===0),this.view.domNode.classList.toggle("selection-single",he.length===1),this.view.domNode.classList.toggle("selection-multiple",he.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}h([I.H],kt.prototype,"onDidChangeFocus",null),h([I.H],kt.prototype,"onDidChangeSelection",null),h([I.H],kt.prototype,"onContextMenu",null),h([I.H],kt.prototype,"onKeyDown",null),h([I.H],kt.prototype,"onDidFocus",null)},49335:function(Yt,Ue,c){"use strict";c.d(Ue,{S:function(){return g}});const g="monaco-mouse-cursor-text"},83080:function(Yt,Ue,c){"use strict";c.d(Ue,{l:function(){return m},g:function(){return v}});var g=c(65321),Y=c(4850),Q=c(10553),O=c(15393),y=c(49898),J=c(4669),k=c(5976),P=c(1432),s=function(L,h,R,T){var W=arguments.length,K=W<3?h:T===null?T=Object.getOwnPropertyDescriptor(h,R):T,ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(L,h,R,T);else for(var ce=L.length-1;ce>=0;ce--)(ie=L[ce])&&(K=(W<3?ie(K):W>3?ie(h,R,K):ie(h,R))||K);return W>3&&K&&Object.defineProperty(h,R,K),K};let I=!1;var m;(function(L){L.North="north",L.South="south",L.East="east",L.West="west"})(m||(m={}));let C=4;const V=new J.Q5;let r=300;const x=new J.Q5;class w{constructor(){this.disposables=new k.SL}get onPointerMove(){return this.disposables.add(new Y.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new Y.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}s([y.H],w.prototype,"onPointerMove",null),s([y.H],w.prototype,"onPointerUp",null);class D{constructor(h){this.el=h,this.disposables=new k.SL}get onPointerMove(){return this.disposables.add(new Y.Y(this.el,Q.t.Change)).event}get onPointerUp(){return this.disposables.add(new Y.Y(this.el,Q.t.End)).event}dispose(){this.disposables.dispose()}}s([y.H],D.prototype,"onPointerMove",null),s([y.H],D.prototype,"onPointerUp",null);class f{constructor(h){this.factory=h}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}s([y.H],f.prototype,"onPointerMove",null),s([y.H],f.prototype,"onPointerUp",null);class v extends k.JT{constructor(h,R,T){super(),this.hoverDelay=r,this.hoverDelayer=this._register(new O.vp(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new J.Q5),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new J.Q5),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new J.Q5),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new J.Q5),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new J.Q5),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new k.SL),this.orthogonalStartDragHandleDisposables=this._register(new k.SL),this.orthogonalEndSashDisposables=this._register(new k.SL),this.orthogonalEndDragHandleDisposables=this._register(new k.SL),this.el=(0,g.R3)(h,(0,g.$)(".monaco-sash")),T.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${T.orthogonalEdge}`),P.dz&&this.el.classList.add("mac");const W=this._register(new Y.Y(this.el,"mousedown")).event;this._register(W(le=>this.onPointerStart(le,new w),this));const K=this._register(new Y.Y(this.el,"dblclick")).event;this._register(K(this.onPointerDoublePress,this));const ie=this._register(new Y.Y(this.el,"mouseenter")).event;this._register(ie(()=>v.onMouseEnter(this)));const ce=this._register(new Y.Y(this.el,"mouseleave")).event;this._register(ce(()=>v.onMouseLeave(this))),this._register(Q.o.addTarget(this.el));const _e=J.ju.map(this._register(new Y.Y(this.el,Q.t.Start)).event,le=>{var Z;return Object.assign(Object.assign({},le),{target:(Z=le.initialTarget)!==null&&Z!==void 0?Z:null})});this._register(_e(le=>this.onPointerStart(le,new D(this.el)),this));const ve=this._register(new Y.Y(this.el,Q.t.Tap)).event,De=J.ju.map(J.ju.filter(J.ju.debounce(ve,(le,Z)=>{var $;return{event:Z,count:(($=le==null?void 0:le.count)!==null&&$!==void 0?$:0)+1}},250),({count:le})=>le===2),({event:le})=>{var Z;return Object.assign(Object.assign({},le),{target:(Z=le.initialTarget)!==null&&Z!==void 0?Z:null})});this._register(De(this.onPointerDoublePress,this)),typeof T.size=="number"?(this.size=T.size,T.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=C,this._register(V.event(le=>{this.size=le,this.layout()}))),this._register(x.event(le=>this.hoverDelay=le)),this.hidden=!1,this.layoutProvider=R,this.orthogonalStartSash=T.orthogonalStartSash,this.orthogonalEndSash=T.orthogonalEndSash,this.orientation=T.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",I),this.layout()}get state(){return this._state}set state(h){this._state!==h&&(this.el.classList.toggle("disabled",h===0),this.el.classList.toggle("minimum",h===1),this.el.classList.toggle("maximum",h===2),this._state=h,this._onDidEnablementChange.fire(h))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(h){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),h){const R=T=>{this.orthogonalStartDragHandleDisposables.clear(),T!==0&&(this._orthogonalStartDragHandle=(0,g.R3)(this.el,(0,g.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,k.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new Y.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>v.onMouseEnter(h),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new Y.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>v.onMouseLeave(h),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(h.onDidEnablementChange(R,this)),R(h.state)}this._orthogonalStartSash=h}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(h){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),h){const R=T=>{this.orthogonalEndDragHandleDisposables.clear(),T!==0&&(this._orthogonalEndDragHandle=(0,g.R3)(this.el,(0,g.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,k.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new Y.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>v.onMouseEnter(h),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new Y.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>v.onMouseLeave(h),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(h.onDidEnablementChange(R,this)),R(h.state)}this._orthogonalEndSash=h}onPointerStart(h,R){g.zB.stop(h);let T=!1;if(!h.__orthogonalSashEvent){const G=this.getOrthogonalSash(h);G&&(T=!0,h.__orthogonalSashEvent=!0,G.onPointerStart(h,new f(R)))}if(this.linkedSash&&!h.__linkedSashEvent&&(h.__linkedSashEvent=!0,this.linkedSash.onPointerStart(h,new f(R))),!this.state)return;const W=(0,g.H$)("iframe");for(const G of W)G.style.pointerEvents="none";const K=h.pageX,ie=h.pageY,ce=h.altKey,_e={startX:K,currentX:K,startY:ie,currentY:ie,altKey:ce};this.el.classList.add("active"),this._onDidStart.fire(_e);const ve=(0,g.dS)(this.el),De=()=>{let G="";T?G="all-scroll":this.orientation===1?this.state===1?G="s-resize":this.state===2?G="n-resize":G=P.dz?"row-resize":"ns-resize":this.state===1?G="e-resize":this.state===2?G="w-resize":G=P.dz?"col-resize":"ew-resize",ve.textContent=`* { cursor: ${G} !important; }`},le=new k.SL;De(),T||this.onDidEnablementChange(De,null,le);const Z=G=>{g.zB.stop(G,!1);const q={startX:K,currentX:G.pageX,startY:ie,currentY:G.pageY,altKey:ce};this._onDidChange.fire(q)},$=G=>{g.zB.stop(G,!1),this.el.removeChild(ve),this.el.classList.remove("active"),this._onDidEnd.fire(),le.dispose();for(const q of W)q.style.pointerEvents="auto"};R.onPointerMove(Z,null,le),R.onPointerUp($,null,le),le.add(R)}onPointerDoublePress(h){const R=this.getOrthogonalSash(h);R&&R._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(h,R=!1){h.el.classList.contains("active")?(h.hoverDelayer.cancel(),h.el.classList.add("hover")):h.hoverDelayer.trigger(()=>h.el.classList.add("hover"),h.hoverDelay).then(void 0,()=>{}),!R&&h.linkedSash&&v.onMouseEnter(h.linkedSash,!0)}static onMouseLeave(h,R=!1){h.hoverDelayer.cancel(),h.el.classList.remove("hover"),!R&&h.linkedSash&&v.onMouseLeave(h.linkedSash,!0)}clearSashHoverState(){v.onMouseLeave(this)}layout(){if(this.orientation===0){const h=this.layoutProvider;this.el.style.left=h.getVerticalSashLeft(this)-this.size/2+"px",h.getVerticalSashTop&&(this.el.style.top=h.getVerticalSashTop(this)+"px"),h.getVerticalSashHeight&&(this.el.style.height=h.getVerticalSashHeight(this)+"px")}else{const h=this.layoutProvider;this.el.style.top=h.getHorizontalSashTop(this)-this.size/2+"px",h.getHorizontalSashLeft&&(this.el.style.left=h.getHorizontalSashLeft(this)+"px"),h.getHorizontalSashWidth&&(this.el.style.width=h.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(h){if(!(!h.target||!(h.target instanceof HTMLElement))&&h.target.classList.contains("orthogonal-drag-handle"))return h.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},13433:function(Yt,Ue,c){"use strict";c.d(Ue,{s$:function(){return G},NB:function(){return Z},$Z:function(){return $}});var g=c(16268),Y=c(65321),Q=c(38626),O=c(23938),y=c(57974),J=c(93794),k=c(15393);const P=11;class s extends J.${constructor(S){super(),this._onActivate=S.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=S.bgWidth+"px",this.bgDomNode.style.height=S.bgHeight+"px",typeof S.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof S.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof S.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof S.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=S.className,this.domNode.classList.add(...S.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=P+"px",this.domNode.style.height=P+"px",typeof S.top!="undefined"&&(this.domNode.style.top=S.top+"px"),typeof S.left!="undefined"&&(this.domNode.style.left=S.left+"px"),typeof S.bottom!="undefined"&&(this.domNode.style.bottom=S.bottom+"px"),typeof S.right!="undefined"&&(this.domNode.style.right=S.right+"px"),this._mouseMoveMonitor=this._register(new y.Z),this.onmousedown(this.bgDomNode,B=>this._arrowMouseDown(B)),this.onmousedown(this.domNode,B=>this._arrowMouseDown(B)),this._mousedownRepeatTimer=this._register(new k.zh),this._mousedownScheduleRepeatTimer=this._register(new k._F)}_arrowMouseDown(S){const B=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),41.666666666666664)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(B,200),this._mouseMoveMonitor.startMonitoring(S.target,S.buttons,y.e,te=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),S.preventDefault()}}var I=c(5976);class m extends I.JT{constructor(S,B,te){super(),this._visibility=S,this._visibleClassName=B,this._invisibleClassName=te,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new k._F)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this._updateShouldBeVisible())}setShouldBeVisible(S){this._rawShouldBeVisible=S,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const S=this._applyVisibilitySetting();this._shouldBeVisible!==S&&(this._shouldBeVisible=S,this.ensureVisibility())}setIsNeeded(S){this._isNeeded!==S&&(this._isNeeded=S,this.ensureVisibility())}setDomNode(S){this._domNode=S,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(S){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(S?" fade":"")))}}var C=c(1432);const V=140;class r extends J.${constructor(S){super(),this._lazyRender=S.lazyRender,this._host=S.host,this._scrollable=S.scrollable,this._scrollByPage=S.scrollByPage,this._scrollbarState=S.scrollbarState,this._visibilityController=this._register(new m(S.visibility,"visible scrollbar "+S.extraScrollbarClassName,"invisible scrollbar "+S.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new y.Z),this._shouldRender=!0,this.domNode=(0,Q.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,B=>this._domNodeMouseDown(B))}_createArrow(S){const B=this._register(new s(S));this.domNode.domNode.appendChild(B.bgDomNode),this.domNode.domNode.appendChild(B.domNode)}_createSlider(S,B,te,me){this.slider=(0,Q.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(S),this.slider.setLeft(B),typeof te=="number"&&this.slider.setWidth(te),typeof me=="number"&&this.slider.setHeight(me),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,de=>{de.leftButton&&(de.preventDefault(),this._sliderMouseDown(de,()=>{}))}),this.onclick(this.slider.domNode,de=>{de.leftButton&&de.stopPropagation()})}_onElementSize(S){return this._scrollbarState.setVisibleSize(S)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(S){return this._scrollbarState.setScrollSize(S)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(S){return this._scrollbarState.setScrollPosition(S)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(S){S.target===this.domNode.domNode&&this._onMouseDown(S)}delegateMouseDown(S){const B=this.domNode.domNode.getClientRects()[0].top,te=B+this._scrollbarState.getSliderPosition(),me=B+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),de=this._sliderMousePosition(S);te<=de&&de<=me?S.leftButton&&(S.preventDefault(),this._sliderMouseDown(S,()=>{})):this._onMouseDown(S)}_onMouseDown(S){let B,te;if(S.target===this.domNode.domNode&&typeof S.browserEvent.offsetX=="number"&&typeof S.browserEvent.offsetY=="number")B=S.browserEvent.offsetX,te=S.browserEvent.offsetY;else{const de=Y.i(this.domNode.domNode);B=S.posx-de.left,te=S.posy-de.top}const me=this._mouseDownRelativePosition(B,te);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(me):this._scrollbarState.getDesiredScrollPositionFromOffset(me)),S.leftButton&&(S.preventDefault(),this._sliderMouseDown(S,()=>{}))}_sliderMouseDown(S,B){const te=this._sliderMousePosition(S),me=this._sliderOrthogonalMousePosition(S),de=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(S.target,S.buttons,y.e,Pe=>{const Me=this._sliderOrthogonalMousePosition(Pe),nt=Math.abs(Me-me);if(C.ED&&nt>V){this._setDesiredScrollPositionNow(de.getScrollPosition());return}const ht=this._sliderMousePosition(Pe)-te;this._setDesiredScrollPositionNow(de.getDesiredScrollPositionFromDelta(ht))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),B()}),this._host.onDragStart()}_setDesiredScrollPositionNow(S){const B={};this.writeScrollPosition(B,S),this._scrollable.setScrollPositionNow(B)}updateScrollbarSize(S){this._updateScrollbarSize(S),this._scrollbarState.setScrollbarSize(S),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const x=20;class w{constructor(S,B,te,me,de,Pe){this._scrollbarSize=Math.round(B),this._oppositeScrollbarSize=Math.round(te),this._arrowSize=Math.round(S),this._visibleSize=me,this._scrollSize=de,this._scrollPosition=Pe,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new w(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(S){const B=Math.round(S);return this._visibleSize!==B?(this._visibleSize=B,this._refreshComputedValues(),!0):!1}setScrollSize(S){const B=Math.round(S);return this._scrollSize!==B?(this._scrollSize=B,this._refreshComputedValues(),!0):!1}setScrollPosition(S){const B=Math.round(S);return this._scrollPosition!==B?(this._scrollPosition=B,this._refreshComputedValues(),!0):!1}setScrollbarSize(S){this._scrollbarSize=Math.round(S)}setOppositeScrollbarSize(S){this._oppositeScrollbarSize=Math.round(S)}static _computeValues(S,B,te,me,de){const Pe=Math.max(0,te-S),Me=Math.max(0,Pe-2*B),nt=me>0&&me>te;if(!nt)return{computedAvailableSize:Math.round(Pe),computedIsNeeded:nt,computedSliderSize:Math.round(Me),computedSliderRatio:0,computedSliderPosition:0};const It=Math.round(Math.max(x,Math.floor(te*Me/me))),ht=(Me-It)/(me-te),Mt=de*ht;return{computedAvailableSize:Math.round(Pe),computedIsNeeded:nt,computedSliderSize:Math.round(It),computedSliderRatio:ht,computedSliderPosition:Math.round(Mt)}}_refreshComputedValues(){const S=w._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=S.computedAvailableSize,this._computedIsNeeded=S.computedIsNeeded,this._computedSliderSize=S.computedSliderSize,this._computedSliderRatio=S.computedSliderRatio,this._computedSliderPosition=S.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(S){if(!this._computedIsNeeded)return 0;const B=S-this._arrowSize-this._computedSliderSize/2;return Math.round(B/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(S){if(!this._computedIsNeeded)return 0;const B=S-this._arrowSize;let te=this._scrollPosition;return B<this._computedSliderPosition?te-=this._visibleSize:te+=this._visibleSize,te}getDesiredScrollPositionFromDelta(S){if(!this._computedIsNeeded)return 0;const B=this._computedSliderPosition+S;return Math.round(B/this._computedSliderRatio)}}var D=c(73046);const f=(0,D.CM)("scrollbar-button-left",D.lA.triangleLeft),v=(0,D.CM)("scrollbar-button-right",D.lA.triangleRight);class L extends r{constructor(S,B,te){const me=S.getScrollDimensions(),de=S.getCurrentScrollPosition();if(super({lazyRender:B.lazyRender,host:te,scrollbarState:new w(B.horizontalHasArrows?B.arrowSize:0,B.horizontal===2?0:B.horizontalScrollbarSize,B.vertical===2?0:B.verticalScrollbarSize,me.width,me.scrollWidth,de.scrollLeft),visibility:B.horizontal,extraScrollbarClassName:"horizontal",scrollable:S,scrollByPage:B.scrollByPage}),B.horizontalHasArrows){const Pe=(B.arrowSize-P)/2,Me=(B.horizontalScrollbarSize-P)/2;this._createArrow({className:"scra",icon:f,top:Me,left:Pe,bottom:void 0,right:void 0,bgWidth:B.arrowSize,bgHeight:B.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,1,0))}),this._createArrow({className:"scra",icon:v,top:Me,left:void 0,bottom:void 0,right:Pe,bgWidth:B.arrowSize,bgHeight:B.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,-1,0))})}this._createSlider(Math.floor((B.horizontalScrollbarSize-B.horizontalSliderSize)/2),0,void 0,B.horizontalSliderSize)}_updateSlider(S,B){this.slider.setWidth(S),this.slider.setLeft(B)}_renderDomNode(S,B){this.domNode.setWidth(S),this.domNode.setHeight(B),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(S){return this._shouldRender=this._onElementScrollSize(S.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(S.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(S.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(S,B){return S}_sliderMousePosition(S){return S.posx}_sliderOrthogonalMousePosition(S){return S.posy}_updateScrollbarSize(S){this.slider.setHeight(S)}writeScrollPosition(S,B){S.scrollLeft=B}updateOptions(S){this.updateScrollbarSize(S.horizontal===2?0:S.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(S.vertical===2?0:S.verticalScrollbarSize),this._visibilityController.setVisibility(S.horizontal),this._scrollByPage=S.scrollByPage}}const h=(0,D.CM)("scrollbar-button-up",D.lA.triangleUp),R=(0,D.CM)("scrollbar-button-down",D.lA.triangleDown);class T extends r{constructor(S,B,te){const me=S.getScrollDimensions(),de=S.getCurrentScrollPosition();if(super({lazyRender:B.lazyRender,host:te,scrollbarState:new w(B.verticalHasArrows?B.arrowSize:0,B.vertical===2?0:B.verticalScrollbarSize,0,me.height,me.scrollHeight,de.scrollTop),visibility:B.vertical,extraScrollbarClassName:"vertical",scrollable:S,scrollByPage:B.scrollByPage}),B.verticalHasArrows){const Pe=(B.arrowSize-P)/2,Me=(B.verticalScrollbarSize-P)/2;this._createArrow({className:"scra",icon:h,top:Pe,left:Me,bottom:void 0,right:void 0,bgWidth:B.verticalScrollbarSize,bgHeight:B.arrowSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,0,1))}),this._createArrow({className:"scra",icon:R,top:void 0,left:Me,bottom:Pe,right:void 0,bgWidth:B.verticalScrollbarSize,bgHeight:B.arrowSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,0,-1))})}this._createSlider(0,Math.floor((B.verticalScrollbarSize-B.verticalSliderSize)/2),B.verticalSliderSize,void 0)}_updateSlider(S,B){this.slider.setHeight(S),this.slider.setTop(B)}_renderDomNode(S,B){this.domNode.setWidth(B),this.domNode.setHeight(S),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(S){return this._shouldRender=this._onElementScrollSize(S.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(S.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(S.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(S,B){return B}_sliderMousePosition(S){return S.posy}_sliderOrthogonalMousePosition(S){return S.posx}_updateScrollbarSize(S){this.slider.setWidth(S)}writeScrollPosition(S,B){S.scrollTop=B}updateOptions(S){this.updateScrollbarSize(S.vertical===2?0:S.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(S.vertical),this._scrollByPage=S.scrollByPage}}var W=c(4669),K=c(76633);const ie=500,ce=50,_e=!0;class ve{constructor(S,B,te){this.timestamp=S,this.deltaX=B,this.deltaY=te,this.score=0}}class De{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let S=1,B=0,te=1,me=this._rear;do{const de=me===this._front?S:Math.pow(2,-te);if(S-=de,B+=this._memory[me].score*de,me===this._front)break;me=(this._capacity+me-1)%this._capacity,te++}while(!0);return B<=.5}accept(S,B,te){const me=new ve(S,B,te);me.score=this._computeScore(me),this._front===-1&&this._rear===-1?(this._memory[0]=me,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=me)}_computeScore(S){if(Math.abs(S.deltaX)>0&&Math.abs(S.deltaY)>0)return 1;let B=.5;const te=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(S.deltaX)||!this._isAlmostInt(S.deltaY))&&(B+=.25),Math.min(Math.max(B,0),1)}_isAlmostInt(S){return Math.abs(Math.round(S)-S)<.01}}De.INSTANCE=new De;class le extends J.${constructor(S,B,te){super(),this._onScroll=this._register(new W.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new W.Q5),S.style.overflow="hidden",this._options=q(B),this._scrollable=te,this._register(this._scrollable.onScroll(de=>{this._onWillScroll.fire(de),this._onDidScroll(de),this._onScroll.fire(de)}));const me={onMouseWheel:de=>this._onMouseWheel(de),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new T(this._scrollable,this._options,me)),this._horizontalScrollbar=this._register(new L(this._scrollable,this._options,me)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(S),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,Q.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,Q.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,Q.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,de=>this._onMouseOver(de)),this.onnonbubblingmouseout(this._listenOnDomNode,de=>this._onMouseOut(de)),this._hideTimeout=this._register(new k._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,I.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(S){this._verticalScrollbar.delegateMouseDown(S)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(S){this._scrollable.setScrollDimensions(S,!1)}updateClassName(S){this._options.className=S,C.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(S){typeof S.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=S.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof S.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=S.mouseWheelScrollSensitivity),typeof S.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=S.fastScrollSensitivity),typeof S.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=S.scrollPredominantAxis),typeof S.horizontal!="undefined"&&(this._options.horizontal=S.horizontal),typeof S.vertical!="undefined"&&(this._options.vertical=S.vertical),typeof S.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=S.horizontalScrollbarSize),typeof S.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=S.verticalScrollbarSize),typeof S.scrollByPage!="undefined"&&(this._options.scrollByPage=S.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(S){if(this._mouseWheelToDispose.length>0!==S&&(this._mouseWheelToDispose=(0,I.B9)(this._mouseWheelToDispose),S)){const te=me=>{this._onMouseWheel(new O.q(me))};this._mouseWheelToDispose.push(Y.nm(this._listenOnDomNode,Y.tw.MOUSE_WHEEL,te,{passive:!1}))}}_onMouseWheel(S){const B=De.INSTANCE;if(_e){const de=window.devicePixelRatio/(0,g.ie)();C.ED||C.IJ?B.accept(Date.now(),S.deltaX/de,S.deltaY/de):B.accept(Date.now(),S.deltaX,S.deltaY)}let te=!1;if(S.deltaY||S.deltaX){let de=S.deltaY*this._options.mouseWheelScrollSensitivity,Pe=S.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(de)>=Math.abs(Pe)?Pe=0:de=0),this._options.flipAxes&&([de,Pe]=[Pe,de]);const Me=!C.dz&&S.browserEvent&&S.browserEvent.shiftKey;(this._options.scrollYToX||Me)&&!Pe&&(Pe=de,de=0),S.browserEvent&&S.browserEvent.altKey&&(Pe=Pe*this._options.fastScrollSensitivity,de=de*this._options.fastScrollSensitivity);const nt=this._scrollable.getFutureScrollPosition();let It={};if(de){const ht=ce*de,Mt=nt.scrollTop-(ht<0?Math.floor(ht):Math.ceil(ht));this._verticalScrollbar.writeScrollPosition(It,Mt)}if(Pe){const ht=ce*Pe,Mt=nt.scrollLeft-(ht<0?Math.floor(ht):Math.ceil(ht));this._horizontalScrollbar.writeScrollPosition(It,Mt)}It=this._scrollable.validateScrollPosition(It),(nt.scrollLeft!==It.scrollLeft||nt.scrollTop!==It.scrollTop)&&(_e&&this._options.mouseWheelSmoothScroll&&B.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(It):this._scrollable.setScrollPositionNow(It),te=!0)}let me=te;!me&&this._options.alwaysConsumeMouseWheel&&(me=!0),!me&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(me=!0),me&&(S.preventDefault(),S.stopPropagation())}_onDidScroll(S){this._shouldRender=this._horizontalScrollbar.onDidScroll(S)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(S)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const S=this._scrollable.getCurrentScrollPosition(),B=S.scrollTop>0,te=S.scrollLeft>0,me=te?" left":"",de=B?" top":"",Pe=te||B?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${me}`),this._topShadowDomNode.setClassName(`shadow${de}`),this._topLeftShadowDomNode.setClassName(`shadow${Pe}${de}${me}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(S){this._mouseIsOver=!1,this._hide()}_onMouseOver(S){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),ie)}}class Z extends le{constructor(S,B){B=B||{},B.mouseWheelSmoothScroll=!1;const te=new K.Rm(0,me=>Y.jL(me));super(S,B,te),this._register(te)}setScrollPosition(S){this._scrollable.setScrollPositionNow(S)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class $ extends le{constructor(S,B,te){super(S,B,te)}setScrollPosition(S){S.reuseAnimation?this._scrollable.setScrollPositionSmooth(S,S.reuseAnimation):this._scrollable.setScrollPositionNow(S)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class G extends Z{constructor(S,B){super(S,B),this._element=S,this.onScroll(te=>{te.scrollTopChanged&&(this._element.scrollTop=te.scrollTop),te.scrollLeftChanged&&(this._element.scrollLeft=te.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function q(p){const S={lazyRender:typeof p.lazyRender!="undefined"?p.lazyRender:!1,className:typeof p.className!="undefined"?p.className:"",useShadows:typeof p.useShadows!="undefined"?p.useShadows:!0,handleMouseWheel:typeof p.handleMouseWheel!="undefined"?p.handleMouseWheel:!0,flipAxes:typeof p.flipAxes!="undefined"?p.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof p.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?p.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof p.alwaysConsumeMouseWheel!="undefined"?p.alwaysConsumeMouseWheel:!1,scrollYToX:typeof p.scrollYToX!="undefined"?p.scrollYToX:!1,mouseWheelScrollSensitivity:typeof p.mouseWheelScrollSensitivity!="undefined"?p.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof p.fastScrollSensitivity!="undefined"?p.fastScrollSensitivity:5,scrollPredominantAxis:typeof p.scrollPredominantAxis!="undefined"?p.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof p.mouseWheelSmoothScroll!="undefined"?p.mouseWheelSmoothScroll:!0,arrowSize:typeof p.arrowSize!="undefined"?p.arrowSize:11,listenOnDomNode:typeof p.listenOnDomNode!="undefined"?p.listenOnDomNode:null,horizontal:typeof p.horizontal!="undefined"?p.horizontal:1,horizontalScrollbarSize:typeof p.horizontalScrollbarSize!="undefined"?p.horizontalScrollbarSize:10,horizontalSliderSize:typeof p.horizontalSliderSize!="undefined"?p.horizontalSliderSize:0,horizontalHasArrows:typeof p.horizontalHasArrows!="undefined"?p.horizontalHasArrows:!1,vertical:typeof p.vertical!="undefined"?p.vertical:1,verticalScrollbarSize:typeof p.verticalScrollbarSize!="undefined"?p.verticalScrollbarSize:10,verticalHasArrows:typeof p.verticalHasArrows!="undefined"?p.verticalHasArrows:!1,verticalSliderSize:typeof p.verticalSliderSize!="undefined"?p.verticalSliderSize:0,scrollByPage:typeof p.scrollByPage!="undefined"?p.scrollByPage:!1};return S.horizontalSliderSize=typeof p.horizontalSliderSize!="undefined"?p.horizontalSliderSize:S.horizontalScrollbarSize,S.verticalSliderSize=typeof p.verticalSliderSize!="undefined"?p.verticalSliderSize:S.verticalScrollbarSize,C.dz&&(S.className+=" mac"),S}},33225:function(Yt,Ue,c){"use strict";c.d(Ue,{M:function(){return w},z:function(){return D}});var g=c(65321),Y=c(83080),Q=c(13433),O=c(9488),y=c(41264),J=c(4669),k=c(5976),P=c(59870),s=c(76633),I=c(98401);const m={separatorBorder:y.Il.transparent};class C{constructor(v,L,h,R){this.container=v,this.view=L,this.disposable=R,this._cachedVisibleSize=void 0,typeof h=="number"?(this._size=h,this._cachedVisibleSize=void 0,v.classList.add("visible")):(this._size=0,this._cachedVisibleSize=h.cachedVisibleSize)}set size(v){this._size=v}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(v,L){v!==this.visible&&(v?(this.size=(0,P.u)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof L=="number"?L:this.size,this.size=0),this.container.classList.toggle("visible",v),this.view.setVisible&&this.view.setVisible(v))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(v){this.container.style.pointerEvents=v?"":"none"}layout(v,L){this.layoutContainer(v),this.view.layout(this.size,v,L)}dispose(){return this.disposable.dispose(),this.view}}class V extends C{layoutContainer(v){this.container.style.top=`${v}px`,this.container.style.height=`${this.size}px`}}class r extends C{layoutContainer(v){this.container.style.left=`${v}px`,this.container.style.width=`${this.size}px`}}var x;(function(f){f[f.Idle=0]="Idle",f[f.Busy=1]="Busy"})(x||(x={}));var w;(function(f){f.Distribute={type:"distribute"};function v(h){return{type:"split",index:h}}f.Split=v;function L(h){return{type:"invisible",cachedVisibleSize:h}}f.Invisible=L})(w||(w={}));class D extends k.JT{constructor(v,L={}){var h,R;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=x.Idle,this._onDidSashChange=this._register(new J.Q5),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new J.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=I.o8(L.orientation)?0:L.orientation,this.inverseAltBehavior=!!L.inverseAltBehavior,this.proportionalLayout=I.o8(L.proportionalLayout)?!0:!!L.proportionalLayout,this.getSashOrthogonalSize=L.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),v.appendChild(this.el),this.sashContainer=(0,g.R3)(this.el,(0,g.$)(".sash-container")),this.viewContainer=(0,g.$)(".split-view-container"),this.scrollable=new s.Rm(125,g.jL),this.scrollableElement=this._register(new Q.$Z(this.viewContainer,{vertical:this.orientation===0?(h=L.scrollbarVisibility)!==null&&h!==void 0?h:1:2,horizontal:this.orientation===1?(R=L.scrollbarVisibility)!==null&&R!==void 0?R:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(T=>{this.viewContainer.scrollTop=T.scrollTop,this.viewContainer.scrollLeft=T.scrollLeft})),(0,g.R3)(this.el,this.scrollableElement.getDomNode()),this.style(L.styles||m),L.descriptor&&(this.size=L.descriptor.size,L.descriptor.views.forEach((T,W)=>{const K=I.o8(T.visible)||T.visible?T.size:{type:"invisible",cachedVisibleSize:T.size},ie=T.view;this.doAddView(ie,K,W,!0)}),this.contentSize=this.viewItems.reduce((T,W)=>T+W.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(v){for(const L of this.sashItems)L.sash.orthogonalStartSash=v;this._orthogonalStartSash=v}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(v){for(const L of this.sashItems)L.sash.orthogonalEndSash=v;this._orthogonalEndSash=v}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(v){this._startSnappingEnabled!==v&&(this._startSnappingEnabled=v,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(v){this._endSnappingEnabled!==v&&(this._endSnappingEnabled=v,this.updateSashEnablement())}style(v){v.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",v.separatorBorder.toString()))}addView(v,L,h=this.viewItems.length,R){this.doAddView(v,L,h,R)}layout(v,L){const h=Math.max(this.size,this.contentSize);if(this.size=v,this.layoutContext=L,this.proportions)for(let R=0;R<this.viewItems.length;R++){const T=this.viewItems[R];T.size=(0,P.u)(Math.round(this.proportions[R]*v),T.minimumSize,T.maximumSize)}else{const R=(0,O.w6)(this.viewItems.length),T=R.filter(K=>this.viewItems[K].priority===1),W=R.filter(K=>this.viewItems[K].priority===2);this.resize(this.viewItems.length-1,v-h,void 0,T,W)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(v=>v.size/this.contentSize))}onSashStart({sash:v,start:L,alt:h}){for(const K of this.viewItems)K.enabled=!1;const R=this.sashItems.findIndex(K=>K.sash===v),T=(0,k.F8)((0,g.nm)(document.body,"keydown",K=>W(this.sashDragState.current,K.altKey)),(0,g.nm)(document.body,"keyup",()=>W(this.sashDragState.current,!1))),W=(K,ie)=>{const ce=this.viewItems.map(Z=>Z.size);let _e=Number.NEGATIVE_INFINITY,ve=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(ie=!ie),ie)if(R===this.sashItems.length-1){const $=this.viewItems[R];_e=($.minimumSize-$.size)/2,ve=($.maximumSize-$.size)/2}else{const $=this.viewItems[R+1];_e=($.size-$.maximumSize)/2,ve=($.size-$.minimumSize)/2}let De,le;if(!ie){const Z=(0,O.w6)(R,-1),$=(0,O.w6)(R+1,this.viewItems.length),G=Z.reduce((Pe,Me)=>Pe+(this.viewItems[Me].minimumSize-ce[Me]),0),q=Z.reduce((Pe,Me)=>Pe+(this.viewItems[Me].viewMaximumSize-ce[Me]),0),p=$.length===0?Number.POSITIVE_INFINITY:$.reduce((Pe,Me)=>Pe+(ce[Me]-this.viewItems[Me].minimumSize),0),S=$.length===0?Number.NEGATIVE_INFINITY:$.reduce((Pe,Me)=>Pe+(ce[Me]-this.viewItems[Me].viewMaximumSize),0),B=Math.max(G,S),te=Math.min(p,q),me=this.findFirstSnapIndex(Z),de=this.findFirstSnapIndex($);if(typeof me=="number"){const Pe=this.viewItems[me],Me=Math.floor(Pe.viewMinimumSize/2);De={index:me,limitDelta:Pe.visible?B-Me:B+Me,size:Pe.size}}if(typeof de=="number"){const Pe=this.viewItems[de],Me=Math.floor(Pe.viewMinimumSize/2);le={index:de,limitDelta:Pe.visible?te+Me:te-Me,size:Pe.size}}}this.sashDragState={start:K,current:K,index:R,sizes:ce,minDelta:_e,maxDelta:ve,alt:ie,snapBefore:De,snapAfter:le,disposable:T}};W(L,h)}onSashChange({current:v}){const{index:L,start:h,sizes:R,alt:T,minDelta:W,maxDelta:K,snapBefore:ie,snapAfter:ce}=this.sashDragState;this.sashDragState.current=v;const _e=v-h,ve=this.resize(L,_e,R,void 0,void 0,W,K,ie,ce);if(T){const De=L===this.sashItems.length-1,le=this.viewItems.map(S=>S.size),Z=De?L:L+1,$=this.viewItems[Z],G=$.size-$.maximumSize,q=$.size-$.minimumSize,p=De?L-1:L+1;this.resize(p,-ve,le,void 0,void 0,G,q)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(v){this._onDidSashChange.fire(v),this.sashDragState.disposable.dispose(),this.saveProportions();for(const L of this.viewItems)L.enabled=!0}onViewChange(v,L){const h=this.viewItems.indexOf(v);h<0||h>=this.viewItems.length||(L=typeof L=="number"?L:v.size,L=(0,P.u)(L,v.minimumSize,v.maximumSize),this.inverseAltBehavior&&h>0?(this.resize(h-1,Math.floor((v.size-L)/2)),this.distributeEmptySpace(),this.layoutViews()):(v.size=L,this.relayout([h],void 0)))}resizeView(v,L){if(this.state!==x.Idle)throw new Error("Cant modify splitview");if(this.state=x.Busy,v<0||v>=this.viewItems.length)return;const h=(0,O.w6)(this.viewItems.length).filter(K=>K!==v),R=[...h.filter(K=>this.viewItems[K].priority===1),v],T=h.filter(K=>this.viewItems[K].priority===2),W=this.viewItems[v];L=Math.round(L),L=(0,P.u)(L,W.minimumSize,Math.min(W.maximumSize,this.size)),W.size=L,this.relayout(R,T),this.state=x.Idle}distributeViewSizes(){const v=[];let L=0;for(const K of this.viewItems)K.maximumSize-K.minimumSize>0&&(v.push(K),L+=K.size);const h=Math.floor(L/v.length);for(const K of v)K.size=(0,P.u)(h,K.minimumSize,K.maximumSize);const R=(0,O.w6)(this.viewItems.length),T=R.filter(K=>this.viewItems[K].priority===1),W=R.filter(K=>this.viewItems[K].priority===2);this.relayout(T,W)}getViewSize(v){return v<0||v>=this.viewItems.length?-1:this.viewItems[v].size}doAddView(v,L,h=this.viewItems.length,R){if(this.state!==x.Idle)throw new Error("Cant modify splitview");this.state=x.Busy;const T=(0,g.$)(".split-view-view");h===this.viewItems.length?this.viewContainer.appendChild(T):this.viewContainer.insertBefore(T,this.viewContainer.children.item(h));const W=v.onDidChange(De=>this.onViewChange(_e,De)),K=(0,k.OF)(()=>this.viewContainer.removeChild(T)),ie=(0,k.F8)(W,K);let ce;typeof L=="number"?ce=L:L.type==="split"?ce=this.getViewSize(L.index)/2:L.type==="invisible"?ce={cachedVisibleSize:L.cachedVisibleSize}:ce=v.minimumSize;const _e=this.orientation===0?new V(T,v,ce,ie):new r(T,v,ce,ie);if(this.viewItems.splice(h,0,_e),this.viewItems.length>1){let De={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const le=this.orientation===0?new Y.g(this.sashContainer,{getHorizontalSashTop:Pe=>this.getSashPosition(Pe),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},De),{orientation:1})):new Y.g(this.sashContainer,{getVerticalSashLeft:Pe=>this.getSashPosition(Pe),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},De),{orientation:0})),Z=this.orientation===0?Pe=>({sash:le,start:Pe.startY,current:Pe.currentY,alt:Pe.altKey}):Pe=>({sash:le,start:Pe.startX,current:Pe.currentX,alt:Pe.altKey}),G=J.ju.map(le.onDidStart,Z)(this.onSashStart,this),p=J.ju.map(le.onDidChange,Z)(this.onSashChange,this),B=J.ju.map(le.onDidEnd,()=>this.sashItems.findIndex(Pe=>Pe.sash===le))(this.onSashEnd,this),te=le.onDidReset(()=>{const Pe=this.sashItems.findIndex(Mt=>Mt.sash===le),Me=(0,O.w6)(Pe,-1),nt=(0,O.w6)(Pe+1,this.viewItems.length),It=this.findFirstSnapIndex(Me),ht=this.findFirstSnapIndex(nt);typeof It=="number"&&!this.viewItems[It].visible||typeof ht=="number"&&!this.viewItems[ht].visible||this._onDidSashReset.fire(Pe)}),me=(0,k.F8)(G,p,B,te,le),de={sash:le,disposable:me};this.sashItems.splice(h-1,0,de)}T.appendChild(v.element);let ve;typeof L!="number"&&L.type==="split"&&(ve=[L.index]),R||this.relayout([h],ve),this.state=x.Idle,!R&&typeof L!="number"&&L.type==="distribute"&&this.distributeViewSizes()}relayout(v,L){const h=this.viewItems.reduce((R,T)=>R+T.size,0);this.resize(this.viewItems.length-1,this.size-h,void 0,v,L),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(v,L,h=this.viewItems.map(_e=>_e.size),R,T,W=Number.NEGATIVE_INFINITY,K=Number.POSITIVE_INFINITY,ie,ce){if(v<0||v>=this.viewItems.length)return 0;const _e=(0,O.w6)(v,-1),ve=(0,O.w6)(v+1,this.viewItems.length);if(T)for(const de of T)(0,O.zI)(_e,de),(0,O.zI)(ve,de);if(R)for(const de of R)(0,O.al)(_e,de),(0,O.al)(ve,de);const De=_e.map(de=>this.viewItems[de]),le=_e.map(de=>h[de]),Z=ve.map(de=>this.viewItems[de]),$=ve.map(de=>h[de]),G=_e.reduce((de,Pe)=>de+(this.viewItems[Pe].minimumSize-h[Pe]),0),q=_e.reduce((de,Pe)=>de+(this.viewItems[Pe].maximumSize-h[Pe]),0),p=ve.length===0?Number.POSITIVE_INFINITY:ve.reduce((de,Pe)=>de+(h[Pe]-this.viewItems[Pe].minimumSize),0),S=ve.length===0?Number.NEGATIVE_INFINITY:ve.reduce((de,Pe)=>de+(h[Pe]-this.viewItems[Pe].maximumSize),0),B=Math.max(G,S,W),te=Math.min(p,q,K);let me=!1;if(ie){const de=this.viewItems[ie.index],Pe=L>=ie.limitDelta;me=Pe!==de.visible,de.setVisible(Pe,ie.size)}if(!me&&ce){const de=this.viewItems[ce.index],Pe=L<ce.limitDelta;me=Pe!==de.visible,de.setVisible(Pe,ce.size)}if(me)return this.resize(v,L,h,R,T,W,K);L=(0,P.u)(L,B,te);for(let de=0,Pe=L;de<De.length;de++){const Me=De[de],nt=(0,P.u)(le[de]+Pe,Me.minimumSize,Me.maximumSize),It=nt-le[de];Pe-=It,Me.size=nt}for(let de=0,Pe=L;de<Z.length;de++){const Me=Z[de],nt=(0,P.u)($[de]-Pe,Me.minimumSize,Me.maximumSize),It=nt-$[de];Pe+=It,Me.size=nt}return L}distributeEmptySpace(v){const L=this.viewItems.reduce((K,ie)=>K+ie.size,0);let h=this.size-L;const R=(0,O.w6)(this.viewItems.length-1,-1),T=R.filter(K=>this.viewItems[K].priority===1),W=R.filter(K=>this.viewItems[K].priority===2);for(const K of W)(0,O.zI)(R,K);for(const K of T)(0,O.al)(R,K);typeof v=="number"&&(0,O.al)(R,v);for(let K=0;h!==0&&K<R.length;K++){const ie=this.viewItems[R[K]],ce=(0,P.u)(ie.size+h,ie.minimumSize,ie.maximumSize),_e=ce-ie.size;h-=_e,ie.size=ce}}layoutViews(){this.contentSize=this.viewItems.reduce((L,h)=>L+h.size,0);let v=0;for(const L of this.viewItems)L.layout(v,this.layoutContext),v+=L.size;this.sashItems.forEach(L=>L.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let v=!1;const L=this.viewItems.map(ie=>v=ie.size-ie.minimumSize>0||v);v=!1;const h=this.viewItems.map(ie=>v=ie.maximumSize-ie.size>0||v),R=[...this.viewItems].reverse();v=!1;const T=R.map(ie=>v=ie.size-ie.minimumSize>0||v).reverse();v=!1;const W=R.map(ie=>v=ie.maximumSize-ie.size>0||v).reverse();let K=0;for(let ie=0;ie<this.sashItems.length;ie++){const{sash:ce}=this.sashItems[ie],_e=this.viewItems[ie];K+=_e.size;const ve=!(L[ie]&&W[ie+1]),De=!(h[ie]&&T[ie+1]);if(ve&&De){const le=(0,O.w6)(ie,-1),Z=(0,O.w6)(ie+1,this.viewItems.length),$=this.findFirstSnapIndex(le),G=this.findFirstSnapIndex(Z),q=typeof $=="number"&&!this.viewItems[$].visible,p=typeof G=="number"&&!this.viewItems[G].visible;q&&T[ie]&&(K>0||this.startSnappingEnabled)?ce.state=1:p&&L[ie]&&(K<this.contentSize||this.endSnappingEnabled)?ce.state=2:ce.state=0}else ve&&!De?ce.state=1:!ve&&De?ce.state=2:ce.state=3}}getSashPosition(v){let L=0;for(let h=0;h<this.sashItems.length;h++)if(L+=this.viewItems[h].size,this.sashItems[h].sash===v)return L;return 0}findFirstSnapIndex(v){for(const L of v){const h=this.viewItems[L];if(h.visible&&h.snap)return L}for(const L of v){const h=this.viewItems[L];if(h.visible&&h.maximumSize-h.minimumSize>0)return;if(!h.visible&&h.snap)return L}}dispose(){super.dispose(),this.viewItems.forEach(v=>v.dispose()),this.viewItems=[],this.sashItems.forEach(v=>v.disposable.dispose()),this.sashItems=[]}}},93794:function(Yt,Ue,c){"use strict";c.d(Ue,{$:function(){return J}});var g=c(65321),Y=c(59069),Q=c(23938),O=c(10553),y=c(5976);class J extends y.JT{onclick(P,s){this._register(g.nm(P,g.tw.CLICK,I=>s(new Q.n(I))))}onmousedown(P,s){this._register(g.nm(P,g.tw.MOUSE_DOWN,I=>s(new Q.n(I))))}onmouseover(P,s){this._register(g.nm(P,g.tw.MOUSE_OVER,I=>s(new Q.n(I))))}onnonbubblingmouseout(P,s){this._register(g.j_(P,I=>s(new Q.n(I))))}onkeydown(P,s){this._register(g.nm(P,g.tw.KEY_DOWN,I=>s(new Y.y(I))))}onkeyup(P,s){this._register(g.nm(P,g.tw.KEY_UP,I=>s(new Y.y(I))))}oninput(P,s){this._register(g.nm(P,g.tw.INPUT,s))}onblur(P,s){this._register(g.nm(P,g.tw.BLUR,s))}onfocus(P,s){this._register(g.nm(P,g.tw.FOCUS,s))}ignoreGesture(P){O.o.ignoreTarget(P)}}},74741:function(Yt,Ue,c){"use strict";c.d(Ue,{Wi:function(){return J},Z0:function(){return k},aU:function(){return y},eZ:function(){return s},wY:function(){return P}});var g=c(4669),Y=c(5976),Q=c(63580),O=function(I,m,C,V){function r(x){return x instanceof C?x:new C(function(w){w(x)})}return new(C||(C=Promise))(function(x,w){function D(L){try{v(V.next(L))}catch(h){w(h)}}function f(L){try{v(V.throw(L))}catch(h){w(h)}}function v(L){L.done?x(L.value):r(L.value).then(D,f)}v((V=V.apply(I,m||[])).next())})};class y extends Y.JT{constructor(m,C="",V="",r=!0,x){super(),this._onDidChange=this._register(new g.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=m,this._label=C,this._cssClass=V,this._enabled=r,this._actionCallback=x}get id(){return this._id}get label(){return this._label}set label(m){this._setLabel(m)}_setLabel(m){this._label!==m&&(this._label=m,this._onDidChange.fire({label:m}))}get tooltip(){return this._tooltip||""}set tooltip(m){this._setTooltip(m)}_setTooltip(m){this._tooltip!==m&&(this._tooltip=m,this._onDidChange.fire({tooltip:m}))}get class(){return this._cssClass}set class(m){this._setClass(m)}_setClass(m){this._cssClass!==m&&(this._cssClass=m,this._onDidChange.fire({class:m}))}get enabled(){return this._enabled}set enabled(m){this._setEnabled(m)}_setEnabled(m){this._enabled!==m&&(this._enabled=m,this._onDidChange.fire({enabled:m}))}get checked(){return this._checked}set checked(m){this._setChecked(m)}_setChecked(m){this._checked!==m&&(this._checked=m,this._onDidChange.fire({checked:m}))}run(m,C){return O(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(m))})}}class J extends Y.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new g.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new g.Q5),this.onDidRun=this._onDidRun.event}run(m,C){return O(this,void 0,void 0,function*(){if(!m.enabled)return;this._onBeforeRun.fire({action:m});let V;try{yield this.runAction(m,C)}catch(r){V=r}this._onDidRun.fire({action:m,error:V})})}runAction(m,C){return O(this,void 0,void 0,function*(){yield m.run(C)})}}class k extends y{constructor(m){super(k.ID,m,m?"separator text":"separator"),this.checked=!1,this.enabled=!1}}k.ID="vs.actions.separator";class P{constructor(m,C,V,r){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=m,this.label=C,this.class=r,this._actions=V}get actions(){return this._actions}dispose(){}run(){return O(this,void 0,void 0,function*(){})}}class s extends y{constructor(){super(s.ID,Q.N("submenu.empty","(empty)"),void 0,!1)}}s.ID="vs.actions.empty"},9488:function(Yt,Ue,c){"use strict";c.d(Ue,{EB:function(){return m},Gb:function(){return g},H9:function(){return W},HW:function(){return J},JH:function(){return Y},Of:function(){return I},XY:function(){return s},Xh:function(){return r},Zv:function(){return D},_2:function(){return L},al:function(){return v},dF:function(){return C},db:function(){return R},fS:function(){return Q},kX:function(){return P},lG:function(){return y},ry:function(){return O},vM:function(){return k},w6:function(){return w},xH:function(){return x},zI:function(){return f}});function g(K,ie=0){return K[K.length-(1+ie)]}function Y(K){if(K.length===0)throw new Error("Invalid tail call");return[K.slice(0,K.length-1),K[K.length-1]]}function Q(K,ie,ce=(_e,ve)=>_e===ve){if(K===ie)return!0;if(!K||!ie||K.length!==ie.length)return!1;for(let _e=0,ve=K.length;_e<ve;_e++)if(!ce(K[_e],ie[_e]))return!1;return!0}function O(K,ie,ce){let _e=0,ve=K.length-1;for(;_e<=ve;){const De=(_e+ve)/2|0,le=ce(K[De],ie);if(le<0)_e=De+1;else if(le>0)ve=De-1;else return De}return-(_e+1)}function y(K,ie){let ce=0,_e=K.length;if(_e===0)return 0;for(;ce<_e;){const ve=Math.floor((ce+_e)/2);ie(K[ve])?_e=ve:ce=ve+1}return ce}function J(K,ie,ce){if(K=K|0,K>=ie.length)throw new TypeError("invalid index");let _e=ie[Math.floor(ie.length*Math.random())],ve=[],De=[],le=[];for(let Z of ie){const $=ce(Z,_e);$<0?ve.push(Z):$>0?De.push(Z):le.push(Z)}return K<ve.length?J(K,ve,ce):K<ve.length+le.length?le[0]:J(K-(ve.length+le.length),De,ce)}function k(K,ie){const ce=[];let _e;for(const ve of K.slice(0).sort(ie))!_e||ie(_e[0],ve)!==0?(_e=[ve],ce.push(_e)):_e.push(ve);return ce}function P(K){return K.filter(ie=>!!ie)}function s(K){return!Array.isArray(K)||K.length===0}function I(K){return Array.isArray(K)&&K.length>0}function m(K,ie=ce=>ce){const ce=new Set;return K.filter(_e=>{const ve=ie(_e);return ce.has(ve)?!1:(ce.add(ve),!0)})}function C(K,ie){const ce=V(K,ie);if(ce!==-1)return K[ce]}function V(K,ie){for(let ce=K.length-1;ce>=0;ce--){const _e=K[ce];if(ie(_e))return ce}return-1}function r(K,ie){return K.length>0?K[0]:ie}function x(K){return[].concat(...K)}function w(K,ie){let ce=typeof ie=="number"?K:0;typeof ie=="number"?ce=K:(ce=0,ie=K);const _e=[];if(ce<=ie)for(let ve=ce;ve<ie;ve++)_e.push(ve);else for(let ve=ce;ve>ie;ve--)_e.push(ve);return _e}function D(K,ie,ce){const _e=K.slice(0,ie),ve=K.slice(ie);return _e.concat(ce,ve)}function f(K,ie){const ce=K.indexOf(ie);ce>-1&&(K.splice(ce,1),K.unshift(ie))}function v(K,ie){const ce=K.indexOf(ie);ce>-1&&(K.splice(ce,1),K.push(ie))}function L(K){return Array.isArray(K)?K:[K]}function h(K,ie,ce){const _e=T(K,ie),ve=K.length,De=ce.length;K.length=ve+De;for(let le=ve-1;le>=_e;le--)K[le+De]=K[le];for(let le=0;le<De;le++)K[le+_e]=ce[le]}function R(K,ie,ce,_e){const ve=T(K,ie),De=K.splice(ve,ce);return h(K,ve,_e),De}function T(K,ie){return ie<0?Math.max(ie+K.length,0):Math.min(ie,K.length)}class W{constructor(ie){this.items=ie,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(ie){let ce=this.firstIdx;for(;ce<this.items.length&&ie(this.items[ce]);)ce++;const _e=ce===this.firstIdx?null:this.items.slice(this.firstIdx,ce);return this.firstIdx=ce,_e}takeFromEndWhile(ie){let ce=this.lastIdx;for(;ce>=0&&ie(this.items[ce]);)ce--;const _e=ce===this.lastIdx?null:this.items.slice(ce+1,this.lastIdx+1);return this.lastIdx=ce,_e}peek(){return this.items[this.firstIdx]}}},35146:function(Yt,Ue,c){"use strict";c.d(Ue,{ok:function(){return g}});function g(Y,Q){if(!Y)throw new Error(Q?`Assertion failed (${Q})`:"Assertion Failed")}},15393:function(Yt,Ue,c){"use strict";c.d(Ue,{J8:function(){return y},PG:function(){return J},Ue:function(){return f},Vg:function(){return C},Vs:function(){return m},_F:function(){return r},eP:function(){return k},jT:function(){return v},pY:function(){return w},rH:function(){return I},vp:function(){return s},zh:function(){return x}});var g=c(71050),Y=c(17301),Q=c(5976),O=function(L,h,R,T){function W(K){return K instanceof R?K:new R(function(ie){ie(K)})}return new(R||(R=Promise))(function(K,ie){function ce(De){try{ve(T.next(De))}catch(le){ie(le)}}function _e(De){try{ve(T.throw(De))}catch(le){ie(le)}}function ve(De){De.done?K(De.value):W(De.value).then(ce,_e)}ve((T=T.apply(L,h||[])).next())})};function y(L){return!!L&&typeof L.then=="function"}function J(L){const h=new g.A,R=L(h.token),T=new Promise((W,K)=>{const ie=h.token.onCancellationRequested(()=>{ie.dispose(),h.dispose(),K((0,Y.F0)())});Promise.resolve(R).then(ce=>{ie.dispose(),h.dispose(),W(ce)},ce=>{ie.dispose(),h.dispose(),K(ce)})});return new class{cancel(){h.cancel()}then(W,K){return T.then(W,K)}catch(W){return this.then(void 0,W)}finally(W){return T.finally(W)}}}function k(L,h,R){return Promise.race([L,new Promise(T=>h.onCancellationRequested(()=>T(R)))])}class P{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(h){if(this.activePromise){if(this.queuedPromiseFactory=h,!this.queuedPromise){const R=()=>{this.queuedPromise=null;const T=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,T};this.queuedPromise=new Promise(T=>{this.activePromise.then(R,R).then(T)})}return new Promise((R,T)=>{this.queuedPromise.then(R,T)})}return this.activePromise=h(),new Promise((R,T)=>{this.activePromise.then(W=>{this.activePromise=null,R(W)},W=>{this.activePromise=null,T(W)})})}}class s{constructor(h){this.defaultDelay=h,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(h,R=this.defaultDelay){return this.task=h,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((T,W)=>{this.doResolve=T,this.doReject=W}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const T=this.task;return this.task=null,T()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},R),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,Y.F0)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}class I{constructor(h){this.delayer=new s(h),this.throttler=new P}trigger(h,R){return this.delayer.trigger(()=>this.throttler.queue(h),R)}dispose(){this.delayer.dispose()}}function m(L,h){return h?new Promise((R,T)=>{const W=setTimeout(()=>{K.dispose(),R()},L),K=h.onCancellationRequested(()=>{clearTimeout(W),K.dispose(),T((0,Y.F0)())})}):J(R=>m(L,R))}function C(L,h=0){const R=setTimeout(L,h);return(0,Q.OF)(()=>clearTimeout(R))}function V(L,h=T=>!!T,R=null){let T=0;const W=L.length,K=()=>{if(T>=W)return Promise.resolve(R);const ie=L[T++];return Promise.resolve(ie()).then(_e=>h(_e)?Promise.resolve(_e):K())};return K()}class r{constructor(h,R){this._token=-1,typeof h=="function"&&typeof R=="number"&&this.setIfNotSet(h,R)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(h,R){this.cancel(),this._token=setTimeout(()=>{this._token=-1,h()},R)}setIfNotSet(h,R){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,h()},R))}}class x{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(h,R){this.cancel(),this._token=setInterval(()=>{h()},R)}}class w{constructor(h,R){this.timeoutToken=-1,this.runner=h,this.timeout=R,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(h=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,h)}get delay(){return this.timeout}set delay(h){this.timeout=h}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let D;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?D=L=>{const h=setTimeout(()=>{const T=Date.now()+15;L(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,T-Date.now())}}))});let R=!1;return{dispose(){R||(R=!0,clearTimeout(h))}}}:D=(L,h)=>{const R=requestIdleCallback(L,typeof h=="number"?{timeout:h}:void 0);let T=!1;return{dispose(){T||(T=!0,cancelIdleCallback(R))}}}})();class f{constructor(h){this._didRun=!1,this._executor=()=>{try{this._value=h()}catch(R){this._error=R}finally{this._didRun=!0}},this._handle=D(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}var v;(function(L){function h(T){return O(this,void 0,void 0,function*(){let W;const K=yield Promise.all(T.map(ie=>ie.then(ce=>ce,ce=>{W||(W=ce)})));if(typeof W!="undefined")throw W;return K})}L.settled=h;function R(T){return new Promise((W,K)=>O(this,void 0,void 0,function*(){try{yield T(W,K)}catch(ie){K(ie)}}))}L.withAsyncBody=R})(v||(v={}))},53060:function(Yt,Ue,c){"use strict";c.d(Ue,{Ag:function(){return k},Cg:function(){return I},KN:function(){return O},Q$:function(){return s},T4:function(){return P},mP:function(){return y},oq:function(){return J}});var g=c(48764).lW;const Y=typeof g!="undefined";let Q;class O{constructor(C){this.buffer=C,this.byteLength=this.buffer.byteLength}static wrap(C){return Y&&!g.isBuffer(C)&&(C=g.from(C.buffer,C.byteOffset,C.byteLength)),new O(C)}toString(){return Y?this.buffer.toString():(Q||(Q=new TextDecoder),Q.decode(this.buffer))}}function y(m,C){return m[C+0]<<0>>>0|m[C+1]<<8>>>0}function J(m,C,V){m[V+0]=C&255,C=C>>>8,m[V+1]=C&255}function k(m,C){return m[C]*Math.pow(2,24)+m[C+1]*Math.pow(2,16)+m[C+2]*Math.pow(2,8)+m[C+3]}function P(m,C,V){m[V+3]=C,C=C>>>8,m[V+2]=C,C=C>>>8,m[V+1]=C,C=C>>>8,m[V]=C}function s(m,C){return m[C]}function I(m,C,V){m[V]=C}},71050:function(Yt,Ue,c){"use strict";c.d(Ue,{A:function(){return y},T:function(){return Q}});var g=c(4669);const Y=Object.freeze(function(J,k){const P=setTimeout(J.bind(k),0);return{dispose(){clearTimeout(P)}}});var Q;(function(J){function k(P){return P===J.None||P===J.Cancelled||P instanceof O?!0:!P||typeof P!="object"?!1:typeof P.isCancellationRequested=="boolean"&&typeof P.onCancellationRequested=="function"}J.isCancellationToken=k,J.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:g.ju.None}),J.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Y})})(Q||(Q={}));class O{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Y:(this._emitter||(this._emitter=new g.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class y{constructor(k){this._token=void 0,this._parentListener=void 0,this._parentListener=k&&k.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new O),this._token}cancel(){this._token?this._token instanceof O&&this._token.cancel():this._token=Q.Cancelled}dispose(k=!1){k&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof O&&this._token.dispose():this._token=Q.None}}},73046:function(Yt,Ue,c){"use strict";c.d(Ue,{CM:function(){return y},JL:function(){return J},dT:function(){return P},fK:function(){return O},lA:function(){return k}});var g=c(4669);class Y{constructor(){this._icons=new Map,this._onDidRegister=new g.Q5}add(I){const m=this._icons.get(I.id);m?I.description?m.description=I.description:console.error(`Duplicate registration of codicon ${I.id}`):(this._icons.set(I.id,I),this._onDidRegister.fire(I))}get(I){return this._icons.get(I)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const Q=new Y,O=Q;function y(s,I){return new k(s,I)}function J(s){return s?s.replace(/\$\((.*?)\)/g,(I,m)=>` ${m} `).trim():""}class k{constructor(I,m,C){this.id=I,this.definition=m,this.description=C,Q.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}var P;(function(s){s.iconNameSegment="[A-Za-z0-9]+",s.iconNameExpression="[A-Za-z0-9\\-]+",s.iconModifierExpression="~[A-Za-z]+";const I=new RegExp(`^(${s.iconNameExpression})(${s.iconModifierExpression})?$`);function m(r){if(r instanceof k)return["codicon","codicon-"+r.id];const x=I.exec(r.id);if(!x)return m(k.error);let[,w,D]=x;const f=["codicon","codicon-"+w];return D&&f.push("codicon-modifier-"+D.substr(1)),f}s.asClassNameArray=m;function C(r){return m(r).join(" ")}s.asClassName=C;function V(r){return"."+m(r).join(".")}s.asCSSSelector=V})(P||(P={})),function(s){s.add=new s("add",{fontCharacter:"\\ea60"}),s.plus=new s("plus",s.add.definition),s.gistNew=new s("gist-new",s.add.definition),s.repoCreate=new s("repo-create",s.add.definition),s.lightbulb=new s("lightbulb",{fontCharacter:"\\ea61"}),s.lightBulb=new s("light-bulb",{fontCharacter:"\\ea61"}),s.repo=new s("repo",{fontCharacter:"\\ea62"}),s.repoDelete=new s("repo-delete",{fontCharacter:"\\ea62"}),s.gistFork=new s("gist-fork",{fontCharacter:"\\ea63"}),s.repoForked=new s("repo-forked",{fontCharacter:"\\ea63"}),s.gitPullRequest=new s("git-pull-request",{fontCharacter:"\\ea64"}),s.gitPullRequestAbandoned=new s("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),s.recordKeys=new s("record-keys",{fontCharacter:"\\ea65"}),s.keyboard=new s("keyboard",{fontCharacter:"\\ea65"}),s.tag=new s("tag",{fontCharacter:"\\ea66"}),s.tagAdd=new s("tag-add",{fontCharacter:"\\ea66"}),s.tagRemove=new s("tag-remove",{fontCharacter:"\\ea66"}),s.person=new s("person",{fontCharacter:"\\ea67"}),s.personFollow=new s("person-follow",{fontCharacter:"\\ea67"}),s.personOutline=new s("person-outline",{fontCharacter:"\\ea67"}),s.personFilled=new s("person-filled",{fontCharacter:"\\ea67"}),s.gitBranch=new s("git-branch",{fontCharacter:"\\ea68"}),s.gitBranchCreate=new s("git-branch-create",{fontCharacter:"\\ea68"}),s.gitBranchDelete=new s("git-branch-delete",{fontCharacter:"\\ea68"}),s.sourceControl=new s("source-control",{fontCharacter:"\\ea68"}),s.mirror=new s("mirror",{fontCharacter:"\\ea69"}),s.mirrorPublic=new s("mirror-public",{fontCharacter:"\\ea69"}),s.star=new s("star",{fontCharacter:"\\ea6a"}),s.starAdd=new s("star-add",{fontCharacter:"\\ea6a"}),s.starDelete=new s("star-delete",{fontCharacter:"\\ea6a"}),s.starEmpty=new s("star-empty",{fontCharacter:"\\ea6a"}),s.comment=new s("comment",{fontCharacter:"\\ea6b"}),s.commentAdd=new s("comment-add",{fontCharacter:"\\ea6b"}),s.alert=new s("alert",{fontCharacter:"\\ea6c"}),s.warning=new s("warning",{fontCharacter:"\\ea6c"}),s.search=new s("search",{fontCharacter:"\\ea6d"}),s.searchSave=new s("search-save",{fontCharacter:"\\ea6d"}),s.logOut=new s("log-out",{fontCharacter:"\\ea6e"}),s.signOut=new s("sign-out",{fontCharacter:"\\ea6e"}),s.logIn=new s("log-in",{fontCharacter:"\\ea6f"}),s.signIn=new s("sign-in",{fontCharacter:"\\ea6f"}),s.eye=new s("eye",{fontCharacter:"\\ea70"}),s.eyeUnwatch=new s("eye-unwatch",{fontCharacter:"\\ea70"}),s.eyeWatch=new s("eye-watch",{fontCharacter:"\\ea70"}),s.circleFilled=new s("circle-filled",{fontCharacter:"\\ea71"}),s.primitiveDot=new s("primitive-dot",{fontCharacter:"\\ea71"}),s.closeDirty=new s("close-dirty",{fontCharacter:"\\ea71"}),s.debugBreakpoint=new s("debug-breakpoint",{fontCharacter:"\\ea71"}),s.debugBreakpointDisabled=new s("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),s.debugHint=new s("debug-hint",{fontCharacter:"\\ea71"}),s.primitiveSquare=new s("primitive-square",{fontCharacter:"\\ea72"}),s.edit=new s("edit",{fontCharacter:"\\ea73"}),s.pencil=new s("pencil",{fontCharacter:"\\ea73"}),s.info=new s("info",{fontCharacter:"\\ea74"}),s.issueOpened=new s("issue-opened",{fontCharacter:"\\ea74"}),s.gistPrivate=new s("gist-private",{fontCharacter:"\\ea75"}),s.gitForkPrivate=new s("git-fork-private",{fontCharacter:"\\ea75"}),s.lock=new s("lock",{fontCharacter:"\\ea75"}),s.mirrorPrivate=new s("mirror-private",{fontCharacter:"\\ea75"}),s.close=new s("close",{fontCharacter:"\\ea76"}),s.removeClose=new s("remove-close",{fontCharacter:"\\ea76"}),s.x=new s("x",{fontCharacter:"\\ea76"}),s.repoSync=new s("repo-sync",{fontCharacter:"\\ea77"}),s.sync=new s("sync",{fontCharacter:"\\ea77"}),s.clone=new s("clone",{fontCharacter:"\\ea78"}),s.desktopDownload=new s("desktop-download",{fontCharacter:"\\ea78"}),s.beaker=new s("beaker",{fontCharacter:"\\ea79"}),s.microscope=new s("microscope",{fontCharacter:"\\ea79"}),s.vm=new s("vm",{fontCharacter:"\\ea7a"}),s.deviceDesktop=new s("device-desktop",{fontCharacter:"\\ea7a"}),s.file=new s("file",{fontCharacter:"\\ea7b"}),s.fileText=new s("file-text",{fontCharacter:"\\ea7b"}),s.more=new s("more",{fontCharacter:"\\ea7c"}),s.ellipsis=new s("ellipsis",{fontCharacter:"\\ea7c"}),s.kebabHorizontal=new s("kebab-horizontal",{fontCharacter:"\\ea7c"}),s.mailReply=new s("mail-reply",{fontCharacter:"\\ea7d"}),s.reply=new s("reply",{fontCharacter:"\\ea7d"}),s.organization=new s("organization",{fontCharacter:"\\ea7e"}),s.organizationFilled=new s("organization-filled",{fontCharacter:"\\ea7e"}),s.organizationOutline=new s("organization-outline",{fontCharacter:"\\ea7e"}),s.newFile=new s("new-file",{fontCharacter:"\\ea7f"}),s.fileAdd=new s("file-add",{fontCharacter:"\\ea7f"}),s.newFolder=new s("new-folder",{fontCharacter:"\\ea80"}),s.fileDirectoryCreate=new s("file-directory-create",{fontCharacter:"\\ea80"}),s.trash=new s("trash",{fontCharacter:"\\ea81"}),s.trashcan=new s("trashcan",{fontCharacter:"\\ea81"}),s.history=new s("history",{fontCharacter:"\\ea82"}),s.clock=new s("clock",{fontCharacter:"\\ea82"}),s.folder=new s("folder",{fontCharacter:"\\ea83"}),s.fileDirectory=new s("file-directory",{fontCharacter:"\\ea83"}),s.symbolFolder=new s("symbol-folder",{fontCharacter:"\\ea83"}),s.logoGithub=new s("logo-github",{fontCharacter:"\\ea84"}),s.markGithub=new s("mark-github",{fontCharacter:"\\ea84"}),s.github=new s("github",{fontCharacter:"\\ea84"}),s.terminal=new s("terminal",{fontCharacter:"\\ea85"}),s.console=new s("console",{fontCharacter:"\\ea85"}),s.repl=new s("repl",{fontCharacter:"\\ea85"}),s.zap=new s("zap",{fontCharacter:"\\ea86"}),s.symbolEvent=new s("symbol-event",{fontCharacter:"\\ea86"}),s.error=new s("error",{fontCharacter:"\\ea87"}),s.stop=new s("stop",{fontCharacter:"\\ea87"}),s.variable=new s("variable",{fontCharacter:"\\ea88"}),s.symbolVariable=new s("symbol-variable",{fontCharacter:"\\ea88"}),s.array=new s("array",{fontCharacter:"\\ea8a"}),s.symbolArray=new s("symbol-array",{fontCharacter:"\\ea8a"}),s.symbolModule=new s("symbol-module",{fontCharacter:"\\ea8b"}),s.symbolPackage=new s("symbol-package",{fontCharacter:"\\ea8b"}),s.symbolNamespace=new s("symbol-namespace",{fontCharacter:"\\ea8b"}),s.symbolObject=new s("symbol-object",{fontCharacter:"\\ea8b"}),s.symbolMethod=new s("symbol-method",{fontCharacter:"\\ea8c"}),s.symbolFunction=new s("symbol-function",{fontCharacter:"\\ea8c"}),s.symbolConstructor=new s("symbol-constructor",{fontCharacter:"\\ea8c"}),s.symbolBoolean=new s("symbol-boolean",{fontCharacter:"\\ea8f"}),s.symbolNull=new s("symbol-null",{fontCharacter:"\\ea8f"}),s.symbolNumeric=new s("symbol-numeric",{fontCharacter:"\\ea90"}),s.symbolNumber=new s("symbol-number",{fontCharacter:"\\ea90"}),s.symbolStructure=new s("symbol-structure",{fontCharacter:"\\ea91"}),s.symbolStruct=new s("symbol-struct",{fontCharacter:"\\ea91"}),s.symbolParameter=new s("symbol-parameter",{fontCharacter:"\\ea92"}),s.symbolTypeParameter=new s("symbol-type-parameter",{fontCharacter:"\\ea92"}),s.symbolKey=new s("symbol-key",{fontCharacter:"\\ea93"}),s.symbolText=new s("symbol-text",{fontCharacter:"\\ea93"}),s.symbolReference=new s("symbol-reference",{fontCharacter:"\\ea94"}),s.goToFile=new s("go-to-file",{fontCharacter:"\\ea94"}),s.symbolEnum=new s("symbol-enum",{fontCharacter:"\\ea95"}),s.symbolValue=new s("symbol-value",{fontCharacter:"\\ea95"}),s.symbolRuler=new s("symbol-ruler",{fontCharacter:"\\ea96"}),s.symbolUnit=new s("symbol-unit",{fontCharacter:"\\ea96"}),s.activateBreakpoints=new s("activate-breakpoints",{fontCharacter:"\\ea97"}),s.archive=new s("archive",{fontCharacter:"\\ea98"}),s.arrowBoth=new s("arrow-both",{fontCharacter:"\\ea99"}),s.arrowDown=new s("arrow-down",{fontCharacter:"\\ea9a"}),s.arrowLeft=new s("arrow-left",{fontCharacter:"\\ea9b"}),s.arrowRight=new s("arrow-right",{fontCharacter:"\\ea9c"}),s.arrowSmallDown=new s("arrow-small-down",{fontCharacter:"\\ea9d"}),s.arrowSmallLeft=new s("arrow-small-left",{fontCharacter:"\\ea9e"}),s.arrowSmallRight=new s("arrow-small-right",{fontCharacter:"\\ea9f"}),s.arrowSmallUp=new s("arrow-small-up",{fontCharacter:"\\eaa0"}),s.arrowUp=new s("arrow-up",{fontCharacter:"\\eaa1"}),s.bell=new s("bell",{fontCharacter:"\\eaa2"}),s.bold=new s("bold",{fontCharacter:"\\eaa3"}),s.book=new s("book",{fontCharacter:"\\eaa4"}),s.bookmark=new s("bookmark",{fontCharacter:"\\eaa5"}),s.debugBreakpointConditionalUnverified=new s("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),s.debugBreakpointConditional=new s("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),s.debugBreakpointConditionalDisabled=new s("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),s.debugBreakpointDataUnverified=new s("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),s.debugBreakpointData=new s("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),s.debugBreakpointDataDisabled=new s("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),s.debugBreakpointLogUnverified=new s("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),s.debugBreakpointLog=new s("debug-breakpoint-log",{fontCharacter:"\\eaab"}),s.debugBreakpointLogDisabled=new s("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),s.briefcase=new s("briefcase",{fontCharacter:"\\eaac"}),s.broadcast=new s("broadcast",{fontCharacter:"\\eaad"}),s.browser=new s("browser",{fontCharacter:"\\eaae"}),s.bug=new s("bug",{fontCharacter:"\\eaaf"}),s.calendar=new s("calendar",{fontCharacter:"\\eab0"}),s.caseSensitive=new s("case-sensitive",{fontCharacter:"\\eab1"}),s.check=new s("check",{fontCharacter:"\\eab2"}),s.checklist=new s("checklist",{fontCharacter:"\\eab3"}),s.chevronDown=new s("chevron-down",{fontCharacter:"\\eab4"}),s.dropDownButton=new s("drop-down-button",s.chevronDown.definition),s.chevronLeft=new s("chevron-left",{fontCharacter:"\\eab5"}),s.chevronRight=new s("chevron-right",{fontCharacter:"\\eab6"}),s.chevronUp=new s("chevron-up",{fontCharacter:"\\eab7"}),s.chromeClose=new s("chrome-close",{fontCharacter:"\\eab8"}),s.chromeMaximize=new s("chrome-maximize",{fontCharacter:"\\eab9"}),s.chromeMinimize=new s("chrome-minimize",{fontCharacter:"\\eaba"}),s.chromeRestore=new s("chrome-restore",{fontCharacter:"\\eabb"}),s.circleOutline=new s("circle-outline",{fontCharacter:"\\eabc"}),s.debugBreakpointUnverified=new s("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),s.circleSlash=new s("circle-slash",{fontCharacter:"\\eabd"}),s.circuitBoard=new s("circuit-board",{fontCharacter:"\\eabe"}),s.clearAll=new s("clear-all",{fontCharacter:"\\eabf"}),s.clippy=new s("clippy",{fontCharacter:"\\eac0"}),s.closeAll=new s("close-all",{fontCharacter:"\\eac1"}),s.cloudDownload=new s("cloud-download",{fontCharacter:"\\eac2"}),s.cloudUpload=new s("cloud-upload",{fontCharacter:"\\eac3"}),s.code=new s("code",{fontCharacter:"\\eac4"}),s.collapseAll=new s("collapse-all",{fontCharacter:"\\eac5"}),s.colorMode=new s("color-mode",{fontCharacter:"\\eac6"}),s.commentDiscussion=new s("comment-discussion",{fontCharacter:"\\eac7"}),s.compareChanges=new s("compare-changes",{fontCharacter:"\\eafd"}),s.creditCard=new s("credit-card",{fontCharacter:"\\eac9"}),s.dash=new s("dash",{fontCharacter:"\\eacc"}),s.dashboard=new s("dashboard",{fontCharacter:"\\eacd"}),s.database=new s("database",{fontCharacter:"\\eace"}),s.debugContinue=new s("debug-continue",{fontCharacter:"\\eacf"}),s.debugDisconnect=new s("debug-disconnect",{fontCharacter:"\\ead0"}),s.debugPause=new s("debug-pause",{fontCharacter:"\\ead1"}),s.debugRestart=new s("debug-restart",{fontCharacter:"\\ead2"}),s.debugStart=new s("debug-start",{fontCharacter:"\\ead3"}),s.debugStepInto=new s("debug-step-into",{fontCharacter:"\\ead4"}),s.debugStepOut=new s("debug-step-out",{fontCharacter:"\\ead5"}),s.debugStepOver=new s("debug-step-over",{fontCharacter:"\\ead6"}),s.debugStop=new s("debug-stop",{fontCharacter:"\\ead7"}),s.debug=new s("debug",{fontCharacter:"\\ead8"}),s.deviceCameraVideo=new s("device-camera-video",{fontCharacter:"\\ead9"}),s.deviceCamera=new s("device-camera",{fontCharacter:"\\eada"}),s.deviceMobile=new s("device-mobile",{fontCharacter:"\\eadb"}),s.diffAdded=new s("diff-added",{fontCharacter:"\\eadc"}),s.diffIgnored=new s("diff-ignored",{fontCharacter:"\\eadd"}),s.diffModified=new s("diff-modified",{fontCharacter:"\\eade"}),s.diffRemoved=new s("diff-removed",{fontCharacter:"\\eadf"}),s.diffRenamed=new s("diff-renamed",{fontCharacter:"\\eae0"}),s.diff=new s("diff",{fontCharacter:"\\eae1"}),s.discard=new s("discard",{fontCharacter:"\\eae2"}),s.editorLayout=new s("editor-layout",{fontCharacter:"\\eae3"}),s.emptyWindow=new s("empty-window",{fontCharacter:"\\eae4"}),s.exclude=new s("exclude",{fontCharacter:"\\eae5"}),s.extensions=new s("extensions",{fontCharacter:"\\eae6"}),s.eyeClosed=new s("eye-closed",{fontCharacter:"\\eae7"}),s.fileBinary=new s("file-binary",{fontCharacter:"\\eae8"}),s.fileCode=new s("file-code",{fontCharacter:"\\eae9"}),s.fileMedia=new s("file-media",{fontCharacter:"\\eaea"}),s.filePdf=new s("file-pdf",{fontCharacter:"\\eaeb"}),s.fileSubmodule=new s("file-submodule",{fontCharacter:"\\eaec"}),s.fileSymlinkDirectory=new s("file-symlink-directory",{fontCharacter:"\\eaed"}),s.fileSymlinkFile=new s("file-symlink-file",{fontCharacter:"\\eaee"}),s.fileZip=new s("file-zip",{fontCharacter:"\\eaef"}),s.files=new s("files",{fontCharacter:"\\eaf0"}),s.filter=new s("filter",{fontCharacter:"\\eaf1"}),s.flame=new s("flame",{fontCharacter:"\\eaf2"}),s.foldDown=new s("fold-down",{fontCharacter:"\\eaf3"}),s.foldUp=new s("fold-up",{fontCharacter:"\\eaf4"}),s.fold=new s("fold",{fontCharacter:"\\eaf5"}),s.folderActive=new s("folder-active",{fontCharacter:"\\eaf6"}),s.folderOpened=new s("folder-opened",{fontCharacter:"\\eaf7"}),s.gear=new s("gear",{fontCharacter:"\\eaf8"}),s.gift=new s("gift",{fontCharacter:"\\eaf9"}),s.gistSecret=new s("gist-secret",{fontCharacter:"\\eafa"}),s.gist=new s("gist",{fontCharacter:"\\eafb"}),s.gitCommit=new s("git-commit",{fontCharacter:"\\eafc"}),s.gitCompare=new s("git-compare",{fontCharacter:"\\eafd"}),s.gitMerge=new s("git-merge",{fontCharacter:"\\eafe"}),s.githubAction=new s("github-action",{fontCharacter:"\\eaff"}),s.githubAlt=new s("github-alt",{fontCharacter:"\\eb00"}),s.globe=new s("globe",{fontCharacter:"\\eb01"}),s.grabber=new s("grabber",{fontCharacter:"\\eb02"}),s.graph=new s("graph",{fontCharacter:"\\eb03"}),s.gripper=new s("gripper",{fontCharacter:"\\eb04"}),s.heart=new s("heart",{fontCharacter:"\\eb05"}),s.home=new s("home",{fontCharacter:"\\eb06"}),s.horizontalRule=new s("horizontal-rule",{fontCharacter:"\\eb07"}),s.hubot=new s("hubot",{fontCharacter:"\\eb08"}),s.inbox=new s("inbox",{fontCharacter:"\\eb09"}),s.issueClosed=new s("issue-closed",{fontCharacter:"\\eba4"}),s.issueReopened=new s("issue-reopened",{fontCharacter:"\\eb0b"}),s.issues=new s("issues",{fontCharacter:"\\eb0c"}),s.italic=new s("italic",{fontCharacter:"\\eb0d"}),s.jersey=new s("jersey",{fontCharacter:"\\eb0e"}),s.json=new s("json",{fontCharacter:"\\eb0f"}),s.kebabVertical=new s("kebab-vertical",{fontCharacter:"\\eb10"}),s.key=new s("key",{fontCharacter:"\\eb11"}),s.law=new s("law",{fontCharacter:"\\eb12"}),s.lightbulbAutofix=new s("lightbulb-autofix",{fontCharacter:"\\eb13"}),s.linkExternal=new s("link-external",{fontCharacter:"\\eb14"}),s.link=new s("link",{fontCharacter:"\\eb15"}),s.listOrdered=new s("list-ordered",{fontCharacter:"\\eb16"}),s.listUnordered=new s("list-unordered",{fontCharacter:"\\eb17"}),s.liveShare=new s("live-share",{fontCharacter:"\\eb18"}),s.loading=new s("loading",{fontCharacter:"\\eb19"}),s.location=new s("location",{fontCharacter:"\\eb1a"}),s.mailRead=new s("mail-read",{fontCharacter:"\\eb1b"}),s.mail=new s("mail",{fontCharacter:"\\eb1c"}),s.markdown=new s("markdown",{fontCharacter:"\\eb1d"}),s.megaphone=new s("megaphone",{fontCharacter:"\\eb1e"}),s.mention=new s("mention",{fontCharacter:"\\eb1f"}),s.milestone=new s("milestone",{fontCharacter:"\\eb20"}),s.mortarBoard=new s("mortar-board",{fontCharacter:"\\eb21"}),s.move=new s("move",{fontCharacter:"\\eb22"}),s.multipleWindows=new s("multiple-windows",{fontCharacter:"\\eb23"}),s.mute=new s("mute",{fontCharacter:"\\eb24"}),s.noNewline=new s("no-newline",{fontCharacter:"\\eb25"}),s.note=new s("note",{fontCharacter:"\\eb26"}),s.octoface=new s("octoface",{fontCharacter:"\\eb27"}),s.openPreview=new s("open-preview",{fontCharacter:"\\eb28"}),s.package_=new s("package",{fontCharacter:"\\eb29"}),s.paintcan=new s("paintcan",{fontCharacter:"\\eb2a"}),s.pin=new s("pin",{fontCharacter:"\\eb2b"}),s.play=new s("play",{fontCharacter:"\\eb2c"}),s.run=new s("run",{fontCharacter:"\\eb2c"}),s.plug=new s("plug",{fontCharacter:"\\eb2d"}),s.preserveCase=new s("preserve-case",{fontCharacter:"\\eb2e"}),s.preview=new s("preview",{fontCharacter:"\\eb2f"}),s.project=new s("project",{fontCharacter:"\\eb30"}),s.pulse=new s("pulse",{fontCharacter:"\\eb31"}),s.question=new s("question",{fontCharacter:"\\eb32"}),s.quote=new s("quote",{fontCharacter:"\\eb33"}),s.radioTower=new s("radio-tower",{fontCharacter:"\\eb34"}),s.reactions=new s("reactions",{fontCharacter:"\\eb35"}),s.references=new s("references",{fontCharacter:"\\eb36"}),s.refresh=new s("refresh",{fontCharacter:"\\eb37"}),s.regex=new s("regex",{fontCharacter:"\\eb38"}),s.remoteExplorer=new s("remote-explorer",{fontCharacter:"\\eb39"}),s.remote=new s("remote",{fontCharacter:"\\eb3a"}),s.remove=new s("remove",{fontCharacter:"\\eb3b"}),s.replaceAll=new s("replace-all",{fontCharacter:"\\eb3c"}),s.replace=new s("replace",{fontCharacter:"\\eb3d"}),s.repoClone=new s("repo-clone",{fontCharacter:"\\eb3e"}),s.repoForcePush=new s("repo-force-push",{fontCharacter:"\\eb3f"}),s.repoPull=new s("repo-pull",{fontCharacter:"\\eb40"}),s.repoPush=new s("repo-push",{fontCharacter:"\\eb41"}),s.report=new s("report",{fontCharacter:"\\eb42"}),s.requestChanges=new s("request-changes",{fontCharacter:"\\eb43"}),s.rocket=new s("rocket",{fontCharacter:"\\eb44"}),s.rootFolderOpened=new s("root-folder-opened",{fontCharacter:"\\eb45"}),s.rootFolder=new s("root-folder",{fontCharacter:"\\eb46"}),s.rss=new s("rss",{fontCharacter:"\\eb47"}),s.ruby=new s("ruby",{fontCharacter:"\\eb48"}),s.saveAll=new s("save-all",{fontCharacter:"\\eb49"}),s.saveAs=new s("save-as",{fontCharacter:"\\eb4a"}),s.save=new s("save",{fontCharacter:"\\eb4b"}),s.screenFull=new s("screen-full",{fontCharacter:"\\eb4c"}),s.screenNormal=new s("screen-normal",{fontCharacter:"\\eb4d"}),s.searchStop=new s("search-stop",{fontCharacter:"\\eb4e"}),s.server=new s("server",{fontCharacter:"\\eb50"}),s.settingsGear=new s("settings-gear",{fontCharacter:"\\eb51"}),s.settings=new s("settings",{fontCharacter:"\\eb52"}),s.shield=new s("shield",{fontCharacter:"\\eb53"}),s.smiley=new s("smiley",{fontCharacter:"\\eb54"}),s.sortPrecedence=new s("sort-precedence",{fontCharacter:"\\eb55"}),s.splitHorizontal=new s("split-horizontal",{fontCharacter:"\\eb56"}),s.splitVertical=new s("split-vertical",{fontCharacter:"\\eb57"}),s.squirrel=new s("squirrel",{fontCharacter:"\\eb58"}),s.starFull=new s("star-full",{fontCharacter:"\\eb59"}),s.starHalf=new s("star-half",{fontCharacter:"\\eb5a"}),s.symbolClass=new s("symbol-class",{fontCharacter:"\\eb5b"}),s.symbolColor=new s("symbol-color",{fontCharacter:"\\eb5c"}),s.symbolConstant=new s("symbol-constant",{fontCharacter:"\\eb5d"}),s.symbolEnumMember=new s("symbol-enum-member",{fontCharacter:"\\eb5e"}),s.symbolField=new s("symbol-field",{fontCharacter:"\\eb5f"}),s.symbolFile=new s("symbol-file",{fontCharacter:"\\eb60"}),s.symbolInterface=new s("symbol-interface",{fontCharacter:"\\eb61"}),s.symbolKeyword=new s("symbol-keyword",{fontCharacter:"\\eb62"}),s.symbolMisc=new s("symbol-misc",{fontCharacter:"\\eb63"}),s.symbolOperator=new s("symbol-operator",{fontCharacter:"\\eb64"}),s.symbolProperty=new s("symbol-property",{fontCharacter:"\\eb65"}),s.wrench=new s("wrench",{fontCharacter:"\\eb65"}),s.wrenchSubaction=new s("wrench-subaction",{fontCharacter:"\\eb65"}),s.symbolSnippet=new s("symbol-snippet",{fontCharacter:"\\eb66"}),s.tasklist=new s("tasklist",{fontCharacter:"\\eb67"}),s.telescope=new s("telescope",{fontCharacter:"\\eb68"}),s.textSize=new s("text-size",{fontCharacter:"\\eb69"}),s.threeBars=new s("three-bars",{fontCharacter:"\\eb6a"}),s.thumbsdown=new s("thumbsdown",{fontCharacter:"\\eb6b"}),s.thumbsup=new s("thumbsup",{fontCharacter:"\\eb6c"}),s.tools=new s("tools",{fontCharacter:"\\eb6d"}),s.triangleDown=new s("triangle-down",{fontCharacter:"\\eb6e"}),s.triangleLeft=new s("triangle-left",{fontCharacter:"\\eb6f"}),s.triangleRight=new s("triangle-right",{fontCharacter:"\\eb70"}),s.triangleUp=new s("triangle-up",{fontCharacter:"\\eb71"}),s.twitter=new s("twitter",{fontCharacter:"\\eb72"}),s.unfold=new s("unfold",{fontCharacter:"\\eb73"}),s.unlock=new s("unlock",{fontCharacter:"\\eb74"}),s.unmute=new s("unmute",{fontCharacter:"\\eb75"}),s.unverified=new s("unverified",{fontCharacter:"\\eb76"}),s.verified=new s("verified",{fontCharacter:"\\eb77"}),s.versions=new s("versions",{fontCharacter:"\\eb78"}),s.vmActive=new s("vm-active",{fontCharacter:"\\eb79"}),s.vmOutline=new s("vm-outline",{fontCharacter:"\\eb7a"}),s.vmRunning=new s("vm-running",{fontCharacter:"\\eb7b"}),s.watch=new s("watch",{fontCharacter:"\\eb7c"}),s.whitespace=new s("whitespace",{fontCharacter:"\\eb7d"}),s.wholeWord=new s("whole-word",{fontCharacter:"\\eb7e"}),s.window=new s("window",{fontCharacter:"\\eb7f"}),s.wordWrap=new s("word-wrap",{fontCharacter:"\\eb80"}),s.zoomIn=new s("zoom-in",{fontCharacter:"\\eb81"}),s.zoomOut=new s("zoom-out",{fontCharacter:"\\eb82"}),s.listFilter=new s("list-filter",{fontCharacter:"\\eb83"}),s.listFlat=new s("list-flat",{fontCharacter:"\\eb84"}),s.listSelection=new s("list-selection",{fontCharacter:"\\eb85"}),s.selection=new s("selection",{fontCharacter:"\\eb85"}),s.listTree=new s("list-tree",{fontCharacter:"\\eb86"}),s.debugBreakpointFunctionUnverified=new s("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),s.debugBreakpointFunction=new s("debug-breakpoint-function",{fontCharacter:"\\eb88"}),s.debugBreakpointFunctionDisabled=new s("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),s.debugStackframeActive=new s("debug-stackframe-active",{fontCharacter:"\\eb89"}),s.debugStackframeDot=new s("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),s.debugStackframe=new s("debug-stackframe",{fontCharacter:"\\eb8b"}),s.debugStackframeFocused=new s("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),s.debugBreakpointUnsupported=new s("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),s.symbolString=new s("symbol-string",{fontCharacter:"\\eb8d"}),s.debugReverseContinue=new s("debug-reverse-continue",{fontCharacter:"\\eb8e"}),s.debugStepBack=new s("debug-step-back",{fontCharacter:"\\eb8f"}),s.debugRestartFrame=new s("debug-restart-frame",{fontCharacter:"\\eb90"}),s.callIncoming=new s("call-incoming",{fontCharacter:"\\eb92"}),s.callOutgoing=new s("call-outgoing",{fontCharacter:"\\eb93"}),s.menu=new s("menu",{fontCharacter:"\\eb94"}),s.expandAll=new s("expand-all",{fontCharacter:"\\eb95"}),s.feedback=new s("feedback",{fontCharacter:"\\eb96"}),s.groupByRefType=new s("group-by-ref-type",{fontCharacter:"\\eb97"}),s.ungroupByRefType=new s("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),s.account=new s("account",{fontCharacter:"\\eb99"}),s.bellDot=new s("bell-dot",{fontCharacter:"\\eb9a"}),s.debugConsole=new s("debug-console",{fontCharacter:"\\eb9b"}),s.library=new s("library",{fontCharacter:"\\eb9c"}),s.output=new s("output",{fontCharacter:"\\eb9d"}),s.runAll=new s("run-all",{fontCharacter:"\\eb9e"}),s.syncIgnored=new s("sync-ignored",{fontCharacter:"\\eb9f"}),s.pinned=new s("pinned",{fontCharacter:"\\eba0"}),s.githubInverted=new s("github-inverted",{fontCharacter:"\\eba1"}),s.debugAlt=new s("debug-alt",{fontCharacter:"\\eb91"}),s.serverProcess=new s("server-process",{fontCharacter:"\\eba2"}),s.serverEnvironment=new s("server-environment",{fontCharacter:"\\eba3"}),s.pass=new s("pass",{fontCharacter:"\\eba4"}),s.stopCircle=new s("stop-circle",{fontCharacter:"\\eba5"}),s.playCircle=new s("play-circle",{fontCharacter:"\\eba6"}),s.record=new s("record",{fontCharacter:"\\eba7"}),s.debugAltSmall=new s("debug-alt-small",{fontCharacter:"\\eba8"}),s.vmConnect=new s("vm-connect",{fontCharacter:"\\eba9"}),s.cloud=new s("cloud",{fontCharacter:"\\ebaa"}),s.merge=new s("merge",{fontCharacter:"\\ebab"}),s.exportIcon=new s("export",{fontCharacter:"\\ebac"}),s.graphLeft=new s("graph-left",{fontCharacter:"\\ebad"}),s.magnet=new s("magnet",{fontCharacter:"\\ebae"}),s.notebook=new s("notebook",{fontCharacter:"\\ebaf"}),s.redo=new s("redo",{fontCharacter:"\\ebb0"}),s.checkAll=new s("check-all",{fontCharacter:"\\ebb1"}),s.pinnedDirty=new s("pinned-dirty",{fontCharacter:"\\ebb2"}),s.passFilled=new s("pass-filled",{fontCharacter:"\\ebb3"}),s.circleLargeFilled=new s("circle-large-filled",{fontCharacter:"\\ebb4"}),s.circleLargeOutline=new s("circle-large-outline",{fontCharacter:"\\ebb5"}),s.combine=new s("combine",{fontCharacter:"\\ebb6"}),s.gather=new s("gather",{fontCharacter:"\\ebb6"}),s.table=new s("table",{fontCharacter:"\\ebb7"}),s.variableGroup=new s("variable-group",{fontCharacter:"\\ebb8"}),s.typeHierarchy=new s("type-hierarchy",{fontCharacter:"\\ebb9"}),s.typeHierarchySub=new s("type-hierarchy-sub",{fontCharacter:"\\ebba"}),s.typeHierarchySuper=new s("type-hierarchy-super",{fontCharacter:"\\ebbb"}),s.gitPullRequestCreate=new s("git-pull-request-create",{fontCharacter:"\\ebbc"}),s.runAbove=new s("run-above",{fontCharacter:"\\ebbd"}),s.runBelow=new s("run-below",{fontCharacter:"\\ebbe"}),s.notebookTemplate=new s("notebook-template",{fontCharacter:"\\ebbf"}),s.debugRerun=new s("debug-rerun",{fontCharacter:"\\ebc0"}),s.workspaceTrusted=new s("workspace-trusted",{fontCharacter:"\\ebc1"}),s.workspaceUntrusted=new s("workspace-untrusted",{fontCharacter:"\\ebc2"}),s.workspaceUnspecified=new s("workspace-unspecified",{fontCharacter:"\\ebc3"}),s.terminalCmd=new s("terminal-cmd",{fontCharacter:"\\ebc4"}),s.terminalDebian=new s("terminal-debian",{fontCharacter:"\\ebc5"}),s.terminalLinux=new s("terminal-linux",{fontCharacter:"\\ebc6"}),s.terminalPowershell=new s("terminal-powershell",{fontCharacter:"\\ebc7"}),s.terminalTmux=new s("terminal-tmux",{fontCharacter:"\\ebc8"}),s.terminalUbuntu=new s("terminal-ubuntu",{fontCharacter:"\\ebc9"}),s.terminalBash=new s("terminal-bash",{fontCharacter:"\\ebca"}),s.arrowSwap=new s("arrow-swap",{fontCharacter:"\\ebcb"}),s.copy=new s("copy",{fontCharacter:"\\ebcc"}),s.personAdd=new s("person-add",{fontCharacter:"\\ebcd"}),s.filterFilled=new s("filter-filled",{fontCharacter:"\\ebce"}),s.wand=new s("wand",{fontCharacter:"\\ebcf"}),s.debugLineByLine=new s("debug-line-by-line",{fontCharacter:"\\ebd0"}),s.inspect=new s("inspect",{fontCharacter:"\\ebd1"}),s.layers=new s("layers",{fontCharacter:"\\ebd2"}),s.layersDot=new s("layers-dot",{fontCharacter:"\\ebd3"}),s.layersActive=new s("layers-active",{fontCharacter:"\\ebd4"}),s.compass=new s("compass",{fontCharacter:"\\ebd5"}),s.compassDot=new s("compass-dot",{fontCharacter:"\\ebd6"}),s.compassActive=new s("compass-active",{fontCharacter:"\\ebd7"}),s.azure=new s("azure",{fontCharacter:"\\ebd8"}),s.issueDraft=new s("issue-draft",{fontCharacter:"\\ebd9"}),s.gitPullRequestClosed=new s("git-pull-request-closed",{fontCharacter:"\\ebda"}),s.gitPullRequestDraft=new s("git-pull-request-draft",{fontCharacter:"\\ebdb"}),s.debugAll=new s("debug-all",{fontCharacter:"\\ebdc"}),s.debugCoverage=new s("debug-coverage",{fontCharacter:"\\ebdd"}),s.runErrors=new s("run-errors",{fontCharacter:"\\ebde"}),s.folderLibrary=new s("folder-library",{fontCharacter:"\\ebdf"}),s.debugContinueSmall=new s("debug-continue-small",{fontCharacter:"\\ebe0"}),s.beakerStop=new s("beaker-stop",{fontCharacter:"\\ebe1"}),s.graphLine=new s("graph-line",{fontCharacter:"\\ebe2"}),s.graphScatter=new s("graph-scatter",{fontCharacter:"\\ebe3"}),s.pieChart=new s("pie-chart",{fontCharacter:"\\ebe4"}),s.bracket=new s("bracket",s.json.definition),s.bracketDot=new s("bracket-dot",{fontCharacter:"\\ebe5"}),s.bracketError=new s("bracket-error",{fontCharacter:"\\ebe6"}),s.lockSmall=new s("lock-small",{fontCharacter:"\\ebe7"}),s.azureDevops=new s("azure-devops",{fontCharacter:"\\ebe8"}),s.verifiedFilled=new s("verified-filled",{fontCharacter:"\\ebe9"})}(k||(k={}))},6626:function(Yt,Ue,c){"use strict";c.d(Ue,{E:function(){return Y},r:function(){return Q}});const g=Object.prototype.hasOwnProperty;function Y(O,y){for(let J in O)if(g.call(O,J)&&y({key:J,value:O[J]},function(){delete O[J]})===!1)return}class Q{constructor(){this.map=new Map}add(y,J){let k=this.map.get(y);k||(k=new Set,this.map.set(y,k)),k.add(J)}delete(y,J){const k=this.map.get(y);k&&(k.delete(J),k.size===0&&this.map.delete(y))}forEach(y,J){const k=this.map.get(y);k&&k.forEach(J)}}},41264:function(Yt,Ue,c){"use strict";c.d(Ue,{Il:function(){return y},VS:function(){return Y},tx:function(){return O}});function g(J,k){const P=Math.pow(10,k);return Math.round(J*P)/P}class Y{constructor(k,P,s,I=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,k))|0,this.g=Math.min(255,Math.max(0,P))|0,this.b=Math.min(255,Math.max(0,s))|0,this.a=g(Math.max(Math.min(1,I),0),3)}static equals(k,P){return k.r===P.r&&k.g===P.g&&k.b===P.b&&k.a===P.a}}class Q{constructor(k,P,s,I){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,k),0)|0,this.s=g(Math.max(Math.min(1,P),0),3),this.l=g(Math.max(Math.min(1,s),0),3),this.a=g(Math.max(Math.min(1,I),0),3)}static equals(k,P){return k.h===P.h&&k.s===P.s&&k.l===P.l&&k.a===P.a}static fromRGBA(k){const P=k.r/255,s=k.g/255,I=k.b/255,m=k.a,C=Math.max(P,s,I),V=Math.min(P,s,I);let r=0,x=0;const w=(V+C)/2,D=C-V;if(D>0){switch(x=Math.min(w<=.5?D/(2*w):D/(2-2*w),1),C){case P:r=(s-I)/D+(s<I?6:0);break;case s:r=(I-P)/D+2;break;case I:r=(P-s)/D+4;break}r*=60,r=Math.round(r)}return new Q(r,x,w,m)}static _hue2rgb(k,P,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?k+(P-k)*6*s:s<1/2?P:s<2/3?k+(P-k)*(2/3-s)*6:k}static toRGBA(k){const P=k.h/360,{s,l:I,a:m}=k;let C,V,r;if(s===0)C=V=r=I;else{const x=I<.5?I*(1+s):I+s-I*s,w=2*I-x;C=Q._hue2rgb(w,x,P+1/3),V=Q._hue2rgb(w,x,P),r=Q._hue2rgb(w,x,P-1/3)}return new Y(Math.round(C*255),Math.round(V*255),Math.round(r*255),m)}}class O{constructor(k,P,s,I){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,k),0)|0,this.s=g(Math.max(Math.min(1,P),0),3),this.v=g(Math.max(Math.min(1,s),0),3),this.a=g(Math.max(Math.min(1,I),0),3)}static equals(k,P){return k.h===P.h&&k.s===P.s&&k.v===P.v&&k.a===P.a}static fromRGBA(k){const P=k.r/255,s=k.g/255,I=k.b/255,m=Math.max(P,s,I),C=Math.min(P,s,I),V=m-C,r=m===0?0:V/m;let x;return V===0?x=0:m===P?x=((s-I)/V%6+6)%6:m===s?x=(I-P)/V+2:x=(P-s)/V+4,new O(Math.round(x*60),r,m,k.a)}static toRGBA(k){const{h:P,s,v:I,a:m}=k,C=I*s,V=C*(1-Math.abs(P/60%2-1)),r=I-C;let[x,w,D]=[0,0,0];return P<60?(x=C,w=V):P<120?(x=V,w=C):P<180?(w=C,D=V):P<240?(w=V,D=C):P<300?(x=V,D=C):P<=360&&(x=C,D=V),x=Math.round((x+r)*255),w=Math.round((w+r)*255),D=Math.round((D+r)*255),new Y(x,w,D,m)}}class y{constructor(k){if(k)if(k instanceof Y)this.rgba=k;else if(k instanceof Q)this._hsla=k,this.rgba=Q.toRGBA(k);else if(k instanceof O)this._hsva=k,this.rgba=O.toRGBA(k);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(k){return y.Format.CSS.parseHex(k)||y.red}get hsla(){return this._hsla?this._hsla:Q.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:O.fromRGBA(this.rgba)}equals(k){return!!k&&Y.equals(this.rgba,k.rgba)&&Q.equals(this.hsla,k.hsla)&&O.equals(this.hsva,k.hsva)}getRelativeLuminance(){const k=y._relativeLuminanceForComponent(this.rgba.r),P=y._relativeLuminanceForComponent(this.rgba.g),s=y._relativeLuminanceForComponent(this.rgba.b),I=.2126*k+.7152*P+.0722*s;return g(I,4)}static _relativeLuminanceForComponent(k){const P=k/255;return P<=.03928?P/12.92:Math.pow((P+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(k){const P=this.getRelativeLuminance(),s=k.getRelativeLuminance();return P>s}isDarkerThan(k){const P=this.getRelativeLuminance(),s=k.getRelativeLuminance();return P<s}lighten(k){return new y(new Q(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*k,this.hsla.a))}darken(k){return new y(new Q(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*k,this.hsla.a))}transparent(k){const{r:P,g:s,b:I,a:m}=this.rgba;return new y(new Y(P,s,I,m*k))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new y(new Y(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=y.Format.CSS.format(this)),this._toString}static getLighterColor(k,P,s){if(k.isLighterThan(P))return k;s=s||.5;const I=k.getRelativeLuminance(),m=P.getRelativeLuminance();return s=s*(m-I)/m,k.lighten(s)}static getDarkerColor(k,P,s){if(k.isDarkerThan(P))return k;s=s||.5;const I=k.getRelativeLuminance(),m=P.getRelativeLuminance();return s=s*(I-m)/I,k.darken(s)}}y.white=new y(new Y(255,255,255,1)),y.black=new y(new Y(0,0,0,1)),y.red=new y(new Y(255,0,0,1)),y.blue=new y(new Y(0,0,255,1)),y.cyan=new y(new Y(0,255,255,1)),y.lightgrey=new y(new Y(211,211,211,1)),y.transparent=new y(new Y(0,0,0,0)),function(J){let k;(function(P){let s;(function(I){function m(h){return h.rgba.a===1?`rgb(${h.rgba.r}, ${h.rgba.g}, ${h.rgba.b})`:J.Format.CSS.formatRGBA(h)}I.formatRGB=m;function C(h){return`rgba(${h.rgba.r}, ${h.rgba.g}, ${h.rgba.b}, ${+h.rgba.a.toFixed(2)})`}I.formatRGBA=C;function V(h){return h.hsla.a===1?`hsl(${h.hsla.h}, ${(h.hsla.s*100).toFixed(2)}%, ${(h.hsla.l*100).toFixed(2)}%)`:J.Format.CSS.formatHSLA(h)}I.formatHSL=V;function r(h){return`hsla(${h.hsla.h}, ${(h.hsla.s*100).toFixed(2)}%, ${(h.hsla.l*100).toFixed(2)}%, ${h.hsla.a.toFixed(2)})`}I.formatHSLA=r;function x(h){const R=h.toString(16);return R.length!==2?"0"+R:R}function w(h){return`#${x(h.rgba.r)}${x(h.rgba.g)}${x(h.rgba.b)}`}I.formatHex=w;function D(h,R=!1){return R&&h.rgba.a===1?J.Format.CSS.formatHex(h):`#${x(h.rgba.r)}${x(h.rgba.g)}${x(h.rgba.b)}${x(Math.round(h.rgba.a*255))}`}I.formatHexA=D;function f(h){return h.isOpaque()?J.Format.CSS.formatHex(h):J.Format.CSS.formatRGBA(h)}I.format=f;function v(h){const R=h.length;if(R===0||h.charCodeAt(0)!==35)return null;if(R===7){const T=16*L(h.charCodeAt(1))+L(h.charCodeAt(2)),W=16*L(h.charCodeAt(3))+L(h.charCodeAt(4)),K=16*L(h.charCodeAt(5))+L(h.charCodeAt(6));return new J(new Y(T,W,K,1))}if(R===9){const T=16*L(h.charCodeAt(1))+L(h.charCodeAt(2)),W=16*L(h.charCodeAt(3))+L(h.charCodeAt(4)),K=16*L(h.charCodeAt(5))+L(h.charCodeAt(6)),ie=16*L(h.charCodeAt(7))+L(h.charCodeAt(8));return new J(new Y(T,W,K,ie/255))}if(R===4){const T=L(h.charCodeAt(1)),W=L(h.charCodeAt(2)),K=L(h.charCodeAt(3));return new J(new Y(16*T+T,16*W+W,16*K+K))}if(R===5){const T=L(h.charCodeAt(1)),W=L(h.charCodeAt(2)),K=L(h.charCodeAt(3)),ie=L(h.charCodeAt(4));return new J(new Y(16*T+T,16*W+W,16*K+K,(16*ie+ie)/255))}return null}I.parseHex=v;function L(h){switch(h){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(s=P.CSS||(P.CSS={}))})(k=J.Format||(J.Format={}))}(y||(y={}))},49898:function(Yt,Ue,c){"use strict";c.d(Ue,{H:function(){return g}});function g(Y,Q,O){let y=null,J=null;if(typeof O.value=="function"?(y="value",J=O.value,J.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof O.get=="function"&&(y="get",J=O.get),!J)throw new Error("not supported");const k=`$memoize$${Q}`;O[y]=function(...P){return this.hasOwnProperty(k)||Object.defineProperty(this,k,{configurable:!1,enumerable:!1,writable:!1,value:J.apply(this,P)}),this[k]}}},22571:function(Yt,Ue,c){"use strict";c.d(Ue,{Hs:function(){return P},a$:function(){return O}});class g{constructor(I,m,C,V){this.originalStart=I,this.originalLength=m,this.modifiedStart=C,this.modifiedLength=V}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var Y=c(89954);class Q{constructor(I){this.source=I}getElements(){const I=this.source,m=new Int32Array(I.length);for(let C=0,V=I.length;C<V;C++)m[C]=I.charCodeAt(C);return m}}function O(s,I,m){return new P(new Q(s),new Q(I)).ComputeDiff(m).changes}class y{static Assert(I,m){if(!I)throw new Error(m)}}class J{static Copy(I,m,C,V,r){for(let x=0;x<r;x++)C[V+x]=I[m+x]}static Copy2(I,m,C,V,r){for(let x=0;x<r;x++)C[V+x]=I[m+x]}}class k{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new g(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(I,m){this.m_originalStart=Math.min(this.m_originalStart,I),this.m_modifiedStart=Math.min(this.m_modifiedStart,m),this.m_originalCount++}AddModifiedElement(I,m){this.m_originalStart=Math.min(this.m_originalStart,I),this.m_modifiedStart=Math.min(this.m_modifiedStart,m),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class P{constructor(I,m,C=null){this.ContinueProcessingPredicate=C,this._originalSequence=I,this._modifiedSequence=m;const[V,r,x]=P._getElements(I),[w,D,f]=P._getElements(m);this._hasStrings=x&&f,this._originalStringElements=V,this._originalElementsOrHash=r,this._modifiedStringElements=w,this._modifiedElementsOrHash=D,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(I){return I.length>0&&typeof I[0]=="string"}static _getElements(I){const m=I.getElements();if(P._isStringArray(m)){const C=new Int32Array(m.length);for(let V=0,r=m.length;V<r;V++)C[V]=(0,Y.Cv)(m[V],0);return[m,C,!0]}return m instanceof Int32Array?[[],m,!1]:[[],new Int32Array(m),!1]}ElementsAreEqual(I,m){return this._originalElementsOrHash[I]!==this._modifiedElementsOrHash[m]?!1:this._hasStrings?this._originalStringElements[I]===this._modifiedStringElements[m]:!0}ElementsAreStrictEqual(I,m){if(!this.ElementsAreEqual(I,m))return!1;const C=P._getStrictElement(this._originalSequence,I),V=P._getStrictElement(this._modifiedSequence,m);return C===V}static _getStrictElement(I,m){return typeof I.getStrictElement=="function"?I.getStrictElement(m):null}OriginalElementsAreEqual(I,m){return this._originalElementsOrHash[I]!==this._originalElementsOrHash[m]?!1:this._hasStrings?this._originalStringElements[I]===this._originalStringElements[m]:!0}ModifiedElementsAreEqual(I,m){return this._modifiedElementsOrHash[I]!==this._modifiedElementsOrHash[m]?!1:this._hasStrings?this._modifiedStringElements[I]===this._modifiedStringElements[m]:!0}ComputeDiff(I){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,I)}_ComputeDiff(I,m,C,V,r){const x=[!1];let w=this.ComputeDiffRecursive(I,m,C,V,x);return r&&(w=this.PrettifyChanges(w)),{quitEarly:x[0],changes:w}}ComputeDiffRecursive(I,m,C,V,r){for(r[0]=!1;I<=m&&C<=V&&this.ElementsAreEqual(I,C);)I++,C++;for(;m>=I&&V>=C&&this.ElementsAreEqual(m,V);)m--,V--;if(I>m||C>V){let L;return C<=V?(y.Assert(I===m+1,"originalStart should only be one more than originalEnd"),L=[new g(I,0,C,V-C+1)]):I<=m?(y.Assert(C===V+1,"modifiedStart should only be one more than modifiedEnd"),L=[new g(I,m-I+1,C,0)]):(y.Assert(I===m+1,"originalStart should only be one more than originalEnd"),y.Assert(C===V+1,"modifiedStart should only be one more than modifiedEnd"),L=[]),L}const x=[0],w=[0],D=this.ComputeRecursionPoint(I,m,C,V,x,w,r),f=x[0],v=w[0];if(D!==null)return D;if(!r[0]){const L=this.ComputeDiffRecursive(I,f,C,v,r);let h=[];return r[0]?h=[new g(f+1,m-(f+1)+1,v+1,V-(v+1)+1)]:h=this.ComputeDiffRecursive(f+1,m,v+1,V,r),this.ConcatenateChanges(L,h)}return[new g(I,m-I+1,C,V-C+1)]}WALKTRACE(I,m,C,V,r,x,w,D,f,v,L,h,R,T,W,K,ie,ce){let _e=null,ve=null,De=new k,le=m,Z=C,$=R[0]-K[0]-V,G=-1073741824,q=this.m_forwardHistory.length-1;do{const p=$+I;p===le||p<Z&&f[p-1]<f[p+1]?(L=f[p+1],T=L-$-V,L<G&&De.MarkNextChange(),G=L,De.AddModifiedElement(L+1,T),$=p+1-I):(L=f[p-1]+1,T=L-$-V,L<G&&De.MarkNextChange(),G=L-1,De.AddOriginalElement(L,T+1),$=p-1-I),q>=0&&(f=this.m_forwardHistory[q],I=f[0],le=1,Z=f.length-1)}while(--q>=-1);if(_e=De.getReverseChanges(),ce[0]){let p=R[0]+1,S=K[0]+1;if(_e!==null&&_e.length>0){const B=_e[_e.length-1];p=Math.max(p,B.getOriginalEnd()),S=Math.max(S,B.getModifiedEnd())}ve=[new g(p,h-p+1,S,W-S+1)]}else{De=new k,le=x,Z=w,$=R[0]-K[0]-D,G=1073741824,q=ie?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const p=$+r;p===le||p<Z&&v[p-1]>=v[p+1]?(L=v[p+1]-1,T=L-$-D,L>G&&De.MarkNextChange(),G=L+1,De.AddOriginalElement(L+1,T+1),$=p+1-r):(L=v[p-1],T=L-$-D,L>G&&De.MarkNextChange(),G=L,De.AddModifiedElement(L+1,T+1),$=p-1-r),q>=0&&(v=this.m_reverseHistory[q],r=v[0],le=1,Z=v.length-1)}while(--q>=-1);ve=De.getChanges()}return this.ConcatenateChanges(_e,ve)}ComputeRecursionPoint(I,m,C,V,r,x,w){let D=0,f=0,v=0,L=0,h=0,R=0;I--,C--,r[0]=0,x[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const T=m-I+(V-C),W=T+1,K=new Int32Array(W),ie=new Int32Array(W),ce=V-C,_e=m-I,ve=I-C,De=m-V,Z=(_e-ce)%2===0;K[ce]=I,ie[_e]=m,w[0]=!1;for(let $=1;$<=T/2+1;$++){let G=0,q=0;v=this.ClipDiagonalBound(ce-$,$,ce,W),L=this.ClipDiagonalBound(ce+$,$,ce,W);for(let S=v;S<=L;S+=2){S===v||S<L&&K[S-1]<K[S+1]?D=K[S+1]:D=K[S-1]+1,f=D-(S-ce)-ve;const B=D;for(;D<m&&f<V&&this.ElementsAreEqual(D+1,f+1);)D++,f++;if(K[S]=D,D+f>G+q&&(G=D,q=f),!Z&&Math.abs(S-_e)<=$-1&&D>=ie[S])return r[0]=D,x[0]=f,B<=ie[S]&&$<=1448?this.WALKTRACE(ce,v,L,ve,_e,h,R,De,K,ie,D,m,r,f,V,x,Z,w):null}const p=(G-I+(q-C)-$)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(G,p))return w[0]=!0,r[0]=G,x[0]=q,p>0&&$<=1448?this.WALKTRACE(ce,v,L,ve,_e,h,R,De,K,ie,D,m,r,f,V,x,Z,w):(I++,C++,[new g(I,m-I+1,C,V-C+1)]);h=this.ClipDiagonalBound(_e-$,$,_e,W),R=this.ClipDiagonalBound(_e+$,$,_e,W);for(let S=h;S<=R;S+=2){S===h||S<R&&ie[S-1]>=ie[S+1]?D=ie[S+1]-1:D=ie[S-1],f=D-(S-_e)-De;const B=D;for(;D>I&&f>C&&this.ElementsAreEqual(D,f);)D--,f--;if(ie[S]=D,Z&&Math.abs(S-ce)<=$&&D<=K[S])return r[0]=D,x[0]=f,B>=K[S]&&$<=1448?this.WALKTRACE(ce,v,L,ve,_e,h,R,De,K,ie,D,m,r,f,V,x,Z,w):null}if($<=1447){let S=new Int32Array(L-v+2);S[0]=ce-v+1,J.Copy2(K,v,S,1,L-v+1),this.m_forwardHistory.push(S),S=new Int32Array(R-h+2),S[0]=_e-h+1,J.Copy2(ie,h,S,1,R-h+1),this.m_reverseHistory.push(S)}}return this.WALKTRACE(ce,v,L,ve,_e,h,R,De,K,ie,D,m,r,f,V,x,Z,w)}PrettifyChanges(I){for(let m=0;m<I.length;m++){const C=I[m],V=m<I.length-1?I[m+1].originalStart:this._originalElementsOrHash.length,r=m<I.length-1?I[m+1].modifiedStart:this._modifiedElementsOrHash.length,x=C.originalLength>0,w=C.modifiedLength>0;for(;C.originalStart+C.originalLength<V&&C.modifiedStart+C.modifiedLength<r&&(!x||this.OriginalElementsAreEqual(C.originalStart,C.originalStart+C.originalLength))&&(!w||this.ModifiedElementsAreEqual(C.modifiedStart,C.modifiedStart+C.modifiedLength));){const f=this.ElementsAreStrictEqual(C.originalStart,C.modifiedStart);if(this.ElementsAreStrictEqual(C.originalStart+C.originalLength,C.modifiedStart+C.modifiedLength)&&!f)break;C.originalStart++,C.modifiedStart++}let D=[null];if(m<I.length-1&&this.ChangesOverlap(I[m],I[m+1],D)){I[m]=D[0],I.splice(m+1,1),m--;continue}}for(let m=I.length-1;m>=0;m--){const C=I[m];let V=0,r=0;if(m>0){const L=I[m-1];V=L.originalStart+L.originalLength,r=L.modifiedStart+L.modifiedLength}const x=C.originalLength>0,w=C.modifiedLength>0;let D=0,f=this._boundaryScore(C.originalStart,C.originalLength,C.modifiedStart,C.modifiedLength);for(let L=1;;L++){const h=C.originalStart-L,R=C.modifiedStart-L;if(h<V||R<r||x&&!this.OriginalElementsAreEqual(h,h+C.originalLength)||w&&!this.ModifiedElementsAreEqual(R,R+C.modifiedLength))break;const W=(h===V&&R===r?5:0)+this._boundaryScore(h,C.originalLength,R,C.modifiedLength);W>f&&(f=W,D=L)}C.originalStart-=D,C.modifiedStart-=D;const v=[null];if(m>0&&this.ChangesOverlap(I[m-1],I[m],v)){I[m-1]=v[0],I.splice(m,1),m++;continue}}if(this._hasStrings)for(let m=1,C=I.length;m<C;m++){const V=I[m-1],r=I[m],x=r.originalStart-V.originalStart-V.originalLength,w=V.originalStart,D=r.originalStart+r.originalLength,f=D-w,v=V.modifiedStart,L=r.modifiedStart+r.modifiedLength,h=L-v;if(x<5&&f<20&&h<20){const R=this._findBetterContiguousSequence(w,f,v,h,x);if(R){const[T,W]=R;(T!==V.originalStart+V.originalLength||W!==V.modifiedStart+V.modifiedLength)&&(V.originalLength=T-V.originalStart,V.modifiedLength=W-V.modifiedStart,r.originalStart=T+x,r.modifiedStart=W+x,r.originalLength=D-r.originalStart,r.modifiedLength=L-r.modifiedStart)}}}return I}_findBetterContiguousSequence(I,m,C,V,r){if(m<r||V<r)return null;const x=I+m-r+1,w=C+V-r+1;let D=0,f=0,v=0;for(let L=I;L<x;L++)for(let h=C;h<w;h++){const R=this._contiguousSequenceScore(L,h,r);R>0&&R>D&&(D=R,f=L,v=h)}return D>0?[f,v]:null}_contiguousSequenceScore(I,m,C){let V=0;for(let r=0;r<C;r++){if(!this.ElementsAreEqual(I+r,m+r))return 0;V+=this._originalStringElements[I+r].length}return V}_OriginalIsBoundary(I){return I<=0||I>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[I])}_OriginalRegionIsBoundary(I,m){if(this._OriginalIsBoundary(I)||this._OriginalIsBoundary(I-1))return!0;if(m>0){const C=I+m;if(this._OriginalIsBoundary(C-1)||this._OriginalIsBoundary(C))return!0}return!1}_ModifiedIsBoundary(I){return I<=0||I>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[I])}_ModifiedRegionIsBoundary(I,m){if(this._ModifiedIsBoundary(I)||this._ModifiedIsBoundary(I-1))return!0;if(m>0){const C=I+m;if(this._ModifiedIsBoundary(C-1)||this._ModifiedIsBoundary(C))return!0}return!1}_boundaryScore(I,m,C,V){const r=this._OriginalRegionIsBoundary(I,m)?1:0,x=this._ModifiedRegionIsBoundary(C,V)?1:0;return r+x}ConcatenateChanges(I,m){let C=[];if(I.length===0||m.length===0)return m.length>0?m:I;if(this.ChangesOverlap(I[I.length-1],m[0],C)){const V=new Array(I.length+m.length-1);return J.Copy(I,0,V,0,I.length-1),V[I.length-1]=C[0],J.Copy(m,1,V,I.length,m.length-1),V}else{const V=new Array(I.length+m.length);return J.Copy(I,0,V,0,I.length),J.Copy(m,0,V,I.length,m.length),V}}ChangesOverlap(I,m,C){if(y.Assert(I.originalStart<=m.originalStart,"Left change is not less than or equal to right change"),y.Assert(I.modifiedStart<=m.modifiedStart,"Left change is not less than or equal to right change"),I.originalStart+I.originalLength>=m.originalStart||I.modifiedStart+I.modifiedLength>=m.modifiedStart){const V=I.originalStart;let r=I.originalLength;const x=I.modifiedStart;let w=I.modifiedLength;return I.originalStart+I.originalLength>=m.originalStart&&(r=m.originalStart+m.originalLength-I.originalStart),I.modifiedStart+I.modifiedLength>=m.modifiedStart&&(w=m.modifiedStart+m.modifiedLength-I.modifiedStart),C[0]=new g(V,r,x,w),!0}else return C[0]=null,!1}ClipDiagonalBound(I,m,C,V){if(I>=0&&I<V)return I;const r=C,x=V-C-1,w=m%2===0;if(I<0){const D=r%2===0;return w===D?0:1}else{const D=x%2===0;return w===D?V-1:V-2}}}},17301:function(Yt,Ue,c){"use strict";c.d(Ue,{B8:function(){return m},Cp:function(){return O},F0:function(){return P},L6:function(){return I},VV:function(){return k},b1:function(){return s},dL:function(){return Q},ri:function(){return y}});class g{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(V){setTimeout(()=>{throw V.stack?new Error(V.message+`

`+V.stack):V},0)}}emit(V){this.listeners.forEach(r=>{r(V)})}onUnexpectedError(V){this.unexpectedErrorHandler(V),this.emit(V)}onUnexpectedExternalError(V){this.unexpectedErrorHandler(V)}}const Y=new g;function Q(C){k(C)||Y.onUnexpectedError(C)}function O(C){k(C)||Y.onUnexpectedExternalError(C)}function y(C){if(C instanceof Error){let{name:V,message:r}=C;const x=C.stacktrace||C.stack;return{$isError:!0,name:V,message:r,stack:x}}return C}const J="Canceled";function k(C){return C instanceof Error&&C.name===J&&C.message===J}function P(){const C=new Error(J);return C.name=C.message,C}function s(C){return C?new Error(`Illegal argument: ${C}`):new Error("Illegal argument")}function I(C){return C?new Error(`Illegal state: ${C}`):new Error("Illegal state")}class m extends Error{constructor(V){super("NotSupported"),V&&(this.message=V)}}},4669:function(Yt,Ue,c){"use strict";c.d(Ue,{D0:function(){return m},E7:function(){return C},K3:function(){return I},Q5:function(){return s},ZD:function(){return V},ju:function(){return y}});var g=c(17301),Y=c(5976),Q=c(91741),O=c(84013),y;(function(r){r.None=()=>Y.JT.None;function x(Z){return($,G=null,q)=>{let p=!1,S;return S=Z(B=>{if(!p)return S?S.dispose():p=!0,$.call(G,B)},null,q),p&&S.dispose(),S}}r.once=x;function w(Z,$){return R((G,q=null,p)=>Z(S=>G.call(q,$(S)),null,p))}r.map=w;function D(Z,$){return R((G,q=null,p)=>Z(S=>{$(S),G.call(q,S)},null,p))}r.forEach=D;function f(Z,$){return R((G,q=null,p)=>Z(S=>$(S)&&G.call(q,S),null,p))}r.filter=f;function v(Z){return Z}r.signal=v;function L(...Z){return($,G=null,q)=>(0,Y.F8)(...Z.map(p=>p(S=>$.call(G,S),null,q)))}r.any=L;function h(Z,$,G){let q=G;return w(Z,p=>(q=$(q,p),q))}r.reduce=h;function R(Z){let $;const G=new s({onFirstListenerAdd(){$=Z(G.fire,G)},onLastListenerRemove(){$.dispose()}});return G.event}function T(Z,$,G=100,q=!1,p){let S,B,te,me=0;const de=new s({leakWarningThreshold:p,onFirstListenerAdd(){S=Z(Pe=>{me++,B=$(B,Pe),q&&!te&&(de.fire(B),B=void 0),clearTimeout(te),te=setTimeout(()=>{const Me=B;B=void 0,te=void 0,(!q||me>1)&&de.fire(Me),me=0},G)})},onLastListenerRemove(){S.dispose()}});return de.event}r.debounce=T;function W(Z,$=(G,q)=>G===q){let G=!0,q;return f(Z,p=>{const S=G||!$(p,q);return G=!1,q=p,S})}r.latch=W;function K(Z,$){return[r.filter(Z,$),r.filter(Z,G=>!$(G))]}r.split=K;function ie(Z,$=!1,G=[]){let q=G.slice(),p=Z(te=>{q?q.push(te):B.fire(te)});const S=()=>{q&&q.forEach(te=>B.fire(te)),q=null},B=new s({onFirstListenerAdd(){p||(p=Z(te=>B.fire(te)))},onFirstListenerDidAdd(){q&&($?setTimeout(S):S())},onLastListenerRemove(){p&&p.dispose(),p=null}});return B.event}r.buffer=ie;class ce{constructor($){this.event=$}map($){return new ce(w(this.event,$))}forEach($){return new ce(D(this.event,$))}filter($){return new ce(f(this.event,$))}reduce($,G){return new ce(h(this.event,$,G))}latch(){return new ce(W(this.event))}debounce($,G=100,q=!1,p){return new ce(T(this.event,$,G,q,p))}on($,G,q){return this.event($,G,q)}once($,G,q){return x(this.event)($,G,q)}}function _e(Z){return new ce(Z)}r.chain=_e;function ve(Z,$,G=q=>q){const q=(...te)=>B.fire(G(...te)),p=()=>Z.on($,q),S=()=>Z.removeListener($,q),B=new s({onFirstListenerAdd:p,onLastListenerRemove:S});return B.event}r.fromNodeEventEmitter=ve;function De(Z,$,G=q=>q){const q=(...te)=>B.fire(G(...te)),p=()=>Z.addEventListener($,q),S=()=>Z.removeEventListener($,q),B=new s({onFirstListenerAdd:p,onLastListenerRemove:S});return B.event}r.fromDOMEventEmitter=De;function le(Z){return new Promise($=>x(Z)($))}r.toPromise=le})(y||(y={}));class J{constructor(x){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${x}_${J._idPool++}`}start(x){this._stopWatch=new O.G(!0),this._listenerCount=x}stop(){if(this._stopWatch){const x=this._stopWatch.elapsed();this._elapsedOverall+=x,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${x.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}J._idPool=0;let k=-1;class P{constructor(x,w=Math.random().toString(18).slice(2,5)){this.customThreshold=x,this.name=w,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(x){let w=k;if(typeof this.customThreshold=="number"&&(w=this.customThreshold),w<=0||x<w)return;this._stacks||(this._stacks=new Map);const D=new Error().stack.split(`
`).slice(3).join(`
`),f=this._stacks.get(D)||0;if(this._stacks.set(D,f+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=w*.5;let v,L=0;for(const[h,R]of this._stacks)(!v||L<R)&&(v=h,L=R);console.warn(`[${this.name}] potential listener LEAK detected, having ${x} listeners already. MOST frequent listener (${L}):`),console.warn(v)}return()=>{const v=this._stacks.get(D)||0;this._stacks.set(D,v-1)}}}class s{constructor(x){var w;this._disposed=!1,this._options=x,this._leakageMon=k>0?new P(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=!((w=this._options)===null||w===void 0)&&w._profName?new J(this._options._profName):void 0}get event(){return this._event||(this._event=(x,w,D)=>{var f;this._listeners||(this._listeners=new Q.S);const v=this._listeners.isEmpty();v&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const L=this._listeners.push(w?[x,w]:x);v&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,x,w);const h=(f=this._leakageMon)===null||f===void 0?void 0:f.check(this._listeners.size),R=(0,Y.OF)(()=>{h&&h(),this._disposed||(L(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return D instanceof Y.SL?D.add(R):Array.isArray(D)&&D.push(R),R}),this._event}fire(x){var w,D;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new Q.S);for(let f of this._listeners)this._deliveryQueue.push([f,x]);for((w=this._perfMon)===null||w===void 0||w.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[f,v]=this._deliveryQueue.shift();try{typeof f=="function"?f.call(void 0,v):f[0].call(f[1],v)}catch(L){(0,g.dL)(L)}}(D=this._perfMon)===null||D===void 0||D.stop()}}dispose(){var x,w,D,f,v;this._disposed||(this._disposed=!0,(x=this._listeners)===null||x===void 0||x.clear(),(w=this._deliveryQueue)===null||w===void 0||w.clear(),(f=(D=this._options)===null||D===void 0?void 0:D.onLastListenerRemove)===null||f===void 0||f.call(D),(v=this._leakageMon)===null||v===void 0||v.dispose())}}class I extends s{constructor(x){super(x),this._isPaused=0,this._eventQueue=new Q.S,this._mergeFn=x==null?void 0:x.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){const x=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(x))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(x){this._listeners&&(this._isPaused!==0?this._eventQueue.push(x):super.fire(x))}}class m extends I{constructor(x){var w;super(x),this._delay=(w=x.delay)!==null&&w!==void 0?w:100}fire(x){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(x)}}class C{constructor(){this.buffers=[]}wrapEvent(x){return(w,D,f)=>x(v=>{const L=this.buffers[this.buffers.length-1];L?L.push(()=>w.call(D,v)):w.call(D,v)},void 0,f)}bufferEvents(x){const w=[];this.buffers.push(w);const D=x();return this.buffers.pop(),w.forEach(f=>f()),D}}class V{constructor(){this.listening=!1,this.inputEvent=y.None,this.inputEventListener=Y.JT.None,this.emitter=new s({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(x){this.inputEvent=x,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=x(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},15527:function(Yt,Ue,c){"use strict";c.d(Ue,{KM:function(){return J},fn:function(){return y},oP:function(){return s},vY:function(){return P}});var g=c(55336),Y=c(1432),Q=c(97295);function O(I){return I.replace(/[\\/]/g,g.KR.sep)}function y(I){return I.indexOf("/")===-1&&(I=O(I)),/^[a-zA-Z]:(\/|$)/.test(I)&&(I="/"+I),I}function J(I,m,C,V=g.ir){if(I===m)return!0;if(!I||!m||m.length>I.length)return!1;if(C){if(!(0,Q.ok)(I,m))return!1;if(m.length===I.length)return!0;let x=m.length;return m.charAt(m.length-1)===V&&x--,I.charAt(x)===V}return m.charAt(m.length-1)!==V&&(m+=V),I.indexOf(m)===0}function k(I){return I>=65&&I<=90||I>=97&&I<=122}function P(I){const m=(0,g.Fv)(I);return Y.ED?I.length>3?!1:s(m)&&(I.length===2||m.charCodeAt(2)===92):m===g.KR.sep}function s(I){return Y.ED?k(I.charCodeAt(0))&&I.charCodeAt(1)===58:!1}},75392:function(Yt,Ue,c){"use strict";c.d(Ue,{CL:function(){return kt},EW:function(){return ze},Ji:function(){return O},Oh:function(){return le},jB:function(){return Z},l7:function(){return et},mB:function(){return $}});var g=c(43702),Y=c(97295);function Q(...Ne){return function(Oe,we){for(let Ye=0,st=Ne.length;Ye<st;Ye++){const Pt=Ne[Ye](Oe,we);if(Pt)return Pt}return null}}const O=y.bind(void 0,!0);function y(Ne,Oe,we){if(!we||we.length<Oe.length)return null;let Ye;return Ne?Ye=Y.ok(we,Oe):Ye=we.indexOf(Oe)===0,Ye?Oe.length>0?[{start:0,end:Oe.length}]:[]:null}function J(Ne,Oe){const we=Oe.toLowerCase().indexOf(Ne.toLowerCase());return we===-1?null:[{start:we,end:we+Ne.length}]}function k(Ne,Oe){return P(Ne.toLowerCase(),Oe.toLowerCase(),0,0)}function P(Ne,Oe,we,Ye){if(we===Ne.length)return[];if(Ye===Oe.length)return null;if(Ne[we]===Oe[Ye]){let st=null;return(st=P(Ne,Oe,we+1,Ye+1))?D({start:Ye,end:Ye+1},st):null}return P(Ne,Oe,we,Ye+1)}function s(Ne){return 97<=Ne&&Ne<=122}function I(Ne){return 65<=Ne&&Ne<=90}function m(Ne){return 48<=Ne&&Ne<=57}function C(Ne){return Ne===32||Ne===9||Ne===10||Ne===13}const V=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(Ne=>V.add(Ne.charCodeAt(0)));function r(Ne){return C(Ne)||V.has(Ne)}function x(Ne,Oe){return Ne===Oe||r(Ne)&&r(Oe)}function w(Ne){return s(Ne)||I(Ne)||m(Ne)}function D(Ne,Oe){return Oe.length===0?Oe=[Ne]:Ne.end===Oe[0].start?Oe[0].start=Ne.start:Oe.unshift(Ne),Oe}function f(Ne,Oe){for(let we=Oe;we<Ne.length;we++){const Ye=Ne.charCodeAt(we);if(I(Ye)||m(Ye)||we>0&&!w(Ne.charCodeAt(we-1)))return we}return Ne.length}function v(Ne,Oe,we,Ye){if(we===Ne.length)return[];if(Ye===Oe.length)return null;if(Ne[we]!==Oe[Ye].toLowerCase())return null;{let st=null,Pt=Ye+1;for(st=v(Ne,Oe,we+1,Ye+1);!st&&(Pt=f(Oe,Pt))<Oe.length;)st=v(Ne,Oe,we+1,Pt),Pt++;return st===null?null:D({start:Ye,end:Ye+1},st)}}function L(Ne){let Oe=0,we=0,Ye=0,st=0,Pt=0;for(let Ai=0;Ai<Ne.length;Ai++)Pt=Ne.charCodeAt(Ai),I(Pt)&&Oe++,s(Pt)&&we++,w(Pt)&&Ye++,m(Pt)&&st++;const Qt=Oe/Ne.length,ci=we/Ne.length,Gt=Ye/Ne.length,Lt=st/Ne.length;return{upperPercent:Qt,lowerPercent:ci,alphaPercent:Gt,numericPercent:Lt}}function h(Ne){const{upperPercent:Oe,lowerPercent:we}=Ne;return we===0&&Oe>.6}function R(Ne){const{upperPercent:Oe,lowerPercent:we,alphaPercent:Ye,numericPercent:st}=Ne;return we>.2&&Oe<.8&&Ye>.6&&st<.2}function T(Ne){let Oe=0,we=0,Ye=0,st=0;for(let Pt=0;Pt<Ne.length;Pt++)Ye=Ne.charCodeAt(Pt),I(Ye)&&Oe++,s(Ye)&&we++,C(Ye)&&st++;return(Oe===0||we===0)&&st===0?Ne.length<=30:Oe<=5}function W(Ne,Oe){if(!Oe||(Oe=Oe.trim(),Oe.length===0)||!T(Ne)||Oe.length>60)return null;const we=L(Oe);if(!R(we)){if(!h(we))return null;Oe=Oe.toLowerCase()}let Ye=null,st=0;for(Ne=Ne.toLowerCase();st<Oe.length&&(Ye=v(Ne,Oe,0,st))===null;)st=f(Oe,st+1);return Ye}function K(Ne,Oe,we=!1){if(!Oe||Oe.length===0)return null;let Ye=null,st=0;for(Ne=Ne.toLowerCase(),Oe=Oe.toLowerCase();st<Oe.length&&(Ye=ie(Ne,Oe,0,st,we))===null;)st=ce(Oe,st+1);return Ye}function ie(Ne,Oe,we,Ye,st){if(we===Ne.length)return[];if(Ye===Oe.length)return null;if(x(Ne.charCodeAt(we),Oe.charCodeAt(Ye))){let Pt=null,Qt=Ye+1;if(Pt=ie(Ne,Oe,we+1,Ye+1,st),!st)for(;!Pt&&(Qt=ce(Oe,Qt))<Oe.length;)Pt=ie(Ne,Oe,we+1,Qt,st),Qt++;return Pt===null?null:D({start:Ye,end:Ye+1},Pt)}else return null}function ce(Ne,Oe){for(let we=Oe;we<Ne.length;we++)if(r(Ne.charCodeAt(we))||we>0&&r(Ne.charCodeAt(we-1)))return we;return Ne.length}const _e=Q(O,W,J),ve=Q(O,W,k),De=new g.z6(1e4);function le(Ne,Oe,we=!1){if(typeof Ne!="string"||typeof Oe!="string")return null;let Ye=De.get(Ne);Ye||(Ye=new RegExp(Y.un(Ne),"i"),De.set(Ne,Ye));const st=Ye.exec(Oe);return st?[{start:st.index,end:st.index+st[0].length}]:we?ve(Ne,Oe):_e(Ne,Oe)}function Z(Ne,Oe,we,Ye,st,Pt){const Qt=Math.min(13,Ne.length);for(;we<Qt;we++){const ci=ze(Ne,Oe,we,Ye,st,Pt,!1);if(ci)return ci}return[0,Pt]}function $(Ne){if(typeof Ne=="undefined")return[];const Oe=[],we=Ne[1];for(let Ye=Ne.length-1;Ye>1;Ye--){const st=Ne[Ye]+we,Pt=Oe[Oe.length-1];Pt&&Pt.end===st?Pt.end=st+1:Oe.push({start:st,end:st+1})}return Oe}const G=128;function q(){const Ne=[],Oe=[];for(let we=0;we<=G;we++)Oe[we]=0;for(let we=0;we<=G;we++)Ne.push(Oe.slice(0));return Ne}function p(Ne){const Oe=[];for(let we=0;we<=Ne;we++)Oe[we]=0;return Oe}const S=p(2*G),B=p(2*G),te=q(),me=q(),de=q(),Pe=!1;function Me(Ne,Oe,we,Ye,st){function Pt(ci,Gt,Lt=" "){for(;ci.length<Gt;)ci=Lt+ci;return ci}let Qt=` |   |${Ye.split("").map(ci=>Pt(ci,3)).join("|")}
`;for(let ci=0;ci<=we;ci++)ci===0?Qt+=" |":Qt+=`${Oe[ci-1]}|`,Qt+=Ne[ci].slice(0,st+1).map(Gt=>Pt(Gt.toString(),3)).join("|")+`
`;return Qt}function nt(Ne,Oe,we,Ye){Ne=Ne.substr(Oe),we=we.substr(Ye),console.log(Me(me,Ne,Ne.length,we,we.length)),console.log(Me(de,Ne,Ne.length,we,we.length)),console.log(Me(te,Ne,Ne.length,we,we.length))}function It(Ne,Oe){if(Oe<0||Oe>=Ne.length)return!1;const we=Ne.codePointAt(Oe);switch(we){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!Y.C8(we)}}function ht(Ne,Oe){if(Oe<0||Oe>=Ne.length)return!1;switch(Ne.charCodeAt(Oe)){case 32:case 9:return!0;default:return!1}}function Mt(Ne,Oe,we){return Oe[Ne]!==we[Ne]}function it(Ne,Oe,we,Ye,st,Pt,Qt=!1){for(;Oe<we&&st<Pt;)Ne[Oe]===Ye[st]&&(Qt&&(S[Oe]=st),Oe+=1),st+=1;return Oe===we}var kt;(function(Ne){Ne.Default=[-100,0];function Oe(we){return!we||we.length===2&&we[0]===-100&&we[1]===0}Ne.isDefault=Oe})(kt||(kt={}));function ze(Ne,Oe,we,Ye,st,Pt,Qt){const ci=Ne.length>G?G:Ne.length,Gt=Ye.length>G?G:Ye.length;if(we>=ci||Pt>=Gt||ci-we>Gt-Pt||!it(Oe,we,ci,st,Pt,Gt,!0))return;he(ci,Gt,we,Pt,Oe,st);let Lt=1,Ai=1,oi=we,$e=Pt;const Xe=[!1];for(Lt=1,oi=we;oi<ci;Lt++,oi++){const Ri=S[oi],ps=B[oi],Zn=oi+1<ci?B[oi+1]:Gt;for(Ai=Ri-Pt+1,$e=Ri;$e<Zn;Ai++,$e++){let Bn=Number.MIN_SAFE_INTEGER,Xi=!1;$e<=ps&&(Bn=ke(Ne,Oe,oi,we,Ye,st,$e,Gt,Pt,te[Lt-1][Ai-1]===0,Xe));let Vn=0;Bn!==Number.MAX_SAFE_INTEGER&&(Xi=!0,Vn=Bn+me[Lt-1][Ai-1]);const qi=$e>Ri,je=qi?me[Lt][Ai-1]+(te[Lt][Ai-1]>0?-5:0):0,Tt=$e>Ri+1&&te[Lt][Ai-1]>0,St=Tt?me[Lt][Ai-2]+(te[Lt][Ai-2]>0?-5:0):0;if(Tt&&(!qi||St>=je)&&(!Xi||St>=Vn))me[Lt][Ai]=St,de[Lt][Ai]=3,te[Lt][Ai]=0;else if(qi&&(!Xi||je>=Vn))me[Lt][Ai]=je,de[Lt][Ai]=2,te[Lt][Ai]=0;else if(Xi)me[Lt][Ai]=Vn,de[Lt][Ai]=1,te[Lt][Ai]=te[Lt-1][Ai-1]+1;else throw new Error("not possible")}}if(Pe&&nt(Ne,we,Ye,Pt),!Xe[0]&&!Qt)return;Lt--,Ai--;const wi=[me[Lt][Ai],Pt];let ii=0,Ui=0;for(;Lt>=1;){let Ri=Ai;do{const ps=de[Lt][Ri];if(ps===3)Ri=Ri-2;else if(ps===2)Ri=Ri-1;else break}while(Ri>=1);ii>1&&Oe[we+Lt-1]===st[Pt+Ai-1]&&!Mt(Ri+Pt-1,Ye,st)&&ii+1>te[Lt][Ri]&&(Ri=Ai),Ri===Ai?ii++:ii=1,Ui||(Ui=Ri),Lt--,Ai=Ri-1,wi.push(Ai)}Gt===ci&&(wi[0]+=2);const Mn=Ui-ci;return wi[0]-=Mn,wi}function he(Ne,Oe,we,Ye,st,Pt){let Qt=Ne-1,ci=Oe-1;for(;Qt>=we&&ci>=Ye;)st[Qt]===Pt[ci]&&(B[Qt]=ci,Qt--),ci--}function ke(Ne,Oe,we,Ye,st,Pt,Qt,ci,Gt,Lt,Ai){if(Oe[we]!==Pt[Qt])return Number.MIN_SAFE_INTEGER;let oi=1,$e=!1;return Qt===we-Ye?oi=Ne[we]===st[Qt]?7:5:Mt(Qt,st,Pt)&&(Qt===0||!Mt(Qt-1,st,Pt))?(oi=Ne[we]===st[Qt]?7:5,$e=!0):It(Pt,Qt)&&(Qt===0||!It(Pt,Qt-1))?oi=5:(It(Pt,Qt-1)||ht(Pt,Qt-1))&&(oi=5,$e=!0),oi>1&&we===Ye&&(Ai[0]=!0),$e||($e=Mt(Qt,st,Pt)||It(Pt,Qt-1)||ht(Pt,Qt-1)),we===Ye?Qt>Gt&&(oi-=$e?3:5):Lt?oi+=$e?2:0:oi+=$e?0:1,Qt+1===ci&&(oi-=$e?3:5),oi}function et(Ne,Oe,we,Ye,st,Pt,Qt){return at(Ne,Oe,we,Ye,st,Pt,!0,Qt)}function at(Ne,Oe,we,Ye,st,Pt,Qt,ci){let Gt=ze(Ne,Oe,we,Ye,st,Pt,ci);if(Gt&&!Qt)return Gt;if(Ne.length>=3){const Lt=Math.min(7,Ne.length-1);for(let Ai=we+1;Ai<Lt;Ai++){const oi=rt(Ne,Ai);if(oi){const $e=ze(oi,oi.toLowerCase(),we,Ye,st,Pt,ci);$e&&($e[0]-=3,(!Gt||$e[0]>Gt[0])&&(Gt=$e))}}}return Gt}function rt(Ne,Oe){if(Oe+1>=Ne.length)return;const we=Ne[Oe],Ye=Ne[Oe+1];if(we!==Ye)return Ne.slice(0,Oe)+Ye+we+Ne.slice(Oe+2)}},88289:function(Yt,Ue,c){"use strict";c.d(Ue,{I:function(){return g}});function g(Y){const Q=this;let O=!1,y;return function(){return O||(O=!0,y=Y.apply(Q,arguments)),y}}},14118:function(Yt,Ue,c){"use strict";c.d(Ue,{EQ:function(){return De},Qc:function(){return le}});var g=c(15393),Y=c(15527),Q=c(43702),O=c(55336),y=c(97295);const J="**",k="/",P="[/\\\\]",s="[^/\\\\]",I=/\//g;function m(p){switch(p){case 0:return"";case 1:return`${s}*?`;default:return`(?:${P}|${s}+${P}|${P}${s}+)*?`}}function C(p,S){if(!p)return[];const B=[];let te=!1,me=!1,de="";for(const Pe of p){switch(Pe){case S:if(!te&&!me){B.push(de),de="";continue}break;case"{":te=!0;break;case"}":te=!1;break;case"[":me=!0;break;case"]":me=!1;break}de+=Pe}return de&&B.push(de),B}function V(p){if(!p)return"";let S="";const B=C(p,k);if(B.every(te=>te===J))S=".*";else{let te=!1;B.forEach((me,de)=>{if(me===J){te||(S+=m(2),te=!0);return}let Pe=!1,Me="",nt=!1,It="";for(const ht of me){if(ht!=="}"&&Pe){Me+=ht;continue}if(nt&&(ht!=="]"||!It)){let Mt;ht==="-"?Mt=ht:(ht==="^"||ht==="!")&&!It?Mt="^":ht===k?Mt="":Mt=y.ec(ht),It+=Mt;continue}switch(ht){case"{":Pe=!0;continue;case"[":nt=!0;continue;case"}":const it=`(?:${C(Me,",").map(kt=>V(kt)).join("|")})`;S+=it,Pe=!1,Me="";break;case"]":S+="["+It+"]",nt=!1,It="";break;case"?":S+=s;continue;case"*":S+=m(1);continue;default:S+=y.ec(ht)}}de<B.length-1&&(B[de+1]!==J||de+2<B.length)&&(S+=P),te=!1})}return S}const r=/^\*\*\/\*\.[\w\.-]+$/,x=/^\*\*\/([\w\.-]+)\/?$/,w=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,D=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,f=/^\*\*((\/[\w\.-]+)+)\/?$/,v=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,L=new Q.z6(1e4),h=function(){return!1},R=function(){return null};function T(p,S){if(!p)return R;let B;typeof p!="string"?B=p.pattern:B=p,B=B.trim();const te=`${B}_${!!S.trimForExclusions}`;let me=L.get(te);if(me)return W(me,p);let de;if(r.test(B)){const Pe=B.substr(4);me=function(Me,nt){return typeof Me=="string"&&Me.endsWith(Pe)?B:null}}else(de=x.exec(K(B,S)))?me=ie(de[1],B):(S.trimForExclusions?D:w).test(B)?me=ce(B,S):(de=f.exec(K(B,S)))?me=_e(de[1].substr(1),B,!0):(de=v.exec(K(B,S)))?me=_e(de[1],B,!1):me=ve(B);return L.set(te,me),W(me,p)}function W(p,S){return typeof S=="string"?p:function(B,te){return Y.KM(B,S.base)?p(O.Gf(S.base,B),te):null}}function K(p,S){return S.trimForExclusions&&p.endsWith("/**")?p.substr(0,p.length-2):p}function ie(p,S){const B=`/${p}`,te=`\\${p}`,me=function(Pe,Me){return typeof Pe!="string"?null:Me?Me===p?S:null:Pe===p||Pe.endsWith(B)||Pe.endsWith(te)?S:null},de=[p];return me.basenames=de,me.patterns=[S],me.allBasenames=de,me}function ce(p,S){const B=q(p.slice(1,-1).split(",").map(Me=>T(Me,S)).filter(Me=>Me!==R),p),te=B.length;if(!te)return R;if(te===1)return B[0];const me=function(Me,nt){for(let It=0,ht=B.length;It<ht;It++)if(B[It](Me,nt))return p;return null},de=B.find(Me=>!!Me.allBasenames);de&&(me.allBasenames=de.allBasenames);const Pe=B.reduce((Me,nt)=>nt.allPaths?Me.concat(nt.allPaths):Me,[]);return Pe.length&&(me.allPaths=Pe),me}function _e(p,S,B){const te=O.ir===O.KR.sep,me=te?p:p.replace(I,O.ir),de=O.ir+me,Pe=O.KR.sep+p,Me=B?function(nt,It){return typeof nt=="string"&&(nt===me||nt.endsWith(de)||!te&&(nt===p||nt.endsWith(Pe)))?S:null}:function(nt,It){return typeof nt=="string"&&(nt===me||!te&&nt===p)?S:null};return Me.allPaths=[(B?"*/":"./")+p],Me}function ve(p){try{const S=new RegExp(`^${V(p)}$`);return function(B){return S.lastIndex=0,typeof B=="string"&&S.test(B)?p:null}}catch(S){return R}}function De(p,S,B){return!p||typeof S!="string"?!1:le(p)(S,void 0,B)}function le(p,S={}){if(!p)return h;if(typeof p=="string"||Z(p)){const B=T(p,S);if(B===R)return h;const te=function(me,de){return!!B(me,de)};return B.allBasenames&&(te.allBasenames=B.allBasenames),B.allPaths&&(te.allPaths=B.allPaths),te}return $(p,S)}function Z(p){const S=p;return S&&typeof S.base=="string"&&typeof S.pattern=="string"}function $(p,S){const B=q(Object.getOwnPropertyNames(p).map(Me=>G(Me,p[Me],S)).filter(Me=>Me!==R)),te=B.length;if(!te)return R;if(!B.some(Me=>!!Me.requiresSiblings)){if(te===1)return B[0];const Me=function(ht,Mt){for(let it=0,kt=B.length;it<kt;it++){const ze=B[it](ht,Mt);if(ze)return ze}return null},nt=B.find(ht=>!!ht.allBasenames);nt&&(Me.allBasenames=nt.allBasenames);const It=B.reduce((ht,Mt)=>Mt.allPaths?ht.concat(Mt.allPaths):ht,[]);return It.length&&(Me.allPaths=It),Me}const me=function(Me,nt,It){let ht;for(let Mt=0,it=B.length;Mt<it;Mt++){const kt=B[Mt];kt.requiresSiblings&&It&&(nt||(nt=O.EZ(Me)),ht||(ht=nt.substr(0,nt.length-O.DZ(Me).length)));const ze=kt(Me,nt,ht,It);if(ze)return ze}return null},de=B.find(Me=>!!Me.allBasenames);de&&(me.allBasenames=de.allBasenames);const Pe=B.reduce((Me,nt)=>nt.allPaths?Me.concat(nt.allPaths):Me,[]);return Pe.length&&(me.allPaths=Pe),me}function G(p,S,B){if(S===!1)return R;const te=T(p,B);if(te===R)return R;if(typeof S=="boolean")return te;if(S){const me=S.when;if(typeof me=="string"){const de=(Pe,Me,nt,It)=>{if(!It||!te(Pe,Me))return null;const ht=me.replace("$(basename)",nt),Mt=It(ht);return(0,g.J8)(Mt)?Mt.then(it=>it?p:null):Mt?p:null};return de.requiresSiblings=!0,de}}return te}function q(p,S){const B=p.filter(Me=>!!Me.basenames);if(B.length<2)return p;const te=B.reduce((Me,nt)=>{const It=nt.basenames;return It?Me.concat(It):Me},[]);let me;if(S){me=[];for(let Me=0,nt=te.length;Me<nt;Me++)me.push(S)}else me=B.reduce((Me,nt)=>{const It=nt.patterns;return It?Me.concat(It):Me},[]);const de=function(Me,nt){if(typeof Me!="string")return null;if(!nt){let ht;for(ht=Me.length;ht>0;ht--){const Mt=Me.charCodeAt(ht-1);if(Mt===47||Mt===92)break}nt=Me.substr(ht)}const It=te.indexOf(nt);return It!==-1?me[It]:null};de.basenames=te,de.patterns=me,de.allBasenames=te;const Pe=p.filter(Me=>!Me.basenames);return Pe.push(de),Pe}},89954:function(Yt,Ue,c){"use strict";c.d(Ue,{Cv:function(){return J},vp:function(){return Y},yP:function(){return V}});var g=c(97295);function Y(r){return Q(r,0)}function Q(r,x){switch(typeof r){case"object":return r===null?O(349,x):Array.isArray(r)?k(r,x):P(r,x);case"string":return J(r,x);case"boolean":return y(r,x);case"number":return O(r,x);case"undefined":return O(937,x);default:return O(617,x)}}function O(r,x){return(x<<5)-x+r|0}function y(r,x){return O(r?433:863,x)}function J(r,x){x=O(149417,x);for(let w=0,D=r.length;w<D;w++)x=O(r.charCodeAt(w),x);return x}function k(r,x){return x=O(104579,x),r.reduce((w,D)=>Q(D,w),x)}function P(r,x){return x=O(181387,x),Object.keys(r).sort().reduce((w,D)=>(w=J(D,w),Q(r[D],w)),x)}function s(r,x,w=32){const D=w-x,f=~((1<<D)-1);return(r<<x|(f&r)>>>D)>>>0}function I(r,x=0,w=r.byteLength,D=0){for(let f=0;f<w;f++)r[x+f]=D}function m(r,x,w="0"){for(;r.length<x;)r=w+r;return r}function C(r,x=32){return r instanceof ArrayBuffer?Array.from(new Uint8Array(r)).map(w=>w.toString(16).padStart(2,"0")).join(""):m((r>>>0).toString(16),x/4)}class V{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(x){const w=x.length;if(w===0)return;const D=this._buff;let f=this._buffLen,v=this._leftoverHighSurrogate,L,h;for(v!==0?(L=v,h=-1,v=0):(L=x.charCodeAt(0),h=0);;){let R=L;if(g.ZG(L))if(h+1<w){const T=x.charCodeAt(h+1);g.YK(T)?(h++,R=g.rL(L,T)):R=65533}else{v=L;break}else g.YK(L)&&(R=65533);if(f=this._push(D,f,R),h++,h<w)L=x.charCodeAt(h);else break}this._buffLen=f,this._leftoverHighSurrogate=v}_push(x,w,D){return D<128?x[w++]=D:D<2048?(x[w++]=192|(D&1984)>>>6,x[w++]=128|(D&63)>>>0):D<65536?(x[w++]=224|(D&61440)>>>12,x[w++]=128|(D&4032)>>>6,x[w++]=128|(D&63)>>>0):(x[w++]=240|(D&1835008)>>>18,x[w++]=128|(D&258048)>>>12,x[w++]=128|(D&4032)>>>6,x[w++]=128|(D&63)>>>0),w>=64&&(this._step(),w-=64,this._totalLen+=64,x[0]=x[64],x[1]=x[65],x[2]=x[66]),w}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),C(this._h0)+C(this._h1)+C(this._h2)+C(this._h3)+C(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,I(this._buff,this._buffLen),this._buffLen>56&&(this._step(),I(this._buff));const x=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(x/4294967296),!1),this._buffDV.setUint32(60,x%4294967296,!1),this._step()}_step(){const x=V._bigBlock32,w=this._buffDV;for(let K=0;K<64;K+=4)x.setUint32(K,w.getUint32(K,!1),!1);for(let K=64;K<320;K+=4)x.setUint32(K,s(x.getUint32(K-12,!1)^x.getUint32(K-32,!1)^x.getUint32(K-56,!1)^x.getUint32(K-64,!1),1),!1);let D=this._h0,f=this._h1,v=this._h2,L=this._h3,h=this._h4,R,T,W;for(let K=0;K<80;K++)K<20?(R=f&v|~f&L,T=1518500249):K<40?(R=f^v^L,T=1859775393):K<60?(R=f&v|f&L|v&L,T=2400959708):(R=f^v^L,T=3395469782),W=s(D,5)+R+h+T+x.getUint32(K*4,!1)&4294967295,h=L,L=v,v=s(f,30),f=D,D=W;this._h0=this._h0+D&4294967295,this._h1=this._h1+f&4294967295,this._h2=this._h2+v&4294967295,this._h3=this._h3+L&4294967295,this._h4=this._h4+h&4294967295}}V._bigBlock32=new DataView(new ArrayBuffer(320))},59365:function(Yt,Ue,c){"use strict";c.d(Ue,{CP:function(){return O},Fr:function(){return y},W5:function(){return Q},oR:function(){return k},v1:function(){return P}});var g=c(17301),Y=c(21212);class Q{constructor(I="",m=!1){var C,V,r;if(this.value=I,typeof this.value!="string")throw(0,g.b1)("value");typeof m=="boolean"?(this.isTrusted=m,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(C=m.isTrusted)!==null&&C!==void 0?C:void 0,this.supportThemeIcons=(V=m.supportThemeIcons)!==null&&V!==void 0?V:!1,this.supportHtml=(r=m.supportHtml)!==null&&r!==void 0?r:!1)}appendText(I,m=0){return this.value+=J(this.supportThemeIcons?(0,Y.Qo)(I):I).replace(/([ \t]+)/g,(C,V)=>"&nbsp;".repeat(V.length)).replace(/\>/gm,"\\>").replace(/\n/g,m===1?`\\
`:`

`),this}appendMarkdown(I){return this.value+=I,this}appendCodeblock(I,m){return this.value+="\n```",this.value+=I,this.value+=`
`,this.value+=m,this.value+="\n```\n",this}}function O(s){return y(s)?!s.value:Array.isArray(s)?s.every(O):!0}function y(s){return s instanceof Q?!0:s&&typeof s=="object"?typeof s.value=="string"&&(typeof s.isTrusted=="boolean"||s.isTrusted===void 0)&&(typeof s.supportThemeIcons=="boolean"||s.supportThemeIcons===void 0):!1}function J(s){return s.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}function k(s){return s&&s.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function P(s){const I=[],m=s.split("|").map(V=>V.trim());s=m[0];const C=m[1];if(C){const V=/height=(\d+)/.exec(C),r=/width=(\d+)/.exec(C),x=V?V[1]:"",w=r?r[1]:"",D=isFinite(parseInt(w)),f=isFinite(parseInt(x));D&&I.push(`width="${w}"`),f&&I.push(`height="${x}"`)}return{href:s,dimensions:I}}},21212:function(Yt,Ue,c){"use strict";c.d(Ue,{Gt:function(){return r},Ho:function(){return C},Qo:function(){return k},f$:function(){return s},x$:function(){return m}});var g=c(73046),Y=c(75392),Q=c(97295);const O="$(",y=new RegExp(`\\$\\(${g.dT.iconNameExpression}(?:${g.dT.iconModifierExpression})?\\)`,"g"),J=new RegExp(`(\\\\)?${y.source}`,"g");function k(x){return x.replace(J,(w,D)=>D?w:`\\${w}`)}const P=new RegExp(`\\\\${y.source}`,"g");function s(x){return x.replace(P,w=>`\\${w}`)}const I=new RegExp(`(\\s)?(\\\\)?${y.source}(\\s)?`,"g");function m(x){return x.indexOf(O)===-1?x:x.replace(I,(w,D,f,v)=>f?w:D||v||"")}function C(x){const w=x.indexOf(O);return w===-1?{text:x}:V(x,w)}function V(x,w){const D=[];let f="";function v(ce){if(ce){f+=ce;for(const _e of ce)D.push(R)}}let L=-1,h="",R=0,T,W,K=w;const ie=x.length;for(v(x.substr(0,w));K<ie;){if(T=x[K],W=x[K+1],T===O[0]&&W===O[1])L=K,v(h),h=O,K++;else if(T===")"&&L!==-1){const ce=K-L+1;R+=ce,L=-1,h=""}else L!==-1?/^[a-z0-9\-]$/i.test(T)?h+=T:(v(h),L=-1,h=""):v(T);K++}return v(h),{text:f,iconOffsets:D}}function r(x,w,D=!1){const{text:f,iconOffsets:v}=w;if(!v||v.length===0)return(0,Y.Oh)(x,f,D);const L=(0,Q.j3)(f," "),h=f.length-L.length,R=(0,Y.Oh)(x,L,D);if(R)for(const T of R){const W=v[T.start+h]+h;T.start+=W,T.end+=W}return R}},44742:function(Yt,Ue,c){"use strict";c.d(Ue,{R:function(){return g},a:function(){return Y}});class g{constructor(O){this._prefix=O,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const Y=new g("id#")},56899:function(Yt,Ue,c){"use strict";c.d(Ue,{$:function(){return g}});var g;(function(Y){function Q(L){return L&&typeof L=="object"&&typeof L[Symbol.iterator]=="function"}Y.is=Q;const O=Object.freeze([]);function y(){return O}Y.empty=y;function*J(L){yield L}Y.single=J;function k(L){return L||O}Y.from=k;function P(L){return!L||L[Symbol.iterator]().next().done===!0}Y.isEmpty=P;function s(L){return L[Symbol.iterator]().next().value}Y.first=s;function I(L,h){for(const R of L)if(h(R))return!0;return!1}Y.some=I;function m(L,h){for(const R of L)if(h(R))return R}Y.find=m;function*C(L,h){for(const R of L)h(R)&&(yield R)}Y.filter=C;function*V(L,h){let R=0;for(const T of L)yield h(T,R++)}Y.map=V;function*r(...L){for(const h of L)for(const R of h)yield R}Y.concat=r;function*x(L){for(const h of L)for(const R of h)yield R}Y.concatNested=x;function w(L,h,R){let T=R;for(const W of L)T=h(T,W);return T}Y.reduce=w;function*D(L,h,R=L.length){for(h<0&&(h+=L.length),R<0?R+=L.length:R>L.length&&(R=L.length);h<R;h++)yield L[h]}Y.slice=D;function f(L,h=Number.POSITIVE_INFINITY){const R=[];if(h===0)return[R,L];const T=L[Symbol.iterator]();for(let W=0;W<h;W++){const K=T.next();if(K.done)return[R,Y.empty()];R.push(K.value)}return[R,{[Symbol.iterator](){return T}}]}Y.consume=f;function v(L,h,R=(T,W)=>T===W){const T=L[Symbol.iterator](),W=h[Symbol.iterator]();for(;;){const K=T.next(),ie=W.next();if(K.done!==ie.done)return!1;if(K.done)return!0;if(!R(K.value,ie.value))return!1}}Y.equals=v})(g||(g={}))},22258:function(Yt,Ue,c){"use strict";c.d(Ue,{H_:function(){return y},Vd:function(){return I},gx:function(){return V},kL:function(){return C}});class g{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(x,w){this._keyCodeToStr[x]=w,this._strToKeyCode[w.toLowerCase()]=x}keyCodeToStr(x){return this._keyCodeToStr[x]}strToKeyCode(x){return this._strToKeyCode[x.toLowerCase()]||0}}const Y=new g,Q=new g,O=new g,y=new Array(230),J={},k=[],P=Object.create(null),s=Object.create(null),I=[],m=[];for(let r=0;r<=193;r++)I[r]=-1;for(let r=0;r<=126;r++)m[r]=-1;(function(){const r="",x=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",r,r],[0,1,1,"Hyper",0,r,0,r,r,r],[0,1,2,"Super",0,r,0,r,r,r],[0,1,3,"Fn",0,r,0,r,r,r],[0,1,4,"FnLock",0,r,0,r,r,r],[0,1,5,"Suspend",0,r,0,r,r,r],[0,1,6,"Resume",0,r,0,r,r,r],[0,1,7,"Turbo",0,r,0,r,r,r],[0,1,8,"Sleep",0,r,0,"VK_SLEEP",r,r],[0,1,9,"WakeUp",0,r,0,r,r,r],[31,0,10,"KeyA",31,"A",65,"VK_A",r,r],[32,0,11,"KeyB",32,"B",66,"VK_B",r,r],[33,0,12,"KeyC",33,"C",67,"VK_C",r,r],[34,0,13,"KeyD",34,"D",68,"VK_D",r,r],[35,0,14,"KeyE",35,"E",69,"VK_E",r,r],[36,0,15,"KeyF",36,"F",70,"VK_F",r,r],[37,0,16,"KeyG",37,"G",71,"VK_G",r,r],[38,0,17,"KeyH",38,"H",72,"VK_H",r,r],[39,0,18,"KeyI",39,"I",73,"VK_I",r,r],[40,0,19,"KeyJ",40,"J",74,"VK_J",r,r],[41,0,20,"KeyK",41,"K",75,"VK_K",r,r],[42,0,21,"KeyL",42,"L",76,"VK_L",r,r],[43,0,22,"KeyM",43,"M",77,"VK_M",r,r],[44,0,23,"KeyN",44,"N",78,"VK_N",r,r],[45,0,24,"KeyO",45,"O",79,"VK_O",r,r],[46,0,25,"KeyP",46,"P",80,"VK_P",r,r],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",r,r],[48,0,27,"KeyR",48,"R",82,"VK_R",r,r],[49,0,28,"KeyS",49,"S",83,"VK_S",r,r],[50,0,29,"KeyT",50,"T",84,"VK_T",r,r],[51,0,30,"KeyU",51,"U",85,"VK_U",r,r],[52,0,31,"KeyV",52,"V",86,"VK_V",r,r],[53,0,32,"KeyW",53,"W",87,"VK_W",r,r],[54,0,33,"KeyX",54,"X",88,"VK_X",r,r],[55,0,34,"KeyY",55,"Y",89,"VK_Y",r,r],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",r,r],[22,0,36,"Digit1",22,"1",49,"VK_1",r,r],[23,0,37,"Digit2",23,"2",50,"VK_2",r,r],[24,0,38,"Digit3",24,"3",51,"VK_3",r,r],[25,0,39,"Digit4",25,"4",52,"VK_4",r,r],[26,0,40,"Digit5",26,"5",53,"VK_5",r,r],[27,0,41,"Digit6",27,"6",54,"VK_6",r,r],[28,0,42,"Digit7",28,"7",55,"VK_7",r,r],[29,0,43,"Digit8",29,"8",56,"VK_8",r,r],[30,0,44,"Digit9",30,"9",57,"VK_9",r,r],[21,0,45,"Digit0",21,"0",48,"VK_0",r,r],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",r,r],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",r,r],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",r,r],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",r,r],[10,1,50,"Space",10,"Space",32,"VK_SPACE",r,r],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,r,0,r,r,r],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",r,r],[59,1,64,"F1",59,"F1",112,"VK_F1",r,r],[60,1,65,"F2",60,"F2",113,"VK_F2",r,r],[61,1,66,"F3",61,"F3",114,"VK_F3",r,r],[62,1,67,"F4",62,"F4",115,"VK_F4",r,r],[63,1,68,"F5",63,"F5",116,"VK_F5",r,r],[64,1,69,"F6",64,"F6",117,"VK_F6",r,r],[65,1,70,"F7",65,"F7",118,"VK_F7",r,r],[66,1,71,"F8",66,"F8",119,"VK_F8",r,r],[67,1,72,"F9",67,"F9",120,"VK_F9",r,r],[68,1,73,"F10",68,"F10",121,"VK_F10",r,r],[69,1,74,"F11",69,"F11",122,"VK_F11",r,r],[70,1,75,"F12",70,"F12",123,"VK_F12",r,r],[0,1,76,"PrintScreen",0,r,0,r,r,r],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",r,r],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",r,r],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",r,r],[14,1,80,"Home",14,"Home",36,"VK_HOME",r,r],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",r,r],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",r,r],[13,1,83,"End",13,"End",35,"VK_END",r,r],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",r,r],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",r],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",r],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",r],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",r],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",r,r],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",r,r],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",r,r],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",r,r],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",r,r],[3,1,94,"NumpadEnter",3,r,0,r,r,r],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",r,r],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",r,r],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",r,r],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",r,r],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",r,r],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",r,r],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",r,r],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",r,r],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",r,r],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",r,r],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",r,r],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",r,r],[58,1,107,"ContextMenu",58,"ContextMenu",93,r,r,r],[0,1,108,"Power",0,r,0,r,r,r],[0,1,109,"NumpadEqual",0,r,0,r,r,r],[71,1,110,"F13",71,"F13",124,"VK_F13",r,r],[72,1,111,"F14",72,"F14",125,"VK_F14",r,r],[73,1,112,"F15",73,"F15",126,"VK_F15",r,r],[74,1,113,"F16",74,"F16",127,"VK_F16",r,r],[75,1,114,"F17",75,"F17",128,"VK_F17",r,r],[76,1,115,"F18",76,"F18",129,"VK_F18",r,r],[77,1,116,"F19",77,"F19",130,"VK_F19",r,r],[0,1,117,"F20",0,r,0,"VK_F20",r,r],[0,1,118,"F21",0,r,0,"VK_F21",r,r],[0,1,119,"F22",0,r,0,"VK_F22",r,r],[0,1,120,"F23",0,r,0,"VK_F23",r,r],[0,1,121,"F24",0,r,0,"VK_F24",r,r],[0,1,122,"Open",0,r,0,r,r,r],[0,1,123,"Help",0,r,0,r,r,r],[0,1,124,"Select",0,r,0,r,r,r],[0,1,125,"Again",0,r,0,r,r,r],[0,1,126,"Undo",0,r,0,r,r,r],[0,1,127,"Cut",0,r,0,r,r,r],[0,1,128,"Copy",0,r,0,r,r,r],[0,1,129,"Paste",0,r,0,r,r,r],[0,1,130,"Find",0,r,0,r,r,r],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",r,r],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",r,r],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",r,r],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",r,r],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",r,r],[0,1,136,"KanaMode",0,r,0,r,r,r],[0,0,137,"IntlYen",0,r,0,r,r,r],[0,1,138,"Convert",0,r,0,r,r,r],[0,1,139,"NonConvert",0,r,0,r,r,r],[0,1,140,"Lang1",0,r,0,r,r,r],[0,1,141,"Lang2",0,r,0,r,r,r],[0,1,142,"Lang3",0,r,0,r,r,r],[0,1,143,"Lang4",0,r,0,r,r,r],[0,1,144,"Lang5",0,r,0,r,r,r],[0,1,145,"Abort",0,r,0,r,r,r],[0,1,146,"Props",0,r,0,r,r,r],[0,1,147,"NumpadParenLeft",0,r,0,r,r,r],[0,1,148,"NumpadParenRight",0,r,0,r,r,r],[0,1,149,"NumpadBackspace",0,r,0,r,r,r],[0,1,150,"NumpadMemoryStore",0,r,0,r,r,r],[0,1,151,"NumpadMemoryRecall",0,r,0,r,r,r],[0,1,152,"NumpadMemoryClear",0,r,0,r,r,r],[0,1,153,"NumpadMemoryAdd",0,r,0,r,r,r],[0,1,154,"NumpadMemorySubtract",0,r,0,r,r,r],[0,1,155,"NumpadClear",0,r,0,r,r,r],[0,1,156,"NumpadClearEntry",0,r,0,r,r,r],[5,1,0,r,5,"Ctrl",17,"VK_CONTROL",r,r],[4,1,0,r,4,"Shift",16,"VK_SHIFT",r,r],[6,1,0,r,6,"Alt",18,"VK_MENU",r,r],[57,1,0,r,57,"Meta",0,"VK_COMMAND",r,r],[5,1,157,"ControlLeft",5,r,0,"VK_LCONTROL",r,r],[4,1,158,"ShiftLeft",4,r,0,"VK_LSHIFT",r,r],[6,1,159,"AltLeft",6,r,0,"VK_LMENU",r,r],[57,1,160,"MetaLeft",57,r,0,"VK_LWIN",r,r],[5,1,161,"ControlRight",5,r,0,"VK_RCONTROL",r,r],[4,1,162,"ShiftRight",4,r,0,"VK_RSHIFT",r,r],[6,1,163,"AltRight",6,r,0,"VK_RMENU",r,r],[57,1,164,"MetaRight",57,r,0,"VK_RWIN",r,r],[0,1,165,"BrightnessUp",0,r,0,r,r,r],[0,1,166,"BrightnessDown",0,r,0,r,r,r],[0,1,167,"MediaPlay",0,r,0,r,r,r],[0,1,168,"MediaRecord",0,r,0,r,r,r],[0,1,169,"MediaFastForward",0,r,0,r,r,r],[0,1,170,"MediaRewind",0,r,0,r,r,r],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",r,r],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",r,r],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",r,r],[0,1,174,"Eject",0,r,0,r,r,r],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",r,r],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",r,r],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",r,r],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",r,r],[0,1,179,"LaunchApp1",0,r,0,"VK_MEDIA_LAUNCH_APP1",r,r],[0,1,180,"SelectTask",0,r,0,r,r,r],[0,1,181,"LaunchScreenSaver",0,r,0,r,r,r],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",r,r],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",r,r],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",r,r],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",r,r],[0,1,186,"BrowserStop",0,r,0,"VK_BROWSER_STOP",r,r],[0,1,187,"BrowserRefresh",0,r,0,"VK_BROWSER_REFRESH",r,r],[0,1,188,"BrowserFavorites",0,r,0,"VK_BROWSER_FAVORITES",r,r],[0,1,189,"ZoomToggle",0,r,0,r,r,r],[0,1,190,"MailReply",0,r,0,r,r,r],[0,1,191,"MailForward",0,r,0,r,r,r],[0,1,192,"MailSend",0,r,0,r,r,r],[109,1,0,r,109,"KeyInComposition",229,r,r,r],[111,1,0,r,111,"ABNT_C2",194,"VK_ABNT_C2",r,r],[91,1,0,r,91,"OEM_8",223,"VK_OEM_8",r,r],[0,1,0,r,0,r,0,"VK_CLEAR",r,r],[0,1,0,r,0,r,0,"VK_KANA",r,r],[0,1,0,r,0,r,0,"VK_HANGUL",r,r],[0,1,0,r,0,r,0,"VK_JUNJA",r,r],[0,1,0,r,0,r,0,"VK_FINAL",r,r],[0,1,0,r,0,r,0,"VK_HANJA",r,r],[0,1,0,r,0,r,0,"VK_KANJI",r,r],[0,1,0,r,0,r,0,"VK_CONVERT",r,r],[0,1,0,r,0,r,0,"VK_NONCONVERT",r,r],[0,1,0,r,0,r,0,"VK_ACCEPT",r,r],[0,1,0,r,0,r,0,"VK_MODECHANGE",r,r],[0,1,0,r,0,r,0,"VK_SELECT",r,r],[0,1,0,r,0,r,0,"VK_PRINT",r,r],[0,1,0,r,0,r,0,"VK_EXECUTE",r,r],[0,1,0,r,0,r,0,"VK_SNAPSHOT",r,r],[0,1,0,r,0,r,0,"VK_HELP",r,r],[0,1,0,r,0,r,0,"VK_APPS",r,r],[0,1,0,r,0,r,0,"VK_PROCESSKEY",r,r],[0,1,0,r,0,r,0,"VK_PACKET",r,r],[0,1,0,r,0,r,0,"VK_DBE_SBCSCHAR",r,r],[0,1,0,r,0,r,0,"VK_DBE_DBCSCHAR",r,r],[0,1,0,r,0,r,0,"VK_ATTN",r,r],[0,1,0,r,0,r,0,"VK_CRSEL",r,r],[0,1,0,r,0,r,0,"VK_EXSEL",r,r],[0,1,0,r,0,r,0,"VK_EREOF",r,r],[0,1,0,r,0,r,0,"VK_PLAY",r,r],[0,1,0,r,0,r,0,"VK_ZOOM",r,r],[0,1,0,r,0,r,0,"VK_NONAME",r,r],[0,1,0,r,0,r,0,"VK_PA1",r,r],[0,1,0,r,0,r,0,"VK_OEM_CLEAR",r,r]];let w=[],D=[];for(const f of x){const[v,L,h,R,T,W,K,ie,ce,_e]=f;if(D[h]||(D[h]=!0,k[h]=R,P[R]=h,s[R.toLowerCase()]=h,L&&(I[h]=T,T!==0&&T!==3&&T!==5&&T!==4&&T!==6&&T!==57&&(m[T]=h))),!w[T]){if(w[T]=!0,!W)throw new Error(`String representation missing for key code ${T} around scan code ${R}`);Y.define(T,W),Q.define(T,ce||W),O.define(T,_e||ce||W)}K&&(y[K]=T),ie&&(J[ie]=T)}m[3]=46})();var C;(function(r){function x(h){return Y.keyCodeToStr(h)}r.toString=x;function w(h){return Y.strToKeyCode(h)}r.fromString=w;function D(h){return Q.keyCodeToStr(h)}r.toUserSettingsUS=D;function f(h){return O.keyCodeToStr(h)}r.toUserSettingsGeneral=f;function v(h){return Q.strToKeyCode(h)||O.strToKeyCode(h)}r.fromUserSettings=v;function L(h){if(h>=93&&h<=108)return null;switch(h){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return Y.keyCodeToStr(h)}r.toElectronAccelerator=L})(C||(C={}));function V(r,x){const w=(x&65535)<<16>>>0;return(r|w)>>>0}},8030:function(Yt,Ue,c){"use strict";c.d(Ue,{X4:function(){return O},jC:function(){return y},xo:function(){return Q}});var g=c(63580);class Y{constructor(P,s,I=s){this.modifierLabels=[null],this.modifierLabels[2]=P,this.modifierLabels[1]=s,this.modifierLabels[3]=I}toLabel(P,s,I){if(s.length===0)return null;const m=[];for(let C=0,V=s.length;C<V;C++){const r=s[C],x=I(r);if(x===null)return null;m[C]=J(r,x,this.modifierLabels[P])}return m.join(" ")}}const Q=new Y({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:g.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:g.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:g.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:g.N({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:g.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:g.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:g.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:g.N({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),O=new Y({ctrlKey:g.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:g.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:g.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:g.N({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:g.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:g.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:g.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:g.N({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:g.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:g.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:g.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:g.N({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),y=new Y({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function J(k,P,s){if(P===null)return"";const I=[];return k.ctrlKey&&I.push(s.ctrlKey),k.shiftKey&&I.push(s.shiftKey),k.altKey&&I.push(s.altKey),k.metaKey&&I.push(s.metaKey),P!==""&&I.push(P),I.join(s.separator)}},8313:function(Yt,Ue,c){"use strict";c.d(Ue,{BQ:function(){return k},QC:function(){return O},X_:function(){return y},f1:function(){return P},gm:function(){return Y}});var g=c(17301);function Y(s,I){if(s===0)return null;const m=(s&65535)>>>0,C=(s&4294901760)>>>16;return C!==0?new y([Q(m,I),Q(C,I)]):new y([Q(m,I)])}function Q(s,I){const m=!!(s&2048),C=!!(s&256),V=I===2?C:m,r=!!(s&1024),x=!!(s&512),w=I===2?m:C,D=s&255;return new O(V,r,x,w,D)}class O{constructor(I,m,C,V,r){this.ctrlKey=I,this.shiftKey=m,this.altKey=C,this.metaKey=V,this.keyCode=r}equals(I){return this.ctrlKey===I.ctrlKey&&this.shiftKey===I.shiftKey&&this.altKey===I.altKey&&this.metaKey===I.metaKey&&this.keyCode===I.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new y([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class y{constructor(I){if(I.length===0)throw(0,g.b1)("parts");this.parts=I}}class J{constructor(I,m,C,V,r){this.ctrlKey=I,this.shiftKey=m,this.altKey=C,this.metaKey=V,this.scanCode=r}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}class k{constructor(I,m,C,V,r,x){this.ctrlKey=I,this.shiftKey=m,this.altKey=C,this.metaKey=V,this.keyLabel=r,this.keyAriaLabel=x}}class P{}},68843:function(Yt,Ue,c){"use strict";c.d(Ue,{D:function(){return k},p:function(){return J}});var g=c(15527),Y=c(66663),Q=c(1432),O=c(95935),y=c(70666);function J(P){if(!P)return;typeof P=="string"&&(P=y.o.file(P));const s=(0,O.EZ)(P)||(P.scheme===Y.lg.file?P.fsPath:P.path);return Q.ED&&(0,g.vY)(s)?k(s):s}function k(P){return(0,g.oP)(P)?P.charAt(0).toUpperCase()+P.slice(1):P}},5976:function(Yt,Ue,c){"use strict";c.d(Ue,{B9:function(){return V},F8:function(){return r},JT:function(){return D},Jz:function(){return v},OF:function(){return x},SL:function(){return w},Wf:function(){return C},XK:function(){return f},dk:function(){return I}});var g=c(88289),Y=c(56899);const Q=!1;let O=null;function y(L){O=L}if(Q){const L="__is_disposable_tracked__";y(new class{trackDisposable(h){const R=new Error("Potentially leaked disposable").stack;setTimeout(()=>{h[L]||console.log(R)},3e3)}setParent(h,R){if(h&&h!==D.None)try{h[L]=!0}catch(T){}}markAsDisposed(h){if(h&&h!==D.None)try{h[L]=!0}catch(R){}}markAsSingleton(h){}})}function J(L){return O==null||O.trackDisposable(L),L}function k(L){O==null||O.markAsDisposed(L)}function P(L,h){O==null||O.setParent(L,h)}function s(L,h){if(O)for(const R of L)O.setParent(R,h)}function I(L){return O==null||O.markAsSingleton(L),L}class m extends Error{constructor(h){super(`Encountered errors while disposing of store. Errors: [${h.join(", ")}]`),this.errors=h}}function C(L){return typeof L.dispose=="function"&&L.dispose.length===0}function V(L){if(Y.$.is(L)){let h=[];for(const R of L)if(R)try{R.dispose()}catch(T){h.push(T)}if(h.length===1)throw h[0];if(h.length>1)throw new m(h);return Array.isArray(L)?[]:L}else if(L)return L.dispose(),L}function r(...L){const h=x(()=>V(L));return s(L,h),h}function x(L){const h=J({dispose:(0,g.I)(()=>{k(h),L()})});return h}class w{constructor(){this._toDispose=new Set,this._isDisposed=!1,J(this)}dispose(){this._isDisposed||(k(this),this._isDisposed=!0,this.clear())}clear(){try{V(this._toDispose.values())}finally{this._toDispose.clear()}}add(h){if(!h)return h;if(h===this)throw new Error("Cannot register a disposable on itself!");return P(h,this),this._isDisposed?w.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(h),h}}w.DISABLE_DISPOSED_WARNING=!1;class D{constructor(){this._store=new w,J(this),P(this._store,this)}dispose(){k(this),this._store.dispose()}_register(h){if(h===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(h)}}D.None=Object.freeze({dispose(){}});class f{constructor(){this._isDisposed=!1,J(this)}get value(){return this._isDisposed?void 0:this._value}set value(h){var R;this._isDisposed||h===this._value||((R=this._value)===null||R===void 0||R.dispose(),h&&P(h,this),this._value=h)}clear(){this.value=void 0}dispose(){var h;this._isDisposed=!0,k(this),(h=this._value)===null||h===void 0||h.dispose(),this._value=void 0}clearAndLeak(){const h=this._value;return this._value=void 0,h&&P(h,null),h}}class v{constructor(h){this.object=h}dispose(){}}},91741:function(Yt,Ue,c){"use strict";c.d(Ue,{S:function(){return Y}});class g{constructor(O){this.element=O,this.next=g.Undefined,this.prev=g.Undefined}}g.Undefined=new g(void 0);class Y{constructor(){this._first=g.Undefined,this._last=g.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===g.Undefined}clear(){let O=this._first;for(;O!==g.Undefined;){const y=O.next;O.prev=g.Undefined,O.next=g.Undefined,O=y}this._first=g.Undefined,this._last=g.Undefined,this._size=0}unshift(O){return this._insert(O,!1)}push(O){return this._insert(O,!0)}_insert(O,y){const J=new g(O);if(this._first===g.Undefined)this._first=J,this._last=J;else if(y){const P=this._last;this._last=J,J.prev=P,P.next=J}else{const P=this._first;this._first=J,J.next=P,P.prev=J}this._size+=1;let k=!1;return()=>{k||(k=!0,this._remove(J))}}shift(){if(this._first!==g.Undefined){const O=this._first.element;return this._remove(this._first),O}}pop(){if(this._last!==g.Undefined){const O=this._last.element;return this._remove(this._last),O}}_remove(O){if(O.prev!==g.Undefined&&O.next!==g.Undefined){const y=O.prev;y.next=O.next,O.next.prev=y}else O.prev===g.Undefined&&O.next===g.Undefined?(this._first=g.Undefined,this._last=g.Undefined):O.next===g.Undefined?(this._last=this._last.prev,this._last.next=g.Undefined):O.prev===g.Undefined&&(this._first=this._first.next,this._first.prev=g.Undefined);this._size-=1}*[Symbol.iterator](){let O=this._first;for(;O!==g.Undefined;)yield O.element,O=O.next}}},43702:function(Yt,Ue,c){"use strict";c.d(Ue,{Id:function(){return s},Y9:function(){return m},z6:function(){return V}});var g=c(97295),Y,Q;class O{constructor(){this._value="",this._pos=0}reset(x){return this._value=x,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(x){const w=x.charCodeAt(0),D=this._value.charCodeAt(this._pos);return w-D}value(){return this._value[this._pos]}}class y{constructor(x=!0){this._caseSensitive=x}reset(x){return this._value=x,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let x=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(x)this._from++;else break;else x=!1;return this}cmp(x){return this._caseSensitive?(0,g.TT)(x,this._value,0,x.length,this._from,this._to):(0,g.j_)(x,this._value,0,x.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class J{constructor(x=!0,w=!0){this._splitOnBackslash=x,this._caseSensitive=w}reset(x){return this._value=x.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let x=!0;for(;this._to<this._value.length;this._to++){const w=this._value.charCodeAt(this._to);if(w===47||this._splitOnBackslash&&w===92)if(x)this._from++;else break;else x=!1}return this}cmp(x){return this._caseSensitive?(0,g.TT)(x,this._value,0,x.length,this._from,this._to):(0,g.j_)(x,this._value,0,x.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class k{constructor(x){this._ignorePathCasing=x,this._states=[],this._stateIdx=0}reset(x){return this._value=x,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new J(!1,!this._ignorePathCasing(x)),this._pathIterator.reset(x.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(x){if(this._states[this._stateIdx]===1)return(0,g.zY)(x,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,g.zY)(x,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(x);if(this._states[this._stateIdx]===4)return(0,g.qu)(x,this._value.query);if(this._states[this._stateIdx]===5)return(0,g.qu)(x,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class P{constructor(){this.height=1}rotateLeft(){const x=this.right;return this.right=x.left,x.left=this,this.updateHeight(),x.updateHeight(),x}rotateRight(){const x=this.left;return this.left=x.right,x.right=this,this.updateHeight(),x.updateHeight(),x}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var x,w;return(w=(x=this.left)===null||x===void 0?void 0:x.height)!==null&&w!==void 0?w:0}get heightRight(){var x,w;return(w=(x=this.right)===null||x===void 0?void 0:x.height)!==null&&w!==void 0?w:0}}class s{constructor(x){this._iter=x}static forUris(x=()=>!1){return new s(new k(x))}static forStrings(){return new s(new O)}static forConfigKeys(){return new s(new y)}clear(){this._root=void 0}set(x,w){const D=this._iter.reset(x);let f;this._root||(this._root=new P,this._root.segment=D.value());const v=[];for(f=this._root;;){const h=D.cmp(f.segment);if(h>0)f.left||(f.left=new P,f.left.segment=D.value()),v.push([-1,f]),f=f.left;else if(h<0)f.right||(f.right=new P,f.right.segment=D.value()),v.push([1,f]),f=f.right;else if(D.hasNext())D.next(),f.mid||(f.mid=new P,f.mid.segment=D.value()),v.push([0,f]),f=f.mid;else break}const L=f.value;f.value=w,f.key=x;for(let h=v.length-1;h>=0;h--){const R=v[h][1];R.updateHeight();const T=R.balanceFactor();if(T<-1||T>1){const W=v[h][0],K=v[h+1][0];if(W===1&&K===1)v[h][1]=R.rotateLeft();else if(W===-1&&K===-1)v[h][1]=R.rotateRight();else if(W===1&&K===-1)R.right=v[h+1][1]=v[h+1][1].rotateRight(),v[h][1]=R.rotateLeft();else if(W===-1&&K===1)R.left=v[h+1][1]=v[h+1][1].rotateLeft(),v[h][1]=R.rotateRight();else throw new Error;if(h>0)switch(v[h-1][0]){case-1:v[h-1][1].left=v[h][1];break;case 1:v[h-1][1].right=v[h][1];break;case 0:v[h-1][1].mid=v[h][1];break}else this._root=v[0][1]}}return L}get(x){var w;return(w=this._getNode(x))===null||w===void 0?void 0:w.value}_getNode(x){const w=this._iter.reset(x);let D=this._root;for(;D;){const f=w.cmp(D.segment);if(f>0)D=D.left;else if(f<0)D=D.right;else if(w.hasNext())w.next(),D=D.mid;else break}return D}has(x){const w=this._getNode(x);return!((w==null?void 0:w.value)===void 0&&(w==null?void 0:w.mid)===void 0)}delete(x){return this._delete(x,!1)}deleteSuperstr(x){return this._delete(x,!0)}_delete(x,w){var D;const f=this._iter.reset(x),v=[];let L=this._root;for(;L;){const h=f.cmp(L.segment);if(h>0)v.push([-1,L]),L=L.left;else if(h<0)v.push([1,L]),L=L.right;else if(f.hasNext())f.next(),v.push([0,L]),L=L.mid;else break}if(L){if(w?(L.left=void 0,L.mid=void 0,L.right=void 0,L.height=1):(L.key=void 0,L.value=void 0),!L.mid&&!L.value)if(L.left&&L.right){const h=this._min(L.right),{key:R,value:T,segment:W}=h;this._delete(h.key,!1),L.key=R,L.value=T,L.segment=W}else{const h=(D=L.left)!==null&&D!==void 0?D:L.right;if(v.length>0){const[R,T]=v[v.length-1];switch(R){case-1:T.left=h;break;case 0:T.mid=h;break;case 1:T.right=h;break}}else this._root=h}for(let h=v.length-1;h>=0;h--){const R=v[h][1];R.updateHeight();const T=R.balanceFactor();if(T>1?(R.right.balanceFactor()>=0||(R.right=v[h+1][1]=v[h+1][1].rotateRight()),v[h][1]=R.rotateLeft()):T<-1&&(R.left.balanceFactor()<=0||(R.left=v[h+1][1]=v[h+1][1].rotateLeft()),v[h][1]=R.rotateRight()),h>0)switch(v[h-1][0]){case-1:v[h-1][1].left=v[h][1];break;case 1:v[h-1][1].right=v[h][1];break;case 0:v[h-1][1].mid=v[h][1];break}else this._root=v[0][1]}}}_min(x){for(;x.left;)x=x.left;return x}findSubstr(x){const w=this._iter.reset(x);let D=this._root,f;for(;D;){const v=w.cmp(D.segment);if(v>0)D=D.left;else if(v<0)D=D.right;else if(w.hasNext())w.next(),f=D.value||f,D=D.mid;else break}return D&&D.value||f}findSuperstr(x){const w=this._iter.reset(x);let D=this._root;for(;D;){const f=w.cmp(D.segment);if(f>0)D=D.left;else if(f<0)D=D.right;else if(w.hasNext())w.next(),D=D.mid;else return D.mid?this._entries(D.mid):void 0}}forEach(x){for(const[w,D]of this)x(D,w)}*[Symbol.iterator](){yield*il(this._entries(this._root))}*_entries(x){x&&(x.left&&(yield*il(this._entries(x.left))),x.value&&(yield[x.key,x.value]),x.mid&&(yield*il(this._entries(x.mid))),x.right&&(yield*il(this._entries(x.right))))}}class I{constructor(x,w){this.uri=x,this.value=w}}class m{constructor(x,w){this[Y]="ResourceMap",x instanceof m?(this.map=new Map(x.map),this.toKey=w!=null?w:m.defaultToKey):(this.map=new Map,this.toKey=x!=null?x:m.defaultToKey)}set(x,w){return this.map.set(this.toKey(x),new I(x,w)),this}get(x){var w;return(w=this.map.get(this.toKey(x)))===null||w===void 0?void 0:w.value}has(x){return this.map.has(this.toKey(x))}get size(){return this.map.size}clear(){this.map.clear()}delete(x){return this.map.delete(this.toKey(x))}forEach(x,w){typeof w!="undefined"&&(x=x.bind(w));for(let[D,f]of this.map)x(f.value,f.uri,this)}*values(){for(let x of this.map.values())yield x.value}*keys(){for(let x of this.map.values())yield x.uri}*entries(){for(let x of this.map.values())yield[x.uri,x.value]}*[(Y=Symbol.toStringTag,Symbol.iterator)](){for(let[,x]of this.map)yield[x.uri,x.value]}}m.defaultToKey=r=>r.toString();class C{constructor(){this[Q]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var x;return(x=this._head)===null||x===void 0?void 0:x.value}get last(){var x;return(x=this._tail)===null||x===void 0?void 0:x.value}has(x){return this._map.has(x)}get(x,w=0){const D=this._map.get(x);if(D)return w!==0&&this.touch(D,w),D.value}set(x,w,D=0){let f=this._map.get(x);if(f)f.value=w,D!==0&&this.touch(f,D);else{switch(f={key:x,value:w,next:void 0,previous:void 0},D){case 0:this.addItemLast(f);break;case 1:this.addItemFirst(f);break;case 2:this.addItemLast(f);break;default:this.addItemLast(f);break}this._map.set(x,f),this._size++}return this}delete(x){return!!this.remove(x)}remove(x){const w=this._map.get(x);if(w)return this._map.delete(x),this.removeItem(w),this._size--,w.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const x=this._head;return this._map.delete(x.key),this.removeItem(x),this._size--,x.value}forEach(x,w){const D=this._state;let f=this._head;for(;f;){if(w?x.bind(w)(f.value,f.key,this):x(f.value,f.key,this),this._state!==D)throw new Error("LinkedMap got modified during iteration.");f=f.next}}keys(){const x=this,w=this._state;let D=this._head;const f={[Symbol.iterator](){return f},next(){if(x._state!==w)throw new Error("LinkedMap got modified during iteration.");if(D){const v={value:D.key,done:!1};return D=D.next,v}else return{value:void 0,done:!0}}};return f}values(){const x=this,w=this._state;let D=this._head;const f={[Symbol.iterator](){return f},next(){if(x._state!==w)throw new Error("LinkedMap got modified during iteration.");if(D){const v={value:D.value,done:!1};return D=D.next,v}else return{value:void 0,done:!0}}};return f}entries(){const x=this,w=this._state;let D=this._head;const f={[Symbol.iterator](){return f},next(){if(x._state!==w)throw new Error("LinkedMap got modified during iteration.");if(D){const v={value:[D.key,D.value],done:!1};return D=D.next,v}else return{value:void 0,done:!0}}};return f}[(Q=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(x){if(x>=this.size)return;if(x===0){this.clear();return}let w=this._head,D=this.size;for(;w&&D>x;)this._map.delete(w.key),w=w.next,D--;this._head=w,this._size=D,w&&(w.previous=void 0),this._state++}addItemFirst(x){if(!this._head&&!this._tail)this._tail=x;else if(this._head)x.next=this._head,this._head.previous=x;else throw new Error("Invalid list");this._head=x,this._state++}addItemLast(x){if(!this._head&&!this._tail)this._head=x;else if(this._tail)x.previous=this._tail,this._tail.next=x;else throw new Error("Invalid list");this._tail=x,this._state++}removeItem(x){if(x===this._head&&x===this._tail)this._head=void 0,this._tail=void 0;else if(x===this._head){if(!x.next)throw new Error("Invalid list");x.next.previous=void 0,this._head=x.next}else if(x===this._tail){if(!x.previous)throw new Error("Invalid list");x.previous.next=void 0,this._tail=x.previous}else{const w=x.next,D=x.previous;if(!w||!D)throw new Error("Invalid list");w.previous=D,D.next=w}x.next=void 0,x.previous=void 0,this._state++}touch(x,w){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(w!==1&&w!==2)){if(w===1){if(x===this._head)return;const D=x.next,f=x.previous;x===this._tail?(f.next=void 0,this._tail=f):(D.previous=f,f.next=D),x.previous=void 0,x.next=this._head,this._head.previous=x,this._head=x,this._state++}else if(w===2){if(x===this._tail)return;const D=x.next,f=x.previous;x===this._head?(D.previous=void 0,this._head=D):(D.previous=f,f.next=D),x.next=void 0,x.previous=this._tail,this._tail.next=x,this._tail=x,this._state++}}}toJSON(){const x=[];return this.forEach((w,D)=>{x.push([D,w])}),x}fromJSON(x){this.clear();for(const[w,D]of x)this.set(w,D)}}class V extends C{constructor(x,w=1){super(),this._limit=x,this._ratio=Math.min(Math.max(0,w),1)}get limit(){return this._limit}set limit(x){this._limit=x,this.checkTrim()}get(x,w=2){return super.get(x,w)}peek(x){return super.get(x,0)}set(x,w){return super.set(x,w,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},33720:function(Yt,Ue,c){"use strict";c.d(Ue,{Qc:function(){return m},Th:function(){return y}}),Yt=c.hmd(Yt);let g;(function(){function C(V){g=V()}C.amd=!0,function(V,r){typeof exports=="object"?Yt.exports=r():typeof C=="function"&&C.amd?C(r):(V=typeof globalThis!="undefined"?globalThis:V||self,V.marked=r())}(this,function(){"use strict";function V(vt,mt){for(var Nt=0;Nt<mt.length;Nt++){var He=mt[Nt];He.enumerable=He.enumerable||!1,He.configurable=!0,"value"in He&&(He.writable=!0),Object.defineProperty(vt,He.key,He)}}function r(vt,mt,Nt){return mt&&V(vt.prototype,mt),Nt&&V(vt,Nt),vt}function x(vt,mt){if(vt){if(typeof vt=="string")return w(vt,mt);var Nt=Object.prototype.toString.call(vt).slice(8,-1);if(Nt==="Object"&&vt.constructor&&(Nt=vt.constructor.name),Nt==="Map"||Nt==="Set")return Array.from(vt);if(Nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Nt))return w(vt,mt)}}function w(vt,mt){(mt==null||mt>vt.length)&&(mt=vt.length);for(var Nt=0,He=new Array(mt);Nt<mt;Nt++)He[Nt]=vt[Nt];return He}function D(vt,mt){var Nt=typeof Symbol!="undefined"&&vt[Symbol.iterator]||vt["@@iterator"];if(Nt)return(Nt=Nt.call(vt)).next.bind(Nt);if(Array.isArray(vt)||(Nt=x(vt))||mt&&vt&&typeof vt.length=="number"){Nt&&(vt=Nt);var He=0;return function(){return He>=vt.length?{done:!0}:{done:!1,value:vt[He++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f={exports:{}};function v(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function L(vt){f.exports.defaults=vt}f.exports={defaults:v(),getDefaults:v,changeDefaults:L};var h=/[&<>"']/,R=/[&<>"']/g,T=/[<>"']|&(?!#?\w+;)/,W=/[<>"']|&(?!#?\w+;)/g,K={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ie=function(mt){return K[mt]};function ce(vt,mt){if(mt){if(h.test(vt))return vt.replace(R,ie)}else if(T.test(vt))return vt.replace(W,ie);return vt}var _e=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ve(vt){return vt.replace(_e,function(mt,Nt){return Nt=Nt.toLowerCase(),Nt==="colon"?":":Nt.charAt(0)==="#"?Nt.charAt(1)==="x"?String.fromCharCode(parseInt(Nt.substring(2),16)):String.fromCharCode(+Nt.substring(1)):""})}var De=/(^|[^\[])\^/g;function le(vt,mt){vt=vt.source||vt,mt=mt||"";var Nt={replace:function(Qe,ft){return ft=ft.source||ft,ft=ft.replace(De,"$1"),vt=vt.replace(Qe,ft),Nt},getRegex:function(){return new RegExp(vt,mt)}};return Nt}var Z=/[^\w:]/g,$=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function G(vt,mt,Nt){if(vt){var He;try{He=decodeURIComponent(ve(Nt)).replace(Z,"").toLowerCase()}catch(Qe){return null}if(He.indexOf("javascript:")===0||He.indexOf("vbscript:")===0||He.indexOf("data:")===0)return null}mt&&!$.test(Nt)&&(Nt=te(mt,Nt));try{Nt=encodeURI(Nt).replace(/%25/g,"%")}catch(Qe){return null}return Nt}var q={},p=/^[^:]+:\/*[^/]*$/,S=/^([^:]+:)[\s\S]*$/,B=/^([^:]+:\/*[^/]*)[\s\S]*$/;function te(vt,mt){q[" "+vt]||(p.test(vt)?q[" "+vt]=vt+"/":q[" "+vt]=Me(vt,"/",!0)),vt=q[" "+vt];var Nt=vt.indexOf(":")===-1;return mt.substring(0,2)==="//"?Nt?mt:vt.replace(S,"$1")+mt:mt.charAt(0)==="/"?Nt?mt:vt.replace(B,"$1")+mt:vt+mt}var me={exec:function(){}};function de(vt){for(var mt=1,Nt,He;mt<arguments.length;mt++){Nt=arguments[mt];for(He in Nt)Object.prototype.hasOwnProperty.call(Nt,He)&&(vt[He]=Nt[He])}return vt}function Pe(vt,mt){var Nt=vt.replace(/\|/g,function(ft,ct,ei){for(var Vi=!1,fi=ct;--fi>=0&&ei[fi]==="\\";)Vi=!Vi;return Vi?"|":" |"}),He=Nt.split(/ \|/),Qe=0;if(He[0].trim()||He.shift(),He[He.length-1].trim()||He.pop(),He.length>mt)He.splice(mt);else for(;He.length<mt;)He.push("");for(;Qe<He.length;Qe++)He[Qe]=He[Qe].trim().replace(/\\\|/g,"|");return He}function Me(vt,mt,Nt){var He=vt.length;if(He===0)return"";for(var Qe=0;Qe<He;){var ft=vt.charAt(He-Qe-1);if(ft===mt&&!Nt)Qe++;else if(ft!==mt&&Nt)Qe++;else break}return vt.substr(0,He-Qe)}function nt(vt,mt){if(vt.indexOf(mt[1])===-1)return-1;for(var Nt=vt.length,He=0,Qe=0;Qe<Nt;Qe++)if(vt[Qe]==="\\")Qe++;else if(vt[Qe]===mt[0])He++;else if(vt[Qe]===mt[1]&&(He--,He<0))return Qe;return-1}function It(vt){vt&&vt.sanitize&&!vt.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function ht(vt,mt){if(mt<1)return"";for(var Nt="";mt>1;)mt&1&&(Nt+=vt),mt>>=1,vt+=vt;return Nt+vt}var Mt={escape:ce,unescape:ve,edit:le,cleanUrl:G,resolveUrl:te,noopTest:me,merge:de,splitCells:Pe,rtrim:Me,findClosingBracket:nt,checkSanitizeDeprecation:It,repeatString:ht},it=f.exports.defaults,kt=Mt.rtrim,ze=Mt.splitCells,he=Mt.escape,ke=Mt.findClosingBracket;function et(vt,mt,Nt,He){var Qe=mt.href,ft=mt.title?he(mt.title):null,ct=vt[1].replace(/\\([\[\]])/g,"$1");if(vt[0].charAt(0)!=="!"){He.state.inLink=!0;var ei={type:"link",raw:Nt,href:Qe,title:ft,text:ct,tokens:He.inlineTokens(ct,[])};return He.state.inLink=!1,ei}else return{type:"image",raw:Nt,href:Qe,title:ft,text:he(ct)}}function at(vt,mt){var Nt=vt.match(/^(\s+)(?:```)/);if(Nt===null)return mt;var He=Nt[1];return mt.split(`
`).map(function(Qe){var ft=Qe.match(/^\s+/);if(ft===null)return Qe;var ct=ft[0];return ct.length>=He.length?Qe.slice(He.length):Qe}).join(`
`)}var rt=function(){function vt(Nt){this.options=Nt||it}var mt=vt.prototype;return mt.space=function(He){var Qe=this.rules.block.newline.exec(He);if(Qe)return Qe[0].length>1?{type:"space",raw:Qe[0]}:{raw:`
`}},mt.code=function(He){var Qe=this.rules.block.code.exec(He);if(Qe){var ft=Qe[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Qe[0],codeBlockStyle:"indented",text:this.options.pedantic?ft:kt(ft,`
`)}}},mt.fences=function(He){var Qe=this.rules.block.fences.exec(He);if(Qe){var ft=Qe[0],ct=at(ft,Qe[3]||"");return{type:"code",raw:ft,lang:Qe[2]?Qe[2].trim():Qe[2],text:ct}}},mt.heading=function(He){var Qe=this.rules.block.heading.exec(He);if(Qe){var ft=Qe[2].trim();if(/#$/.test(ft)){var ct=kt(ft,"#");(this.options.pedantic||!ct||/ $/.test(ct))&&(ft=ct.trim())}var ei={type:"heading",raw:Qe[0],depth:Qe[1].length,text:ft,tokens:[]};return this.lexer.inline(ei.text,ei.tokens),ei}},mt.hr=function(He){var Qe=this.rules.block.hr.exec(He);if(Qe)return{type:"hr",raw:Qe[0]}},mt.blockquote=function(He){var Qe=this.rules.block.blockquote.exec(He);if(Qe){var ft=Qe[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:Qe[0],tokens:this.lexer.blockTokens(ft,[]),text:ft}}},mt.list=function(He){var Qe=this.rules.block.list.exec(He);if(Qe){var ft,ct,ei,Vi,fi,Di,zi,dn,gn,Mi,pi=Qe[1].trim(),Cn=pi.length>1,En={type:"list",raw:"",ordered:Cn,start:Cn?+pi.slice(0,-1):"",loose:!1,items:[]};pi=Cn?"\\d{1,9}\\"+pi.slice(-1):"\\"+pi,this.options.pedantic&&(pi=Cn?pi:"[*+-]");for(var Yn=new RegExp("^( {0,3}"+pi+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");He&&!(this.rules.block.hr.test(He)||!(Qe=Yn.exec(He)));){gn=Qe[2].split(`
`),this.options.pedantic?(Vi=2,Mi=gn[0].trimLeft()):(Vi=Qe[2].search(/[^ ]/),Vi=Qe[1].length+(Vi>4?1:Vi),Mi=gn[0].slice(Vi-Qe[1].length)),Di=!1,ft=Qe[0],!gn[0]&&/^ *$/.test(gn[1])&&(ft=Qe[1]+gn.slice(0,2).join(`
`)+`
`,En.loose=!0,gn=[]);var vs=new RegExp("^ {0,"+Math.min(3,Vi-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(fi=1;fi<gn.length;fi++){if(dn=gn[fi],this.options.pedantic&&(dn=dn.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),vs.test(dn)){ft=Qe[1]+gn.slice(0,fi).join(`
`)+`
`;break}if(!Di){dn.trim()||(Di=!0),dn.search(/[^ ]/)>=Vi?Mi+=`
`+dn.slice(Vi):Mi+=`
`+dn;continue}if(dn.search(/[^ ]/)>=Vi||!dn.trim()){Mi+=`
`+dn.slice(Vi);continue}else{ft=Qe[1]+gn.slice(0,fi).join(`
`)+`
`;break}}En.loose||(zi?En.loose=!0:/\n *\n *$/.test(ft)&&(zi=!0)),this.options.gfm&&(ct=/^\[[ xX]\] /.exec(Mi),ct&&(ei=ct[0]!=="[ ] ",Mi=Mi.replace(/^\[[ xX]\] +/,""))),En.items.push({type:"list_item",raw:ft,task:!!ct,checked:ei,loose:!1,text:Mi}),En.raw+=ft,He=He.slice(ft.length)}En.items[En.items.length-1].raw=ft.trimRight(),En.items[En.items.length-1].text=Mi.trimRight(),En.raw=En.raw.trimRight();var ds=En.items.length;for(fi=0;fi<ds;fi++)this.lexer.state.top=!1,En.items[fi].tokens=this.lexer.blockTokens(En.items[fi].text,[]),En.items[fi].tokens.some(function(Is){return Is.type==="space"})&&(En.loose=!0,En.items[fi].loose=!0);return En}},mt.html=function(He){var Qe=this.rules.block.html.exec(He);if(Qe){var ft={type:"html",raw:Qe[0],pre:!this.options.sanitizer&&(Qe[1]==="pre"||Qe[1]==="script"||Qe[1]==="style"),text:Qe[0]};return this.options.sanitize&&(ft.type="paragraph",ft.text=this.options.sanitizer?this.options.sanitizer(Qe[0]):he(Qe[0]),ft.tokens=[],this.lexer.inline(ft.text,ft.tokens)),ft}},mt.def=function(He){var Qe=this.rules.block.def.exec(He);if(Qe){Qe[3]&&(Qe[3]=Qe[3].substring(1,Qe[3].length-1));var ft=Qe[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:ft,raw:Qe[0],href:Qe[2],title:Qe[3]}}},mt.table=function(He){var Qe=this.rules.block.table.exec(He);if(Qe){var ft={type:"table",header:ze(Qe[1]).map(function(zi){return{text:zi}}),align:Qe[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Qe[3]?Qe[3].replace(/\n$/,"").split(`
`):[]};if(ft.header.length===ft.align.length){ft.raw=Qe[0];var ct=ft.align.length,ei,Vi,fi,Di;for(ei=0;ei<ct;ei++)/^ *-+: *$/.test(ft.align[ei])?ft.align[ei]="right":/^ *:-+: *$/.test(ft.align[ei])?ft.align[ei]="center":/^ *:-+ *$/.test(ft.align[ei])?ft.align[ei]="left":ft.align[ei]=null;for(ct=ft.rows.length,ei=0;ei<ct;ei++)ft.rows[ei]=ze(ft.rows[ei],ft.header.length).map(function(zi){return{text:zi}});for(ct=ft.header.length,Vi=0;Vi<ct;Vi++)ft.header[Vi].tokens=[],this.lexer.inlineTokens(ft.header[Vi].text,ft.header[Vi].tokens);for(ct=ft.rows.length,Vi=0;Vi<ct;Vi++)for(Di=ft.rows[Vi],fi=0;fi<Di.length;fi++)Di[fi].tokens=[],this.lexer.inlineTokens(Di[fi].text,Di[fi].tokens);return ft}}},mt.lheading=function(He){var Qe=this.rules.block.lheading.exec(He);if(Qe){var ft={type:"heading",raw:Qe[0],depth:Qe[2].charAt(0)==="="?1:2,text:Qe[1],tokens:[]};return this.lexer.inline(ft.text,ft.tokens),ft}},mt.paragraph=function(He){var Qe=this.rules.block.paragraph.exec(He);if(Qe){var ft={type:"paragraph",raw:Qe[0],text:Qe[1].charAt(Qe[1].length-1)===`
`?Qe[1].slice(0,-1):Qe[1],tokens:[]};return this.lexer.inline(ft.text,ft.tokens),ft}},mt.text=function(He){var Qe=this.rules.block.text.exec(He);if(Qe){var ft={type:"text",raw:Qe[0],text:Qe[0],tokens:[]};return this.lexer.inline(ft.text,ft.tokens),ft}},mt.escape=function(He){var Qe=this.rules.inline.escape.exec(He);if(Qe)return{type:"escape",raw:Qe[0],text:he(Qe[1])}},mt.tag=function(He){var Qe=this.rules.inline.tag.exec(He);if(Qe)return!this.lexer.state.inLink&&/^<a /i.test(Qe[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Qe[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Qe[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Qe[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Qe[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Qe[0]):he(Qe[0]):Qe[0]}},mt.link=function(He){var Qe=this.rules.inline.link.exec(He);if(Qe){var ft=Qe[2].trim();if(!this.options.pedantic&&/^</.test(ft)){if(!/>$/.test(ft))return;var ct=kt(ft.slice(0,-1),"\\");if((ft.length-ct.length)%2===0)return}else{var ei=ke(Qe[2],"()");if(ei>-1){var Vi=Qe[0].indexOf("!")===0?5:4,fi=Vi+Qe[1].length+ei;Qe[2]=Qe[2].substring(0,ei),Qe[0]=Qe[0].substring(0,fi).trim(),Qe[3]=""}}var Di=Qe[2],zi="";if(this.options.pedantic){var dn=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Di);dn&&(Di=dn[1],zi=dn[3])}else zi=Qe[3]?Qe[3].slice(1,-1):"";return Di=Di.trim(),/^</.test(Di)&&(this.options.pedantic&&!/>$/.test(ft)?Di=Di.slice(1):Di=Di.slice(1,-1)),et(Qe,{href:Di&&Di.replace(this.rules.inline._escapes,"$1"),title:zi&&zi.replace(this.rules.inline._escapes,"$1")},Qe[0],this.lexer)}},mt.reflink=function(He,Qe){var ft;if((ft=this.rules.inline.reflink.exec(He))||(ft=this.rules.inline.nolink.exec(He))){var ct=(ft[2]||ft[1]).replace(/\s+/g," ");if(ct=Qe[ct.toLowerCase()],!ct||!ct.href){var ei=ft[0].charAt(0);return{type:"text",raw:ei,text:ei}}return et(ft,ct,ft[0],this.lexer)}},mt.emStrong=function(He,Qe,ft){ft===void 0&&(ft="");var ct=this.rules.inline.emStrong.lDelim.exec(He);if(ct&&!(ct[3]&&ft.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ei=ct[1]||ct[2]||"";if(!ei||ei&&(ft===""||this.rules.inline.punctuation.exec(ft))){var Vi=ct[0].length-1,fi,Di,zi=Vi,dn=0,gn=ct[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(gn.lastIndex=0,Qe=Qe.slice(-1*He.length+Vi);(ct=gn.exec(Qe))!=null;)if(fi=ct[1]||ct[2]||ct[3]||ct[4]||ct[5]||ct[6],!!fi){if(Di=fi.length,ct[3]||ct[4]){zi+=Di;continue}else if((ct[5]||ct[6])&&Vi%3&&!((Vi+Di)%3)){dn+=Di;continue}if(zi-=Di,!(zi>0)){if(Di=Math.min(Di,Di+zi+dn),Math.min(Vi,Di)%2){var Mi=He.slice(1,Vi+ct.index+Di);return{type:"em",raw:He.slice(0,Vi+ct.index+Di+1),text:Mi,tokens:this.lexer.inlineTokens(Mi,[])}}var pi=He.slice(2,Vi+ct.index+Di-1);return{type:"strong",raw:He.slice(0,Vi+ct.index+Di+1),text:pi,tokens:this.lexer.inlineTokens(pi,[])}}}}}},mt.codespan=function(He){var Qe=this.rules.inline.code.exec(He);if(Qe){var ft=Qe[2].replace(/\n/g," "),ct=/[^ ]/.test(ft),ei=/^ /.test(ft)&&/ $/.test(ft);return ct&&ei&&(ft=ft.substring(1,ft.length-1)),ft=he(ft,!0),{type:"codespan",raw:Qe[0],text:ft}}},mt.br=function(He){var Qe=this.rules.inline.br.exec(He);if(Qe)return{type:"br",raw:Qe[0]}},mt.del=function(He){var Qe=this.rules.inline.del.exec(He);if(Qe)return{type:"del",raw:Qe[0],text:Qe[2],tokens:this.lexer.inlineTokens(Qe[2],[])}},mt.autolink=function(He,Qe){var ft=this.rules.inline.autolink.exec(He);if(ft){var ct,ei;return ft[2]==="@"?(ct=he(this.options.mangle?Qe(ft[1]):ft[1]),ei="mailto:"+ct):(ct=he(ft[1]),ei=ct),{type:"link",raw:ft[0],text:ct,href:ei,tokens:[{type:"text",raw:ct,text:ct}]}}},mt.url=function(He,Qe){var ft;if(ft=this.rules.inline.url.exec(He)){var ct,ei;if(ft[2]==="@")ct=he(this.options.mangle?Qe(ft[0]):ft[0]),ei="mailto:"+ct;else{var Vi;do Vi=ft[0],ft[0]=this.rules.inline._backpedal.exec(ft[0])[0];while(Vi!==ft[0]);ct=he(ft[0]),ft[1]==="www."?ei="http://"+ct:ei=ct}return{type:"link",raw:ft[0],text:ct,href:ei,tokens:[{type:"text",raw:ct,text:ct}]}}},mt.inlineText=function(He,Qe){var ft=this.rules.inline.text.exec(He);if(ft){var ct;return this.lexer.state.inRawBlock?ct=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ft[0]):he(ft[0]):ft[0]:ct=he(this.options.smartypants?Qe(ft[0]):ft[0]),{type:"text",raw:ft[0],text:ct}}},vt}(),Ne=Mt.noopTest,Oe=Mt.edit,we=Mt.merge,Ye={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:Ne,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ye._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,Ye._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Ye.def=Oe(Ye.def).replace("label",Ye._label).replace("title",Ye._title).getRegex(),Ye.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ye.listItemStart=Oe(/^( *)(bull) */).replace("bull",Ye.bullet).getRegex(),Ye.list=Oe(Ye.list).replace(/bull/g,Ye.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ye.def.source+")").getRegex(),Ye._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ye._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ye.html=Oe(Ye.html,"i").replace("comment",Ye._comment).replace("tag",Ye._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ye.paragraph=Oe(Ye._paragraph).replace("hr",Ye.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ye._tag).getRegex(),Ye.blockquote=Oe(Ye.blockquote).replace("paragraph",Ye.paragraph).getRegex(),Ye.normal=we({},Ye),Ye.gfm=we({},Ye.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)\\|?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ye.gfm.table=Oe(Ye.gfm.table).replace("hr",Ye.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ye._tag).getRegex(),Ye.pedantic=we({},Ye.normal,{html:Oe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ye._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ne,paragraph:Oe(Ye.normal._paragraph).replace("hr",Ye.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ye.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var st={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ne,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ne,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};st._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",st.punctuation=Oe(st.punctuation).replace(/punctuation/g,st._punctuation).getRegex(),st.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,st.escapedEmSt=/\\\*|\\_/g,st._comment=Oe(Ye._comment).replace("(?:-->|$)","-->").getRegex(),st.emStrong.lDelim=Oe(st.emStrong.lDelim).replace(/punct/g,st._punctuation).getRegex(),st.emStrong.rDelimAst=Oe(st.emStrong.rDelimAst,"g").replace(/punct/g,st._punctuation).getRegex(),st.emStrong.rDelimUnd=Oe(st.emStrong.rDelimUnd,"g").replace(/punct/g,st._punctuation).getRegex(),st._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,st._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,st._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,st.autolink=Oe(st.autolink).replace("scheme",st._scheme).replace("email",st._email).getRegex(),st._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,st.tag=Oe(st.tag).replace("comment",st._comment).replace("attribute",st._attribute).getRegex(),st._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,st._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,st._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,st.link=Oe(st.link).replace("label",st._label).replace("href",st._href).replace("title",st._title).getRegex(),st.reflink=Oe(st.reflink).replace("label",st._label).getRegex(),st.reflinkSearch=Oe(st.reflinkSearch,"g").replace("reflink",st.reflink).replace("nolink",st.nolink).getRegex(),st.normal=we({},st),st.pedantic=we({},st.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Oe(/^!?\[(label)\]\((.*?)\)/).replace("label",st._label).getRegex(),reflink:Oe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",st._label).getRegex()}),st.gfm=we({},st.normal,{escape:Oe(st.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),st.gfm.url=Oe(st.gfm.url,"i").replace("email",st.gfm._extended_email).getRegex(),st.breaks=we({},st.gfm,{br:Oe(st.br).replace("{2,}","*").getRegex(),text:Oe(st.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Pt={block:Ye,inline:st},Qt=rt,ci=f.exports.defaults,Gt=Pt.block,Lt=Pt.inline,Ai=Mt.repeatString;function oi(vt){return vt.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function $e(vt){var mt="",Nt,He,Qe=vt.length;for(Nt=0;Nt<Qe;Nt++)He=vt.charCodeAt(Nt),Math.random()>.5&&(He="x"+He.toString(16)),mt+="&#"+He+";";return mt}var Xe=function(){function vt(Nt){this.tokens=[],this.tokens.links=Object.create(null),this.options=Nt||ci,this.options.tokenizer=this.options.tokenizer||new Qt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var He={block:Gt.normal,inline:Lt.normal};this.options.pedantic?(He.block=Gt.pedantic,He.inline=Lt.pedantic):this.options.gfm&&(He.block=Gt.gfm,this.options.breaks?He.inline=Lt.breaks:He.inline=Lt.gfm),this.tokenizer.rules=He}vt.lex=function(He,Qe){var ft=new vt(Qe);return ft.lex(He)},vt.lexInline=function(He,Qe){var ft=new vt(Qe);return ft.inlineTokens(He)};var mt=vt.prototype;return mt.lex=function(He){He=He.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(He,this.tokens);for(var Qe;Qe=this.inlineQueue.shift();)this.inlineTokens(Qe.src,Qe.tokens);return this.tokens},mt.blockTokens=function(He,Qe){var ft=this;Qe===void 0&&(Qe=[]),this.options.pedantic&&(He=He.replace(/^ +$/gm,""));for(var ct,ei,Vi,fi;He;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(zi){return(ct=zi.call({lexer:ft},He,Qe))?(He=He.substring(ct.raw.length),Qe.push(ct),!0):!1}))){if(ct=this.tokenizer.space(He)){He=He.substring(ct.raw.length),ct.type&&Qe.push(ct);continue}if(ct=this.tokenizer.code(He)){He=He.substring(ct.raw.length),ei=Qe[Qe.length-1],ei&&(ei.type==="paragraph"||ei.type==="text")?(ei.raw+=`
`+ct.raw,ei.text+=`
`+ct.text,this.inlineQueue[this.inlineQueue.length-1].src=ei.text):Qe.push(ct);continue}if(ct=this.tokenizer.fences(He)){He=He.substring(ct.raw.length),Qe.push(ct);continue}if(ct=this.tokenizer.heading(He)){He=He.substring(ct.raw.length),Qe.push(ct);continue}if(ct=this.tokenizer.hr(He)){He=He.substring(ct.raw.length),Qe.push(ct);continue}if(ct=this.tokenizer.blockquote(He)){He=He.substring(ct.raw.length),Qe.push(ct);continue}if(ct=this.tokenizer.list(He)){He=He.substring(ct.raw.length),Qe.push(ct);continue}if(ct=this.tokenizer.html(He)){He=He.substring(ct.raw.length),Qe.push(ct);continue}if(ct=this.tokenizer.def(He)){He=He.substring(ct.raw.length),ei=Qe[Qe.length-1],ei&&(ei.type==="paragraph"||ei.type==="text")?(ei.raw+=`
`+ct.raw,ei.text+=`
`+ct.raw,this.inlineQueue[this.inlineQueue.length-1].src=ei.text):this.tokens.links[ct.tag]||(this.tokens.links[ct.tag]={href:ct.href,title:ct.title});continue}if(ct=this.tokenizer.table(He)){He=He.substring(ct.raw.length),Qe.push(ct);continue}if(ct=this.tokenizer.lheading(He)){He=He.substring(ct.raw.length),Qe.push(ct);continue}if(Vi=He,this.options.extensions&&this.options.extensions.startBlock&&function(){var zi=1/0,dn=He.slice(1),gn=void 0;ft.options.extensions.startBlock.forEach(function(Mi){gn=Mi.call({lexer:this},dn),typeof gn=="number"&&gn>=0&&(zi=Math.min(zi,gn))}),zi<1/0&&zi>=0&&(Vi=He.substring(0,zi+1))}(),this.state.top&&(ct=this.tokenizer.paragraph(Vi))){ei=Qe[Qe.length-1],fi&&ei.type==="paragraph"?(ei.raw+=`
`+ct.raw,ei.text+=`
`+ct.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ei.text):Qe.push(ct),fi=Vi.length!==He.length,He=He.substring(ct.raw.length);continue}if(ct=this.tokenizer.text(He)){He=He.substring(ct.raw.length),ei=Qe[Qe.length-1],ei&&ei.type==="text"?(ei.raw+=`
`+ct.raw,ei.text+=`
`+ct.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ei.text):Qe.push(ct);continue}if(He){var Di="Infinite loop on byte: "+He.charCodeAt(0);if(this.options.silent){console.error(Di);break}else throw new Error(Di)}}return this.state.top=!0,Qe},mt.inline=function(He,Qe){this.inlineQueue.push({src:He,tokens:Qe})},mt.inlineTokens=function(He,Qe){var ft=this;Qe===void 0&&(Qe=[]);var ct,ei,Vi,fi=He,Di,zi,dn;if(this.tokens.links){var gn=Object.keys(this.tokens.links);if(gn.length>0)for(;(Di=this.tokenizer.rules.inline.reflinkSearch.exec(fi))!=null;)gn.includes(Di[0].slice(Di[0].lastIndexOf("[")+1,-1))&&(fi=fi.slice(0,Di.index)+"["+Ai("a",Di[0].length-2)+"]"+fi.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Di=this.tokenizer.rules.inline.blockSkip.exec(fi))!=null;)fi=fi.slice(0,Di.index)+"["+Ai("a",Di[0].length-2)+"]"+fi.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Di=this.tokenizer.rules.inline.escapedEmSt.exec(fi))!=null;)fi=fi.slice(0,Di.index)+"++"+fi.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;He;)if(zi||(dn=""),zi=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(pi){return(ct=pi.call({lexer:ft},He,Qe))?(He=He.substring(ct.raw.length),Qe.push(ct),!0):!1}))){if(ct=this.tokenizer.escape(He)){He=He.substring(ct.raw.length),Qe.push(ct);continue}if(ct=this.tokenizer.tag(He)){He=He.substring(ct.raw.length),ei=Qe[Qe.length-1],ei&&ct.type==="text"&&ei.type==="text"?(ei.raw+=ct.raw,ei.text+=ct.text):Qe.push(ct);continue}if(ct=this.tokenizer.link(He)){He=He.substring(ct.raw.length),Qe.push(ct);continue}if(ct=this.tokenizer.reflink(He,this.tokens.links)){He=He.substring(ct.raw.length),ei=Qe[Qe.length-1],ei&&ct.type==="text"&&ei.type==="text"?(ei.raw+=ct.raw,ei.text+=ct.text):Qe.push(ct);continue}if(ct=this.tokenizer.emStrong(He,fi,dn)){He=He.substring(ct.raw.length),Qe.push(ct);continue}if(ct=this.tokenizer.codespan(He)){He=He.substring(ct.raw.length),Qe.push(ct);continue}if(ct=this.tokenizer.br(He)){He=He.substring(ct.raw.length),Qe.push(ct);continue}if(ct=this.tokenizer.del(He)){He=He.substring(ct.raw.length),Qe.push(ct);continue}if(ct=this.tokenizer.autolink(He,$e)){He=He.substring(ct.raw.length),Qe.push(ct);continue}if(!this.state.inLink&&(ct=this.tokenizer.url(He,$e))){He=He.substring(ct.raw.length),Qe.push(ct);continue}if(Vi=He,this.options.extensions&&this.options.extensions.startInline&&function(){var pi=1/0,Cn=He.slice(1),En=void 0;ft.options.extensions.startInline.forEach(function(Yn){En=Yn.call({lexer:this},Cn),typeof En=="number"&&En>=0&&(pi=Math.min(pi,En))}),pi<1/0&&pi>=0&&(Vi=He.substring(0,pi+1))}(),ct=this.tokenizer.inlineText(Vi,oi)){He=He.substring(ct.raw.length),ct.raw.slice(-1)!=="_"&&(dn=ct.raw.slice(-1)),zi=!0,ei=Qe[Qe.length-1],ei&&ei.type==="text"?(ei.raw+=ct.raw,ei.text+=ct.text):Qe.push(ct);continue}if(He){var Mi="Infinite loop on byte: "+He.charCodeAt(0);if(this.options.silent){console.error(Mi);break}else throw new Error(Mi)}}return Qe},r(vt,null,[{key:"rules",get:function(){return{block:Gt,inline:Lt}}}]),vt}(),wi=f.exports.defaults,ii=Mt.cleanUrl,Ui=Mt.escape,Mn=function(){function vt(Nt){this.options=Nt||wi}var mt=vt.prototype;return mt.code=function(He,Qe,ft){var ct=(Qe||"").match(/\S*/)[0];if(this.options.highlight){var ei=this.options.highlight(He,ct);ei!=null&&ei!==He&&(ft=!0,He=ei)}return He=He.replace(/\n$/,"")+`
`,ct?'<pre><code class="'+this.options.langPrefix+Ui(ct,!0)+'">'+(ft?He:Ui(He,!0))+`</code></pre>
`:"<pre><code>"+(ft?He:Ui(He,!0))+`</code></pre>
`},mt.blockquote=function(He){return`<blockquote>
`+He+`</blockquote>
`},mt.html=function(He){return He},mt.heading=function(He,Qe,ft,ct){return this.options.headerIds?"<h"+Qe+' id="'+this.options.headerPrefix+ct.slug(ft)+'">'+He+"</h"+Qe+`>
`:"<h"+Qe+">"+He+"</h"+Qe+`>
`},mt.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},mt.list=function(He,Qe,ft){var ct=Qe?"ol":"ul",ei=Qe&&ft!==1?' start="'+ft+'"':"";return"<"+ct+ei+`>
`+He+"</"+ct+`>
`},mt.listitem=function(He){return"<li>"+He+`</li>
`},mt.checkbox=function(He){return"<input "+(He?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},mt.paragraph=function(He){return"<p>"+He+`</p>
`},mt.table=function(He,Qe){return Qe&&(Qe="<tbody>"+Qe+"</tbody>"),`<table>
<thead>
`+He+`</thead>
`+Qe+`</table>
`},mt.tablerow=function(He){return`<tr>
`+He+`</tr>
`},mt.tablecell=function(He,Qe){var ft=Qe.header?"th":"td",ct=Qe.align?"<"+ft+' align="'+Qe.align+'">':"<"+ft+">";return ct+He+"</"+ft+`>
`},mt.strong=function(He){return"<strong>"+He+"</strong>"},mt.em=function(He){return"<em>"+He+"</em>"},mt.codespan=function(He){return"<code>"+He+"</code>"},mt.br=function(){return this.options.xhtml?"<br/>":"<br>"},mt.del=function(He){return"<del>"+He+"</del>"},mt.link=function(He,Qe,ft){if(He=ii(this.options.sanitize,this.options.baseUrl,He),He===null)return ft;var ct='<a href="'+Ui(He)+'"';return Qe&&(ct+=' title="'+Qe+'"'),ct+=">"+ft+"</a>",ct},mt.image=function(He,Qe,ft){if(He=ii(this.options.sanitize,this.options.baseUrl,He),He===null)return ft;var ct='<img src="'+He+'" alt="'+ft+'"';return Qe&&(ct+=' title="'+Qe+'"'),ct+=this.options.xhtml?"/>":">",ct},mt.text=function(He){return He},vt}(),Ri=function(){function vt(){}var mt=vt.prototype;return mt.strong=function(He){return He},mt.em=function(He){return He},mt.codespan=function(He){return He},mt.del=function(He){return He},mt.html=function(He){return He},mt.text=function(He){return He},mt.link=function(He,Qe,ft){return""+ft},mt.image=function(He,Qe,ft){return""+ft},mt.br=function(){return""},vt}(),ps=function(){function vt(){this.seen={}}var mt=vt.prototype;return mt.serialize=function(He){return He.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},mt.getNextSafeSlug=function(He,Qe){var ft=He,ct=0;if(this.seen.hasOwnProperty(ft)){ct=this.seen[He];do ct++,ft=He+"-"+ct;while(this.seen.hasOwnProperty(ft))}return Qe||(this.seen[He]=ct,this.seen[ft]=0),ft},mt.slug=function(He,Qe){Qe===void 0&&(Qe={});var ft=this.serialize(He);return this.getNextSafeSlug(ft,Qe.dryrun)},vt}(),Zn=Mn,Bn=Ri,Xi=ps,Vn=f.exports.defaults,qi=Mt.unescape,je=function(){function vt(Nt){this.options=Nt||Vn,this.options.renderer=this.options.renderer||new Zn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Bn,this.slugger=new Xi}vt.parse=function(He,Qe){var ft=new vt(Qe);return ft.parse(He)},vt.parseInline=function(He,Qe){var ft=new vt(Qe);return ft.parseInline(He)};var mt=vt.prototype;return mt.parse=function(He,Qe){Qe===void 0&&(Qe=!0);var ft="",ct,ei,Vi,fi,Di,zi,dn,gn,Mi,pi,Cn,En,Yn,vs,ds,Is,Fo,no,Ls,Io=He.length;for(ct=0;ct<Io;ct++){if(pi=He[ct],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[pi.type]&&(Ls=this.options.extensions.renderers[pi.type].call({parser:this},pi),Ls!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(pi.type))){ft+=Ls||"";continue}switch(pi.type){case"space":continue;case"hr":{ft+=this.renderer.hr();continue}case"heading":{ft+=this.renderer.heading(this.parseInline(pi.tokens),pi.depth,qi(this.parseInline(pi.tokens,this.textRenderer)),this.slugger);continue}case"code":{ft+=this.renderer.code(pi.text,pi.lang,pi.escaped);continue}case"table":{for(gn="",dn="",fi=pi.header.length,ei=0;ei<fi;ei++)dn+=this.renderer.tablecell(this.parseInline(pi.header[ei].tokens),{header:!0,align:pi.align[ei]});for(gn+=this.renderer.tablerow(dn),Mi="",fi=pi.rows.length,ei=0;ei<fi;ei++){for(zi=pi.rows[ei],dn="",Di=zi.length,Vi=0;Vi<Di;Vi++)dn+=this.renderer.tablecell(this.parseInline(zi[Vi].tokens),{header:!1,align:pi.align[Vi]});Mi+=this.renderer.tablerow(dn)}ft+=this.renderer.table(gn,Mi);continue}case"blockquote":{Mi=this.parse(pi.tokens),ft+=this.renderer.blockquote(Mi);continue}case"list":{for(Cn=pi.ordered,En=pi.start,Yn=pi.loose,fi=pi.items.length,Mi="",ei=0;ei<fi;ei++)ds=pi.items[ei],Is=ds.checked,Fo=ds.task,vs="",ds.task&&(no=this.renderer.checkbox(Is),Yn?ds.tokens.length>0&&ds.tokens[0].type==="paragraph"?(ds.tokens[0].text=no+" "+ds.tokens[0].text,ds.tokens[0].tokens&&ds.tokens[0].tokens.length>0&&ds.tokens[0].tokens[0].type==="text"&&(ds.tokens[0].tokens[0].text=no+" "+ds.tokens[0].tokens[0].text)):ds.tokens.unshift({type:"text",text:no}):vs+=no),vs+=this.parse(ds.tokens,Yn),Mi+=this.renderer.listitem(vs,Fo,Is);ft+=this.renderer.list(Mi,Cn,En);continue}case"html":{ft+=this.renderer.html(pi.text);continue}case"paragraph":{ft+=this.renderer.paragraph(this.parseInline(pi.tokens));continue}case"text":{for(Mi=pi.tokens?this.parseInline(pi.tokens):pi.text;ct+1<Io&&He[ct+1].type==="text";)pi=He[++ct],Mi+=`
`+(pi.tokens?this.parseInline(pi.tokens):pi.text);ft+=Qe?this.renderer.paragraph(Mi):Mi;continue}default:{var Xs='Token with "'+pi.type+'" type was not found.';if(this.options.silent){console.error(Xs);return}else throw new Error(Xs)}}}return ft},mt.parseInline=function(He,Qe){Qe=Qe||this.renderer;var ft="",ct,ei,Vi,fi=He.length;for(ct=0;ct<fi;ct++){if(ei=He[ct],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ei.type]&&(Vi=this.options.extensions.renderers[ei.type].call({parser:this},ei),Vi!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ei.type))){ft+=Vi||"";continue}switch(ei.type){case"escape":{ft+=Qe.text(ei.text);break}case"html":{ft+=Qe.html(ei.text);break}case"link":{ft+=Qe.link(ei.href,ei.title,this.parseInline(ei.tokens,Qe));break}case"image":{ft+=Qe.image(ei.href,ei.title,ei.text);break}case"strong":{ft+=Qe.strong(this.parseInline(ei.tokens,Qe));break}case"em":{ft+=Qe.em(this.parseInline(ei.tokens,Qe));break}case"codespan":{ft+=Qe.codespan(ei.text);break}case"br":{ft+=Qe.br();break}case"del":{ft+=Qe.del(this.parseInline(ei.tokens,Qe));break}case"text":{ft+=Qe.text(ei.text);break}default:{var Di='Token with "'+ei.type+'" type was not found.';if(this.options.silent){console.error(Di);return}else throw new Error(Di)}}}return ft},vt}(),Tt=Xe,St=je,Ze=rt,Je=Mn,xt=Ri,yt=ps,Xt=Mt.merge,ni=Mt.checkSanitizeDeprecation,gi=Mt.escape,Gi=f.exports.getDefaults,ji=f.exports.changeDefaults,is=f.exports.defaults;function Hi(vt,mt,Nt){if(typeof vt=="undefined"||vt===null)throw new Error("marked(): input parameter is undefined or null");if(typeof vt!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(vt)+", string expected");if(typeof mt=="function"&&(Nt=mt,mt=null),mt=Xt({},Hi.defaults,mt||{}),ni(mt),Nt){var He=mt.highlight,Qe;try{Qe=Tt.lex(vt,mt)}catch(Vi){return Nt(Vi)}var ft=function(fi){var Di;if(!fi)try{mt.walkTokens&&Hi.walkTokens(Qe,mt.walkTokens),Di=St.parse(Qe,mt)}catch(zi){fi=zi}return mt.highlight=He,fi?Nt(fi):Nt(null,Di)};if(!He||He.length<3||(delete mt.highlight,!Qe.length))return ft();var ct=0;Hi.walkTokens(Qe,function(Vi){Vi.type==="code"&&(ct++,setTimeout(function(){He(Vi.text,Vi.lang,function(fi,Di){if(fi)return ft(fi);Di!=null&&Di!==Vi.text&&(Vi.text=Di,Vi.escaped=!0),ct--,ct===0&&ft()})},0))}),ct===0&&ft();return}try{var ei=Tt.lex(vt,mt);return mt.walkTokens&&Hi.walkTokens(ei,mt.walkTokens),St.parse(ei,mt)}catch(Vi){if(Vi.message+=`
Please report this to https://github.com/markedjs/marked.`,mt.silent)return"<p>An error occurred:</p><pre>"+gi(Vi.message+"",!0)+"</pre>";throw Vi}}Hi.options=Hi.setOptions=function(vt){return Xt(Hi.defaults,vt),ji(Hi.defaults),Hi},Hi.getDefaults=Gi,Hi.defaults=is,Hi.use=function(){for(var vt=this,mt=arguments.length,Nt=new Array(mt),He=0;He<mt;He++)Nt[He]=arguments[He];var Qe=Xt.apply(void 0,[{}].concat(Nt)),ft=Hi.defaults.extensions||{renderers:{},childTokens:{}},ct;Nt.forEach(function(ei){if(ei.extensions&&(ct=!0,ei.extensions.forEach(function(fi){if(!fi.name)throw new Error("extension name required");if(fi.renderer){var Di=ft.renderers?ft.renderers[fi.name]:null;Di?ft.renderers[fi.name]=function(){for(var zi=arguments.length,dn=new Array(zi),gn=0;gn<zi;gn++)dn[gn]=arguments[gn];var Mi=fi.renderer.apply(this,dn);return Mi===!1&&(Mi=Di.apply(this,dn)),Mi}:ft.renderers[fi.name]=fi.renderer}if(fi.tokenizer){if(!fi.level||fi.level!=="block"&&fi.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");ft[fi.level]?ft[fi.level].unshift(fi.tokenizer):ft[fi.level]=[fi.tokenizer],fi.start&&(fi.level==="block"?ft.startBlock?ft.startBlock.push(fi.start):ft.startBlock=[fi.start]:fi.level==="inline"&&(ft.startInline?ft.startInline.push(fi.start):ft.startInline=[fi.start]))}fi.childTokens&&(ft.childTokens[fi.name]=fi.childTokens)})),ei.renderer&&function(){var fi=Hi.defaults.renderer||new Je,Di=function(gn){var Mi=fi[gn];fi[gn]=function(){for(var pi=arguments.length,Cn=new Array(pi),En=0;En<pi;En++)Cn[En]=arguments[En];var Yn=ei.renderer[gn].apply(fi,Cn);return Yn===!1&&(Yn=Mi.apply(fi,Cn)),Yn}};for(var zi in ei.renderer)Di(zi);Qe.renderer=fi}(),ei.tokenizer&&function(){var fi=Hi.defaults.tokenizer||new Ze,Di=function(gn){var Mi=fi[gn];fi[gn]=function(){for(var pi=arguments.length,Cn=new Array(pi),En=0;En<pi;En++)Cn[En]=arguments[En];var Yn=ei.tokenizer[gn].apply(fi,Cn);return Yn===!1&&(Yn=Mi.apply(fi,Cn)),Yn}};for(var zi in ei.tokenizer)Di(zi);Qe.tokenizer=fi}(),ei.walkTokens){var Vi=Hi.defaults.walkTokens;Qe.walkTokens=function(fi){ei.walkTokens.call(vt,fi),Vi&&Vi(fi)}}ct&&(Qe.extensions=ft),Hi.setOptions(Qe)})},Hi.walkTokens=function(vt,mt){for(var Nt=function(){var ct=Qe.value;switch(mt(ct),ct.type){case"table":{for(var ei=D(ct.header),Vi;!(Vi=ei()).done;){var fi=Vi.value;Hi.walkTokens(fi.tokens,mt)}for(var Di=D(ct.rows),zi;!(zi=Di()).done;)for(var dn=zi.value,gn=D(dn),Mi;!(Mi=gn()).done;){var pi=Mi.value;Hi.walkTokens(pi.tokens,mt)}break}case"list":{Hi.walkTokens(ct.items,mt);break}default:Hi.defaults.extensions&&Hi.defaults.extensions.childTokens&&Hi.defaults.extensions.childTokens[ct.type]?Hi.defaults.extensions.childTokens[ct.type].forEach(function(Cn){Hi.walkTokens(ct[Cn],mt)}):ct.tokens&&Hi.walkTokens(ct.tokens,mt)}},He=D(vt),Qe;!(Qe=He()).done;)Nt()},Hi.parseInline=function(vt,mt){if(typeof vt=="undefined"||vt===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof vt!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(vt)+", string expected");mt=Xt({},Hi.defaults,mt||{}),ni(mt);try{var Nt=Tt.lexInline(vt,mt);return mt.walkTokens&&Hi.walkTokens(Nt,mt.walkTokens),St.parseInline(Nt,mt)}catch(He){if(He.message+=`
Please report this to https://github.com/markedjs/marked.`,mt.silent)return"<p>An error occurred:</p><pre>"+gi(He.message+"",!0)+"</pre>";throw He}},Hi.Parser=St,Hi.parser=St.parse,Hi.Renderer=Je,Hi.TextRenderer=xt,Hi.Lexer=Tt,Hi.lexer=Tt.lex,Hi.Tokenizer=Ze,Hi.Slugger=yt,Hi.parse=Hi;var hn=Hi;return hn})})();var Y=null,Q=g.Parser,O=g.parser,y=g.Renderer,J=g.TextRenderer,k=g.Lexer,P=g.lexer,s=g.Tokenizer,I=g.Slugger,m=g.parse},23897:function(Yt,Ue,c){"use strict";c.d(Ue,{Q:function(){return Q}});var g=c(53060),Y=c(70666);function Q(y){let J=JSON.parse(y);return J=O(J),J}function O(y,J=0){if(!y||J>200)return y;if(typeof y=="object"){switch(y.$mid){case 1:return Y.o.revive(y);case 2:return new RegExp(y.source,y.flags)}if(y instanceof g.KN||y instanceof Uint8Array)return y;if(Array.isArray(y))for(let k=0;k<y.length;++k)y[k]=O(y[k],J+1);else for(const k in y)Object.hasOwnProperty.call(y,k)&&(y[k]=O(y[k],J+1))}return y}},81170:function(Yt,Ue,c){"use strict";c.d(Ue,{G8:function(){return V},bS:function(){return C},sA:function(){return I},vW:function(){return J}});var g=c(14118),Y=c(66663),Q=c(55336),O=c(95935),y=c(97295),J;(function(w){w.text="text/plain",w.binary="application/octet-stream",w.unknown="application/unknown",w.markdown="text/markdown",w.latex="text/latex"})(J||(J={}));let k=[],P=[],s=[];function I(w,D=!1){const f=m(w);k.push(f),f.userConfigured?s.push(f):P.push(f),D&&!f.userConfigured&&k.forEach(v=>{v.mime===f.mime||v.userConfigured||(f.extension&&v.extension===f.extension&&console.warn(`Overwriting extension <<${f.extension}>> to now point to mime <<${f.mime}>>`),f.filename&&v.filename===f.filename&&console.warn(`Overwriting filename <<${f.filename}>> to now point to mime <<${f.mime}>>`),f.filepattern&&v.filepattern===f.filepattern&&console.warn(`Overwriting filepattern <<${f.filepattern}>> to now point to mime <<${f.mime}>>`),f.firstline&&v.firstline===f.firstline&&console.warn(`Overwriting firstline <<${f.firstline}>> to now point to mime <<${f.mime}>>`))})}function m(w){return{id:w.id,mime:w.mime,filename:w.filename,extension:w.extension,filepattern:w.filepattern,firstline:w.firstline,userConfigured:w.userConfigured,filenameLowercase:w.filename?w.filename.toLowerCase():void 0,extensionLowercase:w.extension?w.extension.toLowerCase():void 0,filepatternLowercase:w.filepattern?(0,g.Qc)(w.filepattern.toLowerCase()):void 0,filepatternOnPath:w.filepattern?w.filepattern.indexOf(Q.KR.sep)>=0:!1}}function C(w){w?(k=k.filter(D=>!D.userConfigured),s=[]):(k=[],P=[],s=[])}function V(w,D){let f;if(w)switch(w.scheme){case Y.lg.file:f=w.fsPath;break;case Y.lg.data:f=O.Vb.parseMetaData(w).get(O.Vb.META_DATA_LABEL);break;default:f=w.path}if(!f)return[J.unknown];f=f.toLowerCase();const v=(0,Q.EZ)(f),L=r(f,v,s);if(L)return[L,J.text];const h=r(f,v,P);if(h)return[h,J.text];if(D){const R=x(D);if(R)return[R,J.text]}return[J.unknown]}function r(w,D,f){var v;let L=null,h=null,R=null;for(let T=f.length-1;T>=0;T--){const W=f[T];if(D===W.filenameLowercase){L=W;break}if(W.filepattern&&(!h||W.filepattern.length>h.filepattern.length)){const K=W.filepatternOnPath?w:D;!((v=W.filepatternLowercase)===null||v===void 0)&&v.call(W,K)&&(h=W)}W.extension&&(!R||W.extension.length>R.extension.length)&&D.endsWith(W.extensionLowercase)&&(R=W)}return L?L.mime:h?h.mime:R?R.mime:null}function x(w){if((0,y.uS)(w)&&(w=w.substr(1)),w.length>0)for(let D=k.length-1;D>=0;D--){const f=k[D];if(!f.firstline)continue;const v=w.match(f.firstline);if(v&&v.length>0)return f.mime}return null}},66663:function(Yt,Ue,c){"use strict";c.d(Ue,{Gi:function(){return k},WX:function(){return y},lg:function(){return Q}});var g=c(1432),Y=c(70666),Q;(function(P){P.inMemory="inmemory",P.vscode="vscode",P.internal="private",P.walkThrough="walkThrough",P.walkThroughSnippet="walkThroughSnippet",P.http="http",P.https="https",P.file="file",P.mailto="mailto",P.untitled="untitled",P.data="data",P.command="command",P.vscodeRemote="vscode-remote",P.vscodeRemoteResource="vscode-remote-resource",P.userData="vscode-userdata",P.vscodeCustomEditor="vscode-custom-editor",P.vscodeNotebook="vscode-notebook",P.vscodeNotebookCell="vscode-notebook-cell",P.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",P.vscodeNotebookCellOutput="vscode-notebook-cell-output",P.vscodeInteractive="vscode-interactive",P.vscodeInteractiveInput="vscode-interactive-input",P.vscodeSettings="vscode-settings",P.vscodeWorkspaceTrust="vscode-workspace-trust",P.vscodeTerminal="vscode-terminal",P.webviewPanel="webview-panel",P.vscodeWebview="vscode-webview",P.extension="extension",P.vscodeFileResource="vscode-file",P.tmp="tmp"})(Q||(Q={}));class O{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(s){this._preferredWebSchema=s}rewrite(s){if(this._delegate)return this._delegate(s);const I=s.authority;let m=this._hosts[I];m&&m.indexOf(":")!==-1&&(m=`[${m}]`);const C=this._ports[I],V=this._connectionTokens[I];let r=`path=${encodeURIComponent(s.path)}`;return typeof V=="string"&&(r+=`&tkn=${encodeURIComponent(V)}`),Y.o.from({scheme:g.$L?this._preferredWebSchema:Q.vscodeRemoteResource,authority:`${m}:${C}`,path:"/vscode-remote-resource",query:r})}}const y=new O;class J{asBrowserUri(s,I){const m=this.toUri(s,I);return m.scheme===Q.vscodeRemote?y.rewrite(m):m.scheme===Q.file&&(g.tY||typeof g.li.importScripts=="function"&&g.li.origin===`${Q.vscodeFileResource}://${J.FALLBACK_AUTHORITY}`)?m.with({scheme:Q.vscodeFileResource,authority:m.authority||J.FALLBACK_AUTHORITY,query:null,fragment:null}):m}toUri(s,I){return Y.o.isUri(s)?s:Y.o.parse(I.toUrl(s))}}J.FALLBACK_AUTHORITY="vscode-app";const k=new J},59870:function(Yt,Ue,c){"use strict";c.d(Ue,{u:function(){return g}});function g(Q,O,y){return Math.min(Math.max(Q,O),y)}class Y{constructor(){this._n=1,this._val=0}update(O){return this._val=this._val+(O-this._val)/this._n,this._n+=1,this}get value(){return this._val}}},36248:function(Yt,Ue,c){"use strict";c.d(Ue,{CJ:function(){return s},I8:function(){return Y},_A:function(){return Q},fS:function(){return P},jB:function(){return k},rs:function(){return y}});var g=c(98401);function Y(I){if(!I||typeof I!="object"||I instanceof RegExp)return I;const m=Array.isArray(I)?[]:{};return Object.keys(I).forEach(C=>{I[C]&&typeof I[C]=="object"?m[C]=Y(I[C]):m[C]=I[C]}),m}function Q(I){if(!I||typeof I!="object")return I;const m=[I];for(;m.length>0;){const C=m.shift();Object.freeze(C);for(const V in C)if(O.call(C,V)){const r=C[V];typeof r=="object"&&!Object.isFrozen(r)&&m.push(r)}}return I}const O=Object.prototype.hasOwnProperty;function y(I,m){return J(I,m,new Set)}function J(I,m,C){if((0,g.Jp)(I))return I;const V=m(I);if(typeof V!="undefined")return V;if((0,g.kJ)(I)){const r=[];for(const x of I)r.push(J(x,m,C));return r}if((0,g.Kn)(I)){if(C.has(I))throw new Error("Cannot clone recursive data-structure");C.add(I);const r={};for(let x in I)O.call(I,x)&&(r[x]=J(I[x],m,C));return C.delete(I),r}return I}function k(I,m,C=!0){return(0,g.Kn)(I)?((0,g.Kn)(m)&&Object.keys(m).forEach(V=>{V in I?C&&((0,g.Kn)(I[V])&&(0,g.Kn)(m[V])?k(I[V],m[V],C):I[V]=m[V]):I[V]=m[V]}),I):m}function P(I,m){if(I===m)return!0;if(I==null||m===null||m===void 0||typeof I!=typeof m||typeof I!="object"||Array.isArray(I)!==Array.isArray(m))return!1;let C,V;if(Array.isArray(I)){if(I.length!==m.length)return!1;for(C=0;C<I.length;C++)if(!P(I[C],m[C]))return!1}else{const r=[];for(V in I)r.push(V);r.sort();const x=[];for(V in m)x.push(V);if(x.sort(),!P(r,x))return!1;for(C=0;C<r.length;C++)if(!P(I[r[C]],m[r[C]]))return!1}return!0}function s(I,m,C){const V=m(I);return typeof V=="undefined"?C:V}},55336:function(Yt,Ue,c){"use strict";c.d(Ue,{EZ:function(){return ve},XX:function(){return _e},DZ:function(){return De},Fv:function(){return K},KR:function(){return W},Gf:function(){return ce},DB:function(){return ie},ir:function(){return le},Ku:function(){return T}});var g=c(1432),Y=c(34155);let Q;if(typeof g.li.vscode!="undefined"&&typeof g.li.vscode.process!="undefined"){const Z=g.li.vscode.process;Q={get platform(){return Z.platform},get arch(){return Z.arch},get env(){return Z.env},cwd(){return Z.cwd()},nextTick($){return(0,g.xS)($)}}}else typeof Y!="undefined"?Q={get platform(){return Y.platform},get arch(){return Y.arch},get env(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}},cwd(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}.VSCODE_CWD||Y.cwd()},nextTick(Z){return Y.nextTick(Z)}}:Q={get platform(){return g.ED?"win32":g.dz?"darwin":"linux"},get arch(){},nextTick(Z){return(0,g.xS)(Z)},get env(){return{}},cwd(){return"/"}};const O=Q.cwd,y=Q.env,J=Q.platform,k=65,P=97,s=90,I=122,m=46,C=47,V=92,r=58,x=63;class w extends Error{constructor($,G,q){let p;typeof G=="string"&&G.indexOf("not ")===0?(p="must not be",G=G.replace(/^not /,"")):p="must be";const S=$.indexOf(".")!==-1?"property":"argument";let B=`The "${$}" ${S} ${p} of type ${G}`;B+=`. Received type ${typeof q}`,super(B),this.code="ERR_INVALID_ARG_TYPE"}}function D(Z,$){if(typeof Z!="string")throw new w($,"string",Z)}function f(Z){return Z===C||Z===V}function v(Z){return Z===C}function L(Z){return Z>=k&&Z<=s||Z>=P&&Z<=I}function h(Z,$,G,q){let p="",S=0,B=-1,te=0,me=0;for(let de=0;de<=Z.length;++de){if(de<Z.length)me=Z.charCodeAt(de);else{if(q(me))break;me=C}if(q(me)){if(!(B===de-1||te===1))if(te===2){if(p.length<2||S!==2||p.charCodeAt(p.length-1)!==m||p.charCodeAt(p.length-2)!==m){if(p.length>2){const Pe=p.lastIndexOf(G);Pe===-1?(p="",S=0):(p=p.slice(0,Pe),S=p.length-1-p.lastIndexOf(G)),B=de,te=0;continue}else if(p.length!==0){p="",S=0,B=de,te=0;continue}}$&&(p+=p.length>0?`${G}..`:"..",S=2)}else p.length>0?p+=`${G}${Z.slice(B+1,de)}`:p=Z.slice(B+1,de),S=de-B-1;B=de,te=0}else me===m&&te!==-1?++te:te=-1}return p}function R(Z,$){if($===null||typeof $!="object")throw new w("pathObject","Object",$);const G=$.dir||$.root,q=$.base||`${$.name||""}${$.ext||""}`;return G?G===$.root?`${G}${q}`:`${G}${Z}${q}`:q}const T={resolve(...Z){let $="",G="",q=!1;for(let p=Z.length-1;p>=-1;p--){let S;if(p>=0){if(S=Z[p],D(S,"path"),S.length===0)continue}else $.length===0?S=O():(S={NODE_ENV:"production",PUBLIC_PATH:"/"}[`=${$}`]||O(),(S===void 0||S.slice(0,2).toLowerCase()!==$.toLowerCase()&&S.charCodeAt(2)===V)&&(S=`${$}\\`));const B=S.length;let te=0,me="",de=!1;const Pe=S.charCodeAt(0);if(B===1)f(Pe)&&(te=1,de=!0);else if(f(Pe))if(de=!0,f(S.charCodeAt(1))){let Me=2,nt=Me;for(;Me<B&&!f(S.charCodeAt(Me));)Me++;if(Me<B&&Me!==nt){const It=S.slice(nt,Me);for(nt=Me;Me<B&&f(S.charCodeAt(Me));)Me++;if(Me<B&&Me!==nt){for(nt=Me;Me<B&&!f(S.charCodeAt(Me));)Me++;(Me===B||Me!==nt)&&(me=`\\\\${It}\\${S.slice(nt,Me)}`,te=Me)}}}else te=1;else L(Pe)&&S.charCodeAt(1)===r&&(me=S.slice(0,2),te=2,B>2&&f(S.charCodeAt(2))&&(de=!0,te=3));if(me.length>0)if($.length>0){if(me.toLowerCase()!==$.toLowerCase())continue}else $=me;if(q){if($.length>0)break}else if(G=`${S.slice(te)}\\${G}`,q=de,de&&$.length>0)break}return G=h(G,!q,"\\",f),q?`${$}\\${G}`:`${$}${G}`||"."},normalize(Z){D(Z,"path");const $=Z.length;if($===0)return".";let G=0,q,p=!1;const S=Z.charCodeAt(0);if($===1)return v(S)?"\\":Z;if(f(S))if(p=!0,f(Z.charCodeAt(1))){let te=2,me=te;for(;te<$&&!f(Z.charCodeAt(te));)te++;if(te<$&&te!==me){const de=Z.slice(me,te);for(me=te;te<$&&f(Z.charCodeAt(te));)te++;if(te<$&&te!==me){for(me=te;te<$&&!f(Z.charCodeAt(te));)te++;if(te===$)return`\\\\${de}\\${Z.slice(me)}\\`;te!==me&&(q=`\\\\${de}\\${Z.slice(me,te)}`,G=te)}}}else G=1;else L(S)&&Z.charCodeAt(1)===r&&(q=Z.slice(0,2),G=2,$>2&&f(Z.charCodeAt(2))&&(p=!0,G=3));let B=G<$?h(Z.slice(G),!p,"\\",f):"";return B.length===0&&!p&&(B="."),B.length>0&&f(Z.charCodeAt($-1))&&(B+="\\"),q===void 0?p?`\\${B}`:B:p?`${q}\\${B}`:`${q}${B}`},isAbsolute(Z){D(Z,"path");const $=Z.length;if($===0)return!1;const G=Z.charCodeAt(0);return f(G)||$>2&&L(G)&&Z.charCodeAt(1)===r&&f(Z.charCodeAt(2))},join(...Z){if(Z.length===0)return".";let $,G;for(let S=0;S<Z.length;++S){const B=Z[S];D(B,"path"),B.length>0&&($===void 0?$=G=B:$+=`\\${B}`)}if($===void 0)return".";let q=!0,p=0;if(typeof G=="string"&&f(G.charCodeAt(0))){++p;const S=G.length;S>1&&f(G.charCodeAt(1))&&(++p,S>2&&(f(G.charCodeAt(2))?++p:q=!1))}if(q){for(;p<$.length&&f($.charCodeAt(p));)p++;p>=2&&($=`\\${$.slice(p)}`)}return T.normalize($)},relative(Z,$){if(D(Z,"from"),D($,"to"),Z===$)return"";const G=T.resolve(Z),q=T.resolve($);if(G===q||(Z=G.toLowerCase(),$=q.toLowerCase(),Z===$))return"";let p=0;for(;p<Z.length&&Z.charCodeAt(p)===V;)p++;let S=Z.length;for(;S-1>p&&Z.charCodeAt(S-1)===V;)S--;const B=S-p;let te=0;for(;te<$.length&&$.charCodeAt(te)===V;)te++;let me=$.length;for(;me-1>te&&$.charCodeAt(me-1)===V;)me--;const de=me-te,Pe=B<de?B:de;let Me=-1,nt=0;for(;nt<Pe;nt++){const ht=Z.charCodeAt(p+nt);if(ht!==$.charCodeAt(te+nt))break;ht===V&&(Me=nt)}if(nt!==Pe){if(Me===-1)return q}else{if(de>Pe){if($.charCodeAt(te+nt)===V)return q.slice(te+nt+1);if(nt===2)return q.slice(te+nt)}B>Pe&&(Z.charCodeAt(p+nt)===V?Me=nt:nt===2&&(Me=3)),Me===-1&&(Me=0)}let It="";for(nt=p+Me+1;nt<=S;++nt)(nt===S||Z.charCodeAt(nt)===V)&&(It+=It.length===0?"..":"\\..");return te+=Me,It.length>0?`${It}${q.slice(te,me)}`:(q.charCodeAt(te)===V&&++te,q.slice(te,me))},toNamespacedPath(Z){if(typeof Z!="string")return Z;if(Z.length===0)return"";const $=T.resolve(Z);if($.length<=2)return Z;if($.charCodeAt(0)===V){if($.charCodeAt(1)===V){const G=$.charCodeAt(2);if(G!==x&&G!==m)return`\\\\?\\UNC\\${$.slice(2)}`}}else if(L($.charCodeAt(0))&&$.charCodeAt(1)===r&&$.charCodeAt(2)===V)return`\\\\?\\${$}`;return Z},dirname(Z){D(Z,"path");const $=Z.length;if($===0)return".";let G=-1,q=0;const p=Z.charCodeAt(0);if($===1)return f(p)?Z:".";if(f(p)){if(G=q=1,f(Z.charCodeAt(1))){let te=2,me=te;for(;te<$&&!f(Z.charCodeAt(te));)te++;if(te<$&&te!==me){for(me=te;te<$&&f(Z.charCodeAt(te));)te++;if(te<$&&te!==me){for(me=te;te<$&&!f(Z.charCodeAt(te));)te++;if(te===$)return Z;te!==me&&(G=q=te+1)}}}}else L(p)&&Z.charCodeAt(1)===r&&(G=$>2&&f(Z.charCodeAt(2))?3:2,q=G);let S=-1,B=!0;for(let te=$-1;te>=q;--te)if(f(Z.charCodeAt(te))){if(!B){S=te;break}}else B=!1;if(S===-1){if(G===-1)return".";S=G}return Z.slice(0,S)},basename(Z,$){$!==void 0&&D($,"ext"),D(Z,"path");let G=0,q=-1,p=!0,S;if(Z.length>=2&&L(Z.charCodeAt(0))&&Z.charCodeAt(1)===r&&(G=2),$!==void 0&&$.length>0&&$.length<=Z.length){if($===Z)return"";let B=$.length-1,te=-1;for(S=Z.length-1;S>=G;--S){const me=Z.charCodeAt(S);if(f(me)){if(!p){G=S+1;break}}else te===-1&&(p=!1,te=S+1),B>=0&&(me===$.charCodeAt(B)?--B===-1&&(q=S):(B=-1,q=te))}return G===q?q=te:q===-1&&(q=Z.length),Z.slice(G,q)}for(S=Z.length-1;S>=G;--S)if(f(Z.charCodeAt(S))){if(!p){G=S+1;break}}else q===-1&&(p=!1,q=S+1);return q===-1?"":Z.slice(G,q)},extname(Z){D(Z,"path");let $=0,G=-1,q=0,p=-1,S=!0,B=0;Z.length>=2&&Z.charCodeAt(1)===r&&L(Z.charCodeAt(0))&&($=q=2);for(let te=Z.length-1;te>=$;--te){const me=Z.charCodeAt(te);if(f(me)){if(!S){q=te+1;break}continue}p===-1&&(S=!1,p=te+1),me===m?G===-1?G=te:B!==1&&(B=1):G!==-1&&(B=-1)}return G===-1||p===-1||B===0||B===1&&G===p-1&&G===q+1?"":Z.slice(G,p)},format:R.bind(null,"\\"),parse(Z){D(Z,"path");const $={root:"",dir:"",base:"",ext:"",name:""};if(Z.length===0)return $;const G=Z.length;let q=0,p=Z.charCodeAt(0);if(G===1)return f(p)?($.root=$.dir=Z,$):($.base=$.name=Z,$);if(f(p)){if(q=1,f(Z.charCodeAt(1))){let Me=2,nt=Me;for(;Me<G&&!f(Z.charCodeAt(Me));)Me++;if(Me<G&&Me!==nt){for(nt=Me;Me<G&&f(Z.charCodeAt(Me));)Me++;if(Me<G&&Me!==nt){for(nt=Me;Me<G&&!f(Z.charCodeAt(Me));)Me++;Me===G?q=Me:Me!==nt&&(q=Me+1)}}}}else if(L(p)&&Z.charCodeAt(1)===r){if(G<=2)return $.root=$.dir=Z,$;if(q=2,f(Z.charCodeAt(2))){if(G===3)return $.root=$.dir=Z,$;q=3}}q>0&&($.root=Z.slice(0,q));let S=-1,B=q,te=-1,me=!0,de=Z.length-1,Pe=0;for(;de>=q;--de){if(p=Z.charCodeAt(de),f(p)){if(!me){B=de+1;break}continue}te===-1&&(me=!1,te=de+1),p===m?S===-1?S=de:Pe!==1&&(Pe=1):S!==-1&&(Pe=-1)}return te!==-1&&(S===-1||Pe===0||Pe===1&&S===te-1&&S===B+1?$.base=$.name=Z.slice(B,te):($.name=Z.slice(B,S),$.base=Z.slice(B,te),$.ext=Z.slice(S,te))),B>0&&B!==q?$.dir=Z.slice(0,B-1):$.dir=$.root,$},sep:"\\",delimiter:";",win32:null,posix:null},W={resolve(...Z){let $="",G=!1;for(let q=Z.length-1;q>=-1&&!G;q--){const p=q>=0?Z[q]:O();D(p,"path"),p.length!==0&&($=`${p}/${$}`,G=p.charCodeAt(0)===C)}return $=h($,!G,"/",v),G?`/${$}`:$.length>0?$:"."},normalize(Z){if(D(Z,"path"),Z.length===0)return".";const $=Z.charCodeAt(0)===C,G=Z.charCodeAt(Z.length-1)===C;return Z=h(Z,!$,"/",v),Z.length===0?$?"/":G?"./":".":(G&&(Z+="/"),$?`/${Z}`:Z)},isAbsolute(Z){return D(Z,"path"),Z.length>0&&Z.charCodeAt(0)===C},join(...Z){if(Z.length===0)return".";let $;for(let G=0;G<Z.length;++G){const q=Z[G];D(q,"path"),q.length>0&&($===void 0?$=q:$+=`/${q}`)}return $===void 0?".":W.normalize($)},relative(Z,$){if(D(Z,"from"),D($,"to"),Z===$||(Z=W.resolve(Z),$=W.resolve($),Z===$))return"";const G=1,q=Z.length,p=q-G,S=1,B=$.length-S,te=p<B?p:B;let me=-1,de=0;for(;de<te;de++){const Me=Z.charCodeAt(G+de);if(Me!==$.charCodeAt(S+de))break;Me===C&&(me=de)}if(de===te)if(B>te){if($.charCodeAt(S+de)===C)return $.slice(S+de+1);if(de===0)return $.slice(S+de)}else p>te&&(Z.charCodeAt(G+de)===C?me=de:de===0&&(me=0));let Pe="";for(de=G+me+1;de<=q;++de)(de===q||Z.charCodeAt(de)===C)&&(Pe+=Pe.length===0?"..":"/..");return`${Pe}${$.slice(S+me)}`},toNamespacedPath(Z){return Z},dirname(Z){if(D(Z,"path"),Z.length===0)return".";const $=Z.charCodeAt(0)===C;let G=-1,q=!0;for(let p=Z.length-1;p>=1;--p)if(Z.charCodeAt(p)===C){if(!q){G=p;break}}else q=!1;return G===-1?$?"/":".":$&&G===1?"//":Z.slice(0,G)},basename(Z,$){$!==void 0&&D($,"ext"),D(Z,"path");let G=0,q=-1,p=!0,S;if($!==void 0&&$.length>0&&$.length<=Z.length){if($===Z)return"";let B=$.length-1,te=-1;for(S=Z.length-1;S>=0;--S){const me=Z.charCodeAt(S);if(me===C){if(!p){G=S+1;break}}else te===-1&&(p=!1,te=S+1),B>=0&&(me===$.charCodeAt(B)?--B===-1&&(q=S):(B=-1,q=te))}return G===q?q=te:q===-1&&(q=Z.length),Z.slice(G,q)}for(S=Z.length-1;S>=0;--S)if(Z.charCodeAt(S)===C){if(!p){G=S+1;break}}else q===-1&&(p=!1,q=S+1);return q===-1?"":Z.slice(G,q)},extname(Z){D(Z,"path");let $=-1,G=0,q=-1,p=!0,S=0;for(let B=Z.length-1;B>=0;--B){const te=Z.charCodeAt(B);if(te===C){if(!p){G=B+1;break}continue}q===-1&&(p=!1,q=B+1),te===m?$===-1?$=B:S!==1&&(S=1):$!==-1&&(S=-1)}return $===-1||q===-1||S===0||S===1&&$===q-1&&$===G+1?"":Z.slice($,q)},format:R.bind(null,"/"),parse(Z){D(Z,"path");const $={root:"",dir:"",base:"",ext:"",name:""};if(Z.length===0)return $;const G=Z.charCodeAt(0)===C;let q;G?($.root="/",q=1):q=0;let p=-1,S=0,B=-1,te=!0,me=Z.length-1,de=0;for(;me>=q;--me){const Pe=Z.charCodeAt(me);if(Pe===C){if(!te){S=me+1;break}continue}B===-1&&(te=!1,B=me+1),Pe===m?p===-1?p=me:de!==1&&(de=1):p!==-1&&(de=-1)}if(B!==-1){const Pe=S===0&&G?1:S;p===-1||de===0||de===1&&p===B-1&&p===S+1?$.base=$.name=Z.slice(Pe,B):($.name=Z.slice(Pe,p),$.base=Z.slice(Pe,B),$.ext=Z.slice(p,B))}return S>0?$.dir=Z.slice(0,S-1):G&&($.dir="/"),$},sep:"/",delimiter:":",win32:null,posix:null};W.win32=T.win32=T,W.posix=T.posix=W;const K=J==="win32"?T.normalize:W.normalize,ie=J==="win32"?T.resolve:W.resolve,ce=J==="win32"?T.relative:W.relative,_e=J==="win32"?T.dirname:W.dirname,ve=J==="win32"?T.basename:W.basename,De=J==="win32"?T.extname:W.extname,le=J==="win32"?T.sep:W.sep},1432:function(Yt,Ue,c){"use strict";c.d(Ue,{$L:function(){return T},ED:function(){return v},IJ:function(){return h},OS:function(){return ce},WE:function(){return K},dz:function(){return L},gn:function(){return W},li:function(){return x},r:function(){return De},tY:function(){return R},xS:function(){return ie}});var g=c(34155),Y;const Q="en";let O=!1,y=!1,J=!1,k=!1,P=!1,s=!1,I=!1,m,C=null,V=null,r;const x=typeof self=="object"?self:typeof c.g=="object"?c.g:{};let w;typeof x.vscode!="undefined"&&typeof x.vscode.process!="undefined"?w=x.vscode.process:typeof g!="undefined"&&(w=g);const D=typeof((Y=w==null?void 0:w.versions)===null||Y===void 0?void 0:Y.electron)=="string"&&w.type==="renderer";if(typeof navigator=="object"&&!D)r=navigator.userAgent,O=r.indexOf("Windows")>=0,y=r.indexOf("Macintosh")>=0,I=(r.indexOf("Macintosh")>=0||r.indexOf("iPad")>=0||r.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,J=r.indexOf("Linux")>=0,s=!0,m=navigator.language,C=m;else if(typeof w=="object"){O=w.platform==="win32",y=w.platform==="darwin",J=w.platform==="linux",k=J&&!!w.env.SNAP&&!!w.env.SNAP_REVISION,m=Q,C=Q;const le=w.env.VSCODE_NLS_CONFIG;if(le)try{const Z=JSON.parse(le),$=Z.availableLanguages["*"];m=Z.locale,C=$||Q,V=Z._translationsConfigFile}catch(Z){}P=!0}else console.error("Unable to resolve platform.");let f=0;y?f=1:O?f=3:J&&(f=2);const v=O,L=y,h=J,R=P,T=s,W=I,K=r,ie=function(){if(x.setImmediate)return x.setImmediate.bind(x);if(typeof x.postMessage=="function"&&!x.importScripts){let $=[];x.addEventListener("message",q=>{if(q.data&&q.data.vscodeSetImmediateId)for(let p=0,S=$.length;p<S;p++){const B=$[p];if(B.id===q.data.vscodeSetImmediateId){$.splice(p,1),B.callback();return}}});let G=0;return q=>{const p=++G;$.push({id:p,callback:q}),x.postMessage({vscodeSetImmediateId:p},"*")}}if(typeof(w==null?void 0:w.nextTick)=="function")return w.nextTick.bind(w);const Z=Promise.resolve();return $=>Z.then($)}(),ce=y||I?2:O?1:3;let _e=!0,ve=!1;function De(){if(!ve){ve=!0;const le=new Uint8Array(2);le[0]=1,le[1]=2,_e=new Uint16Array(le.buffer)[0]===513}return _e}},61134:function(Yt,Ue,c){"use strict";c.d(Ue,{e:function(){return g}});var g;(function(Y){function Q(k,P){if(k.start>=P.end||P.start>=k.end)return{start:0,end:0};const s=Math.max(k.start,P.start),I=Math.min(k.end,P.end);return I-s<=0?{start:0,end:0}:{start:s,end:I}}Y.intersect=Q;function O(k){return k.end-k.start<=0}Y.isEmpty=O;function y(k,P){return!O(Q(k,P))}Y.intersects=y;function J(k,P){const s=[],I={start:k.start,end:Math.min(P.start,k.end)},m={start:Math.max(P.end,k.start),end:k.end};return O(I)||s.push(I),O(m)||s.push(m),s}Y.relativeComplement=J})(g||(g={}))},95935:function(Yt,Ue,c){"use strict";c.d(Ue,{AH:function(){return r},EZ:function(){return m},Hx:function(){return I},SF:function(){return P},Vb:function(){return w},XX:function(){return C},Xy:function(){return s},i3:function(){return x}});var g=c(15527),Y=c(66663),Q=c(55336),O=c(97295),y=c(70666);function J(D){return(0,y.q)(D,!0)}class k{constructor(f){this._ignorePathCasing=f}compare(f,v,L=!1){return f===v?0:(0,O.qu)(this.getComparisonKey(f,L),this.getComparisonKey(v,L))}isEqual(f,v,L=!1){return f===v?!0:!f||!v?!1:this.getComparisonKey(f,L)===this.getComparisonKey(v,L)}getComparisonKey(f,v=!1){return f.with({path:this._ignorePathCasing(f)?f.path.toLowerCase():void 0,fragment:v?null:void 0}).toString()}joinPath(f,...v){return y.o.joinPath(f,...v)}basenameOrAuthority(f){return m(f)||f.authority}basename(f){return Q.KR.basename(f.path)}dirname(f){if(f.path.length===0)return f;let v;return f.scheme===Y.lg.file?v=y.o.file(Q.XX(J(f))).path:(v=Q.KR.dirname(f.path),f.authority&&v.length&&v.charCodeAt(0)!==47&&(console.error(`dirname("${f.toString})) resulted in a relative path`),v="/")),f.with({path:v})}normalizePath(f){if(!f.path.length)return f;let v;return f.scheme===Y.lg.file?v=y.o.file(Q.Fv(J(f))).path:v=Q.KR.normalize(f.path),f.with({path:v})}resolvePath(f,v){if(f.scheme===Y.lg.file){const L=y.o.file(Q.DB(J(f),v));return f.with({authority:L.authority,path:L.path})}return v=g.fn(v),f.with({path:Q.KR.resolve(f.path,v)})}}const P=new k(()=>!1),s=P.isEqual.bind(P),I=P.basenameOrAuthority.bind(P),m=P.basename.bind(P),C=P.dirname.bind(P),V=P.joinPath.bind(P),r=P.normalizePath.bind(P),x=P.resolvePath.bind(P);var w;(function(D){D.META_DATA_LABEL="label",D.META_DATA_DESCRIPTION="description",D.META_DATA_SIZE="size",D.META_DATA_MIME="mime";function f(v){const L=new Map;v.path.substring(v.path.indexOf(";")+1,v.path.lastIndexOf(";")).split(";").forEach(T=>{const[W,K]=T.split(":");W&&K&&L.set(W,K)});const R=v.path.substring(0,v.path.indexOf(";"));return R&&L.set(D.META_DATA_MIME,R),L}D.parseMetaData=f})(w||(w={}))},76633:function(Yt,Ue,c){"use strict";c.d(Ue,{Rm:function(){return O}});var g=c(4669),Y=c(5976);class Q{constructor(C,V,r,x,w,D){this._scrollStateBrand=void 0,C=C|0,V=V|0,r=r|0,x=x|0,w=w|0,D=D|0,this.rawScrollLeft=r,this.rawScrollTop=D,C<0&&(C=0),r+C>V&&(r=V-C),r<0&&(r=0),x<0&&(x=0),D+x>w&&(D=w-x),D<0&&(D=0),this.width=C,this.scrollWidth=V,this.scrollLeft=r,this.height=x,this.scrollHeight=w,this.scrollTop=D}equals(C){return this.rawScrollLeft===C.rawScrollLeft&&this.rawScrollTop===C.rawScrollTop&&this.width===C.width&&this.scrollWidth===C.scrollWidth&&this.scrollLeft===C.scrollLeft&&this.height===C.height&&this.scrollHeight===C.scrollHeight&&this.scrollTop===C.scrollTop}withScrollDimensions(C,V){return new Q(typeof C.width!="undefined"?C.width:this.width,typeof C.scrollWidth!="undefined"?C.scrollWidth:this.scrollWidth,V?this.rawScrollLeft:this.scrollLeft,typeof C.height!="undefined"?C.height:this.height,typeof C.scrollHeight!="undefined"?C.scrollHeight:this.scrollHeight,V?this.rawScrollTop:this.scrollTop)}withScrollPosition(C){return new Q(this.width,this.scrollWidth,typeof C.scrollLeft!="undefined"?C.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof C.scrollTop!="undefined"?C.scrollTop:this.rawScrollTop)}createScrollEvent(C,V){const r=this.width!==C.width,x=this.scrollWidth!==C.scrollWidth,w=this.scrollLeft!==C.scrollLeft,D=this.height!==C.height,f=this.scrollHeight!==C.scrollHeight,v=this.scrollTop!==C.scrollTop;return{inSmoothScrolling:V,oldWidth:C.width,oldScrollWidth:C.scrollWidth,oldScrollLeft:C.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:C.height,oldScrollHeight:C.scrollHeight,oldScrollTop:C.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:r,scrollWidthChanged:x,scrollLeftChanged:w,heightChanged:D,scrollHeightChanged:f,scrollTopChanged:v}}}class O extends Y.JT{constructor(C,V){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new g.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=C,this._scheduleAtNextAnimationFrame=V,this._state=new Q(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(C){this._smoothScrollDuration=C}validateScrollPosition(C){return this._state.withScrollPosition(C)}getScrollDimensions(){return this._state}setScrollDimensions(C,V){const r=this._state.withScrollDimensions(C,V);this._setState(r,!!this._smoothScrolling),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(C){const V=this._state.withScrollPosition(C);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(V,!1)}setScrollPositionSmooth(C,V){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(C);if(this._smoothScrolling){C={scrollLeft:typeof C.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:C.scrollLeft,scrollTop:typeof C.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:C.scrollTop};const r=this._state.withScrollPosition(C);if(this._smoothScrolling.to.scrollLeft===r.scrollLeft&&this._smoothScrolling.to.scrollTop===r.scrollTop)return;let x;V?x=new P(this._smoothScrolling.from,r,this._smoothScrolling.startTime,this._smoothScrolling.duration):x=this._smoothScrolling.combine(this._state,r,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=x}else{const r=this._state.withScrollPosition(C);this._smoothScrolling=P.start(this._state,r,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const C=this._smoothScrolling.tick(),V=this._state.withScrollPosition(C);if(this._setState(V,!0),!!this._smoothScrolling){if(C.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(C,V){const r=this._state;r.equals(C)||(this._state=C,this._onScroll.fire(this._state.createScrollEvent(r,V)))}}class y{constructor(C,V,r){this.scrollLeft=C,this.scrollTop=V,this.isDone=r}}function J(m,C){const V=C-m;return function(r){return m+V*I(r)}}function k(m,C,V){return function(r){return r<V?m(r/V):C((r-V)/(1-V))}}class P{constructor(C,V,r,x){this.from=C,this.to=V,this.duration=x,this.startTime=r,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(C,V,r){if(Math.abs(C-V)>2.5*r){let w,D;return C<V?(w=C+.75*r,D=V-.75*r):(w=C-.75*r,D=V+.75*r),k(J(C,w),J(D,V),.33)}return J(C,V)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(C){this.to=C.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(C){const V=(C-this.startTime)/this.duration;if(V<1){const r=this.scrollLeft(V),x=this.scrollTop(V);return new y(r,x,!1)}return new y(this.to.scrollLeft,this.to.scrollTop,!0)}combine(C,V,r){return P.start(C,V,r)}static start(C,V,r){r=r+10;const x=Date.now()-10;return new P(C,V,x,r)}}function s(m){return Math.pow(m,3)}function I(m){return 1-s(1-m)}},14603:function(Yt,Ue,c){"use strict";var g=c(97295),Y;(function(Q){Q[Q.Ignore=0]="Ignore",Q[Q.Info=1]="Info",Q[Q.Warning=2]="Warning",Q[Q.Error=3]="Error"})(Y||(Y={})),function(Q){const O="error",y="warning",J="warn",k="info",P="ignore";function s(m){return m?g.qq(O,m)?Q.Error:g.qq(y,m)||g.qq(J,m)?Q.Warning:g.qq(k,m)?Q.Info:Q.Ignore:Q.Ignore}Q.fromValue=s;function I(m){switch(m){case Q.Error:return O;case Q.Warning:return y;case Q.Info:return k;default:return P}}Q.toString=I}(Y||(Y={})),Ue.Z=Y},84013:function(Yt,Ue,c){"use strict";c.d(Ue,{G:function(){return Q}});var g=c(1432);const Y=g.li.performance&&typeof g.li.performance.now=="function";class Q{constructor(y){this._highResolution=Y&&y,this._startTime=this._now(),this._stopTime=-1}static create(y=!0){return new Q(y)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?g.li.performance.now():Date.now()}}},97295:function(Yt,Ue,c){"use strict";c.d(Ue,{$i:function(){return me},C8:function(){return It},GF:function(){return m},HO:function(){return G},IO:function(){return C},K7:function(){return nt},Kw:function(){return it},LC:function(){return x},Mh:function(){return ie},P1:function(){return ce},PJ:function(){return kt},Qe:function(){return de},RP:function(){return B},S6:function(){return ze},TT:function(){return v},Ut:function(){return p},V8:function(){return w},WU:function(){return Q},YK:function(){return ve},YU:function(){return O},ZG:function(){return _e},ZH:function(){return le},ab:function(){return Pe},c1:function(){return ht},df:function(){return T},ec:function(){return y},fi:function(){return he},j3:function(){return k},j_:function(){return h},m5:function(){return g},mK:function(){return R},mr:function(){return V},oH:function(){return at},oL:function(){return P},ok:function(){return K},ow:function(){return D},qq:function(){return W},qu:function(){return f},rL:function(){return De},uS:function(){return Mt},un:function(){return s},uq:function(){return r},vH:function(){return $},xe:function(){return Me},zY:function(){return L}});function g(we){return!we||typeof we!="string"?!0:we.trim().length===0}const Y=/{(\d+)}/g;function Q(we,...Ye){return Ye.length===0?we:we.replace(Y,function(st,Pt){const Qt=parseInt(Pt,10);return isNaN(Qt)||Qt<0||Qt>=Ye.length?st:Ye[Qt]})}function O(we){return we.replace(/[<>&]/g,function(Ye){switch(Ye){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return Ye}})}function y(we){return we.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function J(we,Ye=" "){const st=k(we,Ye);return P(st,Ye)}function k(we,Ye){if(!we||!Ye)return we;const st=Ye.length;if(st===0||we.length===0)return we;let Pt=0;for(;we.indexOf(Ye,Pt)===Pt;)Pt=Pt+st;return we.substring(Pt)}function P(we,Ye){if(!we||!Ye)return we;const st=Ye.length,Pt=we.length;if(st===0||Pt===0)return we;let Qt=Pt,ci=-1;for(;ci=we.lastIndexOf(Ye,Qt-1),!(ci===-1||ci+st!==Qt);){if(ci===0)return"";Qt=ci}return we.substring(0,Qt)}function s(we){return we.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function I(we){return we.replace(/\*/g,"")}function m(we,Ye,st={}){if(!we)throw new Error("Cannot create regex from empty string");Ye||(we=y(we)),st.wholeWord&&(/\B/.test(we.charAt(0))||(we="\\b"+we),/\B/.test(we.charAt(we.length-1))||(we=we+"\\b"));let Pt="";return st.global&&(Pt+="g"),st.matchCase||(Pt+="i"),st.multiline&&(Pt+="m"),st.unicode&&(Pt+="u"),new RegExp(we,Pt)}function C(we){return we.source==="^"||we.source==="^$"||we.source==="$"||we.source==="^\\s*$"?!1:!!(we.exec("")&&we.lastIndex===0)}function V(we){return(we.global?"g":"")+(we.ignoreCase?"i":"")+(we.multiline?"m":"")+(we.unicode?"u":"")}function r(we){return we.split(/\r\n|\r|\n/)}function x(we){for(let Ye=0,st=we.length;Ye<st;Ye++){const Pt=we.charCodeAt(Ye);if(Pt!==32&&Pt!==9)return Ye}return-1}function w(we,Ye=0,st=we.length){for(let Pt=Ye;Pt<st;Pt++){const Qt=we.charCodeAt(Pt);if(Qt!==32&&Qt!==9)return we.substring(Ye,Pt)}return we.substring(Ye,st)}function D(we,Ye=we.length-1){for(let st=Ye;st>=0;st--){const Pt=we.charCodeAt(st);if(Pt!==32&&Pt!==9)return st}return-1}function f(we,Ye){return we<Ye?-1:we>Ye?1:0}function v(we,Ye,st=0,Pt=we.length,Qt=0,ci=Ye.length){for(;st<Pt&&Qt<ci;st++,Qt++){let Ai=we.charCodeAt(st),oi=Ye.charCodeAt(Qt);if(Ai<oi)return-1;if(Ai>oi)return 1}const Gt=Pt-st,Lt=ci-Qt;return Gt<Lt?-1:Gt>Lt?1:0}function L(we,Ye){return h(we,Ye,0,we.length,0,Ye.length)}function h(we,Ye,st=0,Pt=we.length,Qt=0,ci=Ye.length){for(;st<Pt&&Qt<ci;st++,Qt++){let Ai=we.charCodeAt(st),oi=Ye.charCodeAt(Qt);if(Ai===oi)continue;if(Ai>=128||oi>=128)return v(we.toLowerCase(),Ye.toLowerCase(),st,Pt,Qt,ci);R(Ai)&&(Ai-=32),R(oi)&&(oi-=32);const $e=Ai-oi;if($e!==0)return $e}const Gt=Pt-st,Lt=ci-Qt;return Gt<Lt?-1:Gt>Lt?1:0}function R(we){return we>=97&&we<=122}function T(we){return we>=65&&we<=90}function W(we,Ye){return we.length===Ye.length&&h(we,Ye)===0}function K(we,Ye){const st=Ye.length;return Ye.length>we.length?!1:h(we,Ye,0,st)===0}function ie(we,Ye){let st,Pt=Math.min(we.length,Ye.length);for(st=0;st<Pt;st++)if(we.charCodeAt(st)!==Ye.charCodeAt(st))return st;return Pt}function ce(we,Ye){let st,Pt=Math.min(we.length,Ye.length);const Qt=we.length-1,ci=Ye.length-1;for(st=0;st<Pt;st++)if(we.charCodeAt(Qt-st)!==Ye.charCodeAt(ci-st))return st;return Pt}function _e(we){return 55296<=we&&we<=56319}function ve(we){return 56320<=we&&we<=57343}function De(we,Ye){return(we-55296<<10)+(Ye-56320)+65536}function le(we,Ye,st){const Pt=we.charCodeAt(st);if(_e(Pt)&&st+1<Ye){const Qt=we.charCodeAt(st+1);if(ve(Qt))return De(Pt,Qt)}return Pt}function Z(we,Ye){const st=we.charCodeAt(Ye-1);if(ve(st)&&Ye>1){const Pt=we.charCodeAt(Ye-2);if(_e(Pt))return De(Pt,st)}return st}function $(we,Ye){const st=ke.getInstance(),Pt=Ye,Qt=we.length,ci=le(we,Qt,Ye);Ye+=ci>=65536?2:1;let Gt=st.getGraphemeBreakType(ci);for(;Ye<Qt;){const Lt=le(we,Qt,Ye),Ai=st.getGraphemeBreakType(Lt);if(he(Gt,Ai))break;Ye+=Lt>=65536?2:1,Gt=Ai}return Ye-Pt}function G(we,Ye){const st=ke.getInstance(),Pt=Ye,Qt=Z(we,Ye);Ye-=Qt>=65536?2:1;let ci=st.getGraphemeBreakType(Qt);for(;Ye>0;){const Gt=Z(we,Ye),Lt=st.getGraphemeBreakType(Gt);if(he(Lt,ci))break;Ye-=Gt>=65536?2:1,ci=Lt}return Pt-Ye}const q=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function p(we){return q.test(we)}const S=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function B(we){return S.test(we)}const te=/^[\t\n\r\x20-\x7E]*$/;function me(we){return te.test(we)}const de=/[\u2028\u2029]/;function Pe(we){return de.test(we)}function Me(we){for(let Ye=0,st=we.length;Ye<st;Ye++)if(nt(we.charCodeAt(Ye)))return!0;return!1}function nt(we){return we=+we,we>=11904&&we<=55215||we>=63744&&we<=64255||we>=65281&&we<=65374}function It(we){return we>=127462&&we<=127487||we===8986||we===8987||we===9200||we===9203||we>=9728&&we<=10175||we===11088||we===11093||we>=127744&&we<=128591||we>=128640&&we<=128764||we>=128992&&we<=129003||we>=129280&&we<=129535||we>=129648&&we<=129750}const ht="\uFEFF";function Mt(we){return!!(we&&we.length>0&&we.charCodeAt(0)===65279)}function it(we,Ye=!1){return we?(Ye&&(we=we.replace(/\\./g,"")),we.toLowerCase()!==we):!1}function kt(we){return we=we%(2*26),we<26?String.fromCharCode(97+we):String.fromCharCode(65+we-26)}function ze(we){return ke.getInstance().getGraphemeBreakType(we)}function he(we,Ye){return we===0?Ye!==5&&Ye!==7:we===2&&Ye===3?!1:we===4||we===2||we===3||Ye===4||Ye===2||Ye===3?!0:!(we===8&&(Ye===8||Ye===9||Ye===11||Ye===12)||(we===11||we===9)&&(Ye===9||Ye===10)||(we===12||we===10)&&Ye===10||Ye===5||Ye===13||Ye===7||we===1||we===13&&Ye===14||we===6&&Ye===6)}class ke{constructor(){this._data=et()}static getInstance(){return ke._INSTANCE||(ke._INSTANCE=new ke),ke._INSTANCE}getGraphemeBreakType(Ye){if(Ye<32)return Ye===10?3:Ye===13?2:4;if(Ye<127)return 0;const st=this._data,Pt=st.length/3;let Qt=1;for(;Qt<=Pt;)if(Ye<st[3*Qt])Qt=2*Qt;else if(Ye>st[3*Qt+1])Qt=2*Qt+1;else return st[3*Qt+2];return 0}}ke._INSTANCE=null;function et(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}function at(we,Ye){if(we===0)return 0;const st=rt(we,Ye);if(st!==void 0)return st;const Pt=Z(Ye,we);return we-=Ne(Pt),we}function rt(we,Ye){let st=Z(Ye,we);for(we-=Ne(st);Oe(st)||st===65039||st===8419;){if(we===0)return;st=Z(Ye,we),we-=Ne(st)}if(It(st)){if(we>=0){const Pt=Z(Ye,we);Pt===8205&&(we-=Ne(Pt))}return we}}function Ne(we){return we>=65536?2:1}function Oe(we){return 127995<=we&&we<=127999}},98401:function(Yt,Ue,c){"use strict";c.d(Ue,{$E:function(){return x},$K:function(){return k},D8:function(){return C},HD:function(){return Y},IU:function(){return w},Jp:function(){return P},Kn:function(){return Q},f6:function(){return D},hj:function(){return O},jn:function(){return y},kJ:function(){return g},mf:function(){return m},o8:function(){return J},p_:function(){return s},vE:function(){return f}});function g(v){return Array.isArray(v)}function Y(v){return typeof v=="string"}function Q(v){return typeof v=="object"&&v!==null&&!Array.isArray(v)&&!(v instanceof RegExp)&&!(v instanceof Date)}function O(v){return typeof v=="number"&&!isNaN(v)}function y(v){return v===!0||v===!1}function J(v){return typeof v=="undefined"}function k(v){return!P(v)}function P(v){return J(v)||v===null}function s(v,L){if(!v)throw new Error(L?`Unexpected type, expected '${L}'`:"Unexpected type")}function I(v){if(P(v))throw new Error("Assertion Failed: argument is undefined or null");return v}function m(v){return typeof v=="function"}function C(v,L){const h=Math.min(v.length,L.length);for(let R=0;R<h;R++)V(v[R],L[R])}function V(v,L){if(Y(L)){if(typeof v!==L)throw new Error(`argument does not match constraint: typeof ${L}`)}else if(m(L)){try{if(v instanceof L)return}catch(h){}if(!P(v)&&v.constructor===L||L.length===1&&L.call(void 0,v)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function r(v){let L=[],h=Object.getPrototypeOf(v);for(;Object.prototype!==h;)L=L.concat(Object.getOwnPropertyNames(h)),h=Object.getPrototypeOf(h);return L}function x(v){const L=[];for(const h of r(v))typeof v[h]=="function"&&L.push(h);return L}function w(v,L){const h=T=>function(){const W=Array.prototype.slice.call(arguments,0);return L(T,W)};let R={};for(const T of v)R[T]=h(T);return R}function D(v){return v===null?void 0:v}function f(v,L="Unreachable"){throw new Error(L)}},85427:function(Yt,Ue,c){"use strict";c.d(Ue,{A:function(){return Y},K:function(){return g}});function g(Q){return Q<0?0:Q>255?255:Q|0}function Y(Q){return Q<0?0:Q>4294967295?4294967295:Q|0}},70666:function(Yt,Ue,c){"use strict";c.d(Ue,{o:function(){return C},q:function(){return f}});var g=c(55336),Y=c(1432);const Q=/^\w[\w\d+.-]*$/,O=/^\//,y=/^\/\//;function J(T,W){if(!T.scheme&&W)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${T.authority}", path: "${T.path}", query: "${T.query}", fragment: "${T.fragment}"}`);if(T.scheme&&!Q.test(T.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(T.path){if(T.authority){if(!O.test(T.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(y.test(T.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function k(T,W){return!T&&!W?"file":T}function P(T,W){switch(T){case"https":case"http":case"file":W?W[0]!==I&&(W=I+W):W=I;break}return W}const s="",I="/",m=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class C{constructor(W,K,ie,ce,_e,ve=!1){typeof W=="object"?(this.scheme=W.scheme||s,this.authority=W.authority||s,this.path=W.path||s,this.query=W.query||s,this.fragment=W.fragment||s):(this.scheme=k(W,ve),this.authority=K||s,this.path=P(this.scheme,ie||s),this.query=ce||s,this.fragment=_e||s,J(this,ve))}static isUri(W){return W instanceof C?!0:W?typeof W.authority=="string"&&typeof W.fragment=="string"&&typeof W.path=="string"&&typeof W.query=="string"&&typeof W.scheme=="string"&&typeof W.fsPath=="string"&&typeof W.with=="function"&&typeof W.toString=="function":!1}get fsPath(){return f(this,!1)}with(W){if(!W)return this;let{scheme:K,authority:ie,path:ce,query:_e,fragment:ve}=W;return K===void 0?K=this.scheme:K===null&&(K=s),ie===void 0?ie=this.authority:ie===null&&(ie=s),ce===void 0?ce=this.path:ce===null&&(ce=s),_e===void 0?_e=this.query:_e===null&&(_e=s),ve===void 0?ve=this.fragment:ve===null&&(ve=s),K===this.scheme&&ie===this.authority&&ce===this.path&&_e===this.query&&ve===this.fragment?this:new r(K,ie,ce,_e,ve)}static parse(W,K=!1){const ie=m.exec(W);return ie?new r(ie[2]||s,R(ie[4]||s),R(ie[5]||s),R(ie[7]||s),R(ie[9]||s),K):new r(s,s,s,s,s)}static file(W){let K=s;if(Y.ED&&(W=W.replace(/\\/g,I)),W[0]===I&&W[1]===I){const ie=W.indexOf(I,2);ie===-1?(K=W.substring(2),W=I):(K=W.substring(2,ie),W=W.substring(ie)||I)}return new r("file",K,W,s,s)}static from(W){const K=new r(W.scheme,W.authority,W.path,W.query,W.fragment);return J(K,!0),K}static joinPath(W,...K){if(!W.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let ie;return Y.ED&&W.scheme==="file"?ie=C.file(g.Ku.join(f(W,!0),...K)).path:ie=g.KR.join(W.path,...K),W.with({path:ie})}toString(W=!1){return v(this,W)}toJSON(){return this}static revive(W){if(W){if(W instanceof C)return W;{const K=new r(W);return K._formatted=W.external,K._fsPath=W._sep===V?W.fsPath:null,K}}else return W}}const V=Y.ED?1:void 0;class r extends C{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=f(this,!1)),this._fsPath}toString(W=!1){return W?v(this,!0):(this._formatted||(this._formatted=v(this,!1)),this._formatted)}toJSON(){const W={$mid:1};return this._fsPath&&(W.fsPath=this._fsPath,W._sep=V),this._formatted&&(W.external=this._formatted),this.path&&(W.path=this.path),this.scheme&&(W.scheme=this.scheme),this.authority&&(W.authority=this.authority),this.query&&(W.query=this.query),this.fragment&&(W.fragment=this.fragment),W}}const x={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function w(T,W){let K,ie=-1;for(let ce=0;ce<T.length;ce++){const _e=T.charCodeAt(ce);if(_e>=97&&_e<=122||_e>=65&&_e<=90||_e>=48&&_e<=57||_e===45||_e===46||_e===95||_e===126||W&&_e===47)ie!==-1&&(K+=encodeURIComponent(T.substring(ie,ce)),ie=-1),K!==void 0&&(K+=T.charAt(ce));else{K===void 0&&(K=T.substr(0,ce));const ve=x[_e];ve!==void 0?(ie!==-1&&(K+=encodeURIComponent(T.substring(ie,ce)),ie=-1),K+=ve):ie===-1&&(ie=ce)}}return ie!==-1&&(K+=encodeURIComponent(T.substring(ie))),K!==void 0?K:T}function D(T){let W;for(let K=0;K<T.length;K++){const ie=T.charCodeAt(K);ie===35||ie===63?(W===void 0&&(W=T.substr(0,K)),W+=x[ie]):W!==void 0&&(W+=T[K])}return W!==void 0?W:T}function f(T,W){let K;return T.authority&&T.path.length>1&&T.scheme==="file"?K=`//${T.authority}${T.path}`:T.path.charCodeAt(0)===47&&(T.path.charCodeAt(1)>=65&&T.path.charCodeAt(1)<=90||T.path.charCodeAt(1)>=97&&T.path.charCodeAt(1)<=122)&&T.path.charCodeAt(2)===58?W?K=T.path.substr(1):K=T.path[1].toLowerCase()+T.path.substr(2):K=T.path,Y.ED&&(K=K.replace(/\//g,"\\")),K}function v(T,W){const K=W?D:w;let ie="",{scheme:ce,authority:_e,path:ve,query:De,fragment:le}=T;if(ce&&(ie+=ce,ie+=":"),(_e||ce==="file")&&(ie+=I,ie+=I),_e){let Z=_e.indexOf("@");if(Z!==-1){const $=_e.substr(0,Z);_e=_e.substr(Z+1),Z=$.indexOf(":"),Z===-1?ie+=K($,!1):(ie+=K($.substr(0,Z),!1),ie+=":",ie+=K($.substr(Z+1),!1)),ie+="@"}_e=_e.toLowerCase(),Z=_e.indexOf(":"),Z===-1?ie+=K(_e,!1):(ie+=K(_e.substr(0,Z),!1),ie+=_e.substr(Z))}if(ve){if(ve.length>=3&&ve.charCodeAt(0)===47&&ve.charCodeAt(2)===58){const Z=ve.charCodeAt(1);Z>=65&&Z<=90&&(ve=`/${String.fromCharCode(Z+32)}:${ve.substr(3)}`)}else if(ve.length>=2&&ve.charCodeAt(1)===58){const Z=ve.charCodeAt(0);Z>=65&&Z<=90&&(ve=`${String.fromCharCode(Z+32)}:${ve.substr(2)}`)}ie+=K(ve,!0)}return De&&(ie+="?",ie+=K(De,!1)),le&&(ie+="#",ie+=W?le:w(le,!1)),ie}function L(T){try{return decodeURIComponent(T)}catch(W){return T.length>3?T.substr(0,3)+L(T.substr(3)):T}}const h=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function R(T){return T.match(h)?T.replace(h,W=>L(W)):T}},25552:function(Yt,Ue,c){"use strict";c.d(Ue,{H:function(){return J}});var g=c(89587),Y={},Q={},O=function(){function k(P){var s=this;this._languageId=P,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise(function(I,m){s._lazyLoadPromiseResolve=I,s._lazyLoadPromiseReject=m})}return k.getOrCreate=function(P){return Q[P]||(Q[P]=new k(P)),Q[P]},k.prototype.whenLoaded=function(){return this._lazyLoadPromise},k.prototype.load=function(){var P=this;return this._loadingTriggered||(this._loadingTriggered=!0,Y[this._languageId].loader().then(function(s){return P._lazyLoadPromiseResolve(s)},function(s){return P._lazyLoadPromiseReject(s)})),this._lazyLoadPromise},k}();function y(k){return O.getOrCreate(k).load()}function J(k){var P=k.id;Y[P]=k,g.Mj.register(k);var s=O.getOrCreate(P);g.Mj.setMonarchTokensProvider(P,s.whenLoaded().then(function(I){return I.language})),g.Mj.onLanguage(P,function(){s.load().then(function(I){g.Mj.setLanguageConfiguration(P,I.conf)})})}},56292:function(Yt,Ue,c){"use strict";c.r(Ue);var g=c(25552);(0,g.H)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return c.e(75).then(c.bind(c,62075))}})},89587:function(Yt,Ue,c){"use strict";c.d(Ue,{Mj:function(){return g.languages}});var g=c(50048)},40902:function(Yt,Ue,c){"use strict";c.r(Ue);var g=c(25552);(0,g.H)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return c.e(571).then(c.bind(c,2571))}})},43763:function(Yt,Ue,c){"use strict";c.r(Ue);var g=c(25552);(0,g.H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return c.e(134).then(c.bind(c,41134))}})},88307:function(Yt,Ue,c){"use strict";c.r(Ue);var g=c(25552);(0,g.H)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return c.e(713).then(c.bind(c,96717))}})},87917:function(Yt,Ue,c){"use strict";c.d(Ue,{V:function(){return x},P:function(){return V}});var g=c(16268),Y=c(4669),Q=c(5976),O=c(1432),y=c(64141);class J{constructor(D,f){this.chr=D,this.type=f,this.width=0}fulfill(D){this.width=D}}class k{constructor(D,f){this._bareFontInfo=D,this._requests=f,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const D=this._bareFontInfo.getMassagedFontFamily(g.G6?y.hL.fontFamily:null),f=document.createElement("div");f.style.position="absolute",f.style.top="-50000px",f.style.width="50000px";const v=document.createElement("div");v.style.fontFamily=D,v.style.fontWeight=this._bareFontInfo.fontWeight,v.style.fontSize=this._bareFontInfo.fontSize+"px",v.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,v.style.lineHeight=this._bareFontInfo.lineHeight+"px",v.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",f.appendChild(v);const L=document.createElement("div");L.style.fontFamily=D,L.style.fontWeight="bold",L.style.fontSize=this._bareFontInfo.fontSize+"px",L.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,L.style.lineHeight=this._bareFontInfo.lineHeight+"px",L.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",f.appendChild(L);const h=document.createElement("div");h.style.fontFamily=D,h.style.fontWeight=this._bareFontInfo.fontWeight,h.style.fontSize=this._bareFontInfo.fontSize+"px",h.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,h.style.lineHeight=this._bareFontInfo.lineHeight+"px",h.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",h.style.fontStyle="italic",f.appendChild(h);const R=[];for(const T of this._requests){let W;T.type===0&&(W=v),T.type===2&&(W=L),T.type===1&&(W=h),W.appendChild(document.createElement("br"));const K=document.createElement("span");k._render(K,T),W.appendChild(K),R.push(K)}this._container=f,this._testElements=R}static _render(D,f){if(f.chr===" "){let v="\xA0";for(let L=0;L<8;L++)v+=v;D.innerText=v}else{let v=f.chr;for(let L=0;L<8;L++)v+=v;D.textContent=v}}_readFromDomElements(){for(let D=0,f=this._requests.length;D<f;D++){const v=this._requests[D],L=this._testElements[D];v.fulfill(L.offsetWidth/256)}}}function P(w,D){new k(w,D).read()}var s=c(54534),I=c(56345),m=c(27374);class C{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(D){const f=D.getId();return!!this._values[f]}get(D){const f=D.getId();return this._values[f]}put(D,f){const v=D.getId();this._keys[v]=D,this._values[v]=f}remove(D){const f=D.getId();delete this._keys[f],delete this._values[f]}getValues(){return Object.keys(this._keys).map(D=>this._values[D])}}function V(){r.INSTANCE.clearCache()}class r extends Q.JT{constructor(){super(),this._onDidChange=this._register(new Y.Q5),this.onDidChange=this._onDidChange.event,this._cache=new C,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new C,this._onDidChange.fire()}_writeToCache(D,f){this._cache.put(D,f),!f.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const D=this._cache.getValues();let f=!1;for(const v of D)v.isTrusted||(f=!0,this._cache.remove(v));f&&this._onDidChange.fire()}readConfiguration(D){if(!this._cache.has(D)){let f=r._actualReadConfiguration(D);(f.typicalHalfwidthCharacterWidth<=2||f.typicalFullwidthCharacterWidth<=2||f.spaceWidth<=2||f.maxDigitWidth<=2)&&(f=new m.pR({zoomLevel:g.px(),pixelRatio:g.mX(),fontFamily:f.fontFamily,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFeatureSettings:f.fontFeatureSettings,lineHeight:f.lineHeight,letterSpacing:f.letterSpacing,isMonospace:f.isMonospace,typicalHalfwidthCharacterWidth:Math.max(f.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(f.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:f.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(f.spaceWidth,5),middotWidth:Math.max(f.middotWidth,5),wsmiddotWidth:Math.max(f.wsmiddotWidth,5),maxDigitWidth:Math.max(f.maxDigitWidth,5)},!1)),this._writeToCache(D,f)}return this._cache.get(D)}static createRequest(D,f,v,L){const h=new J(D,f);return v.push(h),L&&L.push(h),h}static _actualReadConfiguration(D){const f=[],v=[],L=this.createRequest("n",0,f,v),h=this.createRequest("\uFF4D",0,f,null),R=this.createRequest(" ",0,f,v),T=this.createRequest("0",0,f,v),W=this.createRequest("1",0,f,v),K=this.createRequest("2",0,f,v),ie=this.createRequest("3",0,f,v),ce=this.createRequest("4",0,f,v),_e=this.createRequest("5",0,f,v),ve=this.createRequest("6",0,f,v),De=this.createRequest("7",0,f,v),le=this.createRequest("8",0,f,v),Z=this.createRequest("9",0,f,v),$=this.createRequest("\u2192",0,f,v),G=this.createRequest("\uFFEB",0,f,null),q=this.createRequest("\xB7",0,f,v),p=this.createRequest("\u2E31",0,f,null),S="|/-_ilm%";for(let Me=0,nt=S.length;Me<nt;Me++)this.createRequest(S.charAt(Me),0,f,v),this.createRequest(S.charAt(Me),1,f,v),this.createRequest(S.charAt(Me),2,f,v);P(D,f);const B=Math.max(T.width,W.width,K.width,ie.width,ce.width,_e.width,ve.width,De.width,le.width,Z.width);let te=D.fontFeatureSettings===y.n0.OFF;const me=v[0].width;for(let Me=1,nt=v.length;te&&Me<nt;Me++){const It=me-v[Me].width;if(It<-.001||It>.001){te=!1;break}}let de=!0;te&&G.width!==me&&(de=!1),G.width>$.width&&(de=!1);const Pe=g.WP()>2e3;return new m.pR({zoomLevel:g.px(),pixelRatio:g.mX(),fontFamily:D.fontFamily,fontWeight:D.fontWeight,fontSize:D.fontSize,fontFeatureSettings:D.fontFeatureSettings,lineHeight:D.lineHeight,letterSpacing:D.letterSpacing,isMonospace:te,typicalHalfwidthCharacterWidth:L.width,typicalFullwidthCharacterWidth:h.width,canUseHalfwidthRightwardsArrow:de,spaceWidth:R.width,middotWidth:q.width,wsmiddotWidth:p.width,maxDigitWidth:B},Pe)}}r.INSTANCE=new r;class x extends I.fv{constructor(D,f,v=null,L){super(D,f),this.accessibilityService=L,this._elementSizeObserver=this._register(new s.I(v,f.dimension,()=>this._recomputeOptions())),this._register(r.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(g.fX(h=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(D,f){D.style.fontFamily=f.getMassagedFontFamily(g.G6?y.hL.fontFamily:null),D.style.fontWeight=f.fontWeight,D.style.fontSize=f.fontSize+"px",D.style.fontFeatureSettings=f.fontFeatureSettings,D.style.lineHeight=f.lineHeight+"px",D.style.letterSpacing=f.letterSpacing+"px"}static applyFontInfo(D,f){D.setFontFamily(f.getMassagedFontFamily(g.G6?y.hL.fontFamily:null)),D.setFontWeight(f.fontWeight),D.setFontSize(f.fontSize),D.setFontFeatureSettings(f.fontFeatureSettings),D.setLineHeight(f.lineHeight),D.setLetterSpacing(f.letterSpacing)}observeReferenceElement(D){this._elementSizeObserver.observe(D)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let D="";return!g.G6&&!g.MG&&(D+="no-user-select "),g.G6&&(D+="no-minimap-shadow "),O.dz&&(D+="mac "),D}_getEnvConfiguration(){return{extraEditorClassName:x._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:g.Pf||g.vU,pixelRatio:g.mX(),zoomLevel:g.px(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(D){return r.INSTANCE.readConfiguration(D)}}},54534:function(Yt,Ue,c){"use strict";c.d(Ue,{I:function(){return Y}});var g=c(5976);class Y extends g.JT{constructor(O,y,J){super(),this.referenceDomElement=O,this.changeCallback=J,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,y)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver!="undefined"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(O=>{O&&O[0]&&O[0].contentRect?this.observe({width:O[0].contentRect.width,height:O[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(O){this.measureReferenceDomElement(!0,O)}measureReferenceDomElement(O,y){let J=0,k=0;y?(J=y.width,k=y.height):this.referenceDomElement&&(J=this.referenceDomElement.clientWidth,k=this.referenceDomElement.clientHeight),J=Math.max(5,J),k=Math.max(5,k),(this.width!==J||this.height!==k)&&(this.width=J,this.height=k,O&&this.changeCallback())}}},89495:function(Yt,Ue,c){"use strict";c.r(Ue),c.d(Ue,{CoreEditingCommands:function(){return ve},CoreEditorCommand:function(){return h},CoreNavigationCommands:function(){return K},EditorScroll_:function(){return R},RevealLine_:function(){return T}});var g=c(63580),Y=c(16268),Q=c(98401),O=c(35996),y=c(16830),J=c(11640),k=c(33181),P=c(50187),s=c(24314);class I{static columnSelect($,G,q,p,S,B){let te=Math.abs(S-q)+1,me=q>S,de=p>B,Pe=p<B,Me=[];for(let nt=0;nt<te;nt++){let It=q+(me?-nt:nt),ht=k.io.columnFromVisibleColumn2($,G,It,p),Mt=k.io.columnFromVisibleColumn2($,G,It,B),it=k.io.visibleColumnFromColumn2($,G,new P.L(It,ht)),kt=k.io.visibleColumnFromColumn2($,G,new P.L(It,Mt));Pe&&(it>B||kt<p)||de&&(kt>p||it<B)||Me.push(new k.rS(new s.e(It,ht,It,ht),0,new P.L(It,Mt),0))}if(Me.length===0)for(let nt=0;nt<te;nt++){const It=q+(me?-nt:nt),ht=G.getLineMaxColumn(It);Me.push(new k.rS(new s.e(It,ht,It,ht),0,new P.L(It,ht),0))}return{viewStates:Me,reversed:me,fromLineNumber:q,fromVisualColumn:p,toLineNumber:S,toVisualColumn:B}}static columnSelectLeft($,G,q){let p=q.toViewVisualColumn;return p>0&&p--,I.columnSelect($,G,q.fromViewLineNumber,q.fromViewVisualColumn,q.toViewLineNumber,p)}static columnSelectRight($,G,q){let p=0;const S=Math.min(q.fromViewLineNumber,q.toViewLineNumber),B=Math.max(q.fromViewLineNumber,q.toViewLineNumber);for(let me=S;me<=B;me++){const de=G.getLineMaxColumn(me),Pe=k.io.visibleColumnFromColumn2($,G,new P.L(me,de));p=Math.max(p,Pe)}let te=q.toViewVisualColumn;return te<p&&te++,this.columnSelect($,G,q.fromViewLineNumber,q.fromViewVisualColumn,q.toViewLineNumber,te)}static columnSelectUp($,G,q,p){const S=p?$.pageSize:1,B=Math.max(1,q.toViewLineNumber-S);return this.columnSelect($,G,q.fromViewLineNumber,q.fromViewVisualColumn,B,q.toViewVisualColumn)}static columnSelectDown($,G,q,p){const S=p?$.pageSize:1,B=Math.min(G.getLineCount(),q.toViewLineNumber+S);return this.columnSelect($,G,q.fromViewLineNumber,q.fromViewVisualColumn,B,q.toViewVisualColumn)}}var m=c(31380),C=c(88784),V=c(5795);class r{static addCursorDown($,G,q){let p=[],S=0;for(let B=0,te=G.length;B<te;B++){const me=G[B];p[S++]=new k.Vi(me.modelState,me.viewState),q?p[S++]=k.Vi.fromModelState(C.o.translateDown($.cursorConfig,$.model,me.modelState)):p[S++]=k.Vi.fromViewState(C.o.translateDown($.cursorConfig,$,me.viewState))}return p}static addCursorUp($,G,q){let p=[],S=0;for(let B=0,te=G.length;B<te;B++){const me=G[B];p[S++]=new k.Vi(me.modelState,me.viewState),q?p[S++]=k.Vi.fromModelState(C.o.translateUp($.cursorConfig,$.model,me.modelState)):p[S++]=k.Vi.fromViewState(C.o.translateUp($.cursorConfig,$,me.viewState))}return p}static moveToBeginningOfLine($,G,q){let p=[];for(let S=0,B=G.length;S<B;S++){const te=G[S];p[S]=this._moveToLineStart($,te,q)}return p}static _moveToLineStart($,G,q){const p=G.viewState.position.column,S=G.modelState.position.column,B=p===S,te=G.viewState.position.lineNumber,me=$.getLineFirstNonWhitespaceColumn(te);return!B&&!(p===me)?this._moveToLineStartByView($,G,q):this._moveToLineStartByModel($,G,q)}static _moveToLineStartByView($,G,q){return k.Vi.fromViewState(C.o.moveToBeginningOfLine($.cursorConfig,$,G.viewState,q))}static _moveToLineStartByModel($,G,q){return k.Vi.fromModelState(C.o.moveToBeginningOfLine($.cursorConfig,$.model,G.modelState,q))}static moveToEndOfLine($,G,q,p){let S=[];for(let B=0,te=G.length;B<te;B++){const me=G[B];S[B]=this._moveToLineEnd($,me,q,p)}return S}static _moveToLineEnd($,G,q,p){const S=G.viewState.position,B=$.getLineMaxColumn(S.lineNumber),te=S.column===B,me=G.modelState.position,de=$.model.getLineMaxColumn(me.lineNumber),Pe=B-S.column===de-me.column;return te||Pe?this._moveToLineEndByModel($,G,q,p):this._moveToLineEndByView($,G,q,p)}static _moveToLineEndByView($,G,q,p){return k.Vi.fromViewState(C.o.moveToEndOfLine($.cursorConfig,$,G.viewState,q,p))}static _moveToLineEndByModel($,G,q,p){return k.Vi.fromModelState(C.o.moveToEndOfLine($.cursorConfig,$.model,G.modelState,q,p))}static expandLineSelection($,G){let q=[];for(let p=0,S=G.length;p<S;p++){const B=G[p],te=B.modelState.selection.startLineNumber,me=$.model.getLineCount();let de=B.modelState.selection.endLineNumber,Pe;de===me?Pe=$.model.getLineMaxColumn(me):(de++,Pe=1),q[p]=k.Vi.fromModelState(new k.rS(new s.e(te,1,te,1),0,new P.L(de,Pe),0))}return q}static moveToBeginningOfBuffer($,G,q){let p=[];for(let S=0,B=G.length;S<B;S++){const te=G[S];p[S]=k.Vi.fromModelState(C.o.moveToBeginningOfBuffer($.cursorConfig,$.model,te.modelState,q))}return p}static moveToEndOfBuffer($,G,q){let p=[];for(let S=0,B=G.length;S<B;S++){const te=G[S];p[S]=k.Vi.fromModelState(C.o.moveToEndOfBuffer($.cursorConfig,$.model,te.modelState,q))}return p}static selectAll($,G){const q=$.model.getLineCount(),p=$.model.getLineMaxColumn(q);return k.Vi.fromModelState(new k.rS(new s.e(1,1,1,1),0,new P.L(q,p),0))}static line($,G,q,p,S){const B=$.model.validatePosition(p),te=S?$.coordinatesConverter.validateViewPosition(new P.L(S.lineNumber,S.column),B):$.coordinatesConverter.convertModelPositionToViewPosition(B);if(!q||!G.modelState.hasSelection()){const de=$.model.getLineCount();let Pe=B.lineNumber+1,Me=1;return Pe>de&&(Pe=de,Me=$.model.getLineMaxColumn(Pe)),k.Vi.fromModelState(new k.rS(new s.e(B.lineNumber,1,Pe,Me),0,new P.L(Pe,Me),0))}const me=G.modelState.selectionStart.getStartPosition().lineNumber;if(B.lineNumber<me)return k.Vi.fromViewState(G.viewState.move(G.modelState.hasSelection(),te.lineNumber,1,0));if(B.lineNumber>me){const de=$.getLineCount();let Pe=te.lineNumber+1,Me=1;return Pe>de&&(Pe=de,Me=$.getLineMaxColumn(Pe)),k.Vi.fromViewState(G.viewState.move(G.modelState.hasSelection(),Pe,Me,0))}else{const de=G.modelState.selectionStart.getEndPosition();return k.Vi.fromModelState(G.modelState.move(G.modelState.hasSelection(),de.lineNumber,de.column,0))}}static word($,G,q,p){const S=$.model.validatePosition(p);return k.Vi.fromModelState(V.w.word($.cursorConfig,$.model,G.modelState,q,S))}static cancelSelection($,G){if(!G.modelState.hasSelection())return new k.Vi(G.modelState,G.viewState);const q=G.viewState.position.lineNumber,p=G.viewState.position.column;return k.Vi.fromViewState(new k.rS(new s.e(q,p,q,p),0,new P.L(q,p),0))}static moveTo($,G,q,p,S){const B=$.model.validatePosition(p),te=S?$.coordinatesConverter.validateViewPosition(new P.L(S.lineNumber,S.column),B):$.coordinatesConverter.convertModelPositionToViewPosition(B);return k.Vi.fromViewState(G.viewState.move(q,te.lineNumber,te.column,0))}static simpleMove($,G,q,p,S,B){switch(q){case 0:return B===4?this._moveHalfLineLeft($,G,p):this._moveLeft($,G,p,S);case 1:return B===4?this._moveHalfLineRight($,G,p):this._moveRight($,G,p,S);case 2:return B===2?this._moveUpByViewLines($,G,p,S):this._moveUpByModelLines($,G,p,S);case 3:return B===2?this._moveDownByViewLines($,G,p,S):this._moveDownByModelLines($,G,p,S);case 4:return B===2?G.map(te=>k.Vi.fromViewState(C.o.moveToPrevBlankLine($.cursorConfig,$,te.viewState,p))):G.map(te=>k.Vi.fromModelState(C.o.moveToPrevBlankLine($.cursorConfig,$.model,te.modelState,p)));case 5:return B===2?G.map(te=>k.Vi.fromViewState(C.o.moveToNextBlankLine($.cursorConfig,$,te.viewState,p))):G.map(te=>k.Vi.fromModelState(C.o.moveToNextBlankLine($.cursorConfig,$.model,te.modelState,p)));case 6:return this._moveToViewMinColumn($,G,p);case 7:return this._moveToViewFirstNonWhitespaceColumn($,G,p);case 8:return this._moveToViewCenterColumn($,G,p);case 9:return this._moveToViewMaxColumn($,G,p);case 10:return this._moveToViewLastNonWhitespaceColumn($,G,p);default:return null}}static viewportMove($,G,q,p,S){const B=$.getCompletelyVisibleViewRange(),te=$.coordinatesConverter.convertViewRangeToModelRange(B);switch(q){case 11:{const me=this._firstLineNumberInRange($.model,te,S),de=$.model.getLineFirstNonWhitespaceColumn(me);return[this._moveToModelPosition($,G[0],p,me,de)]}case 13:{const me=this._lastLineNumberInRange($.model,te,S),de=$.model.getLineFirstNonWhitespaceColumn(me);return[this._moveToModelPosition($,G[0],p,me,de)]}case 12:{const me=Math.round((te.startLineNumber+te.endLineNumber)/2),de=$.model.getLineFirstNonWhitespaceColumn(me);return[this._moveToModelPosition($,G[0],p,me,de)]}case 14:{let me=[];for(let de=0,Pe=G.length;de<Pe;de++){const Me=G[de];me[de]=this.findPositionInViewportIfOutside($,Me,B,p)}return me}default:return null}}static findPositionInViewportIfOutside($,G,q,p){let S=G.viewState.position.lineNumber;if(q.startLineNumber<=S&&S<=q.endLineNumber-1)return new k.Vi(G.modelState,G.viewState);{let B;S>q.endLineNumber-1?B=q.endLineNumber-1:S<q.startLineNumber?B=q.startLineNumber:B=S;const te=C.o.vertical($.cursorConfig,$,S,G.viewState.position.column,G.viewState.leftoverVisibleColumns,B,!1);return k.Vi.fromViewState(G.viewState.move(p,te.lineNumber,te.column,te.leftoverVisibleColumns))}}static _firstLineNumberInRange($,G,q){let p=G.startLineNumber;return G.startColumn!==$.getLineMinColumn(p)&&p++,Math.min(G.endLineNumber,p+q-1)}static _lastLineNumberInRange($,G,q){let p=G.startLineNumber;return G.startColumn!==$.getLineMinColumn(p)&&p++,Math.max(p,G.endLineNumber-q+1)}static _moveLeft($,G,q,p){return G.map(S=>k.Vi.fromViewState(C.o.moveLeft($.cursorConfig,$,S.viewState,q,p)))}static _moveHalfLineLeft($,G,q){let p=[];for(let S=0,B=G.length;S<B;S++){const te=G[S],me=te.viewState.position.lineNumber,de=Math.round($.getLineContent(me).length/2);p[S]=k.Vi.fromViewState(C.o.moveLeft($.cursorConfig,$,te.viewState,q,de))}return p}static _moveRight($,G,q,p){return G.map(S=>k.Vi.fromViewState(C.o.moveRight($.cursorConfig,$,S.viewState,q,p)))}static _moveHalfLineRight($,G,q){let p=[];for(let S=0,B=G.length;S<B;S++){const te=G[S],me=te.viewState.position.lineNumber,de=Math.round($.getLineContent(me).length/2);p[S]=k.Vi.fromViewState(C.o.moveRight($.cursorConfig,$,te.viewState,q,de))}return p}static _moveDownByViewLines($,G,q,p){let S=[];for(let B=0,te=G.length;B<te;B++){const me=G[B];S[B]=k.Vi.fromViewState(C.o.moveDown($.cursorConfig,$,me.viewState,q,p))}return S}static _moveDownByModelLines($,G,q,p){let S=[];for(let B=0,te=G.length;B<te;B++){const me=G[B];S[B]=k.Vi.fromModelState(C.o.moveDown($.cursorConfig,$.model,me.modelState,q,p))}return S}static _moveUpByViewLines($,G,q,p){let S=[];for(let B=0,te=G.length;B<te;B++){const me=G[B];S[B]=k.Vi.fromViewState(C.o.moveUp($.cursorConfig,$,me.viewState,q,p))}return S}static _moveUpByModelLines($,G,q,p){let S=[];for(let B=0,te=G.length;B<te;B++){const me=G[B];S[B]=k.Vi.fromModelState(C.o.moveUp($.cursorConfig,$.model,me.modelState,q,p))}return S}static _moveToViewPosition($,G,q,p,S){return k.Vi.fromViewState(G.viewState.move(q,p,S,0))}static _moveToModelPosition($,G,q,p,S){return k.Vi.fromModelState(G.modelState.move(q,p,S,0))}static _moveToViewMinColumn($,G,q){let p=[];for(let S=0,B=G.length;S<B;S++){const te=G[S],me=te.viewState.position.lineNumber,de=$.getLineMinColumn(me);p[S]=this._moveToViewPosition($,te,q,me,de)}return p}static _moveToViewFirstNonWhitespaceColumn($,G,q){let p=[];for(let S=0,B=G.length;S<B;S++){const te=G[S],me=te.viewState.position.lineNumber,de=$.getLineFirstNonWhitespaceColumn(me);p[S]=this._moveToViewPosition($,te,q,me,de)}return p}static _moveToViewCenterColumn($,G,q){let p=[];for(let S=0,B=G.length;S<B;S++){const te=G[S],me=te.viewState.position.lineNumber,de=Math.round(($.getLineMaxColumn(me)+$.getLineMinColumn(me))/2);p[S]=this._moveToViewPosition($,te,q,me,de)}return p}static _moveToViewMaxColumn($,G,q){let p=[];for(let S=0,B=G.length;S<B;S++){const te=G[S],me=te.viewState.position.lineNumber,de=$.getLineMaxColumn(me);p[S]=this._moveToViewPosition($,te,q,me,de)}return p}static _moveToViewLastNonWhitespaceColumn($,G,q){let p=[];for(let S=0,B=G.length;S<B;S++){const te=G[S],me=te.viewState.position.lineNumber,de=$.getLineLastNonWhitespaceColumn(me);p[S]=this._moveToViewPosition($,te,q,me,de)}return p}}var x;(function(Z){const $=function(q){if(!Q.Kn(q))return!1;let p=q;return!(!Q.HD(p.to)||!Q.o8(p.select)&&!Q.jn(p.select)||!Q.o8(p.by)&&!Q.HD(p.by)||!Q.o8(p.value)&&!Q.hj(p.value))};Z.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:$,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},Z.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},Z.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function G(q){if(!q.to)return null;let p;switch(q.to){case Z.RawDirection.Left:p=0;break;case Z.RawDirection.Right:p=1;break;case Z.RawDirection.Up:p=2;break;case Z.RawDirection.Down:p=3;break;case Z.RawDirection.PrevBlankLine:p=4;break;case Z.RawDirection.NextBlankLine:p=5;break;case Z.RawDirection.WrappedLineStart:p=6;break;case Z.RawDirection.WrappedLineFirstNonWhitespaceCharacter:p=7;break;case Z.RawDirection.WrappedLineColumnCenter:p=8;break;case Z.RawDirection.WrappedLineEnd:p=9;break;case Z.RawDirection.WrappedLineLastNonWhitespaceCharacter:p=10;break;case Z.RawDirection.ViewPortTop:p=11;break;case Z.RawDirection.ViewPortBottom:p=13;break;case Z.RawDirection.ViewPortCenter:p=12;break;case Z.RawDirection.ViewPortIfOutside:p=14;break;default:return null}let S=0;switch(q.by){case Z.RawUnit.Line:S=1;break;case Z.RawUnit.WrappedLine:S=2;break;case Z.RawUnit.Character:S=3;break;case Z.RawUnit.HalfLine:S=4;break}return{direction:p,unit:S,select:!!q.select,value:q.value||1}}Z.parse=G})(x||(x={}));var w=c(70966),D=c(29102),f=c(38819),v=c(49989);const L=0;class h extends y._l{runEditorCommand($,G,q){const p=G._getViewModel();p&&this.runCoreEditorCommand(p,q||{})}}var R;(function(Z){const $=function(q){if(!Q.Kn(q))return!1;const p=q;return!(!Q.HD(p.to)||!Q.o8(p.by)&&!Q.HD(p.by)||!Q.o8(p.value)&&!Q.hj(p.value)||!Q.o8(p.revealCursor)&&!Q.jn(p.revealCursor))};Z.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:$,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},Z.RawDirection={Up:"up",Down:"down"},Z.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function G(q){let p;switch(q.to){case Z.RawDirection.Up:p=1;break;case Z.RawDirection.Down:p=2;break;default:return null}let S;switch(q.by){case Z.RawUnit.Line:S=1;break;case Z.RawUnit.WrappedLine:S=2;break;case Z.RawUnit.Page:S=3;break;case Z.RawUnit.HalfPage:S=4;break;default:S=2}const B=Math.floor(q.value||1),te=!!q.revealCursor;return{direction:p,unit:S,value:B,revealCursor:te,select:!!q.select}}Z.parse=G})(R||(R={}));var T;(function(Z){const $=function(G){if(!Q.Kn(G))return!1;const q=G;return!(!Q.hj(q.lineNumber)&&!Q.HD(q.lineNumber)||!Q.o8(q.at)&&!Q.HD(q.at))};Z.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:$,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},Z.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(T||(T={}));class W{constructor($){$.addImplementation(1e4,"code-editor",(G,q)=>{const p=G.get(J.$).getFocusedCodeEditor();return p&&p.hasTextFocus()?this._runEditorCommand(G,p,q):!1}),$.addImplementation(1e3,"generic-dom-input-textarea",(G,q)=>{const p=document.activeElement;return p&&["input","textarea"].indexOf(p.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),$.addImplementation(0,"generic-dom",(G,q)=>{const p=G.get(J.$).getActiveCodeEditor();return p?(p.focus(),this._runEditorCommand(G,p,q)):!1})}_runEditorCommand($,G,q){const p=this.runEditorCommand($,G,q);return p||!0}}var K;(function(Z){class $ extends h{constructor(ze){super(ze),this._inSelectionMode=ze.inSelectionMode}runCoreEditorCommand(ze,he){ze.model.pushStackElement(),ze.setCursorStates(he.source,3,[r.moveTo(ze,ze.getPrimaryCursorState(),this._inSelectionMode,he.position,he.viewPosition)]),ze.revealPrimaryCursor(he.source,!0)}}Z.MoveTo=(0,y.fK)(new $({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),Z.MoveToSelect=(0,y.fK)(new $({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class G extends h{runCoreEditorCommand(ze,he){ze.model.pushStackElement();const ke=this._getColumnSelectResult(ze,ze.getPrimaryCursorState(),ze.getCursorColumnSelectData(),he);ze.setCursorStates(he.source,3,ke.viewStates.map(et=>k.Vi.fromViewState(et))),ze.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:ke.fromLineNumber,fromViewVisualColumn:ke.fromVisualColumn,toViewLineNumber:ke.toLineNumber,toViewVisualColumn:ke.toVisualColumn}),ke.reversed?ze.revealTopMostCursor(he.source):ze.revealBottomMostCursor(he.source)}}Z.ColumnSelect=(0,y.fK)(new class extends G{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(kt,ze,he,ke){const et=kt.model.validatePosition(ke.position),at=kt.coordinatesConverter.validateViewPosition(new P.L(ke.viewPosition.lineNumber,ke.viewPosition.column),et);let rt=ke.doColumnSelect?he.fromViewLineNumber:at.lineNumber,Ne=ke.doColumnSelect?he.fromViewVisualColumn:ke.mouseColumn-1;return I.columnSelect(kt.cursorConfig,kt,rt,Ne,at.lineNumber,ke.mouseColumn-1)}}),Z.CursorColumnSelectLeft=(0,y.fK)(new class extends G{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(kt,ze,he,ke){return I.columnSelectLeft(kt.cursorConfig,kt,he)}}),Z.CursorColumnSelectRight=(0,y.fK)(new class extends G{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(kt,ze,he,ke){return I.columnSelectRight(kt.cursorConfig,kt,he)}});class q extends G{constructor(ze){super(ze),this._isPaged=ze.isPaged}_getColumnSelectResult(ze,he,ke,et){return I.columnSelectUp(ze.cursorConfig,ze,ke,this._isPaged)}}Z.CursorColumnSelectUp=(0,y.fK)(new q({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:3600,linux:{primary:0}}})),Z.CursorColumnSelectPageUp=(0,y.fK)(new q({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:3595,linux:{primary:0}}}));class p extends G{constructor(ze){super(ze),this._isPaged=ze.isPaged}_getColumnSelectResult(ze,he,ke,et){return I.columnSelectDown(ze.cursorConfig,ze,ke,this._isPaged)}}Z.CursorColumnSelectDown=(0,y.fK)(new p({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:3602,linux:{primary:0}}})),Z.CursorColumnSelectPageDown=(0,y.fK)(new p({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:3596,linux:{primary:0}}}));class S extends h{constructor(){super({id:"cursorMove",precondition:void 0,description:x.description})}runCoreEditorCommand(ze,he){const ke=x.parse(he);ke&&this._runCursorMove(ze,he.source,ke)}_runCursorMove(ze,he,ke){ze.model.pushStackElement(),ze.setCursorStates(he,3,S._move(ze,ze.getCursorStates(),ke)),ze.revealPrimaryCursor(he,!0)}static _move(ze,he,ke){const et=ke.select,at=ke.value;switch(ke.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return r.simpleMove(ze,he,ke.direction,et,at,ke.unit);case 11:case 13:case 12:case 14:return r.viewportMove(ze,he,ke.direction,et,at);default:return null}}}Z.CursorMoveImpl=S,Z.CursorMove=(0,y.fK)(new S);class B extends h{constructor(ze){super(ze),this._staticArgs=ze.args}runCoreEditorCommand(ze,he){let ke=this._staticArgs;this._staticArgs.value===-1&&(ke={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:ze.cursorConfig.pageSize}),ze.model.pushStackElement(),ze.setCursorStates(he.source,3,r.simpleMove(ze,ze.getCursorStates(),ke.direction,ke.select,ke.value,ke.unit)),ze.revealPrimaryCursor(he.source,!0)}}Z.CursorLeft=(0,y.fK)(new B({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),Z.CursorLeftSelect=(0,y.fK)(new B({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:1039}})),Z.CursorRight=(0,y.fK)(new B({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),Z.CursorRightSelect=(0,y.fK)(new B({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:1041}})),Z.CursorUp=(0,y.fK)(new B({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),Z.CursorUpSelect=(0,y.fK)(new B({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),Z.CursorPageUp=(0,y.fK)(new B({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:11}})),Z.CursorPageUpSelect=(0,y.fK)(new B({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:1035}})),Z.CursorDown=(0,y.fK)(new B({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),Z.CursorDownSelect=(0,y.fK)(new B({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),Z.CursorPageDown=(0,y.fK)(new B({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:12}})),Z.CursorPageDownSelect=(0,y.fK)(new B({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:1036}})),Z.CreateCursor=(0,y.fK)(new class extends h{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(kt,ze){let he;ze.wholeLine?he=r.line(kt,kt.getPrimaryCursorState(),!1,ze.position,ze.viewPosition):he=r.moveTo(kt,kt.getPrimaryCursorState(),!1,ze.position,ze.viewPosition);const ke=kt.getCursorStates();if(ke.length>1){const et=he.modelState?he.modelState.position:null,at=he.viewState?he.viewState.position:null;for(let rt=0,Ne=ke.length;rt<Ne;rt++){const Oe=ke[rt];if(!(et&&!Oe.modelState.selection.containsPosition(et))&&!(at&&!Oe.viewState.selection.containsPosition(at))){ke.splice(rt,1),kt.model.pushStackElement(),kt.setCursorStates(ze.source,3,ke);return}}}ke.push(he),kt.model.pushStackElement(),kt.setCursorStates(ze.source,3,ke)}}),Z.LastCursorMoveToSelect=(0,y.fK)(new class extends h{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(kt,ze){const he=kt.getLastAddedCursorIndex(),ke=kt.getCursorStates(),et=ke.slice(0);et[he]=r.moveTo(kt,ke[he],!0,ze.position,ze.viewPosition),kt.model.pushStackElement(),kt.setCursorStates(ze.source,3,et)}});class te extends h{constructor(ze){super(ze),this._inSelectionMode=ze.inSelectionMode}runCoreEditorCommand(ze,he){ze.model.pushStackElement(),ze.setCursorStates(he.source,3,r.moveToBeginningOfLine(ze,ze.getCursorStates(),this._inSelectionMode)),ze.revealPrimaryCursor(he.source,!0)}}Z.CursorHome=(0,y.fK)(new te({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),Z.CursorHomeSelect=(0,y.fK)(new te({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class me extends h{constructor(ze){super(ze),this._inSelectionMode=ze.inSelectionMode}runCoreEditorCommand(ze,he){ze.model.pushStackElement(),ze.setCursorStates(he.source,3,this._exec(ze.getCursorStates())),ze.revealPrimaryCursor(he.source,!0)}_exec(ze){const he=[];for(let ke=0,et=ze.length;ke<et;ke++){const at=ze[ke],rt=at.modelState.position.lineNumber;he[ke]=k.Vi.fromModelState(at.modelState.move(this._inSelectionMode,rt,1,0))}return he}}Z.CursorLineStart=(0,y.fK)(new me({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:0,mac:{primary:287}}})),Z.CursorLineStartSelect=(0,y.fK)(new me({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:0,mac:{primary:1311}}}));class de extends h{constructor(ze){super(ze),this._inSelectionMode=ze.inSelectionMode}runCoreEditorCommand(ze,he){ze.model.pushStackElement(),ze.setCursorStates(he.source,3,r.moveToEndOfLine(ze,ze.getCursorStates(),this._inSelectionMode,he.sticky||!1)),ze.revealPrimaryCursor(he.source,!0)}}Z.CursorEnd=(0,y.fK)(new de({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:L,kbExpr:D.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:g.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),Z.CursorEndSelect=(0,y.fK)(new de({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:L,kbExpr:D.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:g.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class Pe extends h{constructor(ze){super(ze),this._inSelectionMode=ze.inSelectionMode}runCoreEditorCommand(ze,he){ze.model.pushStackElement(),ze.setCursorStates(he.source,3,this._exec(ze,ze.getCursorStates())),ze.revealPrimaryCursor(he.source,!0)}_exec(ze,he){const ke=[];for(let et=0,at=he.length;et<at;et++){const rt=he[et],Ne=rt.modelState.position.lineNumber,Oe=ze.model.getLineMaxColumn(Ne);ke[et]=k.Vi.fromModelState(rt.modelState.move(this._inSelectionMode,Ne,Oe,0))}return ke}}Z.CursorLineEnd=(0,y.fK)(new Pe({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:0,mac:{primary:291}}})),Z.CursorLineEndSelect=(0,y.fK)(new Pe({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:0,mac:{primary:1315}}}));class Me extends h{constructor(ze){super(ze),this._inSelectionMode=ze.inSelectionMode}runCoreEditorCommand(ze,he){ze.model.pushStackElement(),ze.setCursorStates(he.source,3,r.moveToBeginningOfBuffer(ze,ze.getCursorStates(),this._inSelectionMode)),ze.revealPrimaryCursor(he.source,!0)}}Z.CursorTop=(0,y.fK)(new Me({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:2062,mac:{primary:2064}}})),Z.CursorTopSelect=(0,y.fK)(new Me({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class nt extends h{constructor(ze){super(ze),this._inSelectionMode=ze.inSelectionMode}runCoreEditorCommand(ze,he){ze.model.pushStackElement(),ze.setCursorStates(he.source,3,r.moveToEndOfBuffer(ze,ze.getCursorStates(),this._inSelectionMode)),ze.revealPrimaryCursor(he.source,!0)}}Z.CursorBottom=(0,y.fK)(new nt({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:2061,mac:{primary:2066}}})),Z.CursorBottomSelect=(0,y.fK)(new nt({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class It extends h{constructor(){super({id:"editorScroll",precondition:void 0,description:R.description})}runCoreEditorCommand(ze,he){const ke=R.parse(he);ke&&this._runEditorScroll(ze,he.source,ke)}_runEditorScroll(ze,he,ke){const et=this._computeDesiredScrollTop(ze,ke);if(ke.revealCursor){const at=ze.getCompletelyVisibleViewRangeAtScrollTop(et);ze.setCursorStates(he,3,[r.findPositionInViewportIfOutside(ze,ze.getPrimaryCursorState(),at,ke.select)])}ze.setScrollTop(et,0)}_computeDesiredScrollTop(ze,he){if(he.unit===1){const at=ze.getCompletelyVisibleViewRange(),rt=ze.coordinatesConverter.convertViewRangeToModelRange(at);let Ne;he.direction===1?Ne=Math.max(1,rt.startLineNumber-he.value):Ne=Math.min(ze.model.getLineCount(),rt.startLineNumber+he.value);const Oe=ze.coordinatesConverter.convertModelPositionToViewPosition(new P.L(Ne,1));return ze.getVerticalOffsetForLineNumber(Oe.lineNumber)}let ke;he.unit===3?ke=ze.cursorConfig.pageSize*he.value:he.unit===4?ke=Math.round(ze.cursorConfig.pageSize/2)*he.value:ke=he.value;const et=(he.direction===1?-1:1)*ke;return ze.getScrollTop()+et*ze.cursorConfig.lineHeight}}Z.EditorScrollImpl=It,Z.EditorScroll=(0,y.fK)(new It),Z.ScrollLineUp=(0,y.fK)(new class extends h{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(kt,ze){Z.EditorScroll._runEditorScroll(kt,ze.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),Z.ScrollPageUp=(0,y.fK)(new class extends h{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(kt,ze){Z.EditorScroll._runEditorScroll(kt,ze.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),Z.ScrollLineDown=(0,y.fK)(new class extends h{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(kt,ze){Z.EditorScroll._runEditorScroll(kt,ze.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),Z.ScrollPageDown=(0,y.fK)(new class extends h{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(kt,ze){Z.EditorScroll._runEditorScroll(kt,ze.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class ht extends h{constructor(ze){super(ze),this._inSelectionMode=ze.inSelectionMode}runCoreEditorCommand(ze,he){ze.model.pushStackElement(),ze.setCursorStates(he.source,3,[r.word(ze,ze.getPrimaryCursorState(),this._inSelectionMode,he.position)]),ze.revealPrimaryCursor(he.source,!0)}}Z.WordSelect=(0,y.fK)(new ht({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),Z.WordSelectDrag=(0,y.fK)(new ht({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),Z.LastCursorWordSelect=(0,y.fK)(new class extends h{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(kt,ze){const he=kt.getLastAddedCursorIndex(),ke=kt.getCursorStates(),et=ke.slice(0),at=ke[he];et[he]=r.word(kt,at,at.modelState.hasSelection(),ze.position),kt.model.pushStackElement(),kt.setCursorStates(ze.source,3,et)}});class Mt extends h{constructor(ze){super(ze),this._inSelectionMode=ze.inSelectionMode}runCoreEditorCommand(ze,he){ze.model.pushStackElement(),ze.setCursorStates(he.source,3,[r.line(ze,ze.getPrimaryCursorState(),this._inSelectionMode,he.position,he.viewPosition)]),ze.revealPrimaryCursor(he.source,!1)}}Z.LineSelect=(0,y.fK)(new Mt({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),Z.LineSelectDrag=(0,y.fK)(new Mt({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class it extends h{constructor(ze){super(ze),this._inSelectionMode=ze.inSelectionMode}runCoreEditorCommand(ze,he){const ke=ze.getLastAddedCursorIndex(),et=ze.getCursorStates(),at=et.slice(0);at[ke]=r.line(ze,et[ke],this._inSelectionMode,he.position,he.viewPosition),ze.model.pushStackElement(),ze.setCursorStates(he.source,3,at)}}Z.LastCursorLineSelect=(0,y.fK)(new it({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),Z.LastCursorLineSelectDrag=(0,y.fK)(new it({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),Z.ExpandLineSelection=(0,y.fK)(new class extends h{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:2090}})}runCoreEditorCommand(kt,ze){kt.model.pushStackElement(),kt.setCursorStates(ze.source,3,r.expandLineSelection(kt,kt.getCursorStates())),kt.revealPrimaryCursor(ze.source,!0)}}),Z.CancelSelection=(0,y.fK)(new class extends h{constructor(){super({id:"cancelSelection",precondition:D.u.hasNonEmptySelection,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(kt,ze){kt.model.pushStackElement(),kt.setCursorStates(ze.source,3,[r.cancelSelection(kt,kt.getPrimaryCursorState())]),kt.revealPrimaryCursor(ze.source,!0)}}),Z.RemoveSecondaryCursors=(0,y.fK)(new class extends h{constructor(){super({id:"removeSecondaryCursors",precondition:D.u.hasMultipleSelections,kbOpts:{weight:L+1,kbExpr:D.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(kt,ze){kt.model.pushStackElement(),kt.setCursorStates(ze.source,3,[kt.getPrimaryCursorState()]),kt.revealPrimaryCursor(ze.source,!0),(0,O.i7)(g.N("removedCursor","Removed secondary cursors"))}}),Z.RevealLine=(0,y.fK)(new class extends h{constructor(){super({id:"revealLine",precondition:void 0,description:T.description})}runCoreEditorCommand(kt,ze){const he=ze,ke=he.lineNumber||0;let et=typeof ke=="number"?ke+1:parseInt(ke)+1;et<1&&(et=1);const at=kt.model.getLineCount();et>at&&(et=at);const rt=new s.e(et,1,et,kt.model.getLineMaxColumn(et));let Ne=0;if(he.at)switch(he.at){case T.RawAtArgument.Top:Ne=3;break;case T.RawAtArgument.Center:Ne=1;break;case T.RawAtArgument.Bottom:Ne=4;break;default:break}const Oe=kt.coordinatesConverter.convertModelRangeToViewRange(rt);kt.revealRange(ze.source,!1,Oe,Ne,0)}}),Z.SelectAll=new class extends W{constructor(){super(y.Sq)}runDOMCommand(){Y.vU&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(kt,ze,he){const ke=ze._getViewModel();ke&&this.runCoreEditorCommand(ke,he)}runCoreEditorCommand(kt,ze){kt.model.pushStackElement(),kt.setCursorStates("keyboard",3,[r.selectAll(kt,kt.getPrimaryCursorState())])}},Z.SetSelection=(0,y.fK)(new class extends h{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(kt,ze){kt.model.pushStackElement(),kt.setCursorStates(ze.source,3,[k.Vi.fromModelSelection(ze.selection)])}})})(K||(K={}));const ie=f.Ao.and(D.u.textInputFocus,D.u.columnSelection);function ce(Z,$){v.W.registerKeybindingRule({id:Z,primary:$,when:ie,weight:L+1})}ce(K.CursorColumnSelectLeft.id,1039),ce(K.CursorColumnSelectRight.id,1041),ce(K.CursorColumnSelectUp.id,1040),ce(K.CursorColumnSelectPageUp.id,1035),ce(K.CursorColumnSelectDown.id,1042),ce(K.CursorColumnSelectPageDown.id,1036);function _e(Z){return Z.register(),Z}var ve;(function(Z){class $ extends y._l{runEditorCommand(q,p,S){const B=p._getViewModel();B&&this.runCoreEditingCommand(p,B,S||{})}}Z.CoreEditingCommand=$,Z.LineBreakInsert=(0,y.fK)(new class extends ${constructor(){super({id:"lineBreakInsert",precondition:D.u.writable,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(G,q,p){G.pushUndoStop(),G.executeCommands(this.id,w.u.lineBreakInsert(q.cursorConfig,q.model,q.getCursorStates().map(S=>S.modelState.selection)))}}),Z.Outdent=(0,y.fK)(new class extends ${constructor(){super({id:"outdent",precondition:D.u.writable,kbOpts:{weight:L,kbExpr:f.Ao.and(D.u.editorTextFocus,D.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(G,q,p){G.pushUndoStop(),G.executeCommands(this.id,w.u.outdent(q.cursorConfig,q.model,q.getCursorStates().map(S=>S.modelState.selection))),G.pushUndoStop()}}),Z.Tab=(0,y.fK)(new class extends ${constructor(){super({id:"tab",precondition:D.u.writable,kbOpts:{weight:L,kbExpr:f.Ao.and(D.u.editorTextFocus,D.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(G,q,p){G.pushUndoStop(),G.executeCommands(this.id,w.u.tab(q.cursorConfig,q.model,q.getCursorStates().map(S=>S.modelState.selection))),G.pushUndoStop()}}),Z.DeleteLeft=(0,y.fK)(new class extends ${constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(G,q,p){const[S,B]=m.A.deleteLeft(q.getPrevEditOperationType(),q.cursorConfig,q.model,q.getCursorStates().map(te=>te.modelState.selection),q.getCursorAutoClosedCharacters());S&&G.pushUndoStop(),G.executeCommands(this.id,B),q.setPrevEditOperationType(2)}}),Z.DeleteRight=(0,y.fK)(new class extends ${constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:L,kbExpr:D.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(G,q,p){const[S,B]=m.A.deleteRight(q.getPrevEditOperationType(),q.cursorConfig,q.model,q.getCursorStates().map(te=>te.modelState.selection));S&&G.pushUndoStop(),G.executeCommands(this.id,B),q.setPrevEditOperationType(3)}}),Z.Undo=new class extends W{constructor(){super(y.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(G,q,p){if(!(!q.hasModel()||q.getOption(80)===!0))return q.getModel().undo()}},Z.Redo=new class extends W{constructor(){super(y.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(G,q,p){if(!(!q.hasModel()||q.getOption(80)===!0))return q.getModel().redo()}}})(ve||(ve={}));class De extends y.mY{constructor($,G,q){super({id:$,precondition:void 0,description:q}),this._handlerId=G}runCommand($,G){const q=$.get(J.$).getFocusedCodeEditor();q&&q.trigger("keyboard",this._handlerId,G)}}function le(Z,$){_e(new De("default:"+Z,Z)),_e(new De(Z,Z,$))}le("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),le("replacePreviousChar"),le("compositionType"),le("compositionStart"),le("compositionEnd"),le("paste"),le("cut")},55812:function(Yt,Ue,c){"use strict";c.d(Ue,{yy:function(){return r},Dl:function(){return x},ZF:function(){return D},YQ:function(){return w}});var g=c(97295),Y=c(24314),Q=c(71050),O=c(5976),y=c(16830),J=c(38819),k=c(91741),P=c(72065),s=c(65026),I=c(63580);const m=(0,P.yh)("IEditorCancelService"),C=new J.uy("cancellableOperation",!1,(0,I.N)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,s.z)(m,class{constructor(){this._tokens=new WeakMap}add(f,v){let L=this._tokens.get(f);L||(L=f.invokeWithinContext(R=>{const T=C.bindTo(R.get(J.i6)),W=new k.S;return{key:T,tokens:W}}),this._tokens.set(f,L));let h;return L.key.set(!0),h=L.tokens.push(v),()=>{h&&(h(),L.key.set(!L.tokens.isEmpty()),h=void 0)}}cancel(f){const v=this._tokens.get(f);if(!v)return;const L=v.tokens.pop();L&&(L.cancel(),v.key.set(!v.tokens.isEmpty()))}},!0);class V extends Q.A{constructor(v,L){super(L),this.editor=v,this._unregister=v.invokeWithinContext(h=>h.get(m).add(v,this))}dispose(){this._unregister(),super.dispose()}}(0,y.fK)(new class extends y._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:C})}runEditorCommand(f,v){f.get(m).cancel(v)}});class r{constructor(v,L){if(this.flags=L,this.flags&1){const h=v.getModel();this.modelVersionId=h?g.WU("{0}#{1}",h.uri.toString(),h.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=v.getPosition():this.position=null,this.flags&2?this.selection=v.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=v.getScrollLeft(),this.scrollTop=v.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(v){if(!(v instanceof r))return!1;const L=v;return!(this.modelVersionId!==L.modelVersionId||this.scrollLeft!==L.scrollLeft||this.scrollTop!==L.scrollTop||!this.position&&L.position||this.position&&!L.position||this.position&&L.position&&!this.position.equals(L.position)||!this.selection&&L.selection||this.selection&&!L.selection||this.selection&&L.selection&&!this.selection.equalsRange(L.selection))}validate(v){return this._equals(new r(v,this.flags))}}class x extends V{constructor(v,L,h,R){super(v,R),this._listener=new O.SL,L&4&&this._listener.add(v.onDidChangeCursorPosition(T=>{(!h||!Y.e.containsPosition(h,T.position))&&this.cancel()})),L&2&&this._listener.add(v.onDidChangeCursorSelection(T=>{(!h||!Y.e.containsRange(h,T.selection))&&this.cancel()})),L&8&&this._listener.add(v.onDidScrollChange(T=>this.cancel())),L&1&&(this._listener.add(v.onDidChangeModel(T=>this.cancel())),this._listener.add(v.onDidChangeModelContent(T=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class w extends Q.A{constructor(v,L){super(L),this._listener=v.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}class D{constructor(v,L,h){this._visiblePosition=v,this._visiblePositionScrollDelta=L,this._cursorPosition=h}static capture(v){let L=null,h=0;if(v.getScrollTop()!==0){const R=v.getVisibleRanges();if(R.length>0){L=R[0].getStartPosition();const T=v.getTopForPosition(L.lineNumber,L.column);h=v.getScrollTop()-T}}return new D(L,h,v.getPosition())}restore(v){if(this._visiblePosition){const L=v.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);v.setScrollTop(L+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(v){const L=v.getPosition();if(!this._cursorPosition||!L)return;const h=v.getTopForLineNumber(L.lineNumber)-v.getTopForLineNumber(this._cursorPosition.lineNumber);v.setScrollTop(v.getScrollTop()+h)}}},53430:function(Yt,Ue,c){"use strict";c.d(Ue,{$:function(){return hn}});var g=c(65321);function Y(vt){if(Array.isArray(vt)){for(var mt=0,Nt=Array(vt.length);mt<vt.length;mt++)Nt[mt]=vt[mt];return Nt}else return Array.from(vt)}var Q=Object.hasOwnProperty,O=Object.setPrototypeOf,y=Object.isFrozen,J=Object.getPrototypeOf,k=Object.getOwnPropertyDescriptor,P=Object.freeze,s=Object.seal,I=Object.create,m=typeof Reflect!="undefined"&&Reflect,C=m.apply,V=m.construct;C||(C=function(mt,Nt,He){return mt.apply(Nt,He)}),P||(P=function(mt){return mt}),s||(s=function(mt){return mt}),V||(V=function(mt,Nt){return new(Function.prototype.bind.apply(mt,[null].concat(Y(Nt))))});var r=W(Array.prototype.forEach),x=W(Array.prototype.pop),w=W(Array.prototype.push),D=W(String.prototype.toLowerCase),f=W(String.prototype.match),v=W(String.prototype.replace),L=W(String.prototype.indexOf),h=W(String.prototype.trim),R=W(RegExp.prototype.test),T=K(TypeError);function W(vt){return function(mt){for(var Nt=arguments.length,He=Array(Nt>1?Nt-1:0),Qe=1;Qe<Nt;Qe++)He[Qe-1]=arguments[Qe];return C(vt,mt,He)}}function K(vt){return function(){for(var mt=arguments.length,Nt=Array(mt),He=0;He<mt;He++)Nt[He]=arguments[He];return V(vt,Nt)}}function ie(vt,mt){O&&O(vt,null);for(var Nt=mt.length;Nt--;){var He=mt[Nt];if(typeof He=="string"){var Qe=D(He);Qe!==He&&(y(mt)||(mt[Nt]=Qe),He=Qe)}vt[He]=!0}return vt}function ce(vt){var mt=I(null),Nt=void 0;for(Nt in vt)C(Q,vt,[Nt])&&(mt[Nt]=vt[Nt]);return mt}function _e(vt,mt){for(;vt!==null;){var Nt=k(vt,mt);if(Nt){if(Nt.get)return W(Nt.get);if(typeof Nt.value=="function")return W(Nt.value)}vt=J(vt)}function He(Qe){return console.warn("fallback value for",Qe),null}return He}var ve=P(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),De=P(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),le=P(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Z=P(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$=P(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),G=P(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),q=P(["#text"]),p=P(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),S=P(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B=P(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),te=P(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),me=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),de=s(/<%[\s\S]*|[\s\S]*%>/gm),Pe=s(/^data-[\-\w.\u00B7-\uFFFF]/),Me=s(/^aria-[\-\w]+$/),nt=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),It=s(/^(?:\w+script|data):/i),ht=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(vt){return typeof vt}:function(vt){return vt&&typeof Symbol=="function"&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt};function it(vt){if(Array.isArray(vt)){for(var mt=0,Nt=Array(vt.length);mt<vt.length;mt++)Nt[mt]=vt[mt];return Nt}else return Array.from(vt)}var kt=function(){return typeof window=="undefined"?null:window},ze=function(mt,Nt){if((typeof mt=="undefined"?"undefined":Mt(mt))!=="object"||typeof mt.createPolicy!="function")return null;var He=null,Qe="data-tt-policy-suffix";Nt.currentScript&&Nt.currentScript.hasAttribute(Qe)&&(He=Nt.currentScript.getAttribute(Qe));var ft="dompurify"+(He?"#"+He:"");try{return mt.createPolicy(ft,{createHTML:function(ei){return ei}})}catch(ct){return console.warn("TrustedTypes policy "+ft+" could not be created."),null}};function he(){var vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kt(),mt=function(Kt){return he(Kt)};if(mt.version="2.3.1",mt.removed=[],!vt||!vt.document||vt.document.nodeType!==9)return mt.isSupported=!1,mt;var Nt=vt.document,He=vt.document,Qe=vt.DocumentFragment,ft=vt.HTMLTemplateElement,ct=vt.Node,ei=vt.Element,Vi=vt.NodeFilter,fi=vt.NamedNodeMap,Di=fi===void 0?vt.NamedNodeMap||vt.MozNamedAttrMap:fi,zi=vt.Text,dn=vt.Comment,gn=vt.DOMParser,Mi=vt.trustedTypes,pi=ei.prototype,Cn=_e(pi,"cloneNode"),En=_e(pi,"nextSibling"),Yn=_e(pi,"childNodes"),vs=_e(pi,"parentNode");if(typeof ft=="function"){var ds=He.createElement("template");ds.content&&ds.content.ownerDocument&&(He=ds.content.ownerDocument)}var Is=ze(Mi,Nt),Fo=Is&&Bi?Is.createHTML(""):"",no=He,Ls=no.implementation,Io=no.createNodeIterator,Xs=no.createDocumentFragment,So=no.getElementsByTagName,Hs=Nt.importNode,zs={};try{zs=ce(He).documentMode?He.documentMode:{}}catch(Ji){}var uo={};mt.isSupported=typeof vs=="function"&&Ls&&typeof Ls.createHTMLDocument!="undefined"&&zs!==9;var xo=me,to=de,so=Pe,Oo=Me,us=It,Eo=ht,hs=nt,os=null,vo=ie({},[].concat(it(ve),it(De),it(le),it($),it(q))),rs=null,co=ie({},[].concat(it(p),it(S),it(B),it(te))),Ws=null,ho=null,hi=!0,ge=!0,ut=!1,gt=!1,Bt=!1,qt=!1,vi=!1,Li=!1,mi=!1,un=!0,Bi=!1,ts=!0,Rt=!0,F=!1,re={},Se=null,Fe=ie({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),lt=null,Ot=ie({},["audio","video","img","source","image","track"]),Zt=null,di=ie({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ei="http://www.w3.org/1998/Math/MathML",li="http://www.w3.org/2000/svg",Oi="http://www.w3.org/1999/xhtml",tn=Oi,yi=!1,nn=null,Qi=He.createElement("form"),Sn=function(Kt){nn&&nn===Kt||((!Kt||(typeof Kt=="undefined"?"undefined":Mt(Kt))!=="object")&&(Kt={}),Kt=ce(Kt),os="ALLOWED_TAGS"in Kt?ie({},Kt.ALLOWED_TAGS):vo,rs="ALLOWED_ATTR"in Kt?ie({},Kt.ALLOWED_ATTR):co,Zt="ADD_URI_SAFE_ATTR"in Kt?ie(ce(di),Kt.ADD_URI_SAFE_ATTR):di,lt="ADD_DATA_URI_TAGS"in Kt?ie(ce(Ot),Kt.ADD_DATA_URI_TAGS):Ot,Se="FORBID_CONTENTS"in Kt?ie({},Kt.FORBID_CONTENTS):Fe,Ws="FORBID_TAGS"in Kt?ie({},Kt.FORBID_TAGS):{},ho="FORBID_ATTR"in Kt?ie({},Kt.FORBID_ATTR):{},re="USE_PROFILES"in Kt?Kt.USE_PROFILES:!1,hi=Kt.ALLOW_ARIA_ATTR!==!1,ge=Kt.ALLOW_DATA_ATTR!==!1,ut=Kt.ALLOW_UNKNOWN_PROTOCOLS||!1,gt=Kt.SAFE_FOR_TEMPLATES||!1,Bt=Kt.WHOLE_DOCUMENT||!1,Li=Kt.RETURN_DOM||!1,mi=Kt.RETURN_DOM_FRAGMENT||!1,un=Kt.RETURN_DOM_IMPORT!==!1,Bi=Kt.RETURN_TRUSTED_TYPE||!1,vi=Kt.FORCE_BODY||!1,ts=Kt.SANITIZE_DOM!==!1,Rt=Kt.KEEP_CONTENT!==!1,F=Kt.IN_PLACE||!1,hs=Kt.ALLOWED_URI_REGEXP||hs,tn=Kt.NAMESPACE||Oi,gt&&(ge=!1),mi&&(Li=!0),re&&(os=ie({},[].concat(it(q))),rs=[],re.html===!0&&(ie(os,ve),ie(rs,p)),re.svg===!0&&(ie(os,De),ie(rs,S),ie(rs,te)),re.svgFilters===!0&&(ie(os,le),ie(rs,S),ie(rs,te)),re.mathMl===!0&&(ie(os,$),ie(rs,B),ie(rs,te))),Kt.ADD_TAGS&&(os===vo&&(os=ce(os)),ie(os,Kt.ADD_TAGS)),Kt.ADD_ATTR&&(rs===co&&(rs=ce(rs)),ie(rs,Kt.ADD_ATTR)),Kt.ADD_URI_SAFE_ATTR&&ie(Zt,Kt.ADD_URI_SAFE_ATTR),Kt.FORBID_CONTENTS&&(Se===Fe&&(Se=ce(Se)),ie(Se,Kt.FORBID_CONTENTS)),Rt&&(os["#text"]=!0),Bt&&ie(os,["html","head","body"]),os.table&&(ie(os,["tbody"]),delete Ws.tbody),P&&P(Kt),nn=Kt)},ns=ie({},["mi","mo","mn","ms","mtext"]),Ms=ie({},["foreignobject","desc","title","annotation-xml"]),Dn=ie({},De);ie(Dn,le),ie(Dn,Z);var Ut=ie({},$);ie(Ut,G);var pe=function(Kt){var Si=vs(Kt);(!Si||!Si.tagName)&&(Si={namespaceURI:Oi,tagName:"template"});var $i=D(Kt.tagName),gs=D(Si.tagName);if(Kt.namespaceURI===li)return Si.namespaceURI===Oi?$i==="svg":Si.namespaceURI===Ei?$i==="svg"&&(gs==="annotation-xml"||ns[gs]):!!Dn[$i];if(Kt.namespaceURI===Ei)return Si.namespaceURI===Oi?$i==="math":Si.namespaceURI===li?$i==="math"&&Ms[gs]:!!Ut[$i];if(Kt.namespaceURI===Oi){if(Si.namespaceURI===li&&!Ms[gs]||Si.namespaceURI===Ei&&!ns[gs])return!1;var bs=ie({},["title","style","font","a","script"]);return!Ut[$i]&&(bs[$i]||!Dn[$i])}return!1},Re=function(Kt){w(mt.removed,{element:Kt});try{Kt.parentNode.removeChild(Kt)}catch(Si){try{Kt.outerHTML=Fo}catch($i){Kt.remove()}}},Ke=function(Kt,Si){try{w(mt.removed,{attribute:Si.getAttributeNode(Kt),from:Si})}catch($i){w(mt.removed,{attribute:null,from:Si})}if(Si.removeAttribute(Kt),Kt==="is"&&!rs[Kt])if(Li||mi)try{Re(Si)}catch($i){}else try{Si.setAttribute(Kt,"")}catch($i){}},_t=function(Kt){var Si=void 0,$i=void 0;if(vi)Kt="<remove></remove>"+Kt;else{var gs=f(Kt,/^[\r\n\t ]+/);$i=gs&&gs[0]}var bs=Is?Is.createHTML(Kt):Kt;if(tn===Oi)try{Si=new gn().parseFromString(bs,"text/html")}catch(We){}if(!Si||!Si.documentElement){Si=Ls.createDocument(tn,"template",null);try{Si.documentElement.innerHTML=yi?"":bs}catch(We){}}var Rs=Si.body||Si.documentElement;return Kt&&$i&&Rs.insertBefore(He.createTextNode($i),Rs.childNodes[0]||null),tn===Oi?So.call(Si,Bt?"html":"body")[0]:Bt?Si.documentElement:Rs},bt=function(Kt){return Io.call(Kt.ownerDocument||Kt,Kt,Vi.SHOW_ELEMENT|Vi.SHOW_COMMENT|Vi.SHOW_TEXT,null,!1)},ti=function(Kt){return Kt instanceof zi||Kt instanceof dn?!1:typeof Kt.nodeName!="string"||typeof Kt.textContent!="string"||typeof Kt.removeChild!="function"||!(Kt.attributes instanceof Di)||typeof Kt.removeAttribute!="function"||typeof Kt.setAttribute!="function"||typeof Kt.namespaceURI!="string"||typeof Kt.insertBefore!="function"},Jt=function(Kt){return(typeof ct=="undefined"?"undefined":Mt(ct))==="object"?Kt instanceof ct:Kt&&(typeof Kt=="undefined"?"undefined":Mt(Kt))==="object"&&typeof Kt.nodeType=="number"&&typeof Kt.nodeName=="string"},ln=function(Kt,Si,$i){uo[Kt]&&r(uo[Kt],function(gs){gs.call(mt,Si,$i,nn)})},An=function(Kt){var Si=void 0;if(ln("beforeSanitizeElements",Kt,null),ti(Kt)||f(Kt.nodeName,/[\u0080-\uFFFF]/))return Re(Kt),!0;var $i=D(Kt.nodeName);if(ln("uponSanitizeElement",Kt,{tagName:$i,allowedTags:os}),!Jt(Kt.firstElementChild)&&(!Jt(Kt.content)||!Jt(Kt.content.firstElementChild))&&R(/<[/\w]/g,Kt.innerHTML)&&R(/<[/\w]/g,Kt.textContent)||$i==="select"&&R(/<template/i,Kt.innerHTML))return Re(Kt),!0;if(!os[$i]||Ws[$i]){if(Rt&&!Se[$i]){var gs=vs(Kt)||Kt.parentNode,bs=Yn(Kt)||Kt.childNodes;if(bs&&gs)for(var Rs=bs.length,We=Rs-1;We>=0;--We)gs.insertBefore(Cn(bs[We],!0),En(Kt))}return Re(Kt),!0}return Kt instanceof ei&&!pe(Kt)||($i==="noscript"||$i==="noembed")&&R(/<\/no(script|embed)/i,Kt.innerHTML)?(Re(Kt),!0):(gt&&Kt.nodeType===3&&(Si=Kt.textContent,Si=v(Si,xo," "),Si=v(Si,to," "),Kt.textContent!==Si&&(w(mt.removed,{element:Kt.cloneNode()}),Kt.textContent=Si)),ln("afterSanitizeElements",Kt,null),!1)},Pi=function(Kt,Si,$i){if(ts&&(Si==="id"||Si==="name")&&($i in He||$i in Qi))return!1;if(!(ge&&!ho[Si]&&R(so,Si))){if(!(hi&&R(Oo,Si))){if(!rs[Si]||ho[Si])return!1;if(!Zt[Si]){if(!R(hs,v($i,Eo,""))){if(!((Si==="src"||Si==="xlink:href"||Si==="href")&&Kt!=="script"&&L($i,"data:")===0&&lt[Kt])){if(!(ut&&!R(us,v($i,Eo,"")))){if($i)return!1}}}}}}return!0},on=function(Kt){var Si=void 0,$i=void 0,gs=void 0,bs=void 0;ln("beforeSanitizeAttributes",Kt,null);var Rs=Kt.attributes;if(Rs){var We={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:rs};for(bs=Rs.length;bs--;){Si=Rs[bs];var d=Si,N=d.name,z=d.namespaceURI;if($i=h(Si.value),gs=D(N),We.attrName=gs,We.attrValue=$i,We.keepAttr=!0,We.forceKeepAttr=void 0,ln("uponSanitizeAttribute",Kt,We),$i=We.attrValue,!We.forceKeepAttr&&(Ke(N,Kt),!!We.keepAttr)){if(R(/\/>/i,$i)){Ke(N,Kt);continue}gt&&($i=v($i,xo," "),$i=v($i,to," "));var oe=Kt.nodeName.toLowerCase();if(Pi(oe,gs,$i))try{z?Kt.setAttributeNS(z,N,$i):Kt.setAttribute(N,$i),x(mt.removed)}catch(fe){}}}ln("afterSanitizeAttributes",Kt,null)}},Ln=function Ji(Kt){var Si=void 0,$i=bt(Kt);for(ln("beforeSanitizeShadowDOM",Kt,null);Si=$i.nextNode();)ln("uponSanitizeShadowNode",Si,null),!An(Si)&&(Si.content instanceof Qe&&Ji(Si.content),on(Si));ln("afterSanitizeShadowDOM",Kt,null)};return mt.sanitize=function(Ji,Kt){var Si=void 0,$i=void 0,gs=void 0,bs=void 0,Rs=void 0;if(yi=!Ji,yi&&(Ji="<!-->"),typeof Ji!="string"&&!Jt(Ji)){if(typeof Ji.toString!="function")throw T("toString is not a function");if(Ji=Ji.toString(),typeof Ji!="string")throw T("dirty is not a string, aborting")}if(!mt.isSupported){if(Mt(vt.toStaticHTML)==="object"||typeof vt.toStaticHTML=="function"){if(typeof Ji=="string")return vt.toStaticHTML(Ji);if(Jt(Ji))return vt.toStaticHTML(Ji.outerHTML)}return Ji}if(qt||Sn(Kt),mt.removed=[],typeof Ji=="string"&&(F=!1),!F)if(Ji instanceof ct)Si=_t("<!---->"),$i=Si.ownerDocument.importNode(Ji,!0),$i.nodeType===1&&$i.nodeName==="BODY"||$i.nodeName==="HTML"?Si=$i:Si.appendChild($i);else{if(!Li&&!gt&&!Bt&&Ji.indexOf("<")===-1)return Is&&Bi?Is.createHTML(Ji):Ji;if(Si=_t(Ji),!Si)return Li?null:Fo}Si&&vi&&Re(Si.firstChild);for(var We=bt(F?Ji:Si);gs=We.nextNode();)gs.nodeType===3&&gs===bs||An(gs)||(gs.content instanceof Qe&&Ln(gs.content),on(gs),bs=gs);if(bs=null,F)return Ji;if(Li){if(mi)for(Rs=Xs.call(Si.ownerDocument);Si.firstChild;)Rs.appendChild(Si.firstChild);else Rs=Si;return un&&(Rs=Hs.call(Nt,Rs,!0)),Rs}var d=Bt?Si.outerHTML:Si.innerHTML;return gt&&(d=v(d,xo," "),d=v(d,to," ")),Is&&Bi?Is.createHTML(d):d},mt.setConfig=function(Ji){Sn(Ji),qt=!0},mt.clearConfig=function(){nn=null,qt=!1},mt.isValidAttribute=function(Ji,Kt,Si){nn||Sn({});var $i=D(Ji),gs=D(Kt);return Pi($i,gs,Si)},mt.addHook=function(Ji,Kt){typeof Kt=="function"&&(uo[Ji]=uo[Ji]||[],w(uo[Ji],Kt))},mt.removeHook=function(Ji){uo[Ji]&&x(uo[Ji])},mt.removeHooks=function(Ji){uo[Ji]&&(uo[Ji]=[])},mt.removeAllHooks=function(){uo={}},mt}var ke=he(),et=null;const at=ke.version,rt=ke.isSupported,Ne=ke.sanitize,Oe=ke.setConfig,we=ke.clearConfig,Ye=ke.isValidAttribute,st=ke.addHook,Pt=ke.removeHook,Qt=ke.removeHooks,ci=ke.removeAllHooks;var Gt=c(4850),Lt=c(94079),Ai=c(23938),oi=c(56811),$e=c(15393),Xe=c(71050),wi=c(17301),ii=c(4669),Ui=c(59365),Mn=c(21212),Ri=c(44742),ps=c(5976),Zn=c(33720),Bn=c(23897),Xi=c(66663),Vn=c(36248),qi=c(95935),je=c(97295),Tt=c(70666);function St(vt,mt={},Nt={}){var He;const Qe=new ps.SL;let ft=!1;const ct=Qe.add(new Xe.A),ei=(0,Lt.az)(mt),Vi=function(pi){let Cn;try{Cn=(0,Bn.Q)(decodeURIComponent(pi))}catch(En){}return Cn?(Cn=(0,Vn.rs)(Cn,En=>{if(vt.uris&&vt.uris[En])return Tt.o.revive(vt.uris[En])}),encodeURIComponent(JSON.stringify(Cn))):pi},fi=function(pi,Cn){const En=vt.uris&&vt.uris[pi];if(!En)return pi;let Yn=Tt.o.revive(En);return Cn?pi.startsWith(Xi.lg.data+":")?pi:Xi.Gi.asBrowserUri(Yn).toString(!0):Tt.o.parse(pi).toString()===Yn.toString()?pi:(Yn.query&&(Yn=Yn.with({query:Vi(Yn.query)})),Yn.toString())};let Di;const zi=new Promise(pi=>Di=pi),dn=new Zn.Th;if(dn.image=(pi,Cn,En)=>{let Yn=[],vs=[];if(pi){({href:pi,dimensions:Yn}=(0,Ui.v1)(pi)),pi=fi(pi,!0);try{const ds=Tt.o.parse(pi);mt.baseUrl&&ds.scheme===Xi.lg.file&&(pi=(0,qi.i3)(mt.baseUrl,pi).toString())}catch(ds){}vs.push(`src="${pi}"`)}return En&&vs.push(`alt="${En}"`),Cn&&vs.push(`title="${Cn}"`),Yn.length&&(vs=vs.concat(Yn)),"<img "+vs.join(" ")+">"},dn.link=(pi,Cn,En)=>(pi===En&&(En=(0,Ui.oR)(En)),pi=fi(pi,!1),mt.baseUrl&&(/^\w[\w\d+.-]*:/.test(pi)||(pi=(0,qi.i3)(mt.baseUrl,pi).toString())),Cn=(0,Ui.oR)(Cn),pi=(0,Ui.oR)(pi),!pi||pi.match(/^data:|javascript:/i)||pi.match(/^command:/i)&&!vt.isTrusted||pi.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?En:(pi=pi.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${pi}" title="${Cn||pi}">${En}</a>`)),dn.paragraph=pi=>`<p>${pi}</p>`,mt.codeBlockRenderer&&(dn.code=(pi,Cn)=>{const En=mt.codeBlockRenderer(Cn,pi),Yn=Ri.a.nextId();return(0,$e.eP)(Promise.all([En,zi]),ct.token).then(vs=>{var ds;if(!ft&&vs){const Is=ei.querySelector(`div[data-code="${Yn}"]`);Is&&g.mc(Is,vs[0]),(ds=mt.asyncRenderCallback)===null||ds===void 0||ds.call(mt)}}).catch(()=>{}),`<div class="code" data-code="${Yn}">${(0,je.YU)(pi)}</div>`}),mt.actionHandler){const pi=mt.actionHandler.disposables.add(new Gt.Y(ei,"click")),Cn=mt.actionHandler.disposables.add(new Gt.Y(ei,"auxclick"));mt.actionHandler.disposables.add(ii.ju.any(pi.event,Cn.event)(En=>{const Yn=new Ai.n(En);if(!Yn.leftButton&&!Yn.middleButton)return;let vs=Yn.target;if(!(vs.tagName!=="A"&&(vs=vs.parentElement,!vs||vs.tagName!=="A")))try{const ds=vs.dataset.href;ds&&mt.actionHandler.callback(ds,Yn)}catch(ds){(0,wi.dL)(ds)}finally{Yn.preventDefault()}}))}vt.supportHtml||(Nt.sanitizer=pi=>(vt.isTrusted?pi.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?pi:"",Nt.sanitize=!0,Nt.silent=!0),Nt.renderer=dn;let gn=(He=vt.value)!==null&&He!==void 0?He:"";gn.length>1e5&&(gn=`${gn.substr(0,1e5)}\u2026`),vt.supportThemeIcons&&(gn=(0,Mn.f$)(gn));let Mi=Zn.Qc(gn,Nt);if(vt.supportThemeIcons&&(Mi=(0,oi.T)(Mi).map(Cn=>typeof Cn=="string"?Cn:Cn.outerHTML).join("")),ei.innerHTML=Ze(vt,Mi),Di(),mt.asyncRenderCallback)for(const pi of ei.getElementsByTagName("img")){const Cn=Qe.add(g.nm(pi,"load",()=>{Cn.dispose(),mt.asyncRenderCallback()}))}return{element:ei,dispose:()=>{ft=!0,ct.cancel(),Qe.dispose()}}}function Ze(vt,mt){const{config:Nt,allowedSchemes:He}=Je(vt);st("uponSanitizeAttribute",(ft,ct)=>{if(ct.attrName==="style"||ct.attrName==="class"){if(ft.tagName==="SPAN"){if(ct.attrName==="style"){ct.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(ct.attrValue);return}else if(ct.attrName==="class"){ct.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(ct.attrValue);return}}ct.keepAttr=!1;return}});const Qe=document.createElement("a");st("afterSanitizeAttributes",ft=>{for(const ct of["href","src"])ft.hasAttribute(ct)&&(Qe.href=ft.getAttribute(ct),He.includes(Qe.protocol.replace(/:$/,""))||ft.removeAttribute(ct))});try{return Ne(mt,Object.assign(Object.assign({},Nt),{RETURN_TRUSTED_TYPE:!0}))}finally{Pt("uponSanitizeAttribute"),Pt("afterSanitizeAttributes")}}function Je(vt){const mt=[Xi.lg.http,Xi.lg.https,Xi.lg.mailto,Xi.lg.data,Xi.lg.file,Xi.lg.vscodeFileResource,Xi.lg.vscodeRemote,Xi.lg.vscodeRemoteResource];return vt.isTrusted&&mt.push(Xi.lg.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:mt}}var xt=c(50988),yt=c(71531),Xt=c(55713),ni=c(10351),gi=c(87917),Gi=function(vt,mt,Nt,He){var Qe=arguments.length,ft=Qe<3?mt:He===null?He=Object.getOwnPropertyDescriptor(mt,Nt):He,ct;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ft=Reflect.decorate(vt,mt,Nt,He);else for(var ei=vt.length-1;ei>=0;ei--)(ct=vt[ei])&&(ft=(Qe<3?ct(ft):Qe>3?ct(mt,Nt,ft):ct(mt,Nt))||ft);return Qe>3&&ft&&Object.defineProperty(mt,Nt,ft),ft},ji=function(vt,mt){return function(Nt,He){mt(Nt,He,vt)}},is=function(vt,mt,Nt,He){function Qe(ft){return ft instanceof Nt?ft:new Nt(function(ct){ct(ft)})}return new(Nt||(Nt=Promise))(function(ft,ct){function ei(Di){try{fi(He.next(Di))}catch(zi){ct(zi)}}function Vi(Di){try{fi(He.throw(Di))}catch(zi){ct(zi)}}function fi(Di){Di.done?ft(Di.value):Qe(Di.value).then(ei,Vi)}fi((He=He.apply(vt,mt||[])).next())})},Hi;let hn=class gu{constructor(mt,Nt,He){this._options=mt,this._modeService=Nt,this._openerService=He,this._onDidRenderAsync=new ii.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(mt,Nt,He){if(!mt)return{element:document.createElement("span"),dispose:()=>{}};const Qe=new ps.SL;return{element:Qe.add(St(mt,Object.assign(Object.assign({},this._getRenderOptions(mt,Qe)),Nt),He)).element,dispose:()=>Qe.dispose()}}_getRenderOptions(mt,Nt){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(He,Qe)=>is(this,void 0,void 0,function*(){var ft,ct,ei,Vi;let fi;He?fi=this._modeService.getModeIdForLanguageName(He):this._options.editor&&(fi=(ft=this._options.editor.getModel())===null||ft===void 0?void 0:ft.getLanguageId()),fi||(fi="plaintext"),this._modeService.triggerMode(fi);const Di=(ct=yield ni.RW.getPromise(fi))!==null&&ct!==void 0?ct:void 0,zi=document.createElement("span");if(zi.innerHTML=(Vi=(ei=gu._ttpTokenizer)===null||ei===void 0?void 0:ei.createHTML(Qe,this._modeService.languageIdCodec,Di))!==null&&Vi!==void 0?Vi:(0,Xt.C)(Qe,this._modeService.languageIdCodec,Di),this._options.editor){const dn=this._options.editor.getOption(43);gi.V.applyFontInfoSlow(zi,dn)}else this._options.codeBlockFontFamily&&(zi.style.fontFamily=this._options.codeBlockFontFamily);return zi}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:He=>this._openerService.open(He,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:mt.isTrusted}).catch(wi.dL),disposables:Nt}}}};hn._ttpTokenizer=(Hi=window.trustedTypes)===null||Hi===void 0?void 0:Hi.createPolicy("tokenizeToString",{createHTML(vt,mt,Nt){return(0,Xt.C)(vt,mt,Nt)}}),hn=Gi([ji(1,yt.h),ji(2,xt.v4)],hn)},65520:function(Yt,Ue,c){"use strict";c.d(Ue,{CL:function(){return Y}});var g=c(96518);function Y(y){return y&&typeof y.getEditorType=="function"?y.getEditorType()===g.g.ICodeEditor:!1}function Q(y){return y&&typeof y.getEditorType=="function"?y.getEditorType()===editorCommon.EditorType.IDiffEditor:!1}function O(y){return Y(y)?y:Q(y)?y.getModifiedEditor():null}},16830:function(Yt,Ue,c){"use strict";c.d(Ue,{QG:function(){return ie},Qr:function(){return W},R6:function(){return v},Sq:function(){return G},Uc:function(){return _e},_K:function(){return ce},_l:function(){return f},f:function(){return R},fK:function(){return T},jY:function(){return L},kz:function(){return $},mY:function(){return x},n_:function(){return Z},rn:function(){return K},sb:function(){return h}});var g=c(63580),Y=c(70666),Q=c(11640),O=c(50187),y=c(51200),J=c(88216),k=c(84144),P=c(94565),s=c(38819),I=c(49989),m=c(89872),C=c(10829),V=c(98401),r=c(43557);class x{constructor(p){this.id=p.id,this.precondition=p.precondition,this._kbOpts=p.kbOpts,this._menuOpts=p.menuOpts,this._description=p.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const p=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const S of p){let B=S.kbExpr;this.precondition&&(B?B=s.Ao.and(B,this.precondition):B=this.precondition);const te={id:this.id,weight:S.weight,args:S.args,when:B,primary:S.primary,secondary:S.secondary,win:S.win,linux:S.linux,mac:S.mac};I.W.registerKeybindingRule(te)}}P.P.registerCommand({id:this.id,handler:(p,S)=>this.runCommand(p,S),description:this._description})}_registerMenuItem(p){k.BH.appendMenuItem(p.menuId,{group:p.group,command:{id:this.id,title:p.title,icon:p.icon,precondition:this.precondition},when:p.when,order:p.order})}}class w extends x{constructor(){super(...arguments),this._implementations=[]}addImplementation(p,S,B){return this._implementations.push({priority:p,name:S,implementation:B}),this._implementations.sort((te,me)=>me.priority-te.priority),{dispose:()=>{for(let te=0;te<this._implementations.length;te++)if(this._implementations[te].implementation===B){this._implementations.splice(te,1);return}}}}runCommand(p,S){const B=p.get(r.VZ);B.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const te of this._implementations){const me=te.implementation(p,S);if(me)return B.trace(`Command '${this.id}' was handled by '${te.name}'.`),typeof me=="boolean"?void 0:me}B.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class D extends x{constructor(p,S){super(S),this.command=p}runCommand(p,S){return this.command.runCommand(p,S)}}class f extends x{static bindToContribution(p){return class extends f{constructor(B){super(B),this._callback=B.handler}runEditorCommand(B,te,me){p(te)&&this._callback(p(te),me)}}}runCommand(p,S){const B=p.get(Q.$),te=B.getFocusedCodeEditor()||B.getActiveCodeEditor();if(te)return te.invokeWithinContext(me=>{if(me.get(s.i6).contextMatchesRules((0,V.f6)(this.precondition)))return this.runEditorCommand(me,te,S)})}}class v extends f{constructor(p){super(v.convertOptions(p)),this.label=p.label,this.alias=p.alias}static convertOptions(p){let S;Array.isArray(p.menuOpts)?S=p.menuOpts:p.menuOpts?S=[p.menuOpts]:S=[];function B(te){return te.menuId||(te.menuId=k.eH.EditorContext),te.title||(te.title=p.label),te.when=s.Ao.and(p.precondition,te.when),te}return Array.isArray(p.contextMenuOpts)?S.push(...p.contextMenuOpts.map(B)):p.contextMenuOpts&&S.push(B(p.contextMenuOpts)),p.menuOpts=S,p}runEditorCommand(p,S,B){return this.reportTelemetry(p,S),this.run(p,S,B||{})}reportTelemetry(p,S){p.get(C.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class L extends v{constructor(){super(...arguments),this._implementations=[]}addImplementation(p,S){return this._implementations.push([p,S]),this._implementations.sort((B,te)=>te[0]-B[0]),{dispose:()=>{for(let B=0;B<this._implementations.length;B++)if(this._implementations[B][1]===S){this._implementations.splice(B,1);return}}}}run(p,S,B){for(const te of this._implementations){const me=te[1](p,S,B);if(me)return typeof me=="boolean"?void 0:me}}}function h(q,p){P.P.registerCommand(q,function(S,...B){const[te,me]=B;(0,V.p_)(Y.o.isUri(te)),(0,V.p_)(O.L.isIPosition(me));const de=S.get(y.q).getModel(te);if(de){const Pe=O.L.lift(me);return p(de,Pe,...B.slice(2))}return S.get(J.S).createModelReference(te).then(Pe=>new Promise((Me,nt)=>{try{const It=p(Pe.object.textEditorModel,O.L.lift(me),B.slice(2));Me(It)}catch(It){nt(It)}}).finally(()=>{Pe.dispose()}))})}function R(q,p){P.P.registerCommand(q,function(S,...B){const[te]=B;(0,V.p_)(Y.o.isUri(te));const me=S.get(y.q).getModel(te);return me?p(me,...B.slice(1)):S.get(J.S).createModelReference(te).then(de=>new Promise((Pe,Me)=>{try{const nt=p(de.object.textEditorModel,B.slice(1));Pe(nt)}catch(nt){Me(nt)}}).finally(()=>{de.dispose()}))})}function T(q){return De.INSTANCE.registerEditorCommand(q),q}function W(q){const p=new q;return De.INSTANCE.registerEditorAction(p),p}function K(q){return De.INSTANCE.registerEditorAction(q),q}function ie(q){De.INSTANCE.registerEditorAction(q)}function ce(q,p){De.INSTANCE.registerEditorContribution(q,p)}var _e;(function(q){function p(de){return De.INSTANCE.getEditorCommand(de)}q.getEditorCommand=p;function S(){return De.INSTANCE.getEditorActions()}q.getEditorActions=S;function B(){return De.INSTANCE.getEditorContributions()}q.getEditorContributions=B;function te(de){return De.INSTANCE.getEditorContributions().filter(Pe=>de.indexOf(Pe.id)>=0)}q.getSomeEditorContributions=te;function me(){return De.INSTANCE.getDiffEditorContributions()}q.getDiffEditorContributions=me})(_e||(_e={}));const ve={EditorCommonContributions:"editor.contributions"};class De{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(p,S){this.editorContributions.push({id:p,ctor:S})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(p){p.register(),this.editorActions.push(p)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(p){p.register(),this.editorCommands[p.id]=p}getEditorCommand(p){return this.editorCommands[p]||null}}De.INSTANCE=new De,m.B.add(ve.EditorCommonContributions,De.INSTANCE);function le(q){return q.register(),q}const Z=le(new w({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:k.eH.MenubarEditMenu,group:"1_do",title:g.N({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:k.eH.CommandPalette,group:"",title:g.N("undo","Undo"),order:1}]}));le(new D(Z,{id:"default:undo",precondition:void 0}));const $=le(new w({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:k.eH.MenubarEditMenu,group:"1_do",title:g.N({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:k.eH.CommandPalette,group:"",title:g.N("redo","Redo"),order:1}]}));le(new D($,{id:"default:redo",precondition:void 0}));const G=le(new w({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:k.eH.MenubarSelectionMenu,group:"1_basic",title:g.N({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:k.eH.CommandPalette,group:"",title:g.N("selectAll","Select All"),order:1}]}))},66007:function(Yt,Ue,c){"use strict";c.d(Ue,{Gl:function(){return P},fo:function(){return k},vu:function(){return O}});var g=c(72065),Y=c(70666),Q=c(98401);const O=(0,g.yh)("IWorkspaceEditService");function y(I){return(0,Q.Kn)(I)&&(!!I.newUri||!!I.oldUri)}function J(I){return(0,Q.Kn)(I)&&Y.o.isUri(I.resource)&&(0,Q.Kn)(I.edit)}class k{constructor(m){this.metadata=m}static convert(m){return m.edits.map(C=>{if(J(C))return new P(C.resource,C.edit,C.modelVersionId,C.metadata);if(y(C))return new s(C.oldUri,C.newUri,C.options,C.metadata);throw new Error("Unsupported edit")})}}class P extends k{constructor(m,C,V,r){super(r),this.resource=m,this.textEdit=C,this.versionId=V}}class s extends k{constructor(m,C,V,r){super(r),this.oldResource=m,this.newResource=C,this.options=V}}},11640:function(Yt,Ue,c){"use strict";c.d(Ue,{$:function(){return Y}});var g=c(72065);const Y=(0,g.yh)("codeEditorService")},53418:function(Yt,Ue,c){"use strict";c.d(Ue,{Gm:function(){return ar}});var g=c(26479),Y=c(16830),Q=function(pt,e,n,a){var b=arguments.length,M=b<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,n):a,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(pt,e,n,a);else for(var ee=pt.length-1;ee>=0;ee--)(j=pt[ee])&&(M=(b<3?j(M):b>3?j(e,n,M):j(e,n))||M);return b>3&&M&&Object.defineProperty(e,n,M),M},O=function(pt,e){return function(n,a){e(n,a,pt)}};let y=class{constructor(e,n){}dispose(){}};y.ID="editor.contrib.markerDecorations",y=Q([O(1,g.i)],y),(0,Y._K)(y.ID,y);var J=c(63580),k=c(65321),P=c(17301),s=c(4669),I=c(5976),m=c(66663),C=c(87917),V=c(11640),r=c(16268),x=c(3860),w=c(38626),D=c(1432),f=c(10553),v=c(23938),L=c(15393),h=c(57974);class R{constructor(e,n){this.x=e,this.y=n,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new T(this.x-k.DI.scrollX,this.y-k.DI.scrollY)}}class T{constructor(e,n){this.clientX=e,this.clientY=n,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new R(this.clientX+k.DI.scrollX,this.clientY+k.DI.scrollY)}}class W{constructor(e,n,a,b){this.x=e,this.y=n,this.width=a,this.height=b,this._editorPagePositionBrand=void 0}}function K(pt){const e=k.i(pt);return new W(e.left,e.top,e.width,e.height)}class ie extends v.n{constructor(e,n){super(e),this._editorMouseEventBrand=void 0,this.pos=new R(this.posx,this.posy),this.editorPos=K(n)}}class ce{constructor(e){this._editorViewDomNode=e}_create(e){return new ie(e,this._editorViewDomNode)}onContextMenu(e,n){return k.nm(e,"contextmenu",a=>{n(this._create(a))})}onMouseUp(e,n){return k.nm(e,"mouseup",a=>{n(this._create(a))})}onMouseDown(e,n){return k.nm(e,"mousedown",a=>{n(this._create(a))})}onMouseLeave(e,n){return k.j_(e,a=>{n(this._create(a))})}onMouseMoveThrottled(e,n,a,b){const M=(j,ee)=>a(j,this._create(ee));return k.Y_(e,"mousemove",n,M,b)}}class _e{constructor(e){this._editorViewDomNode=e}_create(e){return new ie(e,this._editorViewDomNode)}onPointerUp(e,n){return k.nm(e,"pointerup",a=>{n(this._create(a))})}onPointerDown(e,n){return k.nm(e,"pointerdown",a=>{n(this._create(a))})}onPointerLeave(e,n){return k.RE(e,a=>{n(this._create(a))})}onPointerMoveThrottled(e,n,a,b){const M=(j,ee)=>a(j,this._create(ee));return k.Y_(e,"pointermove",n,M,b)}}class ve extends I.JT{constructor(e){super(),this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new h.Z),this._keydownListener=null}startMonitoring(e,n,a,b,M){this._keydownListener=k.mu(document,"keydown",ee=>{ee.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,ee.browserEvent)},!0);const j=(ee,ue)=>a(ee,new ie(ue,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(e,n,j,b,ee=>{this._keydownListener.dispose(),M(ee)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}class De extends I.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let n=!1;for(let a=0,b=e.length;a<b;a++){let M=e[a];switch(M.type){case 0:this.onCompositionStart(M)&&(n=!0);break;case 1:this.onCompositionEnd(M)&&(n=!0);break;case 2:this.onConfigurationChanged(M)&&(n=!0);break;case 3:this.onCursorStateChanged(M)&&(n=!0);break;case 4:this.onDecorationsChanged(M)&&(n=!0);break;case 5:this.onFlushed(M)&&(n=!0);break;case 6:this.onFocusChanged(M)&&(n=!0);break;case 7:this.onLanguageConfigurationChanged(M)&&(n=!0);break;case 8:this.onLineMappingChanged(M)&&(n=!0);break;case 9:this.onLinesChanged(M)&&(n=!0);break;case 10:this.onLinesDeleted(M)&&(n=!0);break;case 11:this.onLinesInserted(M)&&(n=!0);break;case 12:this.onRevealRangeRequest(M)&&(n=!0);break;case 13:this.onScrollChanged(M)&&(n=!0);break;case 15:this.onTokensChanged(M)&&(n=!0);break;case 14:this.onThemeChanged(M)&&(n=!0);break;case 16:this.onTokensColorsChanged(M)&&(n=!0);break;case 17:this.onZonesChanged(M)&&(n=!0);break;default:console.info("View received unknown event: "),console.info(M)}}n&&(this._shouldRender=!0)}}class le extends De{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Z{static write(e,n){e instanceof w.Z,e.setAttribute("data-mprt",String(n))}static read(e){const n=e.getAttribute("data-mprt");return n===null?0:parseInt(n,10)}static collect(e,n){let a=[],b=0;for(;e&&e!==document.body&&e!==n;)e.nodeType===e.ELEMENT_NODE&&(a[b++]=this.read(e)),e=e.parentElement;const M=new Uint8Array(b);for(let j=0;j<b;j++)M[j]=a[b-j-1];return M}}class ${constructor(e,n){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=n,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const a=this._viewLayout.getCurrentViewport();this.scrollTop=a.top,this.scrollLeft=a.left,this.viewportWidth=a.width,this.viewportHeight=a.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class G extends ${constructor(e,n,a){super(e,n),this._renderingContextBrand=void 0,this._viewLines=a}linesVisibleRangesForRange(e,n){return this._viewLines.linesVisibleRangesForRange(e,n)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class q{constructor(e,n,a){this.outsideRenderedLine=e,this.lineNumber=n,this.ranges=a}}class p{constructor(e,n){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(n)}static from(e){const n=new Array(e.length);for(let a=0,b=e.length;a<b;a++){const M=e[a];n[a]=new p(M.left,M.width)}return n}toString(){return`[${this.left},${this.width}]`}}class S{constructor(e,n){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=n}toString(){return`[${this.left},${this.width}]`}static compare(e,n){return e.left-n.left}}class B{constructor(e,n){this.outsideRenderedLine=e,this.originalLeft=n,this.left=Math.round(this.originalLeft)}}class te{constructor(e,n){this.outsideRenderedLine=e,this.ranges=n}}class me{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,n){e.selectNodeContents(n)}static _readClientRects(e,n,a,b,M){const j=this._createRange();try{return j.setStart(e,n),j.setEnd(a,b),j.getClientRects()}catch(ee){return null}finally{this._detachRange(j,M)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(S.compare);let n=[],a=0,b=e[0];for(let M=1,j=e.length;M<j;M++){const ee=e[M];b.left+b.width+.9>=ee.left?b.width=Math.max(b.width,ee.left+ee.width-b.left):(n[a++]=b,b=ee)}return n[a++]=b,n}static _createHorizontalRangesFromClientRects(e,n){if(!e||e.length===0)return null;const a=[];for(let b=0,M=e.length;b<M;b++){const j=e[b];a[b]=new S(Math.max(0,j.left-n),j.width)}return this._mergeAdjacentRanges(a)}static readHorizontalRanges(e,n,a,b,M,j,ee){const ye=e.children.length-1;if(0>ye)return null;if(n=Math.min(ye,Math.max(0,n)),b=Math.min(ye,Math.max(0,b)),n===b&&a===M&&a===0&&!e.children[n].firstChild){const qe=e.children[n].getClientRects();return this._createHorizontalRangesFromClientRects(qe,j)}n!==b&&b>0&&M===0&&(b--,M=1073741824);let Te=e.children[n].firstChild,Ae=e.children[b].firstChild;if((!Te||!Ae)&&(!Te&&a===0&&n>0&&(Te=e.children[n-1].firstChild,a=1073741824),!Ae&&M===0&&b>0&&(Ae=e.children[b-1].firstChild,M=1073741824)),!Te||!Ae)return null;a=Math.min(Te.textContent.length,Math.max(0,a)),M=Math.min(Ae.textContent.length,Math.max(0,M));const ot=this._readClientRects(Te,a,Ae,M,ee);return this._createHorizontalRangesFromClientRects(ot,j)}}var de=c(92550),Pe=c(77736),Me=c(92321),nt=c(64141);const It=function(){return D.tY?!0:!(D.IJ||r.vU||r.G6)}();let ht=!0;class Mt{constructor(e,n){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=n}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}class it{constructor(e,n){this.themeType=n;const a=e.options,b=a.get(43);this.renderWhitespace=a.get(87),this.renderControlCharacters=a.get(82),this.spaceWidth=b.spaceWidth,this.middotWidth=b.middotWidth,this.wsmiddotWidth=b.wsmiddotWidth,this.useMonospaceOptimizations=b.isMonospace&&!a.get(29),this.canUseHalfwidthRightwardsArrow=b.canUseHalfwidthRightwardsArrow,this.lineHeight=a.get(58),this.stopRenderingLineAfter=a.get(104),this.fontLigatures=a.get(44)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class kt{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,w.X)(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return this._options.themeType===Me.e.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,n,a,b){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const M=a.getViewLineRenderingData(e),j=this._options,ee=de.Kp.filter(M.inlineDecorations,e,M.minColumn,M.maxColumn);let ue=null;if(j.themeType===Me.e.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const ot=a.selections;for(const qe of ot){if(qe.endLineNumber<e||qe.startLineNumber>e)continue;const Et=qe.startLineNumber===e?qe.startColumn:M.minColumn,Ht=qe.endLineNumber===e?qe.endColumn:M.maxColumn;Et<Ht&&(j.themeType===Me.e.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?ee.push(new de.Kp(Et,Ht,"inline-selected-text",0)):(ue||(ue=[]),ue.push(new Pe.zG(Et-1,Ht-1))))}}const ye=new Pe.IJ(j.useMonospaceOptimizations,j.canUseHalfwidthRightwardsArrow,M.content,M.continuesWithWrappedLine,M.isBasicASCII,M.containsRTL,M.minColumn-1,M.tokens,ee,M.tabSize,M.startVisibleColumn,j.spaceWidth,j.middotWidth,j.wsmiddotWidth,j.stopRenderingLineAfter,j.renderWhitespace,j.renderControlCharacters,j.fontLigatures!==nt.n0.OFF,ue);if(this._renderedViewLine&&this._renderedViewLine.input.equals(ye))return!1;b.appendASCIIString('<div style="top:'),b.appendASCIIString(String(n)),b.appendASCIIString("px;height:"),b.appendASCIIString(String(this._options.lineHeight)),b.appendASCIIString('px;" class="'),b.appendASCIIString(kt.CLASS_NAME),b.appendASCIIString('">');const Te=(0,Pe.d1)(ye,b);b.appendASCIIString("</div>");let Ae=null;return ht&&It&&M.isBasicASCII&&j.useMonospaceOptimizations&&Te.containsForeignElements===0&&M.content.length<300&&ye.lineTokens.getCount()<100&&(Ae=new ze(this._renderedViewLine?this._renderedViewLine.domNode:null,ye,Te.characterMapping)),Ae||(Ae=et(this._renderedViewLine?this._renderedViewLine.domNode:null,ye,Te.characterMapping,Te.containsRTL,Te.containsForeignElements)),this._renderedViewLine=Ae,!0}layoutLine(e,n){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(n),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof ze:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof ze?this._renderedViewLine.monospaceAssumptionsAreValid():ht}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof ze&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,n,a,b){if(!this._renderedViewLine)return null;n=n|0,a=a|0,n=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,n)),a=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,a));const M=this._renderedViewLine.input.stopRenderingLineAfter|0;let j=!1;M!==-1&&n>M+1&&a>M+1&&(j=!0),M!==-1&&n>M+1&&(n=M+1),M!==-1&&a>M+1&&(a=M+1);const ee=this._renderedViewLine.getVisibleRangesForRange(e,n,a,b);return ee&&ee.length>0?new te(j,ee):null}getColumnOfNodeOffset(e,n,a){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,n,a):1}}kt.CLASS_NAME="view-line";class ze{constructor(e,n,a){this.domNode=e,this.input=n,this._characterMapping=a,this._charWidth=n.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return ht;const e=this.getWidth(),n=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-n)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),ht=!1),ht}toSlowRenderedLine(){return et(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,n,a,b){const M=this._getCharPosition(n),j=this._getCharPosition(a);return[new S(M,j-M)]}_getCharPosition(e){const n=this._characterMapping.getAbsoluteOffset(e);return this._charWidth*n}getColumnOfNodeOffset(e,n,a){const b=n.textContent.length;let M=-1;for(;n;)n=n.previousSibling,M++;return this._characterMapping.getColumn(new Pe.Nd(M,a),b)}}class he{constructor(e,n,a,b,M){if(this.domNode=e,this.input=n,this._characterMapping=a,this._isWhitespaceOnly=/^\s*$/.test(n.lineContent),this._containsForeignElements=M,this._cachedWidth=-1,this._pixelOffsetCache=null,!b||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let j=0,ee=this._characterMapping.length;j<=ee;j++)this._pixelOffsetCache[j]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,n,a,b){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const M=this._readPixelOffset(this.domNode,e,n,b);if(M===-1)return null;const j=this._readPixelOffset(this.domNode,e,a,b);return j===-1?null:[new S(M,j-M)]}return this._readVisibleRangesForRange(this.domNode,e,n,a,b)}_readVisibleRangesForRange(e,n,a,b,M){if(a===b){const j=this._readPixelOffset(e,n,a,M);return j===-1?null:[new S(j,0)]}else return this._readRawVisibleRangesForRange(e,a,b,M)}_readPixelOffset(e,n,a,b){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const M=this._getReadingTarget(e);return M.firstChild?M.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const M=this._pixelOffsetCache[a];if(M!==-1)return M;const j=this._actualReadPixelOffset(e,n,a,b);return this._pixelOffsetCache[a]=j,j}return this._actualReadPixelOffset(e,n,a,b)}_actualReadPixelOffset(e,n,a,b){if(this._characterMapping.length===0){const ue=me.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,b.clientRectDeltaLeft,b.endNode);return!ue||ue.length===0?-1:ue[0].left}if(a===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const M=this._characterMapping.getDomPosition(a),j=me.readHorizontalRanges(this._getReadingTarget(e),M.partIndex,M.charIndex,M.partIndex,M.charIndex,b.clientRectDeltaLeft,b.endNode);if(!j||j.length===0)return-1;const ee=j[0].left;if(this.input.isBasicASCII){const ue=this._characterMapping.getAbsoluteOffset(a),ye=Math.round(this.input.spaceWidth*ue);if(Math.abs(ye-ee)<=1)return ye}return ee}_readRawVisibleRangesForRange(e,n,a,b){if(n===1&&a===this._characterMapping.length)return[new S(0,this.getWidth())];const M=this._characterMapping.getDomPosition(n),j=this._characterMapping.getDomPosition(a);return me.readHorizontalRanges(this._getReadingTarget(e),M.partIndex,M.charIndex,j.partIndex,j.charIndex,b.clientRectDeltaLeft,b.endNode)}getColumnOfNodeOffset(e,n,a){const b=n.textContent.length;let M=-1;for(;n;)n=n.previousSibling,M++;return this._characterMapping.getColumn(new Pe.Nd(M,a),b)}}class ke extends he{_readVisibleRangesForRange(e,n,a,b,M){const j=super._readVisibleRangesForRange(e,n,a,b,M);if(!j||j.length===0||a===b||a===1&&b===this._characterMapping.length)return j;if(!this.input.containsRTL){const ee=this._readPixelOffset(e,n,b,M);if(ee!==-1){const ue=j[j.length-1];ue.left<ee&&(ue.width=ee-ue.left)}}return j}}const et=function(){return r.Pf?at:rt}();function at(pt,e,n,a,b){return new ke(pt,e,n,a,b)}function rt(pt,e,n,a,b){return new he(pt,e,n,a,b)}var Ne=c(50187),Oe=c(24314),we=c(33181),Ye=c(3675);class st{constructor(e=null){this.hitTarget=e,this.type=0}}class Pt{constructor(e,n,a){this.position=e,this.spanNode=n,this.injectedText=a,this.type=1}}var Qt;(function(pt){function e(n,a,b){const M=n.getPositionFromDOMInfo(a,b);return M?new Pt(M,a,null):new st(a)}pt.createFromDOMInfo=e})(Qt||(Qt={}));class ci{constructor(e,n){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=n}}class Gt{constructor(e,n,a=0,b=null,M=null,j=null){this.element=e,this.type=n,this.mouseColumn=a,this.position=b,!M&&b&&(M=new Oe.e(b.lineNumber,b.column,b.lineNumber,b.column)),this.range=M,this.detail=j}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail}toString(){return Gt.toString(this)}}class Lt{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===6}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===7}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===7}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===5}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===8}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}}class Ai{constructor(e,n,a){this.model=e.model;const b=e.configuration.options;this.layoutInfo=b.get(129),this.viewDomNode=n.viewDomNode,this.lineHeight=b.get(58),this.stickyTabStops=b.get(103),this.typicalHalfwidthCharacterWidth=b.get(43).typicalHalfwidthCharacterWidth,this.lastRenderData=a,this._context=e,this._viewHelper=n}getZoneAtCoord(e){return Ai.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,n){const a=e.viewLayout.getWhitespaceAtVerticalOffset(n);if(a){const b=a.verticalOffset+a.height/2,M=e.model.getLineCount();let j=null,ee,ue=null;return a.afterLineNumber!==M&&(ue=new Ne.L(a.afterLineNumber+1,1)),a.afterLineNumber>0&&(j=new Ne.L(a.afterLineNumber,e.model.getLineMaxColumn(a.afterLineNumber))),ue===null?ee=j:j===null?ee=ue:n<b?ee=j:ee=ue,{viewZoneId:a.id,afterLineNumber:a.afterLineNumber,positionBefore:j,positionAfter:ue,position:ee}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const b=this._context.model.getLineCount(),M=this._context.model.getLineMaxColumn(b);return{range:new Oe.e(b,M,b,M),isAfterLines:!0}}const n=this._context.viewLayout.getLineNumberAtVerticalOffset(e),a=this._context.model.getLineMaxColumn(n);return{range:new Oe.e(n,1,n,a),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,n){return Ai._findAttribute(e,n,this._viewHelper.viewDomNode)}static _findAttribute(e,n,a){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(n))return e.getAttribute(n);if(e===a)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,n){return this._viewHelper.visibleRangeForPosition(e,n)}getPositionFromDOMInfo(e,n){return this._viewHelper.getPositionFromDOMInfo(e,n)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class oi{constructor(e,n,a){this.editorPos=n,this.pos=a,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+a.y-n.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+a.x-n.x-e.layoutInfo.contentLeft,this.isInMarginArea=a.x-n.x<e.layoutInfo.contentLeft&&a.x-n.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,ii._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class $e extends oi{constructor(e,n,a,b){super(e,n,a),this._ctx=e,b?(this.target=b,this.targetPath=Z.collect(b,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(e,n=null,a=null,b=null){let M=this.mouseColumn;return n&&n.column<this._ctx.model.getLineMaxColumn(n.lineNumber)&&(M=we.io.visibleColumnFromColumn(this._ctx.model.getLineContent(n.lineNumber),n.column,this._ctx.model.getTextModelOptions().tabSize)+1),new Gt(this.target,e,M,n,a,b)}withTarget(e){return new $e(this._ctx,this.editorPos,this.pos,e)}}const Xe={isAfterLines:!0};function wi(pt){return{isAfterLines:!1,horizontalDistanceToText:pt}}class ii{constructor(e,n){this._context=e,this._viewHelper=n}mouseTargetIsWidget(e){const n=e.target,a=Z.collect(n,this._viewHelper.viewDomNode);return!!(Lt.isChildOfContentWidgets(a)||Lt.isChildOfOverflowingContentWidgets(a)||Lt.isChildOfOverlayWidgets(a))}createMouseTarget(e,n,a,b){const M=new Ai(this._context,this._viewHelper,e),j=new $e(M,n,a,b);try{return ii._createMouseTarget(M,j,!1)}catch(ee){return j.fulfill(0)}}static _createMouseTarget(e,n,a){if(n.target===null){if(a)return n.fulfill(0);const j=ii._doHitTest(e,n);return j.type===1?ii.createMouseTargetFromHitTestPosition(e,n,j.spanNode,j.position,j.injectedText):this._createMouseTarget(e,n.withTarget(j.hitTarget),!0)}const b=n;let M=null;return M=M||ii._hitTestContentWidget(e,b),M=M||ii._hitTestOverlayWidget(e,b),M=M||ii._hitTestMinimap(e,b),M=M||ii._hitTestScrollbarSlider(e,b),M=M||ii._hitTestViewZone(e,b),M=M||ii._hitTestMargin(e,b),M=M||ii._hitTestViewCursor(e,b),M=M||ii._hitTestTextArea(e,b),M=M||ii._hitTestViewLines(e,b,a),M=M||ii._hitTestScrollbar(e,b),M||n.fulfill(0)}static _hitTestContentWidget(e,n){if(Lt.isChildOfContentWidgets(n.targetPath)||Lt.isChildOfOverflowingContentWidgets(n.targetPath)){const a=e.findAttribute(n.target,"widgetId");return a?n.fulfill(9,null,null,a):n.fulfill(0)}return null}static _hitTestOverlayWidget(e,n){if(Lt.isChildOfOverlayWidgets(n.targetPath)){const a=e.findAttribute(n.target,"widgetId");return a?n.fulfill(12,null,null,a):n.fulfill(0)}return null}static _hitTestViewCursor(e,n){if(n.target){const a=e.lastRenderData.lastViewCursorsRenderData;for(const b of a)if(n.target===b.domNode)return n.fulfill(6,b.position,null,{mightBeForeignElement:!1})}if(n.isInContentArea){const a=e.lastRenderData.lastViewCursorsRenderData,b=n.mouseContentHorizontalOffset,M=n.mouseVerticalOffset;for(const j of a){if(b<j.contentLeft||b>j.contentLeft+j.width)continue;const ee=e.getVerticalOffsetForLineNumber(j.position.lineNumber);if(ee<=M&&M<=ee+j.height)return n.fulfill(6,j.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(e,n){const a=e.getZoneAtCoord(n.mouseVerticalOffset);if(a){const b=n.isInContentArea?8:5;return n.fulfill(b,a.position,null,a)}return null}static _hitTestTextArea(e,n){return Lt.isTextArea(n.targetPath)?e.lastRenderData.lastTextareaPosition?n.fulfill(6,e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):n.fulfill(1,e.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(e,n){if(n.isInMarginArea){const a=e.getFullLineRangeAtCoord(n.mouseVerticalOffset),b=a.range.getStartPosition();let M=Math.abs(n.pos.x-n.editorPos.x);const j={isAfterLines:a.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:M};return M-=e.layoutInfo.glyphMarginLeft,M<=e.layoutInfo.glyphMarginWidth?n.fulfill(2,b,a.range,j):(M-=e.layoutInfo.glyphMarginWidth,M<=e.layoutInfo.lineNumbersWidth?n.fulfill(3,b,a.range,j):(M-=e.layoutInfo.lineNumbersWidth,n.fulfill(4,b,a.range,j)))}return null}static _hitTestViewLines(e,n,a){if(!Lt.isChildOfViewLines(n.targetPath))return null;if(e.isInTopPadding(n.mouseVerticalOffset))return n.fulfill(7,new Ne.L(1,1),null,Xe);if(e.isAfterLines(n.mouseVerticalOffset)||e.isInBottomPadding(n.mouseVerticalOffset)){const M=e.model.getLineCount(),j=e.model.getLineMaxColumn(M);return n.fulfill(7,new Ne.L(M,j),null,Xe)}if(a){if(Lt.isStrictChildOfViewLines(n.targetPath)){const M=e.getLineNumberAtVerticalOffset(n.mouseVerticalOffset);if(e.model.getLineLength(M)===0){const ee=e.getLineWidth(M),ue=wi(n.mouseContentHorizontalOffset-ee);return n.fulfill(7,new Ne.L(M,1),null,ue)}const j=e.getLineWidth(M);if(n.mouseContentHorizontalOffset>=j){const ee=wi(n.mouseContentHorizontalOffset-j),ue=new Ne.L(M,e.model.getLineMaxColumn(M));return n.fulfill(7,ue,null,ee)}}return n.fulfill(0)}const b=ii._doHitTest(e,n);return b.type===1?ii.createMouseTargetFromHitTestPosition(e,n,b.spanNode,b.position,b.injectedText):this._createMouseTarget(e,n.withTarget(b.hitTarget),!0)}static _hitTestMinimap(e,n){if(Lt.isChildOfMinimap(n.targetPath)){const a=e.getLineNumberAtVerticalOffset(n.mouseVerticalOffset),b=e.model.getLineMaxColumn(a);return n.fulfill(11,new Ne.L(a,b))}return null}static _hitTestScrollbarSlider(e,n){if(Lt.isChildOfScrollableElement(n.targetPath)&&n.target&&n.target.nodeType===1){const a=n.target.className;if(a&&/\b(slider|scrollbar)\b/.test(a)){const b=e.getLineNumberAtVerticalOffset(n.mouseVerticalOffset),M=e.model.getLineMaxColumn(b);return n.fulfill(11,new Ne.L(b,M))}}return null}static _hitTestScrollbar(e,n){if(Lt.isChildOfScrollableElement(n.targetPath)){const a=e.getLineNumberAtVerticalOffset(n.mouseVerticalOffset),b=e.model.getLineMaxColumn(a);return n.fulfill(11,new Ne.L(a,b))}return null}getMouseColumn(e,n){const a=this._context.configuration.options,b=a.get(129),M=this._context.viewLayout.getCurrentScrollLeft()+n.x-e.x-b.contentLeft;return ii._getMouseColumn(M,a.get(43).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,n){return e<0?1:Math.round(e/n)+1}static createMouseTargetFromHitTestPosition(e,n,a,b,M){const j=b.lineNumber,ee=b.column,ue=e.getLineWidth(j);if(n.mouseContentHorizontalOffset>ue){const ri=wi(n.mouseContentHorizontalOffset-ue);return n.fulfill(7,b,null,ri)}const ye=e.visibleRangeForPosition(j,ee);if(!ye)return n.fulfill(0,b);const Te=ye.left;if(n.mouseContentHorizontalOffset===Te)return n.fulfill(6,b,null,{mightBeForeignElement:!!M});const Ae=[];if(Ae.push({offset:ye.left,column:ee}),ee>1){const ri=e.visibleRangeForPosition(j,ee-1);ri&&Ae.push({offset:ri.left,column:ee-1})}const ot=e.model.getLineMaxColumn(j);if(ee<ot){const ri=e.visibleRangeForPosition(j,ee+1);ri&&Ae.push({offset:ri.left,column:ee+1})}Ae.sort((ri,_i)=>ri.offset-_i.offset);const qe=n.pos.toClientCoordinates(),Et=a.getBoundingClientRect(),Ht=Et.left<=qe.clientX&&qe.clientX<=Et.right;for(let ri=1;ri<Ae.length;ri++){const _i=Ae[ri-1],Ii=Ae[ri];if(_i.offset<=n.mouseContentHorizontalOffset&&n.mouseContentHorizontalOffset<=Ii.offset){const bi=new Oe.e(j,_i.column,j,Ii.column);return n.fulfill(6,b,bi,{mightBeForeignElement:!Ht||!!M})}}return n.fulfill(6,b,null,{mightBeForeignElement:!Ht||!!M})}static _doHitTestWithCaretRangeFromPoint(e,n){const a=e.getLineNumberAtVerticalOffset(n.mouseVerticalOffset),M=e.getVerticalOffsetForLineNumber(a)+Math.floor(e.lineHeight/2);let j=n.pos.y+(M-n.mouseVerticalOffset);j<=n.editorPos.y&&(j=n.editorPos.y+1),j>=n.editorPos.y+e.layoutInfo.height&&(j=n.editorPos.y+e.layoutInfo.height-1);const ee=new R(n.pos.x,j),ue=this._actualDoHitTestWithCaretRangeFromPoint(e,ee.toClientCoordinates());return ue.type===1?ue:this._actualDoHitTestWithCaretRangeFromPoint(e,n.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,n){const a=k.Ay(e.viewDomNode);let b;if(a?typeof a.caretRangeFromPoint=="undefined"?b=Ui(a,n.clientX,n.clientY):b=a.caretRangeFromPoint(n.clientX,n.clientY):b=document.caretRangeFromPoint(n.clientX,n.clientY),!b||!b.startContainer)return new st;const M=b.startContainer;if(M.nodeType===M.TEXT_NODE){const j=M.parentNode,ee=j?j.parentNode:null,ue=ee?ee.parentNode:null;return(ue&&ue.nodeType===ue.ELEMENT_NODE?ue.className:null)===kt.CLASS_NAME?Qt.createFromDOMInfo(e,j,b.startOffset):new st(M.parentNode)}else if(M.nodeType===M.ELEMENT_NODE){const j=M.parentNode,ee=j?j.parentNode:null;return(ee&&ee.nodeType===ee.ELEMENT_NODE?ee.className:null)===kt.CLASS_NAME?Qt.createFromDOMInfo(e,M,M.textContent.length):new st(M)}return new st}static _doHitTestWithCaretPositionFromPoint(e,n){const a=document.caretPositionFromPoint(n.clientX,n.clientY);if(a.offsetNode.nodeType===a.offsetNode.TEXT_NODE){const b=a.offsetNode.parentNode,M=b?b.parentNode:null,j=M?M.parentNode:null;return(j&&j.nodeType===j.ELEMENT_NODE?j.className:null)===kt.CLASS_NAME?Qt.createFromDOMInfo(e,a.offsetNode.parentNode,a.offset):new st(a.offsetNode.parentNode)}if(a.offsetNode.nodeType===a.offsetNode.ELEMENT_NODE){const b=a.offsetNode.parentNode,M=b&&b.nodeType===b.ELEMENT_NODE?b.className:null,j=b?b.parentNode:null,ee=j&&j.nodeType===j.ELEMENT_NODE?j.className:null;if(M===kt.CLASS_NAME){const ue=a.offsetNode.childNodes[Math.min(a.offset,a.offsetNode.childNodes.length-1)];if(ue)return Qt.createFromDOMInfo(e,ue,0)}else if(ee===kt.CLASS_NAME)return Qt.createFromDOMInfo(e,a.offsetNode,0)}return new st(a.offsetNode)}static _snapToSoftTabBoundary(e,n){const a=n.getLineContent(e.lineNumber),{tabSize:b}=n.getTextModelOptions(),M=Ye.l.atomicPosition(a,e.column-1,b,2);return M!==-1?new Ne.L(e.lineNumber,M+1):e}static _doHitTest(e,n){let a=new st;if(typeof document.caretRangeFromPoint=="function"?a=this._doHitTestWithCaretRangeFromPoint(e,n):document.caretPositionFromPoint&&(a=this._doHitTestWithCaretPositionFromPoint(e,n.pos.toClientCoordinates())),a.type===1){const b=e.model.getInjectedTextAt(a.position),M=e.model.normalizePosition(a.position,2);(b||!M.equals(a.position))&&(a=new Pt(M,a.spanNode,b))}return a.type===1&&e.stickyTabStops&&(a=new Pt(this._snapToSoftTabBoundary(a.position,e.model),a.spanNode,a.injectedText)),a}}function Ui(pt,e,n){const a=document.createRange();let b=pt.elementFromPoint(e,n);if(b!==null){for(;b&&b.firstChild&&b.firstChild.nodeType!==b.firstChild.TEXT_NODE&&b.lastChild&&b.lastChild.firstChild;)b=b.lastChild;const M=b.getBoundingClientRect(),j=window.getComputedStyle(b,null).getPropertyValue("font"),ee=b.innerText;let ue=M.left,ye=0,Te;if(e>M.left+M.width)ye=ee.length;else{const Ae=Mn.getInstance();for(let ot=0;ot<ee.length+1;ot++){if(Te=Ae.getCharWidth(ee.charAt(ot),j)/2,ue+=Te,e<ue){ye=ot;break}ue+=Te}}a.setStart(b.firstChild,ye),a.setEnd(b.firstChild,ye)}return a}class Mn{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return Mn._INSTANCE||(Mn._INSTANCE=new Mn),Mn._INSTANCE}getCharWidth(e,n){const a=e+n;if(this._cache[a])return this._cache[a];const b=this._canvas.getContext("2d");b.font=n;const j=b.measureText(e).width;return this._cache[a]=j,j}}Mn._INSTANCE=null;var Ri=c(82334);function ps(pt){return function(e,n){let a=!1;return pt&&(a=pt.mouseTargetIsWidget(n)),a||n.preventDefault(),n}}class Zn extends De{constructor(e,n,a){super(),this._context=e,this.viewController=n,this.viewHelper=a,this.mouseTargetFactory=new ii(this._context,a),this._mouseDownOperation=this._register(new Bn(this._context,this.viewController,this.viewHelper,(j,ee)=>this._createMouseTarget(j,ee),j=>this._getMouseColumn(j))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(129).height;const b=new ce(this.viewHelper.viewDomNode);this._register(b.onContextMenu(this.viewHelper.viewDomNode,j=>this._onContextMenu(j,!0))),this._register(b.onMouseMoveThrottled(this.viewHelper.viewDomNode,j=>this._onMouseMove(j),ps(this.mouseTargetFactory),Zn.MOUSE_MOVE_MINIMUM_TIME)),this._register(b.onMouseUp(this.viewHelper.viewDomNode,j=>this._onMouseUp(j))),this._register(b.onMouseLeave(this.viewHelper.viewDomNode,j=>this._onMouseLeave(j))),this._register(b.onMouseDown(this.viewHelper.viewDomNode,j=>this._onMouseDown(j)));const M=j=>{if(this.viewController.emitMouseWheel(j),!this._context.configuration.options.get(67))return;const ee=new v.q(j);if(D.dz?(j.metaKey||j.ctrlKey)&&!j.shiftKey&&!j.altKey:j.ctrlKey&&!j.metaKey&&!j.shiftKey&&!j.altKey){const ye=Ri.C.getZoomLevel(),Te=ee.deltaY>0?1:-1;Ri.C.setZoomLevel(ye+Te),ee.preventDefault(),ee.stopPropagation()}};this._register(k.nm(this.viewHelper.viewDomNode,k.tw.MOUSE_WHEEL,M,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(129)){const n=this._context.configuration.options.get(129).height;this._height!==n&&(this._height=n,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,n){const b=new T(e,n).toPageCoordinates(),M=K(this.viewHelper.viewDomNode);return b.y<M.y||b.y>M.y+M.height||b.x<M.x||b.x>M.x+M.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),M,b,null)}_createMouseTarget(e,n){let a=e.target;if(!this.viewHelper.viewDomNode.contains(a)){const b=k.Ay(this.viewHelper.viewDomNode);b&&(a=b.elementsFromPoint(e.posx,e.posy).find(M=>this.viewHelper.viewDomNode.contains(M)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,n?a:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)}_onContextMenu(e,n){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,n)})}_onMouseMove(e){this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){const n=this._createMouseTarget(e,!0),a=n.type===6||n.type===7,b=n.type===2||n.type===3||n.type===4,M=n.type===3,j=this._context.configuration.options.get(97),ee=n.type===8||n.type===5,ue=n.type===9;let ye=e.leftButton||e.middleButton;D.dz&&e.leftButton&&e.ctrlKey&&(ye=!1);const Te=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(ye&&(a||M&&j))Te(),this._mouseDownOperation.start(n.type,e);else if(b)e.preventDefault();else if(ee){const Ae=n.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(Ae.viewZoneId)&&(Te(),this._mouseDownOperation.start(n.type,e),e.preventDefault())}else ue&&this.viewHelper.shouldSuppressMouseDownOnWidget(n.detail)&&(Te(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:n})}}Zn.MOUSE_MOVE_MINIMUM_TIME=100;class Bn extends I.JT{constructor(e,n,a,b,M){super(),this._context=e,this._viewController=n,this._viewHelper=a,this._createMouseTarget=b,this._getMouseColumn=M,this._mouseMoveMonitor=this._register(new ve(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new L._F),this._mouseState=new Xi,this._currentSelection=new x.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const n=this._findMousePosition(e,!0);n&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:n}):this._dispatchMouse(n,!0))}start(e,n){this._lastMouseEvent=n,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(n),this._mouseState.setModifiers(n);const a=this._findMousePosition(n,!0);if(!a||!a.position)return;this._mouseState.trySetCount(n.detail,a.position),n.detail=this._mouseState.count;const b=this._context.configuration.options;if(!b.get(80)&&b.get(31)&&!b.get(18)&&!this._mouseState.altKey&&n.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&a.type===6&&a.position&&this._currentSelection.containsPosition(a.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(n.target,n.buttons,ps(null),M=>this._onMouseDownThenMove(M),M=>{const j=this._findMousePosition(this._lastMouseEvent,!0);M&&M instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:j?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(a,n.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(n.target,n.buttons,ps(null),M=>this._onMouseDownThenMove(M),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);e&&(this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0))},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const n=e.editorPos,a=this._context.model,b=this._context.viewLayout,M=this._getMouseColumn(e);if(e.posy<n.y){const ee=Math.max(b.getCurrentScrollTop()-(n.y-e.posy),0),ue=Ai.getZoneAtCoord(this._context,ee);if(ue){const Te=this._helpPositionJumpOverViewZone(ue);if(Te)return new Gt(null,13,M,Te)}const ye=b.getLineNumberAtVerticalOffset(ee);return new Gt(null,13,M,new Ne.L(ye,1))}if(e.posy>n.y+n.height){const ee=b.getCurrentScrollTop()+(e.posy-n.y),ue=Ai.getZoneAtCoord(this._context,ee);if(ue){const Te=this._helpPositionJumpOverViewZone(ue);if(Te)return new Gt(null,13,M,Te)}const ye=b.getLineNumberAtVerticalOffset(ee);return new Gt(null,13,M,new Ne.L(ye,a.getLineMaxColumn(ye)))}const j=b.getLineNumberAtVerticalOffset(b.getCurrentScrollTop()+(e.posy-n.y));return e.posx<n.x?new Gt(null,13,M,new Ne.L(j,1)):e.posx>n.x+n.width?new Gt(null,13,M,new Ne.L(j,a.getLineMaxColumn(j))):null}_findMousePosition(e,n){const a=this._getPositionOutsideEditor(e);if(a)return a;const b=this._createMouseTarget(e,n);if(!b.position)return null;if(b.type===8||b.type===5){const j=this._helpPositionJumpOverViewZone(b.detail);if(j)return new Gt(b.element,b.type,b.mouseColumn,j,null,b.detail)}return b}_helpPositionJumpOverViewZone(e){const n=new Ne.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),a=e.positionBefore,b=e.positionAfter;return a&&b?a.isBefore(n)?a:b:null}_dispatchMouse(e,n){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:n,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class Xi{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,n){const a=new Date().getTime();a-this._lastSetMouseDownCountTime>Xi.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=a,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(n)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=n,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}Xi.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var Vn=c(10161),qi=c(81170),je=c(97295);const Tt=!1;class St{constructor(e,n,a,b,M){this.value=e,this.selectionStart=n,this.selectionEnd=a,this.selectionStartPosition=b,this.selectionEndPosition=M}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(e){return new St(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new St(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,n,a){Tt&&console.log("writeToTextArea "+e+": "+this.toString()),n.setValue(e,this.value),a&&n.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){const b=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,b,-1)}if(e>=this.selectionEnd){const b=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,b,1)}const n=this.value.substring(this.selectionStart,e);if(n.indexOf("\u2026")===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,n,1);const a=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,a,-1)}_finishDeduceEditorPosition(e,n,a){let b=0,M=-1;for(;(M=n.indexOf(`
`,M+1))!==-1;)b++;return[e,a*n.length,b]}static selectedText(e){return new St(e,0,e.length,null,null)}static deduceInput(e,n,a){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};Tt&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+e.toString()),console.log("CURRENT STATE: "+n.toString()));let b=e.value,M=e.selectionStart,j=e.selectionEnd,ee=n.value,ue=n.selectionStart,ye=n.selectionEnd;const Te=b.substring(j),Ae=ee.substring(ye),ot=je.P1(Te,Ae);ee=ee.substring(0,ee.length-ot),b=b.substring(0,b.length-ot);const qe=b.substring(0,M),Et=ee.substring(0,ue),Ht=je.Mh(qe,Et);if(ee=ee.substring(Ht),b=b.substring(Ht),ue-=Ht,M-=Ht,ye-=Ht,j-=Ht,Tt&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+b+">, selectionStart: "+M+", selectionEnd: "+j),console.log("AFTER DIFFING CURRENT STATE: <"+ee+">, selectionStart: "+ue+", selectionEnd: "+ye)),a&&ue===ye&&b.length>0){let _i=null;if(ue===ee.length?ee.startsWith(b)&&(_i=ee.substring(b.length)):ee.endsWith(b)&&(_i=ee.substring(0,ee.length-b.length)),_i!==null&&_i.length>0&&(/\uFE0F/.test(_i)||je.RP(_i)))return{text:_i,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(ue===ye){if(b===ee&&M===0&&j===b.length&&ue===ee.length&&ee.indexOf(`
`)===-1&&je.xe(ee))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const _i=qe.length-Ht;return Tt&&console.log("REMOVE PREVIOUS: "+(qe.length-Ht)+" chars"),{text:ee,replacePrevCharCnt:_i,replaceNextCharCnt:0,positionDelta:0}}const ri=j-M;return{text:ee,replacePrevCharCnt:ri,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,n){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(Tt&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+e.toString()),console.log("CURRENT STATE: "+n.toString())),e.value===n.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:n.selectionEnd-e.selectionEnd};const a=Math.min(je.Mh(e.value,n.value),e.selectionEnd),b=Math.min(je.P1(e.value,n.value),e.value.length-e.selectionEnd),M=e.value.substring(a,e.value.length-b),j=n.value.substring(a,n.value.length-b),ee=e.selectionStart-a,ue=e.selectionEnd-a,ye=n.selectionStart-a,Te=n.selectionEnd-a;return Tt&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+M+">, selectionStart: "+ee+", selectionEnd: "+ue),console.log("AFTER DIFFING CURRENT STATE: <"+j+">, selectionStart: "+ye+", selectionEnd: "+Te)),{text:j,replacePrevCharCnt:ue,replaceNextCharCnt:M.length-ue,positionDelta:Te-j.length}}}St.EMPTY=new St("",0,0,null,null);class Ze{static _getPageOfLine(e,n){return Math.floor((e-1)/n)}static _getRangeForPage(e,n){const a=e*n,b=a+1,M=a+n;return new Oe.e(b,1,M+1,1)}static fromEditorSelection(e,n,a,b,M){const j=Ze._getPageOfLine(a.startLineNumber,b),ee=Ze._getRangeForPage(j,b),ue=Ze._getPageOfLine(a.endLineNumber,b),ye=Ze._getRangeForPage(ue,b),Te=ee.intersectRanges(new Oe.e(1,1,a.startLineNumber,a.startColumn));let Ae=n.getValueInRange(Te,1);const ot=n.getLineCount(),qe=n.getLineMaxColumn(ot),Et=ye.intersectRanges(new Oe.e(a.endLineNumber,a.endColumn,ot,qe));let Ht=n.getValueInRange(Et,1),ri;if(j===ue||j+1===ue)ri=n.getValueInRange(a,1);else{const _i=ee.intersectRanges(a),Ii=ye.intersectRanges(a);ri=n.getValueInRange(_i,1)+"\u2026"+n.getValueInRange(Ii,1)}return M&&(Ae.length>500&&(Ae=Ae.substring(Ae.length-500,Ae.length)),Ht.length>500&&(Ht=Ht.substring(0,500)),ri.length>2*500&&(ri=ri.substring(0,500)+"\u2026"+ri.substring(ri.length-500,ri.length))),new St(Ae+ri+Ht,Ae.length,Ae.length+ri.length,new Ne.L(a.startLineNumber,a.startColumn),new Ne.L(a.endLineNumber,a.endColumn))}}var Je;(function(pt){pt.Tap="-monaco-textarea-synthetic-tap"})(Je||(Je={}));const xt={forceCopyWithSyntaxHighlighting:!1};class yt{constructor(){this._lastState=null}set(e,n){this._lastState={lastCopiedValue:e,data:n}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}yt.INSTANCE=new yt;class Xt extends I.JT{constructor(e,n){super(),this.textArea=n,this._onFocus=this._register(new s.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new s.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new s.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new s.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new s.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new s.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new s.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new s.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new s.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new s.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new s.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=e,this._textArea=this._register(new gi(n)),this._asyncTriggerCut=this._register(new L.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new L.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=St.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let a=null;this._register(k.mu(n.domNode,"keydown",ee=>{(ee.keyCode===109||this._isDoingComposition&&ee.keyCode===1)&&ee.stopPropagation(),ee.equals(9)&&ee.preventDefault(),a=ee,this._onKeyDown.fire(ee)})),this._register(k.mu(n.domNode,"keyup",ee=>{this._onKeyUp.fire(ee)})),this._register(k.nm(n.domNode,"compositionstart",ee=>{if(Tt&&console.log("[compositionstart]",ee),!this._isDoingComposition){if(this._isDoingComposition=!0,D.dz&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===ee.data&&(a&&a.equals(109)&&(a.code==="ArrowRight"||a.code==="ArrowLeft")||r.vU)){Tt&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",ee),this._textAreaState=new St(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new Ne.L(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),this._onCompositionStart.fire({revealDeltaColumns:-1});return}if(r.Dt){this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart});return}this._setAndWriteTextAreaState("compositionstart",St.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0})}}));const b=ee=>{const ue=this._textAreaState,ye=St.readFromTextArea(this._textArea);return[ye,St.deduceInput(ue,ye,ee)]},M=()=>{const ee=this._textAreaState,ue=St.readFromTextArea(this._textArea);return[ue,St.deduceAndroidCompositionInput(ee,ue)]},j=ee=>{const ue=this._textAreaState,ye=St.selectedText(ee),Te={text:ye.value,replacePrevCharCnt:ue.selectionEnd-ue.selectionStart,replaceNextCharCnt:0,positionDelta:0};return[ye,Te]};this._register(k.nm(n.domNode,"compositionupdate",ee=>{if(Tt&&console.log("[compositionupdate]",ee),r.Dt){const[Te,Ae]=M();this._textAreaState=Te,this._onType.fire(Ae),this._onCompositionUpdate.fire(ee);return}const[ue,ye]=j(ee.data||"");this._textAreaState=ue,this._onType.fire(ye),this._onCompositionUpdate.fire(ee)})),this._register(k.nm(n.domNode,"compositionend",ee=>{if(Tt&&console.log("[compositionend]",ee),!this._isDoingComposition)return;if(this._isDoingComposition=!1,r.Dt){const[Te,Ae]=M();this._textAreaState=Te,this._onType.fire(Ae),this._onCompositionEnd.fire();return}const[ue,ye]=j(ee.data||"");this._textAreaState=ue,this._onType.fire(ye),(r.i7||r.vU)&&(this._textAreaState=St.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()})),this._register(k.nm(n.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[ee,ue]=b(D.dz);ue.replacePrevCharCnt===0&&ue.text.length===1&&je.ZG(ue.text.charCodeAt(0))||(this._textAreaState=ee,this._nextCommand===0?(ue.text!==""||ue.replacePrevCharCnt!==0)&&this._onType.fire(ue):((ue.text!==""||ue.replacePrevCharCnt!==0)&&this._firePaste(ue.text,null),this._nextCommand=0))})),this._register(k.nm(n.domNode,"cut",ee=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(ee),this._asyncTriggerCut.schedule()})),this._register(k.nm(n.domNode,"copy",ee=>{this._ensureClipboardGetsEditorSelection(ee)})),this._register(k.nm(n.domNode,"paste",ee=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),ni.canUseTextData(ee)){const[ue,ye]=ni.getTextData(ee);ue!==""&&this._firePaste(ue,ye)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",St.EMPTY),this._nextCommand=1})),this._register(k.nm(n.domNode,"focus",()=>{const ee=this._hasFocus;this._setHasFocus(!0),r.G6&&!ee&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(k.nm(n.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(k.nm(n.domNode,Je.Tap,()=>{r.Dt&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return k.nm(document,"selectionchange",n=>{if(!this._hasFocus||this._isDoingComposition||!r.i7)return;const a=Date.now(),b=a-e;if(e=a,b<5)return;const M=a-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),M<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const j=this._textArea.getValue();if(this._textAreaState.value!==j)return;const ee=this._textArea.getSelectionStart(),ue=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===ee&&this._textAreaState.selectionEnd===ue)return;const ye=this._textAreaState.deduceEditorPosition(ee),Te=this._host.deduceModelPosition(ye[0],ye[1],ye[2]),Ae=this._textAreaState.deduceEditorPosition(ue),ot=this._host.deduceModelPosition(Ae[0],Ae[1],Ae[2]),qe=new x.Y(Te.lineNumber,Te.column,ot.lineNumber,ot.column);this._onSelectionChangeRequest.fire(qe)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const e=k.Ay(this.textArea.domNode);e?this._setHasFocus(e.activeElement===this.textArea.domNode):k.Uw(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,n){this._hasFocus||(n=n.collapseSelection()),n.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=n}writeScreenReaderContent(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){const n=this._host.getDataToCopy(ni.canUseTextData(e)),a={version:1,isFromEmptySelection:n.isFromEmptySelection,multicursorText:n.multicursorText,mode:n.mode};if(yt.INSTANCE.set(r.vU?n.text.replace(/\r\n/g,`
`):n.text,a),!ni.canUseTextData(e)){this._setAndWriteTextAreaState("copy or cut",St.selectedText(n.text));return}ni.setTextData(e,n.text,n.html,a)}_firePaste(e,n){n||(n=yt.INSTANCE.get(e)),this._onPaste.fire({text:e,metadata:n})}}class ni{static canUseTextData(e){return!!e.clipboardData}static getTextData(e){if(e.clipboardData){e.preventDefault();const n=e.clipboardData.getData(qi.vW.text);let a=null;const b=e.clipboardData.getData("vscode-editor-data");if(typeof b=="string")try{a=JSON.parse(b),a.version!==1&&(a=null)}catch(M){}return[n,a]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(e,n,a,b){if(e.clipboardData){e.clipboardData.setData(qi.vW.text,n),typeof a=="string"&&e.clipboardData.setData("text/html",a),e.clipboardData.setData("vscode-editor-data",JSON.stringify(b)),e.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class gi extends I.JT{constructor(e){super(),this._actual=e,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(e,n){const a=this._actual.domNode;a.value!==n&&(this.setIgnoreSelectionChangeTime("setValue"),a.value=n)}getSelectionStart(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(e,n,a){const b=this._actual.domNode;let M=null;const j=k.Ay(b);j?M=j.activeElement:M=document.activeElement;const ee=M===b,ue=b.selectionStart,ye=b.selectionEnd;if(ee&&ue===n&&ye===a){r.vU&&window.parent!==window&&b.focus();return}if(ee){this.setIgnoreSelectionChangeTime("setSelectionRange"),b.setSelectionRange(n,a),r.vU&&window.parent!==window&&b.focus();return}try{const Te=k.vL(b);this.setIgnoreSelectionChangeTime("setSelectionRange"),b.focus(),b.setSelectionRange(n,a),k._0(b,Te)}catch(Te){}}}class Gi extends Zn{constructor(e,n,a){super(e,n,a),this._register(f.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(k.nm(this.viewHelper.linesContentDomNode,f.t.Tap,M=>this.onTap(M))),this._register(k.nm(this.viewHelper.linesContentDomNode,f.t.Change,M=>this.onChange(M))),this._register(k.nm(this.viewHelper.linesContentDomNode,f.t.Contextmenu,M=>this._onContextMenu(new ie(M,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(k.nm(this.viewHelper.linesContentDomNode,"pointerdown",M=>{const j=M.pointerType;if(j==="mouse"){this._lastPointerType="mouse";return}else j==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const b=new _e(this.viewHelper.viewDomNode);this._register(b.onPointerMoveThrottled(this.viewHelper.viewDomNode,M=>this._onMouseMove(M),ps(this.mouseTargetFactory),Zn.MOUSE_MOVE_MINIMUM_TIME)),this._register(b.onPointerUp(this.viewHelper.viewDomNode,M=>this._onMouseUp(M))),this._register(b.onPointerLeave(this.viewHelper.viewDomNode,M=>this._onMouseLeave(M))),this._register(b.onPointerDown(this.viewHelper.viewDomNode,M=>this._onMouseDown(M)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const n=this._createMouseTarget(new ie(e,this.viewHelper.viewDomNode),!1);n.position&&this.viewController.dispatchMouse({position:n.position,mouseColumn:n.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(e){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e)}}class ji extends Zn{constructor(e,n,a){super(e,n,a),this._register(f.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(k.nm(this.viewHelper.linesContentDomNode,f.t.Tap,b=>this.onTap(b))),this._register(k.nm(this.viewHelper.linesContentDomNode,f.t.Change,b=>this.onChange(b))),this._register(k.nm(this.viewHelper.linesContentDomNode,f.t.Contextmenu,b=>this._onContextMenu(new ie(b,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const n=this._createMouseTarget(new ie(e,this.viewHelper.viewDomNode),!1);if(n.position){const a=document.createEvent("CustomEvent");a.initEvent(Je.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(a),this.viewController.moveTo(n.position)}}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}}class is extends I.JT{constructor(e,n,a){super(),D.gn&&Vn.D.pointerEvents?this.handler=this._register(new Gi(e,n,a)):window.TouchEvent?this.handler=this._register(new ji(e,n,a)):this.handler=this._register(new Zn(e,n,a))}getTargetAtClientPoint(e,n){return this.handler.getTargetAtClientPoint(e,n)}}class Hi extends De{}var hn=c(27869),vt=c(97781);class mt extends Hi{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new Ne.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(58);const n=e.get(59);this._renderLineNumbers=n.renderType,this._renderCustomLineNumbers=n.renderFn,this._renderFinalNewline=e.get(83);const a=e.get(129);this._lineNumbersLeft=a.lineNumbersLeft,this._lineNumbersWidth=a.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const n=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(n);let a=!1;return this._activeLineNumber!==n.lineNumber&&(this._activeLineNumber=n.lineNumber,a=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(a=!0),a}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const n=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ne.L(e,1));if(n.column!==1)return"";const a=n.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(a);if(this._renderLineNumbers===2){const b=Math.abs(this._lastCursorModelPosition.lineNumber-a);return b===0?'<span class="relative-current-line-number">'+a+"</span>":String(b)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===a||a%10===0?String(a):"":String(a)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const n=D.IJ?this._lineHeight%2===0?" lh-even":" lh-odd":"",a=e.visibleRange.startLineNumber,b=e.visibleRange.endLineNumber,M='<div class="'+mt.CLASS_NAME+n+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',j=this._context.model.getLineCount(),ee=[];for(let ue=a;ue<=b;ue++){const ye=ue-a;if(!this._renderFinalNewline&&ue===j&&this._context.model.getLineLength(ue)===0){ee[ye]="";continue}const Te=this._getLineRenderLineNumber(ue);Te?ue===this._activeLineNumber?ee[ye]='<div class="active-line-number '+mt.CLASS_NAME+n+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+Te+"</div>":ee[ye]=M+Te+"</div>":ee[ye]=""}this._renderResult=ee}render(e,n){if(!this._renderResult)return"";const a=n-e;return a<0||a>=this._renderResult.length?"":this._renderResult[a]}}mt.CLASS_NAME="line-numbers",(0,vt.Ic)((pt,e)=>{const n=pt.getColor(hn.hw);n&&e.addRule(`.monaco-editor .line-numbers { color: ${n}; }`);const a=pt.getColor(hn.DD);a&&e.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${a}; }`)});class Nt extends le{constructor(e){super(e);const n=this._context.configuration.options,a=n.get(129);this._canUseLayerHinting=!n.get(28),this._contentLeft=a.contentLeft,this._glyphMarginLeft=a.glyphMarginLeft,this._glyphMarginWidth=a.glyphMarginWidth,this._domNode=(0,w.X)(document.createElement("div")),this._domNode.setClassName(Nt.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,w.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Nt.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const n=this._context.configuration.options,a=n.get(129);return this._canUseLayerHinting=!n.get(28),this._contentLeft=a.contentLeft,this._glyphMarginLeft=a.glyphMarginLeft,this._glyphMarginWidth=a.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const n=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-n);const a=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(a),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(a)}}Nt.CLASS_NAME="glyph-margin",Nt.OUTER_CLASS_NAME="margin";var He=c(59410),Qe=c(49335);class ft{constructor(e,n,a){this._visibleTextAreaBrand=void 0,this.top=e,this.left=n,this.width=a}setWidth(e){return new ft(this.top,this.left,e)}}const ct=r.vU;class ei extends le{constructor(e,n,a){super(e),this._primaryCursorPosition=new Ne.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=n,this._viewHelper=a,this._scrollLeft=0,this._scrollTop=0;const b=this._context.configuration.options,M=b.get(129);this._setAccessibilityOptions(b),this._contentLeft=M.contentLeft,this._contentWidth=M.contentWidth,this._contentHeight=M.height,this._fontInfo=b.get(43),this._lineHeight=b.get(58),this._emptySelectionClipboard=b.get(32),this._copyWithSyntaxHighlighting=b.get(21),this._visibleTextArea=null,this._selections=[new x.Y(1,1,1,1)],this._modelSelections=[new x.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,w.X)(document.createElement("textarea")),Z.write(this.textArea,6),this.textArea.setClassName(`inputarea ${Qe.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(b)),this.textArea.setAttribute("tabindex",String(b.get(111))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",J.N("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),b.get(30)&&b.get(80)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,w.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const j={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:ue=>this._context.model.getLineMaxColumn(ue),getValueInRange:(ue,ye)=>this._context.model.getValueInRange(ue,ye)},ee={getDataToCopy:ue=>{const ye=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,D.ED),Te=this._context.model.getEOL(),Ae=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),ot=Array.isArray(ye)?ye:null,qe=Array.isArray(ye)?ye.join(Te):ye;let Et,Ht=null;if(ue&&(xt.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&qe.length<65536)){const ri=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);ri&&(Et=ri.html,Ht=ri.mode)}return{isFromEmptySelection:Ae,multicursorText:ot,text:qe,html:Et,mode:Ht}},getScreenReaderContent:ue=>{if(this._accessibilitySupport===1){if(D.dz){const ye=this._selections[0];if(ye.isEmpty()){const Te=ye.getStartPosition();let Ae=this._getWordBeforePosition(Te);if(Ae.length===0&&(Ae=this._getCharacterBeforePosition(Te)),Ae.length>0)return new St(Ae,Ae.length,Ae.length,Te,Te)}}return St.EMPTY}if(r.Dt){const ye=this._selections[0];if(ye.isEmpty()){const Te=ye.getStartPosition(),[Ae,ot]=this._getAndroidWordAtPosition(Te);if(Ae.length>0)return new St(Ae,ot,ot,Te,Te)}return St.EMPTY}return Ze.fromEditorSelection(ue,j,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(ue,ye,Te)=>this._context.model.deduceModelPositionRelativeToViewPosition(ue,ye,Te)};this._textAreaInput=this._register(new Xt(ee,this.textArea)),this._register(this._textAreaInput.onKeyDown(ue=>{this._viewController.emitKeyDown(ue)})),this._register(this._textAreaInput.onKeyUp(ue=>{this._viewController.emitKeyUp(ue)})),this._register(this._textAreaInput.onPaste(ue=>{let ye=!1,Te=null,Ae=null;ue.metadata&&(ye=this._emptySelectionClipboard&&!!ue.metadata.isFromEmptySelection,Te=typeof ue.metadata.multicursorText!="undefined"?ue.metadata.multicursorText:null,Ae=ue.metadata.mode),this._viewController.paste(ue.text,ye,Te,Ae)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(ue=>{ue.replacePrevCharCnt||ue.replaceNextCharCnt||ue.positionDelta?(Tt&&console.log(` => compositionType: <<${ue.text}>>, ${ue.replacePrevCharCnt}, ${ue.replaceNextCharCnt}, ${ue.positionDelta}`),this._viewController.compositionType(ue.text,ue.replacePrevCharCnt,ue.replaceNextCharCnt,ue.positionDelta)):(Tt&&console.log(` => type: <<${ue.text}>>`),this._viewController.type(ue.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(ue=>{this._viewController.setSelection(ue)})),this._register(this._textAreaInput.onCompositionStart(ue=>{const ye=this._selections[0].startLineNumber,Te=this._selections[0].startColumn+ue.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new Oe.e(ye,Te,ye,Te),0,1);const Ae=this._viewHelper.visibleRangeForPositionRelativeToEditor(ye,Te);Ae&&(this._visibleTextArea=new ft(this._context.viewLayout.getVerticalOffsetForLineNumber(ye),Ae.left,ct?0:1),this._render()),this.textArea.setClassName(`inputarea ${Qe.S} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(ue=>{this._visibleTextArea&&(this._visibleTextArea=this._visibleTextArea.setWidth(Vi(ue.data,this._fontInfo)),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${Qe.S}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const n='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',a=this._context.model.getLineContent(e.lineNumber),b=(0,He.u)(n);let M=!0,j=e.column,ee=!0,ue=e.column,ye=0;for(;ye<50&&(M||ee);){if(M&&j<=1&&(M=!1),M){const Te=a.charCodeAt(j-2);b.get(Te)!==0?M=!1:j--}if(ee&&ue>a.length&&(ee=!1),ee){const Te=a.charCodeAt(ue-1);b.get(Te)!==0?ee=!1:ue++}ye++}return[a.substring(j-1,ue-1),e.column-j]}_getWordBeforePosition(e){const n=this._context.model.getLineContent(e.lineNumber),a=(0,He.u)(this._context.configuration.options.get(115));let b=e.column,M=0;for(;b>1;){const j=n.charCodeAt(b-2);if(a.get(j)!==0||M>50)return n.substring(b-1,e.column-1);M++,b--}return n.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const a=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!je.ZG(a.charCodeAt(0)))return a}return""}_getAriaLabel(e){return e.get(2)===1?J.N("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",D.IJ?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const n=e.get(3);this._accessibilitySupport===2&&n===nt.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=n}onConfigurationChanged(e){const n=this._context.configuration.options,a=n.get(129);return this._setAccessibilityOptions(n),this._contentLeft=a.contentLeft,this._contentWidth=a.contentWidth,this._contentHeight=a.height,this._fontInfo=n.get(43),this._lineHeight=n.get(58),this._emptySelectionClipboard=n.get(32),this._copyWithSyntaxHighlighting=n.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(n)),this.textArea.setAttribute("tabindex",String(n.get(111))),(e.hasChanged(30)||e.hasChanged(80))&&(n.get(30)&&n.get(80)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new Ne.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const n=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(n<0||n>this._contentHeight){this._renderAtTopLeft();return}if(D.dz){this._renderInsideEditor(this._primaryCursorPosition,n,e,ct?0:1,this._lineHeight);return}this._renderInsideEditor(this._primaryCursorPosition,n,e,ct?0:1,ct?0:1)}_renderInsideEditor(e,n,a,b,M){this._lastRenderPosition=e;const j=this.textArea,ee=this.textAreaCover;C.V.applyFontInfo(j,this._fontInfo),j.setTop(n),j.setLeft(a),j.setWidth(b),j.setHeight(M),ee.setTop(0),ee.setLeft(0),ee.setWidth(0),ee.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const e=this.textArea,n=this.textAreaCover;if(C.V.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),n.setTop(0),n.setLeft(0),ct){e.setWidth(0),e.setHeight(0),n.setWidth(0),n.setHeight(0);return}e.setWidth(1),e.setHeight(1),n.setWidth(1),n.setHeight(1);const a=this._context.configuration.options;a.get(49)?n.setClassName("monaco-editor-background textAreaCover "+Nt.OUTER_CLASS_NAME):a.get(59).renderType!==0?n.setClassName("monaco-editor-background textAreaCover "+mt.CLASS_NAME):n.setClassName("monaco-editor-background textAreaCover")}}function Vi(pt,e){const a=document.createElement("canvas").getContext("2d");a.font=fi(e);const b=a.measureText(pt);return r.vU?b.width+2:b.width}function fi(pt){return Di("normal",pt.fontWeight,pt.fontSize,pt.lineHeight,pt.fontFamily)}function Di(pt,e,n,a,b){return`${pt} normal ${e} ${n}px / ${a}px ${b}`}var zi=c(89495);class dn{constructor(e,n,a,b){this.configuration=e,this.viewModel=n,this.userInputEvents=a,this.commandDelegate=b}paste(e,n,a,b){this.commandDelegate.paste(e,n,a,b)}type(e){this.commandDelegate.type(e)}compositionType(e,n,a,b){this.commandDelegate.compositionType(e,n,a,b)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){zi.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const n=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<n?new Ne.L(e.lineNumber,n):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const n=this.configuration.options,a=D.IJ&&n.get(95),b=n.get(18);e.middleButton&&!a?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount===2?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):b?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){zi.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){zi.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,n,a){e=this._validateViewColumn(e),zi.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:n,doColumnSelect:a})}_createCursor(e,n){e=this._validateViewColumn(e),zi.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:n})}_lastCursorMoveToSelect(e){zi.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){zi.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){zi.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){zi.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){zi.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){zi.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){zi.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){zi.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){zi.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class gn{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return gn.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,n){return new Mi(e.element,e.type,e.mouseColumn,e.position?n.convertViewPositionToModelPosition(e.position):null,e.range?n.convertViewRangeToModelRange(e.range):null,e.detail)}}class Mi{constructor(e,n,a,b,M,j){this.element=e,this.type=n,this.mouseColumn=a,this.position=b,this.range=M,this.detail=j}toString(){return Gt.toString(this)}}var pi=c(50072),Cn;class En{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,n){this._lines=n,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const n=e-this._rendLineNumberStart;if(n<0||n>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[n]}onLinesDeleted(e,n){if(this.getCount()===0)return null;const a=this.getStartLineNumber(),b=this.getEndLineNumber();if(n<a){const ue=n-e+1;return this._rendLineNumberStart-=ue,null}if(e>b)return null;let M=0,j=0;for(let ue=a;ue<=b;ue++){const ye=ue-this._rendLineNumberStart;e<=ue&&ue<=n&&(j===0?(M=ye,j=1):j++)}if(e<a){let ue=0;n<a?ue=n-e+1:ue=a-e,this._rendLineNumberStart-=ue}return this._lines.splice(M,j)}onLinesChanged(e,n){if(this.getCount()===0)return!1;const a=this.getStartLineNumber(),b=this.getEndLineNumber();let M=!1;for(let j=e;j<=n;j++)j>=a&&j<=b&&(this._lines[j-this._rendLineNumberStart].onContentChanged(),M=!0);return M}onLinesInserted(e,n){if(this.getCount()===0)return null;const a=n-e+1,b=this.getStartLineNumber(),M=this.getEndLineNumber();if(e<=b)return this._rendLineNumberStart+=a,null;if(e>M)return null;if(a+e>M)return this._lines.splice(e-this._rendLineNumberStart,M-e+1);const j=[];for(let Ae=0;Ae<a;Ae++)j[Ae]=this._createLine();const ee=e-this._rendLineNumberStart,ue=this._lines.slice(0,ee),ye=this._lines.slice(ee,this._lines.length-a),Te=this._lines.slice(this._lines.length-a,this._lines.length);return this._lines=ue.concat(j).concat(ye),Te}onTokensChanged(e){if(this.getCount()===0)return!1;const n=this.getStartLineNumber(),a=this.getEndLineNumber();let b=!1;for(let M=0,j=e.length;M<j;M++){const ee=e[M];if(ee.toLineNumber<n||ee.fromLineNumber>a)continue;const ue=Math.max(n,ee.fromLineNumber),ye=Math.min(a,ee.toLineNumber);for(let Te=ue;Te<=ye;Te++){const Ae=Te-this._rendLineNumberStart;this._lines[Ae].onTokensChanged(),b=!0}}return b}}class Yn{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new En(()=>this._host.createVisibleLine())}_createDomNode(){const e=(0,w.X)(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(129)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){const n=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(n)for(let a=0,b=n.length;a<b;a++){const M=n[a].getDomNode();M&&this.domNode.domNode.removeChild(M)}return!0}onLinesInserted(e){const n=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(n)for(let a=0,b=n.length;a<b;a++){const M=n[a].getDomNode();M&&this.domNode.domNode.removeChild(M)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const n=this._linesCollection._get(),a=new vs(this.domNode.domNode,this._host,e),b={rendLineNumberStart:n.rendLineNumberStart,lines:n.lines,linesLength:n.lines.length},M=a.render(b,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(M.rendLineNumberStart,M.lines)}}class vs{constructor(e,n,a){this.domNode=e,this.host=n,this.viewportData=a}render(e,n,a,b){const M={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(M.rendLineNumberStart+M.linesLength-1<n||a<M.rendLineNumberStart){M.rendLineNumberStart=n,M.linesLength=a-n+1,M.lines=[];for(let j=n;j<=a;j++)M.lines[j-n]=this.host.createVisibleLine();return this._finishRendering(M,!0,b),M}if(this._renderUntouchedLines(M,Math.max(n-M.rendLineNumberStart,0),Math.min(a-M.rendLineNumberStart,M.linesLength-1),b,n),M.rendLineNumberStart>n){const j=n,ee=Math.min(a,M.rendLineNumberStart-1);j<=ee&&(this._insertLinesBefore(M,j,ee,b,n),M.linesLength+=ee-j+1)}else if(M.rendLineNumberStart<n){const j=Math.min(M.linesLength,n-M.rendLineNumberStart);j>0&&(this._removeLinesBefore(M,j),M.linesLength-=j)}if(M.rendLineNumberStart=n,M.rendLineNumberStart+M.linesLength-1<a){const j=M.rendLineNumberStart+M.linesLength,ee=a;j<=ee&&(this._insertLinesAfter(M,j,ee,b,n),M.linesLength+=ee-j+1)}else if(M.rendLineNumberStart+M.linesLength-1>a){const j=Math.max(0,a-M.rendLineNumberStart+1),ue=M.linesLength-1-j+1;ue>0&&(this._removeLinesAfter(M,ue),M.linesLength-=ue)}return this._finishRendering(M,!1,b),M}_renderUntouchedLines(e,n,a,b,M){const j=e.rendLineNumberStart,ee=e.lines;for(let ue=n;ue<=a;ue++){const ye=j+ue;ee[ue].layoutLine(ye,b[ye-M])}}_insertLinesBefore(e,n,a,b,M){const j=[];let ee=0;for(let ue=n;ue<=a;ue++)j[ee++]=this.host.createVisibleLine();e.lines=j.concat(e.lines)}_removeLinesBefore(e,n){for(let a=0;a<n;a++){const b=e.lines[a].getDomNode();b&&this.domNode.removeChild(b)}e.lines.splice(0,n)}_insertLinesAfter(e,n,a,b,M){const j=[];let ee=0;for(let ue=n;ue<=a;ue++)j[ee++]=this.host.createVisibleLine();e.lines=e.lines.concat(j)}_removeLinesAfter(e,n){const a=e.linesLength-n;for(let b=0;b<n;b++){const M=e.lines[a+b].getDomNode();M&&this.domNode.removeChild(M)}e.lines.splice(a,n)}_finishRenderingNewLines(e,n,a,b){vs._ttPolicy&&(a=vs._ttPolicy.createHTML(a));const M=this.domNode.lastChild;n||!M?this.domNode.innerHTML=a:M.insertAdjacentHTML("afterend",a);let j=this.domNode.lastChild;for(let ee=e.linesLength-1;ee>=0;ee--){const ue=e.lines[ee];b[ee]&&(ue.setDomNode(j),j=j.previousSibling)}}_finishRenderingInvalidLines(e,n,a){const b=document.createElement("div");vs._ttPolicy&&(n=vs._ttPolicy.createHTML(n)),b.innerHTML=n;for(let M=0;M<e.linesLength;M++){const j=e.lines[M];if(a[M]){const ee=b.firstChild,ue=j.getDomNode();ue.parentNode.replaceChild(ee,ue),j.setDomNode(ee)}}}_finishRendering(e,n,a){const b=vs._sb,M=e.linesLength,j=e.lines,ee=e.rendLineNumberStart,ue=[];{b.reset();let ye=!1;for(let Te=0;Te<M;Te++){const Ae=j[Te];ue[Te]=!1,!(Ae.getDomNode()||!Ae.renderLine(Te+ee,a[Te],this.viewportData,b))&&(ue[Te]=!0,ye=!0)}ye&&this._finishRenderingNewLines(e,n,b.build(),ue)}{b.reset();let ye=!1;const Te=[];for(let Ae=0;Ae<M;Ae++){const ot=j[Ae];Te[Ae]=!1,!(ue[Ae]||!ot.renderLine(Ae+ee,a[Ae],this.viewportData,b))&&(Te[Ae]=!0,ye=!0)}ye&&this._finishRenderingInvalidLines(e,b.build(),Te)}}}vs._ttPolicy=(Cn=window.trustedTypes)===null||Cn===void 0?void 0:Cn.createPolicy("editorViewLayer",{createHTML:pt=>pt}),vs._sb=(0,pi.l$)(1e5);class ds extends le{constructor(e){super(e),this._visibleLines=new Yn(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,n=this._dynamicOverlays.length;e<n;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,n=this._dynamicOverlays.length;e<n;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Is(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const n=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let b=n;b<=a;b++)this._visibleLines.getVisibleLine(b).onConfigurationChanged(e);return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const n=this._dynamicOverlays.filter(a=>a.shouldRender());for(let a=0,b=n.length;a<b;a++){const M=n[a];M.prepareRender(e),M.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class Is{constructor(e,n){this._configuration=e,this._lineHeight=this._configuration.options.get(58),this._dynamicOverlays=n,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=(0,w.X)(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(58)}renderLine(e,n,a,b){let M="";for(let j=0,ee=this._dynamicOverlays.length;j<ee;j++){const ue=this._dynamicOverlays[j];M+=ue.render(a.startLineNumber,e)}return this._renderedContent===M?!1:(this._renderedContent=M,b.appendASCIIString('<div style="position:absolute;top:'),b.appendASCIIString(String(n)),b.appendASCIIString("px;width:100%;height:"),b.appendASCIIString(String(this._lineHeight)),b.appendASCIIString('px;">'),b.appendASCIIString(M),b.appendASCIIString("</div>"),!0)}layoutLine(e,n){this._domNode&&(this._domNode.setTop(n),this._domNode.setHeight(this._lineHeight))}}class Fo extends ds{constructor(e){super(e);const a=this._context.configuration.options.get(129);this._contentWidth=a.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const a=this._context.configuration.options.get(129);return this._contentWidth=a.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class no extends ds{constructor(e){super(e);const n=this._context.configuration.options,a=n.get(129);this._contentLeft=a.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),C.V.applyFontInfo(this.domNode,n.get(43))}onConfigurationChanged(e){const n=this._context.configuration.options;C.V.applyFontInfo(this.domNode,n.get(43));const a=n.get(129);return this._contentLeft=a.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const n=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(n),this.domNode.setWidth(this._contentLeft)}}class Ls{constructor(e,n){this._coordinateBrand=void 0,this.top=e,this.left=n}}class Io extends le{constructor(e,n){super(e),this._viewDomNode=n,this._widgets={},this.domNode=(0,w.X)(document.createElement("div")),Z.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,w.X)(document.createElement("div")),Z.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const n=Object.keys(this._widgets);for(const a of n)this._widgets[a].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const n=Object.keys(this._widgets);for(const a of n)this._widgets[a].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const n=new Xs(this._context,this._viewDomNode,e);this._widgets[n.id]=n,n.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(n.domNode):this.domNode.appendChild(n.domNode),this.setShouldRender()}setWidgetPosition(e,n,a){this._widgets[e.getId()].setPosition(n,a),this.setShouldRender()}removeWidget(e){const n=e.getId();if(this._widgets.hasOwnProperty(n)){const a=this._widgets[n];delete this._widgets[n];const b=a.domNode.domNode;b.parentNode.removeChild(b),b.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const n=Object.keys(this._widgets);for(const a of n)this._widgets[a].onBeforeRender(e)}prepareRender(e){const n=Object.keys(this._widgets);for(const a of n)this._widgets[a].prepareRender(e)}render(e){const n=Object.keys(this._widgets);for(const a of n)this._widgets[a].render(e)}}class Xs{constructor(e,n,a){this._context=e,this._viewDomNode=n,this._actual=a,this.domNode=(0,w.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const b=this._context.configuration.options,M=b.get(129);this._fixedOverflowWidgets=b.get(36),this._contentWidth=M.contentWidth,this._contentLeft=M.contentLeft,this._lineHeight=b.get(58),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const n=this._context.configuration.options;if(this._lineHeight=n.get(58),e.hasChanged(129)){const a=n.get(129);this._contentLeft=a.contentLeft,this._contentWidth=a.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){const n=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(n.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(n.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(n))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(e,n){this._setPosition(e),this._preference=n,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(e,n,a,b,M){const j=e.top,ee=j,ue=n.top+this._lineHeight,ye=M.viewportHeight-ue,Te=j-b,Ae=ee>=b,ot=ue,qe=ye>=b;let Et=e.left,Ht=n.left;return Et+a>M.scrollLeft+M.viewportWidth&&(Et=M.scrollLeft+M.viewportWidth-a),Ht+a>M.scrollLeft+M.viewportWidth&&(Ht=M.scrollLeft+M.viewportWidth-a),Et<M.scrollLeft&&(Et=M.scrollLeft),Ht<M.scrollLeft&&(Ht=M.scrollLeft),{fitsAbove:Ae,aboveTop:Te,aboveLeft:Et,fitsBelow:qe,belowTop:ot,belowLeft:Ht}}_layoutHorizontalSegmentInPage(e,n,a,b){const M=Math.max(0,n.left-b),j=Math.min(n.left+n.width+b,e.width);let ee=n.left+a-k.DI.scrollX;if(ee+b>j){const ue=ee-(j-b);ee-=ue,a-=ue}if(ee<M){const ue=ee-M;ee-=ue,a-=ue}return[a,ee]}_layoutBoxInPage(e,n,a,b,M){const j=e.top-b,ee=n.top+this._lineHeight,ue=k.i(this._viewDomNode.domNode),ye=ue.top+j-k.DI.scrollY,Te=ue.top+ee-k.DI.scrollY,Ae=k.D6(document.body),[ot,qe]=this._layoutHorizontalSegmentInPage(Ae,ue,e.left-M.scrollLeft+this._contentLeft,a),[Et,Ht]=this._layoutHorizontalSegmentInPage(Ae,ue,n.left-M.scrollLeft+this._contentLeft,a),ri=22,_i=22,Ii=ye>=ri,bi=Te+b<=Ae.height-_i;return this._fixedOverflowWidgets?{fitsAbove:Ii,aboveTop:Math.max(ye,ri),aboveLeft:qe,fitsBelow:bi,belowTop:Te,belowLeft:Ht}:{fitsAbove:Ii,aboveTop:j,aboveLeft:ot,fitsBelow:bi,belowTop:ee,belowLeft:Et}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new Ls(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const n=e.linesVisibleRangesForRange(this._viewRange,!1);if(!n||n.length===0)return[null,null];let a=n[0],b=n[0];for(const Ae of n)Ae.lineNumber<a.lineNumber&&(a=Ae),Ae.lineNumber>b.lineNumber&&(b=Ae);let M=1073741824;for(const Ae of a.ranges)Ae.left<M&&(M=Ae.left);let j=1073741824;for(const Ae of b.ranges)Ae.left<j&&(j=Ae.left);const ee=e.getVerticalOffsetForLineNumber(a.lineNumber)-e.scrollTop,ue=new Ls(ee,M),ye=e.getVerticalOffsetForLineNumber(b.lineNumber)-e.scrollTop,Te=new Ls(ye,j);return[ue,Te]}_prepareRenderWidget(e){const[n,a]=this._getTopAndBottomLeft(e);if(!n||!a)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let M=null;if(typeof this._actual.beforeRender=="function"&&(M=So(this._actual.beforeRender,this._actual)),M)this._cachedDomNodeClientWidth=M.width,this._cachedDomNodeClientHeight=M.height;else{const j=this.domNode.domNode;this._cachedDomNodeClientWidth=j.clientWidth,this._cachedDomNodeClientHeight=j.clientHeight}}let b;if(this.allowEditorOverflow?b=this._layoutBoxInPage(n,a,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):b=this._layoutBoxInViewport(n,a,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(let M=1;M<=2;M++)for(const j of this._preference)if(j===1){if(!b)return null;if(M===2||b.fitsAbove)return{coordinate:new Ls(b.aboveTop,b.aboveLeft),position:1}}else if(j===2){if(!b)return null;if(M===2||b.fitsBelow)return{coordinate:new Ls(b.belowTop,b.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(n),position:0}:{coordinate:n,position:0};return null}onBeforeRender(e){!this._viewRange||!this._preference||this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&So(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&So(this._actual.afterRender,this._actual,this._renderData.position)}}function So(pt,e,...n){try{return pt.call(e,...n)}catch(a){return null}}var Hs=c(9488);let zs=!0;class uo extends Hi{constructor(e){super(),this._context=e;const n=this._context.configuration.options,a=n.get(129);this._lineHeight=n.get(58),this._renderLineHighlight=n.get(84),this._renderLineHighlightOnlyWhenFocus=n.get(85),this._contentLeft=a.contentLeft,this._contentWidth=a.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new x.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const n=zs?this._selections.slice(0,1):this._selections,a=n.map(M=>M.positionLineNumber);a.sort((M,j)=>M-j),Hs.fS(this._cursorLineNumbers,a)||(this._cursorLineNumbers=a,e=!0);const b=n.every(M=>M.isEmpty());return this._selectionIsEmpty!==b&&(this._selectionIsEmpty=b,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const n=this._context.configuration.options,a=n.get(129);return this._lineHeight=n.get(58),this._renderLineHighlight=n.get(84),this._renderLineHighlightOnlyWhenFocus=n.get(85),this._contentLeft=a.contentLeft,this._contentWidth=a.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const n=this._renderOne(e),a=e.visibleRange.startLineNumber,b=e.visibleRange.endLineNumber,M=this._cursorLineNumbers.length;let j=0;const ee=[];for(let ue=a;ue<=b;ue++){const ye=ue-a;for(;j<M&&this._cursorLineNumbers[j]<ue;)j++;j<M&&this._cursorLineNumbers[j]===ue?ee[ye]=n:ee[ye]=""}this._renderData=ee}render(e,n){if(!this._renderData)return"";const a=n-e;return a>=this._renderData.length?"":this._renderData[a]}}class xo extends uo{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class to extends uo{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}(0,vt.Ic)((pt,e)=>{zs=!1;const n=pt.getColor(hn.Kh);if(n&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${n}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${n}; border: none; }`)),!n||n.isTransparent()||pt.defines(hn.Mm)){const a=pt.getColor(hn.Mm);a&&(zs=!0,e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${a}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${a}; }`),pt.type==="hc"&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});class so extends Hi{constructor(e){super(),this._context=e;const n=this._context.configuration.options;this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options;return this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const n=e.getDecorationsInViewport();let a=[],b=0;for(let ue=0,ye=n.length;ue<ye;ue++){const Te=n[ue];Te.options.className&&(a[b++]=Te)}a=a.sort((ue,ye)=>{if(ue.options.zIndex<ye.options.zIndex)return-1;if(ue.options.zIndex>ye.options.zIndex)return 1;const Te=ue.options.className,Ae=ye.options.className;return Te<Ae?-1:Te>Ae?1:Oe.e.compareRangesUsingStarts(ue.range,ye.range)});const M=e.visibleRange.startLineNumber,j=e.visibleRange.endLineNumber,ee=[];for(let ue=M;ue<=j;ue++){const ye=ue-M;ee[ye]=""}this._renderWholeLineDecorations(e,a,ee),this._renderNormalDecorations(e,a,ee),this._renderResult=ee}_renderWholeLineDecorations(e,n,a){const b=String(this._lineHeight),M=e.visibleRange.startLineNumber,j=e.visibleRange.endLineNumber;for(let ee=0,ue=n.length;ee<ue;ee++){const ye=n[ee];if(!ye.options.isWholeLine)continue;const Te='<div class="cdr '+ye.options.className+'" style="left:0;width:100%;height:'+b+'px;"></div>',Ae=Math.max(ye.range.startLineNumber,M),ot=Math.min(ye.range.endLineNumber,j);for(let qe=Ae;qe<=ot;qe++){const Et=qe-M;a[Et]+=Te}}}_renderNormalDecorations(e,n,a){const b=String(this._lineHeight),M=e.visibleRange.startLineNumber;let j=null,ee=!1,ue=null;for(let ye=0,Te=n.length;ye<Te;ye++){const Ae=n[ye];if(Ae.options.isWholeLine)continue;const ot=Ae.options.className,qe=!!Ae.options.showIfCollapsed;let Et=Ae.range;if(qe&&Et.endColumn===1&&Et.endLineNumber!==Et.startLineNumber&&(Et=new Oe.e(Et.startLineNumber,Et.startColumn,Et.endLineNumber-1,this._context.model.getLineMaxColumn(Et.endLineNumber-1))),j===ot&&ee===qe&&Oe.e.areIntersectingOrTouching(ue,Et)){ue=Oe.e.plusRange(ue,Et);continue}j!==null&&this._renderNormalDecoration(e,ue,j,ee,b,M,a),j=ot,ee=qe,ue=Et}j!==null&&this._renderNormalDecoration(e,ue,j,ee,b,M,a)}_renderNormalDecoration(e,n,a,b,M,j,ee){const ue=e.linesVisibleRangesForRange(n,a==="findMatch");if(ue)for(let ye=0,Te=ue.length;ye<Te;ye++){const Ae=ue[ye];if(Ae.outsideRenderedLine)continue;const ot=Ae.lineNumber-j;if(b&&Ae.ranges.length===1){const qe=Ae.ranges[0];qe.width===0&&(Ae.ranges[0]=new p(qe.left,this._typicalHalfwidthCharacterWidth))}for(let qe=0,Et=Ae.ranges.length;qe<Et;qe++){const Ht=Ae.ranges[qe],ri='<div class="cdr '+a+'" style="left:'+String(Ht.left)+"px;width:"+String(Ht.width)+"px;height:"+M+'px;"></div>';ee[ot]+=ri}}}render(e,n){if(!this._renderResult)return"";const a=n-e;return a<0||a>=this._renderResult.length?"":this._renderResult[a]}}var Oo=c(13433),us=c(73910);class Eo extends le{constructor(e,n,a,b){super(e);const M=this._context.configuration.options,j=M.get(91),ee=M.get(66),ue=M.get(34),ye=M.get(94),Te={listenOnDomNode:a.domNode,className:"editor-scrollable "+(0,vt.m6)(e.theme.type),useShadows:!1,lazyRender:!0,vertical:j.vertical,horizontal:j.horizontal,verticalHasArrows:j.verticalHasArrows,horizontalHasArrows:j.horizontalHasArrows,verticalScrollbarSize:j.verticalScrollbarSize,verticalSliderSize:j.verticalSliderSize,horizontalScrollbarSize:j.horizontalScrollbarSize,horizontalSliderSize:j.horizontalSliderSize,handleMouseWheel:j.handleMouseWheel,alwaysConsumeMouseWheel:j.alwaysConsumeMouseWheel,arrowSize:j.arrowSize,mouseWheelScrollSensitivity:ee,fastScrollSensitivity:ue,scrollPredominantAxis:ye,scrollByPage:j.scrollByPage};this.scrollbar=this._register(new Oo.$Z(n.domNode,Te,this._context.viewLayout.getScrollable())),Z.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,w.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const Ae=(ot,qe,Et)=>{const Ht={};if(qe){const ri=ot.scrollTop;ri&&(Ht.scrollTop=this._context.viewLayout.getCurrentScrollTop()+ri,ot.scrollTop=0)}if(Et){const ri=ot.scrollLeft;ri&&(Ht.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+ri,ot.scrollLeft=0)}this._context.model.setScrollPosition(Ht,1)};this._register(k.nm(a.domNode,"scroll",ot=>Ae(a.domNode,!0,!0))),this._register(k.nm(n.domNode,"scroll",ot=>Ae(n.domNode,!0,!1))),this._register(k.nm(b.domNode,"scroll",ot=>Ae(b.domNode,!0,!1))),this._register(k.nm(this.scrollbarDomNode.domNode,"scroll",ot=>Ae(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,n=e.get(129);this.scrollbarDomNode.setLeft(n.contentLeft),e.get(64).side==="right"?this.scrollbarDomNode.setWidth(n.contentWidth+n.minimap.minimapWidth):this.scrollbarDomNode.setWidth(n.contentWidth),this.scrollbarDomNode.setHeight(n.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(91)||e.hasChanged(66)||e.hasChanged(34)){const n=this._context.configuration.options,a=n.get(91),b=n.get(66),M=n.get(34),j=n.get(94),ee={vertical:a.vertical,horizontal:a.horizontal,verticalScrollbarSize:a.verticalScrollbarSize,horizontalScrollbarSize:a.horizontalScrollbarSize,scrollByPage:a.scrollByPage,handleMouseWheel:a.handleMouseWheel,mouseWheelScrollSensitivity:b,fastScrollSensitivity:M,scrollPredominantAxis:j};this.scrollbar.updateOptions(ee)}return e.hasChanged(129)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+(0,vt.m6)(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}(0,vt.Ic)((pt,e)=>{const n=pt.getColor(us._w);n&&e.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${n} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${n} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${n} 6px 6px 6px -6px inset;
			}
		`);const a=pt.getColor(us.et);a&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${a};
			}
		`);const b=pt.getColor(us.AB);b&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${b};
			}
		`);const M=pt.getColor(us.yn);M&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${M};
			}
		`)});class hs{constructor(e,n,a){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+n,this.className=String(a)}}class os extends Hi{_render(e,n,a){const b=[];for(let ee=e;ee<=n;ee++){const ue=ee-e;b[ue]=[]}if(a.length===0)return b;a.sort((ee,ue)=>ee.className===ue.className?ee.startLineNumber===ue.startLineNumber?ee.endLineNumber-ue.endLineNumber:ee.startLineNumber-ue.startLineNumber:ee.className<ue.className?-1:1);let M=null,j=0;for(let ee=0,ue=a.length;ee<ue;ee++){const ye=a[ee],Te=ye.className;let Ae=Math.max(ye.startLineNumber,e)-e;const ot=Math.min(ye.endLineNumber,n)-e;M===Te?(Ae=Math.max(j+1,Ae),j=Math.max(j,ot)):(M=Te,j=ot);for(let qe=Ae;qe<=j;qe++)b[qe].push(M)}return b}}class vo extends os{constructor(e){super(),this._context=e;const n=this._context.configuration.options,a=n.get(129);this._lineHeight=n.get(58),this._glyphMargin=n.get(49),this._glyphMarginLeft=a.glyphMarginLeft,this._glyphMarginWidth=a.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options,a=n.get(129);return this._lineHeight=n.get(58),this._glyphMargin=n.get(49),this._glyphMarginLeft=a.glyphMarginLeft,this._glyphMarginWidth=a.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const n=e.getDecorationsInViewport();let a=[],b=0;for(let M=0,j=n.length;M<j;M++){const ee=n[M],ue=ee.options.glyphMarginClassName;ue&&(a[b++]=new hs(ee.range.startLineNumber,ee.range.endLineNumber,ue))}return a}prepareRender(e){if(!this._glyphMargin){this._renderResult=null;return}const n=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber,b=this._render(n,a,this._getDecorations(e)),M=this._lineHeight.toString(),j=this._glyphMarginLeft.toString(),ee=this._glyphMarginWidth.toString(),ue='" style="left:'+j+"px;width:"+ee+"px;height:"+M+'px;"></div>',ye=[];for(let Te=n;Te<=a;Te++){const Ae=Te-n,ot=b[Ae];ot.length===0?ye[Ae]="":ye[Ae]='<div class="cgmr codicon '+ot.join(" ")+ue}this._renderResult=ye}render(e,n){if(!this._renderResult)return"";const a=n-e;return a<0||a>=this._renderResult.length?"":this._renderResult[a]}}var rs=c(84973),co=c(24979),Ws=c(98401);class ho extends Hi{constructor(e){super(),this._context=e,this._primaryPosition=null;const n=this._context.configuration.options,a=n.get(130),b=n.get(43);this._lineHeight=n.get(58),this._spaceWidth=b.spaceWidth,this._maxIndentLeft=a.wrappingColumn===-1?-1:a.wrappingColumn*b.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=n.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options,a=n.get(130),b=n.get(43);return this._lineHeight=n.get(58),this._spaceWidth=b.spaceWidth,this._maxIndentLeft=a.wrappingColumn===-1?-1:a.wrappingColumn*b.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=n.get(13),!0}onCursorStateChanged(e){var n;const b=e.selections[0].getPosition();return!((n=this._primaryPosition)===null||n===void 0)&&n.equals(b)?!1:(this._primaryPosition=b,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var n,a,b,M;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const j=e.visibleRange.startLineNumber,ee=e.visibleRange.endLineNumber,ue=e.scrollWidth,ye=this._lineHeight,Te=this._primaryPosition,Ae=this.getGuidesByLine(j,ee,Te),ot=[];for(let qe=j;qe<=ee;qe++){const Et=qe-j,Ht=Ae[Et];let ri="";const _i=(a=(n=e.visibleRangeForPosition(new Ne.L(qe,1)))===null||n===void 0?void 0:n.left)!==null&&a!==void 0?a:0;for(const Ii of Ht){const bi=_i+(Ii.visibleColumn-1)*this._spaceWidth;if(bi>ue||this._maxIndentLeft>0&&bi>this._maxIndentLeft)break;const fn=Ii.horizontalLine?Ii.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",an=Ii.horizontalLine?((M=(b=e.visibleRangeForPosition(new Ne.L(qe,Ii.horizontalLine.endColumn)))===null||b===void 0?void 0:b.left)!==null&&M!==void 0?M:bi+this._spaceWidth)-bi:this._spaceWidth;ri+=`<div class="core-guide ${Ii.className} ${fn}" style="left:${bi}px;height:${ye}px;width:${an}px"></div>`}ot[Et]=ri}this._renderResult=ot}getGuidesByLine(e,n,a){const b=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.model.getBracketGuidesInRangeByLine(e,n,a,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?rs.s6.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?rs.s6.EnabledForActive:rs.s6.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,M=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(e,n):null;let j=0,ee=0,ue=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&a){const Ae=this._context.model.getActiveIndentGuide(a.lineNumber,e,n);j=Ae.startLineNumber,ee=Ae.endLineNumber,ue=Ae.indent}const{indentSize:ye}=this._context.model.getTextModelOptions(),Te=[];for(let Ae=e;Ae<=n;Ae++){const ot=new Array;Te.push(ot);const qe=b?b[Ae-e]:[],Et=new Hs.H9(qe),Ht=M?M[Ae-e]:[];for(let ri=1;ri<=Ht;ri++){const _i=(ri-1)*ye+1,Ii=qe.length===0&&j<=Ae&&Ae<=ee&&ri===ue;ot.push(...Et.takeWhile(fn=>fn.visibleColumn<_i)||[]);const bi=Et.peek();(!bi||bi.visibleColumn!==_i||bi.horizontalLine)&&ot.push(new rs.UO(_i,Ii?"core-guide-indent-active":"core-guide-indent",null))}ot.push(...Et.takeWhile(ri=>!0)||[])}return Te}render(e,n){if(!this._renderResult)return"";const a=n-e;return a<0||a>=this._renderResult.length?"":this._renderResult[a]}}function hi(pt){if(!(pt&&pt.isTransparent()))return pt}(0,vt.Ic)((pt,e)=>{const n=pt.getColor(hn.tR);n&&e.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${n} inset; }`);const a=pt.getColor(hn.Ym)||n;a&&e.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${a} inset; }`);const b=[{bracketColor:hn.zJ,guideColor:hn.oV,guideColorActive:hn.Qb},{bracketColor:hn.Vs,guideColor:hn.m$,guideColorActive:hn.m3},{bracketColor:hn.CE,guideColor:hn.DS,guideColorActive:hn.To},{bracketColor:hn.UP,guideColor:hn.lS,guideColorActive:hn.L7},{bracketColor:hn.r0,guideColor:hn.Jn,guideColorActive:hn.HV},{bracketColor:hn.m1,guideColor:hn.YF,guideColorActive:hn.f9}],M=new co.WE;let j=b.map(ee=>{var ue,ye;const Te=pt.getColor(ee.bracketColor),Ae=pt.getColor(ee.guideColor),ot=pt.getColor(ee.guideColorActive),qe=hi((ue=hi(Ae))!==null&&ue!==void 0?ue:Te==null?void 0:Te.transparent(.3)),Et=hi((ye=hi(ot))!==null&&ye!==void 0?ye:Te);if(!(!qe||!Et))return{guideColor:qe,guideColorActive:Et}}).filter(Ws.$K);if(j.length>0){for(let ee=0;ee<30;ee++){const ue=j[ee%j.length];e.addRule(`.monaco-editor .${M.getInlineClassNameOfLevel(ee).replace(/ /g,".")} { --guide-color: ${ue.guideColor}; --guide-color-active: ${ue.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${M.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${M.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${M.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});class ge{constructor(){this._currentVisibleRange=new Oe.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class ut{constructor(e,n,a,b,M,j){this.lineNumber=e,this.startColumn=n,this.endColumn=a,this.startScrollTop=b,this.stopScrollTop=M,this.scrollType=j,this.type="range",this.minLineNumber=e,this.maxLineNumber=e}}class gt{constructor(e,n,a,b){this.selections=e,this.startScrollTop=n,this.stopScrollTop=a,this.scrollType=b,this.type="selections";let M=e[0].startLineNumber,j=e[0].endLineNumber;for(let ee=1,ue=e.length;ee<ue;ee++){const ye=e[ee];M=Math.min(M,ye.startLineNumber),j=Math.max(j,ye.endLineNumber)}this.minLineNumber=M,this.maxLineNumber=j}}class Bt extends le{constructor(e,n){super(e),this._linesContent=n,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new Yn(this),this.domNode=this._visibleLines.domNode;const a=this._context.configuration,b=this._context.configuration.options,M=b.get(43),j=b.get(130);this._lineHeight=b.get(58),this._typicalHalfwidthCharacterWidth=M.typicalHalfwidthCharacterWidth,this._isViewportWrapping=j.isViewportWrapping,this._revealHorizontalRightPadding=b.get(88),this._cursorSurroundingLines=b.get(25),this._cursorSurroundingLinesStyle=b.get(26),this._canUseLayerHinting=!b.get(28),this._viewLineOptions=new it(a,this._context.theme.type),Z.write(this.domNode,7),this.domNode.setClassName(`view-lines ${Qe.S}`),C.V.applyFontInfo(this.domNode,M),this._maxLineWidth=0,this._asyncUpdateLineWidths=new L.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new L.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new ge,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new kt(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(130)&&(this._maxLineWidth=0);const n=this._context.configuration.options,a=n.get(43),b=n.get(130);return this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this._isViewportWrapping=b.isViewportWrapping,this._revealHorizontalRightPadding=n.get(88),this._cursorSurroundingLines=n.get(25),this._cursorSurroundingLinesStyle=n.get(26),this._canUseLayerHinting=!n.get(28),C.V.applyFontInfo(this.domNode,a),this._onOptionsMaybeChanged(),e.hasChanged(129)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,n=new it(e,this._context.theme.type);if(!this._viewLineOptions.equals(n)){this._viewLineOptions=n;const a=this._visibleLines.getStartLineNumber(),b=this._visibleLines.getEndLineNumber();for(let M=a;M<=b;M++)this._visibleLines.getVisibleLine(M).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const n=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();let b=!1;for(let M=n;M<=a;M++)b=this._visibleLines.getVisibleLine(M).onSelectionChanged()||b;return b}onDecorationsChanged(e){{const n=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let b=n;b<=a;b++)this._visibleLines.getVisibleLine(b).onDecorationsChanged()}return!0}onFlushed(e){const n=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,n}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const n=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.selections,e.verticalType);if(n===-1)return!1;let a=this._context.viewLayout.validateScrollPosition({scrollTop:n});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?a={scrollTop:a.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new ut(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),a.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new gt(e.selections,this._context.viewLayout.getCurrentScrollTop(),a.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const M=Math.abs(this._context.viewLayout.getCurrentScrollTop()-a.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.model.setScrollPosition(a,M),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const n=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),a=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<n||e.scrollTop>a)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,n){const a=this._getViewLineDomNode(e);if(a===null)return null;const b=this._getLineNumberFor(a);if(b===-1||b<1||b>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(b)===1)return new Ne.L(b,1);const M=this._visibleLines.getStartLineNumber(),j=this._visibleLines.getEndLineNumber();if(b<M||b>j)return null;let ee=this._visibleLines.getVisibleLine(b).getColumnOfNodeOffset(b,e,n);const ue=this._context.model.getLineMinColumn(b);return ee<ue&&(ee=ue),new Ne.L(b,ee)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===kt.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const n=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let b=n;b<=a;b++){const M=this._visibleLines.getVisibleLine(b);if(e===M.getDomNode())return b}return-1}getLineWidth(e){const n=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();return e<n||e>a?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,n){if(this.shouldRender())return null;const a=e.endLineNumber,b=Oe.e.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!b)return null;let M=[],j=0;const ee=new Mt(this.domNode.domNode,this._textRangeRestingSpot);let ue=0;n&&(ue=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ne.L(b.startLineNumber,1)).lineNumber);const ye=this._visibleLines.getStartLineNumber(),Te=this._visibleLines.getEndLineNumber();for(let Ae=b.startLineNumber;Ae<=b.endLineNumber;Ae++){if(Ae<ye||Ae>Te)continue;const ot=Ae===b.startLineNumber?b.startColumn:1,qe=Ae===b.endLineNumber?b.endColumn:this._context.model.getLineMaxColumn(Ae),Et=this._visibleLines.getVisibleLine(Ae).getVisibleRangesForRange(Ae,ot,qe,ee);if(Et){if(n&&Ae<a){const Ht=ue;ue=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ne.L(Ae+1,1)).lineNumber,Ht!==ue&&(Et.ranges[Et.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}M[j++]=new q(Et.outsideRenderedLine,Ae,p.from(Et.ranges))}}return j===0?null:M}_visibleRangesForLineRange(e,n,a){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,n,a,new Mt(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const n=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return n?new B(n.outsideRenderedLine,n.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const n=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();let b=1,M=!0;for(let j=n;j<=a;j++){const ee=this._visibleLines.getVisibleLine(j);if(e&&!ee.getWidthIsFast()){M=!1;continue}b=Math.max(b,ee.getWidth())}return M&&n===1&&a===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(b),M}_checkMonospaceFontAssumptions(){let e=-1,n=-1;const a=this._visibleLines.getStartLineNumber(),b=this._visibleLines.getEndLineNumber();for(let M=a;M<=b;M++){const j=this._visibleLines.getVisibleLine(M);if(j.needsMonospaceFontCheck()){const ee=j.getWidth();ee>n&&(n=ee,e=M)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let M=a;M<=b;M++)this._visibleLines.getVisibleLine(M).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const a=this._horizontalRevealRequest;if(e.startLineNumber<=a.minLineNumber&&a.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const b=this._computeScrollLeftToReveal(a);b&&(this._isViewportWrapping||this._ensureMaxLineWidth(b.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:b.scrollLeft},a.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),D.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const a=this._visibleLines.getStartLineNumber(),b=this._visibleLines.getEndLineNumber();for(let M=a;M<=b;M++)if(this._visibleLines.getVisibleLine(M).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const n=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-n),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const n=Math.ceil(e);this._maxLineWidth<n&&(this._maxLineWidth=n,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,n,a,b,M){const j=e.top,ee=e.height,ue=j+ee;let ye,Te,Ae;if(b&&b.length>0){let Et=b[0].startLineNumber,Ht=b[0].endLineNumber;for(let ri=1,_i=b.length;ri<_i;ri++){const Ii=b[ri];Et=Math.min(Et,Ii.startLineNumber),Ht=Math.max(Ht,Ii.endLineNumber)}ye=!1,Te=this._context.viewLayout.getVerticalOffsetForLineNumber(Et),Ae=this._context.viewLayout.getVerticalOffsetForLineNumber(Ht)+this._lineHeight}else if(a)ye=!0,Te=this._context.viewLayout.getVerticalOffsetForLineNumber(a.startLineNumber),Ae=this._context.viewLayout.getVerticalOffsetForLineNumber(a.endLineNumber)+this._lineHeight;else return-1;if(!(n==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const Et=Math.min(ee/this._lineHeight/2,this._cursorSurroundingLines);Te-=Et*this._lineHeight,Ae+=Math.max(0,Et-1)*this._lineHeight}(M===0||M===4)&&(Ae+=this._lineHeight);let qe;if(Ae-Te>ee){if(!ye)return-1;qe=Te}else if(M===5||M===6)if(M===6&&j<=Te&&Ae<=ue)qe=j;else{const Et=Math.max(5*this._lineHeight,ee*.2),Ht=Te-Et,ri=Ae-ee;qe=Math.max(ri,Ht)}else if(M===1||M===2)if(M===2&&j<=Te&&Ae<=ue)qe=j;else{const Et=(Te+Ae)/2;qe=Math.max(0,Et-ee/2)}else qe=this._computeMinimumScrolling(j,ue,Te,Ae,M===3,M===4);return qe}_computeScrollLeftToReveal(e){const n=this._context.viewLayout.getCurrentViewport(),a=n.left,b=a+n.width;let M=1073741824,j=0;if(e.type==="range"){const ue=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!ue)return null;for(const ye of ue.ranges)M=Math.min(M,Math.round(ye.left)),j=Math.max(j,Math.round(ye.left+ye.width))}else for(const ue of e.selections){if(ue.startLineNumber!==ue.endLineNumber)return null;const ye=this._visibleRangesForLineRange(ue.startLineNumber,ue.startColumn,ue.endColumn);if(!ye)return null;for(const Te of ye.ranges)M=Math.min(M,Math.round(Te.left)),j=Math.max(j,Math.round(Te.left+Te.width))}return M=Math.max(0,M-Bt.HORIZONTAL_EXTRA_PX),j+=this._revealHorizontalRightPadding,e.type==="selections"&&j-M>n.width?null:{scrollLeft:this._computeMinimumScrolling(a,b,M,j),maxHorizontalOffset:j}}_computeMinimumScrolling(e,n,a,b,M,j){e=e|0,n=n|0,a=a|0,b=b|0,M=!!M,j=!!j;const ee=n-e;if(b-a<ee){if(M)return a;if(j)return Math.max(0,b-ee);if(a<e)return a;if(b>n)return Math.max(0,b-ee)}else return a;return e}}Bt.HORIZONTAL_EXTRA_PX=30;class qt extends os{constructor(e){super(),this._context=e;const a=this._context.configuration.options.get(129);this._decorationsLeft=a.decorationsLeft,this._decorationsWidth=a.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const a=this._context.configuration.options.get(129);return this._decorationsLeft=a.decorationsLeft,this._decorationsWidth=a.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const n=e.getDecorationsInViewport();let a=[],b=0;for(let M=0,j=n.length;M<j;M++){const ee=n[M],ue=ee.options.linesDecorationsClassName;ue&&(a[b++]=new hs(ee.range.startLineNumber,ee.range.endLineNumber,ue));const ye=ee.options.firstLineDecorationClassName;ye&&(a[b++]=new hs(ee.range.startLineNumber,ee.range.startLineNumber,ye))}return a}prepareRender(e){const n=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber,b=this._render(n,a,this._getDecorations(e)),M=this._decorationsLeft.toString(),j=this._decorationsWidth.toString(),ee='" style="left:'+M+"px;width:"+j+'px;"></div>',ue=[];for(let ye=n;ye<=a;ye++){const Te=ye-n,Ae=b[Te];let ot="";for(let qe=0,Et=Ae.length;qe<Et;qe++)ot+='<div class="cldr '+Ae[qe]+ee;ue[Te]=ot}this._renderResult=ue}render(e,n){return this._renderResult?this._renderResult[n-e]:""}}class vi extends os{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const n=e.getDecorationsInViewport();let a=[],b=0;for(let M=0,j=n.length;M<j;M++){const ee=n[M],ue=ee.options.marginClassName;ue&&(a[b++]=new hs(ee.range.startLineNumber,ee.range.endLineNumber,ue))}return a}prepareRender(e){const n=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber,b=this._render(n,a,this._getDecorations(e)),M=[];for(let j=n;j<=a;j++){const ee=j-n,ue=b[ee];let ye="";for(let Te=0,Ae=ue.length;Te<Ae;Te++)ye+='<div class="cmdr '+ue[Te]+'" style=""></div>';M[ee]=ye}this._renderResult=M}render(e,n){return this._renderResult?this._renderResult[n-e]:""}}class Li{constructor(e,n,a,b){this._rgba8Brand=void 0,this.r=Li._clamp(e),this.g=Li._clamp(n),this.b=Li._clamp(a),this.a=Li._clamp(b)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}}Li.Empty=new Li(0,0,0,0);var mi=c(10351);class un extends I.JT{constructor(){super(),this._onDidChange=new s.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(mi.RW.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,I.dk)(new un)),this._INSTANCE}_updateColorMap(){const e=mi.RW.getColorMap();if(!e){this._colors=[Li.Empty],this._backgroundIsLight=!0;return}this._colors=[Li.Empty];for(let a=1;a<e.length;a++){const b=e[a].rgba;this._colors[a]=new Li(b.r,b.g,b.b,Math.round(b.a*255))}let n=e[2].getRelativeLuminance();this._backgroundIsLight=n>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}un._INSTANCE=null;var Bi=c(13824);const ts=(()=>{const pt=[];for(let e=32;e<=126;e++)pt.push(e);return pt.push(65533),pt})(),Rt=(pt,e)=>(pt-=32,pt<0||pt>96?e<=2?(pt+96)%96:95:pt);var F=c(85427);class re{constructor(e,n){this.scale=n,this._minimapCharRendererBrand=void 0,this.charDataNormal=re.soften(e,12/15),this.charDataLight=re.soften(e,50/60)}static soften(e,n){let a=new Uint8ClampedArray(e.length);for(let b=0,M=e.length;b<M;b++)a[b]=(0,F.K)(e[b]*n);return a}renderChar(e,n,a,b,M,j,ee,ue,ye,Te,Ae){const ot=1*this.scale,qe=2*this.scale,Et=Ae?1:qe;if(n+ot>e.width||a+Et>e.height){console.warn("bad render request outside image data");return}const Ht=Te?this.charDataLight:this.charDataNormal,ri=Rt(b,ye),_i=e.width*4,Ii=ee.r,bi=ee.g,fn=ee.b,an=M.r-Ii,zn=M.g-bi,kn=M.b-fn,sn=Math.max(j,ue),_n=e.data;let In=ri*ot*qe,Jn=a*_i+n*4;for(let po=0;po<Et;po++){let ao=Jn;for(let lo=0;lo<ot;lo++){const Bs=Ht[In++]/255*(j/255);_n[ao++]=Ii+an*Bs,_n[ao++]=bi+zn*Bs,_n[ao++]=fn+kn*Bs,_n[ao++]=sn}Jn+=_i}}blockRenderChar(e,n,a,b,M,j,ee,ue){const ye=1*this.scale,Te=2*this.scale,Ae=ue?1:Te;if(n+ye>e.width||a+Ae>e.height){console.warn("bad render request outside image data");return}const ot=e.width*4,qe=.5*(M/255),Et=j.r,Ht=j.g,ri=j.b,_i=b.r-Et,Ii=b.g-Ht,bi=b.b-ri,fn=Et+_i*qe,an=Ht+Ii*qe,zn=ri+bi*qe,kn=Math.max(M,ee),sn=e.data;let _n=a*ot+n*4;for(let In=0;In<Ae;In++){let Jn=_n;for(let po=0;po<ye;po++)sn[Jn++]=fn,sn[Jn++]=an,sn[Jn++]=zn,sn[Jn++]=kn;_n+=ot}}}var Se=c(88289);const Fe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},lt=pt=>{const e=new Uint8ClampedArray(pt.length/2);for(let n=0;n<pt.length;n+=2)e[n>>1]=Fe[pt[n]]<<4|Fe[pt[n+1]]&15;return e},Ot={1:(0,Se.I)(()=>lt("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,Se.I)(()=>lt("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class Zt{static create(e,n){if(this.lastCreated&&e===this.lastCreated.scale&&n===this.lastFontFamily)return this.lastCreated;let a;return Ot[e]?a=new re(Ot[e](),e):a=Zt.createFromSampleData(Zt.createSampleData(n).data,e),this.lastFontFamily=n,this.lastCreated=a,a}static createSampleData(e){const n=document.createElement("canvas"),a=n.getContext("2d");n.style.height="16px",n.height=16,n.width=96*10,n.style.width=96*10+"px",a.fillStyle="#ffffff",a.font=`bold 16px ${e}`,a.textBaseline="middle";let b=0;for(const M of ts)a.fillText(String.fromCharCode(M),b,16/2),b+=10;return a.getImageData(0,0,96*10,16)}static createFromSampleData(e,n){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");let b=Zt._downsample(e,n);return new re(b,n)}static _downsampleChar(e,n,a,b,M){const j=1*M,ee=2*M;let ue=b,ye=0;for(let Te=0;Te<ee;Te++){const Ae=Te/ee*16,ot=(Te+1)/ee*16;for(let qe=0;qe<j;qe++){const Et=qe/j*10,Ht=(qe+1)/j*10;let ri=0,_i=0;for(let bi=Ae;bi<ot;bi++){const fn=n+Math.floor(bi)*3840,an=1-(bi-Math.floor(bi));for(let zn=Et;zn<Ht;zn++){const kn=1-(zn-Math.floor(zn)),sn=fn+Math.floor(zn)*4,_n=kn*an;_i+=_n,ri+=e[sn]*e[sn+3]/255*_n}}const Ii=ri/_i;ye=Math.max(ye,Ii),a[ue++]=(0,F.K)(Ii)}}return ye}static _downsample(e,n){const a=2*n*1*n,b=a*96,M=new Uint8ClampedArray(b);let j=0,ee=0,ue=0;for(let ye=0;ye<96;ye++)ue=Math.max(ue,this._downsampleChar(e,ee,M,j,n)),j+=a,ee+=10*4;if(ue>0){const ye=255/ue;for(let Te=0;Te<b;Te++)M[Te]*=ye}return M}}const di=140,Ei=2;class li{constructor(e,n,a){const b=e.options,M=b.get(127),j=b.get(129),ee=j.minimap,ue=b.get(43),ye=b.get(64);this.renderMinimap=ee.renderMinimap,this.size=ye.size,this.minimapHeightIsEditorHeight=ee.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=b.get(93),this.showSlider=ye.showSlider,this.pixelRatio=M,this.typicalHalfwidthCharacterWidth=ue.typicalHalfwidthCharacterWidth,this.lineHeight=b.get(58),this.minimapLeft=ee.minimapLeft,this.minimapWidth=ee.minimapWidth,this.minimapHeight=j.height,this.canvasInnerWidth=ee.minimapCanvasInnerWidth,this.canvasInnerHeight=ee.minimapCanvasInnerHeight,this.canvasOuterWidth=ee.minimapCanvasOuterWidth,this.canvasOuterHeight=ee.minimapCanvasOuterHeight,this.isSampling=ee.minimapIsSampling,this.editorHeight=j.height,this.fontScale=ee.minimapScale,this.minimapLineHeight=ee.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,Se.I)(()=>Zt.create(this.fontScale,ue.fontFamily)),this.defaultBackgroundColor=a.getColor(2),this.backgroundColor=li._getMinimapBackground(n,this.defaultBackgroundColor),this.foregroundAlpha=li._getMinimapForegroundOpacity(n)}static _getMinimapBackground(e,n){const a=e.getColor(us.kV);return a?new Li(a.rgba.r,a.rgba.g,a.rgba.b,Math.round(255*a.rgba.a)):n}static _getMinimapForegroundOpacity(e){const n=e.getColor(us.It);return n?Li._clamp(Math.round(255*n.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class Oi{constructor(e,n,a,b,M,j,ee,ue){this.scrollTop=e,this.scrollHeight=n,this.sliderNeeded=a,this._computedSliderRatio=b,this.sliderTop=M,this.sliderHeight=j,this.startLineNumber=ee,this.endLineNumber=ue}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,n,a,b,M,j,ee,ue,ye,Te,Ae){const ot=e.pixelRatio,qe=e.minimapLineHeight,Et=Math.floor(e.canvasInnerHeight/qe),Ht=e.lineHeight;if(e.minimapHeightIsEditorHeight){const an=ue*e.lineHeight+(e.scrollBeyondLastLine?M-e.lineHeight:0),zn=Math.max(1,Math.floor(M*M/an)),kn=Math.max(0,e.minimapHeight-zn),sn=kn/(Te-M),_n=ye*sn,In=kn>0,Jn=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new Oi(ye,Te,In,sn,_n,zn,1,Math.min(ee,Jn))}let ri;if(j&&a!==ee){const an=a-n+1;ri=Math.floor(an*qe/ot)}else{const an=M/Ht;ri=Math.floor(an*qe/ot)}let _i;e.scrollBeyondLastLine?_i=(ee-1)*qe/ot:_i=Math.max(0,ee*qe/ot-ri),_i=Math.min(e.minimapHeight-ri,_i);const Ii=_i/(Te-M),bi=ye*Ii;let fn=0;if(e.scrollBeyondLastLine&&(fn=M/Ht-1),Et>=ee+fn){const zn=ee,kn=_i>0;return new Oi(ye,Te,kn,Ii,bi,ri,1,zn)}else{let an=Math.max(1,Math.floor(n-bi*ot/qe));Ae&&Ae.scrollHeight===Te&&(Ae.scrollTop>ye&&(an=Math.min(an,Ae.startLineNumber)),Ae.scrollTop<ye&&(an=Math.max(an,Ae.startLineNumber)));const zn=Math.min(ee,an+Et-1),kn=(ye-b)/Ht,sn=(n-an+kn)*qe/ot;return new Oi(ye,Te,!0,Ii,sn,ri,an,zn)}}}class tn{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}tn.INVALID=new tn(-1);class yi{constructor(e,n,a){this.renderedLayout=e,this._imageData=n,this._renderedLines=new En(()=>tn.INVALID),this._renderedLines._set(e.startLineNumber,a)}linesEquals(e){if(!this.scrollEquals(e))return!1;const a=this._renderedLines._get().lines;for(let b=0,M=a.length;b<M;b++)if(a[b].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,n){return this._renderedLines.onLinesChanged(e,n)}onLinesDeleted(e,n){this._renderedLines.onLinesDeleted(e,n)}onLinesInserted(e,n){this._renderedLines.onLinesInserted(e,n)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class nn{constructor(e,n,a,b){this._backgroundFillData=nn._createBackgroundFillData(n,a,b),this._buffers=[e.createImageData(n,a),e.createImageData(n,a)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,n,a){const b=a.r,M=a.g,j=a.b,ee=a.a,ue=new Uint8ClampedArray(e*n*4);let ye=0;for(let Te=0;Te<n;Te++)for(let Ae=0;Ae<e;Ae++)ue[ye]=b,ue[ye+1]=M,ue[ye+2]=j,ue[ye+3]=ee,ye+=4;return ue}}class Qi{constructor(e,n){this.samplingRatio=e,this.minimapLines=n}static compute(e,n,a){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const b=e.pixelRatio,M=e.lineHeight,j=e.scrollBeyondLastLine,{minimapLineCount:ee}=nt.gk.computeContainedMinimapLineCount({viewLineCount:n,scrollBeyondLastLine:j,height:e.editorHeight,lineHeight:M,pixelRatio:b}),ue=n/ee,ye=ue/2;if(!a||a.minimapLines.length===0){let bi=[];if(bi[0]=1,ee>1){for(let fn=0,an=ee-1;fn<an;fn++)bi[fn]=Math.round(fn*ue+ye);bi[ee-1]=n}return[new Qi(ue,bi),[]]}const Te=a.minimapLines,Ae=Te.length;let ot=[],qe=0,Et=0,Ht=1;const ri=10;let _i=[],Ii=null;for(let bi=0;bi<ee;bi++){const fn=Math.max(Ht,Math.round(bi*ue)),an=Math.max(fn,Math.round((bi+1)*ue));for(;qe<Ae&&Te[qe]<fn;){if(_i.length<ri){const kn=qe+1+Et;Ii&&Ii.type==="deleted"&&Ii._oldIndex===qe-1?Ii.deleteToLineNumber++:(Ii={type:"deleted",_oldIndex:qe,deleteFromLineNumber:kn,deleteToLineNumber:kn},_i.push(Ii)),Et--}qe++}let zn;if(qe<Ae&&Te[qe]<=an)zn=Te[qe],qe++;else if(bi===0?zn=1:bi+1===ee?zn=n:zn=Math.round(bi*ue+ye),_i.length<ri){const kn=qe+1+Et;Ii&&Ii.type==="inserted"&&Ii._i===bi-1?Ii.insertToLineNumber++:(Ii={type:"inserted",_i:bi,insertFromLineNumber:kn,insertToLineNumber:kn},_i.push(Ii)),Et++}ot[bi]=zn,Ht=zn}if(_i.length<ri)for(;qe<Ae;){const bi=qe+1+Et;Ii&&Ii.type==="deleted"&&Ii._oldIndex===qe-1?Ii.deleteToLineNumber++:(Ii={type:"deleted",_oldIndex:qe,deleteFromLineNumber:bi,deleteToLineNumber:bi},_i.push(Ii)),Et--,qe++}else _i=[{type:"flush"}];return[new Qi(ue,ot),_i]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,n){let a=this.modelLineToMinimapLine(e)-1;for(;a>0&&this.minimapLines[a-1]>=e;)a--;let b=this.modelLineToMinimapLine(n)-1;for(;b+1<this.minimapLines.length&&this.minimapLines[b+1]<=n;)b++;if(a===b){const M=this.minimapLines[a];if(M<e||M>n)return null}return[a+1,b+1]}decorationLineRangeToMinimapLineRange(e,n){let a=this.modelLineToMinimapLine(e),b=this.modelLineToMinimapLine(n);return e!==n&&b===a&&(b===this.minimapLines.length?a>1&&a--:b++),[a,b]}onLinesDeleted(e){const n=e.toLineNumber-e.fromLineNumber+1;let a=this.minimapLines.length,b=0;for(let M=this.minimapLines.length-1;M>=0&&!(this.minimapLines[M]<e.fromLineNumber);M--)this.minimapLines[M]<=e.toLineNumber?(this.minimapLines[M]=Math.max(1,e.fromLineNumber-1),a=Math.min(a,M),b=Math.max(b,M)):this.minimapLines[M]-=n;return[a,b]}onLinesInserted(e){const n=e.toLineNumber-e.fromLineNumber+1;for(let a=this.minimapLines.length-1;a>=0&&!(this.minimapLines[a]<e.fromLineNumber);a--)this.minimapLines[a]+=n}}class Sn extends le{constructor(e){super(e),this.tokensColorTracker=un.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new li(this._context.configuration,this._context.theme,this.tokensColorTracker);const[n]=Qi.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=n,this._shouldCheckSampling=!1,this._actual=new ns(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new li(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const n=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return n?this._actual.onLinesChanged(n[0],n[1]):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){const[n,a]=this._samplingState.onLinesDeleted(e);return n<=a&&this._actual.onLinesChanged(n+1,a+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let n=[];for(const a of e.ranges){const b=this._samplingState.modelLineRangeToMinimapLineRange(a.fromLineNumber,a.toLineNumber);b&&n.push({fromLineNumber:b[0],toLineNumber:b[1]})}return n.length?this._actual.onTokensChanged(n):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let n=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber;this._samplingState&&(n=this._samplingState.modelLineToMinimapLine(n),a=this._samplingState.modelLineToMinimapLine(a));const b={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:n,viewportEndLineNumber:a,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(n),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(b)}_recreateLineSampling(){this._minimapSelections=null;const e=!!this._samplingState,[n,a]=Qi.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=n,e&&this._samplingState)for(const b of a)switch(b.type){case"deleted":this._actual.onLinesDeleted(b.deleteFromLineNumber,b.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(b.insertFromLineNumber,b.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(e){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[e-1]):this._context.model.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.model.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.model.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,n,a){if(this._samplingState){let b=[];for(let M=0,j=n-e+1;M<j;M++)a[M]?b[M]=this._context.model.getViewLineData(this._samplingState.minimapLines[e+M-1]):b[M]=null;return b}return this._context.model.getMinimapLinesRenderingData(e,n,a).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[n,a]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new x.Y(n,e.startColumn,a,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,n){let a;if(this._samplingState){const M=this._samplingState.minimapLines[e-1],j=this._samplingState.minimapLines[n-1];a=new Oe.e(M,1,j,this._context.model.getLineMaxColumn(j))}else a=new Oe.e(e,1,n,this._context.model.getLineMaxColumn(n));const b=this._context.model.getDecorationsInViewport(a);if(this._samplingState){let M=[];for(const j of b){if(!j.options.minimap)continue;const ee=j.range,ue=this._samplingState.modelLineToMinimapLine(ee.startLineNumber),ye=this._samplingState.modelLineToMinimapLine(ee.endLineNumber);M.push(new Bi.$l(new Oe.e(ue,ee.startColumn,ye,ee.endColumn),j.options))}return M}return b}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.model.revealRange("mouse",!1,new Oe.e(e,1,e,1),1,0)}setScrollTop(e){this._context.model.setScrollPosition({scrollTop:e},1)}}class ns extends I.JT{constructor(e,n){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=n,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(us.ov),this._domNode=(0,w.X)(document.createElement("div")),Z.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,w.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,w.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,w.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,w.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,w.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=k.mu(this._domNode.domNode,"mousedown",a=>{if(a.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(a.leftButton&&this._lastRenderData){const ye=k.i(this._slider.domNode),Te=ye.top+ye.height/2;this._startSliderDragging(a.buttons,a.posx,Te,a.posy,this._lastRenderData.renderedLayout)}return}const M=this._model.options.minimapLineHeight,j=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*a.browserEvent.offsetY;let ue=Math.floor(j/M)+this._lastRenderData.renderedLayout.startLineNumber;ue=Math.min(ue,this._model.getLineCount()),this._model.revealLineNumber(ue)}),this._sliderMouseMoveMonitor=new h.Z,this._sliderMouseDownListener=k.mu(this._slider.domNode,"mousedown",a=>{a.preventDefault(),a.stopPropagation(),a.leftButton&&this._lastRenderData&&this._startSliderDragging(a.buttons,a.posx,a.posy,a.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=f.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=k.nm(this._domNode.domNode,f.t.Start,a=>{a.preventDefault(),a.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(a))},{passive:!1}),this._sliderTouchMoveListener=k.nm(this._domNode.domNode,f.t.Change,a=>{a.preventDefault(),a.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(a)},{passive:!1}),this._sliderTouchEndListener=k.mu(this._domNode.domNode,f.t.End,a=>{a.preventDefault(),a.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,n,a,b,M){this._slider.toggleClassName("active",!0);const j=(ee,ue)=>{const ye=Math.abs(ue-n);if(D.ED&&ye>di){this._model.setScrollTop(M.scrollTop);return}const Te=ee-a;this._model.setScrollTop(M.getDesiredScrollTopFromDelta(Te))};b!==a&&j(b,n),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,h.e,ee=>j(ee.posy,ee.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const n=this._domNode.domNode.getBoundingClientRect().top,a=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-n);this._model.setScrollTop(a)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new nn(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,n){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,n):!1}onLinesDeleted(e,n){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,n),!0}onLinesInserted(e,n){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,n),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(us.ov),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const a=Oi.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(a.sliderNeeded?"block":"none"),this._slider.setTop(a.sliderTop),this._slider.setHeight(a.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(a.sliderHeight),this.renderDecorations(a),this._lastRenderData=this.renderLines(a)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const n=this._model.getSelections();n.sort(Oe.e.compareRangesUsingStarts);const a=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);a.sort((ot,qe)=>(ot.options.zIndex||0)-(qe.options.zIndex||0));const{canvasInnerWidth:b,canvasInnerHeight:M}=this._model.options,j=this._model.options.minimapLineHeight,ee=this._model.options.minimapCharWidth,ue=this._model.getOptions().tabSize,ye=this._decorationsCanvas.domNode.getContext("2d");ye.clearRect(0,0,b,M);const Te=new Ms(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(ye,n,Te,e,j),this._renderDecorationsLineHighlights(ye,a,Te,e,j);const Ae=new Ms(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(ye,n,Ae,e,j,ue,ee,b),this._renderDecorationsHighlights(ye,a,Ae,e,j,ue,ee,b)}}_renderSelectionLineHighlights(e,n,a,b,M){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let j=0,ee=0;for(const ue of n){const ye=Math.max(b.startLineNumber,ue.startLineNumber),Te=Math.min(b.endLineNumber,ue.endLineNumber);if(ye>Te)continue;for(let qe=ye;qe<=Te;qe++)a.set(qe,!0);const Ae=(ye-b.startLineNumber)*M,ot=(Te-b.startLineNumber)*M+M;ee>=Ae||(ee>j&&e.fillRect(nt.y0,j,e.canvas.width,ee-j),j=Ae),ee=ot}ee>j&&e.fillRect(nt.y0,j,e.canvas.width,ee-j)}_renderDecorationsLineHighlights(e,n,a,b,M){const j=new Map;for(let ee=n.length-1;ee>=0;ee--){const ue=n[ee],ye=ue.options.minimap;if(!ye||ye.position!==rs.F5.Inline)continue;const Te=Math.max(b.startLineNumber,ue.range.startLineNumber),Ae=Math.min(b.endLineNumber,ue.range.endLineNumber);if(Te>Ae)continue;const ot=ye.getColor(this._theme);if(!ot||ot.isTransparent())continue;let qe=j.get(ot.toString());qe||(qe=ot.transparent(.5).toString(),j.set(ot.toString(),qe)),e.fillStyle=qe;for(let Et=Te;Et<=Ae;Et++){if(a.has(Et))continue;a.set(Et,!0);const Ht=(Te-b.startLineNumber)*M;e.fillRect(nt.y0,Ht,e.canvas.width,M)}}}_renderSelectionsHighlights(e,n,a,b,M,j,ee,ue){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const ye of n){const Te=Math.max(b.startLineNumber,ye.startLineNumber),Ae=Math.min(b.endLineNumber,ye.endLineNumber);if(!(Te>Ae))for(let ot=Te;ot<=Ae;ot++)this.renderDecorationOnLine(e,a,ye,this._selectionColor,b,ot,M,M,j,ee,ue)}}_renderDecorationsHighlights(e,n,a,b,M,j,ee,ue){for(const ye of n){const Te=ye.options.minimap;if(!Te)continue;const Ae=Math.max(b.startLineNumber,ye.range.startLineNumber),ot=Math.min(b.endLineNumber,ye.range.endLineNumber);if(Ae>ot)continue;const qe=Te.getColor(this._theme);if(!(!qe||qe.isTransparent()))for(let Et=Ae;Et<=ot;Et++)switch(Te.position){case rs.F5.Inline:this.renderDecorationOnLine(e,a,ye.range,qe,b,Et,M,M,j,ee,ue);continue;case rs.F5.Gutter:const Ht=(Et-b.startLineNumber)*M;this.renderDecoration(e,qe,2,Ht,Ei,M);continue}}}renderDecorationOnLine(e,n,a,b,M,j,ee,ue,ye,Te,Ae){const ot=(j-M.startLineNumber)*ue;if(ot+ee<0||ot>this._model.options.canvasInnerHeight)return;const{startLineNumber:qe,endLineNumber:Et}=a,Ht=qe===j?a.startColumn:1,ri=Et===j?a.endColumn:this._model.getLineMaxColumn(j),_i=this.getXOffsetForPosition(n,j,Ht,ye,Te,Ae),Ii=this.getXOffsetForPosition(n,j,ri,ye,Te,Ae);this.renderDecoration(e,b,_i,ot,Ii-_i,ee)}getXOffsetForPosition(e,n,a,b,M,j){if(a===1)return nt.y0;if((a-1)*M>=j)return j;let ue=e.get(n);if(!ue){const ye=this._model.getLineContent(n);ue=[nt.y0];let Te=nt.y0;for(let Ae=1;Ae<ye.length+1;Ae++){const ot=ye.charCodeAt(Ae-1),qe=ot===9?b*M:je.K7(ot)?2*M:M,Et=Te+qe;if(Et>=j){ue[Ae]=j;break}ue[Ae]=Et,Te=Et}e.set(n,ue)}return a-1<ue.length?ue[a-1]:j}renderDecoration(e,n,a,b,M,j){e.fillStyle=n&&n.toString()||"",e.fillRect(a,b,M,j)}renderLines(e){const n=e.startLineNumber,a=e.endLineNumber,b=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const Bs=this._lastRenderData._get();return new yi(e,Bs.imageData,Bs.lines)}const M=this._getBuffer();if(!M)return null;let[j,ee,ue]=ns._renderUntouchedLines(M,n,a,b,this._lastRenderData);const ye=this._model.getMinimapLinesRenderingData(n,a,ue),Te=this._model.getOptions().tabSize,Ae=this._model.options.defaultBackgroundColor,ot=this._model.options.backgroundColor,qe=this._model.options.foregroundAlpha,Et=this._model.tokensColorTracker,Ht=Et.backgroundIsLight(),ri=this._model.options.renderMinimap,_i=this._model.options.charRenderer(),Ii=this._model.options.fontScale,bi=this._model.options.minimapCharWidth,an=(ri===1?2:3)*Ii,zn=b>an?Math.floor((b-an)/2):0,kn=ot.a/255,sn=new Li(Math.round((ot.r-Ae.r)*kn+Ae.r),Math.round((ot.g-Ae.g)*kn+Ae.g),Math.round((ot.b-Ae.b)*kn+Ae.b),255);let _n=0;const In=[];for(let Bs=0,Vo=a-n+1;Bs<Vo;Bs++)ue[Bs]&&ns._renderLine(M,sn,ot.a,Ht,ri,bi,Et,qe,_i,_n,zn,Te,ye[Bs],Ii,b),In[Bs]=new tn(_n),_n+=b;const Jn=j===-1?0:j,ao=(ee===-1?M.height:ee)-Jn;return this._canvas.domNode.getContext("2d").putImageData(M,0,0,0,Jn,M.width,ao),new yi(e,M,In)}static _renderUntouchedLines(e,n,a,b,M){const j=[];if(!M){for(let sn=0,_n=a-n+1;sn<_n;sn++)j[sn]=!0;return[-1,-1,j]}const ee=M._get(),ue=ee.imageData.data,ye=ee.rendLineNumberStart,Te=ee.lines,Ae=Te.length,ot=e.width,qe=e.data,Et=(a-n+1)*b*ot*4;let Ht=-1,ri=-1,_i=-1,Ii=-1,bi=-1,fn=-1,an=0;for(let sn=n;sn<=a;sn++){const _n=sn-n,In=sn-ye,Jn=In>=0&&In<Ae?Te[In].dy:-1;if(Jn===-1){j[_n]=!0,an+=b;continue}const po=Jn*ot*4,ao=(Jn+b)*ot*4,lo=an*ot*4,Bs=(an+b)*ot*4;Ii===po&&fn===lo?(Ii=ao,fn=Bs):(_i!==-1&&(qe.set(ue.subarray(_i,Ii),bi),Ht===-1&&_i===0&&_i===bi&&(Ht=Ii),ri===-1&&Ii===Et&&_i===bi&&(ri=_i)),_i=po,Ii=ao,bi=lo,fn=Bs),j[_n]=!1,an+=b}_i!==-1&&(qe.set(ue.subarray(_i,Ii),bi),Ht===-1&&_i===0&&_i===bi&&(Ht=Ii),ri===-1&&Ii===Et&&_i===bi&&(ri=_i));const zn=Ht===-1?-1:Ht/(ot*4),kn=ri===-1?-1:ri/(ot*4);return[zn,kn,j]}static _renderLine(e,n,a,b,M,j,ee,ue,ye,Te,Ae,ot,qe,Et,Ht){const ri=qe.content,_i=qe.tokens,Ii=e.width-j,bi=Ht===1;let fn=nt.y0,an=0,zn=0;for(let kn=0,sn=_i.getCount();kn<sn;kn++){const _n=_i.getEndOffset(kn),In=_i.getForeground(kn),Jn=ee.getColor(In);for(;an<_n;an++){if(fn>Ii)return;const po=ri.charCodeAt(an);if(po===9){const ao=ot-(an+zn)%ot;zn+=ao-1,fn+=ao*j}else if(po===32)fn+=j;else{const ao=je.K7(po)?2:1;for(let lo=0;lo<ao;lo++)if(M===2?ye.blockRenderChar(e,fn,Te+Ae,Jn,ue,n,a,bi):ye.renderChar(e,fn,Te+Ae,po,Jn,ue,n,a,Et,b,bi),fn+=j,fn>Ii)return}}}}}class Ms{constructor(e,n,a){this._startLineNumber=e,this._endLineNumber=n,this._defaultValue=a,this._values=[];for(let b=0,M=this._endLineNumber-this._startLineNumber+1;b<M;b++)this._values[b]=a}has(e){return this.get(e)!==this._defaultValue}set(e,n){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=n)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}(0,vt.Ic)((pt,e)=>{const n=pt.getColor(us.CA);n&&e.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${n}; }`);const a=pt.getColor(us.Xy);a&&e.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${a}; }`);const b=pt.getColor(us.br);b&&e.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${b}; }`);const M=pt.getColor(us._w);M&&e.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${M} -6px 0 6px -6px inset; }`)});class Dn extends le{constructor(e){super(e);const a=this._context.configuration.options.get(129);this._widgets={},this._verticalScrollbarWidth=a.verticalScrollbarWidth,this._minimapWidth=a.minimap.minimapWidth,this._horizontalScrollbarHeight=a.horizontalScrollbarHeight,this._editorHeight=a.height,this._editorWidth=a.width,this._domNode=(0,w.X)(document.createElement("div")),Z.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const a=this._context.configuration.options.get(129);return this._verticalScrollbarWidth=a.verticalScrollbarWidth,this._minimapWidth=a.minimap.minimapWidth,this._horizontalScrollbarHeight=a.horizontalScrollbarHeight,this._editorHeight=a.height,this._editorWidth=a.width,!0}addWidget(e){const n=(0,w.X)(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:n},n.setPosition("absolute"),n.setAttribute("widgetId",e.getId()),this._domNode.appendChild(n),this.setShouldRender()}setWidgetPosition(e,n){const a=this._widgets[e.getId()];return a.preference===n?!1:(a.preference=n,this.setShouldRender(),!0)}removeWidget(e){const n=e.getId();if(this._widgets.hasOwnProperty(n)){const b=this._widgets[n].domNode.domNode;delete this._widgets[n],b.parentNode.removeChild(b),this.setShouldRender()}}_renderWidget(e){const n=e.domNode;if(e.preference===null){n.unsetTop();return}if(e.preference===0)n.setTop(0),n.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){const a=n.domNode.clientHeight;n.setTop(this._editorHeight-a-2*this._horizontalScrollbarHeight),n.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===2&&(n.setTop(0),n.domNode.style.right="50%")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const n=Object.keys(this._widgets);for(let a=0,b=n.length;a<b;a++){const M=n[a];this._renderWidget(this._widgets[M])}}}var Ut=c(41264);class pe{constructor(e,n){const a=e.options;this.lineHeight=a.get(58),this.pixelRatio=a.get(127),this.overviewRulerLanes=a.get(73),this.renderBorder=a.get(72);const b=n.getColor(hn.zw);this.borderColor=b?b.toString():null,this.hideCursor=a.get(51);const M=n.getColor(hn.n0);this.cursorColor=M?M.transparent(.7).toString():null,this.themeType=n.type;const j=a.get(64),ee=j.enabled,ue=j.side,ye=ee?n.getColor(hn.e_)||mi.RW.getDefaultBackground():null;ye===null||ue==="left"?this.backgroundColor=null:this.backgroundColor=Ut.Il.Format.CSS.formatHex(ye);const Ae=a.get(129).overviewRuler;this.top=Ae.top,this.right=Ae.right,this.domWidth=Ae.width,this.domHeight=Ae.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[ot,qe]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=ot,this.w=qe}_initLanes(e,n,a){const b=n-e;if(a>=3){const M=Math.floor(b/3),j=Math.floor(b/3),ee=b-M-j,ue=e,ye=ue+M,Te=ue+M+ee;return[[0,ue,ye,ue,Te,ue,ye,ue],[0,M,ee,M+ee,j,M+ee+j,ee+j,M+ee+j]]}else if(a===2){const M=Math.floor(b/2),j=b-M,ee=e,ue=ee+M;return[[0,ee,ee,ee,ue,ee,ee,ee],[0,M,M,M,j,M+j,M+j,M+j]]}else{const M=e,j=b;return[[0,M,M,M,M,M,M,M],[0,j,j,j,j,j,j,j]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class Re extends le{constructor(e){super(e),this._domNode=(0,w.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=mi.RW.onDidChange(n=>{n.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const n=new pe(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(n)?!1:(this._settings=n,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let n=0,a=e.selections.length;n<a;n++)this._cursorPositions[n]=e.selections[n].getPosition();return this._cursorPositions.sort(Ne.L.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const e=this._settings.canvasWidth,n=this._settings.canvasHeight,a=this._settings.lineHeight,b=this._context.viewLayout,M=this._context.viewLayout.getScrollHeight(),j=n/M,ee=this._context.model.getAllOverviewRulerDecorations(this._context.theme),ue=6*this._settings.pixelRatio|0,ye=ue/2|0,Te=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?Te.clearRect(0,0,e,n):(Te.fillStyle=this._settings.backgroundColor,Te.fillRect(0,0,e,n));const Ae=this._settings.x,ot=this._settings.w;ee.sort(Bi.SQ.cmp);for(const qe of ee){const Et=qe.color,Ht=qe.data;Te.fillStyle=Et;let ri=0,_i=0,Ii=0;for(let bi=0,fn=Ht.length/3;bi<fn;bi++){const an=Ht[3*bi],zn=Ht[3*bi+1],kn=Ht[3*bi+2];let sn=b.getVerticalOffsetForLineNumber(zn)*j|0,_n=(b.getVerticalOffsetForLineNumber(kn)+a)*j|0;if(_n-sn<ue){let Jn=(sn+_n)/2|0;Jn<ye?Jn=ye:Jn+ye>n&&(Jn=n-ye),sn=Jn-ye,_n=Jn+ye}sn>Ii+1||an!==ri?(bi!==0&&Te.fillRect(Ae[ri],_i,ot[ri],Ii-_i),ri=an,_i=sn,Ii=_n):_n>Ii&&(Ii=_n)}Te.fillRect(Ae[ri],_i,ot[ri],Ii-_i)}if(!this._settings.hideCursor&&this._settings.cursorColor){const qe=2*this._settings.pixelRatio|0,Et=qe/2|0,Ht=this._settings.x[7],ri=this._settings.w[7];Te.fillStyle=this._settings.cursorColor;let _i=-100,Ii=-100;for(let bi=0,fn=this._cursorPositions.length;bi<fn;bi++){const an=this._cursorPositions[bi];let zn=b.getVerticalOffsetForLineNumber(an.lineNumber)*j|0;zn<Et?zn=Et:zn+Et>n&&(zn=n-Et);const kn=zn-Et,sn=kn+qe;kn>Ii+1?(bi!==0&&Te.fillRect(Ht,_i,ri,Ii-_i),_i=kn,Ii=sn):sn>Ii&&(Ii=sn)}Te.fillRect(Ht,_i,ri,Ii-_i)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(Te.beginPath(),Te.lineWidth=1,Te.strokeStyle=this._settings.borderColor,Te.moveTo(0,0),Te.lineTo(0,n),Te.stroke(),Te.moveTo(0,0),Te.lineTo(e,0),Te.stroke())}}var Ke=c(92003);class _t extends De{constructor(e,n){super(),this._context=e;const a=this._context.configuration.options;this._domNode=(0,w.X)(document.createElement("canvas")),this._domNode.setClassName(n),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new Ke.Tj(b=>this._context.viewLayout.getVerticalOffsetForLineNumber(b)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(a.get(58)),this._zoneManager.setPixelRatio(a.get(127)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options;return e.hasChanged(58)&&(this._zoneManager.setLineHeight(n.get(58)),this._render()),e.hasChanged(127)&&(this._zoneManager.setPixelRatio(n.get(127)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let n=!1;n=this._zoneManager.setDOMWidth(e.width)||n,n=this._zoneManager.setDOMHeight(e.height)||n,n&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),n=this._zoneManager.getCanvasHeight(),a=this._zoneManager.resolveColorZones(),b=this._zoneManager.getId2Color(),M=this._domNode.domNode.getContext("2d");return M.clearRect(0,0,e,n),a.length>0&&this._renderOneLane(M,a,b,e),!0}_renderOneLane(e,n,a,b){let M=0,j=0,ee=0;for(const ue of n){const ye=ue.colorId,Te=ue.from,Ae=ue.to;ye!==M?(e.fillRect(0,j,b,ee-j),M=ye,e.fillStyle=a[M],j=Te,ee=Ae):ee>=Te?ee=Math.max(ee,Ae):(e.fillRect(0,j,b,ee-j),j=Te,ee=Ae)}e.fillRect(0,j,b,ee-j)}}class bt extends le{constructor(e){super(e),this.domNode=(0,w.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const n=this._context.configuration.options;this._rulers=n.get(90),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options;return this._rulers=n.get(90),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,n=this._rulers.length;if(e===n)return;if(e<n){const{tabSize:b}=this._context.model.getTextModelOptions(),M=b;let j=n-e;for(;j>0;){const ee=(0,w.X)(document.createElement("div"));ee.setClassName("view-ruler"),ee.setWidth(M),this.domNode.appendChild(ee),this._renderedRulers.push(ee),j--}return}let a=e-n;for(;a>0;){const b=this._renderedRulers.pop();this.domNode.removeChild(b),a--}}render(e){this._ensureRulersCount();for(let n=0,a=this._rulers.length;n<a;n++){const b=this._renderedRulers[n],M=this._rulers[n];b.setBoxShadow(M.color?`1px 0 0 0 ${M.color} inset`:""),b.setHeight(Math.min(e.scrollHeight,1e6)),b.setLeft(M.column*this._typicalHalfwidthCharacterWidth)}}}(0,vt.Ic)((pt,e)=>{const n=pt.getColor(hn.zk);n&&e.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${n} inset; }`)});class ti extends le{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const a=this._context.configuration.options.get(91);this._useShadows=a.useShadows,this._domNode=(0,w.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const n=this._context.configuration.options.get(129);n.minimap.renderMinimap===0||n.minimap.minimapWidth>0&&n.minimap.minimapLeft===0?this._width=n.width:this._width=n.width-n.minimap.minimapWidth-n.verticalScrollbarWidth}onConfigurationChanged(e){const a=this._context.configuration.options.get(91);return this._useShadows=a.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,vt.Ic)((pt,e)=>{const n=pt.getColor(us._w);n&&e.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${n} 0 6px 6px -6px inset; }`)});class Jt{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class ln{constructor(e,n){this.lineNumber=e,this.ranges=n}}function An(pt){return new Jt(pt)}function Pi(pt){return new ln(pt.lineNumber,pt.ranges.map(An))}class on extends Hi{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const n=this._context.configuration.options;this._lineHeight=n.get(58),this._roundedSelection=n.get(89),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options;return this._lineHeight=n.get(58),this._roundedSelection=n.get(89),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let n=0,a=e.length;n<a;n++)if(e[n].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,n,a){const b=this._typicalHalfwidthCharacterWidth/4;let M=null,j=null;if(a&&a.length>0&&n.length>0){const ee=n[0].lineNumber;if(ee===e.startLineNumber)for(let ye=0;!M&&ye<a.length;ye++)a[ye].lineNumber===ee&&(M=a[ye].ranges[0]);const ue=n[n.length-1].lineNumber;if(ue===e.endLineNumber)for(let ye=a.length-1;!j&&ye>=0;ye--)a[ye].lineNumber===ue&&(j=a[ye].ranges[0]);M&&!M.startStyle&&(M=null),j&&!j.startStyle&&(j=null)}for(let ee=0,ue=n.length;ee<ue;ee++){const ye=n[ee].ranges[0],Te=ye.left,Ae=ye.left+ye.width,ot={top:0,bottom:0},qe={top:0,bottom:0};if(ee>0){const Et=n[ee-1].ranges[0].left,Ht=n[ee-1].ranges[0].left+n[ee-1].ranges[0].width;Ln(Te-Et)<b?ot.top=2:Te>Et&&(ot.top=1),Ln(Ae-Ht)<b?qe.top=2:Et<Ae&&Ae<Ht&&(qe.top=1)}else M&&(ot.top=M.startStyle.top,qe.top=M.endStyle.top);if(ee+1<ue){const Et=n[ee+1].ranges[0].left,Ht=n[ee+1].ranges[0].left+n[ee+1].ranges[0].width;Ln(Te-Et)<b?ot.bottom=2:Et<Te&&Te<Ht&&(ot.bottom=1),Ln(Ae-Ht)<b?qe.bottom=2:Ae<Ht&&(qe.bottom=1)}else j&&(ot.bottom=j.startStyle.bottom,qe.bottom=j.endStyle.bottom);ye.startStyle=ot,ye.endStyle=qe}}_getVisibleRangesWithStyle(e,n,a){const M=(n.linesVisibleRangesForRange(e,!0)||[]).map(Pi);return!this._visibleRangesHaveGaps(M)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(n.visibleRange,M,a),M}_createSelectionPiece(e,n,a,b,M){return'<div class="cslr '+a+'" style="top:'+e.toString()+"px;left:"+b.toString()+"px;width:"+M.toString()+"px;height:"+n+'px;"></div>'}_actualRenderOneSelection(e,n,a,b){if(b.length===0)return;const M=!!b[0].ranges[0].startStyle,j=this._lineHeight.toString(),ee=(this._lineHeight-1).toString(),ue=b[0].lineNumber,ye=b[b.length-1].lineNumber;for(let Te=0,Ae=b.length;Te<Ae;Te++){const ot=b[Te],qe=ot.lineNumber,Et=qe-n,Ht=a&&(qe===ye||qe===ue)?ee:j,ri=a&&qe===ue?1:0;let _i="",Ii="";for(let bi=0,fn=ot.ranges.length;bi<fn;bi++){const an=ot.ranges[bi];if(M){const kn=an.startStyle,sn=an.endStyle;if(kn.top===1||kn.bottom===1){_i+=this._createSelectionPiece(ri,Ht,on.SELECTION_CLASS_NAME,an.left-on.ROUNDED_PIECE_WIDTH,on.ROUNDED_PIECE_WIDTH);let _n=on.EDITOR_BACKGROUND_CLASS_NAME;kn.top===1&&(_n+=" "+on.SELECTION_TOP_RIGHT),kn.bottom===1&&(_n+=" "+on.SELECTION_BOTTOM_RIGHT),_i+=this._createSelectionPiece(ri,Ht,_n,an.left-on.ROUNDED_PIECE_WIDTH,on.ROUNDED_PIECE_WIDTH)}if(sn.top===1||sn.bottom===1){_i+=this._createSelectionPiece(ri,Ht,on.SELECTION_CLASS_NAME,an.left+an.width,on.ROUNDED_PIECE_WIDTH);let _n=on.EDITOR_BACKGROUND_CLASS_NAME;sn.top===1&&(_n+=" "+on.SELECTION_TOP_LEFT),sn.bottom===1&&(_n+=" "+on.SELECTION_BOTTOM_LEFT),_i+=this._createSelectionPiece(ri,Ht,_n,an.left+an.width,on.ROUNDED_PIECE_WIDTH)}}let zn=on.SELECTION_CLASS_NAME;if(M){const kn=an.startStyle,sn=an.endStyle;kn.top===0&&(zn+=" "+on.SELECTION_TOP_LEFT),kn.bottom===0&&(zn+=" "+on.SELECTION_BOTTOM_LEFT),sn.top===0&&(zn+=" "+on.SELECTION_TOP_RIGHT),sn.bottom===0&&(zn+=" "+on.SELECTION_BOTTOM_RIGHT)}Ii+=this._createSelectionPiece(ri,Ht,zn,an.left,an.width)}e[Et][0]+=_i,e[Et][1]+=Ii}}prepareRender(e){const n=[],a=e.visibleRange.startLineNumber,b=e.visibleRange.endLineNumber;for(let j=a;j<=b;j++){const ee=j-a;n[ee]=["",""]}const M=[];for(let j=0,ee=this._selections.length;j<ee;j++){const ue=this._selections[j];if(ue.isEmpty()){M[j]=null;continue}const ye=this._getVisibleRangesWithStyle(ue,e,this._previousFrameVisibleRangesWithStyle[j]);M[j]=ye,this._actualRenderOneSelection(n,a,this._selections.length>1,ye)}this._previousFrameVisibleRangesWithStyle=M,this._renderResult=n.map(([j,ee])=>j+ee)}render(e,n){if(!this._renderResult)return"";const a=n-e;return a<0||a>=this._renderResult.length?"":this._renderResult[a]}}on.SELECTION_CLASS_NAME="selected-text",on.SELECTION_TOP_LEFT="top-left-radius",on.SELECTION_BOTTOM_LEFT="bottom-left-radius",on.SELECTION_TOP_RIGHT="top-right-radius",on.SELECTION_BOTTOM_RIGHT="bottom-right-radius",on.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",on.ROUNDED_PIECE_WIDTH=10,(0,vt.Ic)((pt,e)=>{const n=pt.getColor(us.hE);n&&e.addRule(`.monaco-editor .focused .selected-text { background-color: ${n}; }`);const a=pt.getColor(us.ES);a&&e.addRule(`.monaco-editor .selected-text { background-color: ${a}; }`);const b=pt.getColor(us.yb);b&&!b.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${b}; }`)});function Ln(pt){return pt<0?-pt:pt}class Ji{constructor(e,n,a,b,M,j){this.top=e,this.left=n,this.width=a,this.height=b,this.textContent=M,this.textContentClassName=j}}class Kt{constructor(e){this._context=e;const n=this._context.configuration.options,a=n.get(43);this._cursorStyle=n.get(24),this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(n.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,w.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${Qe.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),C.V.applyFontInfo(this._domNode,a),this._domNode.setDisplay("none"),this._position=new Ne.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const n=this._context.configuration.options,a=n.get(43);return this._cursorStyle=n.get(24),this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(n.get(27),this._typicalHalfwidthCharacterWidth),C.V.applyFontInfo(this._domNode,a),!0}onCursorPositionChanged(e){return this._position=e,!0}_prepareRender(e){let n="";if(this._cursorStyle===nt.d2.Line||this._cursorStyle===nt.d2.LineThin){const ot=e.visibleRangeForPosition(this._position);if(!ot||ot.outsideRenderedLine)return null;let qe;if(this._cursorStyle===nt.d2.Line){if(qe=k.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),qe>2){const ri=this._context.model.getLineContent(this._position.lineNumber),_i=je.vH(ri,this._position.column-1);n=ri.substr(this._position.column-1,_i)}}else qe=k.Uh(1);let Et=ot.left;qe>=2&&Et>=1&&(Et-=1);const Ht=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new Ji(Ht,Et,qe,this._lineHeight,n,"")}const a=this._context.model.getLineContent(this._position.lineNumber),b=je.vH(a,this._position.column-1),M=e.linesVisibleRangesForRange(new Oe.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+b),!1);if(!M||M.length===0)return null;const j=M[0];if(j.outsideRenderedLine||j.ranges.length===0)return null;const ee=j.ranges[0],ue=ee.width<1?this._typicalHalfwidthCharacterWidth:ee.width;let ye="";if(this._cursorStyle===nt.d2.Block){const ot=this._context.model.getViewLineData(this._position.lineNumber);n=a.substr(this._position.column-1,b);const qe=ot.tokens.findTokenIndexAtOffset(this._position.column-1);ye=ot.tokens.getClassName(qe)}let Te=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,Ae=this._lineHeight;return(this._cursorStyle===nt.d2.Underline||this._cursorStyle===nt.d2.UnderlineThin)&&(Te+=this._lineHeight-2,Ae=2),new Ji(Te,ee.left,ue,Ae,n,ye)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Qe.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class Si extends le{constructor(e){super(e);const n=this._context.configuration.options;this._readOnly=n.get(80),this._cursorBlinking=n.get(22),this._cursorStyle=n.get(24),this._cursorSmoothCaretAnimation=n.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new Kt(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,w.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new L._F,this._cursorFlatBlinkInterval=new L.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const n=this._context.configuration.options;this._readOnly=n.get(80),this._cursorBlinking=n.get(22),this._cursorStyle=n.get(24),this._cursorSmoothCaretAnimation=n.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let a=0,b=this._secondaryCursors.length;a<b;a++)this._secondaryCursors[a].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,n){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<n.length){const a=n.length-this._secondaryCursors.length;for(let b=0;b<a;b++){const M=new Kt(this._context);this._domNode.domNode.insertBefore(M.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(M)}}else if(this._secondaryCursors.length>n.length){const a=this._secondaryCursors.length-n.length;for(let b=0;b<a;b++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let a=0;a<n.length;a++)this._secondaryCursors[a].onCursorPositionChanged(n[a])}onCursorStateChanged(e){const n=[];for(let b=0,M=e.selections.length;b<M;b++)n[b]=e.selections[b].getPosition();this._onCursorPositionChanged(n[0],n.slice(1));const a=e.selections[0].isEmpty();return this._selectionIsEmpty!==a&&(this._selectionIsEmpty=a,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const n=a=>{for(let b=0,M=e.ranges.length;b<M;b++)if(e.ranges[b].fromLineNumber<=a.lineNumber&&a.lineNumber<=e.ranges[b].toLineNumber)return!0;return!1};if(n(this._primaryCursor.getPosition()))return!0;for(const a of this._secondaryCursors)if(n(a.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),n=e===0,a=e===5;n?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!n&&!a&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},Si.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},Si.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case nt.d2.Line:e+=" cursor-line-style";break;case nt.d2.Block:e+=" cursor-block-style";break;case nt.d2.Underline:e+=" cursor-underline-style";break;case nt.d2.LineThin:e+=" cursor-line-thin-style";break;case nt.d2.BlockOutline:e+=" cursor-block-outline-style";break;case nt.d2.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,n=this._secondaryCursors.length;e<n;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,n=this._secondaryCursors.length;e<n;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let n=0,a=this._secondaryCursors.length;n<a;n++)this._secondaryCursors[n].prepareRender(e)}render(e){let n=[],a=0;const b=this._primaryCursor.render(e);b&&(n[a++]=b);for(let M=0,j=this._secondaryCursors.length;M<j;M++){const ee=this._secondaryCursors[M].render(e);ee&&(n[a++]=ee)}this._renderData=n}getLastRenderData(){return this._renderData}}Si.BLINK_INTERVAL=500,(0,vt.Ic)((pt,e)=>{const n=pt.getColor(hn.n0);if(n){let a=pt.getColor(hn.fY);a||(a=n.opposite()),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${n}; border-color: ${n}; color: ${a}; }`),pt.type==="hc"&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${a}; border-right: 1px solid ${a}; }`)}});const $i=()=>{throw new Error("Invalid change accessor")};class gs extends le{constructor(e){super(e);const n=this._context.configuration.options,a=n.get(129);this._lineHeight=n.get(58),this._contentWidth=a.contentWidth,this._contentLeft=a.contentLeft,this.domNode=(0,w.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,w.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),n=new Map;for(const b of e)n.set(b.id,b);let a=!1;return this._context.model.changeWhitespace(b=>{const M=Object.keys(this._zones);for(let j=0,ee=M.length;j<ee;j++){const ue=M[j],ye=this._zones[ue],Te=this._computeWhitespaceProps(ye.delegate);ye.isInHiddenArea=Te.isInHiddenArea;const Ae=n.get(ue);Ae&&(Ae.afterLineNumber!==Te.afterViewLineNumber||Ae.height!==Te.heightInPx)&&(b.changeOneWhitespace(ue,Te.afterViewLineNumber,Te.heightInPx),this._safeCallOnComputedHeight(ye.delegate,Te.heightInPx),a=!0)}}),a}onConfigurationChanged(e){const n=this._context.configuration.options,a=n.get(129);return this._lineHeight=n.get(58),this._contentWidth=a.contentWidth,this._contentLeft=a.contentLeft,e.hasChanged(58)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return typeof e.afterColumn!="undefined"?e.afterColumn:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let n;if(typeof e.afterColumn!="undefined")n=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const j=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;n=new Ne.L(j,this._context.model.getModelLineMaxColumn(j))}let a;n.column===this._context.model.getModelLineMaxColumn(n.lineNumber)?a=this._context.model.validateModelPosition({lineNumber:n.lineNumber+1,column:1}):a=this._context.model.validateModelPosition({lineNumber:n.lineNumber,column:n.column+1});const b=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(n),M=this._context.model.coordinatesConverter.modelPositionIsVisible(a);return{isInHiddenArea:!M,afterViewLineNumber:b.lineNumber,heightInPx:M?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let n=!1;return this._context.model.changeWhitespace(a=>{const b={addZone:M=>(n=!0,this._addZone(a,M)),removeZone:M=>{M&&(n=this._removeZone(a,M)||n)},layoutZone:M=>{M&&(n=this._layoutZone(a,M)||n)}};bs(e,b),b.addZone=$i,b.removeZone=$i,b.layoutZone=$i}),n}_addZone(e,n){const a=this._computeWhitespaceProps(n),M={whitespaceId:e.insertWhitespace(a.afterViewLineNumber,this._getZoneOrdinal(n),a.heightInPx,a.minWidthInPx),delegate:n,isInHiddenArea:a.isInHiddenArea,isVisible:!1,domNode:(0,w.X)(n.domNode),marginDomNode:n.marginDomNode?(0,w.X)(n.marginDomNode):null};return this._safeCallOnComputedHeight(M.delegate,a.heightInPx),M.domNode.setPosition("absolute"),M.domNode.domNode.style.width="100%",M.domNode.setDisplay("none"),M.domNode.setAttribute("monaco-view-zone",M.whitespaceId),this.domNode.appendChild(M.domNode),M.marginDomNode&&(M.marginDomNode.setPosition("absolute"),M.marginDomNode.domNode.style.width="100%",M.marginDomNode.setDisplay("none"),M.marginDomNode.setAttribute("monaco-view-zone",M.whitespaceId),this.marginDomNode.appendChild(M.marginDomNode)),this._zones[M.whitespaceId]=M,this.setShouldRender(),M.whitespaceId}_removeZone(e,n){if(this._zones.hasOwnProperty(n)){const a=this._zones[n];return delete this._zones[n],e.removeWhitespace(a.whitespaceId),a.domNode.removeAttribute("monaco-visible-view-zone"),a.domNode.removeAttribute("monaco-view-zone"),a.domNode.domNode.parentNode.removeChild(a.domNode.domNode),a.marginDomNode&&(a.marginDomNode.removeAttribute("monaco-visible-view-zone"),a.marginDomNode.removeAttribute("monaco-view-zone"),a.marginDomNode.domNode.parentNode.removeChild(a.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,n){if(this._zones.hasOwnProperty(n)){const a=this._zones[n],b=this._computeWhitespaceProps(a.delegate);return a.isInHiddenArea=b.isInHiddenArea,e.changeOneWhitespace(a.whitespaceId,b.afterViewLineNumber,b.heightInPx),this._safeCallOnComputedHeight(a.delegate,b.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){return this._zones.hasOwnProperty(e)?!!this._zones[e].delegate.suppressMouseDown:!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,n){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(n)}catch(a){(0,P.dL)(a)}}_safeCallOnDomNodeTop(e,n){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(n)}catch(a){(0,P.dL)(a)}}prepareRender(e){}render(e){const n=e.viewportData.whitespaceViewportData,a={};let b=!1;for(const j of n)this._zones[j.id].isInHiddenArea||(a[j.id]=j,b=!0);const M=Object.keys(this._zones);for(let j=0,ee=M.length;j<ee;j++){const ue=M[j],ye=this._zones[ue];let Te=0,Ae=0,ot="none";a.hasOwnProperty(ue)?(Te=a[ue].verticalOffset-e.bigNumbersDelta,Ae=a[ue].height,ot="block",ye.isVisible||(ye.domNode.setAttribute("monaco-visible-view-zone","true"),ye.isVisible=!0),this._safeCallOnDomNodeTop(ye.delegate,e.getScrolledTopFromAbsoluteTop(a[ue].verticalOffset))):(ye.isVisible&&(ye.domNode.removeAttribute("monaco-visible-view-zone"),ye.isVisible=!1),this._safeCallOnDomNodeTop(ye.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),ye.domNode.setTop(Te),ye.domNode.setHeight(Ae),ye.domNode.setDisplay(ot),ye.marginDomNode&&(ye.marginDomNode.setTop(Te),ye.marginDomNode.setHeight(Ae),ye.marginDomNode.setDisplay(ot))}b&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function bs(pt,e){try{return pt(e)}catch(n){(0,P.dL)(n)}}class Rs{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class We{constructor(e,n,a){this.configuration=e,this.theme=new Rs(n),this.model=a,this.viewLayout=a.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}class d{constructor(e,n,a,b){this.selections=e,this.startLineNumber=n.startLineNumber|0,this.endLineNumber=n.endLineNumber|0,this.relativeVerticalOffset=n.relativeVerticalOffset,this.bigNumbersDelta=n.bigNumbersDelta|0,this.whitespaceViewportData=a,this._model=b,this.visibleRange=new Oe.e(n.startLineNumber,this._model.getLineMinColumn(n.startLineNumber),n.endLineNumber,this._model.getLineMaxColumn(n.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class N extends De{constructor(e,n,a,b,M,j){super(),this._selections=[new x.Y(1,1,1,1)],this._renderAnimationFrame=null;const ee=new dn(n,b,M,e);this._context=new We(n,a.getColorTheme(),b),this._configPixelRatio=this._context.configuration.options.get(127),this._context.addEventHandler(this),this._register(a.onDidColorThemeChange(Ht=>{this._context.theme.update(Ht),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new ei(this._context,ee,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,w.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,w.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,w.X)(document.createElement("div")),Z.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new Eo(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new Bt(this._context,this._linesContent),this._viewZones=new gs(this._context),this._viewParts.push(this._viewZones);const ue=new Re(this._context);this._viewParts.push(ue);const ye=new ti(this._context);this._viewParts.push(ye);const Te=new Fo(this._context);this._viewParts.push(Te),Te.addDynamicOverlay(new xo(this._context)),Te.addDynamicOverlay(new on(this._context)),Te.addDynamicOverlay(new ho(this._context)),Te.addDynamicOverlay(new so(this._context));const Ae=new no(this._context);this._viewParts.push(Ae),Ae.addDynamicOverlay(new to(this._context)),Ae.addDynamicOverlay(new vo(this._context)),Ae.addDynamicOverlay(new vi(this._context)),Ae.addDynamicOverlay(new qt(this._context)),Ae.addDynamicOverlay(new mt(this._context));const ot=new Nt(this._context);ot.getDomNode().appendChild(this._viewZones.marginDomNode),ot.getDomNode().appendChild(Ae.getDomNode()),this._viewParts.push(ot),this._contentWidgets=new Io(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new Si(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Dn(this._context),this._viewParts.push(this._overlayWidgets);const qe=new bt(this._context);this._viewParts.push(qe);const Et=new Sn(this._context);if(this._viewParts.push(Et),ue){const Ht=this._scrollbar.getOverviewRulerLayoutInfo();Ht.parent.insertBefore(ue.getDomNode(),Ht.insertBefore)}this._linesContent.appendChild(Te.getDomNode()),this._linesContent.appendChild(qe.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(ot.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(ye.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(Et.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),j?j.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new is(this._context,ee,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],n=this._textAreaHandler.getLastRenderData();return new ci(e,n)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,n)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,n)),visibleRangeForPosition:(e,n)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Ne.L(e,n))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(e,n)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Ne.L(e,n)))}}_applyLayout(){const n=this._context.configuration.options.get(129);this.domNode.setWidth(n.width),this.domNode.setHeight(n.height),this._overflowGuardContainer.setWidth(n.width),this._overflowGuardContainer.setHeight(n.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(126)+" "+(0,vt.m6)(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this._configPixelRatio=this._context.configuration.options.get(127),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=k.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){z(()=>this._actualRender())}_getViewPartsToRender(){let e=[],n=0;for(const a of this._viewParts)a.shouldRender()&&(e[n++]=a);return e}_actualRender(){if(!k.Uw(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return;const n=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(n.startLineNumber,n.endLineNumber,n.centeredLineNumber);const a=new d(this._selections,n,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(a),this._viewLines.shouldRender()&&(this._viewLines.renderText(a),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const b=new G(this._context.viewLayout,a,this._viewLines);for(const M of e)M.prepareRender(b);for(const M of e)M.render(b),M.onDidRender();Math.abs(r.mX()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.model.setScrollPosition({scrollTop:e.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,n){const a=this._context.model.validateModelPosition({lineNumber:e,column:n}),b=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(a);this._flushAccumulatedAndRenderNow();const M=this._viewLines.visibleRangeForPosition(new Ne.L(b.lineNumber,b.column));return M?M.left:-1}getTargetAtClientPoint(e,n){const a=this._pointerHandler.getTargetAtClientPoint(e,n);return a?gn.convertViewToModelMouseTarget(a,this._context.model.coordinatesConverter):null}createOverviewRuler(e){return new _t(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,n){if(n){this._viewLines.forceShouldRender();for(const a of this._viewParts)a.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let n=e.position&&e.position.range||null;if(n===null){const b=e.position?e.position.position:null;b!==null&&(n=new Oe.e(b.lineNumber,b.column,b.lineNumber,b.column))}const a=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,n,a),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const n=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,n)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}function z(pt){try{return pt()}catch(e){(0,P.dL)(e)}}class oe{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new we.rS(new Oe.e(1,1,1,1),0,new Ne.L(1,1),0),new we.rS(new Oe.e(1,1,1,1),0,new Ne.L(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new we.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(e){const n=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new x.Y(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):new x.Y(n.endLineNumber,n.endColumn,n.startLineNumber,n.startColumn)}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,n,a){this._setState(e,n,a)}static _validatePositionWithCache(e,n,a,b){return n.equals(a)?b:e.normalizePosition(n,2)}static _validateViewState(e,n){const a=n.position,b=n.selectionStart.getStartPosition(),M=n.selectionStart.getEndPosition(),j=e.normalizePosition(a,2),ee=this._validatePositionWithCache(e,b,a,j),ue=this._validatePositionWithCache(e,M,b,ee);return a.equals(j)&&b.equals(ee)&&M.equals(ue)?n:new we.rS(Oe.e.fromPositions(ee,ue),n.selectionStartLeftoverVisibleColumns+b.column-ee.column,j,n.leftoverVisibleColumns+a.column-j.column)}_setState(e,n,a){if(a&&(a=oe._validateViewState(e.viewModel,a)),n){const b=e.model.validateRange(n.selectionStart),M=n.selectionStart.equalsRange(b)?n.selectionStartLeftoverVisibleColumns:0,j=e.model.validatePosition(n.position),ee=n.position.equals(j)?n.leftoverVisibleColumns:0;n=new we.rS(b,M,j,ee)}else{if(!a)return;const b=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(a.selectionStart)),M=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(a.position));n=new we.rS(b,a.selectionStartLeftoverVisibleColumns,M,a.leftoverVisibleColumns)}if(a){const b=e.coordinatesConverter.validateViewRange(a.selectionStart,n.selectionStart),M=e.coordinatesConverter.validateViewPosition(a.position,n.position);a=new we.rS(b,n.selectionStartLeftoverVisibleColumns,M,n.leftoverVisibleColumns)}else{const b=e.coordinatesConverter.convertModelPositionToViewPosition(new Ne.L(n.selectionStart.startLineNumber,n.selectionStart.startColumn)),M=e.coordinatesConverter.convertModelPositionToViewPosition(new Ne.L(n.selectionStart.endLineNumber,n.selectionStart.endColumn)),j=new Oe.e(b.lineNumber,b.column,M.lineNumber,M.column),ee=e.coordinatesConverter.convertModelPositionToViewPosition(n.position);a=new we.rS(j,n.selectionStartLeftoverVisibleColumns,ee,n.leftoverVisibleColumns)}this.modelState=n,this.viewState=a,this._updateTrackedRange(e)}}class fe{constructor(e){this.context=e,this.primaryCursor=new oe(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let e=0,n=this.secondaryCursors.length;e<n;e++)this.secondaryCursors[e].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let e=0,n=this.secondaryCursors.length;e<n;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let e=0,n=this.secondaryCursors.length;e<n;e++)this.secondaryCursors[e].ensureValidState(this.context)}readSelectionFromMarkers(){let e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let n=0,a=this.secondaryCursors.length;n<a;n++)e[n+1]=this.secondaryCursors[n].readSelectionFromMarkers(this.context);return e}getAll(){let e=[];e[0]=this.primaryCursor.asCursorState();for(let n=0,a=this.secondaryCursors.length;n<a;n++)e[n+1]=this.secondaryCursors[n].asCursorState();return e}getViewPositions(){let e=[];e[0]=this.primaryCursor.viewState.position;for(let n=0,a=this.secondaryCursors.length;n<a;n++)e[n+1]=this.secondaryCursors[n].viewState.position;return e}getTopMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let n=0,a=this.secondaryCursors.length;n<a;n++){const b=this.secondaryCursors[n].viewState.position;b.isBefore(e)&&(e=b)}return e}getBottomMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let n=0,a=this.secondaryCursors.length;n<a;n++){const b=this.secondaryCursors[n].viewState.position;e.isBeforeOrEqual(b)&&(e=b)}return e}getSelections(){let e=[];e[0]=this.primaryCursor.modelState.selection;for(let n=0,a=this.secondaryCursors.length;n<a;n++)e[n+1]=this.secondaryCursors[n].modelState.selection;return e}getViewSelections(){let e=[];e[0]=this.primaryCursor.viewState.selection;for(let n=0,a=this.secondaryCursors.length;n<a;n++)e[n+1]=this.secondaryCursors[n].viewState.selection;return e}setSelections(e){this.setStates(we.Vi.fromModelSelections(e))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(e){e!==null&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const n=this.secondaryCursors.length,a=e.length;if(n<a){let b=a-n;for(let M=0;M<b;M++)this._addSecondaryCursor()}else if(n>a){let b=n-a;for(let M=0;M<b;M++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let b=0;b<a;b++)this.secondaryCursors[b].setState(this.context,e[b].modelState,e[b].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new oe(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)}_getAll(){let e=[];e[0]=this.primaryCursor;for(let n=0,a=this.secondaryCursors.length;n<a;n++)e[n+1]=this.secondaryCursors[n];return e}normalize(){if(this.secondaryCursors.length===0)return;let e=this._getAll(),n=[];for(let a=0,b=e.length;a<b;a++)n.push({index:a,selection:e[a].modelState.selection});n.sort((a,b)=>a.selection.startLineNumber===b.selection.startLineNumber?a.selection.startColumn-b.selection.startColumn:a.selection.startLineNumber-b.selection.startLineNumber);for(let a=0;a<n.length-1;a++){const b=n[a],M=n[a+1],j=b.selection,ee=M.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let ue;if(ee.isEmpty()||j.isEmpty()?ue=ee.getStartPosition().isBeforeOrEqual(j.getEndPosition()):ue=ee.getStartPosition().isBefore(j.getEndPosition()),ue){const ye=b.index<M.index?a:a+1,Te=b.index<M.index?a+1:a,Ae=n[Te].index,ot=n[ye].index,qe=n[Te].selection,Et=n[ye].selection;if(!qe.equalsSelection(Et)){const Ht=qe.plusRange(Et),ri=qe.selectionStartLineNumber===qe.startLineNumber&&qe.selectionStartColumn===qe.startColumn,_i=Et.selectionStartLineNumber===Et.startLineNumber&&Et.selectionStartColumn===Et.startColumn;let Ii;Ae===this.lastAddedCursorIndex?(Ii=ri,this.lastAddedCursorIndex=ot):Ii=_i;let bi;Ii?bi=new x.Y(Ht.startLineNumber,Ht.startColumn,Ht.endLineNumber,Ht.endColumn):bi=new x.Y(Ht.endLineNumber,Ht.endColumn,Ht.startLineNumber,Ht.startColumn),n[ye].selection=bi;const fn=we.Vi.fromModelSelection(bi);e[ot].setState(this.context,fn.modelState,fn.viewState)}for(const Ht of n)Ht.index>Ae&&Ht.index--;e.splice(Ae,1),n.splice(Te,1),this._removeSecondaryCursor(Ae-1),a--}}}}var Ee=c(31380),Ve=c(70966),dt=c(83256);class At{constructor(){this.type=0}}class Ct{constructor(){this.type=1}}class Dt{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class $t{constructor(e,n){this.type=3,this.selections=e,this.modelSelections=n}}class si{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class ui{constructor(){this.type=5}}class Ti{constructor(e){this.type=6,this.isFocused=e}}class Fi{constructor(){this.type=7}}class Zi{constructor(){this.type=8}}class yn{constructor(e,n){this.type=9,this.fromLineNumber=e,this.toLineNumber=n}}class as{constructor(e,n){this.type=10,this.fromLineNumber=e,this.toLineNumber=n}}class wn{constructor(e,n){this.type=11,this.fromLineNumber=e,this.toLineNumber=n}}class rn{constructor(e,n,a,b,M,j){this.type=12,this.source=e,this.range=n,this.selections=a,this.verticalType=b,this.revealHorizontal=M,this.scrollType=j}}class oo{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class Ks{constructor(){this.type=14}}class js{constructor(e){this.type=15,this.ranges=e}}class Us{constructor(){this.type=16}}class dr{constructor(){this.type=17}}class cr extends I.JT{constructor(){super(),this._onEvent=this._register(new s.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let n=0,a=this._outgoingEvents.length;n<a;n++)if(this._outgoingEvents[n].kind===e.kind){this._outgoingEvents[n]=this._outgoingEvents[n].merge(e);return}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let n=0,a=this._eventHandlers.length;n<a;n++)this._eventHandlers[n]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let n=0;n<this._eventHandlers.length;n++)if(this._eventHandlers[n]===e){this._eventHandlers.splice(n,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new pr),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,n=this._collector.viewEvents;this._collector=null;for(const a of e)this._addOutgoingEvent(a);n.length>0&&this._emitMany(n)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const n=this._eventHandlers.slice(0);for(const a of n)a.handleEvents(e)}}}class pr{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class br{constructor(e,n,a,b){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=n,this.contentWidth=a,this.contentHeight=b,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return e.kind!==0?this:new br(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class Ar{constructor(e,n){this.kind=1,this.oldHasFocus=e,this.hasFocus=n}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return e.kind!==1?this:new Ar(this.oldHasFocus,e.hasFocus)}}class wr{constructor(e,n,a,b,M,j,ee,ue){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=n,this._oldScrollHeight=a,this._oldScrollTop=b,this.scrollWidth=M,this.scrollLeft=j,this.scrollHeight=ee,this.scrollTop=ue,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(e){return e.kind!==2?this:new wr(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class Or{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class $r{constructor(){this.kind=4}isNoOp(){return!1}merge(e){return this}}class Kr{constructor(e,n,a,b,M,j,ee){this.kind=6,this.oldSelections=e,this.selections=n,this.oldModelVersionId=a,this.modelVersionId=b,this.source=M,this.reason=j,this.reachedMaxCursorCount=ee}static _selectionsAreEqual(e,n){if(!e&&!n)return!0;if(!e||!n)return!1;const a=e.length,b=n.length;if(a!==b)return!1;for(let M=0;M<a;M++)if(!e[M].equalsSelection(n[M]))return!1;return!0}isNoOp(){return Kr._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return e.kind!==6?this:new Kr(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class aa{constructor(){this.kind=5}isNoOp(){return!1}merge(e){return this}}class ae{constructor(e,n){this.modelVersionId=e.getVersionId(),this.cursorState=n.getCursorStates()}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let n=0,a=this.cursorState.length;n<a;n++)if(!this.cursorState[n].equals(e.cursorState[n]))return!1;return!0}}class xe{constructor(e,n,a){this._model=e,this._autoClosedCharactersDecorations=n,this._autoClosedEnclosingDecorations=a}static getAllAutoClosedCharacters(e){let n=[];for(const a of e)n=n.concat(a.getAutoClosedCharactersRanges());return n}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let n=0;n<this._autoClosedCharactersDecorations.length;n++){const a=this._model.getDecorationRange(this._autoClosedCharactersDecorations[n]);a&&e.push(a)}return e}isValid(e){let n=[];for(let a=0;a<this._autoClosedEnclosingDecorations.length;a++){const b=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[a]);if(b&&(n.push(b),b.startLineNumber!==b.endLineNumber))return!1}n.sort(Oe.e.compareRangesUsingStarts),e.sort(Oe.e.compareRangesUsingStarts);for(let a=0;a<e.length;a++)if(a>=n.length||!n[a].strictContainsRange(e[a]))return!1;return!0}}class Ft extends I.JT{constructor(e,n,a,b){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=n,this._coordinatesConverter=a,this.context=new we.zp(this._model,this._viewModel,this._coordinatesConverter,b),this._cursors=new fe(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,I.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new we.zp(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let n=0;n<this._autoClosedActions.length;n++){const a=this._autoClosedActions[n];a.isValid(e)||(a.dispose(),this._autoClosedActions.splice(n,1),n--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,n,a,b){let M=!1;b!==null&&b.length>Ft.MAX_CURSOR_COUNT&&(b=b.slice(0,Ft.MAX_CURSOR_COUNT),M=!0);const j=new ae(this._model,this);return this._cursors.setStates(b),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,n,a,j,M)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,n,a,b){const M=this._cursors.getViewPositions();if(M.length>1){this._emitCursorRevealRange(e,n,null,this._cursors.getViewSelections(),0,a,b);return}else{const j=M[0],ee=new Oe.e(j.lineNumber,j.column,j.lineNumber,j.column);this._emitCursorRevealRange(e,n,ee,null,0,a,b)}}_revealPrimaryCursor(e,n,a,b,M){const j=this._cursors.getViewPositions();if(j.length>1)this._emitCursorRevealRange(e,n,null,this._cursors.getViewSelections(),a,b,M);else{const ee=j[0],ue=new Oe.e(ee.lineNumber,ee.column,ee.lineNumber,ee.column);this._emitCursorRevealRange(e,n,ue,null,a,b,M)}}_emitCursorRevealRange(e,n,a,b,M,j,ee){e.emitViewEvent(new rn(n,a,b,M,j,ee))}saveState(){let e=[];const n=this._cursors.getSelections();for(let a=0,b=n.length;a<b;a++){const M=n[a];e.push({inSelectionMode:!M.isEmpty(),selectionStart:{lineNumber:M.selectionStartLineNumber,column:M.selectionStartColumn},position:{lineNumber:M.positionLineNumber,column:M.positionColumn}})}return e}restoreState(e,n){let a=[];for(let b=0,M=n.length;b<M;b++){const j=n[b];let ee=1,ue=1;j.position&&j.position.lineNumber&&(ee=j.position.lineNumber),j.position&&j.position.column&&(ue=j.position.column);let ye=ee,Te=ue;j.selectionStart&&j.selectionStart.lineNumber&&(ye=j.selectionStart.lineNumber),j.selectionStart&&j.selectionStart.column&&(Te=j.selectionStart.column),a.push({selectionStartLineNumber:ye,selectionStartColumn:Te,positionLineNumber:ee,positionColumn:ue})}this.setStates(e,"restoreState",0,we.Vi.fromModelSelections(a)),this.revealPrimary(e,"restoreState",!0,1)}onModelContentChanged(e,n){if(n instanceof dt.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=n.versionId,this._isHandling)return;const a=n.containsEvent(1);if(this._prevEditOperationType=0,a)this._cursors.dispose(),this._cursors=new fe(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&n.resultingSelection&&n.resultingSelection.length>0){const b=we.Vi.fromModelSelections(n.resultingSelection);this.setStates(e,"modelChange",n.isUndoing?5:n.isRedoing?6:2,b)&&this._revealPrimaryCursor(e,"modelChange",0,!0,0)}else{const b=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,we.Vi.fromModelSelections(b))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),n=e.viewState.selectionStart.getStartPosition(),a=e.viewState.position;return{isReal:!1,fromViewLineNumber:n.lineNumber,fromViewVisualColumn:we.io.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,n),toViewLineNumber:a.lineNumber,toViewVisualColumn:we.io.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,a)}}getSelections(){return this._cursors.getSelections()}setSelections(e,n,a,b){this.setStates(e,n,b,we.Vi.fromModelSelections(a))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,n){let a=[],b=[];for(let ee=0,ue=e.length;ee<ue;ee++)a.push({range:e[ee],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),b.push({range:n[ee],options:{description:"auto-closed-enclosing",stickiness:1}});const M=this._model.deltaDecorations([],a),j=this._model.deltaDecorations([],b);this._autoClosedActions.push(new xe(this._model,M,j))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const n=jt.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(n){this._interpretCommandResult(n);let a=[],b=[];for(let M=0;M<e.commands.length;M++){const j=e.commands[M];j instanceof Ve.g&&j.enclosingRange&&j.closeCharacterRange&&(a.push(j.closeCharacterRange),b.push(j.enclosingRange))}a.length>0&&this._pushAutoClosedAction(a,b),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,n,a,b,M){const j=new ae(this._model,this);if(j.equals(b))return!1;const ee=this._cursors.getSelections(),ue=this._cursors.getViewSelections();if(e.emitViewEvent(new $t(ue,ee)),!b||b.cursorState.length!==j.cursorState.length||j.cursorState.some((ye,Te)=>!ye.modelState.equals(b.cursorState[Te].modelState))){const ye=b?b.cursorState.map(Ae=>Ae.modelState.selection):null,Te=b?b.modelVersionId:0;e.emitOutgoingEvent(new Kr(ye,ee,Te,j.modelVersionId,n||"keyboard",a,M))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let n=[];for(let a=0,b=e.length;a<b;a++){const M=e[a];if(!M.text||M.text.indexOf(`
`)>=0)return null;const j=M.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!j)return null;const ee=j[1],ue=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(ee);if(!ue||ue.length!==1)return null;const ye=ue[0].open,Te=M.text.length-j[2].length-1,Ae=M.text.lastIndexOf(ye,Te-1);if(Ae===-1)return null;n.push([Ae,Te])}return n}executeEdits(e,n,a,b){let M=null;n==="snippet"&&(M=this._findAutoClosingPairs(a)),M&&(a[0]._isTracked=!0);let j=[],ee=[];const ue=this._model.pushEditOperations(this.getSelections(),a,ye=>{if(M)for(let Ae=0,ot=M.length;Ae<ot;Ae++){const[qe,Et]=M[Ae],Ht=ye[Ae],ri=Ht.range.startLineNumber,_i=Ht.range.startColumn-1+qe,Ii=Ht.range.startColumn-1+Et;j.push(new Oe.e(ri,Ii+1,ri,Ii+2)),ee.push(new Oe.e(ri,_i+1,ri,Ii+2))}const Te=b(ye);return Te&&(this._isHandling=!0),Te});ue&&(this._isHandling=!1,this.setSelections(e,n,ue,0)),j.length>0&&this._pushAutoClosedAction(j,ee)}_executeEdit(e,n,a,b=0){if(this.context.cursorConfig.readOnly)return;const M=new ae(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(j){(0,P.dL)(j)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(n,a,b,M,!1)&&this._revealPrimaryCursor(n,a,0,!0,0)}setIsDoingComposition(e){this._isDoingComposition=e}getAutoClosedCharacters(){return xe.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,n){this._executeEdit(()=>{n==="keyboard"&&(this._executeEditOperation(Ve.u.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},e,n)}type(e,n,a){this._executeEdit(()=>{if(a==="keyboard"){const b=n.length;let M=0;for(;M<b;){const j=je.vH(n,M),ee=n.substr(M,j);this._executeEditOperation(Ve.u.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),ee)),M+=j}}else this._executeEditOperation(Ve.u.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),n))},e,a)}compositionType(e,n,a,b,M,j){if(n.length===0&&a===0&&b===0){if(M!==0){const ee=this.getSelections().map(ue=>{const ye=ue.getPosition();return new x.Y(ye.lineNumber,ye.column+M,ye.lineNumber,ye.column+M)});this.setSelections(e,j,ee,0)}return}this._executeEdit(()=>{this._executeEditOperation(Ve.u.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),n,a,b,M))},e,j)}paste(e,n,a,b,M){this._executeEdit(()=>{this._executeEditOperation(Ve.u.paste(this.context.cursorConfig,this._model,this.getSelections(),n,a,b||[]))},e,M,4)}cut(e,n){this._executeEdit(()=>{this._executeEditOperation(Ee.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,n)}executeCommand(e,n,a){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new we.Tp(0,[n],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,a)}executeCommands(e,n,a){this._executeEdit(()=>{this._executeEditOperation(new we.Tp(0,n,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,a)}}Ft.MAX_CURSOR_COUNT=1e4;class jt{static executeCommands(e,n,a){const b={model:e,selectionsBefore:n,trackedRanges:[],trackedRangesDirection:[]},M=this._innerExecuteCommands(b,a);for(let j=0,ee=b.trackedRanges.length;j<ee;j++)b.model._setTrackedRange(b.trackedRanges[j],null,0);return M}static _innerExecuteCommands(e,n){if(this._arrayIsEmpty(n))return null;const a=this._getEditOperations(e,n);if(a.operations.length===0)return null;const b=a.operations,M=this._getLoserCursorMap(b);if(M.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let j=[];for(let ye=0,Te=b.length;ye<Te;ye++)M.hasOwnProperty(b[ye].identifier.major.toString())||j.push(b[ye]);a.hadTrackedEditOperation&&j.length>0&&(j[0]._isTracked=!0);let ee=e.model.pushEditOperations(e.selectionsBefore,j,ye=>{let Te=[];for(let qe=0;qe<e.selectionsBefore.length;qe++)Te[qe]=[];for(const qe of ye)qe.identifier&&Te[qe.identifier.major].push(qe);const Ae=(qe,Et)=>qe.identifier.minor-Et.identifier.minor;let ot=[];for(let qe=0;qe<e.selectionsBefore.length;qe++)Te[qe].length>0?(Te[qe].sort(Ae),ot[qe]=n[qe].computeCursorState(e.model,{getInverseEditOperations:()=>Te[qe],getTrackedSelection:Et=>{const Ht=parseInt(Et,10),ri=e.model._getTrackedRange(e.trackedRanges[Ht]);return e.trackedRangesDirection[Ht]===0?new x.Y(ri.startLineNumber,ri.startColumn,ri.endLineNumber,ri.endColumn):new x.Y(ri.endLineNumber,ri.endColumn,ri.startLineNumber,ri.startColumn)}})):ot[qe]=e.selectionsBefore[qe];return ot});ee||(ee=e.selectionsBefore);let ue=[];for(let ye in M)M.hasOwnProperty(ye)&&ue.push(parseInt(ye,10));ue.sort((ye,Te)=>Te-ye);for(const ye of ue)ee.splice(ye,1);return ee}static _arrayIsEmpty(e){for(let n=0,a=e.length;n<a;n++)if(e[n])return!1;return!0}static _getEditOperations(e,n){let a=[],b=!1;for(let M=0,j=n.length;M<j;M++){const ee=n[M];if(ee){const ue=this._getEditOperationsFromCommand(e,M,ee);a=a.concat(ue.operations),b=b||ue.hadTrackedEditOperation}}return{operations:a,hadTrackedEditOperation:b}}static _getEditOperationsFromCommand(e,n,a){let b=[],M=0;const j=(Ae,ot,qe=!1)=>{Oe.e.isEmpty(Ae)&&ot===""||b.push({identifier:{major:n,minor:M++},range:Ae,text:ot,forceMoveMarkers:qe,isAutoWhitespaceEdit:a.insertsAutoWhitespace})};let ee=!1;const Te={addEditOperation:j,addTrackedEditOperation:(Ae,ot,qe)=>{ee=!0,j(Ae,ot,qe)},trackSelection:(Ae,ot)=>{const qe=x.Y.liftSelection(Ae);let Et;if(qe.isEmpty())if(typeof ot=="boolean")ot?Et=2:Et=3;else{const _i=e.model.getLineMaxColumn(qe.startLineNumber);qe.startColumn===_i?Et=2:Et=3}else Et=1;const Ht=e.trackedRanges.length,ri=e.model._setTrackedRange(null,qe,Et);return e.trackedRanges[Ht]=ri,e.trackedRangesDirection[Ht]=qe.getDirection(),Ht.toString()}};try{a.getEditOperations(e.model,Te)}catch(Ae){return(0,P.dL)(Ae),{operations:[],hadTrackedEditOperation:!1}}return{operations:b,hadTrackedEditOperation:ee}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((a,b)=>-Oe.e.compareRangesUsingEnds(a.range,b.range));let n={};for(let a=1;a<e.length;a++){const b=e[a-1],M=e[a];if(Oe.e.getStartPosition(b.range).isBefore(Oe.e.getEndPosition(M.range))){let j;b.identifier.major>M.identifier.major?j=b.identifier.major:j=M.identifier.major,n[j.toString()]=!0;for(let ee=0;ee<e.length;ee++)e[ee].identifier.major===j&&(e.splice(ee,1),ee<a&&a--,ee--);a>0&&a--}}return n}}var Ci=c(30653),Ki=c(96518),Ni=c(29102),cn=c(55713),mn=c(76633);class Kn{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const n=this._inserts,a=this._changes,b=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(n,a,b)}}class Nn{constructor(e,n,a,b,M){this.id=e,this.afterLineNumber=n,this.ordinal=a,this.height=b,this.minWidth=M,this.prefixSum=0}}class vn{constructor(e,n,a,b){this._instanceId=je.PJ(++vn.INSTANCE_COUNT),this._pendingChanges=new Kn,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=n,this._paddingTop=a,this._paddingBottom=b}static findInsertionIndex(e,n,a){let b=0,M=e.length;for(;b<M;){const j=b+M>>>1;n===e[j].afterLineNumber?a<e[j].ordinal?M=j:b=j+1:n<e[j].afterLineNumber?M=j:b=j+1}return b}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,n){this._paddingTop=e,this._paddingBottom=n}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let n=!1;try{e({insertWhitespace:(b,M,j,ee)=>{n=!0,b=b|0,M=M|0,j=j|0,ee=ee|0;const ue=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Nn(ue,b,M,j,ee)),ue},changeOneWhitespace:(b,M,j)=>{n=!0,M=M|0,j=j|0,this._pendingChanges.change({id:b,newAfterLineNumber:M,newHeight:j})},removeWhitespace:b=>{n=!0,this._pendingChanges.remove({id:b})}})}finally{this._pendingChanges.commit(this)}return n}_commitPendingChanges(e,n,a){if((e.length>0||a.length>0)&&(this._minWidth=-1),e.length+n.length+a.length<=1){for(const ue of e)this._insertWhitespace(ue);for(const ue of n)this._changeOneWhitespace(ue.id,ue.newAfterLineNumber,ue.newHeight);for(const ue of a){const ye=this._findWhitespaceIndex(ue.id);ye!==-1&&this._removeWhitespace(ye)}return}const b=new Set;for(const ue of a)b.add(ue.id);const M=new Map;for(const ue of n)M.set(ue.id,ue);const j=ue=>{let ye=[];for(const Te of ue)if(!b.has(Te.id)){if(M.has(Te.id)){const Ae=M.get(Te.id);Te.afterLineNumber=Ae.newAfterLineNumber,Te.height=Ae.newHeight}ye.push(Te)}return ye},ee=j(this._arr).concat(j(e));ee.sort((ue,ye)=>ue.afterLineNumber===ye.afterLineNumber?ue.ordinal-ye.ordinal:ue.afterLineNumber-ye.afterLineNumber),this._arr=ee,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const n=vn.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(n,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)}_findWhitespaceIndex(e){const n=this._arr;for(let a=0,b=n.length;a<b;a++)if(n[a].id===e)return a;return-1}_changeOneWhitespace(e,n,a){const b=this._findWhitespaceIndex(e);if(b!==-1&&(this._arr[b].height!==a&&(this._arr[b].height=a,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,b-1)),this._arr[b].afterLineNumber!==n)){const M=this._arr[b];this._removeWhitespace(b),M.afterLineNumber=n,this._insertWhitespace(M)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,n){this._checkPendingChanges(),e=e|0,n=n|0,this._lineCount-=n-e+1;for(let a=0,b=this._arr.length;a<b;a++){const M=this._arr[a].afterLineNumber;e<=M&&M<=n?this._arr[a].afterLineNumber=e-1:M>n&&(this._arr[a].afterLineNumber-=n-e+1)}}onLinesInserted(e,n){this._checkPendingChanges(),e=e|0,n=n|0,this._lineCount+=n-e+1;for(let a=0,b=this._arr.length;a<b;a++){const M=this._arr[a].afterLineNumber;e<=M&&(this._arr[a].afterLineNumber+=n-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let n=Math.max(0,this._prefixSumValidIndex+1);n===0&&(this._arr[0].prefixSum=this._arr[0].height,n++);for(let a=n;a<=e;a++)this._arr[a].prefixSum=this._arr[a-1].prefixSum+this._arr[a].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,n=this.getWhitespacesTotalHeight();return e+n+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const n=this._findLastWhitespaceBeforeLineNumber(e);return n===-1?0:this.getWhitespacesAccumulatedHeight(n)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const n=this._arr;let a=0,b=n.length-1;for(;a<=b;){const j=(b-a|0)/2|0,ee=a+j|0;if(n[ee].afterLineNumber<e){if(ee+1>=n.length||n[ee+1].afterLineNumber>=e)return ee;a=ee+1|0}else b=ee-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const a=this._findLastWhitespaceBeforeLineNumber(e)+1;return a<this._arr.length?a:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){this._checkPendingChanges(),e=e|0;let n;e>1?n=this._lineHeight*(e-1):n=0;const a=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e);return n+a+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let n=0,a=this._arr.length;n<a;n++)e=Math.max(e,this._arr[n].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const n=this.getLinesTotalHeight();return e>n}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const n=this.getLinesTotalHeight();return e>=n-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const n=this._lineCount|0,a=this._lineHeight;let b=1,M=n;for(;b<M;){const j=(b+M)/2|0,ee=this.getVerticalOffsetForLineNumber(j)|0;if(e>=ee+a)b=j+1;else{if(e>=ee)return j;M=j}}return b>n?n:b}getLinesViewportData(e,n){this._checkPendingChanges(),e=e|0,n=n|0;const a=this._lineHeight,b=this.getLineNumberAtOrAfterVerticalOffset(e)|0,M=this.getVerticalOffsetForLineNumber(b)|0;let j=this._lineCount|0,ee=this.getFirstWhitespaceIndexAfterLineNumber(b)|0;const ue=this.getWhitespacesCount()|0;let ye,Te;ee===-1?(ee=ue,Te=j+1,ye=0):(Te=this.getAfterLineNumberForWhitespaceIndex(ee)|0,ye=this.getHeightForWhitespaceIndex(ee)|0);let Ae=M,ot=Ae;const qe=5e5;let Et=0;M>=qe&&(Et=Math.floor(M/qe)*qe,Et=Math.floor(Et/a)*a,ot-=Et);const Ht=[],ri=e+(n-e)/2;let _i=-1;for(let an=b;an<=j;an++){if(_i===-1){const zn=Ae,kn=Ae+a;(zn<=ri&&ri<kn||zn>ri)&&(_i=an)}for(Ae+=a,Ht[an-b]=ot,ot+=a;Te===an;)ot+=ye,Ae+=ye,ee++,ee>=ue?Te=j+1:(Te=this.getAfterLineNumberForWhitespaceIndex(ee)|0,ye=this.getHeightForWhitespaceIndex(ee)|0);if(Ae>=n){j=an;break}}_i===-1&&(_i=j);const Ii=this.getVerticalOffsetForLineNumber(j)|0;let bi=b,fn=j;return bi<fn&&M<e&&bi++,bi<fn&&Ii+a>n&&fn--,{bigNumbersDelta:Et,startLineNumber:b,endLineNumber:j,relativeVerticalOffset:Ht,centeredLineNumber:_i,completelyVisibleStartLineNumber:bi,completelyVisibleEndLineNumber:fn}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const n=this.getAfterLineNumberForWhitespaceIndex(e);let a;n>=1?a=this._lineHeight*n:a=0;let b;return e>0?b=this.getWhitespacesAccumulatedHeight(e-1):b=0,a+b+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let n=0,a=this.getWhitespacesCount()-1;if(a<0)return-1;const b=this.getVerticalOffsetForWhitespaceIndex(a),M=this.getHeightForWhitespaceIndex(a);if(e>=b+M)return-1;for(;n<a;){const j=Math.floor((n+a)/2),ee=this.getVerticalOffsetForWhitespaceIndex(j),ue=this.getHeightForWhitespaceIndex(j);if(e>=ee+ue)n=j+1;else{if(e>=ee)return j;a=j}}return n}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const n=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(n<0||n>=this.getWhitespacesCount())return null;const a=this.getVerticalOffsetForWhitespaceIndex(n);if(a>e)return null;const b=this.getHeightForWhitespaceIndex(n),M=this.getIdForWhitespaceIndex(n),j=this.getAfterLineNumberForWhitespaceIndex(n);return{id:M,afterLineNumber:j,verticalOffset:a,height:b}}getWhitespaceViewportData(e,n){this._checkPendingChanges(),e=e|0,n=n|0;const a=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),b=this.getWhitespacesCount()-1;if(a<0)return[];let M=[];for(let j=a;j<=b;j++){const ee=this.getVerticalOffsetForWhitespaceIndex(j),ue=this.getHeightForWhitespaceIndex(j);if(ee>=n)break;M.push({id:this.getIdForWhitespaceIndex(j),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(j),verticalOffset:ee,height:ue})}return M}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}}vn.INSTANCE_COUNT=0;const _s=125;class pn{constructor(e,n,a,b){e=e|0,n=n|0,a=a|0,b=b|0,e<0&&(e=0),n<0&&(n=0),a<0&&(a=0),b<0&&(b=0),this.width=e,this.contentWidth=n,this.scrollWidth=Math.max(e,n),this.height=a,this.contentHeight=b,this.scrollHeight=Math.max(a,b)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class cs extends I.JT{constructor(e,n){super(),this._onDidContentSizeChange=this._register(new s.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new pn(0,0,0,0),this._scrollable=this._register(new mn.Rm(e,n)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const n=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const a=n.contentWidth!==e.contentWidth,b=n.contentHeight!==e.contentHeight;(a||b)&&this._onDidContentSizeChange.fire(new br(n.contentWidth,n.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class Qn extends I.JT{constructor(e,n,a){super(),this._configuration=e;const b=this._configuration.options,M=b.get(129),j=b.get(74);this._linesLayout=new vn(n,b.get(58),j.top,j.bottom),this._scrollable=this._register(new cs(0,a)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new pn(M.contentWidth,0,M.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?_s:0)}onConfigurationChanged(e){const n=this._configuration.options;if(e.hasChanged(58)&&this._linesLayout.setLineHeight(n.get(58)),e.hasChanged(74)){const a=n.get(74);this._linesLayout.setPadding(a.top,a.bottom)}if(e.hasChanged(129)){const a=n.get(129),b=a.contentWidth,M=a.height,j=this._scrollable.getScrollDimensions(),ee=j.contentWidth;this._scrollable.setScrollDimensions(new pn(b,j.contentWidth,M,this._getContentHeight(b,M,ee)))}else this._updateHeight();e.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,n){this._linesLayout.onLinesDeleted(e,n)}onLinesInserted(e,n){this._linesLayout.onLinesInserted(e,n)}_getHorizontalScrollbarHeight(e,n){const b=this._configuration.options.get(91);return b.horizontal===2||e>=n?0:b.horizontalScrollbarSize}_getContentHeight(e,n,a){const b=this._configuration.options;let M=this._linesLayout.getLinesTotalHeight();return b.get(93)?M+=Math.max(0,n-b.get(58)-b.get(74).bottom):M+=this._getHorizontalScrollbarHeight(e,a),M}_updateHeight(){const e=this._scrollable.getScrollDimensions(),n=e.width,a=e.height,b=e.contentWidth;this._scrollable.setScrollDimensions(new pn(n,e.contentWidth,a,this._getContentHeight(n,a,b)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),n=this._scrollable.getCurrentScrollPosition();return new Bi.l_(n.scrollTop,n.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),n=this._scrollable.getFutureScrollPosition();return new Bi.l_(n.scrollTop,n.scrollLeft,e.width,e.height)}_computeContentWidth(e){const n=this._configuration.options,a=n.get(130),b=n.get(43);if(a.isViewportWrapping){const M=n.get(129),j=n.get(64);return e>M.contentWidth+b.typicalHalfwidthCharacterWidth&&j.enabled&&j.side==="right"?e+M.verticalScrollbarWidth:e}else{const M=n.get(92)*b.typicalHalfwidthCharacterWidth,j=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+M,j)}}setMaxLineWidth(e){const n=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new pn(n.width,this._computeContentWidth(e),n.height,n.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition();let n=e.scrollTop,a=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(n),b=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(a);return{scrollTop:n,scrollTopWithoutViewZones:n-b,scrollLeft:e.scrollLeft}}changeWhitespace(e){const n=this._linesLayout.changeWhitespace(e);return n&&this.onHeightMaybeChanged(),n}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const n=this._scrollable.getScrollDimensions();return e+n.height>n.scrollHeight&&(e=n.scrollHeight-n.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+n.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,n){n===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,n){const a=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:a.scrollLeft+e,scrollTop:a.scrollTop+n})}}var Rn=c(78411),Ss=c(3544);class Gs{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,n){return this._lines.validateViewPosition(e.lineNumber,e.column,n)}validateViewRange(e,n){return this._lines.validateViewRange(e,n)}convertModelPositionToViewPosition(e,n){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,n)}convertModelRangeToViewRange(e,n){return this._lines.convertModelRangeToViewRange(e,n)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,n){return this._lines.getViewLineNumberOfModelPosition(e,n)}}class As{constructor(e){this._counts=e,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,n=this._counts.length;e<n;e++){const a=this._counts[e],b=e>0?this._modelToView[e-1]:0;this._modelToView[e]=b+a;for(let M=0;M<a;M++)this._viewToModel[b+M]=e}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(e,n){this._counts[e]!==n&&(this._counts[e]=n,this._invalidate(e))}removeValues(e,n){this._counts.splice(e,n),this._invalidate(e)}insertValues(e,n){this._counts=Hs.Zv(this._counts,e,n),this._invalidate(e)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(e){return this._ensureValid(),this._modelToView[e]}getIndexOf(e){this._ensureValid();const n=this._viewToModel[e],a=n>0?this._modelToView[n-1]:0;return new Ss.T(n,e-a)}}class xs{constructor(e,n,a,b,M,j,ee,ue,ye){this._editorId=e,this.model=n,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=a,this._monospaceLineBreaksComputerFactory=b,this.fontInfo=M,this.tabSize=j,this.wrappingStrategy=ee,this.wrappingColumn=ue,this.wrappingIndent=ye,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new Gs(this)}_constructLines(e,n){this.lines=[],e&&(this.hiddenAreasIds=[]);const a=this.model.getLinesContent(),b=this.model.getInjectedTextDecorations(this._editorId),M=a.length,j=this.createLineBreaksComputer(),ee=new Hs.H9(dt.gk.fromDecorations(b));for(let Ht=0;Ht<M;Ht++){const ri=ee.takeWhile(_i=>_i.lineNumber===Ht+1);j.addRequest(a[Ht],ri,n?n[Ht]:null)}const ue=j.finalize();let ye=[],Te=this.hiddenAreasIds.map(Ht=>this.model.getDecorationRange(Ht)).sort(Oe.e.compareRangesUsingStarts),Ae=1,ot=0,qe=-1,Et=qe+1<Te.length?ot+1:M+2;for(let Ht=0;Ht<M;Ht++){let ri=Ht+1;ri===Et&&(qe++,Ae=Te[qe].startLineNumber,ot=Te[qe].endLineNumber,Et=qe+1<Te.length?ot+1:M+2);let _i=ri>=Ae&&ri<=ot,Ii=Fn(ue[Ht],!_i);ye[Ht]=Ii.getViewLineCount(),this.lines[Ht]=Ii}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new As(ye)}getHiddenAreas(){return this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e))}_reduceRanges(e){if(e.length===0)return[];let n=e.map(j=>this.model.validateRange(j)).sort(Oe.e.compareRangesUsingStarts),a=[],b=n[0].startLineNumber,M=n[0].endLineNumber;for(let j=1,ee=n.length;j<ee;j++){let ue=n[j];ue.startLineNumber>M+1?(a.push(new Oe.e(b,1,M,1)),b=ue.startLineNumber,M=ue.endLineNumber):ue.endLineNumber>M&&(M=ue.endLineNumber)}return a.push(new Oe.e(b,1,M,1)),a}setHiddenAreas(e){let n=this._reduceRanges(e),a=this.hiddenAreasIds.map(Ae=>this.model.getDecorationRange(Ae)).sort(Oe.e.compareRangesUsingStarts);if(n.length===a.length){let Ae=!1;for(let ot=0;ot<n.length;ot++)if(!n[ot].equalsRange(a[ot])){Ae=!0;break}if(!Ae)return!1}let b=[];for(const Ae of n)b.push({range:Ae,options:co.qx.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,b);let M=n,j=1,ee=0,ue=-1,ye=ue+1<M.length?ee+1:this.lines.length+2,Te=!1;for(let Ae=0;Ae<this.lines.length;Ae++){let ot=Ae+1;ot===ye&&(ue++,j=M[ue].startLineNumber,ee=M[ue].endLineNumber,ye=ue+1<M.length?ee+1:this.lines.length+2);let qe=!1;if(ot>=j&&ot<=ee?this.lines[Ae].isVisible()&&(this.lines[Ae]=this.lines[Ae].setVisible(!1),qe=!0):(Te=!0,this.lines[Ae].isVisible()||(this.lines[Ae]=this.lines[Ae].setVisible(!0),qe=!0)),qe){let Et=this.lines[Ae].getViewLineCount();this.prefixSumComputer.changeValue(Ae,Et)}}return Te||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,n){return e<1||e>this.lines.length?!1:this.lines[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.lines.length?1:this.lines[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,n,a,b){const M=this.fontInfo.equals(e),j=this.wrappingStrategy===n,ee=this.wrappingColumn===a,ue=this.wrappingIndent===b;if(M&&j&&ee&&ue)return!1;const ye=M&&j&&!ee&&ue;this.fontInfo=e,this.wrappingStrategy=n,this.wrappingColumn=a,this.wrappingIndent=b;let Te=null;if(ye){Te=[];for(let Ae=0,ot=this.lines.length;Ae<ot;Ae++)Te[Ae]=this.lines[Ae].getLineBreakData()}return this._constructLines(!1,Te),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,n,a){if(!e||e<=this._validModelVersionId)return null;let b=n===1?1:this.prefixSumComputer.getAccumulatedValue(n-2)+1,M=this.prefixSumComputer.getAccumulatedValue(a-1);return this.lines.splice(n-1,a-n+1),this.prefixSumComputer.removeValues(n-1,a-n+1),new as(b,M)}onModelLinesInserted(e,n,a,b){if(!e||e<=this._validModelVersionId)return null;const M=n>2&&!this.lines[n-2].isVisible();let j=n===1?1:this.prefixSumComputer.getAccumulatedValue(n-2)+1,ee=0,ue=[],ye=[];for(let Te=0,Ae=b.length;Te<Ae;Te++){let ot=Fn(b[Te],!M);ue.push(ot);let qe=ot.getViewLineCount();ee+=qe,ye[Te]=qe}return this.lines=this.lines.slice(0,n-1).concat(ue).concat(this.lines.slice(n-1)),this.prefixSumComputer.insertValues(n-1,ye),new wn(j,j+ee-1)}onModelLineChanged(e,n,a){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];let b=n-1,M=this.lines[b].getViewLineCount(),j=this.lines[b].isVisible(),ee=Fn(a,j);this.lines[b]=ee;let ue=this.lines[b].getViewLineCount(),ye=!1,Te=0,Ae=-1,ot=0,qe=-1,Et=0,Ht=-1;M>ue?(Te=n===1?1:this.prefixSumComputer.getAccumulatedValue(n-2)+1,Ae=Te+ue-1,Et=Ae+1,Ht=Et+(M-ue)-1,ye=!0):M<ue?(Te=n===1?1:this.prefixSumComputer.getAccumulatedValue(n-2)+1,Ae=Te+M-1,ot=Ae+1,qe=ot+(ue-M)-1,ye=!0):(Te=n===1?1:this.prefixSumComputer.getAccumulatedValue(n-2)+1,Ae=Te+ue-1),this.prefixSumComputer.changeValue(b,ue);const ri=Te<=Ae?new yn(Te,Ae):null,_i=ot<=qe?new wn(ot,qe):null,Ii=Et<=Ht?new as(Et,Ht):null;return[ye,ri,_i,Ii]}acceptVersionId(e){this._validModelVersionId=e,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(e){if(e<1)return 1;const n=this.getViewLineCount();return e>n?n:e|0}getActiveIndentGuide(e,n,a){e=this._toValidViewLineNumber(e),n=this._toValidViewLineNumber(n),a=this._toValidViewLineNumber(a);const b=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),M=this.convertViewPositionToModelPosition(n,this.getViewLineMinColumn(n)),j=this.convertViewPositionToModelPosition(a,this.getViewLineMinColumn(a)),ee=this.model.getActiveIndentGuide(b.lineNumber,M.lineNumber,j.lineNumber),ue=this.convertModelPositionToViewPosition(ee.startLineNumber,1),ye=this.convertModelPositionToViewPosition(ee.endLineNumber,this.model.getLineMaxColumn(ee.endLineNumber));return{startLineNumber:ue.lineNumber,endLineNumber:ye.lineNumber,indent:ee.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),a=n.index,b=n.remainder;return new ls(a+1,b)}getMinColumnOfViewLine(e){return this.lines[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const n=this.lines[e.modelLineNumber-1],a=n.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),b=n.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,a);return new Ne.L(e.modelLineNumber,b)}getModelEndPositionOfViewLine(e){const n=this.lines[e.modelLineNumber-1],a=n.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),b=n.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,a);return new Ne.L(e.modelLineNumber,b)}getViewLineInfosGroupedByModelRanges(e,n){const a=this.getViewLineInfo(e),b=this.getViewLineInfo(n),M=new Array;let j=this.getModelStartPositionOfViewLine(a),ee=new Array;for(let ue=a.modelLineNumber;ue<=b.modelLineNumber;ue++){const ye=this.lines[ue-1];if(ye.isVisible()){let Te=ue===a.modelLineNumber?a.modelLineWrappedLineIdx:0,Ae=ue===b.modelLineNumber?b.modelLineWrappedLineIdx+1:ye.getViewLineCount();for(let ot=Te;ot<Ae;ot++)ee.push(new ls(ue,ot))}if(!ye.isVisible()&&j){const Te=new Ne.L(ue-1,this.model.getLineMaxColumn(ue-1)+1),Ae=Oe.e.fromPositions(j,Te);M.push(new Xn(Ae,ee)),ee=[],j=null}else ye.isVisible()&&!j&&(j=new Ne.L(ue,1))}if(j){const ue=Oe.e.fromPositions(j,this.getModelEndPositionOfViewLine(b));M.push(new Xn(ue,ee))}return M}getViewLinesBracketGuides(e,n,a,b){const M=a?this.convertViewPositionToModelPosition(a.lineNumber,a.column):null,j=[];for(const ee of this.getViewLineInfosGroupedByModelRanges(e,n)){const ue=ee.modelRange.startLineNumber,ye=this.model.getLinesBracketGuides(ue,ee.modelRange.endLineNumber,M,b);for(const Te of ee.viewLines)if(Te.isWrappedLineContinuation&&this.getMinColumnOfViewLine(Te)===1)j.push([]);else{let Ae=ye[Te.modelLineNumber-ue];Ae=Ae.map(ot=>ot.horizontalLine?new rs.UO(ot.visibleColumn,ot.className,new rs.vW(ot.horizontalLine.top,this.convertModelPositionToViewPosition(Te.modelLineNumber,ot.horizontalLine.endColumn).column)):ot),j.push(Ae)}}return j}getViewLinesIndentGuides(e,n){e=this._toValidViewLineNumber(e),n=this._toValidViewLineNumber(n);const a=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),b=this.convertViewPositionToModelPosition(n,this.getViewLineMaxColumn(n));let M=[],j=[],ee=[];const ue=a.lineNumber-1,ye=b.lineNumber-1;let Te=null;for(let Et=ue;Et<=ye;Et++){const Ht=this.lines[Et];if(Ht.isVisible()){let ri=Ht.getViewLineNumberOfModelPosition(0,Et===ue?a.column:1),_i=Ht.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(Et+1)),Ii=_i-ri+1,bi=0;Ii>1&&Ht.getViewLineMinColumn(this.model,Et+1,_i)===1&&(bi=ri===0?1:2),j.push(Ii),ee.push(bi),Te===null&&(Te=new Ne.L(Et+1,0))}else Te!==null&&(M=M.concat(this.model.getLinesIndentGuides(Te.lineNumber,Et)),Te=null)}Te!==null&&(M=M.concat(this.model.getLinesIndentGuides(Te.lineNumber,b.lineNumber)),Te=null);const Ae=n-e+1;let ot=new Array(Ae),qe=0;for(let Et=0,Ht=M.length;Et<Ht;Et++){let ri=M[Et],_i=Math.min(Ae-qe,j[Et]),Ii=ee[Et],bi;Ii===2?bi=0:Ii===1?bi=1:bi=_i;for(let fn=0;fn<_i;fn++)fn===bi&&(ri=0),ot[qe++]=ri}return ot}getViewLineContent(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),a=n.index,b=n.remainder;return this.lines[a].getViewLineContent(this.model,a+1,b)}getViewLineLength(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),a=n.index,b=n.remainder;return this.lines[a].getViewLineLength(this.model,a+1,b)}getViewLineMinColumn(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),a=n.index,b=n.remainder;return this.lines[a].getViewLineMinColumn(this.model,a+1,b)}getViewLineMaxColumn(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),a=n.index,b=n.remainder;return this.lines[a].getViewLineMaxColumn(this.model,a+1,b)}getViewLineData(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),a=n.index,b=n.remainder;return this.lines[a].getViewLineData(this.model,a+1,b)}getViewLinesData(e,n,a){e=this._toValidViewLineNumber(e),n=this._toValidViewLineNumber(n);let b=this.prefixSumComputer.getIndexOf(e-1),M=e,j=b.index,ee=b.remainder,ue=[];for(let ye=j,Te=this.model.getLineCount();ye<Te;ye++){let Ae=this.lines[ye];if(!Ae.isVisible())continue;let ot=ye===j?ee:0,qe=Ae.getViewLineCount()-ot,Et=!1;M+qe>n&&(Et=!0,qe=n-M+1);let Ht=ot+qe;if(Ae.getViewLinesData(this.model,ye+1,ot,Ht,M-e,a,ue),M+=qe,Et)break}return ue}validateViewPosition(e,n,a){e=this._toValidViewLineNumber(e);let b=this.prefixSumComputer.getIndexOf(e-1),M=b.index,j=b.remainder,ee=this.lines[M],ue=ee.getViewLineMinColumn(this.model,M+1,j),ye=ee.getViewLineMaxColumn(this.model,M+1,j);n<ue&&(n=ue),n>ye&&(n=ye);let Te=ee.getModelColumnOfViewPosition(j,n);return this.model.validatePosition(new Ne.L(M+1,Te)).equals(a)?new Ne.L(e,n):this.convertModelPositionToViewPosition(a.lineNumber,a.column)}validateViewRange(e,n){const a=this.validateViewPosition(e.startLineNumber,e.startColumn,n.getStartPosition()),b=this.validateViewPosition(e.endLineNumber,e.endColumn,n.getEndPosition());return new Oe.e(a.lineNumber,a.column,b.lineNumber,b.column)}convertViewPositionToModelPosition(e,n){e=this._toValidViewLineNumber(e);let a=this.prefixSumComputer.getIndexOf(e-1),b=a.index,M=a.remainder,j=this.lines[b].getModelColumnOfViewPosition(M,n);return this.model.validatePosition(new Ne.L(b+1,j))}convertViewRangeToModelRange(e){const n=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),a=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new Oe.e(n.lineNumber,n.column,a.lineNumber,a.column)}convertModelPositionToViewPosition(e,n,a=2){const b=this.model.validatePosition(new Ne.L(e,n)),M=b.lineNumber,j=b.column;let ee=M-1,ue=!1;for(;ee>0&&!this.lines[ee].isVisible();)ee--,ue=!0;if(ee===0&&!this.lines[ee].isVisible())return new Ne.L(1,1);const ye=1+(ee===0?0:this.prefixSumComputer.getAccumulatedValue(ee-1));let Te;return ue?Te=this.lines[ee].getViewPositionOfModelPosition(ye,this.model.getLineMaxColumn(ee+1),a):Te=this.lines[M-1].getViewPositionOfModelPosition(ye,j,a),Te}convertModelRangeToViewRange(e,n=0){if(e.isEmpty()){const a=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,n);return Oe.e.fromPositions(a)}else{const a=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),b=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new Oe.e(a.lineNumber,a.column,b.lineNumber,b.column)}}getViewLineNumberOfModelPosition(e,n){let a=e-1;if(this.lines[a].isVisible()){const M=1+(a===0?0:this.prefixSumComputer.getAccumulatedValue(a-1));return this.lines[a].getViewLineNumberOfModelPosition(M,n)}for(;a>0&&!this.lines[a].isVisible();)a--;if(a===0&&!this.lines[a].isVisible())return 1;const b=1+(a===0?0:this.prefixSumComputer.getAccumulatedValue(a-1));return this.lines[a].getViewLineNumberOfModelPosition(b,this.model.getLineMaxColumn(a+1))}getDecorationsInRange(e,n,a){const b=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),M=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(M.lineNumber-b.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new Oe.e(b.lineNumber,1,M.lineNumber,M.column),n,a);let j=[];const ee=b.lineNumber-1,ue=M.lineNumber-1;let ye=null;for(let qe=ee;qe<=ue;qe++)if(this.lines[qe].isVisible())ye===null&&(ye=new Ne.L(qe+1,qe===ee?b.column:1));else if(ye!==null){const Ht=this.model.getLineMaxColumn(qe);j=j.concat(this.model.getDecorationsInRange(new Oe.e(ye.lineNumber,ye.column,qe,Ht),n,a)),ye=null}ye!==null&&(j=j.concat(this.model.getDecorationsInRange(new Oe.e(ye.lineNumber,ye.column,M.lineNumber,M.column),n,a)),ye=null),j.sort((qe,Et)=>{const Ht=Oe.e.compareRangesUsingStarts(qe.range,Et.range);return Ht===0?qe.id<Et.id?-1:qe.id>Et.id?1:0:Ht});let Te=[],Ae=0,ot=null;for(const qe of j){const Et=qe.id;ot!==Et&&(ot=Et,Te[Ae++]=qe)}return Te}getInjectedTextAt(e){const n=this._toValidViewLineNumber(e.lineNumber),a=this.prefixSumComputer.getIndexOf(n-1),b=a.index,M=a.remainder;return this.lines[b].getInjectedTextAt(M,e.column)}normalizePosition(e,n){const a=this._toValidViewLineNumber(e.lineNumber),b=this.prefixSumComputer.getIndexOf(a-1),M=b.index,j=b.remainder;return this.lines[M].normalizePosition(this.model,M+1,j,e,n)}getLineIndentColumn(e){const n=this._toValidViewLineNumber(e),a=this.prefixSumComputer.getIndexOf(n-1),b=a.index;return a.remainder===0?this.model.getLineIndentColumn(b+1):0}}class ls{constructor(e,n){this.modelLineNumber=e,this.modelLineWrappedLineIdx=n}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class Xn{constructor(e,n){this.modelRange=e,this.viewLines=n}}class Vs{constructor(){}isVisible(){return!0}setVisible(e){return e?this:jn.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,n,a){return e.getLineContent(n)}getViewLineLength(e,n,a){return e.getLineLength(n)}getViewLineMinColumn(e,n,a){return e.getLineMinColumn(n)}getViewLineMaxColumn(e,n,a){return e.getLineMaxColumn(n)}getViewLineData(e,n,a){let b=e.getLineTokens(n),M=b.getLineContent();return new Bi.IP(M,!1,1,M.length+1,0,b.inflate(),null)}getViewLinesData(e,n,a,b,M,j,ee){if(!j[M]){ee[M]=null;return}ee[M]=this.getViewLineData(e,n,0)}getModelColumnOfViewPosition(e,n){return n}getViewPositionOfModelPosition(e,n){return new Ne.L(e,n)}getViewLineNumberOfModelPosition(e,n){return e}normalizePosition(e,n,a,b,M){return b}getInjectedTextAt(e,n){return null}}Vs.INSTANCE=new Vs;class jn{constructor(){}isVisible(){return!1}setVisible(e){return e?Vs.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,n,a){throw new Error("Not supported")}getViewLineLength(e,n,a){throw new Error("Not supported")}getViewLineMinColumn(e,n,a){throw new Error("Not supported")}getViewLineMaxColumn(e,n,a){throw new Error("Not supported")}getViewLineData(e,n,a){throw new Error("Not supported")}getViewLinesData(e,n,a,b,M,j,ee){throw new Error("Not supported")}getModelColumnOfViewPosition(e,n){throw new Error("Not supported")}getViewPositionOfModelPosition(e,n){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,n){throw new Error("Not supported")}normalizePosition(e,n,a,b,M){throw new Error("Not supported")}getInjectedTextAt(e,n){throw new Error("Not supported")}}jn.INSTANCE=new jn;class ys{constructor(e,n){this._lineBreakData=e,this._isVisible=n}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(e){return this._lineBreakData.getInputOffsetOfOutputPosition(e,0)}getInputEndOffsetOfOutputLineIndex(e,n,a){return a+1===this._lineBreakData.breakOffsets.length?e.getLineMaxColumn(n)-1:this._lineBreakData.getInputOffsetOfOutputPosition(a+1,0)}getViewLineContent(e,n,a){if(!this._isVisible)throw new Error("Not supported");const b=a>0?this._lineBreakData.breakOffsets[a-1]:0,M=a<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[a]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let j;if(this._lineBreakData.injectionOffsets!==null){const ee=this._lineBreakData.injectionOffsets.map((ue,ye)=>new dt.gk(0,0,ue+1,this._lineBreakData.injectionOptions[ye],0));j=dt.gk.applyInjectedText(e.getLineContent(n),ee).substring(b,M)}else j=e.getValueInRange({startLineNumber:n,startColumn:b+1,endLineNumber:n,endColumn:M+1});return a>0&&(j=Ns(this._lineBreakData.wrappedTextIndentLength)+j),j}getViewLineLength(e,n,a){if(!this._isVisible)throw new Error("Not supported");const b=a>0?this._lineBreakData.breakOffsets[a-1]:0;let j=(a<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[a]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1])-b;return a>0&&(j=this._lineBreakData.wrappedTextIndentLength+j),j}getViewLineMinColumn(e,n,a){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(a)}_getViewLineMinColumn(e){return e>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(e,n,a){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(e,n,a)+1}getViewLineData(e,n,a){if(!this._isVisible)throw new Error("Not supported");const b=this._lineBreakData,M=a>0?b.wrappedTextIndentLength:0,j=b.injectionOffsets,ee=b.injectionOptions;let ue,ye,Te;if(j){const Ht=e.getLineTokens(n).withInserted(j.map((bi,fn)=>({offset:bi,text:ee[fn].content,tokenMetadata:Rn.A.defaultTokenMetadata}))),ri=a>0?b.breakOffsets[a-1]:0,_i=b.breakOffsets[a];ue=Ht.getLineContent().substring(ri,_i),ye=Ht.sliceAndInflate(ri,_i,M),Te=new Array;let Ii=0;for(let bi=0;bi<j.length;bi++){const fn=ee[bi].content.length,an=j[bi]+Ii,zn=j[bi]+Ii+fn;if(an>_i)break;if(ri<zn){const kn=ee[bi];if(kn.inlineClassName){const sn=a>0?b.wrappedTextIndentLength:0,_n=sn+Math.max(an-ri,0),In=sn+Math.min(zn-ri,_i);_n!==In&&Te.push(new Bi.Wx(_n,In,kn.inlineClassName,kn.inlineClassNameAffectsLetterSpacing))}}Ii+=fn}}else{const Ht=this.getInputStartOffsetOfOutputLineIndex(a),ri=this.getInputEndOffsetOfOutputLineIndex(e,n,a),_i=e.getLineTokens(n);ue=e.getValueInRange({startLineNumber:n,startColumn:Ht+1,endLineNumber:n,endColumn:ri+1}),ye=_i.sliceAndInflate(Ht,ri,M),Te=null}a>0&&(ue=Ns(b.wrappedTextIndentLength)+ue);const Ae=a>0?b.wrappedTextIndentLength+1:1,ot=ue.length+1,qe=a+1<this.getViewLineCount(),Et=a===0?0:b.breakOffsetsVisibleColumn[a-1];return new Bi.IP(ue,qe,Ae,ot,Et,ye,Te)}getViewLinesData(e,n,a,b,M,j,ee){if(!this._isVisible)throw new Error("Not supported");for(let ue=a;ue<b;ue++){let ye=M+ue-a;if(!j[ye]){ee[ye]=null;continue}ee[ye]=this.getViewLineData(e,n,ue)}}getModelColumnOfViewPosition(e,n){if(!this._isVisible)throw new Error("Not supported");let a=n-1;return e>0&&(a<this._lineBreakData.wrappedTextIndentLength?a=0:a-=this._lineBreakData.wrappedTextIndentLength),this._lineBreakData.getInputOffsetOfOutputPosition(e,a)+1}getViewPositionOfModelPosition(e,n,a=2){if(!this._isVisible)throw new Error("Not supported");let b=this._lineBreakData.getOutputPositionOfInputOffset(n-1,a),M=b.outputLineIndex,j=b.outputOffset+1;return M>0&&(j+=this._lineBreakData.wrappedTextIndentLength),new Ne.L(e+M,j)}getViewLineNumberOfModelPosition(e,n){if(!this._isVisible)throw new Error("Not supported");const a=this._lineBreakData.getOutputPositionOfInputOffset(n-1);return e+a.outputLineIndex}normalizePosition(e,n,a,b,M){if(this._lineBreakData.injectionOffsets!==null){const j=b.lineNumber-a,ee=this._lineBreakData.outputPositionToOffsetInUnwrappedLine(a,b.column-1),ue=this._lineBreakData.normalizeOffsetAroundInjections(ee,M);if(ue!==ee)return this._lineBreakData.getOutputPositionOfOffsetInUnwrappedLine(ue,M).toPosition(j,this._lineBreakData.wrappedTextIndentLength)}if(M===0){if(a>0&&b.column===this._getViewLineMinColumn(a))return new Ne.L(b.lineNumber-1,this.getViewLineMaxColumn(e,n,a-1))}else if(M===1){const j=this.getViewLineCount()-1;if(a<j&&b.column===this.getViewLineMaxColumn(e,n,a))return new Ne.L(b.lineNumber+1,this._getViewLineMinColumn(a+1))}return b}getInjectedTextAt(e,n){return this._lineBreakData.getInjectedText(e,n-1)}}let Ps=[""];function Ns(pt){if(pt>=Ps.length)for(let e=1;e<=pt;e++)Ps[e]=Wi(e);return Ps[pt]}function Wi(pt){return new Array(pt+1).join(" ")}function Fn(pt,e){return pt===null?e?Vs.INSTANCE:jn.INSTANCE:new ys(pt,e)}class Fs{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,n){return this._validPosition(n)}validateViewRange(e,n){return this._validRange(n)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const n=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>n)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,n){return e}}class Os{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new Fs(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,n,a,b){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(n,a,b)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,n,a){return new as(n,a)}onModelLinesInserted(e,n,a,b){return new wn(n,a)}onModelLineChanged(e,n,a){return[!1,new yn(n,n),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,n,a){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,n,a){return new Array(n-e+1).fill([])}getViewLinesIndentGuides(e,n){const a=n-e+1;let b=new Array(a);for(let M=0;M<a;M++)b[M]=0;return b}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let n=this.model.getLineTokens(e),a=n.getLineContent();return new Bi.IP(a,!1,1,a.length+1,0,n.inflate(),null)}getViewLinesData(e,n,a){const b=this.model.getLineCount();e=Math.min(Math.max(1,e),b),n=Math.min(Math.max(1,n),b);let M=[];for(let j=e;j<=n;j++){let ee=j-e;a[ee]||(M[ee]=null),M[ee]=this.getViewLineData(j)}return M}getDecorationsInRange(e,n,a){return this.model.getDecorationsInRange(e,n,a)}normalizePosition(e,n){return this.model.normalizePosition(e,n)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class fo{constructor(e,n,a,b,M){this.editorId=e,this.model=n,this.configuration=a,this._linesCollection=b,this._coordinatesConverter=M,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const n=e.id;let a=this._decorationsCache[n];if(!a){const b=e.range,M=e.options;let j;if(M.isWholeLine){const ee=this._coordinatesConverter.convertModelPositionToViewPosition(new Ne.L(b.startLineNumber,1),0),ue=this._coordinatesConverter.convertModelPositionToViewPosition(new Ne.L(b.endLineNumber,this.model.getLineMaxColumn(b.endLineNumber)),1);j=new Oe.e(ee.lineNumber,ee.column,ue.lineNumber,ue.column)}else j=this._coordinatesConverter.convertModelRangeToViewRange(b,1);a=new Bi.$l(j,M),this._decorationsCache[n]=a}return a}getDecorationsViewportData(e){let n=this._cachedModelDecorationsResolver!==null;return n=n&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),n||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const n=this._linesCollection.getDecorationsInRange(e,this.editorId,(0,nt.$J)(this.configuration.options)),a=e.startLineNumber,b=e.endLineNumber;let M=[],j=0,ee=[];for(let ue=a;ue<=b;ue++)ee[ue-a]=[];for(let ue=0,ye=n.length;ue<ye;ue++){let Te=n[ue],Ae=Te.options,ot=this._getOrCreateViewModelDecoration(Te),qe=ot.range;if(M[j++]=ot,Ae.inlineClassName){let Et=new Bi.$t(qe,Ae.inlineClassName,Ae.inlineClassNameAffectsLetterSpacing?3:0),Ht=Math.max(a,qe.startLineNumber),ri=Math.min(b,qe.endLineNumber);for(let _i=Ht;_i<=ri;_i++)ee[_i-a].push(Et)}if(Ae.beforeContentClassName&&a<=qe.startLineNumber&&qe.startLineNumber<=b){let Et=new Bi.$t(new Oe.e(qe.startLineNumber,qe.startColumn,qe.startLineNumber,qe.startColumn),Ae.beforeContentClassName,1);ee[qe.startLineNumber-a].push(Et)}if(Ae.afterContentClassName&&a<=qe.endLineNumber&&qe.endLineNumber<=b){let Et=new Bi.$t(new Oe.e(qe.endLineNumber,qe.endColumn,qe.endLineNumber,qe.endColumn),Ae.afterContentClassName,2);ee[qe.endLineNumber-a].push(Et)}}return{decorations:M,inlineDecorations:ee}}}var yo=c(71144);const No=!0;class Js extends I.JT{constructor(e,n,a,b,M,j){if(super(),this._editorId=e,this._configuration=n,this.model=a,this._eventDispatcher=new cr,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new we.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new L.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new L.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,No&&this.model.isTooLargeForTokenization())this._lines=new Os(this.model);else{const ee=this._configuration.options,ue=ee.get(43),ye=ee.get(123),Te=ee.get(130),Ae=ee.get(122);this._lines=new xs(this._editorId,this.model,b,M,ue,this.model.getOptions().tabSize,ye,Te.wrappingColumn,Ae)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Ft(a,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new Qn(this._configuration,this.getLineCount(),j)),this._register(this.viewLayout.onDidScroll(ee=>{ee.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new oo(ee)),this._eventDispatcher.emitOutgoingEvent(new wr(ee.oldScrollWidth,ee.oldScrollLeft,ee.oldScrollHeight,ee.oldScrollTop,ee.scrollWidth,ee.scrollLeft,ee.scrollHeight,ee.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(ee=>{this._eventDispatcher.emitOutgoingEvent(ee)})),this._decorations=new fo(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(ee=>{try{const ue=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(ue,ee)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(un.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new Us)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),n=new Oe.e(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),a=this._toModelVisibleRanges(n);for(const b of a)this.model.tokenizeViewport(b.startLineNumber,b.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new Ti(e)),this._eventDispatcher.emitOutgoingEvent(new Ar(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new At)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new Ct)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new Ks)}_onConfigurationChanged(e,n){let a=null;if(this._viewportStartLine!==-1){let Te=new Ne.L(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));a=this.coordinatesConverter.convertViewPositionToModelPosition(Te)}let b=!1;const M=this._configuration.options,j=M.get(43),ee=M.get(123),ue=M.get(130),ye=M.get(122);if(this._lines.setWrappingSettings(j,ee,ue.wrappingColumn,ye)&&(e.emitViewEvent(new ui),e.emitViewEvent(new Zi),e.emitViewEvent(new si(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(b=!0),this._updateConfigurationViewLineCount.schedule()),n.hasChanged(80)&&(this._decorations.reset(),e.emitViewEvent(new si(null))),e.emitViewEvent(new Dt(n)),this.viewLayout.onConfigurationChanged(n),b&&a){const Te=this.coordinatesConverter.convertModelPositionToViewPosition(a),Ae=this.viewLayout.getVerticalOffsetForLineNumber(Te.lineNumber);this.viewLayout.setScrollPosition({scrollTop:Ae+this._viewportStartLineDelta},1)}we.LM.shouldRecreate(n)&&(this.cursorConfig=new we.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const n=this._eventDispatcher.beginEmitViewEvents();let a=!1,b=!1;const M=e.changes,j=e instanceof dt.dQ?e.versionId:null,ee=this._lines.createLineBreaksComputer();for(const Te of M)switch(Te.changeType){case 4:{for(let Ae=0;Ae<Te.detail.length;Ae++){const ot=Te.detail[Ae];let qe=Te.injectedTexts[Ae];qe&&(qe=qe.filter(Et=>!Et.ownerId||Et.ownerId===this._editorId)),ee.addRequest(ot,qe,null)}break}case 2:{let Ae=null;Te.injectedText&&(Ae=Te.injectedText.filter(ot=>!ot.ownerId||ot.ownerId===this._editorId)),ee.addRequest(Te.detail,Ae,null);break}}const ue=ee.finalize();let ye=0;for(const Te of M)switch(Te.changeType){case 1:{this._lines.onModelFlushed(),n.emitViewEvent(new ui),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),a=!0;break}case 3:{const Ae=this._lines.onModelLinesDeleted(j,Te.fromLineNumber,Te.toLineNumber);Ae!==null&&(n.emitViewEvent(Ae),this.viewLayout.onLinesDeleted(Ae.fromLineNumber,Ae.toLineNumber)),a=!0;break}case 4:{const Ae=ue.slice(ye,ye+Te.detail.length);ye+=Te.detail.length;const ot=this._lines.onModelLinesInserted(j,Te.fromLineNumber,Te.toLineNumber,Ae);ot!==null&&(n.emitViewEvent(ot),this.viewLayout.onLinesInserted(ot.fromLineNumber,ot.toLineNumber)),a=!0;break}case 2:{const Ae=ue[ye];ye++;const[ot,qe,Et,Ht]=this._lines.onModelLineChanged(j,Te.lineNumber,Ae);b=ot,qe&&n.emitViewEvent(qe),Et&&(n.emitViewEvent(Et),this.viewLayout.onLinesInserted(Et.fromLineNumber,Et.toLineNumber)),Ht&&(n.emitViewEvent(Ht),this.viewLayout.onLinesDeleted(Ht.fromLineNumber,Ht.toLineNumber));break}case 5:break}j!==null&&this._lines.acceptVersionId(j),this.viewLayout.onHeightMaybeChanged(),!a&&b&&(n.emitViewEvent(new Zi),n.emitViewEvent(new si(null)),this._cursor.onLineMappingChanged(n),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const n=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(n){const a=this.coordinatesConverter.convertModelPositionToViewPosition(n.getStartPosition()),b=this.viewLayout.getVerticalOffsetForLineNumber(a.lineNumber);this.viewLayout.setScrollPosition({scrollTop:b+this._viewportStartLineDelta},1)}}try{const n=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(n,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(e=>{let n=[];for(let a=0,b=e.ranges.length;a<b;a++){const M=e.ranges[a],j=this.coordinatesConverter.convertModelPositionToViewPosition(new Ne.L(M.fromLineNumber,1)).lineNumber,ee=this.coordinatesConverter.convertModelPositionToViewPosition(new Ne.L(M.toLineNumber,this.model.getLineMaxColumn(M.toLineNumber))).lineNumber;n[a]={fromLineNumber:j,toLineNumber:ee}}this._eventDispatcher.emitSingleViewEvent(new js(n)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new Fi),this.cursorConfig=new we.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new we.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const n=this._eventDispatcher.beginEmitViewEvents();n.emitViewEvent(new ui),n.emitViewEvent(new Zi),n.emitViewEvent(new si(null)),this._cursor.onLineMappingChanged(n),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new we.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new si(e))}))}setHiddenAreas(e){let n=!1;try{const a=this._eventDispatcher.beginEmitViewEvents();n=this._lines.setHiddenAreas(e),n&&(a.emitViewEvent(new ui),a.emitViewEvent(new Zi),a.emitViewEvent(new si(null)),this._cursor.onLineMappingChanged(a),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),n&&this._eventDispatcher.emitOutgoingEvent(new Or)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(129),n=this._configuration.options.get(58),a=Math.max(20,Math.round(e.height/n)),b=this.viewLayout.getLinesViewportData(),M=Math.max(1,b.completelyVisibleStartLineNumber-a),j=Math.min(this.getLineCount(),b.completelyVisibleEndLineNumber+a);return this._toModelVisibleRanges(new Oe.e(M,this.getLineMinColumn(M),j,this.getLineMaxColumn(j)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const n=this.coordinatesConverter.convertViewRangeToModelRange(e),a=this._lines.getHiddenAreas();if(a.length===0)return[n];let b=[],M=0,j=n.startLineNumber,ee=n.startColumn,ue=n.endLineNumber,ye=n.endColumn;for(let Te=0,Ae=a.length;Te<Ae;Te++){const ot=a[Te].startLineNumber,qe=a[Te].endLineNumber;qe<j||ot>ue||(j<ot&&(b[M++]=new Oe.e(j,ee,ot-1,this.model.getLineMaxColumn(ot-1))),j=qe+1,ee=1)}return(j<ue||j===ue&&ee<ye)&&(b[M++]=new Oe.e(j,ee,ue,ye)),b}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),n=e.completelyVisibleStartLineNumber,a=e.completelyVisibleEndLineNumber;return new Oe.e(n,this.getLineMinColumn(n),a,this.getLineMaxColumn(a))}getCompletelyVisibleViewRangeAtScrollTop(e){const n=this.viewLayout.getLinesViewportDataAtScrollTop(e),a=n.completelyVisibleStartLineNumber,b=n.completelyVisibleEndLineNumber;return new Oe.e(a,this.getLineMinColumn(a),b,this.getLineMaxColumn(b))}saveState(){const e=this.viewLayout.saveState(),n=e.scrollTop,a=this.viewLayout.getLineNumberAtVerticalOffset(n),b=this.coordinatesConverter.convertViewPositionToModelPosition(new Ne.L(a,this.getLineMinColumn(a))),M=this.viewLayout.getVerticalOffsetForLineNumber(a)-n;return{scrollLeft:e.scrollLeft,firstPosition:b,firstPositionDeltaTop:M}}reduceRestoreState(e){if(typeof e.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(e);const n=this.model.validatePosition(e.firstPosition),a=this.coordinatesConverter.convertModelPositionToViewPosition(n),b=this.viewLayout.getVerticalOffsetForLineNumber(a.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:b}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,n,a){this._viewportStartLine=e;let b=this.coordinatesConverter.convertViewPositionToModelPosition(new Ne.L(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new Oe.e(b.lineNumber,b.column,b.lineNumber,b.column),1);const M=this.viewLayout.getVerticalOffsetForLineNumber(e),j=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=j-M}getActiveIndentGuide(e,n,a){return this._lines.getActiveIndentGuide(e,n,a)}getLinesIndentGuides(e,n){return this._lines.getViewLinesIndentGuides(e,n)}getBracketGuidesInRangeByLine(e,n,a,b){return this._lines.getViewLinesBracketGuides(e,n,a,b)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const n=je.LC(this.getLineContent(e));return n===-1?0:n+1}getLineLastNonWhitespaceColumn(e){const n=je.ow(this.getLineContent(e));return n===-1?0:n+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewLineRenderingData(e,n){let a=this.model.mightContainRTL(),b=this.model.mightContainNonBasicASCII(),M=this.getTabSize(),j=this._lines.getViewLineData(n),ue=this._decorations.getDecorationsViewportData(e).inlineDecorations[n-e.startLineNumber];return j.inlineDecorations&&(ue=[...ue,...j.inlineDecorations.map(ye=>ye.toInlineDecoration(n))]),new Bi.wA(j.minColumn,j.maxColumn,j.content,j.continuesWithWrappedLine,a,b,j.tokens,ue,M,j.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,n,a){let b=this._lines.getViewLinesData(e,n,a);return new Bi.ud(this.getTabSize(),b)}getAllOverviewRulerDecorations(e){const n=this.model.getOverviewRulerDecorations(this._editorId,(0,nt.$J)(this._configuration.options)),a=new ms;for(const b of n){const M=b.options,j=M.overviewRuler;if(!j)continue;const ee=j.position;if(ee===0)continue;const ue=j.getColor(e),ye=this.coordinatesConverter.getViewLineNumberOfModelPosition(b.range.startLineNumber,b.range.startColumn),Te=this.coordinatesConverter.getViewLineNumberOfModelPosition(b.range.endLineNumber,b.range.endColumn);a.accept(ue,M.zIndex,ye,Te,ee)}return a.asArray}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const n of e){const a=n.options.overviewRuler;a&&a.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const n of e){const a=n.options.minimap;a&&a.invalidateCachedColor()}}getValueInRange(e,n){const a=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(a,n)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,n,a){const b=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(n<0?n-=a:n+=a);const j=this.model.getOffsetAt(b)+n;return this.model.getPositionAt(j)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,n,a){const b=a?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(Oe.e.compareRangesUsingStarts);let M=!1,j=!1;for(const ue of e)ue.isEmpty()?M=!0:j=!0;if(!j){if(!n)return"";const ue=e.map(Te=>Te.startLineNumber);let ye="";for(let Te=0;Te<ue.length;Te++)Te>0&&ue[Te-1]===ue[Te]||(ye+=this.model.getLineContent(ue[Te])+b);return ye}if(M&&n){let ue=[],ye=0;for(const Te of e){const Ae=Te.startLineNumber;Te.isEmpty()?Ae!==ye&&ue.push(this.model.getLineContent(Ae)):ue.push(this.model.getValueInRange(Te,a?2:0)),ye=Ae}return ue.length===1?ue[0]:ue}let ee=[];for(const ue of e)ue.isEmpty()||ee.push(this.model.getValueInRange(ue,a?2:0));return ee.length===1?ee[0]:ee}getRichTextToCopy(e,n){const a=this.model.getLanguageId();if(a===yo.XT||e.length!==1)return null;let b=e[0];if(b.isEmpty()){if(!n)return null;const Te=b.startLineNumber;b=new Oe.e(Te,this.model.getLineMinColumn(Te),Te,this.model.getLineMaxColumn(Te))}const M=this._configuration.options.get(43),j=this._getColorMap(),ue=/[:;\\\/<>]/.test(M.fontFamily)||M.fontFamily===nt.hL.fontFamily;let ye;return ue?ye=nt.hL.fontFamily:(ye=M.fontFamily,ye=ye.replace(/"/g,"'"),/[,']/.test(ye)||/[+ ]/.test(ye)&&(ye=`'${ye}'`),ye=`${ye}, ${nt.hL.fontFamily}`),{mode:a,html:`<div style="color: ${j[1]};background-color: ${j[2]};font-family: ${ye};font-weight: ${M.fontWeight};font-size: ${M.fontSize}px;line-height: ${M.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(b,j)+"</div>"}}_getHTMLToCopy(e,n){const a=e.startLineNumber,b=e.startColumn,M=e.endLineNumber,j=e.endColumn,ee=this.getTabSize();let ue="";for(let ye=a;ye<=M;ye++){const Te=this.model.getLineTokens(ye),Ae=Te.getLineContent(),ot=ye===a?b-1:0,qe=ye===M?j-1:Ae.length;Ae===""?ue+="<br>":ue+=(0,cn.F)(Ae,Te.inflate(),n,ot,qe,ee,D.ED)}return ue}_getColorMap(){let e=mi.RW.getColorMap(),n=["#000000"];if(e)for(let a=1,b=e.length;a<b;a++)n[a]=Ut.Il.Format.CSS.formatHex(e[a]);return n}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,n,a){this._withViewEventsCollector(b=>this._cursor.setStates(b,e,n,a))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,n,a=0){this._withViewEventsCollector(b=>this._cursor.setSelections(b,e,n,a))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(n=>this._cursor.restoreState(n,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new aa);return}this._withViewEventsCollector(e)}executeEdits(e,n,a){this._executeCursorEdit(b=>this._cursor.executeEdits(b,e,n,a))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(n=>this._cursor.endComposition(n,e))}type(e,n){this._executeCursorEdit(a=>this._cursor.type(a,e,n))}compositionType(e,n,a,b,M){this._executeCursorEdit(j=>this._cursor.compositionType(j,e,n,a,b,M))}paste(e,n,a,b){this._executeCursorEdit(M=>this._cursor.paste(M,e,n,a,b))}cut(e){this._executeCursorEdit(n=>this._cursor.cut(n,e))}executeCommand(e,n){this._executeCursorEdit(a=>this._cursor.executeCommand(a,e,n))}executeCommands(e,n){this._executeCursorEdit(a=>this._cursor.executeCommands(a,e,n))}revealPrimaryCursor(e,n){this._withViewEventsCollector(a=>this._cursor.revealPrimary(a,e,n,0))}revealTopMostCursor(e){const n=this._cursor.getTopMostViewPosition(),a=new Oe.e(n.lineNumber,n.column,n.lineNumber,n.column);this._withViewEventsCollector(b=>b.emitViewEvent(new rn(e,a,null,0,!0,0)))}revealBottomMostCursor(e){const n=this._cursor.getBottomMostViewPosition(),a=new Oe.e(n.lineNumber,n.column,n.lineNumber,n.column);this._withViewEventsCollector(b=>b.emitViewEvent(new rn(e,a,null,0,!0,0)))}revealRange(e,n,a,b,M){this._withViewEventsCollector(j=>j.emitViewEvent(new rn(e,a,null,b,n,M)))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,n){this.viewLayout.setScrollPosition({scrollTop:e},n)}setScrollPosition(e,n){this.viewLayout.setScrollPosition(e,n)}deltaScrollNow(e,n){this.viewLayout.deltaScrollNow(e,n)}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new dr),this._eventDispatcher.emitOutgoingEvent(new Or))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{const n=this._eventDispatcher.beginEmitViewEvents();e(n)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,n){return this._lines.normalizePosition(e,n)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class ms{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,n,a,b,M){const j=this._asMap[e];if(j){const ee=j.data,ue=ee[ee.length-3],ye=ee[ee.length-1];if(ue===M&&ye+1>=a){b>ye&&(ee[ee.length-1]=b);return}ee.push(M,a,b)}else{const ee=new Bi.SQ(e,n,[M,a,b]);this._asMap[e]=ee,this.asArray.push(ee)}}}var Ds=c(94565),To=c(38819),Ko=c(72065),_o=c(60972),Po=c(59422),ro=c(31106),Co=c(44906);class hr extends Co.N{constructor(e,n){super(0);for(let a=0;a<e.length;a++)this.set(e.charCodeAt(a),1);for(let a=0;a<n.length;a++)this.set(n.charCodeAt(a),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let Qo=[],Bo=[];class fs{constructor(e,n){this.classifier=new hr(e,n)}static create(e){return new fs(e.get(118),e.get(117))}createLineBreaksComputer(e,n,a,b){n=n|0,a=+a;const M=[],j=[],ee=[];return{addRequest:(ue,ye,Te)=>{M.push(ue),j.push(ye),ee.push(Te)},finalize:()=>{const ue=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth;let ye=[];for(let Te=0,Ae=M.length;Te<Ae;Te++){const ot=j[Te],qe=ee[Te];qe&&!qe.injectionOptions&&!ot?ye[Te]=Hn(this.classifier,qe,M[Te],n,a,ue,b):ye[Te]=Ts(this.classifier,M[Te],ot,n,a,ue,b)}return Qo.length=0,Bo.length=0,ye}}}}function Hn(pt,e,n,a,b,M,j){if(b===-1)return null;const ee=n.length;if(ee<=1)return null;const ue=e.breakOffsets,ye=e.breakOffsetsVisibleColumn,Te=Zs(n,a,b,M,j),Ae=b-Te;let ot=Qo,qe=Bo,Et=0,Ht=0,ri=0,_i=b;const Ii=ue.length;let bi=0;if(bi>=0){let fn=Math.abs(ye[bi]-_i);for(;bi+1<Ii;){const an=Math.abs(ye[bi+1]-_i);if(an>=fn)break;fn=an,bi++}}for(;bi<Ii;){let fn=bi<0?0:ue[bi],an=bi<0?0:ye[bi];Ht>fn&&(fn=Ht,an=ri);let zn=0,kn=0,sn=0,_n=0;if(an<=_i){let Jn=an,po=fn===0?0:n.charCodeAt(fn-1),ao=fn===0?0:pt.get(po),lo=!0;for(let Bs=fn;Bs<ee;Bs++){const Vo=Bs,Ao=n.charCodeAt(Bs);let Ho,Jo;if(je.ZG(Ao)?(Bs++,Ho=0,Jo=2):(Ho=pt.get(Ao),Jo=$s(Ao,Jn,a,M)),Vo>Ht&&On(po,ao,Ao,Ho)&&(zn=Vo,kn=Jn),Jn+=Jo,Jn>_i){Vo>Ht?(sn=Vo,_n=Jn-Jo):(sn=Bs+1,_n=Jn),Jn-kn>Ae&&(zn=0),lo=!1;break}po=Ao,ao=Ho}if(lo){Et>0&&(ot[Et]=ue[ue.length-1],qe[Et]=ye[ue.length-1],Et++);break}}if(zn===0){let Jn=an,po=n.charCodeAt(fn),ao=pt.get(po),lo=!1;for(let Bs=fn-1;Bs>=Ht;Bs--){const Vo=Bs+1,Ao=n.charCodeAt(Bs);if(Ao===9){lo=!0;break}let Ho,Jo;if(je.YK(Ao)?(Bs--,Ho=0,Jo=2):(Ho=pt.get(Ao),Jo=je.K7(Ao)?M:1),Jn<=_i){if(sn===0&&(sn=Vo,_n=Jn),Jn<=_i-Ae)break;if(On(Ao,Ho,po,ao)){zn=Vo,kn=Jn;break}}Jn-=Jo,po=Ao,ao=Ho}if(zn!==0){const Bs=Ae-(_n-kn);if(Bs<=a){const Vo=n.charCodeAt(sn);let Ao;je.ZG(Vo)?Ao=2:Ao=$s(Vo,_n,a,M),Bs-Ao<0&&(zn=0)}}if(lo){bi--;continue}}if(zn===0&&(zn=sn,kn=_n),zn<=Ht){const Jn=n.charCodeAt(Ht);je.ZG(Jn)?(zn=Ht+2,kn=ri+2):(zn=Ht+1,kn=ri+$s(Jn,ri,a,M))}for(Ht=zn,ot[Et]=zn,ri=kn,qe[Et]=kn,Et++,_i=kn+Ae;bi<0||bi<Ii&&ye[bi]<kn;)bi++;let In=Math.abs(ye[bi]-_i);for(;bi+1<Ii;){const Jn=Math.abs(ye[bi+1]-_i);if(Jn>=In)break;In=Jn,bi++}}return Et===0?null:(ot.length=Et,qe.length=Et,Qo=e.breakOffsets,Bo=e.breakOffsetsVisibleColumn,e.breakOffsets=ot,e.breakOffsetsVisibleColumn=qe,e.wrappedTextIndentLength=Te,e)}function Ts(pt,e,n,a,b,M,j){const ee=dt.gk.applyInjectedText(e,n);let ue,ye;if(n&&n.length>0?(ue=n.map(kn=>kn.options),ye=n.map(kn=>kn.column-1)):(ue=null,ye=null),b===-1)return ue?new Bi.le([ee.length],[],0,ye,ue):null;const Te=ee.length;if(Te<=1)return ue?new Bi.le([ee.length],[],0,ye,ue):null;const Ae=Zs(ee,a,b,M,j),ot=b-Ae;let qe=[],Et=[],Ht=0,ri=0,_i=0,Ii=b,bi=ee.charCodeAt(0),fn=pt.get(bi),an=$s(bi,0,a,M),zn=1;je.ZG(bi)&&(an+=1,bi=ee.charCodeAt(1),fn=pt.get(bi),zn++);for(let kn=zn;kn<Te;kn++){const sn=kn,_n=ee.charCodeAt(kn);let In,Jn;je.ZG(_n)?(kn++,In=0,Jn=2):(In=pt.get(_n),Jn=$s(_n,an,a,M)),On(bi,fn,_n,In)&&(ri=sn,_i=an),an+=Jn,an>Ii&&((ri===0||an-_i>ot)&&(ri=sn,_i=an-Jn),qe[Ht]=ri,Et[Ht]=_i,Ht++,Ii=_i+ot,ri=0),bi=_n,fn=In}return Ht===0&&(!n||n.length===0)?null:(qe[Ht]=Te,Et[Ht]=an,new Bi.le(qe,Et,Ae,ye,ue))}function $s(pt,e,n,a){return pt===9?n-e%n:je.K7(pt)||pt<32?a:1}function $n(pt,e){return e-pt%e}function On(pt,e,n,a){return n!==32&&(e===2||e===3&&a!==2||a===1||a===3&&e!==1)}function Zs(pt,e,n,a,b){let M=0;if(b!==0){const j=je.LC(pt);if(j!==-1){for(let ue=0;ue<j;ue++){const ye=pt.charCodeAt(ue)===9?$n(M,e):1;M+=ye}const ee=b===3?2:b===2?1:0;for(let ue=0;ue<ee;ue++){const ye=$n(M,e);M+=ye}M+a>n&&(M=0)}}return M}var go;const eo=(go=window.trustedTypes)===null||go===void 0?void 0:go.createPolicy("domLineBreaksComputer",{createHTML:pt=>pt});class Ro{static create(){return new Ro}constructor(){}createLineBreaksComputer(e,n,a,b){n=n|0,a=+a;let M=[],j=[];return{addRequest:(ee,ue,ye)=>{M.push(ee),j.push(ue)},finalize:()=>er(M,e,n,a,b,j)}}}function er(pt,e,n,a,b,M){var j;function ee(sn){const _n=M[sn];if(_n){const In=dt.gk.applyInjectedText(pt[sn],_n),Jn=_n.map(ao=>ao.options),po=_n.map(ao=>ao.column-1);return new Bi.le([In.length],[],0,po,Jn)}else return null}if(a===-1){const sn=[];for(let _n=0,In=pt.length;_n<In;_n++)sn[_n]=ee(_n);return sn}const ue=Math.round(a*e.typicalHalfwidthCharacterWidth),Te=Math.round(n*(b===3?2:b===2?1:0)),Ae=Math.ceil(e.spaceWidth*Te),ot=document.createElement("div");C.V.applyFontInfoSlow(ot,e);const qe=(0,pi.l$)(1e4),Et=[],Ht=[],ri=[],_i=[],Ii=[];for(let sn=0;sn<pt.length;sn++){const _n=dt.gk.applyInjectedText(pt[sn],M[sn]);let In=0,Jn=0,po=ue;if(b!==0)if(In=je.LC(_n),In===-1)In=0;else{for(let Vo=0;Vo<In;Vo++){const Ao=_n.charCodeAt(Vo)===9?n-Jn%n:1;Jn+=Ao}const Bs=Math.ceil(e.spaceWidth*Jn);Bs+e.typicalFullwidthCharacterWidth>ue?(In=0,Jn=0):po=ue-Bs}const ao=_n.substr(In),lo=fr(ao,Jn,n,po,qe,Ae);Et[sn]=In,Ht[sn]=Jn,ri[sn]=ao,_i[sn]=lo[0],Ii[sn]=lo[1]}const bi=qe.build(),fn=(j=eo==null?void 0:eo.createHTML(bi))!==null&&j!==void 0?j:bi;ot.innerHTML=fn,ot.style.position="absolute",ot.style.top="10000",ot.style.wordWrap="break-word",document.body.appendChild(ot);let an=document.createRange();const zn=Array.prototype.slice.call(ot.children,0);let kn=[];for(let sn=0;sn<pt.length;sn++){const _n=zn[sn],In=Zo(an,_n,ri[sn],_i[sn]);if(In===null){kn[sn]=ee(sn);continue}const Jn=Et[sn],po=Ht[sn]+Te,ao=Ii[sn],lo=[];for(let Ho=0,Jo=In.length;Ho<Jo;Ho++)lo[Ho]=ao[In[Ho]];if(Jn!==0)for(let Ho=0,Jo=In.length;Ho<Jo;Ho++)In[Ho]+=Jn;let Bs,Vo;const Ao=M[sn];Ao?(Bs=Ao.map(Ho=>Ho.options),Vo=Ao.map(Ho=>Ho.column-1)):(Bs=null,Vo=null),kn[sn]=new Bi.le(In,lo,po,Vo,Bs)}return document.body.removeChild(ot),kn}function fr(pt,e,n,a,b,M){if(M!==0){let ot=String(M);b.appendASCIIString('<div style="text-indent: -'),b.appendASCIIString(ot),b.appendASCIIString("px; padding-left: "),b.appendASCIIString(ot),b.appendASCIIString("px; box-sizing: border-box; width:")}else b.appendASCIIString('<div style="width:');b.appendASCIIString(String(a)),b.appendASCIIString('px;">');const j=pt.length;let ee=e,ue=0,ye=[],Te=[],Ae=0<j?pt.charCodeAt(0):0;b.appendASCIIString("<span>");for(let ot=0;ot<j;ot++){ot!==0&&ot%16384===0&&b.appendASCIIString("</span><span>"),ye[ot]=ue,Te[ot]=ee;const qe=Ae;Ae=ot+1<j?pt.charCodeAt(ot+1):0;let Et=1,Ht=1;switch(qe){case 9:Et=n-ee%n,Ht=Et;for(let ri=1;ri<=Et;ri++)ri<Et?b.write1(160):b.appendASCII(32);break;case 32:Ae===32?b.write1(160):b.appendASCII(32);break;case 60:b.appendASCIIString("&lt;");break;case 62:b.appendASCIIString("&gt;");break;case 38:b.appendASCIIString("&amp;");break;case 0:b.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:b.write1(65533);break;default:je.K7(qe)&&Ht++,qe<32?b.write1(9216+qe):b.write1(qe)}ue+=Et,ee+=Ht}return b.appendASCIIString("</span>"),ye[pt.length]=ue,Te[pt.length]=ee,b.appendASCIIString("</div>"),[ye,Te]}function Zo(pt,e,n,a){if(n.length<=1)return null;const b=Array.prototype.slice.call(e.children,0),M=[];try{Lo(pt,b,a,0,null,n.length-1,null,M)}catch(j){return console.log(j),null}return M.length===0?null:(M.push(n.length),M)}function Lo(pt,e,n,a,b,M,j,ee){if(a===M||(b=b||or(pt,e,n[a],n[a+1]),j=j||or(pt,e,n[M],n[M+1]),Math.abs(b[0].top-j[0].top)<=.1))return;if(a+1===M){ee.push(M);return}const ue=a+(M-a)/2|0,ye=or(pt,e,n[ue],n[ue+1]);Lo(pt,e,n,a,b,ue,ye,ee),Lo(pt,e,n,ue,ye,M,j,ee)}function or(pt,e,n,a){return pt.setStart(e[n/16384|0].firstChild,n%16384),pt.setEnd(e[a/16384|0].firstChild,a%16384),pt.getClientRects()}var _r=c(5795),Xo=function(pt,e,n,a){var b=arguments.length,M=b<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,n):a,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(pt,e,n,a);else for(var ee=pt.length-1;ee>=0;ee--)(j=pt[ee])&&(M=(b<3?j(M):b>3?j(e,n,M):j(e,n))||M);return b>3&&M&&Object.defineProperty(e,n,M),M},Wo=function(pt,e){return function(n,a){e(n,a,pt)}};let rr=0;class ko{constructor(e,n,a,b,M){this.model=e,this.viewModel=n,this.view=a,this.hasRealView=b,this.listenersToRemove=M}dispose(){(0,I.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let ar=class Al extends I.JT{constructor(e,n,a,b,M,j,ee,ue,ye,Te){super(),this._onDidDispose=this._register(new s.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new s.Q5),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new s.Q5),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new s.Q5),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new s.Q5),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new s.Q5),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new s.Q5),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new s.Q5),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new s.Q5),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new s.Q5),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new s.Q5),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new s.Q5),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new vr),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new vr),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new s.Q5),this.onWillType=this._onWillType.event,this._onDidType=this._register(new s.Q5),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new s.Q5),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new s.Q5),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new s.Q5),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new s.Q5),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new s.Q5),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new s.Q5),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new s.Q5),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new s.Q5),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new s.Q5),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new s.Q5),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new s.Q5),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new s.Q5),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new s.Q5),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new s.Q5),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new s.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new s.Q5),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new s.Q5),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new s.Q5),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event;const Ae=Object.assign({},n);this._domElement=e,this._overflowWidgetsDomNode=Ae.overflowWidgetsDomNode,delete Ae.overflowWidgetsDomNode,this._id=++rr,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=a.isSimpleWidget||!1,this._telemetryData=a.telemetryData,this._configuration=this._register(this._createConfiguration(Ae,Te)),this._register(this._configuration.onDidChange(qe=>{this._onDidChangeConfiguration.fire(qe);const Et=this._configuration.options;if(qe.hasChanged(129)){const Ht=Et.get(129);this._onDidLayoutChange.fire(Ht)}})),this._contextKeyService=this._register(ee.createScoped(this._domElement)),this._notificationService=ye,this._codeEditorService=M,this._commandService=j,this._themeService=ue,this._register(new tr(this,this._contextKeyService)),this._register(new Do(this,this._contextKeyService)),this._instantiationService=b.createChild(new _o.y([To.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new mo(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let ot;Array.isArray(a.contributions)?ot=a.contributions:ot=Y.Uc.getEditorContributions();for(const qe of ot){if(this._contributions[qe.id]){(0,P.dL)(new Error(`Cannot have two contributions with the same id ${qe.id}`));continue}try{const Et=this._instantiationService.createInstance(qe.ctor,this);this._contributions[qe.id]=Et}catch(Et){(0,P.dL)(Et)}}Y.Uc.getEditorActions().forEach(qe=>{if(this._actions[qe.id]){(0,P.dL)(new Error(`Cannot have two actions with the same id ${qe.id}`));return}const Et=new Ci.p(qe.id,qe.label,qe.alias,(0,Ws.f6)(qe.precondition),()=>this._instantiationService.invokeFunction(Ht=>Promise.resolve(qe.runEditorCommand(Ht,this,null))),this._contextKeyService);this._actions[Et.id]=Et}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(e,n){return new C.V(this.isSimpleWidget,e,this._domElement,n)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Ki.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let n=0,a=e.length;n<a;n++){const b=e[n];this._contributions[b].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e)}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?_r.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(115),e):null}getValue(e=null){if(!this._modelData)return"";const n=!!(e&&e.preserveBOM);let a=0;return e&&e.lineEnding&&e.lineEnding===`
`?a=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(a=2),this._modelData.model.getValue(a,n)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const n=e;if(this._modelData===null&&n===null||this._modelData&&this._modelData.model===n)return;const a=this.hasTextFocus(),b=this._detachModel();this._attachModel(n),a&&this.hasModel()&&this.focus();const M={oldModelUrl:b?b.uri:null,newModelUrl:n?n.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(M),this._postDetachModelCleanup(b)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){const n=this._decorationTypeSubtypes[e];for(let a in n)this._removeDecorationType(e+"-"+a)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,n,a){const b=e.model.validatePosition({lineNumber:n,column:a}),M=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(b);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(M.lineNumber)}getTopForLineNumber(e){return this._modelData?Al._getVerticalOffsetForPosition(this._modelData,e,1):-1}getTopForPosition(e,n){return this._modelData?Al._getVerticalOffsetForPosition(this._modelData,e,n):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map(n=>Oe.e.lift(n)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const n=this._modelData.model.validatePosition(e),a=this._modelData.model.getOptions().tabSize;return we.io.visibleColumnFromColumn(this._modelData.model.getLineContent(n.lineNumber),n.column,a)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){if(this._modelData){if(!Ne.L.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,n,a,b){if(!this._modelData)return;if(!Oe.e.isIRange(e))throw new Error("Invalid arguments");const M=this._modelData.model.validateRange(e),j=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(M);this._modelData.viewModel.revealRange("api",a,j,n,b)}revealLine(e,n=0){this._revealLine(e,0,n)}revealLineInCenter(e,n=0){this._revealLine(e,1,n)}revealLineInCenterIfOutsideViewport(e,n=0){this._revealLine(e,2,n)}revealLineNearTop(e,n=0){this._revealLine(e,5,n)}_revealLine(e,n,a){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Oe.e(e,1,e,1),n,!1,a)}revealPosition(e,n=0){this._revealPosition(e,0,!0,n)}revealPositionInCenter(e,n=0){this._revealPosition(e,1,!0,n)}revealPositionInCenterIfOutsideViewport(e,n=0){this._revealPosition(e,2,!0,n)}revealPositionNearTop(e,n=0){this._revealPosition(e,5,!0,n)}_revealPosition(e,n,a,b){if(!Ne.L.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new Oe.e(e.lineNumber,e.column,e.lineNumber,e.column),n,a,b)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){const n=x.Y.isISelection(e),a=Oe.e.isIRange(e);if(!n&&!a)throw new Error("Invalid arguments");if(n)this._setSelectionImpl(e);else if(a){const b={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(b)}}_setSelectionImpl(e){if(!this._modelData)return;const n=new x.Y(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections("api",[n])}revealLines(e,n,a=0){this._revealLines(e,n,0,a)}revealLinesInCenter(e,n,a=0){this._revealLines(e,n,1,a)}revealLinesInCenterIfOutsideViewport(e,n,a=0){this._revealLines(e,n,2,a)}revealLinesNearTop(e,n,a=0){this._revealLines(e,n,5,a)}_revealLines(e,n,a,b){if(typeof e!="number"||typeof n!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Oe.e(e,1,n,1),a,!1,b)}revealRange(e,n=0,a=!1,b=!0){this._revealRange(e,a?1:0,b,n)}revealRangeInCenter(e,n=0){this._revealRange(e,1,!0,n)}revealRangeInCenterIfOutsideViewport(e,n=0){this._revealRange(e,2,!0,n)}revealRangeNearTop(e,n=0){this._revealRange(e,5,!0,n)}revealRangeNearTopIfOutsideViewport(e,n=0){this._revealRange(e,6,!0,n)}revealRangeAtTop(e,n=0){this._revealRange(e,3,!0,n)}_revealRange(e,n,a,b){if(!Oe.e.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(Oe.e.lift(e),n,a,b)}setSelections(e,n="api",a=0){if(this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let b=0,M=e.length;b<M;b++)if(!x.Y.isISelection(e[b]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(n,e,a)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,n=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:e},n)}}setScrollTop(e,n=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:e},n)}}setScrollPosition(e,n=1){this._modelData&&this._modelData.viewModel.setScrollPosition(e,n)}saveViewState(){if(!this._modelData)return null;const e={},n=Object.keys(this._contributions);for(const M of n){const j=this._contributions[M];typeof j.saveViewState=="function"&&(e[M]=j.saveViewState())}const a=this._modelData.viewModel.saveCursorState(),b=this._modelData.viewModel.saveState();return{cursorState:a,viewState:b,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const n=e;if(n&&n.cursorState&&n.viewState){const a=n.cursorState;Array.isArray(a)?this._modelData.viewModel.restoreCursorState(a):this._modelData.viewModel.restoreCursorState([a]);const b=n.contributionsState||{},M=Object.keys(this._contributions);for(let ee=0,ue=M.length;ee<ue;ee++){const ye=M[ee],Te=this._contributions[ye];typeof Te.restoreViewState=="function"&&Te.restoreViewState(b[ye])}const j=this._modelData.viewModel.reduceRestoreState(n.viewState);this._modelData.view.restoreState(j)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],n=Object.keys(this._actions);for(let a=0,b=n.length;a<b;a++){const M=n[a];e.push(this._actions[M])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter(n=>n.isSupported()),e}getAction(e){return this._actions[e]||null}trigger(e,n,a){switch(a=a||{},n){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const M=a;this._type(e,M.text||"");return}case"replacePreviousChar":{const M=a;this._compositionType(e,M.text||"",M.replaceCharCnt||0,0,0);return}case"compositionType":{const M=a;this._compositionType(e,M.text||"",M.replacePrevCharCnt||0,M.replaceNextCharCnt||0,M.positionDelta||0);return}case"paste":{const M=a;this._paste(e,M.text||"",M.pasteOnNewLine||!1,M.multicursorText||null,M.mode||null);return}case"cut":this._cut(e);return}const b=this.getAction(n);if(b){Promise.resolve(b.run()).then(void 0,P.dL);return}this._modelData&&(this._triggerEditorCommand(e,n,a)||this._triggerCommand(n,a))}_triggerCommand(e,n){this._commandService.executeCommand(e,n)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,n){!this._modelData||n.length===0||(e==="keyboard"&&this._onWillType.fire(n),this._modelData.viewModel.type(n,e),e==="keyboard"&&this._onDidType.fire(n))}_compositionType(e,n,a,b,M){this._modelData&&this._modelData.viewModel.compositionType(n,a,b,M,e)}_paste(e,n,a,b,M){if(!this._modelData||n.length===0)return;const j=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(n,a,b,e);const ee=this._modelData.viewModel.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new Oe.e(j.lineNumber,j.column,ee.lineNumber,ee.column),languageId:M})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,n,a){const b=Y.Uc.getEditorCommand(n);return b?(a=a||{},a.source=e,this._instantiationService.invokeFunction(M=>{Promise.resolve(b.runEditorCommand(M,this,a)).then(void 0,P.dL)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,n,a){if(!this._modelData||this._configuration.options.get(80))return!1;let b;return a?Array.isArray(a)?b=()=>a:b=a:b=()=>null,this._modelData.viewModel.executeEdits(e,n,b),!0}executeCommand(e,n){this._modelData&&this._modelData.viewModel.executeCommand(n,e)}executeCommands(e,n){this._modelData&&this._modelData.viewModel.executeCommands(n,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,(0,nt.$J)(this._configuration.options)):null}deltaDecorations(e,n){return this._modelData?e.length===0&&n.length===0?e:this._modelData.model.deltaDecorations(e,n,this._id):[]}removeDecorations(e){const n=this._decorationTypeKeysToIds[e];n&&this.deltaDecorations(n,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(129)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeReferenceElement(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const n={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=n,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(n)}layoutContentWidget(e){const n=e.getId();if(this._contentWidgets.hasOwnProperty(n)){const a=this._contentWidgets[n];a.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(a)}}removeContentWidget(e){const n=e.getId();if(this._contentWidgets.hasOwnProperty(n)){const a=this._contentWidgets[n];delete this._contentWidgets[n],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(a)}}addOverlayWidget(e){const n={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=n,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(n)}layoutOverlayWidget(e){const n=e.getId();if(this._overlayWidgets.hasOwnProperty(n)){const a=this._overlayWidgets[n];a.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(a)}}removeOverlayWidget(e){const n=e.getId();if(this._overlayWidgets.hasOwnProperty(n)){const a=this._overlayWidgets[n];delete this._overlayWidgets[n],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(a)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,n){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,n)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const n=this._modelData.model.validatePosition(e),a=this._configuration.options,b=a.get(129),M=Al._getVerticalOffsetForPosition(this._modelData,n.lineNumber,n.column)-this.getScrollTop(),j=this._modelData.view.getOffsetForColumn(n.lineNumber,n.column)+b.glyphMarginWidth+b.lineNumbersWidth+b.decorationsWidth-this.getScrollLeft();return{top:M,left:j,height:a.get(58)}}getOffsetForColumn(e,n){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,n)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){C.V.applyFontInfoSlow(e,this._configuration.options.get(43))}_attachModel(e){if(!e){this._modelData=null;return}const n=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();const a=new Js(this._id,this._configuration,e,Ro.create(),fs.create(this._configuration.options),j=>k.jL(j));n.push(e.onDidChangeDecorations(j=>this._onDidChangeModelDecorations.fire(j))),n.push(e.onDidChangeLanguage(j=>{this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(j)})),n.push(e.onDidChangeLanguageConfiguration(j=>this._onDidChangeModelLanguageConfiguration.fire(j))),n.push(e.onDidChangeContent(j=>this._onDidChangeModelContent.fire(j))),n.push(e.onDidChangeOptions(j=>this._onDidChangeModelOptions.fire(j))),n.push(e.onWillDispose(()=>this.setModel(null))),n.push(a.onEvent(j=>{switch(j.kind){case 0:this._onDidContentSizeChange.fire(j);break;case 1:this._editorTextFocus.setValue(j.hasFocus);break;case 2:this._onDidScrollChange.fire(j);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{j.reachedMaxCursorCount&&this._notificationService.warn(J.N("cursors.maximum","The number of cursors has been limited to {0}.",Ft.MAX_CURSOR_COUNT));const ee=[];for(let Te=0,Ae=j.selections.length;Te<Ae;Te++)ee[Te]=j.selections[Te].getPosition();const ue={position:ee[0],secondaryPositions:ee.slice(1),reason:j.reason,source:j.source};this._onDidChangeCursorPosition.fire(ue);const ye={selection:j.selections[0],secondarySelections:j.selections.slice(1),modelVersionId:j.modelVersionId,oldSelections:j.oldSelections,oldModelVersionId:j.oldModelVersionId,source:j.source,reason:j.reason};this._onDidChangeCursorSelection.fire(ye);break}}}));const[b,M]=this._createView(a);if(M){this._domElement.appendChild(b.domNode.domNode);let j=Object.keys(this._contentWidgets);for(let ee=0,ue=j.length;ee<ue;ee++){const ye=j[ee];b.addContentWidget(this._contentWidgets[ye])}j=Object.keys(this._overlayWidgets);for(let ee=0,ue=j.length;ee<ue;ee++){const ye=j[ee];b.addOverlayWidget(this._overlayWidgets[ye])}b.render(!1,!0),b.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new ko(e,a,b,M,n)}_createView(e){let n;this.isSimpleWidget?n={paste:(M,j,ee,ue)=>{this._paste("keyboard",M,j,ee,ue)},type:M=>{this._type("keyboard",M)},compositionType:(M,j,ee,ue)=>{this._compositionType("keyboard",M,j,ee,ue)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:n={paste:(M,j,ee,ue)=>{const ye={text:M,pasteOnNewLine:j,multicursorText:ee,mode:ue};this._commandService.executeCommand("paste",ye)},type:M=>{const j={text:M};this._commandService.executeCommand("type",j)},compositionType:(M,j,ee,ue)=>{if(ee||ue){const ye={text:M,replacePrevCharCnt:j,replaceNextCharCnt:ee,positionDelta:ue};this._commandService.executeCommand("compositionType",ye)}else{const ye={text:M,replaceCharCnt:j};this._commandService.executeCommand("replacePreviousChar",ye)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const a=new gn(e.coordinatesConverter);return a.onKeyDown=M=>this._onKeyDown.fire(M),a.onKeyUp=M=>this._onKeyUp.fire(M),a.onContextMenu=M=>this._onContextMenu.fire(M),a.onMouseMove=M=>this._onMouseMove.fire(M),a.onMouseLeave=M=>this._onMouseLeave.fire(M),a.onMouseDown=M=>this._onMouseDown.fire(M),a.onMouseUp=M=>this._onMouseUp.fire(M),a.onMouseDrag=M=>this._onMouseDrag.fire(M),a.onMouseDrop=M=>this._onMouseDrop.fire(M),a.onMouseDropCanceled=M=>this._onMouseDropCanceled.fire(M),a.onMouseWheel=M=>this._onMouseWheel.fire(M),[new N(n,this._configuration,this._themeService,e,a,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,n=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),n&&this._domElement.contains(n)&&this._domElement.removeChild(n),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}};ar=Xo([Wo(3,Ko.TG),Wo(4,V.$),Wo(5,Ds.H),Wo(6,To.i6),Wo(7,vt.XE),Wo(8,Po.lT),Wo(9,ro.F)],ar);class vr extends I.JT{constructor(){super(),this._onDidChangeToTrue=this._register(new s.Q5),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new s.Q5),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const n=e?2:1;this._value!==n&&(this._value=n,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class tr extends I.JT{constructor(e,n){super(),this._editor=e,n.createKey("editorId",e.getId()),this._editorSimpleInput=Ni.u.editorSimpleInput.bindTo(n),this._editorFocus=Ni.u.focus.bindTo(n),this._textInputFocus=Ni.u.textInputFocus.bindTo(n),this._editorTextFocus=Ni.u.editorTextFocus.bindTo(n),this._editorTabMovesFocus=Ni.u.tabMovesFocus.bindTo(n),this._editorReadonly=Ni.u.readOnly.bindTo(n),this._inDiffEditor=Ni.u.inDiffEditor.bindTo(n),this._editorColumnSelection=Ni.u.columnSelection.bindTo(n),this._hasMultipleSelections=Ni.u.hasMultipleSelections.bindTo(n),this._hasNonEmptySelection=Ni.u.hasNonEmptySelection.bindTo(n),this._canUndo=Ni.u.canUndo.bindTo(n),this._canRedo=Ni.u.canRedo.bindTo(n),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(128)),this._editorReadonly.set(e.get(80)),this._inDiffEditor.set(e.get(53)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(n=>!n.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(!!(e&&e.canUndo())),this._canRedo.set(!!(e&&e.canRedo()))}}class Do extends I.JT{constructor(e,n){super(),this._editor=e,this._contextKeyService=n,this._langId=Ni.u.languageId.bindTo(n),this._hasCompletionItemProvider=Ni.u.hasCompletionItemProvider.bindTo(n),this._hasCodeActionsProvider=Ni.u.hasCodeActionsProvider.bindTo(n),this._hasCodeLensProvider=Ni.u.hasCodeLensProvider.bindTo(n),this._hasDefinitionProvider=Ni.u.hasDefinitionProvider.bindTo(n),this._hasDeclarationProvider=Ni.u.hasDeclarationProvider.bindTo(n),this._hasImplementationProvider=Ni.u.hasImplementationProvider.bindTo(n),this._hasTypeDefinitionProvider=Ni.u.hasTypeDefinitionProvider.bindTo(n),this._hasHoverProvider=Ni.u.hasHoverProvider.bindTo(n),this._hasDocumentHighlightProvider=Ni.u.hasDocumentHighlightProvider.bindTo(n),this._hasDocumentSymbolProvider=Ni.u.hasDocumentSymbolProvider.bindTo(n),this._hasReferenceProvider=Ni.u.hasReferenceProvider.bindTo(n),this._hasRenameProvider=Ni.u.hasRenameProvider.bindTo(n),this._hasSignatureHelpProvider=Ni.u.hasSignatureHelpProvider.bindTo(n),this._hasInlayHintsProvider=Ni.u.hasInlayHintsProvider.bindTo(n),this._hasDocumentFormattingProvider=Ni.u.hasDocumentFormattingProvider.bindTo(n),this._hasDocumentSelectionFormattingProvider=Ni.u.hasDocumentSelectionFormattingProvider.bindTo(n),this._hasMultipleDocumentFormattingProvider=Ni.u.hasMultipleDocumentFormattingProvider.bindTo(n),this._hasMultipleDocumentSelectionFormattingProvider=Ni.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(n),this._isInWalkThrough=Ni.u.isInWalkThroughSnippet.bindTo(n);const a=()=>this._update();this._register(e.onDidChangeModel(a)),this._register(e.onDidChangeModelLanguage(a)),this._register(mi.KZ.onDidChange(a)),this._register(mi.H9.onDidChange(a)),this._register(mi.He.onDidChange(a)),this._register(mi.Ct.onDidChange(a)),this._register(mi.RN.onDidChange(a)),this._register(mi.vI.onDidChange(a)),this._register(mi.tA.onDidChange(a)),this._register(mi.xp.onDidChange(a)),this._register(mi.vH.onDidChange(a)),this._register(mi.vJ.onDidChange(a)),this._register(mi.FL.onDidChange(a)),this._register(mi.G0.onDidChange(a)),this._register(mi.Az.onDidChange(a)),this._register(mi.vN.onDidChange(a)),this._register(mi.nD.onDidChange(a)),this._register(mi.mX.onDidChange(a)),a()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(mi.KZ.has(e)),this._hasCodeActionsProvider.set(mi.H9.has(e)),this._hasCodeLensProvider.set(mi.He.has(e)),this._hasDefinitionProvider.set(mi.Ct.has(e)),this._hasDeclarationProvider.set(mi.RN.has(e)),this._hasImplementationProvider.set(mi.vI.has(e)),this._hasTypeDefinitionProvider.set(mi.tA.has(e)),this._hasHoverProvider.set(mi.xp.has(e)),this._hasDocumentHighlightProvider.set(mi.vH.has(e)),this._hasDocumentSymbolProvider.set(mi.vJ.has(e)),this._hasReferenceProvider.set(mi.FL.has(e)),this._hasRenameProvider.set(mi.G0.has(e)),this._hasSignatureHelpProvider.set(mi.nD.has(e)),this._hasInlayHintsProvider.set(mi.mX.has(e)),this._hasDocumentFormattingProvider.set(mi.Az.has(e)||mi.vN.has(e)),this._hasDocumentSelectionFormattingProvider.set(mi.vN.has(e)),this._hasMultipleDocumentFormattingProvider.set(mi.Az.all(e).length+mi.vN.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(mi.vN.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===m.lg.walkThroughSnippet)})}}class mo extends I.JT{constructor(e){super(),this._onChange=this._register(new s.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(k.go(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const ir=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),gr=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function mr(pt){return ir+encodeURIComponent(pt.toString())+gr}const Go=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Vr=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function Yo(pt){return Go+encodeURIComponent(pt.toString())+Vr}(0,vt.Ic)((pt,e)=>{const n=pt.getColor(us.b6);n&&e.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${n}; }`);const a=pt.getColor(us.lX);a&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${mr(a)}") repeat-x bottom left; }`);const b=pt.getColor(us.A2);b&&e.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${b}; }`);const M=pt.getColor(us.pW);M&&e.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${M}; }`);const j=pt.getColor(us.uo);j&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${mr(j)}") repeat-x bottom left; }`);const ee=pt.getColor(us.gp);ee&&e.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${ee}; }`);const ue=pt.getColor(us.T8);ue&&e.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${ue}; }`);const ye=pt.getColor(us.c6);ye&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${mr(ye)}") repeat-x bottom left; }`);const Te=pt.getColor(us.fe);Te&&e.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${Te}; }`);const Ae=pt.getColor(us.fE);Ae&&e.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${Ae}; }`);const ot=pt.getColor(us.Du);ot&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${Yo(ot)}") no-repeat bottom left; }`);const qe=pt.getColor(hn.zu);qe&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${qe.rgba.a}; }`);const Et=pt.getColor(hn.kp);Et&&e.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${Et}; }`);const Ht=pt.getColor(us.NO)||"inherit";e.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${Ht}}`)})},84527:function(Yt,Ue,c){"use strict";c.d(Ue,{H:function(){return C}});var g=c(36248),Y=c(11640),Q=c(53418),O=c(94565),y=c(38819),J=c(72065),k=c(59422),P=c(97781),s=c(31106),I=function(V,r,x,w){var D=arguments.length,f=D<3?r:w===null?w=Object.getOwnPropertyDescriptor(r,x):w,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(V,r,x,w);else for(var L=V.length-1;L>=0;L--)(v=V[L])&&(f=(D<3?v(f):D>3?v(r,x,f):v(r,x))||f);return D>3&&f&&Object.defineProperty(r,x,f),f},m=function(V,r){return function(x,w){r(x,w,V)}};let C=class extends Q.Gm{constructor(r,x,w,D,f,v,L,h,R,T){super(r,Object.assign(Object.assign({},w.getRawOptions()),{overflowWidgetsDomNode:w.getOverflowWidgetsDomNode()}),{},D,f,v,L,h,R,T),this._parentEditor=w,this._overwriteOptions=x,super.updateOptions(this._overwriteOptions),this._register(w.onDidChangeConfiguration(W=>this._onParentConfigurationChanged(W)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(r){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(r){g.jB(this._overwriteOptions,r,!0),super.updateOptions(this._overwriteOptions)}};C=I([m(3,J.TG),m(4,Y.$),m(5,O.H),m(6,y.i6),m(7,P.XE),m(8,k.lT),m(9,s.F)],C)},61329:function(Yt,Ue,c){"use strict";c.d(Ue,{Sj:function(){return O},T4:function(){return Y},Uo:function(){return y},hP:function(){return J}});var g=c(3860);class Y{constructor(P,s,I=!1){this._range=P,this._text=s,this.insertsAutoWhitespace=I}getEditOperations(P,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(P,s){let m=s.getInverseEditOperations()[0].range;return new g.Y(m.endLineNumber,m.endColumn,m.endLineNumber,m.endColumn)}}class Q{constructor(P,s){this._range=P,this._text=s}getEditOperations(P,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(P,s){const m=s.getInverseEditOperations()[0].range;return new Selection(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn)}}class O{constructor(P,s,I=!1){this._range=P,this._text=s,this.insertsAutoWhitespace=I}getEditOperations(P,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(P,s){let m=s.getInverseEditOperations()[0].range;return new g.Y(m.startLineNumber,m.startColumn,m.startLineNumber,m.startColumn)}}class y{constructor(P,s,I,m,C=!1){this._range=P,this._text=s,this._columnDeltaOffset=m,this._lineNumberDeltaOffset=I,this.insertsAutoWhitespace=C}getEditOperations(P,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(P,s){let m=s.getInverseEditOperations()[0].range;return new g.Y(m.endLineNumber+this._lineNumberDeltaOffset,m.endColumn+this._columnDeltaOffset,m.endLineNumber+this._lineNumberDeltaOffset,m.endColumn+this._columnDeltaOffset)}}class J{constructor(P,s,I,m=!1){this._range=P,this._text=s,this._initialSelection=I,this._forceMoveMarkers=m,this._selectionId=null}getEditOperations(P,s){s.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=s.trackSelection(this._initialSelection)}computeCursorState(P,s){return s.getTrackedSelection(this._selectionId)}}},56345:function(Yt,Ue,c){"use strict";c.d(Ue,{Pe:function(){return ce},ei:function(){return ie},fv:function(){return v}});var g=c(63580),Y=c(4669),Q=c(5976),O=c(36248),y=c(9488),J=c(64141),k=c(82334),P=c(27374),s=c(23193),I=c(89872),m=c(6626);const C=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new Y.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(_e){this._tabFocus!==_e&&(this._tabFocus=_e,this._onDidChangeTabFocus.fire(this._tabFocus))}},V=Object.hasOwnProperty;class r{constructor(){this._values=[]}_read(ve){return this._values[ve]}get(ve){return this._values[ve]}_write(ve,De){this._values[ve]=De}}class x{constructor(){this._values=[]}_read(ve){return this._values[ve]}_write(ve,De){this._values[ve]=De}}class w{static readOptions(ve){const De=ve,le=new x;for(const Z of J.Bc){const $=Z.name==="_never_"?void 0:De[Z.name];le._write(Z.id,$)}return le}static validateOptions(ve){const De=new J.hu;for(const le of J.Bc)De._write(le.id,le.validate(ve._read(le.id)));return De}static computeOptions(ve,De){const le=new r;for(const Z of J.Bc)le._write(Z.id,Z.compute(De,le,ve._read(Z.id)));return le}static _deepEquals(ve,De){if(typeof ve!="object"||typeof De!="object")return ve===De;if(Array.isArray(ve)||Array.isArray(De))return Array.isArray(ve)&&Array.isArray(De)?y.fS(ve,De):!1;for(let le in ve)if(!w._deepEquals(ve[le],De[le]))return!1;return!0}static checkEquals(ve,De){const le=[];let Z=!1;for(const $ of J.Bc){const G=!w._deepEquals(ve._read($.id),De._read($.id));le[$.id]=G,G&&(Z=!0)}return Z?new J.Bb(le):null}}function D(_e){const ve=_e.wordWrap;ve===!0?_e.wordWrap="on":ve===!1&&(_e.wordWrap="off");const De=_e.lineNumbers;De===!0?_e.lineNumbers="on":De===!1&&(_e.lineNumbers="off"),_e.autoClosingBrackets===!1&&(_e.autoClosingBrackets="never",_e.autoClosingQuotes="never",_e.autoSurround="never"),_e.cursorBlinking==="visible"&&(_e.cursorBlinking="solid");const $=_e.renderWhitespace;$===!0?_e.renderWhitespace="boundary":$===!1&&(_e.renderWhitespace="none");const G=_e.renderLineHighlight;G===!0?_e.renderLineHighlight="line":G===!1&&(_e.renderLineHighlight="none");const q=_e.acceptSuggestionOnEnter;q===!0?_e.acceptSuggestionOnEnter="on":q===!1&&(_e.acceptSuggestionOnEnter="off");const p=_e.tabCompletion;p===!1?_e.tabCompletion="off":p===!0&&(_e.tabCompletion="onlySnippets");const S=_e.suggest;if(S&&typeof S.filteredTypes=="object"&&S.filteredTypes){const nt={};nt.method="showMethods",nt.function="showFunctions",nt.constructor="showConstructors",nt.deprecated="showDeprecated",nt.field="showFields",nt.variable="showVariables",nt.class="showClasses",nt.struct="showStructs",nt.interface="showInterfaces",nt.module="showModules",nt.property="showProperties",nt.event="showEvents",nt.operator="showOperators",nt.unit="showUnits",nt.value="showValues",nt.constant="showConstants",nt.enum="showEnums",nt.enumMember="showEnumMembers",nt.keyword="showKeywords",nt.text="showWords",nt.color="showColors",nt.file="showFiles",nt.reference="showReferences",nt.folder="showFolders",nt.typeParameter="showTypeParameters",nt.snippet="showSnippets",(0,m.E)(nt,It=>{const ht=S.filteredTypes[It.key];ht===!1&&(S[It.value]=ht)})}const B=_e.hover;B===!0?_e.hover={enabled:!0}:B===!1&&(_e.hover={enabled:!1});const te=_e.parameterHints;te===!0?_e.parameterHints={enabled:!0}:te===!1&&(_e.parameterHints={enabled:!1});const me=_e.autoIndent;me===!0?_e.autoIndent="full":me===!1&&(_e.autoIndent="advanced");const de=_e.matchBrackets;de===!0?_e.matchBrackets="always":de===!1&&(_e.matchBrackets="never");const{renderIndentGuides:Pe,highlightActiveIndentGuide:Me}=_e;_e.guides||(_e.guides={}),Pe!==void 0&&(_e.guides.indentation=!!Pe),Me!==void 0&&(_e.guides.highlightActiveIndentation=!!Me)}function f(_e){const ve=O.I8(_e);return D(ve),ve}class v extends Q.JT{constructor(ve,De){super(),this._onDidChange=this._register(new Y.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new Y.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=ve,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new J.LJ,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=f(De),this._readOptions=w.readOptions(this._rawOptions),this._validatedOptions=w.validateOptions(this._readOptions),this._register(k.C.onDidChangeZoomLevel(le=>this._recomputeOptions())),this._register(C.onDidChangeTabFocus(le=>this._recomputeOptions()))}observeReferenceElement(ve){}updatePixelRatio(){}_recomputeOptions(){const ve=this.options,De=this._computeInternalOptions();if(!ve)this.options=De;else{const le=w.checkEquals(ve,De);if(le===null)return;this.options=De,this._onDidChangeFast.fire(le),this._onDidChange.fire(le)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const ve=this._getEnvConfiguration(),De=P.E4.createFromValidatedSettings(this._validatedOptions,ve.zoomLevel,ve.pixelRatio,this.isSimpleWidget),le={memory:this._computeOptionsMemory,outerWidth:ve.outerWidth,outerHeight:ve.outerHeight,fontInfo:this.readConfiguration(De),extraEditorClassName:ve.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:ve.emptySelectionClipboard,pixelRatio:ve.pixelRatio,tabFocusMode:C.getTabFocusMode(),accessibilitySupport:ve.accessibilitySupport};return w.computeOptions(this._validatedOptions,le)}static _subsetEquals(ve,De){for(const le in De)if(V.call(De,le)){const Z=De[le],$=ve[le];if($===Z)continue;if(Array.isArray($)&&Array.isArray(Z)){if(!y.fS($,Z))return!1;continue}if($&&typeof $=="object"&&Z&&typeof Z=="object"){if(!this._subsetEquals($,Z))return!1;continue}return!1}return!0}updateOptions(ve){if(typeof ve=="undefined")return;const De=f(ve);v._subsetEquals(this._rawOptions,De)||(this._rawOptions=O.jB(this._rawOptions,De||{}),this._readOptions=w.readOptions(this._rawOptions),this._validatedOptions=w.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(ve){this._isDominatedByLongLines=ve,this._recomputeOptions()}setMaxLineNumber(ve){const De=v._digitCount(ve);this._lineNumbersDigitCount!==De&&(this._lineNumbersDigitCount=De,this._recomputeOptions())}setViewLineCount(ve){this._viewLineCount!==ve&&(this._viewLineCount=ve,this._recomputeOptions())}static _digitCount(ve){let De=0;for(;ve;)ve=Math.floor(ve/10),De++;return De||1}}const L=Object.freeze({id:"editor",order:5,type:"object",title:g.N("editorConfigurationTitle","Editor"),scope:5}),h=I.B.as(s.IP.Configuration),R=Object.assign(Object.assign({},L),{properties:{"editor.tabSize":{type:"number",default:J.DB.tabSize,minimum:1,markdownDescription:g.N("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:J.DB.insertSpaces,markdownDescription:g.N("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:J.DB.detectIndentation,markdownDescription:g.N("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:J.DB.trimAutoWhitespace,description:g.N("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:J.DB.largeFileOptimizations,description:g.N("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:g.N("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[g.N("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),g.N("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),g.N("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:g.N("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[g.N("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),g.N("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),g.N("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:g.N("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:g.N("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:g.N("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:g.N("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:g.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:g.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:g.N("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:g.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:g.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:g.N("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:g.N("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:g.N("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:g.N("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:g.N("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:g.N("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[g.N("wordWrap.off","Lines will never wrap."),g.N("wordWrap.on","Lines will wrap at the viewport width."),g.N("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function T(_e){return typeof _e.type!="undefined"||typeof _e.anyOf!="undefined"}for(const _e of J.Bc){const ve=_e.schema;if(typeof ve!="undefined")if(T(ve))R.properties[`editor.${_e.name}`]=ve;else for(let De in ve)V.call(ve,De)&&(R.properties[De]=ve[De])}let W=null;function K(){return W===null&&(W=Object.create(null),Object.keys(R.properties).forEach(_e=>{W[_e]=!0})),W}function ie(_e){return K()[`editor.${_e}`]||!1}function ce(_e){return K()[`diffEditor.${_e}`]||!1}h.registerConfiguration(R)},64141:function(Yt,Ue,c){"use strict";c.d(Ue,{$J:function(){return ht},BH:function(){return Ai},Bb:function(){return y},Bc:function(){return Gt},DB:function(){return ci},LJ:function(){return k},NY:function(){return D},O7:function(){return m},Zc:function(){return V},d2:function(){return W},gk:function(){return q},hL:function(){return Qt},hu:function(){return J},n0:function(){return ve},y0:function(){return O}});var g=c(63580),Y=c(1432),Q=c(97461);const O=8;class y{constructor($e){this._values=$e}hasChanged($e){return this._values[$e]}}class J{constructor(){this._values=[]}_read($e){return this._values[$e]}get($e){return this._values[$e]}_write($e,Xe){this._values[$e]=Xe}}class k{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class P{constructor($e,Xe,wi,ii){this.id=$e,this.name=Xe,this.defaultValue=wi,this.schema=ii}compute($e,Xe,wi){return wi}}class s{constructor($e,Xe=null){this.schema=void 0,this.id=$e,this.name="_never_",this.defaultValue=void 0,this.deps=Xe}validate($e){return this.defaultValue}}class I{constructor($e,Xe,wi,ii){this.id=$e,this.name=Xe,this.defaultValue=wi,this.schema=ii}validate($e){return typeof $e=="undefined"?this.defaultValue:$e}compute($e,Xe,wi){return wi}}function m(oi,$e){return typeof oi=="undefined"?$e:oi==="false"?!1:!!oi}class C extends I{constructor($e,Xe,wi,ii=void 0){typeof ii!="undefined"&&(ii.type="boolean",ii.default=wi),super($e,Xe,wi,ii)}validate($e){return m($e,this.defaultValue)}}function V(oi,$e,Xe,wi){if(typeof oi=="undefined")return $e;let ii=parseInt(oi,10);return isNaN(ii)?$e:(ii=Math.max(Xe,ii),ii=Math.min(wi,ii),ii|0)}class r extends I{constructor($e,Xe,wi,ii,Ui,Mn=void 0){typeof Mn!="undefined"&&(Mn.type="integer",Mn.default=wi,Mn.minimum=ii,Mn.maximum=Ui),super($e,Xe,wi,Mn),this.minimum=ii,this.maximum=Ui}static clampedInt($e,Xe,wi,ii){return V($e,Xe,wi,ii)}validate($e){return r.clampedInt($e,this.defaultValue,this.minimum,this.maximum)}}class x extends I{constructor($e,Xe,wi,ii,Ui){typeof Ui!="undefined"&&(Ui.type="number",Ui.default=wi),super($e,Xe,wi,Ui),this.validationFn=ii}static clamp($e,Xe,wi){return $e<Xe?Xe:$e>wi?wi:$e}static float($e,Xe){if(typeof $e=="number")return $e;if(typeof $e=="undefined")return Xe;const wi=parseFloat($e);return isNaN(wi)?Xe:wi}validate($e){return this.validationFn(x.float($e,this.defaultValue))}}class w extends I{static string($e,Xe){return typeof $e!="string"?Xe:$e}constructor($e,Xe,wi,ii=void 0){typeof ii!="undefined"&&(ii.type="string",ii.default=wi),super($e,Xe,wi,ii)}validate($e){return w.string($e,this.defaultValue)}}function D(oi,$e,Xe){return typeof oi!="string"||Xe.indexOf(oi)===-1?$e:oi}class f extends I{constructor($e,Xe,wi,ii,Ui=void 0){typeof Ui!="undefined"&&(Ui.type="string",Ui.enum=ii,Ui.default=wi),super($e,Xe,wi,Ui),this._allowedValues=ii}validate($e){return D($e,this.defaultValue,this._allowedValues)}}class v extends P{constructor($e,Xe,wi,ii,Ui,Mn,Ri=void 0){typeof Ri!="undefined"&&(Ri.type="string",Ri.enum=Ui,Ri.default=ii),super($e,Xe,wi,Ri),this._allowedValues=Ui,this._convert=Mn}validate($e){return typeof $e!="string"?this.defaultValue:this._allowedValues.indexOf($e)===-1?this.defaultValue:this._convert($e)}}function L(oi){switch(oi){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class h extends P{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[g.N("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),g.N("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),g.N("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:g.N("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate($e){switch($e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute($e,Xe,wi){return wi===0?$e.accessibilitySupport:wi}}class R extends P{constructor(){const $e={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",$e,{"editor.comments.insertSpace":{type:"boolean",default:$e.insertSpace,description:g.N("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:$e.ignoreEmptyLines,description:g.N("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate($e){if(!$e||typeof $e!="object")return this.defaultValue;const Xe=$e;return{insertSpace:m(Xe.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:m(Xe.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function T(oi){switch(oi){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var W;(function(oi){oi[oi.Line=1]="Line",oi[oi.Block=2]="Block",oi[oi.Underline=3]="Underline",oi[oi.LineThin=4]="LineThin",oi[oi.BlockOutline=5]="BlockOutline",oi[oi.UnderlineThin=6]="UnderlineThin"})(W||(W={}));function K(oi){switch(oi){case"line":return W.Line;case"block":return W.Block;case"underline":return W.Underline;case"line-thin":return W.LineThin;case"block-outline":return W.BlockOutline;case"underline-thin":return W.UnderlineThin}}class ie extends s{constructor(){super(126,[65,33])}compute($e,Xe,wi){const ii=["monaco-editor"];return Xe.get(33)&&ii.push(Xe.get(33)),$e.extraEditorClassName&&ii.push($e.extraEditorClassName),Xe.get(65)==="default"?ii.push("mouse-default"):Xe.get(65)==="copy"&&ii.push("mouse-copy"),Xe.get(99)&&ii.push("showUnused"),Xe.get(124)&&ii.push("showDeprecated"),ii.join(" ")}}class ce extends C{constructor(){super(32,"emptySelectionClipboard",!0,{description:g.N("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute($e,Xe,wi){return wi&&$e.emptySelectionClipboard}}class _e extends P{constructor(){const $e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",$e,{"editor.find.cursorMoveOnType":{type:"boolean",default:$e.cursorMoveOnType,description:g.N("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:$e.seedSearchStringFromSelection,enumDescriptions:[g.N("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),g.N("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),g.N("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:g.N("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:$e.autoFindInSelection,enumDescriptions:[g.N("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),g.N("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),g.N("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:g.N("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:$e.globalFindClipboard,description:g.N("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:Y.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:$e.addExtraSpaceOnTop,description:g.N("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:$e.loop,description:g.N("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate($e){if(!$e||typeof $e!="object")return this.defaultValue;const Xe=$e;return{cursorMoveOnType:m(Xe.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof $e.seedSearchStringFromSelection=="boolean"?$e.seedSearchStringFromSelection?"always":"never":D(Xe.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof $e.autoFindInSelection=="boolean"?$e.autoFindInSelection?"always":"never":D(Xe.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:m(Xe.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:m(Xe.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:m(Xe.loop,this.defaultValue.loop)}}}class ve extends P{constructor(){super(44,"fontLigatures",ve.OFF,{anyOf:[{type:"boolean",description:g.N("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:g.N("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:g.N("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate($e){return typeof $e=="undefined"?this.defaultValue:typeof $e=="string"?$e==="false"?ve.OFF:$e==="true"?ve.ON:$e:$e?ve.ON:ve.OFF}}ve.OFF='"liga" off, "calt" off',ve.ON='"liga" on, "calt" on';class De extends s{constructor(){super(43)}compute($e,Xe,wi){return $e.fontInfo}}class le extends I{constructor(){super(45,"fontSize",Qt.fontSize,{type:"number",minimum:6,maximum:100,default:Qt.fontSize,description:g.N("fontSize","Controls the font size in pixels.")})}validate($e){let Xe=x.float($e,this.defaultValue);return Xe===0?Qt.fontSize:x.clamp(Xe,6,100)}compute($e,Xe,wi){return $e.fontInfo.fontSize}}class Z extends P{constructor(){super(46,"fontWeight",Qt.fontWeight,{anyOf:[{type:"number",minimum:Z.MINIMUM_VALUE,maximum:Z.MAXIMUM_VALUE,errorMessage:g.N("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Z.SUGGESTION_VALUES}],default:Qt.fontWeight,description:g.N("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate($e){return $e==="normal"||$e==="bold"?$e:String(r.clampedInt($e,Qt.fontWeight,Z.MINIMUM_VALUE,Z.MAXIMUM_VALUE))}}Z.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Z.MINIMUM_VALUE=1,Z.MAXIMUM_VALUE=1e3;class $ extends P{constructor(){const $e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},Xe={type:"string",enum:["peek","gotoAndPeek","goto"],default:$e.multiple,enumDescriptions:[g.N("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),g.N("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),g.N("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},wi=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(50,"gotoLocation",$e,{"editor.gotoLocation.multiple":{deprecationMessage:g.N("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:g.N("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},Xe),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:g.N("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},Xe),"editor.gotoLocation.multipleDeclarations":Object.assign({description:g.N("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},Xe),"editor.gotoLocation.multipleImplementations":Object.assign({description:g.N("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},Xe),"editor.gotoLocation.multipleReferences":Object.assign({description:g.N("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},Xe),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:$e.alternativeDefinitionCommand,enum:wi,description:g.N("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:$e.alternativeTypeDefinitionCommand,enum:wi,description:g.N("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:$e.alternativeDeclarationCommand,enum:wi,description:g.N("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:$e.alternativeImplementationCommand,enum:wi,description:g.N("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:$e.alternativeReferenceCommand,enum:wi,description:g.N("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate($e){var Xe,wi,ii,Ui,Mn;if(!$e||typeof $e!="object")return this.defaultValue;const Ri=$e;return{multiple:D(Ri.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(Xe=Ri.multipleDefinitions)!==null&&Xe!==void 0?Xe:D(Ri.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(wi=Ri.multipleTypeDefinitions)!==null&&wi!==void 0?wi:D(Ri.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(ii=Ri.multipleDeclarations)!==null&&ii!==void 0?ii:D(Ri.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Ui=Ri.multipleImplementations)!==null&&Ui!==void 0?Ui:D(Ri.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Mn=Ri.multipleReferences)!==null&&Mn!==void 0?Mn:D(Ri.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:w.string(Ri.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:w.string(Ri.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:w.string(Ri.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:w.string(Ri.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:w.string(Ri.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class G extends P{constructor(){const $e={enabled:!0,delay:300,sticky:!0,above:!0};super(52,"hover",$e,{"editor.hover.enabled":{type:"boolean",default:$e.enabled,description:g.N("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:$e.delay,description:g.N("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:$e.sticky,description:g.N("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:$e.above,description:g.N("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate($e){if(!$e||typeof $e!="object")return this.defaultValue;const Xe=$e;return{enabled:m(Xe.enabled,this.defaultValue.enabled),delay:r.clampedInt(Xe.delay,this.defaultValue.delay,0,1e4),sticky:m(Xe.sticky,this.defaultValue.sticky),above:m(Xe.above,this.defaultValue.above)}}}class q extends s{constructor(){super(129,[49,57,37,64,91,59,60,93,116,119,120,121,2])}compute($e,Xe,wi){return q.computeLayout(Xe,{memory:$e.memory,outerWidth:$e.outerWidth,outerHeight:$e.outerHeight,isDominatedByLongLines:$e.isDominatedByLongLines,lineHeight:$e.fontInfo.lineHeight,viewLineCount:$e.viewLineCount,lineNumbersDigitCount:$e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:$e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:$e.fontInfo.maxDigitWidth,pixelRatio:$e.pixelRatio})}static computeContainedMinimapLineCount($e){const Xe=$e.height/$e.lineHeight,wi=$e.scrollBeyondLastLine?Xe-1:0,ii=($e.viewLineCount+wi)/($e.pixelRatio*$e.height),Ui=Math.floor($e.viewLineCount/ii);return{typicalViewportLineCount:Xe,extraLinesBeyondLastLine:wi,desiredRatio:ii,minimapLineCount:Ui}}static _computeMinimapLayout($e,Xe){const wi=$e.outerWidth,ii=$e.outerHeight,Ui=$e.pixelRatio;if(!$e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Ui*ii),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:ii};const Mn=Xe.stableMinimapLayoutInput,Ri=Mn&&$e.outerHeight===Mn.outerHeight&&$e.lineHeight===Mn.lineHeight&&$e.typicalHalfwidthCharacterWidth===Mn.typicalHalfwidthCharacterWidth&&$e.pixelRatio===Mn.pixelRatio&&$e.scrollBeyondLastLine===Mn.scrollBeyondLastLine&&$e.minimap.enabled===Mn.minimap.enabled&&$e.minimap.side===Mn.minimap.side&&$e.minimap.size===Mn.minimap.size&&$e.minimap.showSlider===Mn.minimap.showSlider&&$e.minimap.renderCharacters===Mn.minimap.renderCharacters&&$e.minimap.maxColumn===Mn.minimap.maxColumn&&$e.minimap.scale===Mn.minimap.scale&&$e.verticalScrollbarWidth===Mn.verticalScrollbarWidth&&$e.isViewportWrapping===Mn.isViewportWrapping,ps=$e.lineHeight,Zn=$e.typicalHalfwidthCharacterWidth,Bn=$e.scrollBeyondLastLine,Xi=$e.minimap.renderCharacters;let Vn=Ui>=2?Math.round($e.minimap.scale*2):$e.minimap.scale;const qi=$e.minimap.maxColumn,je=$e.minimap.size,Tt=$e.minimap.side,St=$e.verticalScrollbarWidth,Ze=$e.viewLineCount,Je=$e.remainingWidth,xt=$e.isViewportWrapping,yt=Xi?2:3;let Xt=Math.floor(Ui*ii);const ni=Xt/Ui;let gi=!1,Gi=!1,ji=yt*Vn,is=Vn/Ui,Hi=1;if(je==="fill"||je==="fit"){const{typicalViewportLineCount:ft,extraLinesBeyondLastLine:ct,desiredRatio:ei,minimapLineCount:Vi}=q.computeContainedMinimapLineCount({viewLineCount:Ze,scrollBeyondLastLine:Bn,height:ii,lineHeight:ps,pixelRatio:Ui});if(Ze/Vi>1)gi=!0,Gi=!0,Vn=1,ji=1,is=Vn/Ui;else{let Di=!1,zi=Vn+1;if(je==="fit"){const dn=Math.ceil((Ze+ct)*ji);xt&&Ri&&Je<=Xe.stableFitRemainingWidth?(Di=!0,zi=Xe.stableFitMaxMinimapScale):Di=dn>Xt}if(je==="fill"||Di){gi=!0;const dn=Vn;ji=Math.min(ps*Ui,Math.max(1,Math.floor(1/ei))),xt&&Ri&&Je<=Xe.stableFitRemainingWidth&&(zi=Xe.stableFitMaxMinimapScale),Vn=Math.min(zi,Math.max(1,Math.floor(ji/yt))),Vn>dn&&(Hi=Math.min(2,Vn/dn)),is=Vn/Ui/Hi,Xt=Math.ceil(Math.max(ft,Ze+ct)*ji),xt?(Xe.stableMinimapLayoutInput=$e,Xe.stableFitRemainingWidth=Je,Xe.stableFitMaxMinimapScale=Vn):(Xe.stableMinimapLayoutInput=null,Xe.stableFitRemainingWidth=0)}}}const hn=Math.floor(qi*is),vt=Math.min(hn,Math.max(0,Math.floor((Je-St-2)*is/(Zn+is)))+O);let mt=Math.floor(Ui*vt);const Nt=mt/Ui;mt=Math.floor(mt*Hi);const He=Xi?1:2,Qe=Tt==="left"?0:wi-vt-St;return{renderMinimap:He,minimapLeft:Qe,minimapWidth:vt,minimapHeightIsEditorHeight:gi,minimapIsSampling:Gi,minimapScale:Vn,minimapLineHeight:ji,minimapCanvasInnerWidth:mt,minimapCanvasInnerHeight:Xt,minimapCanvasOuterWidth:Nt,minimapCanvasOuterHeight:ni}}static computeLayout($e,Xe){const wi=Xe.outerWidth|0,ii=Xe.outerHeight|0,Ui=Xe.lineHeight|0,Mn=Xe.lineNumbersDigitCount|0,Ri=Xe.typicalHalfwidthCharacterWidth,ps=Xe.maxDigitWidth,Zn=Xe.pixelRatio,Bn=Xe.viewLineCount,Xi=$e.get(121),Vn=Xi==="inherit"?$e.get(120):Xi,qi=Vn==="inherit"?$e.get(116):Vn,je=$e.get(119),Tt=$e.get(2),St=Xe.isDominatedByLongLines,Ze=$e.get(49),Je=$e.get(59).renderType!==0,xt=$e.get(60),yt=$e.get(93),Xt=$e.get(64),ni=$e.get(91),gi=ni.verticalScrollbarSize,Gi=ni.verticalHasArrows,ji=ni.arrowSize,is=ni.horizontalScrollbarSize,Hi=$e.get(57),hn=$e.get(37);let vt;if(typeof Hi=="string"&&/^\d+(\.\d+)?ch$/.test(Hi)){const pi=parseFloat(Hi.substr(0,Hi.length-2));vt=r.clampedInt(pi*Ri,0,0,1e3)}else vt=r.clampedInt(Hi,0,0,1e3);hn&&(vt+=16);let mt=0;if(Je){const pi=Math.max(Mn,xt);mt=Math.round(pi*ps)}let Nt=0;Ze&&(Nt=Ui);let He=0,Qe=He+Nt,ft=Qe+mt,ct=ft+vt;const ei=wi-Nt-mt-vt;let Vi=!1,fi=!1,Di=-1;Tt!==2&&(Vn==="inherit"&&St?(Vi=!0,fi=!0):qi==="on"||qi==="bounded"?fi=!0:qi==="wordWrapColumn"&&(Di=je));const zi=q._computeMinimapLayout({outerWidth:wi,outerHeight:ii,lineHeight:Ui,typicalHalfwidthCharacterWidth:Ri,pixelRatio:Zn,scrollBeyondLastLine:yt,minimap:Xt,verticalScrollbarWidth:gi,viewLineCount:Bn,remainingWidth:ei,isViewportWrapping:fi},Xe.memory||new k);zi.renderMinimap!==0&&zi.minimapLeft===0&&(He+=zi.minimapWidth,Qe+=zi.minimapWidth,ft+=zi.minimapWidth,ct+=zi.minimapWidth);const dn=ei-zi.minimapWidth,gn=Math.max(1,Math.floor((dn-gi-2)/Ri)),Mi=Gi?ji:0;return fi&&(Di=Math.max(1,gn),qi==="bounded"&&(Di=Math.min(Di,je))),{width:wi,height:ii,glyphMarginLeft:He,glyphMarginWidth:Nt,lineNumbersLeft:Qe,lineNumbersWidth:mt,decorationsLeft:ft,decorationsWidth:vt,contentLeft:ct,contentWidth:dn,minimap:zi,viewportColumn:gn,isWordWrapMinified:Vi,isViewportWrapping:fi,wrappingColumn:Di,verticalScrollbarWidth:gi,horizontalScrollbarHeight:is,overviewRuler:{top:Mi,width:gi,height:ii-2*Mi,right:0}}}}class p extends P{constructor(){const $e={enabled:!0};super(56,"lightbulb",$e,{"editor.lightbulb.enabled":{type:"boolean",default:$e.enabled,description:g.N("codeActions","Enables the code action lightbulb in the editor.")}})}validate($e){return!$e||typeof $e!="object"?this.defaultValue:{enabled:m($e.enabled,this.defaultValue.enabled)}}}class S extends P{constructor(){const $e={enabled:!0,fontSize:0,fontFamily:""};super(125,"inlayHints",$e,{"editor.inlayHints.enabled":{type:"boolean",default:$e.enabled,description:g.N("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:$e.fontSize,markdownDescription:g.N("inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:$e.fontFamily,markdownDescription:g.N("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate($e){if(!$e||typeof $e!="object")return this.defaultValue;const Xe=$e;return{enabled:m(Xe.enabled,this.defaultValue.enabled),fontSize:r.clampedInt(Xe.fontSize,this.defaultValue.fontSize,0,100),fontFamily:w.string(Xe.fontFamily,this.defaultValue.fontFamily)}}}class B extends x{constructor(){super(58,"lineHeight",Qt.lineHeight,$e=>x.clamp($e,0,150),{markdownDescription:g.N("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute($e,Xe,wi){return $e.fontInfo.lineHeight}}class te extends P{constructor(){const $e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(64,"minimap",$e,{"editor.minimap.enabled":{type:"boolean",default:$e.enabled,description:g.N("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[g.N("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),g.N("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),g.N("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:$e.size,description:g.N("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:$e.side,description:g.N("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:$e.showSlider,description:g.N("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:$e.scale,minimum:1,maximum:3,enum:[1,2,3],description:g.N("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:$e.renderCharacters,description:g.N("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:$e.maxColumn,description:g.N("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate($e){if(!$e||typeof $e!="object")return this.defaultValue;const Xe=$e;return{enabled:m(Xe.enabled,this.defaultValue.enabled),size:D(Xe.size,this.defaultValue.size,["proportional","fill","fit"]),side:D(Xe.side,this.defaultValue.side,["right","left"]),showSlider:D(Xe.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:m(Xe.renderCharacters,this.defaultValue.renderCharacters),scale:r.clampedInt(Xe.scale,1,1,3),maxColumn:r.clampedInt(Xe.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function me(oi){return oi==="ctrlCmd"?Y.dz?"metaKey":"ctrlKey":"altKey"}class de extends P{constructor(){super(74,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:g.N("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:g.N("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate($e){if(!$e||typeof $e!="object")return this.defaultValue;const Xe=$e;return{top:r.clampedInt(Xe.top,0,0,1e3),bottom:r.clampedInt(Xe.bottom,0,0,1e3)}}}class Pe extends P{constructor(){const $e={enabled:!0,cycle:!1};super(75,"parameterHints",$e,{"editor.parameterHints.enabled":{type:"boolean",default:$e.enabled,description:g.N("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:$e.cycle,description:g.N("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate($e){if(!$e||typeof $e!="object")return this.defaultValue;const Xe=$e;return{enabled:m(Xe.enabled,this.defaultValue.enabled),cycle:m(Xe.cycle,this.defaultValue.cycle)}}}class Me extends s{constructor(){super(127)}compute($e,Xe,wi){return $e.pixelRatio}}class nt extends P{constructor(){const $e={other:!0,comments:!1,strings:!1};super(78,"quickSuggestions",$e,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:$e.strings,description:g.N("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:$e.comments,description:g.N("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:$e.other,description:g.N("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:$e,description:g.N("quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=$e}validate($e){if(typeof $e=="boolean")return $e;if($e&&typeof $e=="object"){const Xe=$e,wi={other:m(Xe.other,this.defaultValue.other),comments:m(Xe.comments,this.defaultValue.comments),strings:m(Xe.strings,this.defaultValue.strings)};return wi.other&&wi.comments&&wi.strings?!0:!wi.other&&!wi.comments&&!wi.strings?!1:wi}return this.defaultValue}}class It extends P{constructor(){super(59,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[g.N("lineNumbers.off","Line numbers are not rendered."),g.N("lineNumbers.on","Line numbers are rendered as absolute number."),g.N("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),g.N("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:g.N("lineNumbers","Controls the display of line numbers.")})}validate($e){let Xe=this.defaultValue.renderType,wi=this.defaultValue.renderFn;return typeof $e!="undefined"&&(typeof $e=="function"?(Xe=4,wi=$e):$e==="interval"?Xe=3:$e==="relative"?Xe=2:$e==="on"?Xe=1:Xe=0),{renderType:Xe,renderFn:wi}}}function ht(oi){const $e=oi.get(86);return $e==="editable"?oi.get(80):$e!=="on"}class Mt extends P{constructor(){const $e=[],Xe={type:"number",description:g.N("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(90,"rulers",$e,{type:"array",items:{anyOf:[Xe,{type:["object"],properties:{column:Xe,color:{type:"string",description:g.N("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:$e,description:g.N("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate($e){if(Array.isArray($e)){let Xe=[];for(let wi of $e)if(typeof wi=="number")Xe.push({column:r.clampedInt(wi,0,0,1e4),color:null});else if(wi&&typeof wi=="object"){const ii=wi;Xe.push({column:r.clampedInt(ii.column,0,0,1e4),color:ii.color})}return Xe.sort((wi,ii)=>wi.column-ii.column),Xe}return this.defaultValue}}function it(oi,$e){if(typeof oi!="string")return $e;switch(oi){case"hidden":return 2;case"visible":return 3;default:return 1}}class kt extends P{constructor(){const $e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(91,"scrollbar",$e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[g.N("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),g.N("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),g.N("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:g.N("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[g.N("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),g.N("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),g.N("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:g.N("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:$e.verticalScrollbarSize,description:g.N("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:$e.horizontalScrollbarSize,description:g.N("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:$e.scrollByPage,description:g.N("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate($e){if(!$e||typeof $e!="object")return this.defaultValue;const Xe=$e,wi=r.clampedInt(Xe.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),ii=r.clampedInt(Xe.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:r.clampedInt(Xe.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:it(Xe.vertical,this.defaultValue.vertical),horizontal:it(Xe.horizontal,this.defaultValue.horizontal),useShadows:m(Xe.useShadows,this.defaultValue.useShadows),verticalHasArrows:m(Xe.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:m(Xe.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:m(Xe.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:m(Xe.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:wi,horizontalSliderSize:r.clampedInt(Xe.horizontalSliderSize,wi,0,1e3),verticalScrollbarSize:ii,verticalSliderSize:r.clampedInt(Xe.verticalSliderSize,ii,0,1e3),scrollByPage:m(Xe.scrollByPage,this.defaultValue.scrollByPage)}}}class ze extends P{constructor(){const $e={enabled:!0,mode:"subwordSmart"};super(54,"inlineSuggest",$e,{"editor.inlineSuggest.enabled":{type:"boolean",default:$e.enabled,description:g.N("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate($e){if(!$e||typeof $e!="object")return this.defaultValue;const Xe=$e;return{enabled:m(Xe.enabled,this.defaultValue.enabled),mode:D(Xe.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class he extends P{constructor(){const $e={enabled:ci.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",$e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:$e.enabled,description:g.N("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate($e){return!$e||typeof $e!="object"?this.defaultValue:{enabled:m($e.enabled,this.defaultValue.enabled)}}}class ke extends P{constructor(){const $e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",$e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[g.N("editor.guides.bracketPairs.true","Enables bracket pair guides."),g.N("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),g.N("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:$e.bracketPairs,description:g.N("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[g.N("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),g.N("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),g.N("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:$e.bracketPairsHorizontal,description:g.N("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:$e.highlightActiveBracketPair,description:g.N("editor.guides.highlightActiveBracketPair","Controls whether bracket pair guides are enabled or not.")},"editor.guides.indentation":{type:"boolean",default:$e.indentation,description:g.N("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:$e.highlightActiveIndentation,description:g.N("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate($e){if(!$e||typeof $e!="object")return this.defaultValue;const Xe=$e;return{bracketPairs:et(Xe.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:et(Xe.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:m(Xe.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:m(Xe.indentation,this.defaultValue.indentation),highlightActiveIndentation:m(Xe.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}function et(oi,$e,Xe){const wi=Xe.indexOf(oi);return wi===-1?$e:Xe[wi]}class at extends P{constructor(){const $e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(105,"suggest",$e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[g.N("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),g.N("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:$e.insertMode,description:g.N("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:$e.filterGraceful,description:g.N("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:$e.localityBonus,description:g.N("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:$e.shareSuggestSelections,markdownDescription:g.N("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:$e.snippetsPreventQuickSuggestions,description:g.N("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:$e.showIcons,description:g.N("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:$e.showStatusBar,description:g.N("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:$e.preview,description:g.N("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:$e.showInlineDetails,description:g.N("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:g.N("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:g.N("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:g.N("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate($e){if(!$e||typeof $e!="object")return this.defaultValue;const Xe=$e;return{insertMode:D(Xe.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:m(Xe.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:m(Xe.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:m(Xe.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:m(Xe.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:m(Xe.showIcons,this.defaultValue.showIcons),showStatusBar:m(Xe.showStatusBar,this.defaultValue.showStatusBar),preview:m(Xe.preview,this.defaultValue.preview),previewMode:D(Xe.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:m(Xe.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:m(Xe.showMethods,this.defaultValue.showMethods),showFunctions:m(Xe.showFunctions,this.defaultValue.showFunctions),showConstructors:m(Xe.showConstructors,this.defaultValue.showConstructors),showDeprecated:m(Xe.showDeprecated,this.defaultValue.showDeprecated),showFields:m(Xe.showFields,this.defaultValue.showFields),showVariables:m(Xe.showVariables,this.defaultValue.showVariables),showClasses:m(Xe.showClasses,this.defaultValue.showClasses),showStructs:m(Xe.showStructs,this.defaultValue.showStructs),showInterfaces:m(Xe.showInterfaces,this.defaultValue.showInterfaces),showModules:m(Xe.showModules,this.defaultValue.showModules),showProperties:m(Xe.showProperties,this.defaultValue.showProperties),showEvents:m(Xe.showEvents,this.defaultValue.showEvents),showOperators:m(Xe.showOperators,this.defaultValue.showOperators),showUnits:m(Xe.showUnits,this.defaultValue.showUnits),showValues:m(Xe.showValues,this.defaultValue.showValues),showConstants:m(Xe.showConstants,this.defaultValue.showConstants),showEnums:m(Xe.showEnums,this.defaultValue.showEnums),showEnumMembers:m(Xe.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:m(Xe.showKeywords,this.defaultValue.showKeywords),showWords:m(Xe.showWords,this.defaultValue.showWords),showColors:m(Xe.showColors,this.defaultValue.showColors),showFiles:m(Xe.showFiles,this.defaultValue.showFiles),showReferences:m(Xe.showReferences,this.defaultValue.showReferences),showFolders:m(Xe.showFolders,this.defaultValue.showFolders),showTypeParameters:m(Xe.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:m(Xe.showSnippets,this.defaultValue.showSnippets),showUsers:m(Xe.showUsers,this.defaultValue.showUsers),showIssues:m(Xe.showIssues,this.defaultValue.showIssues)}}}class rt extends P{constructor(){super(101,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:g.N("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate($e){return!$e||typeof $e!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:m($e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class Ne extends s{constructor(){super(128,[80])}compute($e,Xe,wi){return Xe.get(80)?!0:$e.tabFocusMode}}function Oe(oi){switch(oi){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class we extends s{constructor(){super(130,[129])}compute($e,Xe,wi){const ii=Xe.get(129);return{isDominatedByLongLines:$e.isDominatedByLongLines,isWordWrapMinified:ii.isWordWrapMinified,isViewportWrapping:ii.isViewportWrapping,wrappingColumn:ii.wrappingColumn}}}const Qt={fontFamily:Y.dz?"Menlo, Monaco, 'Courier New', monospace":Y.IJ?"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:Y.dz?12:14,lineHeight:0,letterSpacing:0},ci={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},Gt=[];function Lt(oi){return Gt[oi.id]=oi,oi}const Ai={acceptSuggestionOnCommitCharacter:Lt(new C(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:g.N("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Lt(new f(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",g.N("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:g.N("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Lt(new h),accessibilityPageSize:Lt(new r(3,"accessibilityPageSize",10,1,1073741824,{description:g.N("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:Lt(new w(4,"ariaLabel",g.N("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:Lt(new f(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",g.N("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),g.N("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:g.N("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:Lt(new f(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",g.N("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:g.N("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:Lt(new f(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",g.N("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:g.N("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Lt(new f(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",g.N("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),g.N("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:g.N("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Lt(new v(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],L,{enumDescriptions:[g.N("editor.autoIndent.none","The editor will not insert indentation automatically."),g.N("editor.autoIndent.keep","The editor will keep the current line's indentation."),g.N("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),g.N("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),g.N("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:g.N("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Lt(new C(10,"automaticLayout",!1)),autoSurround:Lt(new f(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[g.N("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),g.N("editor.autoSurround.quotes","Surround with quotes but not brackets."),g.N("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:g.N("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:Lt(new he),bracketPairGuides:Lt(new ke),stickyTabStops:Lt(new C(103,"stickyTabStops",!1,{description:g.N("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:Lt(new C(14,"codeLens",!0,{description:g.N("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:Lt(new w(15,"codeLensFontFamily","",{description:g.N("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:Lt(new r(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:g.N("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, the 90% of `#editor.fontSize#` is used.")})),colorDecorators:Lt(new C(17,"colorDecorators",!0,{description:g.N("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:Lt(new C(18,"columnSelection",!1,{description:g.N("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:Lt(new R),contextmenu:Lt(new C(20,"contextmenu",!0)),copyWithSyntaxHighlighting:Lt(new C(21,"copyWithSyntaxHighlighting",!0,{description:g.N("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Lt(new v(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],T,{description:g.N("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:Lt(new C(23,"cursorSmoothCaretAnimation",!1,{description:g.N("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Lt(new v(24,"cursorStyle",W.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],K,{description:g.N("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:Lt(new r(25,"cursorSurroundingLines",0,0,1073741824,{description:g.N("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:Lt(new f(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[g.N("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),g.N("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:g.N("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:Lt(new r(27,"cursorWidth",0,0,1073741824,{markdownDescription:g.N("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Lt(new C(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:Lt(new C(29,"disableMonospaceOptimizations",!1)),domReadOnly:Lt(new C(30,"domReadOnly",!1)),dragAndDrop:Lt(new C(31,"dragAndDrop",!0,{description:g.N("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Lt(new ce),extraEditorClassName:Lt(new w(33,"extraEditorClassName","")),fastScrollSensitivity:Lt(new x(34,"fastScrollSensitivity",5,oi=>oi<=0?5:oi,{markdownDescription:g.N("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:Lt(new _e),fixedOverflowWidgets:Lt(new C(36,"fixedOverflowWidgets",!1)),folding:Lt(new C(37,"folding",!0,{description:g.N("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:Lt(new f(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[g.N("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),g.N("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:g.N("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:Lt(new C(39,"foldingHighlight",!0,{description:g.N("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:Lt(new C(40,"foldingImportsByDefault",!1,{description:g.N("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),unfoldOnClickAfterEndOfLine:Lt(new C(41,"unfoldOnClickAfterEndOfLine",!1,{description:g.N("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:Lt(new w(42,"fontFamily",Qt.fontFamily,{description:g.N("fontFamily","Controls the font family.")})),fontInfo:Lt(new De),fontLigatures2:Lt(new ve),fontSize:Lt(new le),fontWeight:Lt(new Z),formatOnPaste:Lt(new C(47,"formatOnPaste",!1,{description:g.N("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Lt(new C(48,"formatOnType",!1,{description:g.N("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Lt(new C(49,"glyphMargin",!0,{description:g.N("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Lt(new $),hideCursorInOverviewRuler:Lt(new C(51,"hideCursorInOverviewRuler",!1,{description:g.N("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:Lt(new G),inDiffEditor:Lt(new C(53,"inDiffEditor",!1)),letterSpacing:Lt(new x(55,"letterSpacing",Qt.letterSpacing,oi=>x.clamp(oi,-5,20),{description:g.N("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:Lt(new p),lineDecorationsWidth:Lt(new I(57,"lineDecorationsWidth",10)),lineHeight:Lt(new B),lineNumbers:Lt(new It),lineNumbersMinChars:Lt(new r(60,"lineNumbersMinChars",5,1,300)),linkedEditing:Lt(new C(61,"linkedEditing",!1,{description:g.N("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:Lt(new C(62,"links",!0,{description:g.N("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Lt(new f(63,"matchBrackets","always",["always","near","never"],{description:g.N("matchBrackets","Highlight matching brackets.")})),minimap:Lt(new te),mouseStyle:Lt(new f(65,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Lt(new x(66,"mouseWheelScrollSensitivity",1,oi=>oi===0?1:oi,{markdownDescription:g.N("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Lt(new C(67,"mouseWheelZoom",!1,{markdownDescription:g.N("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Lt(new C(68,"multiCursorMergeOverlapping",!0,{description:g.N("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Lt(new v(69,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],me,{markdownEnumDescriptions:[g.N("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),g.N("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:g.N({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Lt(new f(70,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[g.N("multiCursorPaste.spread","Each cursor pastes a single line of the text."),g.N("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:g.N("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:Lt(new C(71,"occurrencesHighlight",!0,{description:g.N("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:Lt(new C(72,"overviewRulerBorder",!0,{description:g.N("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Lt(new r(73,"overviewRulerLanes",3,0,3)),padding:Lt(new de),parameterHints:Lt(new Pe),peekWidgetDefaultFocus:Lt(new f(76,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[g.N("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),g.N("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:g.N("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:Lt(new C(77,"definitionLinkOpensInPeek",!1,{description:g.N("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:Lt(new nt),quickSuggestionsDelay:Lt(new r(79,"quickSuggestionsDelay",10,0,1073741824,{description:g.N("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Lt(new C(80,"readOnly",!1)),renameOnType:Lt(new C(81,"renameOnType",!1,{description:g.N("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:g.N("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:Lt(new C(82,"renderControlCharacters",!0,{description:g.N("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:Lt(new C(83,"renderFinalNewline",!0,{description:g.N("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:Lt(new f(84,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",g.N("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:g.N("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:Lt(new C(85,"renderLineHighlightOnlyWhenFocus",!1,{description:g.N("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:Lt(new f(86,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Lt(new f(87,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",g.N("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),g.N("renderWhitespace.selection","Render whitespace characters only on selected text."),g.N("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:g.N("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Lt(new r(88,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:Lt(new C(89,"roundedSelection",!0,{description:g.N("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:Lt(new Mt),scrollbar:Lt(new kt),scrollBeyondLastColumn:Lt(new r(92,"scrollBeyondLastColumn",5,0,1073741824,{description:g.N("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Lt(new C(93,"scrollBeyondLastLine",!0,{description:g.N("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:Lt(new C(94,"scrollPredominantAxis",!0,{description:g.N("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:Lt(new C(95,"selectionClipboard",!0,{description:g.N("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:Y.IJ})),selectionHighlight:Lt(new C(96,"selectionHighlight",!0,{description:g.N("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Lt(new C(97,"selectOnLineNumbers",!0)),showFoldingControls:Lt(new f(98,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[g.N("showFoldingControls.always","Always show the folding controls."),g.N("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:g.N("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:Lt(new C(99,"showUnused",!0,{description:g.N("showUnused","Controls fading out of unused code.")})),showDeprecated:Lt(new C(124,"showDeprecated",!0,{description:g.N("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:Lt(new S),snippetSuggestions:Lt(new f(100,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[g.N("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),g.N("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),g.N("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),g.N("snippetSuggestions.none","Do not show snippet suggestions.")],description:g.N("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:Lt(new rt),smoothScrolling:Lt(new C(102,"smoothScrolling",!1,{description:g.N("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Lt(new r(104,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Lt(new at),inlineSuggest:Lt(new ze),suggestFontSize:Lt(new r(106,"suggestFontSize",0,0,1e3,{markdownDescription:g.N("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:Lt(new r(107,"suggestLineHeight",0,0,1e3,{markdownDescription:g.N("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:Lt(new C(108,"suggestOnTriggerCharacters",!0,{description:g.N("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Lt(new f(109,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[g.N("suggestSelection.first","Always select the first suggestion."),g.N("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),g.N("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:g.N("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Lt(new f(110,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[g.N("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),g.N("tabCompletion.off","Disable tab completions."),g.N("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:g.N("tabCompletion","Enables tab completions.")})),tabIndex:Lt(new r(111,"tabIndex",0,-1,1073741824)),unusualLineTerminators:Lt(new f(112,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[g.N("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),g.N("unusualLineTerminators.off","Unusual line terminators are ignored."),g.N("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:g.N("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:Lt(new C(113,"useShadowDOM",!0)),useTabStops:Lt(new C(114,"useTabStops",!0,{description:g.N("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:Lt(new w(115,"wordSeparators",Q.vu,{description:g.N("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Lt(new f(116,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[g.N("wordWrap.off","Lines will never wrap."),g.N("wordWrap.on","Lines will wrap at the viewport width."),g.N({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),g.N({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:g.N({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Lt(new w(117,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Lt(new w(118,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Lt(new r(119,"wordWrapColumn",80,1,1073741824,{markdownDescription:g.N({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:Lt(new f(120,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Lt(new f(121,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:Lt(new v(122,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],Oe,{enumDescriptions:[g.N("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),g.N("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),g.N("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),g.N("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:g.N("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:Lt(new f(123,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[g.N("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),g.N("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:g.N("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:Lt(new ie),pixelRatio:Lt(new Me),tabFocusMode:Lt(new Ne),layoutInfo:Lt(new q),wrappingInfo:Lt(new we)}},82334:function(Yt,Ue,c){"use strict";c.d(Ue,{C:function(){return Y}});var g=c(4669);const Y=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new g.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(Q){Q=Math.min(Math.max(-5,Q),20),this._zoomLevel!==Q&&(this._zoomLevel=Q,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},27374:function(Yt,Ue,c){"use strict";c.d(Ue,{E4:function(){return y},pR:function(){return k}});var g=c(1432),Y=c(82334);const Q=g.dz?1.5:1.35,O=8;class y{constructor(s){this._bareFontInfoBrand=void 0,this.zoomLevel=s.zoomLevel,this.pixelRatio=s.pixelRatio,this.fontFamily=String(s.fontFamily),this.fontWeight=String(s.fontWeight),this.fontSize=s.fontSize,this.fontFeatureSettings=s.fontFeatureSettings,this.lineHeight=s.lineHeight|0,this.letterSpacing=s.letterSpacing}static createFromValidatedSettings(s,I,m,C){const V=s.get(42),r=s.get(46),x=s.get(45),w=s.get(44),D=s.get(58),f=s.get(55);return y._create(V,r,x,w,D,f,I,m,C)}static _create(s,I,m,C,V,r,x,w,D){V===0?V=Q*m:V<O&&(V=V*m),V=Math.round(V),V<O&&(V=O);const f=1+(D?0:Y.C.getZoomLevel()*.1);return m*=f,V*=f,new y({zoomLevel:x,pixelRatio:w,fontFamily:s,fontWeight:I,fontSize:m,fontFeatureSettings:C,lineHeight:V,letterSpacing:r})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(s){const I=y._wrapInQuotes(this.fontFamily);return s&&this.fontFamily!==s?`${I}, ${s}`:I}static _wrapInQuotes(s){return/[,"']/.test(s)?s:/[+ ]/.test(s)?`"${s}"`:s}}const J=1;class k extends y{constructor(s,I){super(s),this._editorStylingBrand=void 0,this.version=J,this.isTrusted=I,this.isMonospace=s.isMonospace,this.typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=s.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=s.canUseHalfwidthRightwardsArrow,this.spaceWidth=s.spaceWidth,this.middotWidth=s.middotWidth,this.wsmiddotWidth=s.wsmiddotWidth,this.maxDigitWidth=s.maxDigitWidth}equals(s){return this.fontFamily===s.fontFamily&&this.fontWeight===s.fontWeight&&this.fontSize===s.fontSize&&this.fontFeatureSettings===s.fontFeatureSettings&&this.lineHeight===s.lineHeight&&this.letterSpacing===s.letterSpacing&&this.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===s.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===s.canUseHalfwidthRightwardsArrow&&this.spaceWidth===s.spaceWidth&&this.middotWidth===s.middotWidth&&this.wsmiddotWidth===s.wsmiddotWidth&&this.maxDigitWidth===s.maxDigitWidth}}},3675:function(Yt,Ue,c){"use strict";c.d(Ue,{l:function(){return Y}});var g=c(33181);class Y{static whitespaceVisibleColumn(O,y,J){const k=O.length;let P=0,s=-1,I=-1;for(let m=0;m<k;m++){if(m===y)return[s,I,P];switch(P%J===0&&(s=m,I=P),O.charCodeAt(m)){case 32:P+=1;break;case 9:P=g.io.nextRenderTabStop(P,J);break;default:return[-1,-1,-1]}}return y===k?[s,I,P]:[-1,-1,-1]}static atomicPosition(O,y,J,k){const P=O.length,[s,I,m]=Y.whitespaceVisibleColumn(O,y,J);if(m===-1)return-1;let C;switch(k){case 0:C=!0;break;case 1:C=!1;break;case 2:if(m%J===0)return y;C=m%J<=J/2;break}if(C){if(s===-1)return-1;let x=I;for(let w=s;w<P;++w){if(x===I+J)return s;switch(O.charCodeAt(w)){case 32:x+=1;break;case 9:x=g.io.nextRenderTabStop(x,J);break;default:return-1}}return x===I+J?s:-1}const V=g.io.nextRenderTabStop(m,J);let r=m;for(let x=y;x<P;x++){if(r===V)return x;switch(O.charCodeAt(x)){case 32:r+=1;break;case 9:r=g.io.nextRenderTabStop(r,J);break;default:return-1}}return r===V?P:-1}}},47707:function(Yt,Ue,c){"use strict";c.d(Ue,{i:function(){return Y}});var g=c(97295);class Y{static visibleColumnFromColumn(O,y,J){const k=O.length,P=y-1<k?y-1:k;let s=0,I=0;for(;I<P;){const m=g.ZH(O,P,I);if(I+=m>=65536?2:1,m===9)s=Y.nextRenderTabStop(s,J);else{let C=g.S6(m);for(;I<P;){const V=g.ZH(O,P,I),r=g.S6(V);if(g.fi(C,r))break;I+=V>=65536?2:1,C=r}g.K7(m)||g.C8(m)?s=s+2:s=s+1}}return s}static visibleColumnsByColumns(O,y){const J=O.length;let k=new Array;k.push(-1);let P=0,s=0;for(;s<J;){const I=g.ZH(O,J,s);if(s+=I>=65536?2:1,k.push(P),I>=65536&&k.push(P),I===9)P=Y.nextRenderTabStop(P,y);else{let m=g.S6(I);for(;s<J;){const C=g.ZH(O,J,s),V=g.S6(C);if(g.fi(m,V))break;s+=C>=65536?2:1,k.push(P),I>=65536&&k.push(P),m=V}g.K7(I)||g.C8(I)?P=P+2:P=P+1}}return k.push(P),k}static visibleColumnFromColumn2(O,y,J){return this.visibleColumnFromColumn(y.getLineContent(J.lineNumber),J.column,O.tabSize)}static columnFromVisibleColumn(O,y,J){if(y<=0)return 1;const k=O.length;let P=0,s=1,I=0;for(;I<k;){const m=g.ZH(O,k,I);I+=m>=65536?2:1;let C;if(m===9)C=Y.nextRenderTabStop(P,J);else{let r=g.S6(m);for(;I<k;){const x=g.ZH(O,k,I),w=g.S6(x);if(g.fi(r,w))break;I+=x>=65536?2:1,r=w}g.K7(m)||g.C8(m)?C=P+2:C=P+1}const V=I+1;if(C>=y){const r=y-P;return C-y<r?V:s}P=C,s=V}return k+1}static columnFromVisibleColumn2(O,y,J,k){let P=this.columnFromVisibleColumn(y.getLineContent(J),k,O.tabSize),s=y.getLineMinColumn(J);if(P<s)return s;let I=y.getLineMaxColumn(J);return P>I?I:P}static nextRenderTabStop(O,y){return O+y-O%y}static nextIndentTabStop(O,y){return O+y-O%y}static prevRenderTabStop(O,y){return Math.max(0,O-1-(O-1)%y)}static prevIndentTabStop(O,y){return Math.max(0,O-1-(O-1)%y)}}},33181:function(Yt,Ue,c){"use strict";c.d(Ue,{LM:function(){return m},LN:function(){return f},Tp:function(){return D},Vi:function(){return w},io:function(){return k.i},rS:function(){return C},zp:function(){return V}});var g=c(17301),Y=c(50187),Q=c(24314),O=c(3860),y=c(24979),J=c(94660),k=c(47707);const P=()=>!0,s=()=>!1,I=v=>v===" "||v==="	";class m{constructor(L,h,R){this._cursorMoveConfigurationBrand=void 0,this._languageId=L;const T=R.options,W=T.get(129);this.readOnly=T.get(80),this.tabSize=h.tabSize,this.indentSize=h.indentSize,this.insertSpaces=h.insertSpaces,this.stickyTabStops=T.get(103),this.lineHeight=T.get(58),this.pageSize=Math.max(1,Math.floor(W.height/this.lineHeight)-2),this.useTabStops=T.get(114),this.wordSeparators=T.get(115),this.emptySelectionClipboard=T.get(32),this.copyWithSyntaxHighlighting=T.get(21),this.multiCursorMergeOverlapping=T.get(68),this.multiCursorPaste=T.get(70),this.autoClosingBrackets=T.get(5),this.autoClosingQuotes=T.get(8),this.autoClosingDelete=T.get(6),this.autoClosingOvertype=T.get(7),this.autoSurround=T.get(11),this.autoIndent=T.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:m._getShouldAutoClose(L,this.autoClosingQuotes),bracket:m._getShouldAutoClose(L,this.autoClosingBrackets)},this.autoClosingPairs=J.zu.getAutoClosingPairs(L);let K=m._getSurroundingPairs(L);if(K)for(const ie of K)this.surroundingPairs[ie.open]=ie.close}static shouldRecreate(L){return L.hasChanged(129)||L.hasChanged(115)||L.hasChanged(32)||L.hasChanged(68)||L.hasChanged(70)||L.hasChanged(5)||L.hasChanged(8)||L.hasChanged(6)||L.hasChanged(7)||L.hasChanged(11)||L.hasChanged(114)||L.hasChanged(58)||L.hasChanged(80)}get electricChars(){if(!this._electricChars){this._electricChars={};let L=m._getElectricCharacters(this._languageId);if(L)for(const h of L)this._electricChars[h]=!0}return this._electricChars}normalizeIndentation(L){return y.yO.normalizeIndentation(L,this.indentSize,this.insertSpaces)}static _getElectricCharacters(L){try{return J.zu.getElectricCharacters(L)}catch(h){return(0,g.dL)(h),null}}static _getShouldAutoClose(L,h){switch(h){case"beforeWhitespace":return I;case"languageDefined":return m._getLanguageDefinedShouldAutoClose(L);case"always":return P;case"never":return s}}static _getLanguageDefinedShouldAutoClose(L){try{const h=J.zu.getAutoCloseBeforeSet(L);return R=>h.indexOf(R)!==-1}catch(h){return(0,g.dL)(h),s}}static _getSurroundingPairs(L){try{return J.zu.getSurroundingPairs(L)}catch(h){return(0,g.dL)(h),null}}}class C{constructor(L,h,R,T){this._singleCursorStateBrand=void 0,this.selectionStart=L,this.selectionStartLeftoverVisibleColumns=h,this.position=R,this.leftoverVisibleColumns=T,this.selection=C._computeSelection(this.selectionStart,this.position)}equals(L){return this.selectionStartLeftoverVisibleColumns===L.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===L.leftoverVisibleColumns&&this.position.equals(L.position)&&this.selectionStart.equalsRange(L.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(L,h,R,T){return L?new C(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new Y.L(h,R),T):new C(new Q.e(h,R,h,R),T,new Y.L(h,R),T)}static _computeSelection(L,h){let R,T,W,K;return L.isEmpty()?(R=L.startLineNumber,T=L.startColumn,W=h.lineNumber,K=h.column):h.isBeforeOrEqual(L.getStartPosition())?(R=L.endLineNumber,T=L.endColumn,W=h.lineNumber,K=h.column):(R=L.startLineNumber,T=L.startColumn,W=h.lineNumber,K=h.column),new O.Y(R,T,W,K)}}class V{constructor(L,h,R,T){this._cursorContextBrand=void 0,this.model=L,this.viewModel=h,this.coordinatesConverter=R,this.cursorConfig=T}}class r{constructor(L){this.modelState=L,this.viewState=null}}class x{constructor(L){this.modelState=null,this.viewState=L}}class w{constructor(L,h){this._cursorStateBrand=void 0,this.modelState=L,this.viewState=h}static fromModelState(L){return new r(L)}static fromViewState(L){return new x(L)}static fromModelSelection(L){const h=L.selectionStartLineNumber,R=L.selectionStartColumn,T=L.positionLineNumber,W=L.positionColumn,K=new C(new Q.e(h,R,h,R),0,new Y.L(T,W),0);return w.fromModelState(K)}static fromModelSelections(L){let h=[];for(let R=0,T=L.length;R<T;R++)h[R]=this.fromModelSelection(L[R]);return h}equals(L){return this.viewState.equals(L.viewState)&&this.modelState.equals(L.modelState)}}class D{constructor(L,h,R){this._editOperationResultBrand=void 0,this.type=L,this.commands=h,this.shouldPushStackElementBefore=R.shouldPushStackElementBefore,this.shouldPushStackElementAfter=R.shouldPushStackElementAfter}}function f(v){return v==="'"||v==='"'||v==="`"}},31380:function(Yt,Ue,c){"use strict";c.d(Ue,{A:function(){return k}});var g=c(97295),Y=c(61329),Q=c(33181),O=c(88784),y=c(24314),J=c(50187);class k{static deleteRight(s,I,m,C){let V=[],r=s!==3;for(let x=0,w=C.length;x<w;x++){const D=C[x];let f=D;if(f.isEmpty()){let v=D.getPosition(),L=O.o.right(I,m,v);f=new y.e(L.lineNumber,L.column,v.lineNumber,v.column)}if(f.isEmpty()){V[x]=null;continue}f.startLineNumber!==f.endLineNumber&&(r=!0),V[x]=new Y.T4(f,"")}return[r,V]}static isAutoClosingPairDelete(s,I,m,C,V,r,x){if(I==="never"&&m==="never"||s==="never")return!1;for(let w=0,D=r.length;w<D;w++){const f=r[w],v=f.getPosition();if(!f.isEmpty())return!1;const L=V.getLineContent(v.lineNumber);if(v.column<2||v.column>=L.length+1)return!1;const h=L.charAt(v.column-2),R=C.get(h);if(!R)return!1;if((0,Q.LN)(h)){if(m==="never")return!1}else if(I==="never")return!1;const T=L.charAt(v.column-1);let W=!1;for(const K of R)K.open===h&&K.close===T&&(W=!0);if(!W)return!1;if(s==="auto"){let K=!1;for(let ie=0,ce=x.length;ie<ce;ie++){const _e=x[ie];if(v.lineNumber===_e.startLineNumber&&v.column===_e.startColumn){K=!0;break}}if(!K)return!1}}return!0}static _runAutoClosingPairDelete(s,I,m){let C=[];for(let V=0,r=m.length;V<r;V++){const x=m[V].getPosition(),w=new y.e(x.lineNumber,x.column-1,x.lineNumber,x.column+1);C[V]=new Y.T4(w,"")}return[!0,C]}static deleteLeft(s,I,m,C,V){if(this.isAutoClosingPairDelete(I.autoClosingDelete,I.autoClosingBrackets,I.autoClosingQuotes,I.autoClosingPairs.autoClosingPairsOpenByEnd,m,C,V))return this._runAutoClosingPairDelete(I,m,C);const r=[];let x=s!==2;for(let w=0,D=C.length;w<D;w++){let f=k.getDeleteRange(C[w],m,I);if(f.isEmpty()){r[w]=null;continue}f.startLineNumber!==f.endLineNumber&&(x=!0),r[w]=new Y.T4(f,"")}return[x,r]}static getDeleteRange(s,I,m){if(!s.isEmpty())return s;const C=s.getPosition();if(m.useTabStops&&C.column>1){const V=I.getLineContent(C.lineNumber),r=g.LC(V),x=r===-1?V.length+1:r+1;if(C.column<=x){const w=Q.io.visibleColumnFromColumn2(m,I,C),D=Q.io.prevIndentTabStop(w,m.indentSize),f=Q.io.columnFromVisibleColumn2(m,I,C.lineNumber,D);return new y.e(C.lineNumber,f,C.lineNumber,C.column)}}return y.e.fromPositions(k.getPositionAfterDeleteLeft(C,I),C)}static getPositionAfterDeleteLeft(s,I){if(s.column>1){const m=g.oH(s.column-1,I.getLineContent(s.lineNumber));return s.with(void 0,m+1)}else if(s.lineNumber>1){const m=s.lineNumber-1;return new J.L(m,I.getLineMaxColumn(m))}else return s}static cut(s,I,m){let C=[],V=null;m.sort((r,x)=>J.L.compare(r.getStartPosition(),x.getEndPosition()));for(let r=0,x=m.length;r<x;r++){const w=m[r];if(w.isEmpty())if(s.emptySelectionClipboard){let D=w.getPosition(),f,v,L,h;D.lineNumber<I.getLineCount()?(f=D.lineNumber,v=1,L=D.lineNumber+1,h=1):D.lineNumber>1&&(V==null?void 0:V.endLineNumber)!==D.lineNumber?(f=D.lineNumber-1,v=I.getLineMaxColumn(D.lineNumber-1),L=D.lineNumber,h=I.getLineMaxColumn(D.lineNumber)):(f=D.lineNumber,v=1,L=D.lineNumber,h=I.getLineMaxColumn(D.lineNumber));let R=new y.e(f,v,L,h);V=R,R.isEmpty()?C[r]=null:C[r]=new Y.T4(R,"")}else C[r]=null;else C[r]=new Y.T4(w,"")}return new Q.Tp(0,C,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},88784:function(Yt,Ue,c){"use strict";c.d(Ue,{o:function(){return k}});var g=c(33181),Y=c(50187),Q=c(24314),O=c(97295),y=c(3675);class J{constructor(s,I,m){this._cursorPositionBrand=void 0,this.lineNumber=s,this.column=I,this.leftoverVisibleColumns=m}}class k{static leftPosition(s,I){if(I.column>s.getLineMinColumn(I.lineNumber))return I.delta(void 0,-O.HO(s.getLineContent(I.lineNumber),I.column-1));if(I.lineNumber>1){const m=I.lineNumber-1;return new Y.L(m,s.getLineMaxColumn(m))}else return I}static leftPositionAtomicSoftTabs(s,I,m){if(I.column<=s.getLineIndentColumn(I.lineNumber)){const C=s.getLineMinColumn(I.lineNumber),V=s.getLineContent(I.lineNumber),r=y.l.atomicPosition(V,I.column-1,m,0);if(r!==-1&&r+1>=C)return new Y.L(I.lineNumber,r+1)}return this.leftPosition(s,I)}static left(s,I,m){const C=s.stickyTabStops?k.leftPositionAtomicSoftTabs(I,m,s.tabSize):k.leftPosition(I,m);return new J(C.lineNumber,C.column,0)}static moveLeft(s,I,m,C,V){let r,x;if(m.hasSelection()&&!C)r=m.selection.startLineNumber,x=m.selection.startColumn;else{const w=m.position.delta(void 0,-(V-1)),D=I.normalizePosition(k.clipPositionColumn(w,I),0),f=k.left(s,I,D);r=f.lineNumber,x=f.column}return m.move(C,r,x,0)}static clipPositionColumn(s,I){return new Y.L(s.lineNumber,k.clipRange(s.column,I.getLineMinColumn(s.lineNumber),I.getLineMaxColumn(s.lineNumber)))}static clipRange(s,I,m){return s<I?I:s>m?m:s}static rightPosition(s,I,m){return m<s.getLineMaxColumn(I)?m=m+O.vH(s.getLineContent(I),m-1):I<s.getLineCount()&&(I=I+1,m=s.getLineMinColumn(I)),new Y.L(I,m)}static rightPositionAtomicSoftTabs(s,I,m,C,V){if(m<s.getLineIndentColumn(I)){const r=s.getLineContent(I),x=y.l.atomicPosition(r,m-1,C,1);if(x!==-1)return new Y.L(I,x+1)}return this.rightPosition(s,I,m)}static right(s,I,m){const C=s.stickyTabStops?k.rightPositionAtomicSoftTabs(I,m.lineNumber,m.column,s.tabSize,s.indentSize):k.rightPosition(I,m.lineNumber,m.column);return new J(C.lineNumber,C.column,0)}static moveRight(s,I,m,C,V){let r,x;if(m.hasSelection()&&!C)r=m.selection.endLineNumber,x=m.selection.endColumn;else{const w=m.position.delta(void 0,V-1),D=I.normalizePosition(k.clipPositionColumn(w,I),1),f=k.right(s,I,D);r=f.lineNumber,x=f.column}return m.move(C,r,x,0)}static vertical(s,I,m,C,V,r,x){const w=g.io.visibleColumnFromColumn(I.getLineContent(m),C,s.tabSize)+V,D=I.getLineCount(),f=m===1&&C===1,v=m===D&&C===I.getLineMaxColumn(m),L=r<m?f:v;return m=r,m<1?(m=1,x?C=I.getLineMinColumn(m):C=Math.min(I.getLineMaxColumn(m),C)):m>D?(m=D,x?C=I.getLineMaxColumn(m):C=Math.min(I.getLineMaxColumn(m),C)):C=g.io.columnFromVisibleColumn2(s,I,m,w),L?V=0:V=w-g.io.visibleColumnFromColumn(I.getLineContent(m),C,s.tabSize),new J(m,C,V)}static down(s,I,m,C,V,r,x){return this.vertical(s,I,m,C,V,m+r,x)}static moveDown(s,I,m,C,V){let r,x;m.hasSelection()&&!C?(r=m.selection.endLineNumber,x=m.selection.endColumn):(r=m.position.lineNumber,x=m.position.column);let w=k.down(s,I,r,x,m.leftoverVisibleColumns,V,!0);return m.move(C,w.lineNumber,w.column,w.leftoverVisibleColumns)}static translateDown(s,I,m){let C=m.selection,V=k.down(s,I,C.selectionStartLineNumber,C.selectionStartColumn,m.selectionStartLeftoverVisibleColumns,1,!1),r=k.down(s,I,C.positionLineNumber,C.positionColumn,m.leftoverVisibleColumns,1,!1);return new g.rS(new Q.e(V.lineNumber,V.column,V.lineNumber,V.column),V.leftoverVisibleColumns,new Y.L(r.lineNumber,r.column),r.leftoverVisibleColumns)}static up(s,I,m,C,V,r,x){return this.vertical(s,I,m,C,V,m-r,x)}static moveUp(s,I,m,C,V){let r,x;m.hasSelection()&&!C?(r=m.selection.startLineNumber,x=m.selection.startColumn):(r=m.position.lineNumber,x=m.position.column);let w=k.up(s,I,r,x,m.leftoverVisibleColumns,V,!0);return m.move(C,w.lineNumber,w.column,w.leftoverVisibleColumns)}static translateUp(s,I,m){let C=m.selection,V=k.up(s,I,C.selectionStartLineNumber,C.selectionStartColumn,m.selectionStartLeftoverVisibleColumns,1,!1),r=k.up(s,I,C.positionLineNumber,C.positionColumn,m.leftoverVisibleColumns,1,!1);return new g.rS(new Q.e(V.lineNumber,V.column,V.lineNumber,V.column),V.leftoverVisibleColumns,new Y.L(r.lineNumber,r.column),r.leftoverVisibleColumns)}static _isBlankLine(s,I){return s.getLineFirstNonWhitespaceColumn(I)===0}static moveToPrevBlankLine(s,I,m,C){let V=m.position.lineNumber;for(;V>1&&this._isBlankLine(I,V);)V--;for(;V>1&&!this._isBlankLine(I,V);)V--;return m.move(C,V,I.getLineMinColumn(V),0)}static moveToNextBlankLine(s,I,m,C){const V=I.getLineCount();let r=m.position.lineNumber;for(;r<V&&this._isBlankLine(I,r);)r++;for(;r<V&&!this._isBlankLine(I,r);)r++;return m.move(C,r,I.getLineMinColumn(r),0)}static moveToBeginningOfLine(s,I,m,C){let V=m.position.lineNumber,r=I.getLineMinColumn(V),x=I.getLineFirstNonWhitespaceColumn(V)||r,w;return m.position.column===x?w=r:w=x,m.move(C,V,w,0)}static moveToEndOfLine(s,I,m,C,V){let r=m.position.lineNumber,x=I.getLineMaxColumn(r);return m.move(C,r,x,V?1073741824-x:0)}static moveToBeginningOfBuffer(s,I,m,C){return m.move(C,1,1,0)}static moveToEndOfBuffer(s,I,m,C){let V=I.getLineCount(),r=I.getLineMaxColumn(V);return m.move(C,V,r,0)}}},70966:function(Yt,Ue,c){"use strict";c.d(Ue,{u:function(){return r},g:function(){return x}});var g=c(17301),Y=c(97295),Q=c(61329),O=c(33181),y=c(24314),J=c(3860),k=c(94660);const P=Object.create(null);function s(L,h){if(h<=0)return"";P[L]||(P[L]=["",L]);const R=P[L];for(let T=R.length;T<=h;T++)R[T]=R[T-1]+L;return R[h]}class I{constructor(h,R){this._opts=R,this._selection=h,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(h,R,T,W,K){const ie=O.io.visibleColumnFromColumn(h,R,T);if(K){const ce=s(" ",W),ve=O.io.prevIndentTabStop(ie,W)/W;return s(ce,ve)}else{const ce="	",ve=O.io.prevRenderTabStop(ie,T)/T;return s(ce,ve)}}static shiftIndent(h,R,T,W,K){const ie=O.io.visibleColumnFromColumn(h,R,T);if(K){const ce=s(" ",W),ve=O.io.nextIndentTabStop(ie,W)/W;return s(ce,ve)}else{const ce="	",ve=O.io.nextRenderTabStop(ie,T)/T;return s(ce,ve)}}_addEditOperation(h,R,T){this._useLastEditRangeForCursorEndPosition?h.addTrackedEditOperation(R,T):h.addEditOperation(R,T)}getEditOperations(h,R){const T=this._selection.startLineNumber;let W=this._selection.endLineNumber;this._selection.endColumn===1&&T!==W&&(W=W-1);const{tabSize:K,indentSize:ie,insertSpaces:ce}=this._opts,_e=T===W;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(h.getLineContent(T))&&(this._useLastEditRangeForCursorEndPosition=!0);let ve=0,De=0;for(let le=T;le<=W;le++,ve=De){De=0;let Z=h.getLineContent(le),$=Y.LC(Z);if(this._opts.isUnshift&&(Z.length===0||$===0)||!_e&&!this._opts.isUnshift&&Z.length===0)continue;if($===-1&&($=Z.length),le>1&&O.io.visibleColumnFromColumn(Z,$+1,K)%ie!==0&&h.isCheapToTokenize(le-1)){let p=k.zu.getEnterAction(this._opts.autoIndent,h,new y.e(le-1,h.getLineMaxColumn(le-1),le-1,h.getLineMaxColumn(le-1)));if(p){if(De=ve,p.appendText)for(let S=0,B=p.appendText.length;S<B&&De<ie&&p.appendText.charCodeAt(S)===32;S++)De++;p.removeText&&(De=Math.max(0,De-p.removeText));for(let S=0;S<De&&!($===0||Z.charCodeAt($-1)!==32);S++)$--}}if(this._opts.isUnshift&&$===0)continue;let G;this._opts.isUnshift?G=I.unshiftIndent(Z,$+1,K,ie,ce):G=I.shiftIndent(Z,$+1,K,ie,ce),this._addEditOperation(R,new y.e(le,1,le,$+1),G),le===T&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=$+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&h.getLineLength(T)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const ve=ce?s(" ",ie):"	";for(let De=T;De<=W;De++){const le=h.getLineContent(De);let Z=Y.LC(le);if(!(this._opts.isUnshift&&(le.length===0||Z===0))&&!(!_e&&!this._opts.isUnshift&&le.length===0)&&(Z===-1&&(Z=le.length),!(this._opts.isUnshift&&Z===0)))if(this._opts.isUnshift){Z=Math.min(Z,ie);for(let $=0;$<Z;$++)if(le.charCodeAt($)===9){Z=$+1;break}this._addEditOperation(R,new y.e(De,1,De,Z+1),"")}else this._addEditOperation(R,new y.e(De,1,De,1),ve),De===T&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=R.trackSelection(this._selection)}computeCursorState(h,R){if(this._useLastEditRangeForCursorEndPosition){let W=R.getInverseEditOperations()[0];return new J.Y(W.range.endLineNumber,W.range.endColumn,W.range.endLineNumber,W.range.endColumn)}const T=R.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let W=this._selection.startColumn;return T.startColumn<=W?T:T.getDirection()===0?new J.Y(T.startLineNumber,W,T.endLineNumber,T.endColumn):new J.Y(T.endLineNumber,T.endColumn,T.startLineNumber,W)}return T}}class m{constructor(h,R,T){this._range=h,this._charBeforeSelection=R,this._charAfterSelection=T}getEditOperations(h,R){R.addTrackedEditOperation(new y.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),R.addTrackedEditOperation(new y.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(h,R){let T=R.getInverseEditOperations(),W=T[0].range,K=T[1].range;return new J.Y(W.endLineNumber,W.endColumn,K.endLineNumber,K.endColumn-this._charAfterSelection.length)}}var C=c(59410),V=c(97354);class r{static indent(h,R,T){if(R===null||T===null)return[];let W=[];for(let K=0,ie=T.length;K<ie;K++)W[K]=new I(T[K],{isUnshift:!1,tabSize:h.tabSize,indentSize:h.indentSize,insertSpaces:h.insertSpaces,useTabStops:h.useTabStops,autoIndent:h.autoIndent});return W}static outdent(h,R,T){let W=[];for(let K=0,ie=T.length;K<ie;K++)W[K]=new I(T[K],{isUnshift:!0,tabSize:h.tabSize,indentSize:h.indentSize,insertSpaces:h.insertSpaces,useTabStops:h.useTabStops,autoIndent:h.autoIndent});return W}static shiftIndent(h,R,T){return T=T||1,I.shiftIndent(R,R.length+T,h.tabSize,h.indentSize,h.insertSpaces)}static unshiftIndent(h,R,T){return T=T||1,I.unshiftIndent(R,R.length+T,h.tabSize,h.indentSize,h.insertSpaces)}static _distributedPaste(h,R,T,W){let K=[];for(let ie=0,ce=T.length;ie<ce;ie++)K[ie]=new Q.T4(T[ie],W[ie]);return new O.Tp(0,K,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(h,R,T,W,K){let ie=[];for(let ce=0,_e=T.length;ce<_e;ce++){const ve=T[ce];let De=ve.getPosition();if(K&&!ve.isEmpty()&&(K=!1),K&&W.indexOf(`
`)!==W.length-1&&(K=!1),K){let le=new y.e(De.lineNumber,1,De.lineNumber,1);ie[ce]=new Q.hP(le,W,ve,!0)}else ie[ce]=new Q.T4(ve,W)}return new O.Tp(0,ie,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(h,R,T,W,K){if(W||R.length===1)return null;if(K&&K.length===R.length)return K;if(h.multiCursorPaste==="spread"){T.charCodeAt(T.length-1)===10&&(T=T.substr(0,T.length-1)),T.charCodeAt(T.length-1)===13&&(T=T.substr(0,T.length-1));let ie=Y.uq(T);if(ie.length===R.length)return ie}return null}static paste(h,R,T,W,K,ie){const ce=this._distributePasteToCursors(h,T,W,K,ie);return ce?(T=T.sort(y.e.compareRangesUsingStarts),this._distributedPaste(h,R,T,ce)):this._simplePaste(h,R,T,W,K)}static _goodIndentForLine(h,R,T){let W=null,K="";const ie=k.zu.getInheritIndentForLine(h.autoIndent,R,T,!1);if(ie)W=ie.action,K=ie.indentation;else if(T>1){let ce;for(ce=T-1;ce>=1;ce--){const De=R.getLineContent(ce);if(Y.ow(De)>=0)break}if(ce<1)return null;const _e=R.getLineMaxColumn(ce),ve=k.zu.getEnterAction(h.autoIndent,R,new y.e(ce,_e,ce,_e));ve&&(K=ve.indentation+ve.appendText)}return W&&(W===V.wU.Indent&&(K=r.shiftIndent(h,K)),W===V.wU.Outdent&&(K=r.unshiftIndent(h,K)),K=h.normalizeIndentation(K)),K||null}static _replaceJumpToNextIndent(h,R,T,W){let K="",ie=T.getStartPosition();if(h.insertSpaces){let ce=O.io.visibleColumnFromColumn2(h,R,ie),_e=h.indentSize,ve=_e-ce%_e;for(let De=0;De<ve;De++)K+=" "}else K="	";return new Q.T4(T,K,W)}static tab(h,R,T){let W=[];for(let K=0,ie=T.length;K<ie;K++){const ce=T[K];if(ce.isEmpty()){let _e=R.getLineContent(ce.startLineNumber);if(/^\s*$/.test(_e)&&R.isCheapToTokenize(ce.startLineNumber)){let ve=this._goodIndentForLine(h,R,ce.startLineNumber);ve=ve||"	";let De=h.normalizeIndentation(ve);if(!_e.startsWith(De)){W[K]=new Q.T4(new y.e(ce.startLineNumber,1,ce.startLineNumber,_e.length+1),De,!0);continue}}W[K]=this._replaceJumpToNextIndent(h,R,ce,!0)}else{if(ce.startLineNumber===ce.endLineNumber){let _e=R.getLineMaxColumn(ce.startLineNumber);if(ce.startColumn!==1||ce.endColumn!==_e){W[K]=this._replaceJumpToNextIndent(h,R,ce,!1);continue}}W[K]=new I(ce,{isUnshift:!1,tabSize:h.tabSize,indentSize:h.indentSize,insertSpaces:h.insertSpaces,useTabStops:h.useTabStops,autoIndent:h.autoIndent})}}return W}static compositionType(h,R,T,W,K,ie,ce,_e){const ve=W.map(De=>this._compositionType(T,De,K,ie,ce,_e));return new O.Tp(4,ve,{shouldPushStackElementBefore:D(h,4),shouldPushStackElementAfter:!1})}static _compositionType(h,R,T,W,K,ie){if(!R.isEmpty())return null;const ce=R.getPosition(),_e=Math.max(1,ce.column-W),ve=Math.min(h.getLineMaxColumn(ce.lineNumber),ce.column+K),De=new y.e(ce.lineNumber,_e,ce.lineNumber,ve);return h.getValueInRange(De)===T&&ie===0?null:new Q.Uo(De,T,0,ie)}static _typeCommand(h,R,T){return T?new Q.Sj(h,R,!0):new Q.T4(h,R,!0)}static _enter(h,R,T,W){if(h.autoIndent===0)return r._typeCommand(W,`
`,T);if(!R.isCheapToTokenize(W.getStartPosition().lineNumber)||h.autoIndent===1){let _e=R.getLineContent(W.startLineNumber),ve=Y.V8(_e).substring(0,W.startColumn-1);return r._typeCommand(W,`
`+h.normalizeIndentation(ve),T)}const K=k.zu.getEnterAction(h.autoIndent,R,W);if(K){if(K.indentAction===V.wU.None)return r._typeCommand(W,`
`+h.normalizeIndentation(K.indentation+K.appendText),T);if(K.indentAction===V.wU.Indent)return r._typeCommand(W,`
`+h.normalizeIndentation(K.indentation+K.appendText),T);if(K.indentAction===V.wU.IndentOutdent){const _e=h.normalizeIndentation(K.indentation),ve=h.normalizeIndentation(K.indentation+K.appendText),De=`
`+ve+`
`+_e;return T?new Q.Sj(W,De,!0):new Q.Uo(W,De,-1,ve.length-_e.length,!0)}else if(K.indentAction===V.wU.Outdent){const _e=r.unshiftIndent(h,K.indentation);return r._typeCommand(W,`
`+h.normalizeIndentation(_e+K.appendText),T)}}const ie=R.getLineContent(W.startLineNumber),ce=Y.V8(ie).substring(0,W.startColumn-1);if(h.autoIndent>=4){const _e=k.zu.getIndentForEnter(h.autoIndent,R,W,{unshiftIndent:ve=>r.unshiftIndent(h,ve),shiftIndent:ve=>r.shiftIndent(h,ve),normalizeIndentation:ve=>h.normalizeIndentation(ve)});if(_e){let ve=O.io.visibleColumnFromColumn2(h,R,W.getEndPosition());const De=W.endColumn,le=R.getLineContent(W.endLineNumber),Z=Y.LC(le);if(Z>=0?W=W.setEndPosition(W.endLineNumber,Math.max(W.endColumn,Z+1)):W=W.setEndPosition(W.endLineNumber,R.getLineMaxColumn(W.endLineNumber)),T)return new Q.Sj(W,`
`+h.normalizeIndentation(_e.afterEnter),!0);{let $=0;return De<=Z+1&&(h.insertSpaces||(ve=Math.ceil(ve/h.indentSize)),$=Math.min(ve+1-h.normalizeIndentation(_e.afterEnter).length-1,0)),new Q.Uo(W,`
`+h.normalizeIndentation(_e.afterEnter),0,$,!0)}}}return r._typeCommand(W,`
`+h.normalizeIndentation(ce),T)}static _isAutoIndentType(h,R,T){if(h.autoIndent<4)return!1;for(let W=0,K=T.length;W<K;W++)if(!R.isCheapToTokenize(T[W].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(h,R,T,W){const K=k.zu.getIndentationAtPosition(R,T.startLineNumber,T.startColumn),ie=k.zu.getIndentActionForType(h.autoIndent,R,T,W,{shiftIndent:ce=>r.shiftIndent(h,ce),unshiftIndent:ce=>r.unshiftIndent(h,ce)});if(ie===null)return null;if(ie!==h.normalizeIndentation(K)){const ce=R.getLineFirstNonWhitespaceColumn(T.startLineNumber);return ce===0?r._typeCommand(new y.e(T.startLineNumber,1,T.endLineNumber,T.endColumn),h.normalizeIndentation(ie)+W,!1):r._typeCommand(new y.e(T.startLineNumber,1,T.endLineNumber,T.endColumn),h.normalizeIndentation(ie)+R.getLineContent(T.startLineNumber).substring(ce-1,T.startColumn-1)+W,!1)}return null}static _isAutoClosingOvertype(h,R,T,W,K){if(h.autoClosingOvertype==="never"||!h.autoClosingPairs.autoClosingPairsCloseSingleChar.has(K))return!1;for(let ie=0,ce=T.length;ie<ce;ie++){const _e=T[ie];if(!_e.isEmpty())return!1;const ve=_e.getPosition(),De=R.getLineContent(ve.lineNumber);if(De.charAt(ve.column-1)!==K)return!1;const Z=(0,O.LN)(K);if((ve.column>2?De.charCodeAt(ve.column-2):0)===92&&Z)return!1;if(h.autoClosingOvertype==="auto"){let G=!1;for(let q=0,p=W.length;q<p;q++){const S=W[q];if(ve.lineNumber===S.startLineNumber&&ve.column===S.startColumn){G=!0;break}}if(!G)return!1}}return!0}static _runAutoClosingOvertype(h,R,T,W,K){let ie=[];for(let ce=0,_e=W.length;ce<_e;ce++){const De=W[ce].getPosition(),le=new y.e(De.lineNumber,De.column,De.lineNumber,De.column+1);ie[ce]=new Q.T4(le,K)}return new O.Tp(4,ie,{shouldPushStackElementBefore:D(h,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(h,R){const T=R.charAt(0),W=h.autoClosingPairs.autoClosingPairsOpenByStart.get(T)||[],K=h.autoClosingPairs.autoClosingPairsCloseByStart.get(T)||[],ie=W.some(_e=>R.startsWith(_e.open)),ce=K.some(_e=>R.startsWith(_e.close));return!ie&&ce}static _findAutoClosingPairOpen(h,R,T,W){const K=h.autoClosingPairs.autoClosingPairsOpenByEnd.get(W);if(!K)return null;let ie=null;for(const ce of K)if(ie===null||ce.open.length>ie.open.length){let _e=!0;for(const ve of T)if(R.getValueInRange(new y.e(ve.lineNumber,ve.column-ce.open.length+1,ve.lineNumber,ve.column))+W!==ce.open){_e=!1;break}_e&&(ie=ce)}return ie}static _findSubAutoClosingPairClose(h,R){if(R.open.length<=1)return"";const T=R.close.charAt(R.close.length-1),W=h.autoClosingPairs.autoClosingPairsCloseByEnd.get(T)||[];let K=null;for(const ie of W)ie.open!==R.open&&R.open.includes(ie.open)&&R.close.endsWith(ie.close)&&(!K||ie.open.length>K.open.length)&&(K=ie);return K?K.close:""}static _getAutoClosingPairClose(h,R,T,W,K){const ie=(0,O.LN)(W),ce=ie?h.autoClosingQuotes:h.autoClosingBrackets;if(ce==="never")return null;const _e=this._findAutoClosingPairOpen(h,R,T.map(Z=>Z.getPosition()),W);if(!_e)return null;const ve=this._findSubAutoClosingPairClose(h,_e);let De=!0;const le=ie?h.shouldAutoCloseBefore.quote:h.shouldAutoCloseBefore.bracket;for(let Z=0,$=T.length;Z<$;Z++){const G=T[Z];if(!G.isEmpty())return null;const q=G.getPosition(),p=R.getLineContent(q.lineNumber),S=p.substring(q.column-1);if(S.startsWith(ve)||(De=!1),p.length>q.column-1){const me=p.charAt(q.column-1);if(!r._isBeforeClosingBrace(h,S)&&!le(me))return null}if(!R.isCheapToTokenize(q.lineNumber))return null;if(_e.open.length===1&&(W==="'"||W==='"')&&ce!=="always"){const me=(0,C.u)(h.wordSeparators);if(K&&q.column>1&&me.get(p.charCodeAt(q.column-2))===0||!K&&q.column>2&&me.get(p.charCodeAt(q.column-3))===0)return null}R.forceTokenization(q.lineNumber);const B=R.getLineTokens(q.lineNumber);let te=!1;try{te=k.zu.shouldAutoClosePair(_e,B,K?q.column:q.column-1)}catch(me){(0,g.dL)(me)}if(!te)return null}return De?_e.close.substring(0,_e.close.length-ve.length):_e.close}static _runAutoClosingOpenCharType(h,R,T,W,K,ie,ce){let _e=[];for(let ve=0,De=W.length;ve<De;ve++){const le=W[ve];_e[ve]=new x(le,K,ie,ce)}return new O.Tp(4,_e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(h,R){return(0,O.LN)(R)?h.autoSurround==="quotes"||h.autoSurround==="languageDefined":h.autoSurround==="brackets"||h.autoSurround==="languageDefined"}static _isSurroundSelectionType(h,R,T,W){if(!r._shouldSurroundChar(h,W)||!h.surroundingPairs.hasOwnProperty(W))return!1;const K=(0,O.LN)(W);for(let ie=0,ce=T.length;ie<ce;ie++){const _e=T[ie];if(_e.isEmpty())return!1;let ve=!0;for(let De=_e.startLineNumber;De<=_e.endLineNumber;De++){const le=R.getLineContent(De),Z=De===_e.startLineNumber?_e.startColumn-1:0,$=De===_e.endLineNumber?_e.endColumn-1:le.length,G=le.substring(Z,$);if(/[^ \t]/.test(G)){ve=!1;break}}if(ve)return!1;if(K&&_e.startLineNumber===_e.endLineNumber&&_e.startColumn+1===_e.endColumn){const De=R.getValueInRange(_e);if((0,O.LN)(De))return!1}}return!0}static _runSurroundSelectionType(h,R,T,W,K){let ie=[];for(let ce=0,_e=W.length;ce<_e;ce++){const ve=W[ce],De=R.surroundingPairs[K];ie[ce]=new m(ve,K,De)}return new O.Tp(0,ie,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(h,R,T){return!!(T.length===1&&R.isCheapToTokenize(T[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(h,R,T,W,K){if(!R.electricChars.hasOwnProperty(K)||!W.isEmpty())return null;let ie=W.getPosition();T.forceTokenization(ie.lineNumber);let ce=T.getLineTokens(ie.lineNumber),_e;try{_e=k.zu.onElectricCharacter(K,ce,ie.column)}catch(ve){return(0,g.dL)(ve),null}if(!_e)return null;if(_e.matchOpenBracket){let ve=(ce.getLineContent()+K).lastIndexOf(_e.matchOpenBracket)+1,De=T.findMatchingBracketUp(_e.matchOpenBracket,{lineNumber:ie.lineNumber,column:ve});if(De){if(De.startLineNumber===ie.lineNumber)return null;let le=T.getLineContent(De.startLineNumber),Z=Y.V8(le),$=R.normalizeIndentation(Z),G=T.getLineContent(ie.lineNumber),q=T.getLineFirstNonWhitespaceColumn(ie.lineNumber)||ie.column,p=G.substring(q-1,ie.column-1),S=$+p+K,B=new y.e(ie.lineNumber,1,ie.lineNumber,ie.column);const te=new Q.T4(B,S);return new O.Tp(w(S,h),[te],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(h,R,T,W,K,ie){if(!W||J.Y.selectionsArrEqual(W,K))return null;let ce=null;for(const ve of K){if(!ve.isEmpty())return null;const De=ve.getPosition(),le=T.getValueInRange(new y.e(De.lineNumber,De.column-1,De.lineNumber,De.column));if(ce===null)ce=le;else if(ce!==le)return null}if(!ce)return null;if(this._isAutoClosingOvertype(R,T,K,ie,ce)){const ve=K.map(De=>new Q.T4(new y.e(De.positionLineNumber,De.positionColumn,De.positionLineNumber,De.positionColumn+1),"",!1));return new O.Tp(4,ve,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const _e=this._getAutoClosingPairClose(R,T,K,ce,!1);return _e!==null?this._runAutoClosingOpenCharType(h,R,T,K,ce,!1,_e):null}static typeWithInterceptors(h,R,T,W,K,ie,ce){if(!h&&ce===`
`){let De=[];for(let le=0,Z=K.length;le<Z;le++)De[le]=r._enter(T,W,!1,K[le]);return new O.Tp(4,De,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!h&&this._isAutoIndentType(T,W,K)){let De=[],le=!1;for(let Z=0,$=K.length;Z<$;Z++)if(De[Z]=this._runAutoIndentType(T,W,K[Z],ce),!De[Z]){le=!0;break}if(!le)return new O.Tp(4,De,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!h&&this._isAutoClosingOvertype(T,W,K,ie,ce))return this._runAutoClosingOvertype(R,T,W,K,ce);if(!h){const De=this._getAutoClosingPairClose(T,W,K,ce,!0);if(De)return this._runAutoClosingOpenCharType(R,T,W,K,ce,!0,De)}if(this._isSurroundSelectionType(T,W,K,ce))return this._runSurroundSelectionType(R,T,W,K,ce);if(!h&&this._isTypeInterceptorElectricChar(T,W,K)){const De=this._typeInterceptorElectricChar(R,T,W,K[0],ce);if(De)return De}let _e=[];for(let De=0,le=K.length;De<le;De++)_e[De]=new Q.T4(K[De],ce);const ve=w(ce,R);return new O.Tp(ve,_e,{shouldPushStackElementBefore:D(R,ve),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(h,R,T,W,K){let ie=[];for(let _e=0,ve=W.length;_e<ve;_e++)ie[_e]=new Q.T4(W[_e],K);const ce=w(K,h);return new O.Tp(ce,ie,{shouldPushStackElementBefore:D(h,ce),shouldPushStackElementAfter:!1})}static lineInsertBefore(h,R,T){if(R===null||T===null)return[];let W=[];for(let K=0,ie=T.length;K<ie;K++){let ce=T[K].positionLineNumber;if(ce===1)W[K]=new Q.Sj(new y.e(1,1,1,1),`
`);else{ce--;let _e=R.getLineMaxColumn(ce);W[K]=this._enter(h,R,!1,new y.e(ce,_e,ce,_e))}}return W}static lineInsertAfter(h,R,T){if(R===null||T===null)return[];let W=[];for(let K=0,ie=T.length;K<ie;K++){const ce=T[K].positionLineNumber;let _e=R.getLineMaxColumn(ce);W[K]=this._enter(h,R,!1,new y.e(ce,_e,ce,_e))}return W}static lineBreakInsert(h,R,T){let W=[];for(let K=0,ie=T.length;K<ie;K++)W[K]=this._enter(h,R,!0,T[K]);return W}}class x extends Q.Uo{constructor(h,R,T,W){super(h,(T?R:"")+W,0,-W.length),this._openCharacter=R,this._closeCharacter=W,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(h,R){let W=R.getInverseEditOperations()[0].range;return this.closeCharacterRange=new y.e(W.startLineNumber,W.endColumn-this._closeCharacter.length,W.endLineNumber,W.endColumn),this.enclosingRange=new y.e(W.startLineNumber,W.endColumn-this._openCharacter.length-this._closeCharacter.length,W.endLineNumber,W.endColumn),super.computeCursorState(h,R)}}function w(L,h){return L===" "?h===5||h===6?6:5:4}function D(L,h){return v(L)&&!v(h)?!0:L===5?!1:f(L)!==f(h)}function f(L){return L===6||L===5?"space":L}function v(L){return L===4||L===5||L===6}},5795:function(Yt,Ue,c){"use strict";c.d(Ue,{w:function(){return k}});var g=c(97295),Y=c(33181),Q=c(31380),O=c(59410),y=c(50187),J=c(24314);class k{static _createWord(m,C,V,r,x){return{start:r,end:x,wordType:C,nextCharClass:V}}static _findPreviousWordOnLine(m,C,V){let r=C.getLineContent(V.lineNumber);return this._doFindPreviousWordOnLine(r,m,V)}static _doFindPreviousWordOnLine(m,C,V){let r=0;for(let x=V.column-2;x>=0;x--){let w=m.charCodeAt(x),D=C.get(w);if(D===0){if(r===2)return this._createWord(m,r,D,x+1,this._findEndOfWord(m,C,r,x+1));r=1}else if(D===2){if(r===1)return this._createWord(m,r,D,x+1,this._findEndOfWord(m,C,r,x+1));r=2}else if(D===1&&r!==0)return this._createWord(m,r,D,x+1,this._findEndOfWord(m,C,r,x+1))}return r!==0?this._createWord(m,r,1,0,this._findEndOfWord(m,C,r,0)):null}static _findEndOfWord(m,C,V,r){let x=m.length;for(let w=r;w<x;w++){let D=m.charCodeAt(w),f=C.get(D);if(f===1||V===1&&f===2||V===2&&f===0)return w}return x}static _findNextWordOnLine(m,C,V){let r=C.getLineContent(V.lineNumber);return this._doFindNextWordOnLine(r,m,V)}static _doFindNextWordOnLine(m,C,V){let r=0,x=m.length;for(let w=V.column-1;w<x;w++){let D=m.charCodeAt(w),f=C.get(D);if(f===0){if(r===2)return this._createWord(m,r,f,this._findStartOfWord(m,C,r,w-1),w);r=1}else if(f===2){if(r===1)return this._createWord(m,r,f,this._findStartOfWord(m,C,r,w-1),w);r=2}else if(f===1&&r!==0)return this._createWord(m,r,f,this._findStartOfWord(m,C,r,w-1),w)}return r!==0?this._createWord(m,r,1,this._findStartOfWord(m,C,r,x-1),x):null}static _findStartOfWord(m,C,V,r){for(let x=r;x>=0;x--){let w=m.charCodeAt(x),D=C.get(w);if(D===1||V===1&&D===2||V===2&&D===0)return x+1}return 0}static moveWordLeft(m,C,V,r){let x=V.lineNumber,w=V.column;w===1&&x>1&&(x=x-1,w=C.getLineMaxColumn(x));let D=k._findPreviousWordOnLine(m,C,new y.L(x,w));if(r===0)return new y.L(x,D?D.start+1:1);if(r===1)return D&&D.wordType===2&&D.end-D.start===1&&D.nextCharClass===0&&(D=k._findPreviousWordOnLine(m,C,new y.L(x,D.start+1))),new y.L(x,D?D.start+1:1);if(r===3){for(;D&&D.wordType===2;)D=k._findPreviousWordOnLine(m,C,new y.L(x,D.start+1));return new y.L(x,D?D.start+1:1)}return D&&w<=D.end+1&&(D=k._findPreviousWordOnLine(m,C,new y.L(x,D.start+1))),new y.L(x,D?D.end+1:1)}static _moveWordPartLeft(m,C){const V=C.lineNumber,r=m.getLineMaxColumn(V);if(C.column===1)return V>1?new y.L(V-1,m.getLineMaxColumn(V-1)):C;const x=m.getLineContent(V);for(let w=C.column-1;w>1;w--){const D=x.charCodeAt(w-2),f=x.charCodeAt(w-1);if(D===95&&f!==95)return new y.L(V,w);if(g.mK(D)&&g.df(f))return new y.L(V,w);if(g.df(D)&&g.df(f)&&w+1<r){const v=x.charCodeAt(w);if(g.mK(v))return new y.L(V,w)}}return new y.L(V,1)}static moveWordRight(m,C,V,r){let x=V.lineNumber,w=V.column,D=!1;w===C.getLineMaxColumn(x)&&x<C.getLineCount()&&(D=!0,x=x+1,w=1);let f=k._findNextWordOnLine(m,C,new y.L(x,w));if(r===2)f&&f.wordType===2&&f.end-f.start===1&&f.nextCharClass===0&&(f=k._findNextWordOnLine(m,C,new y.L(x,f.end+1))),f?w=f.end+1:w=C.getLineMaxColumn(x);else if(r===3){for(D&&(w=0);f&&(f.wordType===2||f.start+1<=w);)f=k._findNextWordOnLine(m,C,new y.L(x,f.end+1));f?w=f.start+1:w=C.getLineMaxColumn(x)}else f&&!D&&w>=f.start+1&&(f=k._findNextWordOnLine(m,C,new y.L(x,f.end+1))),f?w=f.start+1:w=C.getLineMaxColumn(x);return new y.L(x,w)}static _moveWordPartRight(m,C){const V=C.lineNumber,r=m.getLineMaxColumn(V);if(C.column===r)return V<m.getLineCount()?new y.L(V+1,1):C;const x=m.getLineContent(V);for(let w=C.column+1;w<r;w++){const D=x.charCodeAt(w-2),f=x.charCodeAt(w-1);if(D!==95&&f===95)return new y.L(V,w);if(g.mK(D)&&g.df(f))return new y.L(V,w);if(g.df(D)&&g.df(f)&&w+1<r){const v=x.charCodeAt(w);if(g.mK(v))return new y.L(V,w)}}return new y.L(V,r)}static _deleteWordLeftWhitespace(m,C){const V=m.getLineContent(C.lineNumber),r=C.column-2,x=g.ow(V,r);return x+1<r?new J.e(C.lineNumber,x+2,C.lineNumber,C.column):null}static deleteWordLeft(m,C){const V=m.wordSeparators,r=m.model,x=m.selection,w=m.whitespaceHeuristics;if(!x.isEmpty())return x;if(Q.A.isAutoClosingPairDelete(m.autoClosingDelete,m.autoClosingBrackets,m.autoClosingQuotes,m.autoClosingPairs.autoClosingPairsOpenByEnd,m.model,[m.selection],m.autoClosedCharacters)){const h=m.selection.getPosition();return new J.e(h.lineNumber,h.column-1,h.lineNumber,h.column+1)}const D=new y.L(x.positionLineNumber,x.positionColumn);let f=D.lineNumber,v=D.column;if(f===1&&v===1)return null;if(w){let h=this._deleteWordLeftWhitespace(r,D);if(h)return h}let L=k._findPreviousWordOnLine(V,r,D);return C===0?L?v=L.start+1:v>1?v=1:(f--,v=r.getLineMaxColumn(f)):(L&&v<=L.end+1&&(L=k._findPreviousWordOnLine(V,r,new y.L(f,L.start+1))),L?v=L.end+1:v>1?v=1:(f--,v=r.getLineMaxColumn(f))),new J.e(f,v,D.lineNumber,D.column)}static deleteInsideWord(m,C,V){if(!V.isEmpty())return V;const r=new y.L(V.positionLineNumber,V.positionColumn);let x=this._deleteInsideWordWhitespace(C,r);return x||this._deleteInsideWordDetermineDeleteRange(m,C,r)}static _charAtIsWhitespace(m,C){const V=m.charCodeAt(C);return V===32||V===9}static _deleteInsideWordWhitespace(m,C){const V=m.getLineContent(C.lineNumber),r=V.length;if(r===0)return null;let x=Math.max(C.column-2,0);if(!this._charAtIsWhitespace(V,x))return null;let w=Math.min(C.column-1,r-1);if(!this._charAtIsWhitespace(V,w))return null;for(;x>0&&this._charAtIsWhitespace(V,x-1);)x--;for(;w+1<r&&this._charAtIsWhitespace(V,w+1);)w++;return new J.e(C.lineNumber,x+1,C.lineNumber,w+2)}static _deleteInsideWordDetermineDeleteRange(m,C,V){const r=C.getLineContent(V.lineNumber),x=r.length;if(x===0)return V.lineNumber>1?new J.e(V.lineNumber-1,C.getLineMaxColumn(V.lineNumber-1),V.lineNumber,1):V.lineNumber<C.getLineCount()?new J.e(V.lineNumber,1,V.lineNumber+1,1):new J.e(V.lineNumber,1,V.lineNumber,1);const w=h=>h.start+1<=V.column&&V.column<=h.end+1,D=(h,R)=>(h=Math.min(h,V.column),R=Math.max(R,V.column),new J.e(V.lineNumber,h,V.lineNumber,R)),f=h=>{let R=h.start+1,T=h.end+1,W=!1;for(;T-1<x&&this._charAtIsWhitespace(r,T-1);)W=!0,T++;if(!W)for(;R>1&&this._charAtIsWhitespace(r,R-2);)R--;return D(R,T)},v=k._findPreviousWordOnLine(m,C,V);if(v&&w(v))return f(v);const L=k._findNextWordOnLine(m,C,V);return L&&w(L)?f(L):v&&L?D(v.end+1,L.start+1):v?D(v.start+1,v.end+1):L?D(L.start+1,L.end+1):D(1,x+1)}static _deleteWordPartLeft(m,C){if(!C.isEmpty())return C;const V=C.getPosition(),r=k._moveWordPartLeft(m,V);return new J.e(V.lineNumber,V.column,r.lineNumber,r.column)}static _findFirstNonWhitespaceChar(m,C){let V=m.length;for(let r=C;r<V;r++){let x=m.charAt(r);if(x!==" "&&x!=="	")return r}return V}static _deleteWordRightWhitespace(m,C){const V=m.getLineContent(C.lineNumber),r=C.column-1,x=this._findFirstNonWhitespaceChar(V,r);return r+1<x?new J.e(C.lineNumber,C.column,C.lineNumber,x+1):null}static deleteWordRight(m,C){const V=m.wordSeparators,r=m.model,x=m.selection,w=m.whitespaceHeuristics;if(!x.isEmpty())return x;const D=new y.L(x.positionLineNumber,x.positionColumn);let f=D.lineNumber,v=D.column;const L=r.getLineCount(),h=r.getLineMaxColumn(f);if(f===L&&v===h)return null;if(w){let T=this._deleteWordRightWhitespace(r,D);if(T)return T}let R=k._findNextWordOnLine(V,r,D);return C===2?R?v=R.end+1:v<h||f===L?v=h:(f++,R=k._findNextWordOnLine(V,r,new y.L(f,1)),R?v=R.start+1:v=r.getLineMaxColumn(f)):(R&&v>=R.start+1&&(R=k._findNextWordOnLine(V,r,new y.L(f,R.end+1))),R?v=R.start+1:v<h||f===L?v=h:(f++,R=k._findNextWordOnLine(V,r,new y.L(f,1)),R?v=R.start+1:v=r.getLineMaxColumn(f))),new J.e(f,v,D.lineNumber,D.column)}static _deleteWordPartRight(m,C){if(!C.isEmpty())return C;const V=C.getPosition(),r=k._moveWordPartRight(m,V);return new J.e(V.lineNumber,V.column,r.lineNumber,r.column)}static _createWordAtPosition(m,C,V){const r=new J.e(C,V.start+1,C,V.end+1);return{word:m.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}static getWordAtPosition(m,C,V){const r=(0,O.u)(C),x=k._findPreviousWordOnLine(r,m,V);if(x&&x.wordType===1&&x.start<=V.column-1&&V.column-1<=x.end)return k._createWordAtPosition(m,V.lineNumber,x);const w=k._findNextWordOnLine(r,m,V);return w&&w.wordType===1&&w.start<=V.column-1&&V.column-1<=w.end?k._createWordAtPosition(m,V.lineNumber,w):null}static word(m,C,V,r,x){const w=(0,O.u)(m.wordSeparators);let D=k._findPreviousWordOnLine(w,C,x),f=k._findNextWordOnLine(w,C,x);if(!r){let T,W;return D&&D.wordType===1&&D.start<=x.column-1&&x.column-1<=D.end?(T=D.start+1,W=D.end+1):f&&f.wordType===1&&f.start<=x.column-1&&x.column-1<=f.end?(T=f.start+1,W=f.end+1):(D?T=D.end+1:T=1,f?W=f.start+1:W=C.getLineMaxColumn(x.lineNumber)),new Y.rS(new J.e(x.lineNumber,T,x.lineNumber,W),0,new y.L(x.lineNumber,W),0)}let v,L;D&&D.wordType===1&&D.start<x.column-1&&x.column-1<D.end?(v=D.start+1,L=D.end+1):f&&f.wordType===1&&f.start<x.column-1&&x.column-1<f.end?(v=f.start+1,L=f.end+1):(v=x.column,L=x.column);let h=x.lineNumber,R;if(V.selectionStart.containsPosition(x))R=V.selectionStart.endColumn;else if(x.isBeforeOrEqual(V.selectionStart.getStartPosition())){R=v;let T=new y.L(h,R);V.selectionStart.containsPosition(T)&&(R=V.selectionStart.endColumn)}else{R=L;let T=new y.L(h,R);V.selectionStart.containsPosition(T)&&(R=V.selectionStart.startColumn)}return V.move(!0,h,R,0)}}class P extends null{static deleteWordPartLeft(m){const C=s([k.deleteWordLeft(m,0),k.deleteWordLeft(m,2),k._deleteWordPartLeft(m.model,m.selection)]);return C.sort(Range.compareRangesUsingEnds),C[2]}static deleteWordPartRight(m){const C=s([k.deleteWordRight(m,0),k.deleteWordRight(m,2),k._deleteWordPartRight(m.model,m.selection)]);return C.sort(Range.compareRangesUsingStarts),C[0]}static moveWordPartLeft(m,C,V){const r=s([k.moveWordLeft(m,C,V,0),k.moveWordLeft(m,C,V,2),k._moveWordPartLeft(C,V)]);return r.sort(Position.compare),r[2]}static moveWordPartRight(m,C,V){const r=s([k.moveWordRight(m,C,V,0),k.moveWordRight(m,C,V,2),k._moveWordPartRight(C,V)]);return r.sort(Position.compare),r[0]}}function s(I){return I.filter(m=>!!m)}},59410:function(Yt,Ue,c){"use strict";c.d(Ue,{u:function(){return O}});var g=c(44906);class Y extends g.N{constructor(J){super(0);for(let k=0,P=J.length;k<P;k++)this.set(J.charCodeAt(k),2);this.set(32,1),this.set(9,1)}}function Q(y){let J={};return k=>(J.hasOwnProperty(k)||(J[k]=y(k)),J[k])}const O=Q(y=>new Y(y))},44906:function(Yt,Ue,c){"use strict";c.d(Ue,{N:function(){return Y},q:function(){return Q}});var g=c(85427);class Y{constructor(y){let J=(0,g.K)(y);this._defaultValue=J,this._asciiMap=Y._createAsciiMap(J),this._map=new Map}static _createAsciiMap(y){let J=new Uint8Array(256);for(let k=0;k<256;k++)J[k]=y;return J}set(y,J){let k=(0,g.K)(J);y>=0&&y<256?this._asciiMap[y]=k:this._map.set(y,k)}get(y){return y>=0&&y<256?this._asciiMap[y]:this._map.get(y)||this._defaultValue}}class Q{constructor(){this._actual=new Y(0)}add(y){this._actual.set(y,1)}has(y){return this._actual.get(y)===1}}},69386:function(Yt,Ue,c){"use strict";c.d(Ue,{h:function(){return Y}});var g=c(24314);class Y{static insert(O,y){return{range:new g.e(O.lineNumber,O.column,O.lineNumber,O.column),text:y,forceMoveMarkers:!0}}static delete(O){return{range:O,text:null}}static replace(O,y){return{range:O,text:y}}static replaceMove(O,y){return{range:O,text:y,forceMoveMarkers:!0}}}},78411:function(Yt,Ue,c){"use strict";c.d(Ue,{A:function(){return Y}});var g=c(10351);class Y{constructor(y,J,k){this._lineTokensBrand=void 0,this._tokens=y,this._tokensCount=this._tokens.length>>>1,this._text=J,this._languageIdCodec=k}static createEmpty(y,J){const k=Y.defaultTokenMetadata,P=new Uint32Array(2);return P[0]=y.length,P[1]=k,new Y(P,y,J)}equals(y){return y instanceof Y?this.slicedEquals(y,0,this._tokensCount):!1}slicedEquals(y,J,k){if(this._text!==y._text||this._tokensCount!==y._tokensCount)return!1;const P=J<<1,s=P+(k<<1);for(let I=P;I<s;I++)if(this._tokens[I]!==y._tokens[I])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(y){return y>0?this._tokens[y-1<<1]:0}getMetadata(y){return this._tokens[(y<<1)+1]}getLanguageId(y){const J=this._tokens[(y<<1)+1],k=g.NX.getLanguageId(J);return this._languageIdCodec.decodeLanguageId(k)}getStandardTokenType(y){const J=this._tokens[(y<<1)+1];return g.NX.getTokenType(J)}getForeground(y){const J=this._tokens[(y<<1)+1];return g.NX.getForeground(J)}getClassName(y){const J=this._tokens[(y<<1)+1];return g.NX.getClassNameFromMetadata(J)}getInlineStyle(y,J){const k=this._tokens[(y<<1)+1];return g.NX.getInlineStyleFromMetadata(k,J)}getEndOffset(y){return this._tokens[y<<1]}findTokenIndexAtOffset(y){return Y.findIndexInTokensArray(this._tokens,y)}inflate(){return this}sliceAndInflate(y,J,k){return new Q(this,y,J,k)}static convertToEndOffset(y,J){const P=(y.length>>>1)-1;for(let s=0;s<P;s++)y[s<<1]=y[s+1<<1];y[P<<1]=J}static findIndexInTokensArray(y,J){if(y.length<=2)return 0;let k=0,P=(y.length>>>1)-1;for(;k<P;){const s=k+Math.floor((P-k)/2),I=y[s<<1];if(I===J)return s+1;I<J?k=s+1:I>J&&(P=s)}return k}withInserted(y){if(y.length===0)return this;let J=0,k=0,P="";const s=new Array;let I=0;for(;;){let m=J<this._tokensCount?this._tokens[J<<1]:-1,C=k<y.length?y[k]:null;if(m!==-1&&(C===null||m<=C.offset)){P+=this._text.substring(I,m);const V=this._tokens[(J<<1)+1];s.push(P.length,V),J++,I=m}else if(C){if(C.offset>I){P+=this._text.substring(I,C.offset);const V=this._tokens[(J<<1)+1];s.push(P.length,V),I=C.offset}P+=C.text,s.push(P.length,C.tokenMetadata),k++}else break}return new Y(new Uint32Array(s),P,this._languageIdCodec)}}Y.defaultTokenMetadata=(16384|2<<23)>>>0;class Q{constructor(y,J,k,P){this._source=y,this._startOffset=J,this._endOffset=k,this._deltaOffset=P,this._firstTokenIndex=y.findTokenIndexAtOffset(J),this._tokensCount=0;for(let s=this._firstTokenIndex,I=y.getCount();s<I&&!(y.getStartOffset(s)>=k);s++)this._tokensCount++}equals(y){return y instanceof Q?this._startOffset===y._startOffset&&this._endOffset===y._endOffset&&this._deltaOffset===y._deltaOffset&&this._source.slicedEquals(y._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(y){return this._source.getForeground(this._firstTokenIndex+y)}getEndOffset(y){const J=this._source.getEndOffset(this._firstTokenIndex+y);return Math.min(this._endOffset,J)-this._startOffset+this._deltaOffset}getClassName(y){return this._source.getClassName(this._firstTokenIndex+y)}getInlineStyle(y,J){return this._source.getInlineStyle(this._firstTokenIndex+y,J)}findTokenIndexAtOffset(y){return this._source.findTokenIndexAtOffset(y+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},50187:function(Yt,Ue,c){"use strict";c.d(Ue,{L:function(){return g}});class g{constructor(Q,O){this.lineNumber=Q,this.column=O}with(Q=this.lineNumber,O=this.column){return Q===this.lineNumber&&O===this.column?this:new g(Q,O)}delta(Q=0,O=0){return this.with(this.lineNumber+Q,this.column+O)}equals(Q){return g.equals(this,Q)}static equals(Q,O){return!Q&&!O?!0:!!Q&&!!O&&Q.lineNumber===O.lineNumber&&Q.column===O.column}isBefore(Q){return g.isBefore(this,Q)}static isBefore(Q,O){return Q.lineNumber<O.lineNumber?!0:O.lineNumber<Q.lineNumber?!1:Q.column<O.column}isBeforeOrEqual(Q){return g.isBeforeOrEqual(this,Q)}static isBeforeOrEqual(Q,O){return Q.lineNumber<O.lineNumber?!0:O.lineNumber<Q.lineNumber?!1:Q.column<=O.column}static compare(Q,O){let y=Q.lineNumber|0,J=O.lineNumber|0;if(y===J){let k=Q.column|0,P=O.column|0;return k-P}return y-J}clone(){return new g(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(Q){return new g(Q.lineNumber,Q.column)}static isIPosition(Q){return Q&&typeof Q.lineNumber=="number"&&typeof Q.column=="number"}}},24314:function(Yt,Ue,c){"use strict";c.d(Ue,{e:function(){return Y}});var g=c(50187);class Y{constructor(O,y,J,k){O>J||O===J&&y>k?(this.startLineNumber=J,this.startColumn=k,this.endLineNumber=O,this.endColumn=y):(this.startLineNumber=O,this.startColumn=y,this.endLineNumber=J,this.endColumn=k)}isEmpty(){return Y.isEmpty(this)}static isEmpty(O){return O.startLineNumber===O.endLineNumber&&O.startColumn===O.endColumn}containsPosition(O){return Y.containsPosition(this,O)}static containsPosition(O,y){return!(y.lineNumber<O.startLineNumber||y.lineNumber>O.endLineNumber||y.lineNumber===O.startLineNumber&&y.column<O.startColumn||y.lineNumber===O.endLineNumber&&y.column>O.endColumn)}containsRange(O){return Y.containsRange(this,O)}static containsRange(O,y){return!(y.startLineNumber<O.startLineNumber||y.endLineNumber<O.startLineNumber||y.startLineNumber>O.endLineNumber||y.endLineNumber>O.endLineNumber||y.startLineNumber===O.startLineNumber&&y.startColumn<O.startColumn||y.endLineNumber===O.endLineNumber&&y.endColumn>O.endColumn)}strictContainsRange(O){return Y.strictContainsRange(this,O)}static strictContainsRange(O,y){return!(y.startLineNumber<O.startLineNumber||y.endLineNumber<O.startLineNumber||y.startLineNumber>O.endLineNumber||y.endLineNumber>O.endLineNumber||y.startLineNumber===O.startLineNumber&&y.startColumn<=O.startColumn||y.endLineNumber===O.endLineNumber&&y.endColumn>=O.endColumn)}plusRange(O){return Y.plusRange(this,O)}static plusRange(O,y){let J,k,P,s;return y.startLineNumber<O.startLineNumber?(J=y.startLineNumber,k=y.startColumn):y.startLineNumber===O.startLineNumber?(J=y.startLineNumber,k=Math.min(y.startColumn,O.startColumn)):(J=O.startLineNumber,k=O.startColumn),y.endLineNumber>O.endLineNumber?(P=y.endLineNumber,s=y.endColumn):y.endLineNumber===O.endLineNumber?(P=y.endLineNumber,s=Math.max(y.endColumn,O.endColumn)):(P=O.endLineNumber,s=O.endColumn),new Y(J,k,P,s)}intersectRanges(O){return Y.intersectRanges(this,O)}static intersectRanges(O,y){let J=O.startLineNumber,k=O.startColumn,P=O.endLineNumber,s=O.endColumn,I=y.startLineNumber,m=y.startColumn,C=y.endLineNumber,V=y.endColumn;return J<I?(J=I,k=m):J===I&&(k=Math.max(k,m)),P>C?(P=C,s=V):P===C&&(s=Math.min(s,V)),J>P||J===P&&k>s?null:new Y(J,k,P,s)}equalsRange(O){return Y.equalsRange(this,O)}static equalsRange(O,y){return!!O&&!!y&&O.startLineNumber===y.startLineNumber&&O.startColumn===y.startColumn&&O.endLineNumber===y.endLineNumber&&O.endColumn===y.endColumn}getEndPosition(){return Y.getEndPosition(this)}static getEndPosition(O){return new g.L(O.endLineNumber,O.endColumn)}getStartPosition(){return Y.getStartPosition(this)}static getStartPosition(O){return new g.L(O.startLineNumber,O.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(O,y){return new Y(this.startLineNumber,this.startColumn,O,y)}setStartPosition(O,y){return new Y(O,y,this.endLineNumber,this.endColumn)}collapseToStart(){return Y.collapseToStart(this)}static collapseToStart(O){return new Y(O.startLineNumber,O.startColumn,O.startLineNumber,O.startColumn)}static fromPositions(O,y=O){return new Y(O.lineNumber,O.column,y.lineNumber,y.column)}static lift(O){return O?new Y(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn):null}static isIRange(O){return O&&typeof O.startLineNumber=="number"&&typeof O.startColumn=="number"&&typeof O.endLineNumber=="number"&&typeof O.endColumn=="number"}static areIntersectingOrTouching(O,y){return!(O.endLineNumber<y.startLineNumber||O.endLineNumber===y.startLineNumber&&O.endColumn<y.startColumn||y.endLineNumber<O.startLineNumber||y.endLineNumber===O.startLineNumber&&y.endColumn<O.startColumn)}static areIntersecting(O,y){return!(O.endLineNumber<y.startLineNumber||O.endLineNumber===y.startLineNumber&&O.endColumn<=y.startColumn||y.endLineNumber<O.startLineNumber||y.endLineNumber===O.startLineNumber&&y.endColumn<=O.startColumn)}static compareRangesUsingStarts(O,y){if(O&&y){const P=O.startLineNumber|0,s=y.startLineNumber|0;if(P===s){const I=O.startColumn|0,m=y.startColumn|0;if(I===m){const C=O.endLineNumber|0,V=y.endLineNumber|0;if(C===V){const r=O.endColumn|0,x=y.endColumn|0;return r-x}return C-V}return I-m}return P-s}return(O?1:0)-(y?1:0)}static compareRangesUsingEnds(O,y){return O.endLineNumber===y.endLineNumber?O.endColumn===y.endColumn?O.startLineNumber===y.startLineNumber?O.startColumn-y.startColumn:O.startLineNumber-y.startLineNumber:O.endColumn-y.endColumn:O.endLineNumber-y.endLineNumber}static spansMultipleLines(O){return O.endLineNumber>O.startLineNumber}}},3860:function(Yt,Ue,c){"use strict";c.d(Ue,{Y:function(){return Q}});var g=c(50187),Y=c(24314);class Q extends Y.e{constructor(y,J,k,P){super(y,J,k,P),this.selectionStartLineNumber=y,this.selectionStartColumn=J,this.positionLineNumber=k,this.positionColumn=P}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(y){return Q.selectionsEqual(this,y)}static selectionsEqual(y,J){return y.selectionStartLineNumber===J.selectionStartLineNumber&&y.selectionStartColumn===J.selectionStartColumn&&y.positionLineNumber===J.positionLineNumber&&y.positionColumn===J.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(y,J){return this.getDirection()===0?new Q(this.startLineNumber,this.startColumn,y,J):new Q(y,J,this.startLineNumber,this.startColumn)}getPosition(){return new g.L(this.positionLineNumber,this.positionColumn)}setStartPosition(y,J){return this.getDirection()===0?new Q(y,J,this.endLineNumber,this.endColumn):new Q(this.endLineNumber,this.endColumn,y,J)}static fromPositions(y,J=y){return new Q(y.lineNumber,y.column,J.lineNumber,J.column)}static liftSelection(y){return new Q(y.selectionStartLineNumber,y.selectionStartColumn,y.positionLineNumber,y.positionColumn)}static selectionsArrEqual(y,J){if(y&&!J||!y&&J)return!1;if(!y&&!J)return!0;if(y.length!==J.length)return!1;for(let k=0,P=y.length;k<P;k++)if(!this.selectionsEqual(y[k],J[k]))return!1;return!0}static isISelection(y){return y&&typeof y.selectionStartLineNumber=="number"&&typeof y.selectionStartColumn=="number"&&typeof y.positionLineNumber=="number"&&typeof y.positionColumn=="number"}static createWithDirection(y,J,k,P,s){return s===0?new Q(y,J,k,P):new Q(k,P,y,J)}}},50072:function(Yt,Ue,c){"use strict";c.d(Ue,{kH:function(){return C},l$:function(){return m},lZ:function(){return I},oe:function(){return s}});var g=c(97295),Y=c(1432),Q=c(53060);let O;function y(){return O||(O=new TextDecoder("UTF-16LE")),O}let J;function k(){return J||(J=new TextDecoder("UTF-16BE")),J}let P;function s(){return P||(P=Y.r()?y():k()),P}const I=typeof TextDecoder!="undefined";let m,C;I?(m=D=>new x(D),C=V):(m=D=>new w,C=r);function V(D,f,v){const L=new Uint16Array(D.buffer,f,v);return v>0&&(L[0]===65279||L[0]===65534)?r(D,f,v):y().decode(L)}function r(D,f,v){let L=[],h=0;for(let R=0;R<v;R++){const T=Q.mP(D,f);f+=2,L[h++]=String.fromCharCode(T)}return L.join("")}class x{constructor(f){this._capacity=f|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const f=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return s().decode(f)}_flushBuffer(){const f=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[f]:this._completedStrings[this._completedStrings.length]=f}write1(f){const v=this._capacity-this._bufferLength;v<=1&&(v===0||g.ZG(f))&&this._flushBuffer(),this._buffer[this._bufferLength++]=f}appendASCII(f){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=f}appendASCIIString(f){const v=f.length;if(this._bufferLength+v>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=f;return}for(let L=0;L<v;L++)this._buffer[this._bufferLength++]=f.charCodeAt(L)}}class w{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(f){this._pieces[this._piecesLen++]=String.fromCharCode(f)}appendASCII(f){this._pieces[this._piecesLen++]=String.fromCharCode(f)}appendASCIIString(f){this._pieces[this._piecesLen++]=f}}},85600:function(Yt,Ue,c){"use strict";c.d(Ue,{Hi:function(){return Q},WU:function(){return g},hG:function(){return Y}});class g{constructor(y,J,k){this._tokenBrand=void 0,this.offset=y|0,this.type=J,this.language=k}toString(){return"("+this.offset+", "+this.type+")"}}class Y{constructor(y,J){this._tokenizationResultBrand=void 0,this.tokens=y,this.endState=J}}class Q{constructor(y,J){this._tokenizationResult2Brand=void 0,this.tokens=y,this.endState=J}}},30653:function(Yt,Ue,c){"use strict";c.d(Ue,{p:function(){return g}});class g{constructor(Q,O,y,J,k,P){this.id=Q,this.label=O,this.alias=y,this._precondition=J,this._run=k,this._contextKeyService=P}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},96518:function(Yt,Ue,c){"use strict";c.d(Ue,{I:function(){return g},g:function(){return Y}});function g(Q){return Q&&typeof Q.id=="string"}const Y={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},29102:function(Yt,Ue,c){"use strict";c.d(Ue,{u:function(){return Q}});var g=c(63580),Y=c(38819),Q;(function(O){O.editorSimpleInput=new Y.uy("editorSimpleInput",!1,!0),O.editorTextFocus=new Y.uy("editorTextFocus",!1,g.N("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),O.focus=new Y.uy("editorFocus",!1,g.N("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),O.textInputFocus=new Y.uy("textInputFocus",!1,g.N("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),O.readOnly=new Y.uy("editorReadonly",!1,g.N("editorReadonly","Whether the editor is read only")),O.inDiffEditor=new Y.uy("inDiffEditor",!1,g.N("inDiffEditor","Whether the context is a diff editor")),O.columnSelection=new Y.uy("editorColumnSelection",!1,g.N("editorColumnSelection","Whether `editor.columnSelection` is enabled")),O.writable=O.readOnly.toNegated(),O.hasNonEmptySelection=new Y.uy("editorHasSelection",!1,g.N("editorHasSelection","Whether the editor has text selected")),O.hasOnlyEmptySelection=O.hasNonEmptySelection.toNegated(),O.hasMultipleSelections=new Y.uy("editorHasMultipleSelections",!1,g.N("editorHasMultipleSelections","Whether the editor has multiple selections")),O.hasSingleSelection=O.hasMultipleSelections.toNegated(),O.tabMovesFocus=new Y.uy("editorTabMovesFocus",!1,g.N("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),O.tabDoesNotMoveFocus=O.tabMovesFocus.toNegated(),O.isInWalkThroughSnippet=new Y.uy("isInEmbeddedEditor",!1,!0),O.canUndo=new Y.uy("canUndo",!1,!0),O.canRedo=new Y.uy("canRedo",!1,!0),O.hoverVisible=new Y.uy("editorHoverVisible",!1,g.N("editorHoverVisible","Whether the editor hover is visible")),O.inCompositeEditor=new Y.uy("inCompositeEditor",void 0,g.N("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),O.notInCompositeEditor=O.inCompositeEditor.toNegated(),O.languageId=new Y.uy("editorLangId","",g.N("editorLangId","The language identifier of the editor")),O.hasCompletionItemProvider=new Y.uy("editorHasCompletionItemProvider",!1,g.N("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),O.hasCodeActionsProvider=new Y.uy("editorHasCodeActionsProvider",!1,g.N("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),O.hasCodeLensProvider=new Y.uy("editorHasCodeLensProvider",!1,g.N("editorHasCodeLensProvider","Whether the editor has a code lens provider")),O.hasDefinitionProvider=new Y.uy("editorHasDefinitionProvider",!1,g.N("editorHasDefinitionProvider","Whether the editor has a definition provider")),O.hasDeclarationProvider=new Y.uy("editorHasDeclarationProvider",!1,g.N("editorHasDeclarationProvider","Whether the editor has a declaration provider")),O.hasImplementationProvider=new Y.uy("editorHasImplementationProvider",!1,g.N("editorHasImplementationProvider","Whether the editor has an implementation provider")),O.hasTypeDefinitionProvider=new Y.uy("editorHasTypeDefinitionProvider",!1,g.N("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),O.hasHoverProvider=new Y.uy("editorHasHoverProvider",!1,g.N("editorHasHoverProvider","Whether the editor has a hover provider")),O.hasDocumentHighlightProvider=new Y.uy("editorHasDocumentHighlightProvider",!1,g.N("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),O.hasDocumentSymbolProvider=new Y.uy("editorHasDocumentSymbolProvider",!1,g.N("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),O.hasReferenceProvider=new Y.uy("editorHasReferenceProvider",!1,g.N("editorHasReferenceProvider","Whether the editor has a reference provider")),O.hasRenameProvider=new Y.uy("editorHasRenameProvider",!1,g.N("editorHasRenameProvider","Whether the editor has a rename provider")),O.hasSignatureHelpProvider=new Y.uy("editorHasSignatureHelpProvider",!1,g.N("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),O.hasInlayHintsProvider=new Y.uy("editorHasInlayHintsProvider",!1,g.N("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),O.hasDocumentFormattingProvider=new Y.uy("editorHasDocumentFormattingProvider",!1,g.N("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),O.hasDocumentSelectionFormattingProvider=new Y.uy("editorHasDocumentSelectionFormattingProvider",!1,g.N("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),O.hasMultipleDocumentFormattingProvider=new Y.uy("editorHasMultipleDocumentFormattingProvider",!1,g.N("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),O.hasMultipleDocumentSelectionFormattingProvider=new Y.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,g.N("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(Q||(Q={}))},84973:function(Yt,Ue,c){"use strict";c.d(Ue,{F5:function(){return Q},Qi:function(){return s},UO:function(){return k},dJ:function(){return O},je:function(){return I},s6:function(){return J},sh:function(){return Y},tk:function(){return y},vW:function(){return P}});var g=c(36248),Y;(function(m){m[m.Left=1]="Left",m[m.Center=2]="Center",m[m.Right=4]="Right",m[m.Full=7]="Full"})(Y||(Y={}));var Q;(function(m){m[m.Inline=1]="Inline",m[m.Gutter=2]="Gutter"})(Q||(Q={}));class O{constructor(C){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,C.tabSize|0),this.indentSize=C.tabSize|0,this.insertSpaces=!!C.insertSpaces,this.defaultEOL=C.defaultEOL|0,this.trimAutoWhitespace=!!C.trimAutoWhitespace,this.bracketPairColorizationOptions=C.bracketPairColorizationOptions}equals(C){return this.tabSize===C.tabSize&&this.indentSize===C.indentSize&&this.insertSpaces===C.insertSpaces&&this.defaultEOL===C.defaultEOL&&this.trimAutoWhitespace===C.trimAutoWhitespace&&(0,g.fS)(this.bracketPairColorizationOptions,C.bracketPairColorizationOptions)}createChangeEvent(C){return{tabSize:this.tabSize!==C.tabSize,indentSize:this.indentSize!==C.indentSize,insertSpaces:this.insertSpaces!==C.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==C.trimAutoWhitespace}}}class y{constructor(C,V){this._findMatchBrand=void 0,this.range=C,this.matches=V}}var J;(function(m){m[m.Disabled=0]="Disabled",m[m.EnabledForActive=1]="EnabledForActive",m[m.Enabled=2]="Enabled"})(J||(J={}));class k{constructor(C,V,r){this.visibleColumn=C,this.className=V,this.horizontalLine=r}}class P{constructor(C,V){this.top=C,this.endColumn=V}}class s{constructor(C,V,r,x,w,D){this.identifier=C,this.range=V,this.text=r,this.forceMoveMarkers=x,this.isAutoWhitespaceEdit=w,this._isTracked=D}}class I{constructor(C,V,r){this.reverseEdits=C,this.changes=V,this.trimAutoWhitespaceLineNumbers=r}}},95215:function(Yt,Ue,c){"use strict";c.d(Ue,{NL:function(){return r},e9:function(){return V}});var g=c(63580),Y=c(17301),Q=c(3860),O=c(70666),y=c(60962),J=c(53060),k=c(95935);function P(x){return x.toString()}class s{constructor(w,D,f,v,L,h,R){this.beforeVersionId=w,this.afterVersionId=D,this.beforeEOL=f,this.afterEOL=v,this.beforeCursorState=L,this.afterCursorState=h,this.changes=R}static create(w,D){const f=w.getAlternativeVersionId(),v=C(w);return new s(f,f,v,v,D,D,[])}append(w,D,f,v,L){D.length>0&&(this.changes=(0,y.b)(this.changes,D)),this.afterEOL=f,this.afterVersionId=v,this.afterCursorState=L}static _writeSelectionsSize(w){return 4+4*4*(w?w.length:0)}static _writeSelections(w,D,f){if(J.T4(w,D?D.length:0,f),f+=4,D)for(const v of D)J.T4(w,v.selectionStartLineNumber,f),f+=4,J.T4(w,v.selectionStartColumn,f),f+=4,J.T4(w,v.positionLineNumber,f),f+=4,J.T4(w,v.positionColumn,f),f+=4;return f}static _readSelections(w,D,f){const v=J.Ag(w,D);D+=4;for(let L=0;L<v;L++){const h=J.Ag(w,D);D+=4;const R=J.Ag(w,D);D+=4;const T=J.Ag(w,D);D+=4;const W=J.Ag(w,D);D+=4,f.push(new Q.Y(h,R,T,W))}return D}serialize(){let w=10+s._writeSelectionsSize(this.beforeCursorState)+s._writeSelectionsSize(this.afterCursorState)+4;for(const v of this.changes)w+=v.writeSize();const D=new Uint8Array(w);let f=0;J.T4(D,this.beforeVersionId,f),f+=4,J.T4(D,this.afterVersionId,f),f+=4,J.Cg(D,this.beforeEOL,f),f+=1,J.Cg(D,this.afterEOL,f),f+=1,f=s._writeSelections(D,this.beforeCursorState,f),f=s._writeSelections(D,this.afterCursorState,f),J.T4(D,this.changes.length,f),f+=4;for(const v of this.changes)f=v.write(D,f);return D.buffer}static deserialize(w){const D=new Uint8Array(w);let f=0;const v=J.Ag(D,f);f+=4;const L=J.Ag(D,f);f+=4;const h=J.Q$(D,f);f+=1;const R=J.Q$(D,f);f+=1;const T=[];f=s._readSelections(D,f,T);const W=[];f=s._readSelections(D,f,W);const K=J.Ag(D,f);f+=4;const ie=[];for(let ce=0;ce<K;ce++)f=y.q.read(D,f,ie);return new s(v,L,h,R,T,W,ie)}}class I{constructor(w,D){this.model=w,this._data=s.create(w,D)}get type(){return 0}get resource(){return O.o.isUri(this.model)?this.model:this.model.uri}get label(){return g.N("edit","Typing")}toString(){return(this._data instanceof s?this._data:s.deserialize(this._data)).changes.map(D=>D.toString()).join(", ")}matchesResource(w){return(O.o.isUri(this.model)?this.model:this.model.uri).toString()===w.toString()}setModel(w){this.model=w}canAppend(w){return this.model===w&&this._data instanceof s}append(w,D,f,v,L){this._data instanceof s&&this._data.append(w,D,f,v,L)}close(){this._data instanceof s&&(this._data=this._data.serialize())}open(){this._data instanceof s||(this._data=s.deserialize(this._data))}undo(){if(O.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof s&&(this._data=this._data.serialize());const w=s.deserialize(this._data);this.model._applyUndo(w.changes,w.beforeEOL,w.beforeVersionId,w.beforeCursorState)}redo(){if(O.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof s&&(this._data=this._data.serialize());const w=s.deserialize(this._data);this.model._applyRedo(w.changes,w.afterEOL,w.afterVersionId,w.afterCursorState)}heapSize(){return this._data instanceof s&&(this._data=this._data.serialize()),this._data.byteLength+168}}class m{constructor(w,D){this.type=1,this.label=w,this._isOpen=!0,this._editStackElementsArr=D.slice(0),this._editStackElementsMap=new Map;for(const f of this._editStackElementsArr){const v=P(f.resource);this._editStackElementsMap.set(v,f)}this._delegate=null}get resources(){return this._editStackElementsArr.map(w=>w.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(w){const D=P(w);return this._editStackElementsMap.has(D)}setModel(w){const D=P(O.o.isUri(w)?w:w.uri);this._editStackElementsMap.has(D)&&this._editStackElementsMap.get(D).setModel(w)}canAppend(w){if(!this._isOpen)return!1;const D=P(w.uri);return this._editStackElementsMap.has(D)?this._editStackElementsMap.get(D).canAppend(w):!1}append(w,D,f,v,L){const h=P(w.uri);this._editStackElementsMap.get(h).append(w,D,f,v,L)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const w of this._editStackElementsArr)w.undo()}redo(){for(const w of this._editStackElementsArr)w.redo()}heapSize(w){const D=P(w);return this._editStackElementsMap.has(D)?this._editStackElementsMap.get(D).heapSize():0}split(){return this._editStackElementsArr}toString(){let w=[];for(const D of this._editStackElementsArr)w.push(`${(0,k.EZ)(D.resource)}: ${D}`);return`{${w.join(", ")}}`}}function C(x){return x.getEOL()===`
`?0:1}function V(x){return x?x instanceof I||x instanceof m:!1}class r{constructor(w,D){this._model=w,this._undoRedoService=D}pushStackElement(){const w=this._undoRedoService.getLastElement(this._model.uri);V(w)&&w.close()}popStackElement(){const w=this._undoRedoService.getLastElement(this._model.uri);V(w)&&w.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(w){const D=this._undoRedoService.getLastElement(this._model.uri);if(V(D)&&D.canAppend(this._model))return D;const f=new I(this._model,w);return this._undoRedoService.pushElement(f),f}pushEOL(w){const D=this._getOrCreateEditStackElement(null);this._model.setEOL(w),D.append(this._model,[],C(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(w,D,f){const v=this._getOrCreateEditStackElement(w),L=this._model.applyEdits(D,!0),h=r._computeCursorState(f,L),R=L.map((T,W)=>({index:W,textChange:T.textChange}));return R.sort((T,W)=>T.textChange.oldPosition===W.textChange.oldPosition?T.index-W.index:T.textChange.oldPosition-W.textChange.oldPosition),v.append(this._model,R.map(T=>T.textChange),C(this._model),this._model.getAlternativeVersionId(),h),h}static _computeCursorState(w,D){try{return w?w(D):null}catch(f){return(0,Y.dL)(f),null}}}},60962:function(Yt,Ue,c){"use strict";c.d(Ue,{b:function(){return y},q:function(){return O}});var g=c(53060),Y=c(50072);function Q(k){return k.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class O{constructor(P,s,I,m){this.oldPosition=P,this.oldText=s,this.newPosition=I,this.newText=m}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${Q(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${Q(this.oldText)}")`:`(replace@${this.oldPosition} "${Q(this.oldText)}" with "${Q(this.newText)}")`}static _writeStringSize(P){return 4+2*P.length}static _writeString(P,s,I){const m=s.length;g.T4(P,m,I),I+=4;for(let C=0;C<m;C++)g.oq(P,s.charCodeAt(C),I),I+=2;return I}static _readString(P,s){const I=g.Ag(P,s);return s+=4,(0,Y.kH)(P,s,I)}writeSize(){return 8+O._writeStringSize(this.oldText)+O._writeStringSize(this.newText)}write(P,s){return g.T4(P,this.oldPosition,s),s+=4,g.T4(P,this.newPosition,s),s+=4,s=O._writeString(P,this.oldText,s),s=O._writeString(P,this.newText,s),s}static read(P,s,I){const m=g.Ag(P,s);s+=4;const C=g.Ag(P,s);s+=4;const V=O._readString(P,s);s+=O._writeStringSize(V);const r=O._readString(P,s);return s+=O._writeStringSize(r),I.push(new O(m,V,C,r)),s}}function y(k,P){return k===null||k.length===0?P:new J(k,P).compress()}class J{constructor(P,s){this._prevEdits=P,this._currEdits=s,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let P=0,s=0,I=this._getPrev(P),m=this._getCurr(s);for(;P<this._prevLen||s<this._currLen;){if(I===null){this._acceptCurr(m),m=this._getCurr(++s);continue}if(m===null){this._acceptPrev(I),I=this._getPrev(++P);continue}if(m.oldEnd<=I.newPosition){this._acceptCurr(m),m=this._getCurr(++s);continue}if(I.newEnd<=m.oldPosition){this._acceptPrev(I),I=this._getPrev(++P);continue}if(m.oldPosition<I.newPosition){const[w,D]=J._splitCurr(m,I.newPosition-m.oldPosition);this._acceptCurr(w),m=D;continue}if(I.newPosition<m.oldPosition){const[w,D]=J._splitPrev(I,m.oldPosition-I.newPosition);this._acceptPrev(w),I=D;continue}let r,x;if(m.oldEnd===I.newEnd)r=I,x=m,I=this._getPrev(++P),m=this._getCurr(++s);else if(m.oldEnd<I.newEnd){const[w,D]=J._splitPrev(I,m.oldLength);r=w,x=m,I=D,m=this._getCurr(++s)}else{const[w,D]=J._splitCurr(m,I.newLength);r=I,x=w,I=this._getPrev(++P),m=D}this._result[this._resultLen++]=new O(r.oldPosition,r.oldText,x.newPosition,x.newText),this._prevDeltaOffset+=r.newLength-r.oldLength,this._currDeltaOffset+=x.newLength-x.oldLength}const C=J._merge(this._result);return J._removeNoOps(C)}_acceptCurr(P){this._result[this._resultLen++]=J._rebaseCurr(this._prevDeltaOffset,P),this._currDeltaOffset+=P.newLength-P.oldLength}_getCurr(P){return P<this._currLen?this._currEdits[P]:null}_acceptPrev(P){this._result[this._resultLen++]=J._rebasePrev(this._currDeltaOffset,P),this._prevDeltaOffset+=P.newLength-P.oldLength}_getPrev(P){return P<this._prevLen?this._prevEdits[P]:null}static _rebaseCurr(P,s){return new O(s.oldPosition-P,s.oldText,s.newPosition,s.newText)}static _rebasePrev(P,s){return new O(s.oldPosition,s.oldText,s.newPosition+P,s.newText)}static _splitPrev(P,s){const I=P.newText.substr(0,s),m=P.newText.substr(s);return[new O(P.oldPosition,P.oldText,P.newPosition,I),new O(P.oldEnd,"",P.newPosition+s,m)]}static _splitCurr(P,s){const I=P.oldText.substr(0,s),m=P.oldText.substr(s);return[new O(P.oldPosition,I,P.newPosition,P.newText),new O(P.oldPosition+s,m,P.newEnd,"")]}static _merge(P){if(P.length===0)return P;let s=[],I=0,m=P[0];for(let C=1;C<P.length;C++){const V=P[C];m.oldEnd===V.oldPosition?m=new O(m.oldPosition,m.oldText+V.oldText,m.newPosition,m.newText+V.newText):(s[I++]=m,m=V)}return s[I++]=m,s}static _removeNoOps(P){if(P.length===0)return P;let s=[],I=0;for(let m=0;m<P.length;m++){const C=P[m];C.oldText!==C.newText&&(s[I++]=C)}return s}}},24979:function(Yt,Ue,c){"use strict";c.d(Ue,{WE:function(){return ti},qx:function(){return Si},yO:function(){return _t}});var g=c(17301),Y=c(4669),Q=c(5976),O=c(97295),y=c(70666),J=c(64141),k=c(50187),P=c(24314),s=c(3860),I=c(84973),m=c(95215);class C{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function V(We,d,N,z,oe){oe.spacesDiff=0,oe.looksLikeAlignment=!1;let fe;for(fe=0;fe<d&&fe<z;fe++){let $t=We.charCodeAt(fe),si=N.charCodeAt(fe);if($t!==si)break}let Ee=0,Ve=0;for(let $t=fe;$t<d;$t++)We.charCodeAt($t)===32?Ee++:Ve++;let dt=0,At=0;for(let $t=fe;$t<z;$t++)N.charCodeAt($t)===32?dt++:At++;if(Ee>0&&Ve>0||dt>0&&At>0)return;let Ct=Math.abs(Ve-At),Dt=Math.abs(Ee-dt);if(Ct===0){oe.spacesDiff=Dt,Dt>0&&0<=dt-1&&dt-1<We.length&&dt<N.length&&N.charCodeAt(dt)!==32&&We.charCodeAt(dt-1)===32&&We.charCodeAt(We.length-1)===44&&(oe.looksLikeAlignment=!0);return}if(Dt%Ct===0){oe.spacesDiff=Dt/Ct;return}}function r(We,d,N){const z=Math.min(We.getLineCount(),1e4);let oe=0,fe=0,Ee="",Ve=0;const dt=[2,4,6,8,3,5,7],At=8;let Ct=[0,0,0,0,0,0,0,0,0],Dt=new C;for(let ui=1;ui<=z;ui++){let Ti=We.getLineLength(ui),Fi=We.getLineContent(ui);const Zi=Ti<=65536;let yn=!1,as=0,wn=0,rn=0;for(let Ks=0,js=Ti;Ks<js;Ks++){let Us=Zi?Fi.charCodeAt(Ks):We.getLineCharCode(ui,Ks);if(Us===9)rn++;else if(Us===32)wn++;else{yn=!0,as=Ks;break}}if(!yn||(rn>0?oe++:wn>1&&fe++,V(Ee,Ve,Fi,as,Dt),Dt.looksLikeAlignment&&!(N&&d===Dt.spacesDiff)))continue;let oo=Dt.spacesDiff;oo<=At&&Ct[oo]++,Ee=Fi,Ve=as}let $t=N;oe!==fe&&($t=oe<fe);let si=d;if($t){let ui=$t?0:.1*z;dt.forEach(Ti=>{let Fi=Ct[Ti];Fi>ui&&(ui=Fi,si=Ti)}),si===4&&Ct[4]>0&&Ct[2]>0&&Ct[2]>=Ct[4]/2&&(si=2)}return{insertSpaces:$t,tabSize:si}}function x(We){return(We.metadata&1)>>>0}function w(We,d){We.metadata=We.metadata&254|d<<0}function D(We){return(We.metadata&2)>>>1===1}function f(We,d){We.metadata=We.metadata&253|(d?1:0)<<1}function v(We){return(We.metadata&4)>>>2===1}function L(We,d){We.metadata=We.metadata&251|(d?1:0)<<2}function h(We){return(We.metadata&24)>>>3}function R(We,d){We.metadata=We.metadata&231|d<<3}function T(We){return(We.metadata&32)>>>5===1}function W(We,d){We.metadata=We.metadata&223|(d?1:0)<<5}class K{constructor(d,N,z){this.metadata=0,this.parent=this,this.left=this,this.right=this,w(this,1),this.start=N,this.end=z,this.delta=0,this.maxEnd=z,this.id=d,this.ownerId=0,this.options=null,L(this,!1),R(this,1),W(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=N,this.cachedAbsoluteEnd=z,this.range=null,f(this,!1)}reset(d,N,z,oe){this.start=N,this.end=z,this.maxEnd=z,this.cachedVersionId=d,this.cachedAbsoluteStart=N,this.cachedAbsoluteEnd=z,this.range=oe}setOptions(d){this.options=d;let N=this.options.className;L(this,N==="squiggly-error"||N==="squiggly-warning"||N==="squiggly-info"),R(this,this.options.stickiness),W(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(d,N,z){this.cachedVersionId!==z&&(this.range=null),this.cachedVersionId=z,this.cachedAbsoluteStart=d,this.cachedAbsoluteEnd=N}detach(){this.parent=null,this.left=null,this.right=null}}const ie=new K(null,0,0);ie.parent=ie,ie.left=ie,ie.right=ie,w(ie,0);class ce{constructor(){this.root=ie,this.requestNormalizeDelta=!1}intervalSearch(d,N,z,oe,fe){return this.root===ie?[]:p(this,d,N,z,oe,fe)}search(d,N,z){return this.root===ie?[]:q(this,d,N,z)}collectNodesFromOwner(d){return $(this,d)}collectNodesPostOrder(){return G(this)}insert(d){S(this,d),this._normalizeDeltaIfNecessary()}delete(d){te(this,d),this._normalizeDeltaIfNecessary()}resolveNode(d,N){const z=d;let oe=0;for(;d!==this.root;)d===d.parent.right&&(oe+=d.parent.delta),d=d.parent;const fe=z.start+oe,Ee=z.end+oe;z.setCachedOffsets(fe,Ee,N)}acceptReplace(d,N,z,oe){const fe=le(this,d,d+N);for(let Ee=0,Ve=fe.length;Ee<Ve;Ee++){const dt=fe[Ee];te(this,dt)}this._normalizeDeltaIfNecessary(),Z(this,d,d+N,z),this._normalizeDeltaIfNecessary();for(let Ee=0,Ve=fe.length;Ee<Ve;Ee++){const dt=fe[Ee];dt.start=dt.cachedAbsoluteStart,dt.end=dt.cachedAbsoluteEnd,De(dt,d,d+N,z,oe),dt.maxEnd=dt.end,S(this,dt)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,_e(this))}}function _e(We){let d=We.root,N=0;for(;d!==ie;){if(d.left!==ie&&!D(d.left)){d=d.left;continue}if(d.right!==ie&&!D(d.right)){N+=d.delta,d=d.right;continue}d.start=N+d.start,d.end=N+d.end,d.delta=0,It(d),f(d,!0),f(d.left,!1),f(d.right,!1),d===d.parent.right&&(N-=d.parent.delta),d=d.parent}f(We.root,!1)}function ve(We,d,N,z){return We<N?!0:We>N||z===1?!1:z===2?!0:d}function De(We,d,N,z,oe){const fe=h(We),Ee=fe===0||fe===2,Ve=fe===1||fe===2,dt=N-d,At=z,Ct=Math.min(dt,At),Dt=We.start;let $t=!1;const si=We.end;let ui=!1;d<=Dt&&si<=N&&T(We)&&(We.start=d,$t=!0,We.end=d,ui=!0);{const Fi=oe?1:dt>0?2:0;!$t&&ve(Dt,Ee,d,Fi)&&($t=!0),!ui&&ve(si,Ve,d,Fi)&&(ui=!0)}if(Ct>0&&!oe){const Fi=dt>At?2:0;!$t&&ve(Dt,Ee,d+Ct,Fi)&&($t=!0),!ui&&ve(si,Ve,d+Ct,Fi)&&(ui=!0)}{const Fi=oe?1:0;!$t&&ve(Dt,Ee,N,Fi)&&(We.start=d+At,$t=!0),!ui&&ve(si,Ve,N,Fi)&&(We.end=d+At,ui=!0)}const Ti=At-dt;$t||(We.start=Math.max(0,Dt+Ti)),ui||(We.end=Math.max(0,si+Ti)),We.start>We.end&&(We.end=We.start)}function le(We,d,N){let z=We.root,oe=0,fe=0,Ee=0,Ve=0,dt=[],At=0;for(;z!==ie;){if(D(z)){f(z.left,!1),f(z.right,!1),z===z.parent.right&&(oe-=z.parent.delta),z=z.parent;continue}if(!D(z.left)){if(fe=oe+z.maxEnd,fe<d){f(z,!0);continue}if(z.left!==ie){z=z.left;continue}}if(Ee=oe+z.start,Ee>N){f(z,!0);continue}if(Ve=oe+z.end,Ve>=d&&(z.setCachedOffsets(Ee,Ve,0),dt[At++]=z),f(z,!0),z.right!==ie&&!D(z.right)){oe+=z.delta,z=z.right;continue}}return f(We.root,!1),dt}function Z(We,d,N,z){let oe=We.root,fe=0,Ee=0,Ve=0;const dt=z-(N-d);for(;oe!==ie;){if(D(oe)){f(oe.left,!1),f(oe.right,!1),oe===oe.parent.right&&(fe-=oe.parent.delta),It(oe),oe=oe.parent;continue}if(!D(oe.left)){if(Ee=fe+oe.maxEnd,Ee<d){f(oe,!0);continue}if(oe.left!==ie){oe=oe.left;continue}}if(Ve=fe+oe.start,Ve>N){oe.start+=dt,oe.end+=dt,oe.delta+=dt,(oe.delta<-1073741824||oe.delta>1073741824)&&(We.requestNormalizeDelta=!0),f(oe,!0);continue}if(f(oe,!0),oe.right!==ie&&!D(oe.right)){fe+=oe.delta,oe=oe.right;continue}}f(We.root,!1)}function $(We,d){let N=We.root,z=[],oe=0;for(;N!==ie;){if(D(N)){f(N.left,!1),f(N.right,!1),N=N.parent;continue}if(N.left!==ie&&!D(N.left)){N=N.left;continue}if(N.ownerId===d&&(z[oe++]=N),f(N,!0),N.right!==ie&&!D(N.right)){N=N.right;continue}}return f(We.root,!1),z}function G(We){let d=We.root,N=[],z=0;for(;d!==ie;){if(D(d)){f(d.left,!1),f(d.right,!1),d=d.parent;continue}if(d.left!==ie&&!D(d.left)){d=d.left;continue}if(d.right!==ie&&!D(d.right)){d=d.right;continue}N[z++]=d,f(d,!0)}return f(We.root,!1),N}function q(We,d,N,z){let oe=We.root,fe=0,Ee=0,Ve=0,dt=[],At=0;for(;oe!==ie;){if(D(oe)){f(oe.left,!1),f(oe.right,!1),oe===oe.parent.right&&(fe-=oe.parent.delta),oe=oe.parent;continue}if(oe.left!==ie&&!D(oe.left)){oe=oe.left;continue}Ee=fe+oe.start,Ve=fe+oe.end,oe.setCachedOffsets(Ee,Ve,z);let Ct=!0;if(d&&oe.ownerId&&oe.ownerId!==d&&(Ct=!1),N&&v(oe)&&(Ct=!1),Ct&&(dt[At++]=oe),f(oe,!0),oe.right!==ie&&!D(oe.right)){fe+=oe.delta,oe=oe.right;continue}}return f(We.root,!1),dt}function p(We,d,N,z,oe,fe){let Ee=We.root,Ve=0,dt=0,At=0,Ct=0,Dt=[],$t=0;for(;Ee!==ie;){if(D(Ee)){f(Ee.left,!1),f(Ee.right,!1),Ee===Ee.parent.right&&(Ve-=Ee.parent.delta),Ee=Ee.parent;continue}if(!D(Ee.left)){if(dt=Ve+Ee.maxEnd,dt<d){f(Ee,!0);continue}if(Ee.left!==ie){Ee=Ee.left;continue}}if(At=Ve+Ee.start,At>N){f(Ee,!0);continue}if(Ct=Ve+Ee.end,Ct>=d){Ee.setCachedOffsets(At,Ct,fe);let si=!0;z&&Ee.ownerId&&Ee.ownerId!==z&&(si=!1),oe&&v(Ee)&&(si=!1),si&&(Dt[$t++]=Ee)}if(f(Ee,!0),Ee.right!==ie&&!D(Ee.right)){Ve+=Ee.delta,Ee=Ee.right;continue}}return f(We.root,!1),Dt}function S(We,d){if(We.root===ie)return d.parent=ie,d.left=ie,d.right=ie,w(d,0),We.root=d,We.root;B(We,d),ht(d.parent);let N=d;for(;N!==We.root&&x(N.parent)===1;)if(N.parent===N.parent.parent.left){const z=N.parent.parent.right;x(z)===1?(w(N.parent,0),w(z,0),w(N.parent.parent,1),N=N.parent.parent):(N===N.parent.right&&(N=N.parent,Pe(We,N)),w(N.parent,0),w(N.parent.parent,1),Me(We,N.parent.parent))}else{const z=N.parent.parent.left;x(z)===1?(w(N.parent,0),w(z,0),w(N.parent.parent,1),N=N.parent.parent):(N===N.parent.left&&(N=N.parent,Me(We,N)),w(N.parent,0),w(N.parent.parent,1),Pe(We,N.parent.parent))}return w(We.root,0),d}function B(We,d){let N=0,z=We.root;const oe=d.start,fe=d.end;for(;;)if(Mt(oe,fe,z.start+N,z.end+N)<0)if(z.left===ie){d.start-=N,d.end-=N,d.maxEnd-=N,z.left=d;break}else z=z.left;else if(z.right===ie){d.start-=N+z.delta,d.end-=N+z.delta,d.maxEnd-=N+z.delta,z.right=d;break}else N+=z.delta,z=z.right;d.parent=z,d.left=ie,d.right=ie,w(d,1)}function te(We,d){let N,z;if(d.left===ie?(N=d.right,z=d,N.delta+=d.delta,(N.delta<-1073741824||N.delta>1073741824)&&(We.requestNormalizeDelta=!0),N.start+=d.delta,N.end+=d.delta):d.right===ie?(N=d.left,z=d):(z=me(d.right),N=z.right,N.start+=z.delta,N.end+=z.delta,N.delta+=z.delta,(N.delta<-1073741824||N.delta>1073741824)&&(We.requestNormalizeDelta=!0),z.start+=d.delta,z.end+=d.delta,z.delta=d.delta,(z.delta<-1073741824||z.delta>1073741824)&&(We.requestNormalizeDelta=!0)),z===We.root){We.root=N,w(N,0),d.detach(),de(),It(N),We.root.parent=ie;return}let oe=x(z)===1;if(z===z.parent.left?z.parent.left=N:z.parent.right=N,z===d?N.parent=z.parent:(z.parent===d?N.parent=z:N.parent=z.parent,z.left=d.left,z.right=d.right,z.parent=d.parent,w(z,x(d)),d===We.root?We.root=z:d===d.parent.left?d.parent.left=z:d.parent.right=z,z.left!==ie&&(z.left.parent=z),z.right!==ie&&(z.right.parent=z)),d.detach(),oe){ht(N.parent),z!==d&&(ht(z),ht(z.parent)),de();return}ht(N),ht(N.parent),z!==d&&(ht(z),ht(z.parent));let fe;for(;N!==We.root&&x(N)===0;)N===N.parent.left?(fe=N.parent.right,x(fe)===1&&(w(fe,0),w(N.parent,1),Pe(We,N.parent),fe=N.parent.right),x(fe.left)===0&&x(fe.right)===0?(w(fe,1),N=N.parent):(x(fe.right)===0&&(w(fe.left,0),w(fe,1),Me(We,fe),fe=N.parent.right),w(fe,x(N.parent)),w(N.parent,0),w(fe.right,0),Pe(We,N.parent),N=We.root)):(fe=N.parent.left,x(fe)===1&&(w(fe,0),w(N.parent,1),Me(We,N.parent),fe=N.parent.left),x(fe.left)===0&&x(fe.right)===0?(w(fe,1),N=N.parent):(x(fe.left)===0&&(w(fe.right,0),w(fe,1),Pe(We,fe),fe=N.parent.left),w(fe,x(N.parent)),w(N.parent,0),w(fe.left,0),Me(We,N.parent),N=We.root));w(N,0),de()}function me(We){for(;We.left!==ie;)We=We.left;return We}function de(){ie.parent=ie,ie.delta=0,ie.start=0,ie.end=0}function Pe(We,d){const N=d.right;N.delta+=d.delta,(N.delta<-1073741824||N.delta>1073741824)&&(We.requestNormalizeDelta=!0),N.start+=d.delta,N.end+=d.delta,d.right=N.left,N.left!==ie&&(N.left.parent=d),N.parent=d.parent,d.parent===ie?We.root=N:d===d.parent.left?d.parent.left=N:d.parent.right=N,N.left=d,d.parent=N,It(d),It(N)}function Me(We,d){const N=d.left;d.delta-=N.delta,(d.delta<-1073741824||d.delta>1073741824)&&(We.requestNormalizeDelta=!0),d.start-=N.delta,d.end-=N.delta,d.left=N.right,N.right!==ie&&(N.right.parent=d),N.parent=d.parent,d.parent===ie?We.root=N:d===d.parent.right?d.parent.right=N:d.parent.left=N,N.right=d,d.parent=N,It(d),It(N)}function nt(We){let d=We.end;if(We.left!==ie){const N=We.left.maxEnd;N>d&&(d=N)}if(We.right!==ie){const N=We.right.maxEnd+We.delta;N>d&&(d=N)}return d}function It(We){We.maxEnd=nt(We)}function ht(We){for(;We!==ie;){const d=nt(We);if(We.maxEnd===d)return;We.maxEnd=d,We=We.parent}}function Mt(We,d,N,z){return We===N?d-z:We-N}class it{constructor(d,N){this.piece=d,this.color=N,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==kt)return ze(this.right);let d=this;for(;d.parent!==kt&&d.parent.left!==d;)d=d.parent;return d.parent===kt?kt:d.parent}prev(){if(this.left!==kt)return he(this.left);let d=this;for(;d.parent!==kt&&d.parent.right!==d;)d=d.parent;return d.parent===kt?kt:d.parent}detach(){this.parent=null,this.left=null,this.right=null}}const kt=new it(null,0);kt.parent=kt,kt.left=kt,kt.right=kt,kt.color=0;function ze(We){for(;We.left!==kt;)We=We.left;return We}function he(We){for(;We.right!==kt;)We=We.right;return We}function ke(We){return We===kt?0:We.size_left+We.piece.length+ke(We.right)}function et(We){return We===kt?0:We.lf_left+We.piece.lineFeedCnt+et(We.right)}function at(){kt.parent=kt}function rt(We,d){let N=d.right;N.size_left+=d.size_left+(d.piece?d.piece.length:0),N.lf_left+=d.lf_left+(d.piece?d.piece.lineFeedCnt:0),d.right=N.left,N.left!==kt&&(N.left.parent=d),N.parent=d.parent,d.parent===kt?We.root=N:d.parent.left===d?d.parent.left=N:d.parent.right=N,N.left=d,d.parent=N}function Ne(We,d){let N=d.left;d.left=N.right,N.right!==kt&&(N.right.parent=d),N.parent=d.parent,d.size_left-=N.size_left+(N.piece?N.piece.length:0),d.lf_left-=N.lf_left+(N.piece?N.piece.lineFeedCnt:0),d.parent===kt?We.root=N:d===d.parent.right?d.parent.right=N:d.parent.left=N,N.right=d,d.parent=N}function Oe(We,d){let N,z;if(d.left===kt?(z=d,N=z.right):d.right===kt?(z=d,N=z.left):(z=ze(d.right),N=z.right),z===We.root){We.root=N,N.color=0,d.detach(),at(),We.root.parent=kt;return}let oe=z.color===1;if(z===z.parent.left?z.parent.left=N:z.parent.right=N,z===d?(N.parent=z.parent,st(We,N)):(z.parent===d?N.parent=z:N.parent=z.parent,st(We,N),z.left=d.left,z.right=d.right,z.parent=d.parent,z.color=d.color,d===We.root?We.root=z:d===d.parent.left?d.parent.left=z:d.parent.right=z,z.left!==kt&&(z.left.parent=z),z.right!==kt&&(z.right.parent=z),z.size_left=d.size_left,z.lf_left=d.lf_left,st(We,z)),d.detach(),N.parent.left===N){let Ee=ke(N),Ve=et(N);if(Ee!==N.parent.size_left||Ve!==N.parent.lf_left){let dt=Ee-N.parent.size_left,At=Ve-N.parent.lf_left;N.parent.size_left=Ee,N.parent.lf_left=Ve,Ye(We,N.parent,dt,At)}}if(st(We,N.parent),oe){at();return}let fe;for(;N!==We.root&&N.color===0;)N===N.parent.left?(fe=N.parent.right,fe.color===1&&(fe.color=0,N.parent.color=1,rt(We,N.parent),fe=N.parent.right),fe.left.color===0&&fe.right.color===0?(fe.color=1,N=N.parent):(fe.right.color===0&&(fe.left.color=0,fe.color=1,Ne(We,fe),fe=N.parent.right),fe.color=N.parent.color,N.parent.color=0,fe.right.color=0,rt(We,N.parent),N=We.root)):(fe=N.parent.left,fe.color===1&&(fe.color=0,N.parent.color=1,Ne(We,N.parent),fe=N.parent.left),fe.left.color===0&&fe.right.color===0?(fe.color=1,N=N.parent):(fe.left.color===0&&(fe.right.color=0,fe.color=1,rt(We,fe),fe=N.parent.left),fe.color=N.parent.color,N.parent.color=0,fe.left.color=0,Ne(We,N.parent),N=We.root));N.color=0,at()}function we(We,d){for(st(We,d);d!==We.root&&d.parent.color===1;)if(d.parent===d.parent.parent.left){const N=d.parent.parent.right;N.color===1?(d.parent.color=0,N.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.right&&(d=d.parent,rt(We,d)),d.parent.color=0,d.parent.parent.color=1,Ne(We,d.parent.parent))}else{const N=d.parent.parent.left;N.color===1?(d.parent.color=0,N.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.left&&(d=d.parent,Ne(We,d)),d.parent.color=0,d.parent.parent.color=1,rt(We,d.parent.parent))}We.root.color=0}function Ye(We,d,N,z){for(;d!==We.root&&d!==kt;)d.parent.left===d&&(d.parent.size_left+=N,d.parent.lf_left+=z),d=d.parent}function st(We,d){let N=0,z=0;if(d!==We.root){for(;d!==We.root&&d===d.parent.right;)d=d.parent;if(d!==We.root)for(d=d.parent,N=ke(d.left)-d.size_left,z=et(d.left)-d.lf_left,d.size_left+=N,d.lf_left+=z;d!==We.root&&(N!==0||z!==0);)d.parent.left===d&&(d.parent.size_left+=N,d.parent.lf_left+=z),d=d.parent}}var Pt=c(77277);const Qt=65535;function ci(We){let d;return We[We.length-1]<65536?d=new Uint16Array(We.length):d=new Uint32Array(We.length),d.set(We,0),d}class Gt{constructor(d,N,z,oe,fe){this.lineStarts=d,this.cr=N,this.lf=z,this.crlf=oe,this.isBasicASCII=fe}}function Lt(We,d=!0){let N=[0],z=1;for(let oe=0,fe=We.length;oe<fe;oe++){const Ee=We.charCodeAt(oe);Ee===13?oe+1<fe&&We.charCodeAt(oe+1)===10?(N[z++]=oe+2,oe++):N[z++]=oe+1:Ee===10&&(N[z++]=oe+1)}return d?ci(N):N}function Ai(We,d){We.length=0,We[0]=0;let N=1,z=0,oe=0,fe=0,Ee=!0;for(let dt=0,At=d.length;dt<At;dt++){const Ct=d.charCodeAt(dt);Ct===13?dt+1<At&&d.charCodeAt(dt+1)===10?(fe++,We[N++]=dt+2,dt++):(z++,We[N++]=dt+1):Ct===10?(oe++,We[N++]=dt+1):Ee&&Ct!==9&&(Ct<32||Ct>126)&&(Ee=!1)}const Ve=new Gt(ci(We),z,oe,fe,Ee);return We.length=0,Ve}class oi{constructor(d,N,z,oe,fe){this.bufferIndex=d,this.start=N,this.end=z,this.lineFeedCnt=oe,this.length=fe}}class $e{constructor(d,N){this.buffer=d,this.lineStarts=N}}class Xe{constructor(d,N){this._pieces=[],this._tree=d,this._BOM=N,this._index=0,d.root!==kt&&d.iterate(d.root,z=>(z!==kt&&this._pieces.push(z.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class wi{constructor(d){this._limit=d,this._cache=[]}get(d){for(let N=this._cache.length-1;N>=0;N--){let z=this._cache[N];if(z.nodeStartOffset<=d&&z.nodeStartOffset+z.node.piece.length>=d)return z}return null}get2(d){for(let N=this._cache.length-1;N>=0;N--){let z=this._cache[N];if(z.nodeStartLineNumber&&z.nodeStartLineNumber<d&&z.nodeStartLineNumber+z.node.piece.lineFeedCnt>=d)return z}return null}set(d){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(d)}validate(d){let N=!1,z=this._cache;for(let oe=0;oe<z.length;oe++){let fe=z[oe];if(fe.node.parent===null||fe.nodeStartOffset>=d){z[oe]=null,N=!0;continue}}if(N){let oe=[];for(const fe of z)fe!==null&&oe.push(fe);this._cache=oe}}}class ii{constructor(d,N,z){this.create(d,N,z)}create(d,N,z){this._buffers=[new $e("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=kt,this._lineCnt=1,this._length=0,this._EOL=N,this._EOLLength=N.length,this._EOLNormalized=z;let oe=null;for(let fe=0,Ee=d.length;fe<Ee;fe++)if(d[fe].buffer.length>0){d[fe].lineStarts||(d[fe].lineStarts=Lt(d[fe].buffer));let Ve=new oi(fe+1,{line:0,column:0},{line:d[fe].lineStarts.length-1,column:d[fe].buffer.length-d[fe].lineStarts[d[fe].lineStarts.length-1]},d[fe].lineStarts.length-1,d[fe].buffer.length);this._buffers.push(d[fe]),oe=this.rbInsertRight(oe,Ve)}this._searchCache=new wi(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(d){let N=Qt,z=N-Math.floor(N/3),oe=z*2,fe="",Ee=0,Ve=[];if(this.iterate(this.root,dt=>{let At=this.getNodeContent(dt),Ct=At.length;if(Ee<=z||Ee+Ct<oe)return fe+=At,Ee+=Ct,!0;let Dt=fe.replace(/\r\n|\r|\n/g,d);return Ve.push(new $e(Dt,Lt(Dt))),fe=At,Ee=Ct,!0}),Ee>0){let dt=fe.replace(/\r\n|\r|\n/g,d);Ve.push(new $e(dt,Lt(dt)))}this.create(Ve,d,!0)}getEOL(){return this._EOL}setEOL(d){this._EOL=d,this._EOLLength=this._EOL.length,this.normalizeEOL(d)}createSnapshot(d){return new Xe(this,d)}getOffsetAt(d,N){let z=0,oe=this.root;for(;oe!==kt;)if(oe.left!==kt&&oe.lf_left+1>=d)oe=oe.left;else if(oe.lf_left+oe.piece.lineFeedCnt+1>=d){z+=oe.size_left;let fe=this.getAccumulatedValue(oe,d-oe.lf_left-2);return z+=fe+N-1}else d-=oe.lf_left+oe.piece.lineFeedCnt,z+=oe.size_left+oe.piece.length,oe=oe.right;return z}getPositionAt(d){d=Math.floor(d),d=Math.max(0,d);let N=this.root,z=0,oe=d;for(;N!==kt;)if(N.size_left!==0&&N.size_left>=d)N=N.left;else if(N.size_left+N.piece.length>=d){let fe=this.getIndexOf(N,d-N.size_left);if(z+=N.lf_left+fe.index,fe.index===0){let Ee=this.getOffsetAt(z+1,1),Ve=oe-Ee;return new k.L(z+1,Ve+1)}return new k.L(z+1,fe.remainder+1)}else if(d-=N.size_left+N.piece.length,z+=N.lf_left+N.piece.lineFeedCnt,N.right===kt){let fe=this.getOffsetAt(z+1,1),Ee=oe-d-fe;return new k.L(z+1,Ee+1)}else N=N.right;return new k.L(1,1)}getValueInRange(d,N){if(d.startLineNumber===d.endLineNumber&&d.startColumn===d.endColumn)return"";let z=this.nodeAt2(d.startLineNumber,d.startColumn),oe=this.nodeAt2(d.endLineNumber,d.endColumn),fe=this.getValueInRange2(z,oe);return N?N!==this._EOL||!this._EOLNormalized?fe.replace(/\r\n|\r|\n/g,N):N===this.getEOL()&&this._EOLNormalized?fe:fe.replace(/\r\n|\r|\n/g,N):fe}getValueInRange2(d,N){if(d.node===N.node){let Ve=d.node,dt=this._buffers[Ve.piece.bufferIndex].buffer,At=this.offsetInBuffer(Ve.piece.bufferIndex,Ve.piece.start);return dt.substring(At+d.remainder,At+N.remainder)}let z=d.node,oe=this._buffers[z.piece.bufferIndex].buffer,fe=this.offsetInBuffer(z.piece.bufferIndex,z.piece.start),Ee=oe.substring(fe+d.remainder,fe+z.piece.length);for(z=z.next();z!==kt;){let Ve=this._buffers[z.piece.bufferIndex].buffer,dt=this.offsetInBuffer(z.piece.bufferIndex,z.piece.start);if(z===N.node){Ee+=Ve.substring(dt,dt+N.remainder);break}else Ee+=Ve.substr(dt,z.piece.length);z=z.next()}return Ee}getLinesContent(){let d=[],N=0,z="",oe=!1;return this.iterate(this.root,fe=>{if(fe===kt)return!0;const Ee=fe.piece;let Ve=Ee.length;if(Ve===0)return!0;const dt=this._buffers[Ee.bufferIndex].buffer,At=this._buffers[Ee.bufferIndex].lineStarts,Ct=Ee.start.line,Dt=Ee.end.line;let $t=At[Ct]+Ee.start.column;if(oe&&(dt.charCodeAt($t)===10&&($t++,Ve--),d[N++]=z,z="",oe=!1,Ve===0))return!0;if(Ct===Dt)return!this._EOLNormalized&&dt.charCodeAt($t+Ve-1)===13?(oe=!0,z+=dt.substr($t,Ve-1)):z+=dt.substr($t,Ve),!0;z+=this._EOLNormalized?dt.substring($t,Math.max($t,At[Ct+1]-this._EOLLength)):dt.substring($t,At[Ct+1]).replace(/(\r\n|\r|\n)$/,""),d[N++]=z;for(let si=Ct+1;si<Dt;si++)z=this._EOLNormalized?dt.substring(At[si],At[si+1]-this._EOLLength):dt.substring(At[si],At[si+1]).replace(/(\r\n|\r|\n)$/,""),d[N++]=z;return!this._EOLNormalized&&dt.charCodeAt(At[Dt]+Ee.end.column-1)===13?(oe=!0,Ee.end.column===0?N--:z=dt.substr(At[Dt],Ee.end.column-1)):z=dt.substr(At[Dt],Ee.end.column),!0}),oe&&(d[N++]=z,z=""),d[N++]=z,d}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(d){return this._lastVisitedLine.lineNumber===d?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=d,d===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(d):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(d,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(d).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(d){if(d.remainder===d.node.piece.length){let N=d.node.next();if(!N)return 0;let z=this._buffers[N.piece.bufferIndex],oe=this.offsetInBuffer(N.piece.bufferIndex,N.piece.start);return z.buffer.charCodeAt(oe)}else{let N=this._buffers[d.node.piece.bufferIndex],oe=this.offsetInBuffer(d.node.piece.bufferIndex,d.node.piece.start)+d.remainder;return N.buffer.charCodeAt(oe)}}getLineCharCode(d,N){let z=this.nodeAt2(d,N+1);return this._getCharCode(z)}getLineLength(d){if(d===this.getLineCount()){let N=this.getOffsetAt(d,1);return this.getLength()-N}return this.getOffsetAt(d+1,1)-this.getOffsetAt(d,1)-this._EOLLength}findMatchesInNode(d,N,z,oe,fe,Ee,Ve,dt,At,Ct,Dt){let $t=this._buffers[d.piece.bufferIndex],si=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start),ui=this.offsetInBuffer(d.piece.bufferIndex,fe),Ti=this.offsetInBuffer(d.piece.bufferIndex,Ee),Fi,Zi={line:0,column:0},yn,as;N._wordSeparators?(yn=$t.buffer.substring(ui,Ti),as=wn=>wn+ui,N.reset(0)):(yn=$t.buffer,as=wn=>wn,N.reset(ui));do if(Fi=N.next(yn),Fi){if(as(Fi.index)>=Ti)return Ct;this.positionInBuffer(d,as(Fi.index)-si,Zi);let wn=this.getLineFeedCnt(d.piece.bufferIndex,fe,Zi),rn=Zi.line===fe.line?Zi.column-fe.column+oe:Zi.column+1,oo=rn+Fi[0].length;if(Dt[Ct++]=(0,Pt.iE)(new P.e(z+wn,rn,z+wn,oo),Fi,dt),as(Fi.index)+Fi[0].length>=Ti||Ct>=At)return Ct}while(Fi);return Ct}findMatchesLineByLine(d,N,z,oe){const fe=[];let Ee=0;const Ve=new Pt.sz(N.wordSeparators,N.regex);let dt=this.nodeAt2(d.startLineNumber,d.startColumn);if(dt===null)return[];let At=this.nodeAt2(d.endLineNumber,d.endColumn);if(At===null)return[];let Ct=this.positionInBuffer(dt.node,dt.remainder),Dt=this.positionInBuffer(At.node,At.remainder);if(dt.node===At.node)return this.findMatchesInNode(dt.node,Ve,d.startLineNumber,d.startColumn,Ct,Dt,N,z,oe,Ee,fe),fe;let $t=d.startLineNumber,si=dt.node;for(;si!==At.node;){let Ti=this.getLineFeedCnt(si.piece.bufferIndex,Ct,si.piece.end);if(Ti>=1){let Zi=this._buffers[si.piece.bufferIndex].lineStarts,yn=this.offsetInBuffer(si.piece.bufferIndex,si.piece.start),as=Zi[Ct.line+Ti],wn=$t===d.startLineNumber?d.startColumn:1;if(Ee=this.findMatchesInNode(si,Ve,$t,wn,Ct,this.positionInBuffer(si,as-yn),N,z,oe,Ee,fe),Ee>=oe)return fe;$t+=Ti}let Fi=$t===d.startLineNumber?d.startColumn-1:0;if($t===d.endLineNumber){const Zi=this.getLineContent($t).substring(Fi,d.endColumn-1);return Ee=this._findMatchesInLine(N,Ve,Zi,d.endLineNumber,Fi,Ee,fe,z,oe),fe}if(Ee=this._findMatchesInLine(N,Ve,this.getLineContent($t).substr(Fi),$t,Fi,Ee,fe,z,oe),Ee>=oe)return fe;$t++,dt=this.nodeAt2($t,1),si=dt.node,Ct=this.positionInBuffer(dt.node,dt.remainder)}if($t===d.endLineNumber){let Ti=$t===d.startLineNumber?d.startColumn-1:0;const Fi=this.getLineContent($t).substring(Ti,d.endColumn-1);return Ee=this._findMatchesInLine(N,Ve,Fi,d.endLineNumber,Ti,Ee,fe,z,oe),fe}let ui=$t===d.startLineNumber?d.startColumn:1;return Ee=this.findMatchesInNode(At.node,Ve,$t,ui,Ct,Dt,N,z,oe,Ee,fe),fe}_findMatchesInLine(d,N,z,oe,fe,Ee,Ve,dt,At){const Ct=d.wordSeparators;if(!dt&&d.simpleSearch){const $t=d.simpleSearch,si=$t.length,ui=z.length;let Ti=-si;for(;(Ti=z.indexOf($t,Ti+si))!==-1;)if((!Ct||(0,Pt.cM)(Ct,z,ui,Ti,si))&&(Ve[Ee++]=new I.tk(new P.e(oe,Ti+1+fe,oe,Ti+1+si+fe),null),Ee>=At))return Ee;return Ee}let Dt;N.reset(0);do if(Dt=N.next(z),Dt&&(Ve[Ee++]=(0,Pt.iE)(new P.e(oe,Dt.index+1+fe,oe,Dt.index+1+Dt[0].length+fe),Dt,dt),Ee>=At))return Ee;while(Dt);return Ee}insert(d,N,z=!1){if(this._EOLNormalized=this._EOLNormalized&&z,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==kt){let{node:oe,remainder:fe,nodeStartOffset:Ee}=this.nodeAt(d),Ve=oe.piece,dt=Ve.bufferIndex,At=this.positionInBuffer(oe,fe);if(oe.piece.bufferIndex===0&&Ve.end.line===this._lastChangeBufferPos.line&&Ve.end.column===this._lastChangeBufferPos.column&&Ee+Ve.length===d&&N.length<Qt){this.appendToNode(oe,N),this.computeBufferMetadata();return}if(Ee===d)this.insertContentToNodeLeft(N,oe),this._searchCache.validate(d);else if(Ee+oe.piece.length>d){let Ct=[],Dt=new oi(Ve.bufferIndex,At,Ve.end,this.getLineFeedCnt(Ve.bufferIndex,At,Ve.end),this.offsetInBuffer(dt,Ve.end)-this.offsetInBuffer(dt,At));if(this.shouldCheckCRLF()&&this.endWithCR(N)&&this.nodeCharCodeAt(oe,fe)===10){let Ti={line:Dt.start.line+1,column:0};Dt=new oi(Dt.bufferIndex,Ti,Dt.end,this.getLineFeedCnt(Dt.bufferIndex,Ti,Dt.end),Dt.length-1),N+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(N))if(this.nodeCharCodeAt(oe,fe-1)===13){let Ti=this.positionInBuffer(oe,fe-1);this.deleteNodeTail(oe,Ti),N="\r"+N,oe.piece.length===0&&Ct.push(oe)}else this.deleteNodeTail(oe,At);else this.deleteNodeTail(oe,At);let $t=this.createNewPieces(N);Dt.length>0&&this.rbInsertRight(oe,Dt);let si=oe;for(let ui=0;ui<$t.length;ui++)si=this.rbInsertRight(si,$t[ui]);this.deleteNodes(Ct)}else this.insertContentToNodeRight(N,oe)}else{let oe=this.createNewPieces(N),fe=this.rbInsertLeft(null,oe[0]);for(let Ee=1;Ee<oe.length;Ee++)fe=this.rbInsertRight(fe,oe[Ee])}this.computeBufferMetadata()}delete(d,N){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",N<=0||this.root===kt)return;let z=this.nodeAt(d),oe=this.nodeAt(d+N),fe=z.node,Ee=oe.node;if(fe===Ee){let $t=this.positionInBuffer(fe,z.remainder),si=this.positionInBuffer(fe,oe.remainder);if(z.nodeStartOffset===d){if(N===fe.piece.length){let ui=fe.next();Oe(this,fe),this.validateCRLFWithPrevNode(ui),this.computeBufferMetadata();return}this.deleteNodeHead(fe,si),this._searchCache.validate(d),this.validateCRLFWithPrevNode(fe),this.computeBufferMetadata();return}if(z.nodeStartOffset+fe.piece.length===d+N){this.deleteNodeTail(fe,$t),this.validateCRLFWithNextNode(fe),this.computeBufferMetadata();return}this.shrinkNode(fe,$t,si),this.computeBufferMetadata();return}let Ve=[],dt=this.positionInBuffer(fe,z.remainder);this.deleteNodeTail(fe,dt),this._searchCache.validate(d),fe.piece.length===0&&Ve.push(fe);let At=this.positionInBuffer(Ee,oe.remainder);this.deleteNodeHead(Ee,At),Ee.piece.length===0&&Ve.push(Ee);let Ct=fe.next();for(let $t=Ct;$t!==kt&&$t!==Ee;$t=$t.next())Ve.push($t);let Dt=fe.piece.length===0?fe.prev():fe;this.deleteNodes(Ve),this.validateCRLFWithNextNode(Dt),this.computeBufferMetadata()}insertContentToNodeLeft(d,N){let z=[];if(this.shouldCheckCRLF()&&this.endWithCR(d)&&this.startWithLF(N)){let Ee=N.piece,Ve={line:Ee.start.line+1,column:0},dt=new oi(Ee.bufferIndex,Ve,Ee.end,this.getLineFeedCnt(Ee.bufferIndex,Ve,Ee.end),Ee.length-1);N.piece=dt,d+=`
`,Ye(this,N,-1,-1),N.piece.length===0&&z.push(N)}let oe=this.createNewPieces(d),fe=this.rbInsertLeft(N,oe[oe.length-1]);for(let Ee=oe.length-2;Ee>=0;Ee--)fe=this.rbInsertLeft(fe,oe[Ee]);this.validateCRLFWithPrevNode(fe),this.deleteNodes(z)}insertContentToNodeRight(d,N){this.adjustCarriageReturnFromNext(d,N)&&(d+=`
`);let z=this.createNewPieces(d),oe=this.rbInsertRight(N,z[0]),fe=oe;for(let Ee=1;Ee<z.length;Ee++)fe=this.rbInsertRight(fe,z[Ee]);this.validateCRLFWithPrevNode(oe)}positionInBuffer(d,N,z){let oe=d.piece,fe=d.piece.bufferIndex,Ee=this._buffers[fe].lineStarts,dt=Ee[oe.start.line]+oe.start.column+N,At=oe.start.line,Ct=oe.end.line,Dt=0,$t=0,si=0;for(;At<=Ct&&(Dt=At+(Ct-At)/2|0,si=Ee[Dt],Dt!==Ct);)if($t=Ee[Dt+1],dt<si)Ct=Dt-1;else if(dt>=$t)At=Dt+1;else break;return z?(z.line=Dt,z.column=dt-si,null):{line:Dt,column:dt-si}}getLineFeedCnt(d,N,z){if(z.column===0)return z.line-N.line;let oe=this._buffers[d].lineStarts;if(z.line===oe.length-1)return z.line-N.line;let fe=oe[z.line+1],Ee=oe[z.line]+z.column;if(fe>Ee+1)return z.line-N.line;let Ve=Ee-1;return this._buffers[d].buffer.charCodeAt(Ve)===13?z.line-N.line+1:z.line-N.line}offsetInBuffer(d,N){return this._buffers[d].lineStarts[N.line]+N.column}deleteNodes(d){for(let N=0;N<d.length;N++)Oe(this,d[N])}createNewPieces(d){if(d.length>Qt){let Ct=[];for(;d.length>Qt;){const $t=d.charCodeAt(Qt-1);let si;$t===13||$t>=55296&&$t<=56319?(si=d.substring(0,Qt-1),d=d.substring(Qt-1)):(si=d.substring(0,Qt),d=d.substring(Qt));let ui=Lt(si);Ct.push(new oi(this._buffers.length,{line:0,column:0},{line:ui.length-1,column:si.length-ui[ui.length-1]},ui.length-1,si.length)),this._buffers.push(new $e(si,ui))}let Dt=Lt(d);return Ct.push(new oi(this._buffers.length,{line:0,column:0},{line:Dt.length-1,column:d.length-Dt[Dt.length-1]},Dt.length-1,d.length)),this._buffers.push(new $e(d,Dt)),Ct}let N=this._buffers[0].buffer.length;const z=Lt(d,!1);let oe=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===N&&N!==0&&this.startWithLF(d)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},oe=this._lastChangeBufferPos;for(let Ct=0;Ct<z.length;Ct++)z[Ct]+=N+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(z.slice(1)),this._buffers[0].buffer+="_"+d,N+=1}else{if(N!==0)for(let Ct=0;Ct<z.length;Ct++)z[Ct]+=N;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(z.slice(1)),this._buffers[0].buffer+=d}const fe=this._buffers[0].buffer.length;let Ee=this._buffers[0].lineStarts.length-1,Ve=fe-this._buffers[0].lineStarts[Ee],dt={line:Ee,column:Ve},At=new oi(0,oe,dt,this.getLineFeedCnt(0,oe,dt),fe-N);return this._lastChangeBufferPos=dt,[At]}getLineRawContent(d,N=0){let z=this.root,oe="",fe=this._searchCache.get2(d);if(fe){z=fe.node;let Ee=this.getAccumulatedValue(z,d-fe.nodeStartLineNumber-1),Ve=this._buffers[z.piece.bufferIndex].buffer,dt=this.offsetInBuffer(z.piece.bufferIndex,z.piece.start);if(fe.nodeStartLineNumber+z.piece.lineFeedCnt===d)oe=Ve.substring(dt+Ee,dt+z.piece.length);else{let At=this.getAccumulatedValue(z,d-fe.nodeStartLineNumber);return Ve.substring(dt+Ee,dt+At-N)}}else{let Ee=0;const Ve=d;for(;z!==kt;)if(z.left!==kt&&z.lf_left>=d-1)z=z.left;else if(z.lf_left+z.piece.lineFeedCnt>d-1){let dt=this.getAccumulatedValue(z,d-z.lf_left-2),At=this.getAccumulatedValue(z,d-z.lf_left-1),Ct=this._buffers[z.piece.bufferIndex].buffer,Dt=this.offsetInBuffer(z.piece.bufferIndex,z.piece.start);return Ee+=z.size_left,this._searchCache.set({node:z,nodeStartOffset:Ee,nodeStartLineNumber:Ve-(d-1-z.lf_left)}),Ct.substring(Dt+dt,Dt+At-N)}else if(z.lf_left+z.piece.lineFeedCnt===d-1){let dt=this.getAccumulatedValue(z,d-z.lf_left-2),At=this._buffers[z.piece.bufferIndex].buffer,Ct=this.offsetInBuffer(z.piece.bufferIndex,z.piece.start);oe=At.substring(Ct+dt,Ct+z.piece.length);break}else d-=z.lf_left+z.piece.lineFeedCnt,Ee+=z.size_left+z.piece.length,z=z.right}for(z=z.next();z!==kt;){let Ee=this._buffers[z.piece.bufferIndex].buffer;if(z.piece.lineFeedCnt>0){let Ve=this.getAccumulatedValue(z,0),dt=this.offsetInBuffer(z.piece.bufferIndex,z.piece.start);return oe+=Ee.substring(dt,dt+Ve-N),oe}else{let Ve=this.offsetInBuffer(z.piece.bufferIndex,z.piece.start);oe+=Ee.substr(Ve,z.piece.length)}z=z.next()}return oe}computeBufferMetadata(){let d=this.root,N=1,z=0;for(;d!==kt;)N+=d.lf_left+d.piece.lineFeedCnt,z+=d.size_left+d.piece.length,d=d.right;this._lineCnt=N,this._length=z,this._searchCache.validate(this._length)}getIndexOf(d,N){let z=d.piece,oe=this.positionInBuffer(d,N),fe=oe.line-z.start.line;if(this.offsetInBuffer(z.bufferIndex,z.end)-this.offsetInBuffer(z.bufferIndex,z.start)===N){let Ee=this.getLineFeedCnt(d.piece.bufferIndex,z.start,oe);if(Ee!==fe)return{index:Ee,remainder:0}}return{index:fe,remainder:oe.column}}getAccumulatedValue(d,N){if(N<0)return 0;let z=d.piece,oe=this._buffers[z.bufferIndex].lineStarts,fe=z.start.line+N+1;return fe>z.end.line?oe[z.end.line]+z.end.column-oe[z.start.line]-z.start.column:oe[fe]-oe[z.start.line]-z.start.column}deleteNodeTail(d,N){const z=d.piece,oe=z.lineFeedCnt,fe=this.offsetInBuffer(z.bufferIndex,z.end),Ee=N,Ve=this.offsetInBuffer(z.bufferIndex,Ee),dt=this.getLineFeedCnt(z.bufferIndex,z.start,Ee),At=dt-oe,Ct=Ve-fe,Dt=z.length+Ct;d.piece=new oi(z.bufferIndex,z.start,Ee,dt,Dt),Ye(this,d,Ct,At)}deleteNodeHead(d,N){const z=d.piece,oe=z.lineFeedCnt,fe=this.offsetInBuffer(z.bufferIndex,z.start),Ee=N,Ve=this.getLineFeedCnt(z.bufferIndex,Ee,z.end),dt=this.offsetInBuffer(z.bufferIndex,Ee),At=Ve-oe,Ct=fe-dt,Dt=z.length+Ct;d.piece=new oi(z.bufferIndex,Ee,z.end,Ve,Dt),Ye(this,d,Ct,At)}shrinkNode(d,N,z){const oe=d.piece,fe=oe.start,Ee=oe.end,Ve=oe.length,dt=oe.lineFeedCnt,At=N,Ct=this.getLineFeedCnt(oe.bufferIndex,oe.start,At),Dt=this.offsetInBuffer(oe.bufferIndex,N)-this.offsetInBuffer(oe.bufferIndex,fe);d.piece=new oi(oe.bufferIndex,oe.start,At,Ct,Dt),Ye(this,d,Dt-Ve,Ct-dt);let $t=new oi(oe.bufferIndex,z,Ee,this.getLineFeedCnt(oe.bufferIndex,z,Ee),this.offsetInBuffer(oe.bufferIndex,Ee)-this.offsetInBuffer(oe.bufferIndex,z)),si=this.rbInsertRight(d,$t);this.validateCRLFWithPrevNode(si)}appendToNode(d,N){this.adjustCarriageReturnFromNext(N,d)&&(N+=`
`);const z=this.shouldCheckCRLF()&&this.startWithLF(N)&&this.endWithCR(d),oe=this._buffers[0].buffer.length;this._buffers[0].buffer+=N;const fe=Lt(N,!1);for(let si=0;si<fe.length;si++)fe[si]+=oe;if(z){let si=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:oe-si}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(fe.slice(1));const Ee=this._buffers[0].lineStarts.length-1,Ve=this._buffers[0].buffer.length-this._buffers[0].lineStarts[Ee],dt={line:Ee,column:Ve},At=d.piece.length+N.length,Ct=d.piece.lineFeedCnt,Dt=this.getLineFeedCnt(0,d.piece.start,dt),$t=Dt-Ct;d.piece=new oi(d.piece.bufferIndex,d.piece.start,dt,Dt,At),this._lastChangeBufferPos=dt,Ye(this,d,N.length,$t)}nodeAt(d){let N=this.root,z=this._searchCache.get(d);if(z)return{node:z.node,nodeStartOffset:z.nodeStartOffset,remainder:d-z.nodeStartOffset};let oe=0;for(;N!==kt;)if(N.size_left>d)N=N.left;else if(N.size_left+N.piece.length>=d){oe+=N.size_left;let fe={node:N,remainder:d-N.size_left,nodeStartOffset:oe};return this._searchCache.set(fe),fe}else d-=N.size_left+N.piece.length,oe+=N.size_left+N.piece.length,N=N.right;return null}nodeAt2(d,N){let z=this.root,oe=0;for(;z!==kt;)if(z.left!==kt&&z.lf_left>=d-1)z=z.left;else if(z.lf_left+z.piece.lineFeedCnt>d-1){let fe=this.getAccumulatedValue(z,d-z.lf_left-2),Ee=this.getAccumulatedValue(z,d-z.lf_left-1);return oe+=z.size_left,{node:z,remainder:Math.min(fe+N-1,Ee),nodeStartOffset:oe}}else if(z.lf_left+z.piece.lineFeedCnt===d-1){let fe=this.getAccumulatedValue(z,d-z.lf_left-2);if(fe+N-1<=z.piece.length)return{node:z,remainder:fe+N-1,nodeStartOffset:oe};N-=z.piece.length-fe;break}else d-=z.lf_left+z.piece.lineFeedCnt,oe+=z.size_left+z.piece.length,z=z.right;for(z=z.next();z!==kt;){if(z.piece.lineFeedCnt>0){let fe=this.getAccumulatedValue(z,0),Ee=this.offsetOfNode(z);return{node:z,remainder:Math.min(N-1,fe),nodeStartOffset:Ee}}else if(z.piece.length>=N-1){let fe=this.offsetOfNode(z);return{node:z,remainder:N-1,nodeStartOffset:fe}}else N-=z.piece.length;z=z.next()}return null}nodeCharCodeAt(d,N){if(d.piece.lineFeedCnt<1)return-1;let z=this._buffers[d.piece.bufferIndex],oe=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start)+N;return z.buffer.charCodeAt(oe)}offsetOfNode(d){if(!d)return 0;let N=d.size_left;for(;d!==this.root;)d.parent.right===d&&(N+=d.parent.size_left+d.parent.piece.length),d=d.parent;return N}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(d){if(typeof d=="string")return d.charCodeAt(0)===10;if(d===kt||d.piece.lineFeedCnt===0)return!1;let N=d.piece,z=this._buffers[N.bufferIndex].lineStarts,oe=N.start.line,fe=z[oe]+N.start.column;return oe===z.length-1||z[oe+1]>fe+1?!1:this._buffers[N.bufferIndex].buffer.charCodeAt(fe)===10}endWithCR(d){return typeof d=="string"?d.charCodeAt(d.length-1)===13:d===kt||d.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(d,d.piece.length-1)===13}validateCRLFWithPrevNode(d){if(this.shouldCheckCRLF()&&this.startWithLF(d)){let N=d.prev();this.endWithCR(N)&&this.fixCRLF(N,d)}}validateCRLFWithNextNode(d){if(this.shouldCheckCRLF()&&this.endWithCR(d)){let N=d.next();this.startWithLF(N)&&this.fixCRLF(d,N)}}fixCRLF(d,N){let z=[],oe=this._buffers[d.piece.bufferIndex].lineStarts,fe;d.piece.end.column===0?fe={line:d.piece.end.line-1,column:oe[d.piece.end.line]-oe[d.piece.end.line-1]-1}:fe={line:d.piece.end.line,column:d.piece.end.column-1};const Ee=d.piece.length-1,Ve=d.piece.lineFeedCnt-1;d.piece=new oi(d.piece.bufferIndex,d.piece.start,fe,Ve,Ee),Ye(this,d,-1,-1),d.piece.length===0&&z.push(d);let dt={line:N.piece.start.line+1,column:0};const At=N.piece.length-1,Ct=this.getLineFeedCnt(N.piece.bufferIndex,dt,N.piece.end);N.piece=new oi(N.piece.bufferIndex,dt,N.piece.end,Ct,At),Ye(this,N,-1,-1),N.piece.length===0&&z.push(N);let Dt=this.createNewPieces(`\r
`);this.rbInsertRight(d,Dt[0]);for(let $t=0;$t<z.length;$t++)Oe(this,z[$t])}adjustCarriageReturnFromNext(d,N){if(this.shouldCheckCRLF()&&this.endWithCR(d)){let z=N.next();if(this.startWithLF(z)){if(d+=`
`,z.piece.length===1)Oe(this,z);else{const oe=z.piece,fe={line:oe.start.line+1,column:0},Ee=oe.length-1,Ve=this.getLineFeedCnt(oe.bufferIndex,fe,oe.end);z.piece=new oi(oe.bufferIndex,fe,oe.end,Ve,Ee),Ye(this,z,-1,-1)}return!0}}return!1}iterate(d,N){if(d===kt)return N(kt);let z=this.iterate(d.left,N);return z&&N(d)&&this.iterate(d.right,N)}getNodeContent(d){if(d===kt)return"";let N=this._buffers[d.piece.bufferIndex],z,oe=d.piece,fe=this.offsetInBuffer(oe.bufferIndex,oe.start),Ee=this.offsetInBuffer(oe.bufferIndex,oe.end);return z=N.buffer.substring(fe,Ee),z}getPieceContent(d){let N=this._buffers[d.bufferIndex],z=this.offsetInBuffer(d.bufferIndex,d.start),oe=this.offsetInBuffer(d.bufferIndex,d.end);return N.buffer.substring(z,oe)}rbInsertRight(d,N){let z=new it(N,1);if(z.left=kt,z.right=kt,z.parent=kt,z.size_left=0,z.lf_left=0,this.root===kt)this.root=z,z.color=0;else if(d.right===kt)d.right=z,z.parent=d;else{let fe=ze(d.right);fe.left=z,z.parent=fe}return we(this,z),z}rbInsertLeft(d,N){let z=new it(N,1);if(z.left=kt,z.right=kt,z.parent=kt,z.size_left=0,z.lf_left=0,this.root===kt)this.root=z,z.color=0;else if(d.left===kt)d.left=z,z.parent=d;else{let oe=he(d.left);oe.right=z,z.parent=oe}return we(this,z),z}}var Ui=c(58409),Mn=c(60962);class Ri extends Q.JT{constructor(d,N,z,oe,fe,Ee,Ve){super(),this._onDidChangeContent=this._register(new Y.Q5),this._BOM=N,this._mightContainNonBasicASCII=!Ee,this._mightContainRTL=oe,this._mightContainUnusualLineTerminators=fe,this._pieceTree=new ii(d,z,Ve)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(d){return this._pieceTree.createSnapshot(d?this._BOM:"")}getOffsetAt(d,N){return this._pieceTree.getOffsetAt(d,N)}getPositionAt(d){return this._pieceTree.getPositionAt(d)}getRangeAt(d,N){let z=d+N;const oe=this.getPositionAt(d),fe=this.getPositionAt(z);return new P.e(oe.lineNumber,oe.column,fe.lineNumber,fe.column)}getValueInRange(d,N=0){if(d.isEmpty())return"";const z=this._getEndOfLine(N);return this._pieceTree.getValueInRange(d,z)}getValueLengthInRange(d,N=0){if(d.isEmpty())return 0;if(d.startLineNumber===d.endLineNumber)return d.endColumn-d.startColumn;let z=this.getOffsetAt(d.startLineNumber,d.startColumn);return this.getOffsetAt(d.endLineNumber,d.endColumn)-z}getCharacterCountInRange(d,N=0){if(this._mightContainNonBasicASCII){let z=0;const oe=d.startLineNumber,fe=d.endLineNumber;for(let Ee=oe;Ee<=fe;Ee++){const Ve=this.getLineContent(Ee),dt=Ee===oe?d.startColumn-1:0,At=Ee===fe?d.endColumn-1:Ve.length;for(let Ct=dt;Ct<At;Ct++)O.ZG(Ve.charCodeAt(Ct))?(z=z+1,Ct=Ct+1):z=z+1}return z+=this._getEndOfLine(N).length*(fe-oe),z}return this.getValueLengthInRange(d,N)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(d){return this._pieceTree.getLineContent(d)}getLineCharCode(d,N){return this._pieceTree.getLineCharCode(d,N)}getLineLength(d){return this._pieceTree.getLineLength(d)}getLineFirstNonWhitespaceColumn(d){const N=O.LC(this.getLineContent(d));return N===-1?0:N+1}getLineLastNonWhitespaceColumn(d){const N=O.ow(this.getLineContent(d));return N===-1?0:N+2}_getEndOfLine(d){switch(d){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(d){this._pieceTree.setEOL(d)}applyEdits(d,N,z){let oe=this._mightContainRTL,fe=this._mightContainUnusualLineTerminators,Ee=this._mightContainNonBasicASCII,Ve=!0,dt=[];for(let Ti=0;Ti<d.length;Ti++){let Fi=d[Ti];Ve&&Fi._isTracked&&(Ve=!1);let Zi=Fi.range;if(Fi.text){let oo=!0;Ee||(oo=!O.$i(Fi.text),Ee=oo),!oe&&oo&&(oe=O.Ut(Fi.text)),!fe&&oo&&(fe=O.ab(Fi.text))}let yn="",as=0,wn=0,rn=0;if(Fi.text){let oo;[as,wn,rn,oo]=(0,Ui.QZ)(Fi.text);const Ks=this.getEOL();oo===0||oo===(Ks===`\r
`?2:1)?yn=Fi.text:yn=Fi.text.replace(/\r\n|\r|\n/g,Ks)}dt[Ti]={sortIndex:Ti,identifier:Fi.identifier||null,range:Zi,rangeOffset:this.getOffsetAt(Zi.startLineNumber,Zi.startColumn),rangeLength:this.getValueLengthInRange(Zi),text:yn,eolCount:as,firstLineLength:wn,lastLineLength:rn,forceMoveMarkers:!!Fi.forceMoveMarkers,isAutoWhitespaceEdit:Fi.isAutoWhitespaceEdit||!1}}dt.sort(Ri._sortOpsAscending);let At=!1;for(let Ti=0,Fi=dt.length-1;Ti<Fi;Ti++){let Zi=dt[Ti].range.getEndPosition(),yn=dt[Ti+1].range.getStartPosition();if(yn.isBeforeOrEqual(Zi)){if(yn.isBefore(Zi))throw new Error("Overlapping ranges are not allowed!");At=!0}}Ve&&(dt=this._reduceOperations(dt));let Ct=z||N?Ri._getInverseEditRanges(dt):[],Dt=[];if(N)for(let Ti=0;Ti<dt.length;Ti++){let Fi=dt[Ti],Zi=Ct[Ti];if(Fi.isAutoWhitespaceEdit&&Fi.range.isEmpty())for(let yn=Zi.startLineNumber;yn<=Zi.endLineNumber;yn++){let as="";yn===Zi.startLineNumber&&(as=this.getLineContent(Fi.range.startLineNumber),O.LC(as)!==-1)||Dt.push({lineNumber:yn,oldContent:as})}}let $t=null;if(z){let Ti=0;$t=[];for(let Fi=0;Fi<dt.length;Fi++){const Zi=dt[Fi],yn=Ct[Fi],as=this.getValueInRange(Zi.range),wn=Zi.rangeOffset+Ti;Ti+=Zi.text.length-as.length,$t[Fi]={sortIndex:Zi.sortIndex,identifier:Zi.identifier,range:yn,text:as,textChange:new Mn.q(Zi.rangeOffset,as,wn,Zi.text)}}At||$t.sort((Fi,Zi)=>Fi.sortIndex-Zi.sortIndex)}this._mightContainRTL=oe,this._mightContainUnusualLineTerminators=fe,this._mightContainNonBasicASCII=Ee;const si=this._doApplyEdits(dt);let ui=null;if(N&&Dt.length>0){Dt.sort((Ti,Fi)=>Fi.lineNumber-Ti.lineNumber),ui=[];for(let Ti=0,Fi=Dt.length;Ti<Fi;Ti++){let Zi=Dt[Ti].lineNumber;if(Ti>0&&Dt[Ti-1].lineNumber===Zi)continue;let yn=Dt[Ti].oldContent,as=this.getLineContent(Zi);as.length===0||as===yn||O.LC(as)!==-1||ui.push(Zi)}}return this._onDidChangeContent.fire(),new I.je($t,si,ui)}_reduceOperations(d){return d.length<1e3?d:[this._toSingleEditOperation(d)]}_toSingleEditOperation(d){let N=!1;const z=d[0].range,oe=d[d.length-1].range,fe=new P.e(z.startLineNumber,z.startColumn,oe.endLineNumber,oe.endColumn);let Ee=z.startLineNumber,Ve=z.startColumn;const dt=[];for(let si=0,ui=d.length;si<ui;si++){const Ti=d[si],Fi=Ti.range;N=N||Ti.forceMoveMarkers,dt.push(this.getValueInRange(new P.e(Ee,Ve,Fi.startLineNumber,Fi.startColumn))),Ti.text.length>0&&dt.push(Ti.text),Ee=Fi.endLineNumber,Ve=Fi.endColumn}const At=dt.join(""),[Ct,Dt,$t]=(0,Ui.QZ)(At);return{sortIndex:0,identifier:d[0].identifier,range:fe,rangeOffset:this.getOffsetAt(fe.startLineNumber,fe.startColumn),rangeLength:this.getValueLengthInRange(fe,0),text:At,eolCount:Ct,firstLineLength:Dt,lastLineLength:$t,forceMoveMarkers:N,isAutoWhitespaceEdit:!1}}_doApplyEdits(d){d.sort(Ri._sortOpsDescending);let N=[];for(let z=0;z<d.length;z++){let oe=d[z];const fe=oe.range.startLineNumber,Ee=oe.range.startColumn,Ve=oe.range.endLineNumber,dt=oe.range.endColumn;if(fe===Ve&&Ee===dt&&oe.text.length===0)continue;oe.text?(this._pieceTree.delete(oe.rangeOffset,oe.rangeLength),this._pieceTree.insert(oe.rangeOffset,oe.text,!0)):this._pieceTree.delete(oe.rangeOffset,oe.rangeLength);const At=new P.e(fe,Ee,Ve,dt);N.push({range:At,rangeLength:oe.rangeLength,text:oe.text,rangeOffset:oe.rangeOffset,forceMoveMarkers:oe.forceMoveMarkers})}return N}findMatchesLineByLine(d,N,z,oe){return this._pieceTree.findMatchesLineByLine(d,N,z,oe)}static _getInverseEditRanges(d){let N=[],z=0,oe=0,fe=null;for(let Ee=0,Ve=d.length;Ee<Ve;Ee++){let dt=d[Ee],At,Ct;fe?fe.range.endLineNumber===dt.range.startLineNumber?(At=z,Ct=oe+(dt.range.startColumn-fe.range.endColumn)):(At=z+(dt.range.startLineNumber-fe.range.endLineNumber),Ct=dt.range.startColumn):(At=dt.range.startLineNumber,Ct=dt.range.startColumn);let Dt;if(dt.text.length>0){const $t=dt.eolCount+1;$t===1?Dt=new P.e(At,Ct,At,Ct+dt.firstLineLength):Dt=new P.e(At,Ct,At+$t-1,dt.lastLineLength+1)}else Dt=new P.e(At,Ct,At,Ct);z=Dt.endLineNumber,oe=Dt.endColumn,N.push(Dt),fe=dt}return N}static _sortOpsAscending(d,N){let z=P.e.compareRangesUsingEnds(d.range,N.range);return z===0?d.sortIndex-N.sortIndex:z}static _sortOpsDescending(d,N){let z=P.e.compareRangesUsingEnds(d.range,N.range);return z===0?N.sortIndex-d.sortIndex:-z}}class ps{constructor(d,N,z,oe,fe,Ee,Ve,dt,At){this._chunks=d,this._bom=N,this._cr=z,this._lf=oe,this._crlf=fe,this._containsRTL=Ee,this._containsUnusualLineTerminators=Ve,this._isBasicASCII=dt,this._normalizeEOL=At}_getEOL(d){const N=this._cr+this._lf+this._crlf,z=this._cr+this._crlf;return N===0?d===1?`
`:`\r
`:z>N/2?`\r
`:`
`}create(d){const N=this._getEOL(d);let z=this._chunks;if(this._normalizeEOL&&(N===`\r
`&&(this._cr>0||this._lf>0)||N===`
`&&(this._cr>0||this._crlf>0)))for(let fe=0,Ee=z.length;fe<Ee;fe++){let Ve=z[fe].buffer.replace(/\r\n|\r|\n/g,N),dt=Lt(Ve);z[fe]=new $e(Ve,dt)}const oe=new Ri(z,this._bom,N,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:oe,disposable:oe}}}class Zn{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(d){if(d.length===0)return;this.chunks.length===0&&O.uS(d)&&(this.BOM=O.c1,d=d.substr(1));const N=d.charCodeAt(d.length-1);N===13||N>=55296&&N<=56319?(this._acceptChunk1(d.substr(0,d.length-1),!1),this._hasPreviousChar=!0,this._previousChar=N):(this._acceptChunk1(d,!1),this._hasPreviousChar=!1,this._previousChar=N)}_acceptChunk1(d,N){!N&&d.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+d):this._acceptChunk2(d))}_acceptChunk2(d){const N=Ai(this._tmpLineStarts,d);this.chunks.push(new $e(d,N.lineStarts)),this.cr+=N.cr,this.lf+=N.lf,this.crlf+=N.crlf,this.isBasicASCII&&(this.isBasicASCII=N.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=O.Ut(d)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=O.ab(d))}finish(d=!0){return this._finish(),new ps(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,d)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let d=this.chunks[this.chunks.length-1];d.buffer+=String.fromCharCode(this._previousChar);let N=Lt(d.buffer);d.lineStarts=N,this._previousChar===13&&this.cr++}}}var Bn=c(83256),Xi=c(9488),Vn=c(78411),qi=c(10351),je=c(28111),Tt=c(84013),St=c(1432);class Ze{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(d){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,d&&this._setBeginState(0,d)}flush(d){this._reset(d)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(d){d<this._len&&(this._valid[d]=!1),d<this._invalidLineStartIndex&&(this._invalidLineStartIndex=d)}_isValid(d){return d<this._len?this._valid[d]:!1}getBeginState(d){return d<this._len?this._beginState[d]:null}_ensureLine(d){for(;d>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(d,N){N!==0&&(d+N>this._len&&(N=this._len-d),this._beginState.splice(d,N),this._valid.splice(d,N),this._len-=N)}_insertLines(d,N){if(N===0)return;const z=[],oe=[];for(let fe=0;fe<N;fe++)z[fe]=null,oe[fe]=!1;this._beginState=Xi.Zv(this._beginState,d,z),this._valid=Xi.Zv(this._valid,d,oe),this._len+=N}_setValid(d,N){this._ensureLine(d),this._valid[d]=N}_setBeginState(d,N){this._ensureLine(d),this._beginState[d]=N}setEndState(d,N,z){if(this._setValid(N,!0),this._invalidLineStartIndex=N+1,N===d-1)return;const oe=this.getBeginState(N+1);if(oe===null||!z.equals(oe)){this._setBeginState(N+1,z),this._invalidateLine(N+1);return}let fe=N+1;for(;fe<d&&this._isValid(fe);)fe++;this._invalidLineStartIndex=fe}setFakeTokens(d){this._setValid(d,!1)}applyEdits(d,N){const z=d.endLineNumber-d.startLineNumber,fe=Math.min(z,N);for(let Ee=fe;Ee>=0;Ee--)this._invalidateLine(d.startLineNumber+Ee-1);this._acceptDeleteRange(d),this._acceptInsertText(new k.L(d.startLineNumber,d.startColumn),N)}_acceptDeleteRange(d){d.startLineNumber-1>=this._len||this._deleteLines(d.startLineNumber,d.endLineNumber-d.startLineNumber)}_acceptInsertText(d,N){d.lineNumber-1>=this._len||this._insertLines(d.lineNumber,N)}}class Je extends Q.JT{constructor(d,N){super(),this._textModel=d,this._languageIdCodec=N,this._isDisposed=!1,this._tokenizationStateStore=new Ze,this._tokenizationSupport=null,this._register(qi.RW.onDidChange(z=>{const oe=this._textModel.getLanguageId();z.changedLanguages.indexOf(oe)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(z=>{if(z.isFlush){this._resetTokenizationState();return}for(let oe=0,fe=z.changes.length;oe<fe;oe++){const Ee=z.changes[oe],[Ve]=(0,Ui.QZ)(Ee.text);this._tokenizationStateStore.applyEdits(Ee.range,Ve)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[d,N]=xt(this._textModel);this._tokenizationSupport=d,this._tokenizationStateStore.flush(N),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&St.xS(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(){const d=this._textModel.getLineCount(),N=1,z=new Ui.DA,oe=Tt.G.create(!1);let fe=-1;for(;this._hasLinesToTokenize()&&!(oe.elapsed()>N||(fe=this._tokenizeOneInvalidLine(z),fe>=d)););this._beginBackgroundTokenization(),this._textModel.setTokens(z.tokens,!this._hasLinesToTokenize())}tokenizeViewport(d,N){const z=new Ui.DA;this._tokenizeViewport(z,d,N),this._textModel.setTokens(z.tokens,!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(d){const N=new Ui.DA;this._updateTokensUntilLine(N,d),this._textModel.setTokens(N.tokens,!this._hasLinesToTokenize())}isCheapToTokenize(d){if(!this._tokenizationSupport)return!0;const N=this._tokenizationStateStore.invalidLineStartIndex+1;return d>N?!1:d<N||this._textModel.getLineLength(d)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(d){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const N=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(d,N),N}_updateTokensUntilLine(d,N){if(!this._tokenizationSupport)return;const z=this._textModel.getLanguageId(),oe=this._textModel.getLineCount(),fe=N-1;for(let Ee=this._tokenizationStateStore.invalidLineStartIndex;Ee<=fe;Ee++){const Ve=this._textModel.getLineContent(Ee+1),dt=this._tokenizationStateStore.getBeginState(Ee),At=yt(this._languageIdCodec,z,this._tokenizationSupport,Ve,!0,dt);d.add(Ee+1,At.tokens),this._tokenizationStateStore.setEndState(oe,Ee,At.endState),Ee=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(d,N,z){if(!this._tokenizationSupport||z<=this._tokenizationStateStore.invalidLineStartIndex)return;if(N<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(d,z);return}let oe=this._textModel.getLineFirstNonWhitespaceColumn(N);const fe=[];let Ee=null;for(let At=N-1;oe>1&&At>=1;At--){const Ct=this._textModel.getLineFirstNonWhitespaceColumn(At);if(Ct!==0&&Ct<oe){if(Ee=this._tokenizationStateStore.getBeginState(At-1),Ee)break;fe.push(this._textModel.getLineContent(At)),oe=Ct}}Ee||(Ee=this._tokenizationSupport.getInitialState());const Ve=this._textModel.getLanguageId();let dt=Ee;for(let At=fe.length-1;At>=0;At--)dt=yt(this._languageIdCodec,Ve,this._tokenizationSupport,fe[At],!1,dt).endState;for(let At=N;At<=z;At++){const Ct=this._textModel.getLineContent(At),Dt=yt(this._languageIdCodec,Ve,this._tokenizationSupport,Ct,!0,dt);d.add(At,Dt.tokens),this._tokenizationStateStore.setFakeTokens(At-1),dt=Dt.endState}}}function xt(We){const d=We.getLanguageId();let N=We.isTooLargeForTokenization()?null:qi.RW.get(d),z=null;if(N)try{z=N.getInitialState()}catch(oe){(0,g.dL)(oe),N=null}return[N,z]}function yt(We,d,N,z,oe,fe){let Ee=null;if(N)try{Ee=N.tokenize2(z,oe,fe.clone(),0)}catch(Ve){(0,g.dL)(Ve)}return Ee||(Ee=(0,je.mh)(We.encodeLanguageId(d),z,fe,0)),Vn.A.convertToEndOffset(Ee.tokens,z.length),Ee}var Xt=c(97461),ni=c(94660),gi=c(40764),Gi=c(34227),ji=c(41264),is=c(64862);class Hi{constructor(d,N,z){this.range=d,this.nestingLevel=N,this.isInvalid=z}}class hn{constructor(d,N,z,oe){this.range=d,this.openingBracketRange=N,this.closingBracketRange=z,this.nestingLevel=oe}}class vt extends hn{constructor(d,N,z,oe,fe){super(d,N,z,oe),this.minVisibleColumnIndentation=fe}}class mt{constructor(d,N){this.lineCount=d,this.columnCount=N}toString(){return`${this.lineCount},${this.columnCount}`}}function Nt(We,d,N,z){return We!==N?ct(N-We,z):ct(0,z-d)}const He=0;function Qe(We){return We===0}const ft=Math.pow(2,26);function ct(We,d){return We*ft+d}function ei(We){const d=We,N=Math.floor(d/ft),z=d-N*ft;return new mt(N,z)}function Vi(We){return Math.floor(We/ft)}function fi(We){return We}function Di(We,d){return d<ft?We+d:We-We%ft+d}function zi(We,d){const N=We,z=d;if(z-N<=0)return He;const fe=Math.floor(N/ft),Ee=Math.floor(z/ft),Ve=z-Ee*ft;if(fe===Ee){const dt=N-fe*ft;return ct(0,Ve-dt)}else return ct(Ee-fe,Ve)}function dn(We,d){return We<d}function gn(We,d){return We<=d}function Mi(We,d){return We>=d}function pi(We){return ct(We.lineNumber-1,We.column-1)}function Cn(We,d){const N=We,z=Math.floor(N/ft),oe=N-z*ft,fe=d,Ee=Math.floor(fe/ft),Ve=fe-Ee*ft;return new P.e(z+1,oe+1,Ee+1,Ve+1)}function En(We){const d=(0,O.uq)(We);return ct(d.length-1,d[d.length-1].length)}function Yn(We){return We}class vs{constructor(d,N,z){this.startOffset=d,this.endOffset=N,this.newLength=z}}class ds{constructor(d,N){this.documentLength=N,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=d.map(z=>Is.from(z))}getOffsetBeforeChange(d){return this.adjustNextEdit(d),this.translateCurToOld(d)}getDistanceToNextChange(d){this.adjustNextEdit(d);const N=this.edits[this.nextEditIdx],z=N?this.translateOldToCur(N.offsetObj):this.documentLength;return zi(d,z)}translateOldToCur(d){return d.lineCount===this.deltaLineIdxInOld?ct(d.lineCount+this.deltaOldToNewLineCount,d.columnCount+this.deltaOldToNewColumnCount):ct(d.lineCount+this.deltaOldToNewLineCount,d.columnCount)}translateCurToOld(d){const N=ei(d);return N.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?ct(N.lineCount-this.deltaOldToNewLineCount,N.columnCount-this.deltaOldToNewColumnCount):ct(N.lineCount-this.deltaOldToNewLineCount,N.columnCount)}adjustNextEdit(d){for(;this.nextEditIdx<this.edits.length;){const N=this.edits[this.nextEditIdx],z=this.translateOldToCur(N.endOffsetAfterObj);if(gn(z,d)){this.nextEditIdx++;const oe=ei(z),fe=ei(this.translateOldToCur(N.endOffsetBeforeObj)),Ee=oe.lineCount-fe.lineCount;this.deltaOldToNewLineCount+=Ee;const Ve=this.deltaLineIdxInOld===N.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,dt=oe.columnCount-fe.columnCount;this.deltaOldToNewColumnCount=Ve+dt,this.deltaLineIdxInOld=N.endOffsetBeforeObj.lineCount}else break}}}class Is{constructor(d,N,z){this.endOffsetBeforeObj=ei(N),this.endOffsetAfterObj=ei(Di(d,z)),this.offsetObj=ei(d)}static from(d){return new Is(d.startOffset,d.endOffset,d.newLength)}}var Fo=c(47707);const no=new Array;class Ls{constructor(d,N){this.items=d,this.additionalItems=N}static create(d,N){if(d<=128&&N.length===0){let z=Ls.cache[d];return z||(z=new Ls(d,N),Ls.cache[d]=z),z}return new Ls(d,N)}static getEmpty(){return this.empty}add(d,N){const z=N.getKey(d);let oe=z>>5;if(oe===0){const Ee=1<<z|this.items;return Ee===this.items?this:Ls.create(Ee,this.additionalItems)}oe--;const fe=this.additionalItems.slice(0);for(;fe.length<oe;)fe.push(0);return fe[oe]|=1<<(z&31),Ls.create(this.items,fe)}merge(d){const N=this.items|d.items;if(this.additionalItems===no&&d.additionalItems===no)return N===this.items?this:N===d.items?d:Ls.create(N,no);const z=new Array;for(let oe=0;oe<Math.max(this.additionalItems.length,d.additionalItems.length);oe++){const fe=this.additionalItems[oe]||0,Ee=d.additionalItems[oe]||0;z.push(fe|Ee)}return Ls.create(N,z)}intersects(d){if(this.items&d.items)return!0;for(let N=0;N<Math.min(this.additionalItems.length,d.additionalItems.length);N++)if(this.additionalItems[N]&d.additionalItems[N])return!0;return!1}}Ls.cache=new Array(129),Ls.empty=Ls.create(0,no);const Io={getKey(We){return We}};class Xs{constructor(){this.items=new Map}getKey(d){let N=this.items.get(d);return N===void 0&&(N=this.items.size,this.items.set(d,N)),N}}class So{constructor(d){this._length=d}get length(){return this._length}}class Hs extends So{constructor(d,N,z,oe,fe){super(d),this.openingBracket=N,this.child=z,this.closingBracket=oe,this.missingOpeningBracketIds=fe}static create(d,N,z){let oe=d.length;return N&&(oe=Di(oe,N.length)),z&&(oe=Di(oe,z.length)),new Hs(oe,d,N,z,N?N.missingOpeningBracketIds:Ls.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(d){switch(d){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const d=new Array;return d.push(this.openingBracket),this.child&&d.push(this.child),this.closingBracket&&d.push(this.closingBracket),d}canBeReused(d){return!(this.closingBracket===null||d.intersects(this.missingOpeningBracketIds))}deepClone(){return new Hs(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(d,N){return this.child?this.child.computeMinIndentation(Di(d,this.openingBracket.length),N):Number.MAX_SAFE_INTEGER}}class zs extends So{constructor(d,N,z){super(d),this.listHeight=N,this._missingOpeningBracketIds=z,this.cachedMinIndentation=-1}static create23(d,N,z,oe=!1){let fe=d.length,Ee=d.missingOpeningBracketIds;if(d.listHeight!==N.listHeight)throw new Error("Invalid list heights");if(fe=Di(fe,N.length),Ee=Ee.merge(N.missingOpeningBracketIds),z){if(d.listHeight!==z.listHeight)throw new Error("Invalid list heights");fe=Di(fe,z.length),Ee=Ee.merge(z.missingOpeningBracketIds)}return oe?new xo(fe,d.listHeight+1,d,N,z,Ee):new uo(fe,d.listHeight+1,d,N,z,Ee)}static getEmpty(){return new so(He,0,[],Ls.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const d=this.childrenLength;if(d===0)return;const N=this.getChild(d-1),z=N.kind===4?N.toMutable():N;return N!==z&&this.setChild(d-1,z),z}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const N=this.getChild(0),z=N.kind===4?N.toMutable():N;return N!==z&&this.setChild(0,z),z}canBeReused(d){if(d.intersects(this.missingOpeningBracketIds))return!1;let N=this,z;for(;N.kind===4&&(z=N.childrenLength)>0;)N=N.getChild(z-1);return N.canBeReused(d)}handleChildrenChanged(){this.throwIfImmutable();const d=this.childrenLength;let N=this.getChild(0).length,z=this.getChild(0).missingOpeningBracketIds;for(let oe=1;oe<d;oe++){const fe=this.getChild(oe);N=Di(N,fe.length),z=z.merge(fe.missingOpeningBracketIds)}this._length=N,this._missingOpeningBracketIds=z,this.cachedMinIndentation=-1}computeMinIndentation(d,N){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let z=Number.MAX_SAFE_INTEGER,oe=d;for(let fe=0;fe<this.childrenLength;fe++){const Ee=this.getChild(fe);Ee&&(z=Math.min(z,Ee.computeMinIndentation(oe,N)),oe=Di(oe,Ee.length))}return this.cachedMinIndentation=z,z}}class uo extends zs{constructor(d,N,z,oe,fe,Ee){super(d,N,Ee),this._item1=z,this._item2=oe,this._item3=fe}get childrenLength(){return this._item3!==null?3:2}getChild(d){switch(d){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(d,N){switch(d){case 0:this._item1=N;return;case 1:this._item2=N;return;case 2:this._item3=N;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new uo(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(d){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=d,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const d=this._item3;return this._item3=null,this.handleChildrenChanged(),d}prependChildOfSameHeight(d){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=d,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const d=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),d}toMutable(){return this}}class xo extends uo{toMutable(){return new uo(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class to extends zs{constructor(d,N,z,oe){super(d,N,oe),this._children=z}get childrenLength(){return this._children.length}getChild(d){return this._children[d]}setChild(d,N){this._children[d]=N}get children(){return this._children}deepClone(){const d=new Array(this._children.length);for(let N=0;N<this._children.length;N++)d[N]=this._children[N].deepClone();return new to(this.length,this.listHeight,d,this.missingOpeningBracketIds)}appendChildOfSameHeight(d){this.throwIfImmutable(),this._children.push(d),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const d=this._children.pop();return this.handleChildrenChanged(),d}prependChildOfSameHeight(d){this.throwIfImmutable(),this._children.unshift(d),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const d=this._children.shift();return this.handleChildrenChanged(),d}toMutable(){return this}}class so extends to{toMutable(){return new to(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const Oo=[];class us extends So{get listHeight(){return 0}get childrenLength(){return 0}getChild(d){return null}get children(){return Oo}deepClone(){return this}}class Eo extends us{get kind(){return 0}get missingOpeningBracketIds(){return Ls.getEmpty()}canBeReused(d){return!0}computeMinIndentation(d,N){const z=ei(d),oe=(z.columnCount===0?z.lineCount:z.lineCount+1)+1,fe=Vi(Di(d,this.length))+1;let Ee=Number.MAX_SAFE_INTEGER;for(let Ve=oe;Ve<=fe;Ve++){const dt=N.getLineFirstNonWhitespaceColumn(Ve),At=N.getLineContent(Ve);if(dt===0)continue;const Ct=Fo.i.visibleColumnFromColumn(At,dt,N.getOptions().tabSize);Ee=Math.min(Ee,Ct)}return Ee}}class hs extends us{constructor(d){super(d)}static create(d){const N=d,z=hs.cacheByLength.get(N);if(z)return z;const oe=new hs(d);return hs.cacheByLength.set(N,oe),oe}get kind(){return 1}get missingOpeningBracketIds(){return Ls.getEmpty()}canBeReused(d){return!1}computeMinIndentation(d,N){return Number.MAX_SAFE_INTEGER}}hs.cacheByLength=new Map;class os extends us{constructor(d,N){super(N),this.missingOpeningBracketIds=d}get kind(){return 3}canBeReused(d){return!d.intersects(this.missingOpeningBracketIds)}computeMinIndentation(d,N){return Number.MAX_SAFE_INTEGER}}class vo{constructor(d,N,z,oe,fe){this.length=d,this.kind=N,this.bracketId=z,this.bracketIds=oe,this.astNode=fe}}class rs{constructor(d,N){this.textModel=d,this.bracketTokens=N,this.reader=new co(this.textModel,this.bracketTokens),this._offset=He,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=d.getLineCount(),this.textBufferLastLineLength=d.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return ct(this.textBufferLineCount,this.textBufferLastLineLength)}skip(d){this.didPeek=!1,this._offset=Di(this._offset,d);const N=ei(this._offset);this.reader.setPosition(N.lineCount,N.columnCount)}read(){let d;return this.peeked?(this.didPeek=!1,d=this.peeked):d=this.reader.read(),d&&(this._offset=Di(this._offset,d.length)),d}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class co{constructor(d,N){this.textModel=d,this.bracketTokens=N,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=d.getLineCount(),this.textBufferLastLineLength=d.getLineLength(this.textBufferLineCount)}setPosition(d,N){d===this.lineIdx?(this.lineCharOffset=N,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=d,this.lineCharOffset=N,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const fe=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=fe.length,fe}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const d=this.lineIdx,N=this.lineCharOffset;let z=0;for(;;){const fe=this.lineTokens,Ee=fe.getCount();let Ve=null;if(this.lineTokenOffset<Ee){const dt=fe.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<Ee&&dt===fe.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const At=qi.NX.getTokenType(dt)===0,Ct=fe.getEndOffset(this.lineTokenOffset);if(At&&Ct!==this.lineCharOffset){const Dt=fe.getLanguageId(this.lineTokenOffset),$t=this.line.substring(this.lineCharOffset,Ct),si=this.bracketTokens.getSingleLanguageBracketTokens(Dt),ui=si.regExpGlobal;if(ui){ui.lastIndex=0;const Ti=ui.exec($t);Ti&&(Ve=si.getToken(Ti[0]),Ve&&(this.lineCharOffset+=Ti.index))}}if(z+=Ct-this.lineCharOffset,Ve)if(d!==this.lineIdx||N!==this.lineCharOffset){this.peekedToken=Ve;break}else return this.lineCharOffset+=Ve.length,Ve;else this.lineTokenOffset++,this.lineCharOffset=Ct}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,z+=33,z>1e3))break;if(z>1500)break}const oe=Nt(d,N,this.lineIdx,this.lineCharOffset);return new vo(oe,0,-1,Ls.getEmpty(),new Eo(oe))}}class Ws{constructor(d,N){this.text=d,this._offset=He,this.idx=0;const oe=N.getRegExpStr()?new RegExp(N.getRegExpStr()+`|
`,"g"):null,fe=[];let Ee,Ve=0,dt=0,At=0,Ct=0;const Dt=new Array;for(let ui=0;ui<60;ui++)Dt.push(new vo(ct(0,ui),0,-1,Ls.getEmpty(),new Eo(ct(0,ui))));const $t=new Array;for(let ui=0;ui<60;ui++)$t.push(new vo(ct(1,ui),0,-1,Ls.getEmpty(),new Eo(ct(1,ui))));if(oe)for(oe.lastIndex=0;(Ee=oe.exec(d))!==null;){const ui=Ee.index,Ti=Ee[0];if(Ti===`
`)Ve++,dt=ui+1;else{if(At!==ui){let Fi;if(Ct===Ve){const Zi=ui-At;if(Zi<Dt.length)Fi=Dt[Zi];else{const yn=ct(0,Zi);Fi=new vo(yn,0,-1,Ls.getEmpty(),new Eo(yn))}}else{const Zi=Ve-Ct,yn=ui-dt;if(Zi===1&&yn<$t.length)Fi=$t[yn];else{const as=ct(Zi,yn);Fi=new vo(as,0,-1,Ls.getEmpty(),new Eo(as))}}fe.push(Fi)}fe.push(N.getToken(Ti)),At=ui+Ti.length,Ct=Ve}}const si=d.length;if(At!==si){const ui=Ct===Ve?ct(0,si-At):ct(Ve-Ct,si-dt);fe.push(new vo(ui,0,-1,Ls.getEmpty(),new Eo(ui)))}this.length=ct(Ve,si-dt),this.tokens=fe}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(d){throw new g.B8}}class ho{constructor(d){this.map=d,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(d,N){function z(dt,At){return N.getKey(`${dt}:::${At}`)}const oe=d.characterPair.getColorizedBrackets(),fe=new Map,Ee=new Set;for(const[dt,At]of oe){Ee.add(dt);let Ct=fe.get(At);const Dt=z(d.languageId,dt);Ct||(Ct={openingBrackets:Ls.getEmpty(),first:Dt},fe.set(At,Ct)),Ct.openingBrackets=Ct.openingBrackets.add(Dt,Io)}const Ve=new Map;for(const[dt,At]of fe){const Ct=ct(0,dt.length);Ve.set(dt,new vo(Ct,2,At.first,At.openingBrackets,hs.create(Ct)))}for(const dt of Ee){const At=ct(0,dt.length),Ct=z(d.languageId,dt);Ve.set(dt,new vo(At,1,Ct,Ls.getEmpty().add(Ct,Io),hs.create(At)))}return new ho(Ve)}getRegExpStr(){if(this.isEmpty)return null;{const d=[...this.map.keys()];return d.sort(),d.reverse(),d.map(N=>hi(N)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const d=this.getRegExpStr();this._regExpGlobal=d?new RegExp(d,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(d){return this.map.get(d)}get isEmpty(){return this.map.size===0}}function hi(We){const d=(0,O.ec)(We);return/^[\w ]+$/.test(We)?`\\b${d}\\b`:d}class ge{constructor(d,N){this.denseKeyProvider=d,this.getLanguageConfiguration=N,this.languageIdToBracketTokens=new Map}didLanguageChange(d){const N=this.languageIdToBracketTokens.get(d);if(!N)return!1;const z=ho.createFromLanguage(this.getLanguageConfiguration(d),this.denseKeyProvider).getRegExpStr();return N.getRegExpStr()!==z}getSingleLanguageBracketTokens(d){let N=this.languageIdToBracketTokens.get(d);return N||(N=ho.createFromLanguage(this.getLanguageConfiguration(d),this.denseKeyProvider),this.languageIdToBracketTokens.set(d,N)),N}}function ut(We){if(We.length===0)return null;if(We.length===1)return We[0];let d=0;function N(){if(d>=We.length)return null;const Ee=d,Ve=We[Ee].listHeight;for(d++;d<We.length&&We[d].listHeight===Ve;)d++;return d-Ee>=2?gt(Ee===0&&d===We.length?We:We.slice(Ee,d),!1):We[Ee]}let z=N(),oe=N();if(!oe)return z;for(let Ee=N();Ee;Ee=N())Bt(z,oe)<=Bt(oe,Ee)?(z=qt(z,oe),oe=Ee):oe=qt(oe,Ee);return qt(z,oe)}function gt(We,d=!1){if(We.length===0)return null;if(We.length===1)return We[0];let N=We.length;for(;N>3;){const z=N>>1;for(let oe=0;oe<z;oe++){const fe=oe<<1;We[oe]=zs.create23(We[fe],We[fe+1],fe+3===N?We[fe+2]:null,d)}N=z}return zs.create23(We[0],We[1],N>=3?We[2]:null,d)}function Bt(We,d){return Math.abs(We.listHeight-d.listHeight)}function qt(We,d){return We.listHeight===d.listHeight?zs.create23(We,d,null,!1):We.listHeight>d.listHeight?vi(We,d):Li(d,We)}function vi(We,d){We=We.toMutable();let N=We;const z=new Array;let oe;for(;;){if(d.listHeight===N.listHeight){oe=d;break}if(N.kind!==4)throw new Error("unexpected");z.push(N),N=N.makeLastElementMutable()}for(let fe=z.length-1;fe>=0;fe--){const Ee=z[fe];oe?Ee.childrenLength>=3?oe=zs.create23(Ee.unappendChild(),oe,null,!1):(Ee.appendChildOfSameHeight(oe),oe=void 0):Ee.handleChildrenChanged()}return oe?zs.create23(We,oe,null,!1):We}function Li(We,d){We=We.toMutable();let N=We;const z=new Array;for(;d.listHeight!==N.listHeight;){if(N.kind!==4)throw new Error("unexpected");z.push(N),N=N.makeFirstElementMutable()}let oe=d;for(let fe=z.length-1;fe>=0;fe--){const Ee=z[fe];oe?Ee.childrenLength>=3?oe=zs.create23(oe,Ee.unprependChild(),null,!1):(Ee.prependChildOfSameHeight(oe),oe=void 0):Ee.handleChildrenChanged()}return oe?zs.create23(oe,We,null,!1):We}class mi{constructor(d){this.lastOffset=He,this.nextNodes=[d],this.offsets=[He],this.idxs=[]}readLongestNodeAt(d,N){if(dn(d,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=d;;){const z=Bi(this.nextNodes);if(!z)return;const oe=Bi(this.offsets);if(dn(d,oe))return;if(dn(oe,d))if(Di(oe,z.length)<=d)this.nextNodeAfterCurrent();else{const fe=un(z);fe!==-1?(this.nextNodes.push(z.getChild(fe)),this.offsets.push(oe),this.idxs.push(fe)):this.nextNodeAfterCurrent()}else{if(N(z))return this.nextNodeAfterCurrent(),z;{const fe=un(z);if(fe===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(z.getChild(fe)),this.offsets.push(oe),this.idxs.push(fe)}}}}nextNodeAfterCurrent(){for(;;){const d=Bi(this.offsets),N=Bi(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const z=Bi(this.nextNodes),oe=un(z,this.idxs[this.idxs.length-1]);if(oe!==-1){this.nextNodes.push(z.getChild(oe)),this.offsets.push(Di(d,N.length)),this.idxs[this.idxs.length-1]=oe;break}else this.idxs.pop()}}}function un(We,d=-1){for(;;){if(d++,d>=We.childrenLength)return-1;if(We.getChild(d))return d}}function Bi(We){return We.length>0?We[We.length-1]:void 0}function ts(We,d,N,z){return new Rt(We,d,N,z).parseDocument()}class Rt{constructor(d,N,z,oe){if(this.tokenizer=d,this.createImmutableLists=oe,this._itemsConstructed=0,this._itemsFromCache=0,z&&oe)throw new Error("Not supported");this.oldNodeReader=z?new mi(z):void 0,this.positionMapper=new ds(N,d.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let d=this.parseList(Ls.getEmpty());return d||(d=zs.getEmpty()),d}parseList(d){const N=new Array;for(;;){const oe=this.tokenizer.peek();if(!oe||oe.kind===2&&oe.bracketIds.intersects(d))break;const fe=this.parseChild(d);fe.kind===4&&fe.childrenLength===0||N.push(fe)}return this.oldNodeReader?ut(N):gt(N,this.createImmutableLists)}parseChild(d){if(this.oldNodeReader){const z=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!Qe(z)){const oe=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),fe=>dn(fe.length,z)?fe.canBeReused(d):!1);if(oe)return this._itemsFromCache++,this.tokenizer.skip(oe.length),oe}}this._itemsConstructed++;const N=this.tokenizer.read();switch(N.kind){case 2:return new os(N.bracketIds,N.length);case 0:return N.astNode;case 1:const z=d.merge(N.bracketIds),oe=this.parseList(z),fe=this.tokenizer.peek();return fe&&fe.kind===2&&(fe.bracketId===N.bracketId||fe.bracketIds.intersects(N.bracketIds))?(this.tokenizer.read(),Hs.create(N.astNode,oe,fe.astNode)):Hs.create(N.astNode,oe,null);default:throw new Error("unexpected")}}}class F extends Q.JT{constructor(d,N){super(),this.textModel=d,this.languageConfigurationService=N,this.cache=this._register(new Q.XK),this.onDidChangeEmitter=new Y.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(d.onDidChangeOptions(z=>{this.cache.clear(),this.updateCache()})),this._register(d.onDidChangeLanguage(z=>{this.cache.clear(),this.updateCache()})),this._register(this.languageConfigurationService.onDidChange(z=>{var oe;(!z.languageId||!((oe=this.cache.value)===null||oe===void 0)&&oe.object.didLanguageChange(z.languageId))&&(this.cache.clear(),this.updateCache())}))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}updateCache(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.cache.value){const d=new Q.SL;this.cache.value=re(d.add(new Se(this.textModel,N=>this.languageConfigurationService.getLanguageConfiguration(N))),d),d.add(this.cache.value.object.onDidChange(N=>this.onDidChangeEmitter.fire(N))),this.onDidChangeEmitter.fire()}}else this.cache.clear(),this.onDidChangeEmitter.fire()}handleContentChanged(d){var N;(N=this.cache.value)===null||N===void 0||N.object.handleContentChanged(d)}getBracketPairsInRange(d){var N;return this.bracketsRequested=!0,this.updateCache(),((N=this.cache.value)===null||N===void 0?void 0:N.object.getBracketPairsInRange(d,!1))||[]}getBracketPairsInRangeWithMinIndentation(d){var N;return this.bracketsRequested=!0,this.updateCache(),((N=this.cache.value)===null||N===void 0?void 0:N.object.getBracketPairsInRange(d,!0))||[]}getBracketsInRange(d){var N;return this.bracketsRequested=!0,this.updateCache(),((N=this.cache.value)===null||N===void 0?void 0:N.object.getBracketsInRange(d))||[]}}function re(We,d){return{object:We,dispose:()=>d==null?void 0:d.dispose()}}class Se extends Q.JT{constructor(d,N){if(super(),this.textModel=d,this.getLanguageConfiguration=N,this.didChangeEmitter=new Y.Q5,this.denseKeyProvider=new Xs,this.brackets=new ge(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(d.onBackgroundTokenizationStateChanged(()=>{if(d.backgroundTokenizationState===2){const z=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,z||this.didChangeEmitter.fire()}})),this._register(d.onDidChangeTokens(({ranges:z})=>{const oe=z.map(fe=>new vs(ct(fe.fromLineNumber-1,0),ct(fe.toLineNumber,0),ct(fe.toLineNumber-fe.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(oe,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()})),d.backgroundTokenizationState===0){const z=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),oe=new Ws(this.textModel.getValue(),z);this.initialAstWithoutTokens=ts(oe,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else d.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):d.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(d){return this.brackets.didLanguageChange(d)}handleContentChanged(d){const N=d.changes.map(z=>{const oe=P.e.lift(z.range);return new vs(pi(oe.getStartPosition()),pi(oe.getEndPosition()),En(z.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(N,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(N,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(d,N,z){const fe=N,Ee=new rs(this.textModel,this.brackets);return ts(Ee,d,fe,z)}getBracketsInRange(d){const N=ct(d.startLineNumber-1,d.startColumn-1),z=ct(d.endLineNumber-1,d.endColumn-1),oe=new Array,fe=this.initialAstWithoutTokens||this.astWithTokens;return Fe(fe,He,fe.length,N,z,oe),oe}getBracketPairsInRange(d,N){const z=new Array,oe=pi(d.getStartPosition()),fe=pi(d.getEndPosition()),Ee=this.initialAstWithoutTokens||this.astWithTokens,Ve=new lt(z,N,this.textModel);return Ot(Ee,He,Ee.length,oe,fe,Ve),z}}function Fe(We,d,N,z,oe,fe,Ee=0){if(We.kind===1){const Ve=Cn(d,N);fe.push(new Hi(Ve,Ee-1,!1))}else if(We.kind===3){const Ve=Cn(d,N);fe.push(new Hi(Ve,Ee-1,!0))}else if(We.kind===4)for(const Ve of We.children)N=Di(d,Ve.length),gn(d,oe)&&Mi(N,z)&&Fe(Ve,d,N,z,oe,fe,Ee),d=N;else if(We.kind===2){Ee++;{const Ve=We.openingBracket;N=Di(d,Ve.length),gn(d,oe)&&Mi(N,z)&&Fe(Ve,d,N,z,oe,fe,Ee),d=N}if(We.child){const Ve=We.child;N=Di(d,Ve.length),gn(d,oe)&&Mi(N,z)&&Fe(Ve,d,N,z,oe,fe,Ee),d=N}if(We.closingBracket){const Ve=We.closingBracket;N=Di(d,Ve.length),gn(d,oe)&&Mi(N,z)&&Fe(Ve,d,N,z,oe,fe,Ee),d=N}}}class lt{constructor(d,N,z){this.result=d,this.includeMinIndentation=N,this.textModel=z}}function Ot(We,d,N,z,oe,fe,Ee=0){var Ve;if(We.kind===2){const At=Di(d,We.openingBracket.length);let Ct=-1;fe.includeMinIndentation&&(Ct=We.computeMinIndentation(d,fe.textModel)),fe.result.push(new vt(Cn(d,N),Cn(d,At),We.closingBracket?Cn(Di(At,((Ve=We.child)===null||Ve===void 0?void 0:Ve.length)||He),N):void 0,Ee,Ct)),Ee++}let dt=d;for(const At of We.children){const Ct=dt;dt=Di(dt,At.length),gn(Ct,oe)&&gn(z,dt)&&Ot(At,Ct,dt,z,oe,fe,Ee)}}var Zt=c(27869),di=c(97781);class Ei extends Q.JT{constructor(d){super(),this.textModel=d,this.colorProvider=new li,this.onDidChangeEmitter=new Y.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=d.getOptions().bracketPairColorizationOptions,this._register(d.onDidChangeOptions(N=>{this.colorizationOptions=d.getOptions().bracketPairColorizationOptions})),this._register(d.bracketPairs.onDidChange(N=>{this.onDidChangeEmitter.fire()}))}getDecorationsInRange(d,N,z){if(N===void 0)return[];if(!this.colorizationOptions.enabled)return[];const oe=new Array,fe=this.textModel.bracketPairs.getBracketsInRange(d);for(const Ee of fe)oe.push({id:`bracket${Ee.range.toString()}-${Ee.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(Ee)},ownerId:0,range:Ee.range});return oe}getAllDecorations(d,N){return d===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new P.e(1,1,this.textModel.getLineCount(),1),d,N):[]}}class li{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(d){return d.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(d.nestingLevel)}getInlineClassNameOfLevel(d){return`bracket-highlighting-${d%30}`}}(0,di.Ic)((We,d)=>{const N=[Zt.zJ,Zt.Vs,Zt.CE,Zt.UP,Zt.r0,Zt.m1],z=new li;d.addRule(`.monaco-editor .${z.unexpectedClosingBracketClassName} { color: ${We.getColor(Zt.ts)}; }`);let oe=N.map(fe=>We.getColor(fe)).filter(fe=>!!fe).filter(fe=>!fe.isTransparent());for(let fe=0;fe<30;fe++){const Ee=oe[fe%oe.length];d.addRule(`.monaco-editor .${z.getInlineClassNameOfLevel(fe)} { color: ${Ee}; }`)}});var Oi=c(71531),tn=function(We,d,N,z){var oe=arguments.length,fe=oe<3?d:z===null?z=Object.getOwnPropertyDescriptor(d,N):z,Ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")fe=Reflect.decorate(We,d,N,z);else for(var Ve=We.length-1;Ve>=0;Ve--)(Ee=We[Ve])&&(fe=(oe<3?Ee(fe):oe>3?Ee(d,N,fe):Ee(d,N))||fe);return oe>3&&fe&&Object.defineProperty(d,N,fe),fe},yi=function(We,d){return function(N,z){d(N,z,We)}};function nn(){return new Zn}function Qi(We){const d=nn();return d.acceptChunk(We),d.finish()}function Sn(We,d){return(typeof We=="string"?Qi(We):We).create(d)}let ns=0;const Ms=999,Dn=1e4;class Ut{constructor(d){this._source=d,this._eos=!1}read(){if(this._eos)return null;let d=[],N=0,z=0;do{let oe=this._source.read();if(oe===null)return this._eos=!0,N===0?null:d.join("");if(oe.length>0&&(d[N++]=oe,z+=oe.length),z>=64*1024)return d.join("")}while(!0)}}const pe=()=>{throw new Error("Invalid change accessor")};class Re{constructor(){this._searchCanceledBrand=void 0}}Re.INSTANCE=new Re;function Ke(We){return We instanceof Re?null:We}let _t=class ra extends Q.JT{constructor(d,N,z,oe=null,fe,Ee,Ve){super(),this._undoRedoService=fe,this._modeService=Ee,this._languageConfigurationService=Ve,this._onWillDispose=this._register(new Y.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new bs($t=>this.handleBeforeFireDecorationsChangedEvent($t))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new Y.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new Y.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new Y.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new Y.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new Y.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new Y.Q5),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new Rs),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new Y.Q5),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent($t=>{this._onDidChangeContentOrInjectedText.fire($t.rawContentChangedEvent)})),ns++,this.id="$model"+ns,this.isForSimpleWidget=N.isForSimpleWidget,typeof oe=="undefined"||oe===null?this._associatedResource=y.o.parse("inmemory://model/"+ns):this._associatedResource=oe,this._attachedEditorCount=0;const{textBuffer:dt,disposable:At}=Sn(d,N.defaultEOL);this._buffer=dt,this._bufferDisposable=At,this._options=ra.resolveOptions(this._buffer,N);const Ct=this._buffer.getLineCount(),Dt=this._buffer.getValueLengthInRange(new P.e(1,1,Ct,this._buffer.getLineLength(Ct)+1),0);N.largeFileOptimizations?this._isTooLargeForTokenization=Dt>ra.LARGE_FILE_SIZE_THRESHOLD||Ct>ra.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=Dt>ra.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=z||je.TG,this._languageRegistryListener=this._languageConfigurationService.onDidChange($t=>{$t.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=O.PJ(ns),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new An,this._commandManager=new m.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new Ui.Rl(this._modeService.languageIdCodec),this._tokens2=new Ui.cx(this._modeService.languageIdCodec),this._tokenization=new Je(this,this._modeService.languageIdCodec),this._bracketPairColorizer=this._register(new F(this,this._languageConfigurationService)),this._decorationProvider=this._register(new Ei(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(d,N){if(N.detectIndentation){const z=r(d,N.tabSize,N.insertSpaces);return new I.dJ({tabSize:z.tabSize,indentSize:z.tabSize,insertSpaces:z.insertSpaces,trimAutoWhitespace:N.trimAutoWhitespace,defaultEOL:N.defaultEOL,bracketPairColorizationOptions:N.bracketPairColorizationOptions})}return new I.dJ({tabSize:N.tabSize,indentSize:N.indentSize,insertSpaces:N.insertSpaces,trimAutoWhitespace:N.trimAutoWhitespace,defaultEOL:N.defaultEOL,bracketPairColorizationOptions:N.bracketPairColorizationOptions})}onDidChangeContentFast(d){return this._eventEmitter.fastEvent(N=>d(N.contentChangedEvent))}onDidChangeContent(d){return this._eventEmitter.slowEvent(N=>d(N.contentChangedEvent))}get bracketPairs(){return this._bracketPairColorizer}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(d){if(this._backgroundTokenizationState===2)return;const N=d?2:1;this._backgroundTokenizationState!==N&&(this._backgroundTokenizationState=N,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const d=new Ri([],"",`
`,!1,!1,!0,!0);d.dispose(),this._buffer=d}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(d,N){this._bracketPairColorizer.handleContentChanged(N),!this._isDisposing&&this._eventEmitter.fire(new Bn.fV(d,N))}setValue(d){if(this._assertNotDisposed(),d===null)return;const{textBuffer:N,disposable:z}=Sn(d,this._options.defaultEOL);this._setValueFromTextBuffer(N,z)}_createContentChanged2(d,N,z,oe,fe,Ee,Ve){return{changes:[{range:d,rangeOffset:N,rangeLength:z,text:oe}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:fe,isRedoing:Ee,isFlush:Ve}}_setValueFromTextBuffer(d,N){this._assertNotDisposed();const z=this.getFullModelRange(),oe=this.getValueLengthInRange(z),fe=this.getLineCount(),Ee=this.getLineMaxColumn(fe);this._buffer=d,this._bufferDisposable.dispose(),this._bufferDisposable=N,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new An,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Bn.dQ([new Bn.Jx],this._versionId,!1,!1),this._createContentChanged2(new P.e(1,1,fe,Ee),0,oe,this.getValue(),!1,!1,!0))}setEOL(d){this._assertNotDisposed();const N=d===1?`\r
`:`
`;if(this._buffer.getEOL()===N)return;const z=this.getFullModelRange(),oe=this.getValueLengthInRange(z),fe=this.getLineCount(),Ee=this.getLineMaxColumn(fe);this._onBeforeEOLChange(),this._buffer.setEOL(N),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Bn.dQ([new Bn.CZ],this._versionId,!1,!1),this._createContentChanged2(new P.e(1,1,fe,Ee),0,oe,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const d=this.getVersionId(),N=this._decorationsTree.collectNodesPostOrder();for(let z=0,oe=N.length;z<oe;z++){const fe=N[z],Ee=fe.range,Ve=fe.cachedAbsoluteStart-fe.start,dt=this._buffer.getOffsetAt(Ee.startLineNumber,Ee.startColumn),At=this._buffer.getOffsetAt(Ee.endLineNumber,Ee.endColumn);fe.cachedAbsoluteStart=dt,fe.cachedAbsoluteEnd=At,fe.cachedVersionId=d,fe.start=dt-Ve,fe.end=At-Ve,It(fe)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let d=0,N=0;const z=this._buffer.getLineCount();for(let oe=1;oe<=z;oe++){const fe=this._buffer.getLineLength(oe);fe>=Dn?N+=fe:d+=fe}return N>d}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(d){this._assertNotDisposed();let N=typeof d.tabSize!="undefined"?d.tabSize:this._options.tabSize,z=typeof d.indentSize!="undefined"?d.indentSize:this._options.indentSize,oe=typeof d.insertSpaces!="undefined"?d.insertSpaces:this._options.insertSpaces,fe=typeof d.trimAutoWhitespace!="undefined"?d.trimAutoWhitespace:this._options.trimAutoWhitespace,Ee=typeof d.bracketColorizationOptions!="undefined"?d.bracketColorizationOptions:this._options.bracketPairColorizationOptions,Ve=new I.dJ({tabSize:N,indentSize:z,insertSpaces:oe,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:fe,bracketPairColorizationOptions:Ee});if(this._options.equals(Ve))return;let dt=this._options.createChangeEvent(Ve);this._options=Ve,this._onDidChangeOptions.fire(dt)}detectIndentation(d,N){this._assertNotDisposed();let z=r(this._buffer,N,d);this.updateOptions({insertSpaces:z.insertSpaces,tabSize:z.tabSize,indentSize:z.tabSize})}static _normalizeIndentationFromWhitespace(d,N,z){let oe=0;for(let Ee=0;Ee<d.length;Ee++)d.charAt(Ee)==="	"?oe+=N:oe++;let fe="";if(!z){let Ee=Math.floor(oe/N);oe=oe%N;for(let Ve=0;Ve<Ee;Ve++)fe+="	"}for(let Ee=0;Ee<oe;Ee++)fe+=" ";return fe}static normalizeIndentation(d,N,z){let oe=O.LC(d);return oe===-1&&(oe=d.length),ra._normalizeIndentationFromWhitespace(d.substring(0,oe),N,z)+d.substring(oe)}normalizeIndentation(d){return this._assertNotDisposed(),ra.normalizeIndentation(d,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(d=null){const N=this.findMatches(O.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(d,N.map(z=>({range:z.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(d){this._assertNotDisposed();let N=this._validatePosition(d.lineNumber,d.column,0);return this._buffer.getOffsetAt(N.lineNumber,N.column)}getPositionAt(d){this._assertNotDisposed();let N=Math.min(this._buffer.getLength(),Math.max(0,d));return this._buffer.getPositionAt(N)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(d){this._versionId=d}_overwriteAlternativeVersionId(d){this._alternativeVersionId=d}_overwriteInitialUndoRedoSnapshot(d){this._initialUndoRedoSnapshot=d}getValue(d,N=!1){this._assertNotDisposed();const z=this.getFullModelRange(),oe=this.getValueInRange(z,d);return N?this._buffer.getBOM()+oe:oe}createSnapshot(d=!1){return new Ut(this._buffer.createSnapshot(d))}getValueLength(d,N=!1){this._assertNotDisposed();const z=this.getFullModelRange(),oe=this.getValueLengthInRange(z,d);return N?this._buffer.getBOM().length+oe:oe}getValueInRange(d,N=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(d),N)}getValueLengthInRange(d,N=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(d),N)}getCharacterCountInRange(d,N=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(d),N)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(d){if(this._assertNotDisposed(),d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(d)}getLineLength(d){if(this._assertNotDisposed(),d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(d)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(d){return this._assertNotDisposed(),1}getLineMaxColumn(d){if(this._assertNotDisposed(),d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(d)+1}getLineFirstNonWhitespaceColumn(d){if(this._assertNotDisposed(),d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(d)}getLineLastNonWhitespaceColumn(d){if(this._assertNotDisposed(),d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(d)}_validateRangeRelaxedNoAllocations(d){const N=this._buffer.getLineCount(),z=d.startLineNumber,oe=d.startColumn;let fe=Math.floor(typeof z=="number"&&!isNaN(z)?z:1),Ee=Math.floor(typeof oe=="number"&&!isNaN(oe)?oe:1);if(fe<1)fe=1,Ee=1;else if(fe>N)fe=N,Ee=this.getLineMaxColumn(fe);else if(Ee<=1)Ee=1;else{const Dt=this.getLineMaxColumn(fe);Ee>=Dt&&(Ee=Dt)}const Ve=d.endLineNumber,dt=d.endColumn;let At=Math.floor(typeof Ve=="number"&&!isNaN(Ve)?Ve:1),Ct=Math.floor(typeof dt=="number"&&!isNaN(dt)?dt:1);if(At<1)At=1,Ct=1;else if(At>N)At=N,Ct=this.getLineMaxColumn(At);else if(Ct<=1)Ct=1;else{const Dt=this.getLineMaxColumn(At);Ct>=Dt&&(Ct=Dt)}return z===fe&&oe===Ee&&Ve===At&&dt===Ct&&d instanceof P.e&&!(d instanceof s.Y)?d:new P.e(fe,Ee,At,Ct)}_isValidPosition(d,N,z){if(typeof d!="number"||typeof N!="number"||isNaN(d)||isNaN(N)||d<1||N<1||(d|0)!==d||(N|0)!==N)return!1;const oe=this._buffer.getLineCount();if(d>oe)return!1;if(N===1)return!0;const fe=this.getLineMaxColumn(d);if(N>fe)return!1;if(z===1){const Ee=this._buffer.getLineCharCode(d,N-2);if(O.ZG(Ee))return!1}return!0}_validatePosition(d,N,z){const oe=Math.floor(typeof d=="number"&&!isNaN(d)?d:1),fe=Math.floor(typeof N=="number"&&!isNaN(N)?N:1),Ee=this._buffer.getLineCount();if(oe<1)return new k.L(1,1);if(oe>Ee)return new k.L(Ee,this.getLineMaxColumn(Ee));if(fe<=1)return new k.L(oe,1);const Ve=this.getLineMaxColumn(oe);if(fe>=Ve)return new k.L(oe,Ve);if(z===1){const dt=this._buffer.getLineCharCode(oe,fe-2);if(O.ZG(dt))return new k.L(oe,fe-1)}return new k.L(oe,fe)}validatePosition(d){return this._assertNotDisposed(),d instanceof k.L&&this._isValidPosition(d.lineNumber,d.column,1)?d:this._validatePosition(d.lineNumber,d.column,1)}_isValidRange(d,N){const z=d.startLineNumber,oe=d.startColumn,fe=d.endLineNumber,Ee=d.endColumn;if(!this._isValidPosition(z,oe,0)||!this._isValidPosition(fe,Ee,0))return!1;if(N===1){const Ve=oe>1?this._buffer.getLineCharCode(z,oe-2):0,dt=Ee>1&&Ee<=this._buffer.getLineLength(fe)?this._buffer.getLineCharCode(fe,Ee-2):0,At=O.ZG(Ve),Ct=O.ZG(dt);return!At&&!Ct}return!0}validateRange(d){if(this._assertNotDisposed(),d instanceof P.e&&!(d instanceof s.Y)&&this._isValidRange(d,1))return d;const z=this._validatePosition(d.startLineNumber,d.startColumn,0),oe=this._validatePosition(d.endLineNumber,d.endColumn,0),fe=z.lineNumber,Ee=z.column,Ve=oe.lineNumber,dt=oe.column;{const At=Ee>1?this._buffer.getLineCharCode(fe,Ee-2):0,Ct=dt>1&&dt<=this._buffer.getLineLength(Ve)?this._buffer.getLineCharCode(Ve,dt-2):0,Dt=O.ZG(At),$t=O.ZG(Ct);return!Dt&&!$t?new P.e(fe,Ee,Ve,dt):fe===Ve&&Ee===dt?new P.e(fe,Ee-1,Ve,dt-1):Dt&&$t?new P.e(fe,Ee-1,Ve,dt+1):Dt?new P.e(fe,Ee-1,Ve,dt):new P.e(fe,Ee,Ve,dt+1)}return new P.e(fe,Ee,Ve,dt)}modifyPosition(d,N){this._assertNotDisposed();let z=this.getOffsetAt(d)+N;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,z)))}getFullModelRange(){this._assertNotDisposed();const d=this.getLineCount();return new P.e(1,1,d,this.getLineMaxColumn(d))}findMatchesLineByLine(d,N,z,oe){return this._buffer.findMatchesLineByLine(d,N,z,oe)}findMatches(d,N,z,oe,fe,Ee,Ve=Ms){this._assertNotDisposed();let dt=null;N!==null&&(Array.isArray(N)||(N=[N]),N.every(Dt=>P.e.isIRange(Dt))&&(dt=N.map(Dt=>this.validateRange(Dt)))),dt===null&&(dt=[this.getFullModelRange()]),dt=dt.sort((Dt,$t)=>Dt.startLineNumber-$t.startLineNumber||Dt.startColumn-$t.startColumn);const At=[];At.push(dt.reduce((Dt,$t)=>P.e.areIntersecting(Dt,$t)?Dt.plusRange($t):(At.push(Dt),$t)));let Ct;if(!z&&d.indexOf(`
`)<0){const $t=new Pt.bc(d,z,oe,fe).parseSearchRequest();if(!$t)return[];Ct=si=>this.findMatchesLineByLine(si,$t,Ee,Ve)}else Ct=Dt=>Pt.pM.findMatches(this,new Pt.bc(d,z,oe,fe),Dt,Ee,Ve);return At.map(Ct).reduce((Dt,$t)=>Dt.concat($t),[])}findNextMatch(d,N,z,oe,fe,Ee){this._assertNotDisposed();const Ve=this.validatePosition(N);if(!z&&d.indexOf(`
`)<0){const At=new Pt.bc(d,z,oe,fe).parseSearchRequest();if(!At)return null;const Ct=this.getLineCount();let Dt=new P.e(Ve.lineNumber,Ve.column,Ct,this.getLineMaxColumn(Ct)),$t=this.findMatchesLineByLine(Dt,At,Ee,1);return Pt.pM.findNextMatch(this,new Pt.bc(d,z,oe,fe),Ve,Ee),$t.length>0||(Dt=new P.e(1,1,Ve.lineNumber,this.getLineMaxColumn(Ve.lineNumber)),$t=this.findMatchesLineByLine(Dt,At,Ee,1),$t.length>0)?$t[0]:null}return Pt.pM.findNextMatch(this,new Pt.bc(d,z,oe,fe),Ve,Ee)}findPreviousMatch(d,N,z,oe,fe,Ee){this._assertNotDisposed();const Ve=this.validatePosition(N);return Pt.pM.findPreviousMatch(this,new Pt.bc(d,z,oe,fe),Ve,Ee)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(d){if((this.getEOL()===`
`?0:1)!==d)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(d)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(d){return d instanceof I.Qi?d:new I.Qi(d.identifier||null,this.validateRange(d.range),d.text,d.forceMoveMarkers||!1,d.isAutoWhitespaceEdit||!1,d._isTracked||!1)}_validateEditOperations(d){const N=[];for(let z=0,oe=d.length;z<oe;z++)N[z]=this._validateEditOperation(d[z]);return N}pushEditOperations(d,N,z){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(d,this._validateEditOperations(N),z)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(d,N,z){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let oe=N.map(Ee=>({range:this.validateRange(Ee.range),text:Ee.text})),fe=!0;if(d)for(let Ee=0,Ve=d.length;Ee<Ve;Ee++){let dt=d[Ee],At=!1;for(let Ct=0,Dt=oe.length;Ct<Dt;Ct++){let $t=oe[Ct].range,si=$t.startLineNumber>dt.endLineNumber,ui=dt.startLineNumber>$t.endLineNumber;if(!si&&!ui){At=!0;break}}if(!At){fe=!1;break}}if(fe)for(let Ee=0,Ve=this._trimAutoWhitespaceLines.length;Ee<Ve;Ee++){let dt=this._trimAutoWhitespaceLines[Ee],At=this.getLineMaxColumn(dt),Ct=!0;for(let Dt=0,$t=oe.length;Dt<$t;Dt++){let si=oe[Dt].range,ui=oe[Dt].text;if(!(dt<si.startLineNumber||dt>si.endLineNumber)&&!(dt===si.startLineNumber&&si.startColumn===At&&si.isEmpty()&&ui&&ui.length>0&&ui.charAt(0)===`
`)&&!(dt===si.startLineNumber&&si.startColumn===1&&si.isEmpty()&&ui&&ui.length>0&&ui.charAt(ui.length-1)===`
`)){Ct=!1;break}}if(Ct){const Dt=new P.e(dt,1,dt,At);N.push(new I.Qi(null,Dt,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(d,N,z)}_applyUndo(d,N,z,oe){const fe=d.map(Ee=>{const Ve=this.getPositionAt(Ee.newPosition),dt=this.getPositionAt(Ee.newEnd);return{range:new P.e(Ve.lineNumber,Ve.column,dt.lineNumber,dt.column),text:Ee.oldText}});this._applyUndoRedoEdits(fe,N,!0,!1,z,oe)}_applyRedo(d,N,z,oe){const fe=d.map(Ee=>{const Ve=this.getPositionAt(Ee.oldPosition),dt=this.getPositionAt(Ee.oldEnd);return{range:new P.e(Ve.lineNumber,Ve.column,dt.lineNumber,dt.column),text:Ee.newText}});this._applyUndoRedoEdits(fe,N,!1,!0,z,oe)}_applyUndoRedoEdits(d,N,z,oe,fe,Ee){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=z,this._isRedoing=oe,this.applyEdits(d,!1),this.setEOL(N),this._overwriteAlternativeVersionId(fe)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(Ee),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(d,N=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const z=this._validateEditOperations(d);return this._doApplyEdits(z,N)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(d,N){const z=this._buffer.getLineCount(),oe=this._buffer.applyEdits(d,this._options.trimAutoWhitespace,N),fe=this._buffer.getLineCount(),Ee=oe.changes;if(this._trimAutoWhitespaceLines=oe.trimAutoWhitespaceLineNumbers,Ee.length!==0){for(let At=0,Ct=Ee.length;At<Ct;At++){const Dt=Ee[At],[$t,si,ui]=(0,Ui.QZ)(Dt.text);this._tokens.acceptEdit(Dt.range,$t,si),this._tokens2.acceptEdit(Dt.range,$t,si,ui,Dt.text.length>0?Dt.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(Dt.rangeOffset,Dt.rangeLength,Dt.text.length,Dt.forceMoveMarkers)}let Ve=[];this._increaseVersionId();let dt=z;for(let At=0,Ct=Ee.length;At<Ct;At++){const Dt=Ee[At],[$t]=(0,Ui.QZ)(Dt.text);this._onDidChangeDecorations.fire();const si=Dt.range.startLineNumber,ui=Dt.range.endLineNumber,Ti=ui-si,Fi=$t,Zi=Math.min(Ti,Fi),yn=Fi-Ti,as=fe-dt-yn+si,wn=as,rn=as+Fi,oo=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new k.L(wn,1)),this.getOffsetAt(new k.L(rn,this.getLineMaxColumn(rn))),0),Ks=Bn.gk.fromDecorations(oo),js=new Xi.H9(Ks);for(let Us=Zi;Us>=0;Us--){const dr=si+Us,cr=as+Us;js.takeFromEndWhile(br=>br.lineNumber>cr);const pr=js.takeFromEndWhile(br=>br.lineNumber===cr);Ve.push(new Bn.rU(dr,this.getLineContent(cr),pr))}if(Zi<Ti){const Us=si+Zi;Ve.push(new Bn.lN(Us+1,ui))}if(Zi<Fi){const Us=new Xi.H9(Ks),dr=si+Zi,cr=Fi-Zi,pr=fe-dt-cr+dr+1;let br=[],Ar=[];for(let wr=0;wr<cr;wr++){let Or=pr+wr;Ar[wr]=this.getLineContent(Or),Us.takeWhile($r=>$r.lineNumber<Or),br[wr]=Us.takeWhile($r=>$r.lineNumber===Or)}Ve.push(new Bn.Tx(dr+1,si+Fi,Ar,br))}dt+=yn}this._emitContentChangedEvent(new Bn.dQ(Ve,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:Ee,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return oe.reverseEdits===null?void 0:oe.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(d){if(d===null||d.size===0)return;const z=[...d].map(oe=>new Bn.rU(oe,this.getLineContent(oe),this._getInjectedTextInLine(oe)));this._onDidChangeContentOrInjectedText.fire(new Bn.D8(z))}changeDecorations(d,N=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(N,d)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(d,N){let z={addDecoration:(fe,Ee)=>this._deltaDecorationsImpl(d,[],[{range:fe,options:Ee}])[0],changeDecoration:(fe,Ee)=>{this._changeDecorationImpl(fe,Ee)},changeDecorationOptions:(fe,Ee)=>{this._changeDecorationOptionsImpl(fe,gs(Ee))},removeDecoration:fe=>{this._deltaDecorationsImpl(d,[fe],[])},deltaDecorations:(fe,Ee)=>fe.length===0&&Ee.length===0?[]:this._deltaDecorationsImpl(d,fe,Ee)},oe=null;try{oe=N(z)}catch(fe){(0,g.dL)(fe)}return z.addDecoration=pe,z.changeDecoration=pe,z.changeDecorationOptions=pe,z.removeDecoration=pe,z.deltaDecorations=pe,oe}deltaDecorations(d,N,z=0){if(this._assertNotDisposed(),d||(d=[]),d.length===0&&N.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(z,d,N)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(d){return this.getDecorationRange(d)}_setTrackedRange(d,N,z){const oe=d?this._decorations[d]:null;if(!oe)return N?this._deltaDecorationsImpl(0,[],[{range:N,options:$i[z]}])[0]:null;if(!N)return this._decorationsTree.delete(oe),delete this._decorations[oe.id],null;const fe=this._validateRangeRelaxedNoAllocations(N),Ee=this._buffer.getOffsetAt(fe.startLineNumber,fe.startColumn),Ve=this._buffer.getOffsetAt(fe.endLineNumber,fe.endColumn);return this._decorationsTree.delete(oe),oe.reset(this.getVersionId(),Ee,Ve,fe),oe.setOptions($i[z]),this._decorationsTree.insert(oe),oe.id}removeAllDecorationsWithOwnerId(d){if(this._isDisposed)return;const N=this._decorationsTree.collectNodesFromOwner(d);for(let z=0,oe=N.length;z<oe;z++){const fe=N[z];this._decorationsTree.delete(fe),delete this._decorations[fe.id]}}getDecorationOptions(d){const N=this._decorations[d];return N?N.options:null}getDecorationRange(d){const N=this._decorations[d];return N?this._decorationsTree.getNodeRange(this,N):null}getLineDecorations(d,N=0,z=!1){return d<1||d>this.getLineCount()?[]:this.getLinesDecorations(d,d,N,z)}getLinesDecorations(d,N,z=0,oe=!1){let fe=this.getLineCount(),Ee=Math.min(fe,Math.max(1,d)),Ve=Math.min(fe,Math.max(1,N)),dt=this.getLineMaxColumn(Ve);const At=new P.e(Ee,1,Ve,dt),Ct=this._getDecorationsInRange(At,z,oe);return Ct.push(...this._decorationProvider.getDecorationsInRange(At,z,oe)),Ct}getDecorationsInRange(d,N=0,z=!1){let oe=this.validateRange(d);const fe=this._getDecorationsInRange(oe,N,z);return fe.push(...this._decorationProvider.getDecorationsInRange(oe,N,z)),fe}getOverviewRulerDecorations(d=0,N=!1){return this._decorationsTree.getAll(this,d,N,!0)}getInjectedTextDecorations(d=0){return this._decorationsTree.getAllInjectedText(this,d)}_getInjectedTextInLine(d){const N=this._buffer.getOffsetAt(d,1),z=N+this._buffer.getLineLength(d),oe=this._decorationsTree.getInjectedTextInInterval(this,N,z,0);return Bn.gk.fromDecorations(oe).filter(fe=>fe.lineNumber===d)}getAllDecorations(d=0,N=!1){let z=this._decorationsTree.getAll(this,d,N,!1);return z=z.concat(this._decorationProvider.getAllDecorations(d,N)),z}_getDecorationsInRange(d,N,z){const oe=this._buffer.getOffsetAt(d.startLineNumber,d.startColumn),fe=this._buffer.getOffsetAt(d.endLineNumber,d.endColumn);return this._decorationsTree.getAllInInterval(this,oe,fe,N,z)}getRangeAt(d,N){return this._buffer.getRangeAt(d,N-d)}_changeDecorationImpl(d,N){const z=this._decorations[d];if(!z)return;if(z.options.after){const Ve=this.getDecorationRange(d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ve.endLineNumber)}if(z.options.before){const Ve=this.getDecorationRange(d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ve.startLineNumber)}const oe=this._validateRangeRelaxedNoAllocations(N),fe=this._buffer.getOffsetAt(oe.startLineNumber,oe.startColumn),Ee=this._buffer.getOffsetAt(oe.endLineNumber,oe.endColumn);this._decorationsTree.delete(z),z.reset(this.getVersionId(),fe,Ee,oe),this._decorationsTree.insert(z),this._onDidChangeDecorations.checkAffectedAndFire(z.options),z.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(oe.endLineNumber),z.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(oe.startLineNumber)}_changeDecorationOptionsImpl(d,N){const z=this._decorations[d];if(!z)return;const oe=!!(z.options.overviewRuler&&z.options.overviewRuler.color),fe=!!(N.overviewRuler&&N.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(z.options),this._onDidChangeDecorations.checkAffectedAndFire(N),z.options.after||N.after){const Ee=this._decorationsTree.getNodeRange(this,z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.endLineNumber)}if(z.options.before||N.before){const Ee=this._decorationsTree.getNodeRange(this,z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.startLineNumber)}oe!==fe?(this._decorationsTree.delete(z),z.setOptions(N),this._decorationsTree.insert(z)):z.setOptions(N)}_deltaDecorationsImpl(d,N,z){const oe=this.getVersionId(),fe=N.length;let Ee=0;const Ve=z.length;let dt=0,At=new Array(Ve);for(;Ee<fe||dt<Ve;){let Ct=null;if(Ee<fe){do Ct=this._decorations[N[Ee++]];while(!Ct&&Ee<fe);if(Ct){if(Ct.options.after){const Dt=this._decorationsTree.getNodeRange(this,Ct);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Dt.endLineNumber)}if(Ct.options.before){const Dt=this._decorationsTree.getNodeRange(this,Ct);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Dt.startLineNumber)}this._decorationsTree.delete(Ct),this._onDidChangeDecorations.checkAffectedAndFire(Ct.options)}}if(dt<Ve){if(!Ct){const Fi=++this._lastDecorationId,Zi=`${this._instanceId};${Fi}`;Ct=new K(Zi,0,0),this._decorations[Zi]=Ct}const Dt=z[dt],$t=this._validateRangeRelaxedNoAllocations(Dt.range),si=gs(Dt.options),ui=this._buffer.getOffsetAt($t.startLineNumber,$t.startColumn),Ti=this._buffer.getOffsetAt($t.endLineNumber,$t.endColumn);Ct.ownerId=d,Ct.reset(oe,ui,Ti,$t),Ct.setOptions(si),Ct.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText($t.endLineNumber),Ct.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText($t.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(si),this._decorationsTree.insert(Ct),At[dt]=Ct.id,dt++}else Ct&&delete this._decorations[Ct.id]}return At}setTokens(d,N=!1){if(d.length!==0){let z=[];for(let oe=0,fe=d.length;oe<fe;oe++){const Ee=d[oe];let Ve=0,dt=0,At=!1;for(let Ct=0,Dt=Ee.tokens.length;Ct<Dt;Ct++){const $t=Ee.startLineNumber+Ct;At?(this._tokens.setTokens(this._languageId,$t-1,this._buffer.getLineLength($t),Ee.tokens[Ct],!1),dt=$t):this._tokens.setTokens(this._languageId,$t-1,this._buffer.getLineLength($t),Ee.tokens[Ct],!0)&&(At=!0,Ve=$t,dt=$t)}At&&z.push({fromLineNumber:Ve,toLineNumber:dt})}z.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:z})}this.handleTokenizationProgress(N)}setSemanticTokens(d,N){this._tokens2.set(d,N),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:d!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(d,N){if(this.hasCompleteSemanticTokens())return;const z=this._tokens2.setPartial(d,N);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:z.startLineNumber,toLineNumber:z.endLineNumber}]})}tokenizeViewport(d,N){d=Math.max(1,d),N=Math.min(this._buffer.getLineCount(),N),this._tokenization.tokenizeViewport(d,N)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(d){this._isDisposing||this._onDidChangeTokens.fire(d)}resetTokenization(){this._tokenization.reset()}forceTokenization(d){if(d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(d)}isCheapToTokenize(d){return this._tokenization.isCheapToTokenize(d)}tokenizeIfCheap(d){this.isCheapToTokenize(d)&&this.forceTokenization(d)}getLineTokens(d){if(d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(d)}_getLineTokens(d){const N=this.getLineContent(d),z=this._tokens.getTokens(this._languageId,d-1,N);return this._tokens2.addSemanticTokens(d,z)}getLanguageId(){return this._languageId}setMode(d){if(this._languageId===d)return;let N={oldLanguage:this._languageId,newLanguage:d};this._languageId=d,this._onDidChangeLanguage.fire(N),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(d,N){const z=this.validatePosition(new k.L(d,N)),oe=this.getLineTokens(z.lineNumber);return oe.getLanguageId(oe.findTokenIndexAtOffset(z.column-1))}getLanguageConfiguration(d){return this._languageConfigurationService.getLanguageConfiguration(d)}getWordAtPosition(d){this._assertNotDisposed();const N=this.validatePosition(d),z=this.getLineContent(N.lineNumber),oe=this._getLineTokens(N.lineNumber),fe=oe.findTokenIndexAtOffset(N.column-1),[Ee,Ve]=ra._findLanguageBoundaries(oe,fe),dt=(0,Xt.t2)(N.column,this.getLanguageConfiguration(oe.getLanguageId(fe)).getWordDefinition(),z.substring(Ee,Ve),Ee);if(dt&&dt.startColumn<=d.column&&d.column<=dt.endColumn)return dt;if(fe>0&&Ee===N.column-1){const[At,Ct]=ra._findLanguageBoundaries(oe,fe-1),Dt=(0,Xt.t2)(N.column,this.getLanguageConfiguration(oe.getLanguageId(fe-1)).getWordDefinition(),z.substring(At,Ct),At);if(Dt&&Dt.startColumn<=d.column&&d.column<=Dt.endColumn)return Dt}return null}static _findLanguageBoundaries(d,N){const z=d.getLanguageId(N);let oe=0;for(let Ee=N;Ee>=0&&d.getLanguageId(Ee)===z;Ee--)oe=d.getStartOffset(Ee);let fe=d.getLineContent().length;for(let Ee=N,Ve=d.getCount();Ee<Ve&&d.getLanguageId(Ee)===z;Ee++)fe=d.getEndOffset(Ee);return[oe,fe]}getWordUntilPosition(d){const N=this.getWordAtPosition(d);return N?{word:N.word.substr(0,d.column-N.startColumn),startColumn:N.startColumn,endColumn:d.column}:{word:"",startColumn:d.column,endColumn:d.column}}findMatchingBracketUp(d,N){let z=d.toLowerCase(),oe=this.validatePosition(N),fe=this._getLineTokens(oe.lineNumber),Ee=fe.getLanguageId(fe.findTokenIndexAtOffset(oe.column-1)),Ve=this.getLanguageConfiguration(Ee).brackets;if(!Ve)return null;let dt=Ve.textIsBracket[z];return dt?Ke(this._findMatchingBracketUp(dt,oe,null)):null}matchBracket(d){return this._matchBracket(this.validatePosition(d))}_establishBracketSearchOffsets(d,N,z,oe){const fe=N.getCount(),Ee=N.getLanguageId(oe);let Ve=Math.max(0,d.column-1-z.maxBracketLength);for(let At=oe-1;At>=0;At--){const Ct=N.getEndOffset(At);if(Ct<=Ve)break;if((0,gi.Bu)(N.getStandardTokenType(At))||N.getLanguageId(At)!==Ee){Ve=Ct;break}}let dt=Math.min(N.getLineContent().length,d.column-1+z.maxBracketLength);for(let At=oe+1;At<fe;At++){const Ct=N.getStartOffset(At);if(Ct>=dt)break;if((0,gi.Bu)(N.getStandardTokenType(At))||N.getLanguageId(At)!==Ee){dt=Ct;break}}return{searchStartOffset:Ve,searchEndOffset:dt}}_matchBracket(d){const N=d.lineNumber,z=this._getLineTokens(N),oe=this._buffer.getLineContent(N),fe=z.findTokenIndexAtOffset(d.column-1);if(fe<0)return null;const Ee=this.getLanguageConfiguration(z.getLanguageId(fe)).brackets;if(Ee&&!(0,gi.Bu)(z.getStandardTokenType(fe))){let{searchStartOffset:Ve,searchEndOffset:dt}=this._establishBracketSearchOffsets(d,z,Ee,fe),At=null;for(;;){const Ct=Gi.Vr.findNextBracketInRange(Ee.forwardRegex,N,oe,Ve,dt);if(!Ct)break;if(Ct.startColumn<=d.column&&d.column<=Ct.endColumn){const Dt=oe.substring(Ct.startColumn-1,Ct.endColumn-1).toLowerCase(),$t=this._matchFoundBracket(Ct,Ee.textIsBracket[Dt],Ee.textIsOpenBracket[Dt],null);if($t){if($t instanceof Re)return null;At=$t}}Ve=Ct.endColumn-1}if(At)return At}if(fe>0&&z.getStartOffset(fe)===d.column-1){const Ve=fe-1,dt=this.getLanguageConfiguration(z.getLanguageId(Ve)).brackets;if(dt&&!(0,gi.Bu)(z.getStandardTokenType(Ve))){let{searchStartOffset:At,searchEndOffset:Ct}=this._establishBracketSearchOffsets(d,z,dt,Ve);const Dt=Gi.Vr.findPrevBracketInRange(dt.reversedRegex,N,oe,At,Ct);if(Dt&&Dt.startColumn<=d.column&&d.column<=Dt.endColumn){const $t=oe.substring(Dt.startColumn-1,Dt.endColumn-1).toLowerCase(),si=this._matchFoundBracket(Dt,dt.textIsBracket[$t],dt.textIsOpenBracket[$t],null);if(si)return si instanceof Re?null:si}}}return null}_matchFoundBracket(d,N,z,oe){if(!N)return null;const fe=z?this._findMatchingBracketDown(N,d.getEndPosition(),oe):this._findMatchingBracketUp(N,d.getStartPosition(),oe);return fe?fe instanceof Re?fe:[d,fe]:null}_findMatchingBracketUp(d,N,z){const oe=d.languageId,fe=d.reversedRegex;let Ee=-1,Ve=0;const dt=(At,Ct,Dt,$t)=>{for(;;){if(z&&++Ve%100===0&&!z())return Re.INSTANCE;const si=Gi.Vr.findPrevBracketInRange(fe,At,Ct,Dt,$t);if(!si)break;const ui=Ct.substring(si.startColumn-1,si.endColumn-1).toLowerCase();if(d.isOpen(ui)?Ee++:d.isClose(ui)&&Ee--,Ee===0)return si;$t=si.startColumn-1}return null};for(let At=N.lineNumber;At>=1;At--){const Ct=this._getLineTokens(At),Dt=Ct.getCount(),$t=this._buffer.getLineContent(At);let si=Dt-1,ui=$t.length,Ti=$t.length;At===N.lineNumber&&(si=Ct.findTokenIndexAtOffset(N.column-1),ui=N.column-1,Ti=N.column-1);let Fi=!0;for(;si>=0;si--){const Zi=Ct.getLanguageId(si)===oe&&!(0,gi.Bu)(Ct.getStandardTokenType(si));if(Zi)Fi?ui=Ct.getStartOffset(si):(ui=Ct.getStartOffset(si),Ti=Ct.getEndOffset(si));else if(Fi&&ui!==Ti){const yn=dt(At,$t,ui,Ti);if(yn)return yn}Fi=Zi}if(Fi&&ui!==Ti){const Zi=dt(At,$t,ui,Ti);if(Zi)return Zi}}return null}_findMatchingBracketDown(d,N,z){const oe=d.languageId,fe=d.forwardRegex;let Ee=1,Ve=0;const dt=(Ct,Dt,$t,si)=>{for(;;){if(z&&++Ve%100===0&&!z())return Re.INSTANCE;const ui=Gi.Vr.findNextBracketInRange(fe,Ct,Dt,$t,si);if(!ui)break;const Ti=Dt.substring(ui.startColumn-1,ui.endColumn-1).toLowerCase();if(d.isOpen(Ti)?Ee++:d.isClose(Ti)&&Ee--,Ee===0)return ui;$t=ui.endColumn-1}return null},At=this.getLineCount();for(let Ct=N.lineNumber;Ct<=At;Ct++){const Dt=this._getLineTokens(Ct),$t=Dt.getCount(),si=this._buffer.getLineContent(Ct);let ui=0,Ti=0,Fi=0;Ct===N.lineNumber&&(ui=Dt.findTokenIndexAtOffset(N.column-1),Ti=N.column-1,Fi=N.column-1);let Zi=!0;for(;ui<$t;ui++){const yn=Dt.getLanguageId(ui)===oe&&!(0,gi.Bu)(Dt.getStandardTokenType(ui));if(yn)Zi||(Ti=Dt.getStartOffset(ui)),Fi=Dt.getEndOffset(ui);else if(Zi&&Ti!==Fi){const as=dt(Ct,si,Ti,Fi);if(as)return as}Zi=yn}if(Zi&&Ti!==Fi){const yn=dt(Ct,si,Ti,Fi);if(yn)return yn}}return null}findPrevBracket(d){const N=this.validatePosition(d);let z=null,oe=null;for(let fe=N.lineNumber;fe>=1;fe--){const Ee=this._getLineTokens(fe),Ve=Ee.getCount(),dt=this._buffer.getLineContent(fe);let At=Ve-1,Ct=dt.length,Dt=dt.length;if(fe===N.lineNumber){At=Ee.findTokenIndexAtOffset(N.column-1),Ct=N.column-1,Dt=N.column-1;const si=Ee.getLanguageId(At);z!==si&&(z=si,oe=this.getLanguageConfiguration(z).brackets)}let $t=!0;for(;At>=0;At--){const si=Ee.getLanguageId(At);if(z!==si){if(oe&&$t&&Ct!==Dt){const Ti=Gi.Vr.findPrevBracketInRange(oe.reversedRegex,fe,dt,Ct,Dt);if(Ti)return this._toFoundBracket(oe,Ti);$t=!1}z=si,oe=this.getLanguageConfiguration(z).brackets}const ui=!!oe&&!(0,gi.Bu)(Ee.getStandardTokenType(At));if(ui)$t?Ct=Ee.getStartOffset(At):(Ct=Ee.getStartOffset(At),Dt=Ee.getEndOffset(At));else if(oe&&$t&&Ct!==Dt){const Ti=Gi.Vr.findPrevBracketInRange(oe.reversedRegex,fe,dt,Ct,Dt);if(Ti)return this._toFoundBracket(oe,Ti)}$t=ui}if(oe&&$t&&Ct!==Dt){const si=Gi.Vr.findPrevBracketInRange(oe.reversedRegex,fe,dt,Ct,Dt);if(si)return this._toFoundBracket(oe,si)}}return null}findNextBracket(d){const N=this.validatePosition(d),z=this.getLineCount();let oe=null,fe=null;for(let Ee=N.lineNumber;Ee<=z;Ee++){const Ve=this._getLineTokens(Ee),dt=Ve.getCount(),At=this._buffer.getLineContent(Ee);let Ct=0,Dt=0,$t=0;if(Ee===N.lineNumber){Ct=Ve.findTokenIndexAtOffset(N.column-1),Dt=N.column-1,$t=N.column-1;const ui=Ve.getLanguageId(Ct);oe!==ui&&(oe=ui,fe=this.getLanguageConfiguration(oe).brackets)}let si=!0;for(;Ct<dt;Ct++){const ui=Ve.getLanguageId(Ct);if(oe!==ui){if(fe&&si&&Dt!==$t){const Fi=Gi.Vr.findNextBracketInRange(fe.forwardRegex,Ee,At,Dt,$t);if(Fi)return this._toFoundBracket(fe,Fi);si=!1}oe=ui,fe=this.getLanguageConfiguration(oe).brackets}const Ti=!!fe&&!(0,gi.Bu)(Ve.getStandardTokenType(Ct));if(Ti)si||(Dt=Ve.getStartOffset(Ct)),$t=Ve.getEndOffset(Ct);else if(fe&&si&&Dt!==$t){const Fi=Gi.Vr.findNextBracketInRange(fe.forwardRegex,Ee,At,Dt,$t);if(Fi)return this._toFoundBracket(fe,Fi)}si=Ti}if(fe&&si&&Dt!==$t){const ui=Gi.Vr.findNextBracketInRange(fe.forwardRegex,Ee,At,Dt,$t);if(ui)return this._toFoundBracket(fe,ui)}}return null}findEnclosingBrackets(d,N){let z;if(typeof N=="undefined")z=null;else{const si=Date.now();z=()=>Date.now()-si<=N}const oe=this.validatePosition(d),fe=this.getLineCount(),Ee=new Map;let Ve=[];const dt=(si,ui)=>{if(!Ee.has(si)){let Ti=[];for(let Fi=0,Zi=ui?ui.brackets.length:0;Fi<Zi;Fi++)Ti[Fi]=0;Ee.set(si,Ti)}Ve=Ee.get(si)};let At=0;const Ct=(si,ui,Ti,Fi,Zi)=>{for(;;){if(z&&++At%100===0&&!z())return Re.INSTANCE;const yn=Gi.Vr.findNextBracketInRange(si.forwardRegex,ui,Ti,Fi,Zi);if(!yn)break;const as=Ti.substring(yn.startColumn-1,yn.endColumn-1).toLowerCase(),wn=si.textIsBracket[as];if(wn&&(wn.isOpen(as)?Ve[wn.index]++:wn.isClose(as)&&Ve[wn.index]--,Ve[wn.index]===-1))return this._matchFoundBracket(yn,wn,!1,z);Fi=yn.endColumn-1}return null};let Dt=null,$t=null;for(let si=oe.lineNumber;si<=fe;si++){const ui=this._getLineTokens(si),Ti=ui.getCount(),Fi=this._buffer.getLineContent(si);let Zi=0,yn=0,as=0;if(si===oe.lineNumber){Zi=ui.findTokenIndexAtOffset(oe.column-1),yn=oe.column-1,as=oe.column-1;const rn=ui.getLanguageId(Zi);Dt!==rn&&(Dt=rn,$t=this.getLanguageConfiguration(Dt).brackets,dt(Dt,$t))}let wn=!0;for(;Zi<Ti;Zi++){const rn=ui.getLanguageId(Zi);if(Dt!==rn){if($t&&wn&&yn!==as){const Ks=Ct($t,si,Fi,yn,as);if(Ks)return Ke(Ks);wn=!1}Dt=rn,$t=this.getLanguageConfiguration(Dt).brackets,dt(Dt,$t)}const oo=!!$t&&!(0,gi.Bu)(ui.getStandardTokenType(Zi));if(oo)wn||(yn=ui.getStartOffset(Zi)),as=ui.getEndOffset(Zi);else if($t&&wn&&yn!==as){const Ks=Ct($t,si,Fi,yn,as);if(Ks)return Ke(Ks)}wn=oo}if($t&&wn&&yn!==as){const rn=Ct($t,si,Fi,yn,as);if(rn)return Ke(rn)}}return null}_toFoundBracket(d,N){if(!N)return null;let z=this.getValueInRange(N);z=z.toLowerCase();let oe=d.textIsBracket[z];return oe?{range:N,open:oe.open,close:oe.close,isOpen:d.textIsOpenBracket[z]}:null}static computeIndentLevel(d,N){let z=0,oe=0,fe=d.length;for(;oe<fe;){let Ee=d.charCodeAt(oe);if(Ee===32)z++;else if(Ee===9)z=z-z%N+N;else break;oe++}return oe===fe?-1:z}_computeIndentLevel(d){return ra.computeIndentLevel(this._buffer.getLineContent(d+1),this._options.tabSize)}getActiveIndentGuide(d,N,z){this._assertNotDisposed();const oe=this.getLineCount();if(d<1||d>oe)throw new Error("Illegal value for lineNumber");const fe=this.getLanguageConfiguration(this._languageId).foldingRules,Ee=!!(fe&&fe.offSide);let Ve=-2,dt=-1,At=-2,Ct=-1;const Dt=Ks=>{if(Ve!==-1&&(Ve===-2||Ve>Ks-1)){Ve=-1,dt=-1;for(let js=Ks-2;js>=0;js--){let Us=this._computeIndentLevel(js);if(Us>=0){Ve=js,dt=Us;break}}}if(At===-2){At=-1,Ct=-1;for(let js=Ks;js<oe;js++){let Us=this._computeIndentLevel(js);if(Us>=0){At=js,Ct=Us;break}}}};let $t=-2,si=-1,ui=-2,Ti=-1;const Fi=Ks=>{if($t===-2){$t=-1,si=-1;for(let js=Ks-2;js>=0;js--){let Us=this._computeIndentLevel(js);if(Us>=0){$t=js,si=Us;break}}}if(ui!==-1&&(ui===-2||ui<Ks-1)){ui=-1,Ti=-1;for(let js=Ks;js<oe;js++){let Us=this._computeIndentLevel(js);if(Us>=0){ui=js,Ti=Us;break}}}};let Zi=0,yn=!0,as=0,wn=!0,rn=0,oo=0;for(let Ks=0;yn||wn;Ks++){const js=d-Ks,Us=d+Ks;Ks>1&&(js<1||js<N)&&(yn=!1),Ks>1&&(Us>oe||Us>z)&&(wn=!1),Ks>5e4&&(yn=!1,wn=!1);let dr=-1;if(yn){const pr=this._computeIndentLevel(js-1);pr>=0?(At=js-1,Ct=pr,dr=Math.ceil(pr/this._options.indentSize)):(Dt(js),dr=this._getIndentLevelForWhitespaceLine(Ee,dt,Ct))}let cr=-1;if(wn){const pr=this._computeIndentLevel(Us-1);pr>=0?($t=Us-1,si=pr,cr=Math.ceil(pr/this._options.indentSize)):(Fi(Us),cr=this._getIndentLevelForWhitespaceLine(Ee,si,Ti))}if(Ks===0){oo=dr;continue}if(Ks===1){if(Us<=oe&&cr>=0&&oo+1===cr){yn=!1,Zi=Us,as=Us,rn=cr;continue}if(js>=1&&dr>=0&&dr-1===oo){wn=!1,Zi=js,as=js,rn=dr;continue}if(Zi=d,as=d,rn=oo,rn===0)return{startLineNumber:Zi,endLineNumber:as,indent:rn}}yn&&(dr>=rn?Zi=js:yn=!1),wn&&(cr>=rn?as=Us:wn=!1)}return{startLineNumber:Zi,endLineNumber:as,indent:rn}}getLinesBracketGuides(d,N,z,oe){var fe,Ee,Ve,dt,At;const Ct=[],Dt=this._bracketPairColorizer.getBracketPairsInRangeWithMinIndentation(new P.e(d,1,N,this.getLineMaxColumn(N)));let $t;if(z&&Dt.length>0){const Zi=d<=z.lineNumber&&z.lineNumber<=N?Dt.filter(yn=>yn.range.containsPosition(z)):this._bracketPairColorizer.getBracketPairsInRange(P.e.fromPositions(z));$t=(fe=(0,Xi.dF)(Zi,yn=>yn.range.startLineNumber!==yn.range.endLineNumber))===null||fe===void 0?void 0:fe.range}const si=new Xi.H9(Dt),ui=new Array,Ti=new Array,Fi=new ti;for(let Zi=d;Zi<=N;Zi++){let yn=new Array;Ti.length>0&&(yn=yn.concat(Ti),Ti.length=0),Ct.push(yn);for(const wn of si.takeWhile(rn=>rn.openingBracketRange.startLineNumber<=Zi)||[]){if(wn.range.startLineNumber===wn.range.endLineNumber)continue;const rn=Math.min(this.getVisibleColumnFromPosition(wn.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition((Ve=(Ee=wn.closingBracketRange)===null||Ee===void 0?void 0:Ee.getStartPosition())!==null&&Ve!==void 0?Ve:wn.range.getEndPosition()),wn.minVisibleColumnIndentation+1);let oo=!1;wn.closingBracketRange&&O.LC(this.getLineContent(wn.closingBracketRange.startLineNumber))<wn.closingBracketRange.startColumn-1&&(oo=!0);const Ks=wn.openingBracketRange.getStartPosition(),js=(At=(dt=wn.closingBracketRange)===null||dt===void 0?void 0:dt.getStartPosition())!==null&&At!==void 0?At:wn.range.getEndPosition();wn.closingBracketRange===void 0?ui[wn.nestingLevel]=null:ui[wn.nestingLevel]={nestingLevel:wn.nestingLevel,guideVisibleColumn:rn,start:Ks,visibleStartColumn:this.getVisibleColumnFromPosition(Ks),end:js,visibleEndColumn:this.getVisibleColumnFromPosition(js),bracketPair:wn,renderHorizontalEndLineAtTheBottom:oo}}for(const wn of ui){if(!wn)continue;const rn=$t&&wn.bracketPair.range.equalsRange($t),oo=Fi.getInlineClassNameOfLevel(wn.nestingLevel)+(oe.highlightActive&&rn?" "+Fi.activeClassName:"");(rn&&oe.horizontalGuides!==I.s6.Disabled||oe.includeInactive&&oe.horizontalGuides===I.s6.Enabled)&&(wn.start.lineNumber===Zi&&wn.guideVisibleColumn<wn.visibleStartColumn&&yn.push(new I.UO(wn.guideVisibleColumn,oo,new I.vW(!1,wn.start.column))),wn.end.lineNumber===Zi+1&&wn.guideVisibleColumn<wn.visibleEndColumn&&Ti.push(new I.UO(wn.guideVisibleColumn,oo,new I.vW(!wn.renderHorizontalEndLineAtTheBottom,wn.end.column))))}let as=Number.MAX_SAFE_INTEGER;for(let wn=ui.length-1;wn>=0;wn--){const rn=ui[wn];if(!rn)continue;const oo=oe.highlightActive&&$t&&rn.bracketPair.range.equalsRange($t),Ks=Fi.getInlineClassNameOfLevel(rn.nestingLevel)+(oo?" "+Fi.activeClassName:"");(oo||oe.includeInactive)&&rn.renderHorizontalEndLineAtTheBottom&&rn.end.lineNumber===Zi+1&&Ti.push(new I.UO(rn.guideVisibleColumn,Ks,null)),!(rn.end.lineNumber<=Zi||rn.start.lineNumber>=Zi)&&(rn.guideVisibleColumn>=as&&!oo||(as=rn.guideVisibleColumn,(oo||oe.includeInactive)&&yn.push(new I.UO(rn.guideVisibleColumn,Ks,null))))}yn.sort((wn,rn)=>wn.visibleColumn-rn.visibleColumn)}return Ct}getVisibleColumnFromPosition(d){return Fo.i.visibleColumnFromColumn(this.getLineContent(d.lineNumber),d.column,this._options.tabSize)+1}getLinesIndentGuides(d,N){this._assertNotDisposed();const z=this.getLineCount();if(d<1||d>z)throw new Error("Illegal value for startLineNumber");if(N<1||N>z)throw new Error("Illegal value for endLineNumber");const oe=this.getLanguageConfiguration(this._languageId).foldingRules,fe=!!(oe&&oe.offSide);let Ee=new Array(N-d+1),Ve=-2,dt=-1,At=-2,Ct=-1;for(let Dt=d;Dt<=N;Dt++){let $t=Dt-d;const si=this._computeIndentLevel(Dt-1);if(si>=0){Ve=Dt-1,dt=si,Ee[$t]=Math.ceil(si/this._options.indentSize);continue}if(Ve===-2){Ve=-1,dt=-1;for(let ui=Dt-2;ui>=0;ui--){let Ti=this._computeIndentLevel(ui);if(Ti>=0){Ve=ui,dt=Ti;break}}}if(At!==-1&&(At===-2||At<Dt-1)){At=-1,Ct=-1;for(let ui=Dt;ui<z;ui++){let Ti=this._computeIndentLevel(ui);if(Ti>=0){At=ui,Ct=Ti;break}}}Ee[$t]=this._getIndentLevelForWhitespaceLine(fe,dt,Ct)}return Ee}_getIndentLevelForWhitespaceLine(d,N,z){return N===-1||z===-1?0:N<z?1+Math.floor(N/this._options.indentSize):N===z?Math.ceil(z/this._options.indentSize):d?Math.ceil(z/this._options.indentSize):1+Math.floor(z/this._options.indentSize)}normalizePosition(d,N){return d}getLineIndentColumn(d){return bt(this.getLineContent(d))+1}};_t.MODEL_SYNC_LIMIT=50*1024*1024,_t.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,_t.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,_t.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:J.DB.tabSize,indentSize:J.DB.indentSize,insertSpaces:J.DB.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:J.DB.trimAutoWhitespace,largeFileOptimizations:J.DB.largeFileOptimizations,bracketPairColorizationOptions:J.DB.bracketPairColorizationOptions},_t=tn([yi(4,is.tJ),yi(5,Oi.h),yi(6,ni.c_)],_t);function bt(We){let d=0;for(const N of We)if(N===" "||N==="	")d++;else break;return d}class ti{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(d){return`bracket-indent-guide lvl-${d%30}`}}function Jt(We){return!!(We.options.overviewRuler&&We.options.overviewRuler.color)}function ln(We){return!!We.options.after||!!We.options.before}class An{constructor(){this._decorationsTree0=new ce,this._decorationsTree1=new ce,this._injectedTextDecorationsTree=new ce}ensureAllNodesHaveRanges(d){this.getAll(d,0,!1,!1)}_ensureNodesHaveRanges(d,N){for(const z of N)z.range===null&&(z.range=d.getRangeAt(z.cachedAbsoluteStart,z.cachedAbsoluteEnd));return N}getAllInInterval(d,N,z,oe,fe){const Ee=d.getVersionId(),Ve=this._intervalSearch(N,z,oe,fe,Ee);return this._ensureNodesHaveRanges(d,Ve)}_intervalSearch(d,N,z,oe,fe){const Ee=this._decorationsTree0.intervalSearch(d,N,z,oe,fe),Ve=this._decorationsTree1.intervalSearch(d,N,z,oe,fe),dt=this._injectedTextDecorationsTree.intervalSearch(d,N,z,oe,fe);return Ee.concat(Ve).concat(dt)}getInjectedTextInInterval(d,N,z,oe){const fe=d.getVersionId(),Ee=this._injectedTextDecorationsTree.intervalSearch(N,z,oe,!1,fe);return this._ensureNodesHaveRanges(d,Ee).filter(Ve=>Ve.options.showIfCollapsed||!Ve.range.isEmpty())}getAllInjectedText(d,N){const z=d.getVersionId(),oe=this._injectedTextDecorationsTree.search(N,!1,z);return this._ensureNodesHaveRanges(d,oe).filter(fe=>fe.options.showIfCollapsed||!fe.range.isEmpty())}getAll(d,N,z,oe){const fe=d.getVersionId(),Ee=this._search(N,z,oe,fe);return this._ensureNodesHaveRanges(d,Ee)}_search(d,N,z,oe){if(z)return this._decorationsTree1.search(d,N,oe);{const fe=this._decorationsTree0.search(d,N,oe),Ee=this._decorationsTree1.search(d,N,oe),Ve=this._injectedTextDecorationsTree.search(d,N,oe);return fe.concat(Ee).concat(Ve)}}collectNodesFromOwner(d){const N=this._decorationsTree0.collectNodesFromOwner(d),z=this._decorationsTree1.collectNodesFromOwner(d),oe=this._injectedTextDecorationsTree.collectNodesFromOwner(d);return N.concat(z).concat(oe)}collectNodesPostOrder(){const d=this._decorationsTree0.collectNodesPostOrder(),N=this._decorationsTree1.collectNodesPostOrder(),z=this._injectedTextDecorationsTree.collectNodesPostOrder();return d.concat(N).concat(z)}insert(d){ln(d)?this._injectedTextDecorationsTree.insert(d):Jt(d)?this._decorationsTree1.insert(d):this._decorationsTree0.insert(d)}delete(d){ln(d)?this._injectedTextDecorationsTree.delete(d):Jt(d)?this._decorationsTree1.delete(d):this._decorationsTree0.delete(d)}getNodeRange(d,N){const z=d.getVersionId();return N.cachedVersionId!==z&&this._resolveNode(N,z),N.range===null&&(N.range=d.getRangeAt(N.cachedAbsoluteStart,N.cachedAbsoluteEnd)),N.range}_resolveNode(d,N){ln(d)?this._injectedTextDecorationsTree.resolveNode(d,N):Jt(d)?this._decorationsTree1.resolveNode(d,N):this._decorationsTree0.resolveNode(d,N)}acceptReplace(d,N,z,oe){this._decorationsTree0.acceptReplace(d,N,z,oe),this._decorationsTree1.acceptReplace(d,N,z,oe),this._injectedTextDecorationsTree.acceptReplace(d,N,z,oe)}}function Pi(We){return We.replace(/[^a-z0-9\-_]/gi," ")}class on{constructor(d){this.color=d.color||"",this.darkColor=d.darkColor||""}}class Ln extends on{constructor(d){super(d),this._resolvedColor=null,this.position=typeof d.position=="number"?d.position:I.sh.Center}getColor(d){return this._resolvedColor||(d.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,d):this._resolvedColor=this._resolveColor(this.color,d)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(d,N){if(typeof d=="string")return d;let z=d?N.getColor(d.id):null;return z?z.toString():""}}class Ji extends on{constructor(d){super(d),this.position=d.position}getColor(d){return this._resolvedColor||(d.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,d):this._resolvedColor=this._resolveColor(this.color,d)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(d,N){return typeof d=="string"?ji.Il.fromHex(d):N.getColor(d.id)}}class Kt{constructor(d){this.content=d.content||"",this.inlineClassName=d.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=d.inlineClassNameAffectsLetterSpacing||!1}static from(d){return d instanceof Kt?d:new Kt(d)}}class Si{constructor(d){this.description=d.description,this.stickiness=d.stickiness||0,this.zIndex=d.zIndex||0,this.className=d.className?Pi(d.className):null,this.hoverMessage=d.hoverMessage||null,this.glyphMarginHoverMessage=d.glyphMarginHoverMessage||null,this.isWholeLine=d.isWholeLine||!1,this.showIfCollapsed=d.showIfCollapsed||!1,this.collapseOnReplaceEdit=d.collapseOnReplaceEdit||!1,this.overviewRuler=d.overviewRuler?new Ln(d.overviewRuler):null,this.minimap=d.minimap?new Ji(d.minimap):null,this.glyphMarginClassName=d.glyphMarginClassName?Pi(d.glyphMarginClassName):null,this.linesDecorationsClassName=d.linesDecorationsClassName?Pi(d.linesDecorationsClassName):null,this.firstLineDecorationClassName=d.firstLineDecorationClassName?Pi(d.firstLineDecorationClassName):null,this.marginClassName=d.marginClassName?Pi(d.marginClassName):null,this.inlineClassName=d.inlineClassName?Pi(d.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=d.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=d.beforeContentClassName?Pi(d.beforeContentClassName):null,this.afterContentClassName=d.afterContentClassName?Pi(d.afterContentClassName):null,this.after=d.after?Kt.from(d.after):null,this.before=d.before?Kt.from(d.before):null}static register(d){return new Si(d)}static createDynamic(d){return new Si(d)}}Si.EMPTY=Si.register({description:"empty"});const $i=[Si.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Si.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Si.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Si.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function gs(We){return We instanceof Si?We:Si.createDynamic(We)}class bs extends Q.JT{constructor(d){super(),this.handleBeforeFire=d,this._actual=this._register(new Y.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var d;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const N={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(N)}(d=this._affectedInjectedTextLines)===null||d===void 0||d.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(d){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(d)}checkAffectedAndFire(d){this._affectsMinimap||(this._affectsMinimap=!!(d.minimap&&d.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(d.overviewRuler&&d.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class Rs extends Q.JT{constructor(){super(),this._fastEmitter=this._register(new Y.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new Y.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(d=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=d;const N=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(N),this._slowEmitter.fire(N)}}fire(d){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(d):this._deferredEvent=d;return}this._fastEmitter.fire(d),this._slowEmitter.fire(d)}}},83256:function(Yt,Ue,c){"use strict";c.d(Ue,{CZ:function(){return J},D8:function(){return P},Jx:function(){return g},Tx:function(){return y},dQ:function(){return k},fV:function(){return s},gk:function(){return Y},lN:function(){return O},rU:function(){return Q}});class g{constructor(){this.changeType=1}}class Y{constructor(m,C,V,r,x){this.ownerId=m,this.lineNumber=C,this.column=V,this.options=r,this.order=x}static applyInjectedText(m,C){if(!C||C.length===0)return m;let V="",r=0;for(const x of C)V+=m.substring(r,x.column-1),r=x.column-1,V+=x.options.content;return V+=m.substring(r),V}static fromDecorations(m){const C=[];for(const V of m)V.options.before&&V.options.before.content.length>0&&C.push(new Y(V.ownerId,V.range.startLineNumber,V.range.startColumn,V.options.before,0)),V.options.after&&V.options.after.content.length>0&&C.push(new Y(V.ownerId,V.range.endLineNumber,V.range.endColumn,V.options.after,1));return C.sort((V,r)=>V.lineNumber===r.lineNumber?V.column===r.column?V.order-r.order:V.column-r.column:V.lineNumber-r.lineNumber),C}}class Q{constructor(m,C,V){this.changeType=2,this.lineNumber=m,this.detail=C,this.injectedText=V}}class O{constructor(m,C){this.changeType=3,this.fromLineNumber=m,this.toLineNumber=C}}class y{constructor(m,C,V,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=m,this.toLineNumber=C,this.detail=V}}class J{constructor(){this.changeType=5}}class k{constructor(m,C,V,r){this.changes=m,this.versionId=C,this.isUndoing=V,this.isRedoing=r,this.resultingSelection=null}containsEvent(m){for(let C=0,V=this.changes.length;C<V;C++)if(this.changes[C].changeType===m)return!0;return!1}static merge(m,C){const V=[].concat(m.changes).concat(C.changes),r=C.versionId,x=m.isUndoing||C.isUndoing,w=m.isRedoing||C.isRedoing;return new k(V,r,x,w)}}class P{constructor(m){this.changes=m}}class s{constructor(m,C){this.rawContentChangedEvent=m,this.contentChangedEvent=C}merge(m){const C=k.merge(this.rawContentChangedEvent,m.rawContentChangedEvent),V=s._mergeChangeEvents(this.contentChangedEvent,m.contentChangedEvent);return new s(C,V)}static _mergeChangeEvents(m,C){const V=[].concat(m.changes).concat(C.changes),r=C.eol,x=C.versionId,w=m.isUndoing||C.isUndoing,D=m.isRedoing||C.isRedoing,f=m.isFlush||C.isFlush;return{changes:V,eol:r,versionId:x,isUndoing:w,isRedoing:D,isFlush:f}}}},77277:function(Yt,Ue,c){"use strict";c.d(Ue,{bc:function(){return k},cM:function(){return x},iE:function(){return I},pM:function(){return C},sz:function(){return w}});var g=c(97295),Y=c(59410),Q=c(50187),O=c(24314),y=c(84973);const J=999;class k{constructor(f,v,L,h){this.searchString=f,this.isRegex=v,this.matchCase=L,this.wordSeparators=h}parseSearchRequest(){if(this.searchString==="")return null;let f;this.isRegex?f=P(this.searchString):f=this.searchString.indexOf(`
`)>=0;let v=null;try{v=g.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:f,global:!0,unicode:!0})}catch(h){return null}if(!v)return null;let L=!this.isRegex&&!f;return L&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(L=this.matchCase),new s(v,this.wordSeparators?(0,Y.u)(this.wordSeparators):null,L?this.searchString:null)}}function P(D){if(!D||D.length===0)return!1;for(let f=0,v=D.length;f<v;f++)if(D.charCodeAt(f)===92){if(f++,f>=v)break;const h=D.charCodeAt(f);if(h===110||h===114||h===87)return!0}return!1}class s{constructor(f,v,L){this.regex=f,this.wordSeparators=v,this.simpleSearch=L}}function I(D,f,v){if(!v)return new y.tk(D,null);let L=[];for(let h=0,R=f.length;h<R;h++)L[h]=f[h];return new y.tk(D,L)}class m{constructor(f){let v=[],L=0;for(let h=0,R=f.length;h<R;h++)f.charCodeAt(h)===10&&(v[L++]=h);this._lineFeedsOffsets=v}findLineFeedCountBeforeOffset(f){const v=this._lineFeedsOffsets;let L=0,h=v.length-1;if(h===-1||f<=v[0])return 0;for(;L<h;){const R=L+((h-L)/2>>0);v[R]>=f?h=R-1:v[R+1]>=f?(L=R,h=R):L=R+1}return L+1}}class C{static findMatches(f,v,L,h,R){const T=v.parseSearchRequest();return T?T.regex.multiline?this._doFindMatchesMultiline(f,L,new w(T.wordSeparators,T.regex),h,R):this._doFindMatchesLineByLine(f,L,T,h,R):[]}static _getMultilineMatchRange(f,v,L,h,R,T){let W,K=0;h?(K=h.findLineFeedCountBeforeOffset(R),W=v+R+K):W=v+R;let ie;if(h){let De=h.findLineFeedCountBeforeOffset(R+T.length)-K;ie=W+T.length+De}else ie=W+T.length;const ce=f.getPositionAt(W),_e=f.getPositionAt(ie);return new O.e(ce.lineNumber,ce.column,_e.lineNumber,_e.column)}static _doFindMatchesMultiline(f,v,L,h,R){const T=f.getOffsetAt(v.getStartPosition()),W=f.getValueInRange(v,1),K=f.getEOL()===`\r
`?new m(W):null,ie=[];let ce=0,_e;for(L.reset(0);_e=L.next(W);)if(ie[ce++]=I(this._getMultilineMatchRange(f,T,W,K,_e.index,_e[0]),_e,h),ce>=R)return ie;return ie}static _doFindMatchesLineByLine(f,v,L,h,R){const T=[];let W=0;if(v.startLineNumber===v.endLineNumber){const ie=f.getLineContent(v.startLineNumber).substring(v.startColumn-1,v.endColumn-1);return W=this._findMatchesInLine(L,ie,v.startLineNumber,v.startColumn-1,W,T,h,R),T}const K=f.getLineContent(v.startLineNumber).substring(v.startColumn-1);W=this._findMatchesInLine(L,K,v.startLineNumber,v.startColumn-1,W,T,h,R);for(let ie=v.startLineNumber+1;ie<v.endLineNumber&&W<R;ie++)W=this._findMatchesInLine(L,f.getLineContent(ie),ie,0,W,T,h,R);if(W<R){const ie=f.getLineContent(v.endLineNumber).substring(0,v.endColumn-1);W=this._findMatchesInLine(L,ie,v.endLineNumber,0,W,T,h,R)}return T}static _findMatchesInLine(f,v,L,h,R,T,W,K){const ie=f.wordSeparators;if(!W&&f.simpleSearch){const ve=f.simpleSearch,De=ve.length,le=v.length;let Z=-De;for(;(Z=v.indexOf(ve,Z+De))!==-1;)if((!ie||x(ie,v,le,Z,De))&&(T[R++]=new y.tk(new O.e(L,Z+1+h,L,Z+1+De+h),null),R>=K))return R;return R}const ce=new w(f.wordSeparators,f.regex);let _e;ce.reset(0);do if(_e=ce.next(v),_e&&(T[R++]=I(new O.e(L,_e.index+1+h,L,_e.index+1+_e[0].length+h),_e,W),R>=K))return R;while(_e);return R}static findNextMatch(f,v,L,h){const R=v.parseSearchRequest();if(!R)return null;const T=new w(R.wordSeparators,R.regex);return R.regex.multiline?this._doFindNextMatchMultiline(f,L,T,h):this._doFindNextMatchLineByLine(f,L,T,h)}static _doFindNextMatchMultiline(f,v,L,h){const R=new Q.L(v.lineNumber,1),T=f.getOffsetAt(R),W=f.getLineCount(),K=f.getValueInRange(new O.e(R.lineNumber,R.column,W,f.getLineMaxColumn(W)),1),ie=f.getEOL()===`\r
`?new m(K):null;L.reset(v.column-1);let ce=L.next(K);return ce?I(this._getMultilineMatchRange(f,T,K,ie,ce.index,ce[0]),ce,h):v.lineNumber!==1||v.column!==1?this._doFindNextMatchMultiline(f,new Q.L(1,1),L,h):null}static _doFindNextMatchLineByLine(f,v,L,h){const R=f.getLineCount(),T=v.lineNumber,W=f.getLineContent(T),K=this._findFirstMatchInLine(L,W,T,v.column,h);if(K)return K;for(let ie=1;ie<=R;ie++){const ce=(T+ie-1)%R,_e=f.getLineContent(ce+1),ve=this._findFirstMatchInLine(L,_e,ce+1,1,h);if(ve)return ve}return null}static _findFirstMatchInLine(f,v,L,h,R){f.reset(h-1);const T=f.next(v);return T?I(new O.e(L,T.index+1,L,T.index+1+T[0].length),T,R):null}static findPreviousMatch(f,v,L,h){const R=v.parseSearchRequest();if(!R)return null;const T=new w(R.wordSeparators,R.regex);return R.regex.multiline?this._doFindPreviousMatchMultiline(f,L,T,h):this._doFindPreviousMatchLineByLine(f,L,T,h)}static _doFindPreviousMatchMultiline(f,v,L,h){const R=this._doFindMatchesMultiline(f,new O.e(1,1,v.lineNumber,v.column),L,h,10*J);if(R.length>0)return R[R.length-1];const T=f.getLineCount();return v.lineNumber!==T||v.column!==f.getLineMaxColumn(T)?this._doFindPreviousMatchMultiline(f,new Q.L(T,f.getLineMaxColumn(T)),L,h):null}static _doFindPreviousMatchLineByLine(f,v,L,h){const R=f.getLineCount(),T=v.lineNumber,W=f.getLineContent(T).substring(0,v.column-1),K=this._findLastMatchInLine(L,W,T,h);if(K)return K;for(let ie=1;ie<=R;ie++){const ce=(R+T-ie-1)%R,_e=f.getLineContent(ce+1),ve=this._findLastMatchInLine(L,_e,ce+1,h);if(ve)return ve}return null}static _findLastMatchInLine(f,v,L,h){let R=null,T;for(f.reset(0);T=f.next(v);)R=I(new O.e(L,T.index+1,L,T.index+1+T[0].length),T,h);return R}}function V(D,f,v,L,h){if(L===0)return!0;const R=f.charCodeAt(L-1);if(D.get(R)!==0||R===13||R===10)return!0;if(h>0){const T=f.charCodeAt(L);if(D.get(T)!==0)return!0}return!1}function r(D,f,v,L,h){if(L+h===v)return!0;const R=f.charCodeAt(L+h);if(D.get(R)!==0||R===13||R===10)return!0;if(h>0){const T=f.charCodeAt(L+h-1);if(D.get(T)!==0)return!0}return!1}function x(D,f,v,L,h){return V(D,f,v,L,h)&&r(D,f,v,L,h)}class w{constructor(f,v){this._wordSeparators=f,this._searchRegex=v,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(f){this._searchRegex.lastIndex=f,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(f){const v=f.length;let L;do{if(this._prevMatchStartIndex+this._prevMatchLength===v||(L=this._searchRegex.exec(f),!L))return null;const h=L.index,R=L[0].length;if(h===this._prevMatchStartIndex&&R===this._prevMatchLength){if(R===0){g.ZH(f,v,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=h,this._prevMatchLength=R,!this._wordSeparators||x(this._wordSeparators,f,v,h,R))return L}while(L);return null}}},58409:function(Yt,Ue,c){"use strict";c.d(Ue,{DA:function(){return s},OU:function(){return I},QZ:function(){return J},Rl:function(){return w},Wz:function(){return C},cx:function(){return x}});var g=c(9488),Y=c(78411),Q=c(50187),O=c(24314),y=c(10351);function J(D){let f=0,v=0,L=0,h=0;for(let R=0,T=D.length;R<T;R++){const W=D.charCodeAt(R);W===13?(f===0&&(v=R),f++,R+1<T&&D.charCodeAt(R+1)===10?(h|=2,R++):h|=3,L=R+1):W===10&&(h|=1,f===0&&(v=R),f++,L=R+1)}return f===0&&(v=D.length),[f,v,D.length-L,h]}function k(D){return(D<<0|0|0|16384|2<<23)>>>0}const P=new Uint32Array(0).buffer;class s{constructor(){this.tokens=[]}add(f,v){if(this.tokens.length>0){const L=this.tokens[this.tokens.length-1];if(L.startLineNumber+L.tokens.length-1+1===f){L.tokens.push(v);return}}this.tokens.push(new V(f,[v]))}}class I{constructor(f){this._tokens=f,this._tokenCount=f.length/4}toString(f){let v=[];for(let L=0;L<this._tokenCount;L++)v.push(`(${this._getDeltaLine(L)+f},${this._getStartCharacter(L)}-${this._getEndCharacter(L)})`);return`[${v.join(",")}]`}getMaxDeltaLine(){const f=this._getTokenCount();return f===0?-1:this._getDeltaLine(f-1)}getRange(){const f=this._getTokenCount();if(f===0)return null;const v=this._getStartCharacter(0),L=this._getDeltaLine(f-1),h=this._getEndCharacter(f-1);return new O.e(0,v+1,L,h+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(f){return this._tokens[4*f]}_getStartCharacter(f){return this._tokens[4*f+1]}_getEndCharacter(f){return this._tokens[4*f+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(f){let v=0,L=this._getTokenCount()-1;for(;v<L;){const h=v+Math.floor((L-v)/2),R=this._getDeltaLine(h);if(R<f)v=h+1;else if(R>f)L=h-1;else{let T=h;for(;T>v&&this._getDeltaLine(T-1)===f;)T--;let W=h;for(;W<L&&this._getDeltaLine(W+1)===f;)W++;return new m(this._tokens.subarray(4*T,4*W+4))}}return this._getDeltaLine(v)===f?new m(this._tokens.subarray(4*v,4*v+4)):null}clear(){this._tokenCount=0}removeTokens(f,v,L,h){const R=this._tokens,T=this._tokenCount;let W=0,K=!1,ie=0;for(let ce=0;ce<T;ce++){const _e=4*ce,ve=R[_e],De=R[_e+1],le=R[_e+2],Z=R[_e+3];if((ve>f||ve===f&&le>=v)&&(ve<L||ve===L&&De<=h))K=!0;else{if(W===0&&(ie=ve),K){const $=4*W;R[$]=ve-ie,R[$+1]=De,R[$+2]=le,R[$+3]=Z}W++}}return this._tokenCount=W,ie}split(f,v,L,h){const R=this._tokens,T=this._tokenCount;let W=[],K=[],ie=W,ce=0,_e=0;for(let ve=0;ve<T;ve++){const De=4*ve,le=R[De],Z=R[De+1],$=R[De+2],G=R[De+3];if(le>f||le===f&&$>=v){if(le<L||le===L&&Z<=h)continue;ie!==K&&(ie=K,ce=0,_e=le)}ie[ce++]=le-_e,ie[ce++]=Z,ie[ce++]=$,ie[ce++]=G}return[new I(new Uint32Array(W)),new I(new Uint32Array(K)),_e]}acceptDeleteRange(f,v,L,h,R){const T=this._tokens,W=this._tokenCount,K=h-v;let ie=0,ce=!1;for(let _e=0;_e<W;_e++){const ve=4*_e;let De=T[ve],le=T[ve+1],Z=T[ve+2];const $=T[ve+3];if(De<v||De===v&&Z<=L){ie++;continue}else if(De===v&&le<L)De===h&&Z>R?Z-=R-L:Z=L;else if(De===v&&le===L)if(De===h&&Z>R)Z-=R-L;else{ce=!0;continue}else if(De<h||De===h&&le<R)if(De===h&&Z>R)De===v?(le=L,Z=le+(Z-R)):(le=0,Z=le+(Z-R));else{ce=!0;continue}else if(De>h){if(K===0&&!ce){ie=W;break}De-=K}else if(De===h&&le>=R)f&&De===0&&(le+=f,Z+=f),De-=K,le-=R-L,Z-=R-L;else throw new Error("Not possible!");const G=4*ie;T[G]=De,T[G+1]=le,T[G+2]=Z,T[G+3]=$,ie++}this._tokenCount=ie}acceptInsertText(f,v,L,h,R,T){const W=L===0&&h===1&&(T>=48&&T<=57||T>=65&&T<=90||T>=97&&T<=122),K=this._tokens,ie=this._tokenCount;for(let ce=0;ce<ie;ce++){const _e=4*ce;let ve=K[_e],De=K[_e+1],le=K[_e+2];if(!(ve<f||ve===f&&le<v)){if(ve===f&&le===v)if(W)le+=1;else continue;else if(ve===f&&De<v&&v<le)L===0?le+=h:le=v;else{if(ve===f&&De===v&&W)continue;if(ve===f)if(ve+=L,L===0)De+=h,le+=h;else{const Z=le-De;De=R+(De-v),le=De+Z}else ve+=L}K[_e]=ve,K[_e+1]=De,K[_e+2]=le}}}}class m{constructor(f){this._tokens=f}getCount(){return this._tokens.length/4}getStartCharacter(f){return this._tokens[4*f+1]}getEndCharacter(f){return this._tokens[4*f+2]}getMetadata(f){return this._tokens[4*f+3]}}class C{constructor(f,v){this.startLineNumber=f,this.tokens=v,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(f){return this.startLineNumber<=f&&f<=this.endLineNumber?this.tokens.getLineTokens(f-this.startLineNumber):null}getRange(){const f=this.tokens.getRange();return f&&new O.e(this.startLineNumber+f.startLineNumber,f.startColumn,this.startLineNumber+f.endLineNumber,f.endColumn)}removeTokens(f){const v=f.startLineNumber-this.startLineNumber,L=f.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(v,f.startColumn-1,L,f.endColumn-1),this._updateEndLineNumber()}split(f){const v=f.startLineNumber-this.startLineNumber,L=f.endLineNumber-this.startLineNumber,[h,R,T]=this.tokens.split(v,f.startColumn-1,L,f.endColumn-1);return[new C(this.startLineNumber,h),new C(this.startLineNumber+T,R)]}applyEdit(f,v){const[L,h,R]=J(v);this.acceptEdit(f,L,h,R,v.length>0?v.charCodeAt(0):0)}acceptEdit(f,v,L,h,R){this._acceptDeleteRange(f),this._acceptInsertText(new Q.L(f.startLineNumber,f.startColumn),v,L,h,R),this._updateEndLineNumber()}_acceptDeleteRange(f){if(f.startLineNumber===f.endLineNumber&&f.startColumn===f.endColumn)return;const v=f.startLineNumber-this.startLineNumber,L=f.endLineNumber-this.startLineNumber;if(L<0){const R=L-v;this.startLineNumber-=R;return}const h=this.tokens.getMaxDeltaLine();if(!(v>=h+1)){if(v<0&&L>=h+1){this.startLineNumber=0,this.tokens.clear();return}if(v<0){const R=-v;this.startLineNumber-=R,this.tokens.acceptDeleteRange(f.startColumn-1,0,0,L,f.endColumn-1)}else this.tokens.acceptDeleteRange(0,v,f.startColumn-1,L,f.endColumn-1)}}_acceptInsertText(f,v,L,h,R){if(v===0&&L===0)return;const T=f.lineNumber-this.startLineNumber;if(T<0){this.startLineNumber+=v;return}const W=this.tokens.getMaxDeltaLine();T>=W+1||this.tokens.acceptInsertText(T,f.column-1,v,L,h,R)}}class V{constructor(f,v){this.startLineNumber=f,this.tokens=v}}function r(D){return D instanceof Uint32Array?D:new Uint32Array(D)}class x{constructor(f){this._pieces=[],this._isComplete=!1,this._languageIdCodec=f}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(f,v){this._pieces=f||[],this._isComplete=v}setPartial(f,v){let L=f;if(v.length>0){const R=v[0].getRange(),T=v[v.length-1].getRange();if(!R||!T)return f;L=f.plusRange(R).plusRange(T)}let h=null;for(let R=0,T=this._pieces.length;R<T;R++){const W=this._pieces[R];if(W.endLineNumber<L.startLineNumber)continue;if(W.startLineNumber>L.endLineNumber){h=h||{index:R};break}if(W.removeTokens(L),W.isEmpty()){this._pieces.splice(R,1),R--,T--;continue}if(W.endLineNumber<L.startLineNumber)continue;if(W.startLineNumber>L.endLineNumber){h=h||{index:R};continue}const[K,ie]=W.split(L);if(K.isEmpty()){h=h||{index:R};continue}ie.isEmpty()||(this._pieces.splice(R,1,K,ie),R++,T++,h=h||{index:R})}return h=h||{index:this._pieces.length},v.length>0&&(this._pieces=g.Zv(this._pieces,h.index,v)),L}isComplete(){return this._isComplete}addSemanticTokens(f,v){const L=this._pieces;if(L.length===0)return v;const h=x._findFirstPieceWithLine(L,f),R=L[h].getLineTokens(f);if(!R)return v;const T=v.getCount(),W=R.getCount();let K=0,ie=[],ce=0,_e=0;const ve=(De,le)=>{De!==_e&&(_e=De,ie[ce++]=De,ie[ce++]=le)};for(let De=0;De<W;De++){const le=R.getStartCharacter(De),Z=R.getEndCharacter(De),$=R.getMetadata(De),G=(($&1?2048:0)|($&2?4096:0)|($&4?8192:0)|($&8?8372224:0)|($&16?4286578688:0))>>>0,q=~G>>>0;for(;K<T&&v.getEndOffset(K)<=le;)ve(v.getEndOffset(K),v.getMetadata(K)),K++;for(K<T&&v.getStartOffset(K)<le&&ve(le,v.getMetadata(K));K<T&&v.getEndOffset(K)<Z;)ve(v.getEndOffset(K),v.getMetadata(K)&q|$&G),K++;if(K<T)ve(Z,v.getMetadata(K)&q|$&G),v.getEndOffset(K)===Z&&K++;else{const p=Math.min(Math.max(0,K-1),T-1);ve(Z,v.getMetadata(p)&q|$&G)}}for(;K<T;)ve(v.getEndOffset(K),v.getMetadata(K)),K++;return new Y.A(new Uint32Array(ie),v.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(f,v){let L=0,h=f.length-1;for(;L<h;){let R=L+Math.floor((h-L)/2);if(f[R].endLineNumber<v)L=R+1;else if(f[R].startLineNumber>v)h=R-1;else{for(;R>L&&f[R-1].startLineNumber<=v&&v<=f[R-1].endLineNumber;)R--;return R}}return L}acceptEdit(f,v,L,h,R){for(const T of this._pieces)T.acceptEdit(f,v,L,h,R)}}class w{constructor(f){this._lineTokens=[],this._len=0,this._languageIdCodec=f}flush(){this._lineTokens=[],this._len=0}getTokens(f,v,L){let h=null;if(v<this._len&&(h=this._lineTokens[v]),h!==null&&h!==P)return new Y.A(r(h),L,this._languageIdCodec);const R=new Uint32Array(2);return R[0]=L.length,R[1]=k(this._languageIdCodec.encodeLanguageId(f)),new Y.A(R,L,this._languageIdCodec)}static _massageTokens(f,v,L){const h=L?r(L):null;if(v===0){let R=!1;if(h&&h.length>1&&(R=y.NX.getLanguageId(h[1])!==f),!R)return P}if(!h||h.length===0){const R=new Uint32Array(2);return R[0]=v,R[1]=k(f),R.buffer}return h[h.length-2]=v,h.byteOffset===0&&h.byteLength===h.buffer.byteLength?h.buffer:h}_ensureLine(f){for(;f>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(f,v){v!==0&&(f+v>this._len&&(v=this._len-f),this._lineTokens.splice(f,v),this._len-=v)}_insertLines(f,v){if(v===0)return;let L=[];for(let h=0;h<v;h++)L[h]=null;this._lineTokens=g.Zv(this._lineTokens,f,L),this._len+=v}setTokens(f,v,L,h,R){const T=w._massageTokens(this._languageIdCodec.encodeLanguageId(f),L,h);this._ensureLine(v);const W=this._lineTokens[v];return this._lineTokens[v]=T,R?!w._equals(W,T):!1}static _equals(f,v){if(!f||!v)return!f&&!v;const L=r(f),h=r(v);if(L.length!==h.length)return!1;for(let R=0,T=L.length;R<T;R++)if(L[R]!==h[R])return!1;return!0}acceptEdit(f,v,L){this._acceptDeleteRange(f),this._acceptInsertText(new Q.L(f.startLineNumber,f.startColumn),v,L)}_acceptDeleteRange(f){const v=f.startLineNumber-1;if(v>=this._len)return;if(f.startLineNumber===f.endLineNumber){if(f.startColumn===f.endColumn)return;this._lineTokens[v]=w._delete(this._lineTokens[v],f.startColumn-1,f.endColumn-1);return}this._lineTokens[v]=w._deleteEnding(this._lineTokens[v],f.startColumn-1);const L=f.endLineNumber-1;let h=null;L<this._len&&(h=w._deleteBeginning(this._lineTokens[L],f.endColumn-1)),this._lineTokens[v]=w._append(this._lineTokens[v],h),this._deleteLines(f.startLineNumber,f.endLineNumber-f.startLineNumber)}_acceptInsertText(f,v,L){if(v===0&&L===0)return;const h=f.lineNumber-1;if(!(h>=this._len)){if(v===0){this._lineTokens[h]=w._insert(this._lineTokens[h],f.column-1,L);return}this._lineTokens[h]=w._deleteEnding(this._lineTokens[h],f.column-1),this._lineTokens[h]=w._insert(this._lineTokens[h],f.column-1,L),this._insertLines(f.lineNumber,v)}}static _deleteBeginning(f,v){return f===null||f===P?f:w._delete(f,0,v)}static _deleteEnding(f,v){if(f===null||f===P)return f;const L=r(f),h=L[L.length-2];return w._delete(f,v,h)}static _delete(f,v,L){if(f===null||f===P||v===L)return f;const h=r(f),R=h.length>>>1;if(v===0&&h[h.length-2]===L)return P;const T=Y.A.findIndexInTokensArray(h,v),W=T>0?h[T-1<<1]:0,K=h[T<<1];if(L<K){const De=L-v;for(let le=T;le<R;le++)h[le<<1]-=De;return f}let ie,ce;W!==v?(h[T<<1]=v,ie=T+1<<1,ce=v):(ie=T<<1,ce=W);const _e=L-v;for(let De=T+1;De<R;De++){const le=h[De<<1]-_e;le>ce&&(h[ie++]=le,h[ie++]=h[(De<<1)+1],ce=le)}if(ie===h.length)return f;let ve=new Uint32Array(ie);return ve.set(h.subarray(0,ie),0),ve.buffer}static _append(f,v){if(v===P)return f;if(f===P)return v;if(f===null)return f;if(v===null)return null;const L=r(f),h=r(v),R=h.length>>>1;let T=new Uint32Array(L.length+h.length);T.set(L,0);let W=L.length;const K=L[L.length-2];for(let ie=0;ie<R;ie++)T[W++]=h[ie<<1]+K,T[W++]=h[(ie<<1)+1];return T.buffer}static _insert(f,v,L){if(f===null||f===P)return f;const h=r(f),R=h.length>>>1;let T=Y.A.findIndexInTokensArray(h,v);T>0&&h[T-1<<1]===v&&T--;for(let W=T;W<R;W++)h[W<<1]+=L;return f}}},97461:function(Yt,Ue,c){"use strict";c.d(Ue,{Af:function(){return Q},eq:function(){return O},t2:function(){return J},vu:function(){return g}});const g="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function Y(P=""){let s="(-?\\d*\\.\\d\\w*)|([^";for(const I of g)P.indexOf(I)>=0||(s+="\\"+I);return s+="\\s]+)",new RegExp(s,"g")}const Q=Y();function O(P){let s=Q;if(P&&P instanceof RegExp)if(P.global)s=P;else{let I="g";P.ignoreCase&&(I+="i"),P.multiline&&(I+="m"),P.unicode&&(I+="u"),s=new RegExp(P.source,I)}return s.lastIndex=0,s}const y={maxLen:1e3,windowSize:15,timeBudget:150};function J(P,s,I,m,C=y){if(I.length>C.maxLen){let D=P-C.maxLen/2;return D<0?D=0:m+=D,I=I.substring(D,P+C.maxLen/2),J(P,s,I,m,C)}const V=Date.now(),r=P-1-m;let x=-1,w=null;for(let D=1;!(Date.now()-V>=C.timeBudget);D++){const f=r-C.windowSize*D;s.lastIndex=Math.max(0,f);const v=k(s,I,r,x);if(!v&&w||(w=v,f<=0))break;x=f}if(w){let D={word:w[0],startColumn:m+1+w.index,endColumn:m+1+w.index+w[0].length};return s.lastIndex=0,D}return null}function k(P,s,I,m){let C;for(;C=P.exec(s);){const V=C.index||0;if(V<=I&&P.lastIndex>=I)return C;if(m>0&&V>m)return null}return null}},10351:function(Yt,Ue,c){"use strict";c.d(Ue,{H9:function(){return nt},He:function(){return Pe},OH:function(){return kt},KZ:function(){return le},RN:function(){return te},Ct:function(){return B},Az:function(){return It},vH:function(){return p},vN:function(){return ht},K7:function(){return et},wT:function(){return ke},vJ:function(){return q},AD:function(){return ce},aC:function(){return he},xp:function(){return G},vI:function(){return me},mX:function(){return Me},bw:function(){return R},zu:function(){return Z},pM:function(){return it},id:function(){return S},ln:function(){return Mt},FL:function(){return ve},G0:function(){return De},AC:function(){return ze},nD:function(){return $},NX:function(){return v},RW:function(){return at},tA:function(){return de},jr:function(){return h},Sy:function(){return L},vx:function(){return K}});var g=c(70666),Y=c(24314),Q=c(4669),O=c(89954),y=c(5976),J=c(43702),k=c(14118),P=c(55336);function s(rt,Ne,Oe,we){if(Array.isArray(rt)){let Ye=0;for(const st of rt){const Pt=s(st,Ne,Oe,we);if(Pt===10)return Pt;Pt>Ye&&(Ye=Pt)}return Ye}else{if(typeof rt=="string")return we?rt==="*"?5:rt===Oe?10:0:0;if(rt){const{language:Ye,pattern:st,scheme:Pt,hasAccessToAllModels:Qt}=rt;if(!we&&!Qt)return 0;let ci=0;if(Pt)if(Pt===Ne.scheme)ci=10;else if(Pt==="*")ci=5;else return 0;if(Ye)if(Ye===Oe)ci=10;else if(Ye==="*")ci=Math.max(ci,5);else return 0;if(st){let Gt;if(typeof st=="string"?Gt=st:Gt=Object.assign(Object.assign({},st),{base:(0,P.Fv)(st.base)}),Gt===Ne.fsPath||(0,k.EQ)(Gt,Ne.fsPath))ci=10;else return 0}return ci}else return 0}}var I=c(51200);function m(rt){return typeof rt=="string"?!1:Array.isArray(rt)?rt.every(m):!!rt.exclusive}class C{constructor(){this._clock=0,this._entries=[],this._onDidChange=new Q.Q5}get onDidChange(){return this._onDidChange.event}register(Ne,Oe){let we={selector:Ne,provider:Oe,_score:-1,_time:this._clock++};return this._entries.push(we),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,y.OF)(()=>{if(we){let Ye=this._entries.indexOf(we);Ye>=0&&(this._entries.splice(Ye,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),we=void 0)}})}has(Ne){return this.all(Ne).length>0}all(Ne){if(!Ne)return[];this._updateScores(Ne);const Oe=[];for(let we of this._entries)we._score>0&&Oe.push(we.provider);return Oe}ordered(Ne){const Oe=[];return this._orderedForEach(Ne,we=>Oe.push(we.provider)),Oe}orderedGroups(Ne){const Oe=[];let we,Ye;return this._orderedForEach(Ne,st=>{we&&Ye===st._score?we.push(st.provider):(Ye=st._score,we=[st.provider],Oe.push(we))}),Oe}_orderedForEach(Ne,Oe){if(Ne){this._updateScores(Ne);for(const we of this._entries)we._score>0&&Oe(we)}}_updateScores(Ne){let Oe={uri:Ne.uri.toString(),language:Ne.getLanguageId()};if(!(this._lastCandidate&&this._lastCandidate.language===Oe.language&&this._lastCandidate.uri===Oe.uri)){this._lastCandidate=Oe;for(let we of this._entries)if(we._score=s(we.selector,Ne.uri,Ne.getLanguageId(),(0,I.p)(Ne)),m(we.selector)&&we._score>0){for(let Ye of this._entries)Ye._score=0;we._score=1e3;break}this._entries.sort(C._compareByScoreAndTime)}}static _compareByScoreAndTime(Ne,Oe){return Ne._score<Oe._score?1:Ne._score>Oe._score?-1:Ne._time<Oe._time?1:Ne._time>Oe._time?-1:0}}const V=new WeakMap;let r=0;function x(rt){let Ne=V.get(rt);return Ne===void 0&&(Ne=++r,V.set(rt,Ne)),Ne}class w{constructor(Ne,Oe,we=Number.MAX_SAFE_INTEGER){this._registry=Ne,this.min=Oe,this.max=we,this._cache=new LRUCache(50,.7)}_key(Ne){return Ne.id+this._registry.all(Ne).reduce((Oe,we)=>doHash(x(we),Oe),0)}_clamp(Ne){return Ne===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(Ne*1.3)))}get(Ne){const Oe=this._key(Ne),we=this._cache.get(Oe);return this._clamp(we==null?void 0:we.value)}update(Ne,Oe){const we=this._key(Ne);let Ye=this._cache.get(we);return Ye||(Ye=new MovingAverage,this._cache.set(we,Ye)),Ye.update(Oe),this.get(Ne)}}class D{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new Q.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(Ne){this._onDidChange.fire({changedLanguages:Ne,changedColorMap:!1})}register(Ne,Oe){return this._map.set(Ne,Oe),this.fire([Ne]),(0,y.OF)(()=>{this._map.get(Ne)===Oe&&(this._map.delete(Ne),this.fire([Ne]))})}registerPromise(Ne,Oe){let we=null,Ye=!1;return this._promises.set(Ne,Oe.then(st=>{this._promises.delete(Ne),!(Ye||!st)&&(we=this.register(Ne,st))})),(0,y.OF)(()=>{Ye=!0,we&&we.dispose()})}getPromise(Ne){const Oe=this.get(Ne);if(Oe)return Promise.resolve(Oe);const we=this._promises.get(Ne);return we?we.then(Ye=>this.get(Ne)):null}get(Ne){return this._map.get(Ne)||null}setColorMap(Ne){this._colorMap=Ne,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}var f=c(73046);class v{static getLanguageId(Ne){return(Ne&255)>>>0}static getTokenType(Ne){return(Ne&1792)>>>8}static getFontStyle(Ne){return(Ne&14336)>>>11}static getForeground(Ne){return(Ne&8372224)>>>14}static getBackground(Ne){return(Ne&4286578688)>>>23}static getClassNameFromMetadata(Ne){let we="mtk"+this.getForeground(Ne),Ye=this.getFontStyle(Ne);return Ye&1&&(we+=" mtki"),Ye&2&&(we+=" mtkb"),Ye&4&&(we+=" mtku"),we}static getInlineStyleFromMetadata(Ne,Oe){const we=this.getForeground(Ne),Ye=this.getFontStyle(Ne);let st=`color: ${Oe[we]};`;return Ye&1&&(st+="font-style: italic;"),Ye&2&&(st+="font-weight: bold;"),Ye&4&&(st+="text-decoration: underline;"),st}}const L=function(){let rt=Object.create(null);return rt[0]="symbol-method",rt[1]="symbol-function",rt[2]="symbol-constructor",rt[3]="symbol-field",rt[4]="symbol-variable",rt[5]="symbol-class",rt[6]="symbol-struct",rt[7]="symbol-interface",rt[8]="symbol-module",rt[9]="symbol-property",rt[10]="symbol-event",rt[11]="symbol-operator",rt[12]="symbol-unit",rt[13]="symbol-value",rt[14]="symbol-constant",rt[15]="symbol-enum",rt[16]="symbol-enum-member",rt[17]="symbol-keyword",rt[27]="symbol-snippet",rt[18]="symbol-text",rt[19]="symbol-color",rt[20]="symbol-file",rt[21]="symbol-reference",rt[22]="symbol-customcolor",rt[23]="symbol-folder",rt[24]="symbol-type-parameter",rt[25]="account",rt[26]="issues",function(Ne){const Oe=rt[Ne];let we=Oe&&f.fK.get(Oe);return we||(console.info("No codicon found for CompletionItemKind "+Ne),we=f.lA.symbolProperty),we.classNames}}();let h=function(){let rt=Object.create(null);return rt.method=0,rt.function=1,rt.constructor=2,rt.field=3,rt.variable=4,rt.class=5,rt.struct=6,rt.interface=7,rt.module=8,rt.property=9,rt.event=10,rt.operator=11,rt.unit=12,rt.value=13,rt.constant=14,rt.enum=15,rt["enum-member"]=16,rt.enumMember=16,rt.keyword=17,rt.snippet=27,rt.text=18,rt.color=19,rt.file=20,rt.reference=21,rt.customcolor=22,rt.folder=23,rt["type-parameter"]=24,rt.typeParameter=24,rt.account=25,rt.issue=26,function(Ne,Oe){let we=rt[Ne];return typeof we=="undefined"&&!Oe&&(we=9),we}}();var R;(function(rt){rt[rt.Automatic=0]="Automatic",rt[rt.Explicit=1]="Explicit"})(R||(R={}));var T;(function(rt){rt[rt.Invoke=1]="Invoke",rt[rt.TriggerCharacter=2]="TriggerCharacter",rt[rt.ContentChange=3]="ContentChange"})(T||(T={}));var W;(function(rt){rt[rt.Text=0]="Text",rt[rt.Read=1]="Read",rt[rt.Write=2]="Write"})(W||(W={}));function K(rt){return rt&&g.o.isUri(rt.uri)&&Y.e.isIRange(rt.range)&&(Y.e.isIRange(rt.originSelectionRange)||Y.e.isIRange(rt.targetSelectionRange))}var ie;(function(rt){const Ne=new Map;Ne.set("file",0),Ne.set("module",1),Ne.set("namespace",2),Ne.set("package",3),Ne.set("class",4),Ne.set("method",5),Ne.set("property",6),Ne.set("field",7),Ne.set("constructor",8),Ne.set("enum",9),Ne.set("interface",10),Ne.set("function",11),Ne.set("variable",12),Ne.set("constant",13),Ne.set("string",14),Ne.set("number",15),Ne.set("boolean",16),Ne.set("array",17),Ne.set("object",18),Ne.set("key",19),Ne.set("null",20),Ne.set("enum-member",21),Ne.set("struct",22),Ne.set("event",23),Ne.set("operator",24),Ne.set("type-parameter",25);const Oe=new Map;Oe.set(0,"file"),Oe.set(1,"module"),Oe.set(2,"namespace"),Oe.set(3,"package"),Oe.set(4,"class"),Oe.set(5,"method"),Oe.set(6,"property"),Oe.set(7,"field"),Oe.set(8,"constructor"),Oe.set(9,"enum"),Oe.set(10,"interface"),Oe.set(11,"function"),Oe.set(12,"variable"),Oe.set(13,"constant"),Oe.set(14,"string"),Oe.set(15,"number"),Oe.set(16,"boolean"),Oe.set(17,"array"),Oe.set(18,"object"),Oe.set(19,"key"),Oe.set(20,"null"),Oe.set(21,"enum-member"),Oe.set(22,"struct"),Oe.set(23,"event"),Oe.set(24,"operator"),Oe.set(25,"type-parameter");function we(Pt){return Ne.get(Pt)}rt.fromString=we;function Ye(Pt){return Oe.get(Pt)}rt.toString=Ye;function st(Pt,Qt){const ci=Oe.get(Pt);let Gt=ci&&f.fK.get("symbol-"+ci);return Gt||(console.info("No codicon found for SymbolKind "+Pt),Gt=f.lA.symbolProperty),`${Qt?"inline":"block"} ${Gt.classNames}`}rt.toCssClassName=st})(ie||(ie={}));class ce{constructor(Ne){this.value=Ne}}ce.Comment=new ce("comment"),ce.Imports=new ce("imports"),ce.Region=new ce("region");var _e;(function(rt){rt[rt.Other=0]="Other",rt[rt.Type=1]="Type",rt[rt.Parameter=2]="Parameter"})(_e||(_e={}));const ve=new C,De=new C,le=new C,Z=new C,$=new C,G=new C,q=new C,p=new C,S=new C,B=new C,te=new C,me=new C,de=new C,Pe=new C,Me=new C,nt=new C,It=new C,ht=new C,Mt=new C,it=new C,kt=new C,ze=new C,he=new C,ke=new C,et=new C,at=new D},97354:function(Yt,Ue,c){"use strict";c.d(Ue,{V6:function(){return Y},c$:function(){return Q},wU:function(){return g}});var g;(function(y){y[y.None=0]="None",y[y.Indent=1]="Indent",y[y.IndentOutdent=2]="IndentOutdent",y[y.Outdent=3]="Outdent"})(g||(g={}));class Y{constructor(J){if(this._standardAutoClosingPairConditionalBrand=void 0,this.open=J.open,this.close=J.close,this._standardTokenMask=0,Array.isArray(J.notIn))for(let k=0,P=J.notIn.length;k<P;k++)switch(J.notIn[k]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(J){return(this._standardTokenMask&J)===0}}class Q{constructor(J){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const k of J)O(this.autoClosingPairsOpenByStart,k.open.charAt(0),k),O(this.autoClosingPairsOpenByEnd,k.open.charAt(k.open.length-1),k),O(this.autoClosingPairsCloseByStart,k.close.charAt(0),k),O(this.autoClosingPairsCloseByEnd,k.close.charAt(k.close.length-1),k),k.close.length===1&&k.open.length===1&&O(this.autoClosingPairsCloseSingleChar,k.close,k)}}function O(y,J,k){y.has(J)?y.get(J).push(k):y.set(J,[k])}},94660:function(Yt,Ue,c){"use strict";c.d(Ue,{c_:function(){return R},zu:function(){return De},UU:function(){return T}});var g=c(4669),Y=c(5976),Q=c(97295),O=c(97461),y=c(97354),J=c(40764);class k{constructor(p){if(p.autoClosingPairs?this._autoClosingPairs=p.autoClosingPairs.map(S=>new y.V6(S)):p.brackets?this._autoClosingPairs=p.brackets.map(S=>new y.V6({open:S[0],close:S[1]})):this._autoClosingPairs=[],p.colorizedBracketPairs?this._colorizedBracketPairs=P(p.colorizedBracketPairs.map(S=>[S[0],S[1]])):p.brackets?this._colorizedBracketPairs=P(p.brackets.map(S=>[S[0],S[1]]).filter(S=>!(S[0]==="<"&&S[1]===">"))):this._colorizedBracketPairs=[],p.__electricCharacterSupport&&p.__electricCharacterSupport.docComment){const S=p.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new y.V6({open:S.open,close:S.close||""}))}this._autoCloseBefore=typeof p.autoCloseBefore=="string"?p.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=p.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(p,S,B){if(S.getTokenCount()===0)return!0;const te=S.findTokenIndexAtOffset(B-2),me=S.getStandardTokenType(te);return p.isOK(me)}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`;function P(q){return q.filter(([p,S])=>p!==""&&S!=="")}var s=c(34227);class I{constructor(p){this._richEditBrackets=p}getElectricCharacters(){let p=[];if(this._richEditBrackets)for(const S of this._richEditBrackets.brackets)for(const B of S.close){const te=B.charAt(B.length-1);p.push(te)}return p=p.filter((S,B,te)=>te.indexOf(S)===B),p}onElectricCharacter(p,S,B){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const te=S.findTokenIndexAtOffset(B-1);if((0,J.Bu)(S.getStandardTokenType(te)))return null;const me=this._richEditBrackets.reversedRegex,de=S.getLineContent().substring(0,B-1)+p,Pe=s.Vr.findPrevBracketInRange(me,1,de,0,de.length);if(!Pe)return null;const Me=de.substring(Pe.startColumn-1,Pe.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[Me])return null;const It=S.getActualLineContentBefore(Pe.startColumn-1);return/^\s*$/.test(It)?{matchOpenBracket:Me}:null}}function m(q){return q.global&&(q.lastIndex=0),!0}class C{constructor(p){this._indentationRules=p}shouldIncrease(p){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&m(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(p))}shouldDecrease(p){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&m(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(p))}shouldIndentNextLine(p){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&m(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(p))}shouldIgnore(p){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&m(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(p))}getIndentMetadata(p){let S=0;return this.shouldIncrease(p)&&(S+=1),this.shouldDecrease(p)&&(S+=2),this.shouldIndentNextLine(p)&&(S+=4),this.shouldIgnore(p)&&(S+=8),S}}var V=c(17301);class r{constructor(p){p=p||{},p.brackets=p.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],p.brackets.forEach(S=>{const B=r._createOpenBracketRegExp(S[0]),te=r._createCloseBracketRegExp(S[1]);B&&te&&this._brackets.push({open:S[0],openRegExp:B,close:S[1],closeRegExp:te})}),this._regExpRules=p.onEnterRules||[]}onEnter(p,S,B,te){if(p>=3)for(let me=0,de=this._regExpRules.length;me<de;me++){let Pe=this._regExpRules[me];if([{reg:Pe.beforeText,text:B},{reg:Pe.afterText,text:te},{reg:Pe.previousLineText,text:S}].every(nt=>nt.reg?(nt.reg.lastIndex=0,nt.reg.test(nt.text)):!0))return Pe.action}if(p>=2&&B.length>0&&te.length>0)for(let me=0,de=this._brackets.length;me<de;me++){let Pe=this._brackets[me];if(Pe.openRegExp.test(B)&&Pe.closeRegExp.test(te))return{indentAction:y.wU.IndentOutdent}}if(p>=2&&B.length>0){for(let me=0,de=this._brackets.length;me<de;me++)if(this._brackets[me].openRegExp.test(B))return{indentAction:y.wU.Indent}}return null}static _createOpenBracketRegExp(p){let S=Q.ec(p);return/\B/.test(S.charAt(0))||(S="\\b"+S),S+="\\s*$",r._safeRegExp(S)}static _createCloseBracketRegExp(p){let S=Q.ec(p);return/\B/.test(S.charAt(S.length-1))||(S=S+"\\b"),S="^\\s*"+S,r._safeRegExp(S)}static _safeRegExp(p){try{return new RegExp(p)}catch(S){return(0,V.dL)(S),null}}}var x=c(72065),w=c(33108),D=c(71531),f=c(65026),v=function(q,p,S,B){var te=arguments.length,me=te<3?p:B===null?B=Object.getOwnPropertyDescriptor(p,S):B,de;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(q,p,S,B);else for(var Pe=q.length-1;Pe>=0;Pe--)(de=q[Pe])&&(me=(te<3?de(me):te>3?de(p,S,me):de(p,S))||me);return te>3&&me&&Object.defineProperty(p,S,me),me},L=function(q,p){return function(S,B){p(S,B,q)}};class h{constructor(p){this.languageId=p}affects(p){return this.languageId?this.languageId===p:!0}}const R=(0,x.yh)("languageConfigurationService");let T=class extends Y.JT{constructor(p,S){super(),this.configurationService=p,this.modeService=S,this.onDidChangeEmitter=this._register(new g.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const B=new Set(Object.values(K));this._register(this.configurationService.onDidChangeConfiguration(te=>{const me=te.change.keys.some(Pe=>B.has(Pe)),de=te.change.overrides.filter(([Pe,Me])=>Me.some(nt=>B.has(nt))).map(([Pe])=>this.modeService.validateLanguageId(Pe));if(me)this.configurations.clear(),this.onDidChangeEmitter.fire(new h(void 0));else for(const Pe of de)Pe&&(this.configurations.delete(Pe),this.onDidChangeEmitter.fire(new h(Pe)))})),this._register(De.onDidChange(te=>{this.configurations.delete(te.languageId),this.onDidChangeEmitter.fire(new h(te.languageId))}))}getLanguageConfiguration(p){let S=this.configurations.get(p);return S||(S=W(p,this.configurationService,this.modeService),this.configurations.set(p,S)),S}};T=v([L(0,w.Ui),L(1,D.h)],T);function W(q,p,S){let B=De.getLanguageConfiguration(q);if(!B){const Pe=S.validateLanguageId(q);if(!Pe)throw new Error("Unexpected languageId");B=new G(Pe,{})}const te=ie(B.languageId,p),me=Z([B.underlyingConfig,te]);return new G(B.languageId,me)}const K={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function ie(q,p){const S=p.getValue(K.brackets,{overrideIdentifier:q}),B=p.getValue(K.colorizedBracketPairs,{overrideIdentifier:q});return{brackets:ce(S),colorizedBracketPairs:ce(B)}}function ce(q){if(Array.isArray(q))return q.map(p=>{if(!(!Array.isArray(p)||p.length!==2))return[p[0],p[1]]}).filter(p=>!!p)}class _e{constructor(p){this.languageId=p}}class ve{constructor(){this._entries=new Map,this._onDidChange=new g.Q5,this.onDidChange=this._onDidChange.event}register(p,S,B=0){let te=this._entries.get(p);te||(te=new le(p),this._entries.set(p,te));const me=te.register(S,B);return this._onDidChange.fire(new _e(p)),(0,Y.OF)(()=>{me.dispose(),this._onDidChange.fire(new _e(p))})}getLanguageConfiguration(p){let S=this._entries.get(p);return(S==null?void 0:S.getResolvedConfiguration())||null}getIndentationRules(p){const S=this.getLanguageConfiguration(p);return S&&S.indentationRules||null}_getElectricCharacterSupport(p){let S=this.getLanguageConfiguration(p);return S&&S.electricCharacter||null}getElectricCharacters(p){let S=this._getElectricCharacterSupport(p);return S?S.getElectricCharacters():[]}onElectricCharacter(p,S,B){let te=(0,J.wH)(S,B-1),me=this._getElectricCharacterSupport(te.languageId);return me?me.onElectricCharacter(p,te,B-te.firstCharOffset):null}getComments(p){let S=this.getLanguageConfiguration(p);return S&&S.comments||null}_getCharacterPairSupport(p){let S=this.getLanguageConfiguration(p);return S&&S.characterPair||null}getAutoClosingPairs(p){const S=this._getCharacterPairSupport(p);return new y.c$(S?S.getAutoClosingPairs():[])}getAutoCloseBeforeSet(p){let S=this._getCharacterPairSupport(p);return S?S.getAutoCloseBeforeSet():k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(p){let S=this._getCharacterPairSupport(p);return S?S.getSurroundingPairs():[]}shouldAutoClosePair(p,S,B){const te=(0,J.wH)(S,B-1);return k.shouldAutoClosePair(p,te,B-te.firstCharOffset)}getWordDefinition(p){let S=this.getLanguageConfiguration(p);return S?(0,O.eq)(S.wordDefinition||null):(0,O.eq)(null)}getFoldingRules(p){let S=this.getLanguageConfiguration(p);return S?S.foldingRules:{}}getIndentRulesSupport(p){let S=this.getLanguageConfiguration(p);return S&&S.indentRulesSupport||null}getPrecedingValidLine(p,S,B){let te=p.getLanguageIdAtPosition(S,0);if(S>1){let me,de=-1;for(me=S-1;me>=1;me--){if(p.getLanguageIdAtPosition(me,0)!==te)return de;let Pe=p.getLineContent(me);if(B.shouldIgnore(Pe)||/^\s+$/.test(Pe)||Pe===""){de=me;continue}return me}}return-1}getInheritIndentForLine(p,S,B,te=!0){if(p<4)return null;const me=this.getIndentRulesSupport(S.getLanguageId());if(!me)return null;if(B<=1)return{indentation:"",action:null};const de=this.getPrecedingValidLine(S,B,me);if(de<0)return null;if(de<1)return{indentation:"",action:null};const Pe=S.getLineContent(de);if(me.shouldIncrease(Pe)||me.shouldIndentNextLine(Pe))return{indentation:Q.V8(Pe),action:y.wU.Indent,line:de};if(me.shouldDecrease(Pe))return{indentation:Q.V8(Pe),action:null,line:de};{if(de===1)return{indentation:Q.V8(S.getLineContent(de)),action:null,line:de};const Me=de-1,nt=me.getIndentMetadata(S.getLineContent(Me));if(!(nt&3)&&nt&4){let It=0;for(let ht=Me-1;ht>0;ht--)if(!me.shouldIndentNextLine(S.getLineContent(ht))){It=ht;break}return{indentation:Q.V8(S.getLineContent(It+1)),action:null,line:It+1}}if(te)return{indentation:Q.V8(S.getLineContent(de)),action:null,line:de};for(let It=de;It>0;It--){const ht=S.getLineContent(It);if(me.shouldIncrease(ht))return{indentation:Q.V8(ht),action:y.wU.Indent,line:It};if(me.shouldIndentNextLine(ht)){let Mt=0;for(let it=It-1;it>0;it--)if(!me.shouldIndentNextLine(S.getLineContent(It))){Mt=it;break}return{indentation:Q.V8(S.getLineContent(Mt+1)),action:null,line:Mt+1}}else if(me.shouldDecrease(ht))return{indentation:Q.V8(ht),action:null,line:It}}return{indentation:Q.V8(S.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(p,S,B,te,me){if(p<4)return null;const de=this.getLanguageConfiguration(B);if(!de)return null;const Pe=this.getIndentRulesSupport(B);if(!Pe)return null;const Me=this.getInheritIndentForLine(p,S,te),nt=S.getLineContent(te);if(Me){const It=Me.line;if(It!==void 0){const ht=de.onEnter(p,"",S.getLineContent(It),"");if(ht){let Mt=Q.V8(S.getLineContent(It));return ht.removeText&&(Mt=Mt.substring(0,Mt.length-ht.removeText)),ht.indentAction===y.wU.Indent||ht.indentAction===y.wU.IndentOutdent?Mt=me.shiftIndent(Mt):ht.indentAction===y.wU.Outdent&&(Mt=me.unshiftIndent(Mt)),Pe.shouldDecrease(nt)&&(Mt=me.unshiftIndent(Mt)),ht.appendText&&(Mt+=ht.appendText),Q.V8(Mt)}}return Pe.shouldDecrease(nt)?Me.action===y.wU.Indent?Me.indentation:me.unshiftIndent(Me.indentation):Me.action===y.wU.Indent?me.shiftIndent(Me.indentation):Me.indentation}return null}getIndentForEnter(p,S,B,te){if(p<4)return null;S.forceTokenization(B.startLineNumber);const me=S.getLineTokens(B.startLineNumber),de=(0,J.wH)(me,B.startColumn-1),Pe=de.getLineContent();let Me=!1,nt;de.firstCharOffset>0&&me.getLanguageId(0)!==de.languageId?(Me=!0,nt=Pe.substr(0,B.startColumn-1-de.firstCharOffset)):nt=me.getLineContent().substring(0,B.startColumn-1);let It;B.isEmpty()?It=Pe.substr(B.startColumn-1-de.firstCharOffset):It=this.getScopedLineTokens(S,B.endLineNumber,B.endColumn).getLineContent().substr(B.endColumn-1-de.firstCharOffset);const ht=this.getIndentRulesSupport(de.languageId);if(!ht)return null;const Mt=nt,it=Q.V8(nt),kt={getLineTokens:et=>S.getLineTokens(et),getLanguageId:()=>S.getLanguageId(),getLanguageIdAtPosition:(et,at)=>S.getLanguageIdAtPosition(et,at),getLineContent:et=>et===B.startLineNumber?Mt:S.getLineContent(et)},ze=Q.V8(me.getLineContent()),he=this.getInheritIndentForLine(p,kt,B.startLineNumber+1);if(!he){const et=Me?ze:it;return{beforeEnter:et,afterEnter:et}}let ke=Me?ze:he.indentation;return he.action===y.wU.Indent&&(ke=te.shiftIndent(ke)),ht.shouldDecrease(It)&&(ke=te.unshiftIndent(ke)),{beforeEnter:Me?ze:it,afterEnter:ke}}getIndentActionForType(p,S,B,te,me){if(p<4)return null;const de=this.getScopedLineTokens(S,B.startLineNumber,B.startColumn);if(de.firstCharOffset)return null;const Pe=this.getIndentRulesSupport(de.languageId);if(!Pe)return null;const Me=de.getLineContent(),nt=Me.substr(0,B.startColumn-1-de.firstCharOffset);let It;if(B.isEmpty()?It=Me.substr(B.startColumn-1-de.firstCharOffset):It=this.getScopedLineTokens(S,B.endLineNumber,B.endColumn).getLineContent().substr(B.endColumn-1-de.firstCharOffset),!Pe.shouldDecrease(nt+It)&&Pe.shouldDecrease(nt+te+It)){const ht=this.getInheritIndentForLine(p,S,B.startLineNumber,!1);if(!ht)return null;let Mt=ht.indentation;return ht.action!==y.wU.Indent&&(Mt=me.unshiftIndent(Mt)),Mt}return null}getIndentMetadata(p,S){const B=this.getIndentRulesSupport(p.getLanguageId());return!B||S<1||S>p.getLineCount()?null:B.getIndentMetadata(p.getLineContent(S))}getEnterAction(p,S,B){const te=this.getScopedLineTokens(S,B.startLineNumber,B.startColumn),me=this.getLanguageConfiguration(te.languageId);if(!me)return null;const de=te.getLineContent(),Pe=de.substr(0,B.startColumn-1-te.firstCharOffset);let Me;B.isEmpty()?Me=de.substr(B.startColumn-1-te.firstCharOffset):Me=this.getScopedLineTokens(S,B.endLineNumber,B.endColumn).getLineContent().substr(B.endColumn-1-te.firstCharOffset);let nt="";if(B.startLineNumber>1&&te.firstCharOffset===0){const ze=this.getScopedLineTokens(S,B.startLineNumber-1);ze.languageId===te.languageId&&(nt=ze.getLineContent())}const It=me.onEnter(p,nt,Pe,Me);if(!It)return null;const ht=It.indentAction;let Mt=It.appendText;const it=It.removeText||0;Mt?ht===y.wU.Indent&&(Mt="	"+Mt):ht===y.wU.Indent||ht===y.wU.IndentOutdent?Mt="	":Mt="";let kt=this.getIndentationAtPosition(S,B.startLineNumber,B.startColumn);return it&&(kt=kt.substring(0,kt.length-it)),{indentAction:ht,appendText:Mt,removeText:it,indentation:kt}}getIndentationAtPosition(p,S,B){const te=p.getLineContent(S);let me=Q.V8(te);return me.length>B-1&&(me=me.substring(0,B-1)),me}getScopedLineTokens(p,S,B){p.forceTokenization(S);const te=p.getLineTokens(S),me=typeof B=="undefined"?p.getLineMaxColumn(S)-1:B-1;return(0,J.wH)(te,me)}}const De=new ve;class le{constructor(p){this.languageId=p,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(p,S){const B=new $(p,S,++this._order);return this._entries.push(B),this._resolved=null,(0,Y.OF)(()=>{for(let te=0;te<this._entries.length;te++)if(this._entries[te]===B){this._entries.splice(te,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const p=this._resolve();p&&(this._resolved=new G(this.languageId,p))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort($.cmp),Z(this._entries.map(p=>p.configuration)))}}function Z(q){let p={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const S of q)p={comments:S.comments||p.comments,brackets:S.brackets||p.brackets,wordPattern:S.wordPattern||p.wordPattern,indentationRules:S.indentationRules||p.indentationRules,onEnterRules:S.onEnterRules||p.onEnterRules,autoClosingPairs:S.autoClosingPairs||p.autoClosingPairs,surroundingPairs:S.surroundingPairs||p.surroundingPairs,autoCloseBefore:S.autoCloseBefore||p.autoCloseBefore,folding:S.folding||p.folding,colorizedBracketPairs:S.colorizedBracketPairs||p.colorizedBracketPairs,__electricCharacterSupport:S.__electricCharacterSupport||p.__electricCharacterSupport};return p}class ${constructor(p,S,B){this.configuration=p,this.priority=S,this.order=B}static cmp(p,S){return p.priority===S.priority?p.order-S.order:p.priority-S.priority}}class G{constructor(p,S){this.languageId=p,this.underlyingConfig=S,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new r(this.underlyingConfig):null,this.comments=G._handleComments(this.underlyingConfig),this.characterPair=new k(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||O.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new C(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return(0,O.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new s.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new I(this.brackets)),this._electricCharacter}onEnter(p,S,B,te){return this._onEnterSupport?this._onEnterSupport.onEnter(p,S,B,te):null}static _handleComments(p){let S=p.comments;if(!S)return null;let B={};if(S.lineComment&&(B.lineCommentToken=S.lineComment),S.blockComment){let[te,me]=S.blockComment;B.blockCommentStartToken=te,B.blockCommentEndToken=me}return B}}(0,f.z)(R,T)},71144:function(Yt,Ue,c){"use strict";c.d(Ue,{XT:function(){return s},dQ:function(){return P}});var g=c(63580),Y=c(4669),Q=c(94660),O=c(89872),y=c(81170);const J={ModesRegistry:"editor.modesRegistry"};class k{constructor(){this._onDidChangeLanguages=new Y.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(C){return this._languages.push(C),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let V=0,r=this._languages.length;V<r;V++)if(this._languages[V]===C){this._languages.splice(V,1);return}}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}const P=new k;O.B.add(J.ModesRegistry,P);const s="plaintext";P.registerLanguage({id:s,extensions:[".txt"],aliases:[g.N("plainText.alias","Plain Text"),"text"],mimetypes:[y.vW.text]}),Q.zu.register(s,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0)},28111:function(Yt,Ue,c){"use strict";c.d(Ue,{Ri:function(){return y},TG:function(){return O},mh:function(){return J},nO:function(){return Q}});var g=c(85600);class Y{clone(){return this}equals(P){return this===P}}const Q=new Y,O="vs.editor.nullMode";function y(k,P,s,I){return new g.hG([new g.WU(I,"",k)],s)}function J(k,P,s,I){let m=new Uint32Array(2);return m[0]=I,m[1]=(k<<0|0|0|16384|2<<23)>>>0,new g.Hi(m,s===null?Q:s)}},40764:function(Yt,Ue,c){"use strict";c.d(Ue,{Bu:function(){return Q},wH:function(){return g}});function g(O,y){let J=O.getCount(),k=O.findTokenIndexAtOffset(y),P=O.getLanguageId(k),s=k;for(;s+1<J&&O.getLanguageId(s+1)===P;)s++;let I=k;for(;I>0&&O.getLanguageId(I-1)===P;)I--;return new Y(O,P,I,s+1,O.getStartOffset(I),O.getEndOffset(s))}class Y{constructor(y,J,k,P,s,I){this._scopedLineTokensBrand=void 0,this._actual=y,this.languageId=J,this._firstTokenIndex=k,this._lastTokenIndex=P,this.firstCharOffset=s,this._lastCharOffset=I}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(y){return this._actual.getLineContent().substring(0,this.firstCharOffset+y)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(y){return this._actual.findTokenIndexAtOffset(y+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(y){return this._actual.getStandardTokenType(y+this._firstTokenIndex)}}function Q(O){return(O&7)!==0}},34227:function(Yt,Ue,c){"use strict";c.d(Ue,{EA:function(){return J},Vr:function(){return D}});var g=c(97295),Y=c(50072),Q=c(24314);class O{constructor(v,L,h,R,T,W){this._richEditBracketBrand=void 0,this.languageId=v,this.index=L,this.open=h,this.close=R,this.forwardRegex=T,this.reversedRegex=W,this._openSet=O._toSet(this.open),this._closeSet=O._toSet(this.close)}isOpen(v){return this._openSet.has(v)}isClose(v){return this._closeSet.has(v)}static _toSet(v){const L=new Set;for(const h of v)L.add(h);return L}}function y(f){const v=f.length;f=f.map(W=>[W[0].toLowerCase(),W[1].toLowerCase()]);const L=[];for(let W=0;W<v;W++)L[W]=W;const h=(W,K)=>{const[ie,ce]=W,[_e,ve]=K;return ie===_e||ie===ve||ce===_e||ce===ve},R=(W,K)=>{const ie=Math.min(W,K),ce=Math.max(W,K);for(let _e=0;_e<v;_e++)L[_e]===ce&&(L[_e]=ie)};for(let W=0;W<v;W++){const K=f[W];for(let ie=W+1;ie<v;ie++){const ce=f[ie];h(K,ce)&&R(L[W],L[ie])}}const T=[];for(let W=0;W<v;W++){let K=[],ie=[];for(let ce=0;ce<v;ce++)if(L[ce]===W){const[_e,ve]=f[ce];K.push(_e),ie.push(ve)}K.length>0&&T.push({open:K,close:ie})}return T}class J{constructor(v,L){this._richEditBracketsBrand=void 0;const h=y(L);this.brackets=h.map((R,T)=>new O(v,T,R.open,R.close,I(R.open,R.close,h,T),m(R.open,R.close,h,T))),this.forwardRegex=C(this.brackets),this.reversedRegex=V(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const R of this.brackets){for(const T of R.open)this.textIsBracket[T]=R,this.textIsOpenBracket[T]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,T.length);for(const T of R.close)this.textIsBracket[T]=R,this.textIsOpenBracket[T]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,T.length)}}}function k(f,v,L,h){for(let R=0,T=v.length;R<T;R++){if(R===L)continue;const W=v[R];for(const K of W.open)K.indexOf(f)>=0&&h.push(K);for(const K of W.close)K.indexOf(f)>=0&&h.push(K)}}function P(f,v){return f.length-v.length}function s(f){if(f.length<=1)return f;const v=[],L=new Set;for(const h of f)L.has(h)||(v.push(h),L.add(h));return v}function I(f,v,L,h){let R=[];R=R.concat(f),R=R.concat(v);for(let T=0,W=R.length;T<W;T++)k(R[T],L,h,R);return R=s(R),R.sort(P),R.reverse(),x(R)}function m(f,v,L,h){let R=[];R=R.concat(f),R=R.concat(v);for(let T=0,W=R.length;T<W;T++)k(R[T],L,h,R);return R=s(R),R.sort(P),R.reverse(),x(R.map(w))}function C(f){let v=[];for(const L of f){for(const h of L.open)v.push(h);for(const h of L.close)v.push(h)}return v=s(v),x(v)}function V(f){let v=[];for(const L of f){for(const h of L.open)v.push(h);for(const h of L.close)v.push(h)}return v=s(v),x(v.map(w))}function r(f){const v=/^[\w ]+$/.test(f);return f=g.ec(f),v?`\\b${f}\\b`:f}function x(f){let v=`(${f.map(r).join(")|(")})`;return g.GF(v,!0)}const w=function(){function f(h){if(Y.lZ){const R=new Uint16Array(h.length);let T=0;for(let W=h.length-1;W>=0;W--)R[T++]=h.charCodeAt(W);return Y.oe().decode(R)}else{let R=[],T=0;for(let W=h.length-1;W>=0;W--)R[T++]=h.charAt(W);return R.join("")}}let v=null,L=null;return function(R){return v!==R&&(v=R,L=f(v)),L}}();class D{static _findPrevBracketInText(v,L,h,R){let T=h.match(v);if(!T)return null;let W=h.length-(T.index||0),K=T[0].length,ie=R+W;return new Q.e(L,ie-K+1,L,ie+1)}static findPrevBracketInRange(v,L,h,R,T){const K=w(h).substring(h.length-T,h.length-R);return this._findPrevBracketInText(v,L,K,R)}static findNextBracketInText(v,L,h,R){let T=h.match(v);if(!T)return null;let W=T.index||0,K=T[0].length;if(K===0)return null;let ie=R+W;return new Q.e(L,ie+1,L,ie+1+K)}static findNextBracketInRange(v,L,h,R,T){const W=h.substring(R,T);return this.findNextBracketInText(v,L,W,R)}}},55713:function(Yt,Ue,c){"use strict";c.d(Ue,{C:function(){return y},F:function(){return J}});var g=c(97295),Y=c(78411),Q=c(28111);const O={getInitialState:()=>Q.nO,tokenize2:(P,s,I,m)=>(0,Q.mh)(0,P,I,m)};function y(P,s,I=O){return k(P,s,I||O)}function J(P,s,I,m,C,V,r){let x="<div>",w=m,D=0,f=!0;for(let v=0,L=s.getCount();v<L;v++){const h=s.getEndOffset(v);if(h<=m)continue;let R="";for(;w<h&&w<C;w++){const T=P.charCodeAt(w);switch(T){case 9:let W=V-(w+D)%V;for(D+=W-1;W>0;)r&&f?(R+="&#160;",f=!1):(R+=" ",f=!0),W--;break;case 60:R+="&lt;",f=!1;break;case 62:R+="&gt;",f=!1;break;case 38:R+="&amp;",f=!1;break;case 0:R+="&#00;",f=!1;break;case 65279:case 8232:case 8233:case 133:R+="\uFFFD",f=!1;break;case 13:R+="&#8203",f=!1;break;case 32:r&&f?(R+="&#160;",f=!1):(R+=" ",f=!0);break;default:R+=String.fromCharCode(T),f=!1}}if(x+=`<span style="${s.getInlineStyle(v,I)}">${R}</span>`,h>C||w>=C)break}return x+="</div>",x}function k(P,s,I){let m='<div class="monaco-tokenized-source">';const C=g.uq(P);let V=I.getInitialState();for(let r=0,x=C.length;r<x;r++){const w=C[r];r>0&&(m+="<br/>");const D=I.tokenize2(w,!0,V,0);Y.A.convertToEndOffset(D.tokens,w.length);const v=new Y.A(D.tokens,w,s).inflate();let L=0;for(let h=0,R=v.getCount();h<R;h++){const T=v.getClassName(h),W=v.getEndOffset(h);m+=`<span class="${T}">${g.YU(w.substring(L,W))}</span>`,L=W}V=D.endState}return m+="</div>",m}},90469:function(Yt,Ue,c){"use strict";c.d(Ue,{p:function(){return Q}});var g=c(72065);const Q=(0,g.yh)("editorWorkerService")},26479:function(Yt,Ue,c){"use strict";c.d(Ue,{i:function(){return Y}});var g=c(72065);const Y=(0,g.yh)("markerDecorationsService")},71531:function(Yt,Ue,c){"use strict";c.d(Ue,{h:function(){return Y}});var g=c(72065);const Y=(0,g.yh)("modeService")},51200:function(Yt,Ue,c){"use strict";c.d(Ue,{p:function(){return Q},q:function(){return Y}});var g=c(72065);const Y=(0,g.yh)("modelService");function Q(O){return!O.isTooLargeForSyncing()&&!O.isForSimpleWidget}},88216:function(Yt,Ue,c){"use strict";c.d(Ue,{S:function(){return Y}});var g=c(72065);const Y=(0,g.yh)("textModelService")},92550:function(Yt,Ue,c){"use strict";c.d(Ue,{Kp:function(){return Y},k:function(){return y}});var g=c(97295);class Y{constructor(k,P,s,I){this.startColumn=k,this.endColumn=P,this.className=s,this.type=I,this._lineDecorationBrand=void 0}static _equals(k,P){return k.startColumn===P.startColumn&&k.endColumn===P.endColumn&&k.className===P.className&&k.type===P.type}static equalsArr(k,P){const s=k.length,I=P.length;if(s!==I)return!1;for(let m=0;m<s;m++)if(!Y._equals(k[m],P[m]))return!1;return!0}static extractWrapped(k,P,s){if(k.length===0)return k;const I=P+1,m=s+1,C=s-P,V=[];let r=0;for(const x of k)x.endColumn<=I||x.startColumn>=m||(V[r++]=new Y(Math.max(1,x.startColumn-I+1),Math.min(C+1,x.endColumn-I+1),x.className,x.type));return V}static filter(k,P,s,I){if(k.length===0)return[];let m=[],C=0;for(let V=0,r=k.length;V<r;V++){const x=k[V],w=x.range;if(w.endLineNumber<P||w.startLineNumber>P||w.isEmpty()&&(x.type===0||x.type===3))continue;const D=w.startLineNumber===P?w.startColumn:s,f=w.endLineNumber===P?w.endColumn:I;m[C++]=new Y(D,f,x.inlineClassName,x.type)}return m}static _typeCompare(k,P){const s=[2,0,1,3];return s[k]-s[P]}static compare(k,P){if(k.startColumn!==P.startColumn)return k.startColumn-P.startColumn;if(k.endColumn!==P.endColumn)return k.endColumn-P.endColumn;const s=Y._typeCompare(k.type,P.type);return s!==0?s:k.className!==P.className?k.className<P.className?-1:1:0}}class Q{constructor(k,P,s,I){this.startOffset=k,this.endOffset=P,this.className=s,this.metadata=I}}class O{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(k){let P=0;for(let s=0,I=k.length;s<I;s++)P|=k[s];return P}consumeLowerThan(k,P,s){for(;this.count>0&&this.stopOffsets[0]<k;){let I=0;for(;I+1<this.count&&this.stopOffsets[I]===this.stopOffsets[I+1];)I++;s.push(new Q(P,this.stopOffsets[I],this.classNames.join(" "),O._metadata(this.metadata))),P=this.stopOffsets[I]+1,this.stopOffsets.splice(0,I+1),this.classNames.splice(0,I+1),this.metadata.splice(0,I+1),this.count-=I+1}return this.count>0&&P<k&&(s.push(new Q(P,k-1,this.classNames.join(" "),O._metadata(this.metadata))),P=k),P}insert(k,P,s){if(this.count===0||this.stopOffsets[this.count-1]<=k)this.stopOffsets.push(k),this.classNames.push(P),this.metadata.push(s);else for(let I=0;I<this.count;I++)if(this.stopOffsets[I]>=k){this.stopOffsets.splice(I,0,k),this.classNames.splice(I,0,P),this.metadata.splice(I,0,s);break}this.count++}}class y{static normalize(k,P){if(P.length===0)return[];let s=[];const I=new O;let m=0;for(let C=0,V=P.length;C<V;C++){const r=P[C];let x=r.startColumn,w=r.endColumn;const D=r.className,f=r.type===1?2:r.type===2?4:0;if(x>1){const h=k.charCodeAt(x-2);g.ZG(h)&&x--}if(w>1){const h=k.charCodeAt(w-2);g.ZG(h)&&w--}const v=x-1,L=w-2;m=I.consumeLowerThan(v,m,s),I.count===0&&(m=v),I.insert(L,D,f)}return I.consumeLowerThan(1073741824,m,s),s}}},77736:function(Yt,Ue,c){"use strict";c.d(Ue,{IJ:function(){return J},Nd:function(){return k},d1:function(){return I},tF:function(){return C},zG:function(){return y}});var g=c(97295),Y=c(50072),Q=c(92550);class O{constructor(W,K,ie){this._linePartBrand=void 0,this.endIndex=W,this.type=K,this.metadata=ie}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class y{constructor(W,K){this.startOffset=W,this.endOffset=K}equals(W){return this.startOffset===W.startOffset&&this.endOffset===W.endOffset}}class J{constructor(W,K,ie,ce,_e,ve,De,le,Z,$,G,q,p,S,B,te,me,de,Pe){this.useMonospaceOptimizations=W,this.canUseHalfwidthRightwardsArrow=K,this.lineContent=ie,this.continuesWithWrappedLine=ce,this.isBasicASCII=_e,this.containsRTL=ve,this.fauxIndentLength=De,this.lineTokens=le,this.lineDecorations=Z.sort(Q.Kp.compare),this.tabSize=$,this.startVisibleColumn=G,this.spaceWidth=q,this.stopRenderingLineAfter=B,this.renderWhitespace=te==="all"?4:te==="boundary"?1:te==="selection"?2:te==="trailing"?3:0,this.renderControlCharacters=me,this.fontLigatures=de,this.selectionsOnLine=Pe&&Pe.sort((It,ht)=>It.startOffset<ht.startOffset?-1:1);const Me=Math.abs(S-q),nt=Math.abs(p-q);Me<nt?(this.renderSpaceWidth=S,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=p,this.renderSpaceCharCode=183)}sameSelection(W){if(this.selectionsOnLine===null)return W===null;if(W===null||W.length!==this.selectionsOnLine.length)return!1;for(let K=0;K<this.selectionsOnLine.length;K++)if(!this.selectionsOnLine[K].equals(W[K]))return!1;return!0}equals(W){return this.useMonospaceOptimizations===W.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===W.canUseHalfwidthRightwardsArrow&&this.lineContent===W.lineContent&&this.continuesWithWrappedLine===W.continuesWithWrappedLine&&this.isBasicASCII===W.isBasicASCII&&this.containsRTL===W.containsRTL&&this.fauxIndentLength===W.fauxIndentLength&&this.tabSize===W.tabSize&&this.startVisibleColumn===W.startVisibleColumn&&this.spaceWidth===W.spaceWidth&&this.renderSpaceWidth===W.renderSpaceWidth&&this.renderSpaceCharCode===W.renderSpaceCharCode&&this.stopRenderingLineAfter===W.stopRenderingLineAfter&&this.renderWhitespace===W.renderWhitespace&&this.renderControlCharacters===W.renderControlCharacters&&this.fontLigatures===W.fontLigatures&&Q.Kp.equalsArr(this.lineDecorations,W.lineDecorations)&&this.lineTokens.equals(W.lineTokens)&&this.sameSelection(W.selectionsOnLine)}}class k{constructor(W,K){this.partIndex=W,this.charIndex=K}}class P{constructor(W,K){this.length=W,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(W){return(W&4294901760)>>>16}static getCharIndex(W){return(W&65535)>>>0}setColumnInfo(W,K,ie,ce){const _e=(K<<16|ie<<0)>>>0;this._data[W-1]=_e,this._absoluteOffsets[W-1]=ce+ie}getAbsoluteOffset(W){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[W-1]}charOffsetToPartData(W){return this.length===0?0:W<0?this._data[0]:W>=this.length?this._data[this.length-1]:this._data[W]}getDomPosition(W){const K=this.charOffsetToPartData(W-1),ie=P.getPartIndex(K),ce=P.getCharIndex(K);return new k(ie,ce)}getColumn(W,K){return this.partDataToCharOffset(W.partIndex,K,W.charIndex)+1}partDataToCharOffset(W,K,ie){if(this.length===0)return 0;let ce=(W<<16|ie<<0)>>>0,_e=0,ve=this.length-1;for(;_e+1<ve;){let B=_e+ve>>>1,te=this._data[B];if(te===ce)return B;te>ce?ve=B:_e=B}if(_e===ve)return _e;let De=this._data[_e],le=this._data[ve];if(De===ce)return _e;if(le===ce)return ve;let Z=P.getPartIndex(De),$=P.getCharIndex(De),G=P.getPartIndex(le),q;Z!==G?q=K:q=P.getCharIndex(le);let p=ie-$,S=q-ie;return p<=S?_e:ve}}class s{constructor(W,K,ie){this._renderLineOutputBrand=void 0,this.characterMapping=W,this.containsRTL=K,this.containsForeignElements=ie}}function I(T,W){if(T.lineContent.length===0){if(T.lineDecorations.length>0){W.appendASCIIString("<span>");let K=0,ie=0,ce=0;for(const ve of T.lineDecorations)(ve.type===1||ve.type===2)&&(W.appendASCIIString('<span class="'),W.appendASCIIString(ve.className),W.appendASCIIString('"></span>'),ve.type===1&&(ce|=1,K++),ve.type===2&&(ce|=2,ie++));W.appendASCIIString("</span>");const _e=new P(1,K+ie);return _e.setColumnInfo(1,K,0,0),new s(_e,!1,ce)}return W.appendASCIIString("<span><span></span></span>"),new s(new P(0,0),!1,0)}return h(r(T),W)}class m{constructor(W,K,ie,ce){this.characterMapping=W,this.html=K,this.containsRTL=ie,this.containsForeignElements=ce}}function C(T){let W=(0,Y.l$)(1e4),K=I(T,W);return new m(K.characterMapping,W.build(),K.containsRTL,K.containsForeignElements)}class V{constructor(W,K,ie,ce,_e,ve,De,le,Z,$,G,q,p,S,B){this.fontIsMonospace=W,this.canUseHalfwidthRightwardsArrow=K,this.lineContent=ie,this.len=ce,this.isOverflowing=_e,this.parts=ve,this.containsForeignElements=De,this.fauxIndentLength=le,this.tabSize=Z,this.startVisibleColumn=$,this.containsRTL=G,this.spaceWidth=q,this.renderSpaceCharCode=p,this.renderWhitespace=S,this.renderControlCharacters=B}}function r(T){const W=T.lineContent;let K,ie;T.stopRenderingLineAfter!==-1&&T.stopRenderingLineAfter<W.length?(K=!0,ie=T.stopRenderingLineAfter):(K=!1,ie=W.length);let ce=x(T.lineTokens,T.fauxIndentLength,ie);(T.renderWhitespace===4||T.renderWhitespace===1||T.renderWhitespace===2&&T.selectionsOnLine||T.renderWhitespace===3)&&(ce=v(T,W,ie,ce));let _e=0;if(T.lineDecorations.length>0){for(let ve=0,De=T.lineDecorations.length;ve<De;ve++){const le=T.lineDecorations[ve];le.type===3||le.type===1?_e|=1:le.type===2&&(_e|=2)}ce=L(W,ie,ce,T.lineDecorations)}return T.containsRTL||(ce=w(W,ce,!T.isBasicASCII||T.fontLigatures)),T.renderControlCharacters&&!T.isBasicASCII&&(ce=f(W,ce)),new V(T.useMonospaceOptimizations,T.canUseHalfwidthRightwardsArrow,W,ie,K,ce,_e,T.fauxIndentLength,T.tabSize,T.startVisibleColumn,T.containsRTL,T.spaceWidth,T.renderSpaceCharCode,T.renderWhitespace,T.renderControlCharacters)}function x(T,W,K){let ie=[],ce=0;W>0&&(ie[ce++]=new O(W,"",0));for(let _e=0,ve=T.getCount();_e<ve;_e++){const De=T.getEndOffset(_e);if(De<=W)continue;const le=T.getClassName(_e);if(De>=K){ie[ce++]=new O(K,le,0);break}ie[ce++]=new O(De,le,0)}return ie}function w(T,W,K){let ie=0,ce=[],_e=0;if(K)for(let ve=0,De=W.length;ve<De;ve++){const le=W[ve],Z=le.endIndex;if(ie+50<Z){const $=le.type,G=le.metadata;let q=-1,p=ie;for(let S=ie;S<Z;S++)T.charCodeAt(S)===32&&(q=S),q!==-1&&S-p>=50&&(ce[_e++]=new O(q+1,$,G),p=q+1,q=-1);p!==Z&&(ce[_e++]=new O(Z,$,G))}else ce[_e++]=le;ie=Z}else for(let ve=0,De=W.length;ve<De;ve++){const le=W[ve],Z=le.endIndex;let $=Z-ie;if($>50){const G=le.type,q=le.metadata,p=Math.ceil($/50);for(let S=1;S<p;S++){let B=ie+S*50;ce[_e++]=new O(B,G,q)}ce[_e++]=new O(Z,G,q)}else ce[_e++]=le;ie=Z}return ce}function D(T){return T<32?T!==9:T===127||T>=8234&&T<=8238||T>=8294&&T<=8297||T>=8206&&T<=8207||T===1564}function f(T,W){let K=[],ie=new O(0,"",0),ce=0;for(const _e of W){const ve=_e.endIndex;for(;ce<ve;ce++){const De=T.charCodeAt(ce);D(De)&&(ce>ie.endIndex&&(ie=new O(ce,_e.type,_e.metadata),K.push(ie)),ie=new O(ce+1,"mtkcontrol",_e.metadata),K.push(ie))}ce>ie.endIndex&&(ie=new O(ve,_e.type,_e.metadata),K.push(ie))}return K}function v(T,W,K,ie){const ce=T.continuesWithWrappedLine,_e=T.fauxIndentLength,ve=T.tabSize,De=T.startVisibleColumn,le=T.useMonospaceOptimizations,Z=T.selectionsOnLine,$=T.renderWhitespace===1,G=T.renderWhitespace===3,q=T.renderSpaceWidth!==T.spaceWidth;let p=[],S=0,B=0,te=ie[B].type,me=ie[B].endIndex;const de=ie.length;let Pe=!1,Me=g.LC(W),nt;Me===-1?(Pe=!0,Me=K,nt=K):nt=g.ow(W);let It=!1,ht=0,Mt=Z&&Z[ht],it=De%ve;for(let ze=_e;ze<K;ze++){const he=W.charCodeAt(ze);Mt&&ze>=Mt.endOffset&&(ht++,Mt=Z&&Z[ht]);let ke;if(ze<Me||ze>nt)ke=!0;else if(he===9)ke=!0;else if(he===32)if($)if(It)ke=!0;else{const et=ze+1<K?W.charCodeAt(ze+1):0;ke=et===32||et===9}else ke=!0;else ke=!1;if(ke&&Z&&(ke=!!Mt&&Mt.startOffset<=ze&&Mt.endOffset>ze),ke&&G&&(ke=Pe||ze>nt),It){if(!ke||!le&&it>=ve){if(q){const et=S>0?p[S-1].endIndex:_e;for(let at=et+1;at<=ze;at++)p[S++]=new O(at,"mtkw",1)}else p[S++]=new O(ze,"mtkw",1);it=it%ve}}else(ze===me||ke&&ze>_e)&&(p[S++]=new O(ze,te,0),it=it%ve);for(he===9?it=ve:g.K7(he)?it+=2:it++,It=ke;ze===me&&(B++,B<de);)te=ie[B].type,me=ie[B].endIndex}let kt=!1;if(It)if(ce&&$){let ze=K>0?W.charCodeAt(K-1):0,he=K>1?W.charCodeAt(K-2):0;ze===32&&he!==32&&he!==9||(kt=!0)}else kt=!0;if(kt)if(q){const ze=S>0?p[S-1].endIndex:_e;for(let he=ze+1;he<=K;he++)p[S++]=new O(he,"mtkw",1)}else p[S++]=new O(K,"mtkw",1);else p[S++]=new O(K,te,0);return p}function L(T,W,K,ie){ie.sort(Q.Kp.compare);const ce=Q.k.normalize(T,ie),_e=ce.length;let ve=0,De=[],le=0,Z=0;for(let G=0,q=K.length;G<q;G++){const p=K[G],S=p.endIndex,B=p.type,te=p.metadata;for(;ve<_e&&ce[ve].startOffset<S;){const me=ce[ve];if(me.startOffset>Z&&(Z=me.startOffset,De[le++]=new O(Z,B,te)),me.endOffset+1<=S)Z=me.endOffset+1,De[le++]=new O(Z,B+" "+me.className,te|me.metadata),ve++;else{Z=S,De[le++]=new O(Z,B+" "+me.className,te|me.metadata);break}}S>Z&&(Z=S,De[le++]=new O(Z,B,te))}const $=K[K.length-1].endIndex;if(ve<_e&&ce[ve].startOffset===$)for(;ve<_e&&ce[ve].startOffset===$;){const G=ce[ve];De[le++]=new O(Z,G.className,G.metadata),ve++}return De}function h(T,W){const K=T.fontIsMonospace,ie=T.canUseHalfwidthRightwardsArrow,ce=T.containsForeignElements,_e=T.lineContent,ve=T.len,De=T.isOverflowing,le=T.parts,Z=T.fauxIndentLength,$=T.tabSize,G=T.startVisibleColumn,q=T.containsRTL,p=T.spaceWidth,S=T.renderSpaceCharCode,B=T.renderWhitespace,te=T.renderControlCharacters,me=new P(ve+1,le.length);let de=!1,Pe=0,Me=G,nt=0,It=0,ht=0,Mt=0;q?W.appendASCIIString('<span dir="ltr">'):W.appendASCIIString("<span>");for(let it=0,kt=le.length;it<kt;it++){Mt+=ht;const ze=le[it],he=ze.endIndex,ke=ze.type,et=B!==0&&ze.isWhitespace(),at=et&&!K&&(ke==="mtkw"||!ce),rt=Pe===he&&ze.isPseudoAfter();if(nt=0,W.appendASCIIString('<span class="'),W.appendASCIIString(at?"mtkz":ke),W.appendASCII(34),et){let Ne=0;{let Oe=Pe,we=Me;for(;Oe<he;Oe++){const st=(_e.charCodeAt(Oe)===9?$-we%$:1)|0;Ne+=st,Oe>=Z&&(we+=st)}}for(at&&(W.appendASCIIString(' style="width:'),W.appendASCIIString(String(p*Ne)),W.appendASCIIString('px"')),W.appendASCII(62);Pe<he;Pe++){me.setColumnInfo(Pe+1,it-It,nt,Mt),It=0;const Oe=_e.charCodeAt(Pe);let we;if(Oe===9){we=$-Me%$|0,!ie||we>1?W.write1(8594):W.write1(65515);for(let Ye=2;Ye<=we;Ye++)W.write1(160)}else we=1,W.write1(S);nt+=we,Pe>=Z&&(Me+=we)}ht=Ne}else{let Ne=0;for(W.appendASCII(62);Pe<he;Pe++){me.setColumnInfo(Pe+1,it-It,nt,Mt),It=0;const Oe=_e.charCodeAt(Pe);let we=1,Ye=1;switch(Oe){case 9:we=$-Me%$,Ye=we;for(let st=1;st<=we;st++)W.write1(160);break;case 32:W.write1(160);break;case 60:W.appendASCIIString("&lt;");break;case 62:W.appendASCIIString("&gt;");break;case 38:W.appendASCIIString("&amp;");break;case 0:te?W.write1(9216):W.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:W.write1(65533);break;default:g.K7(Oe)&&Ye++,te&&Oe<32?W.write1(9216+Oe):te&&Oe===127?W.write1(9249):te&&D(Oe)?(W.appendASCIIString("[U+"),W.appendASCIIString(R(Oe)),W.appendASCIIString("]"),we=8):W.write1(Oe)}nt+=we,Ne+=we,Pe>=Z&&(Me+=Ye)}ht=Ne}rt?It++:It=0,Pe>=ve&&!de&&ze.isPseudoAfter()&&(de=!0,me.setColumnInfo(Pe+1,it,nt,Mt)),W.appendASCIIString("</span>")}return de||me.setColumnInfo(ve+1,le.length-1,nt,Mt),De&&W.appendASCIIString("<span>&hellip;</span>"),W.appendASCIIString("</span>"),new s(me,q,ce)}function R(T){return T.toString(16).toUpperCase().padStart(4,"0")}},3544:function(Yt,Ue,c){"use strict";c.d(Ue,{T:function(){return Y},o:function(){return Q}});var g=c(85427);class Y{constructor(y,J){this._prefixSumIndexOfResultBrand=void 0,this.index=y,this.remainder=J}}class Q{constructor(y){this.values=y,this.prefixSum=new Uint32Array(y.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(y,J){y=(0,g.A)(y);const k=this.values,P=this.prefixSum,s=J.length;return s===0?!1:(this.values=new Uint32Array(k.length+s),this.values.set(k.subarray(0,y),0),this.values.set(k.subarray(y),y+s),this.values.set(J,y),y-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=y-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(P.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(y,J){return y=(0,g.A)(y),J=(0,g.A)(J),this.values[y]===J?!1:(this.values[y]=J,y-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=y-1),!0)}removeValues(y,J){y=(0,g.A)(y),J=(0,g.A)(J);const k=this.values,P=this.prefixSum;if(y>=k.length)return!1;let s=k.length-y;return J>=s&&(J=s),J===0?!1:(this.values=new Uint32Array(k.length-J),this.values.set(k.subarray(0,y),0),this.values.set(k.subarray(y+J),y),this.prefixSum=new Uint32Array(this.values.length),y-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=y-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(P.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(y){return y<0?0:(y=(0,g.A)(y),this._getPrefixSum(y))}_getPrefixSum(y){if(y<=this.prefixSumValidIndex[0])return this.prefixSum[y];let J=this.prefixSumValidIndex[0]+1;J===0&&(this.prefixSum[0]=this.values[0],J++),y>=this.values.length&&(y=this.values.length-1);for(let k=J;k<=y;k++)this.prefixSum[k]=this.prefixSum[k-1]+this.values[k];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],y),this.prefixSum[y]}getIndexOf(y){y=Math.floor(y),this.getTotalSum();let J=0,k=this.values.length-1,P=0,s=0,I=0;for(;J<=k;)if(P=J+(k-J)/2|0,s=this.prefixSum[P],I=s-this.values[P],y<I)k=P-1;else if(y>=s)J=P+1;else break;return new Y(P,y-I)}}},13824:function(Yt,Ue,c){"use strict";c.d(Ue,{$l:function(){return V},$t:function(){return m},IP:function(){return s},SQ:function(){return r},Wx:function(){return C},l_:function(){return O},le:function(){return J},ud:function(){return P},wA:function(){return I}});var g=c(97295),Y=c(50187),Q=c(24314);class O{constructor(w,D,f,v){this._viewportBrand=void 0,this.top=w|0,this.left=D|0,this.width=f|0,this.height=v|0}}class y{constructor(w,D){this.outputLineIndex=w,this.outputOffset=D}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(w,D){const f=this.outputLineIndex>0?D:0;return new Y.L(w+this.outputLineIndex,f+this.outputOffset+1)}}class J{constructor(w,D,f,v,L){this.breakOffsets=w,this.breakOffsetsVisibleColumn=D,this.wrappedTextIndentLength=f,this.injectionOffsets=v,this.injectionOptions=L}getInputOffsetOfOutputPosition(w,D){let f=0;if(w===0?f=D:f=this.breakOffsets[w-1]+D,this.injectionOffsets!==null)for(let v=0;v<this.injectionOffsets.length&&f>this.injectionOffsets[v];v++)f<this.injectionOffsets[v]+this.injectionOptions[v].content.length?f=this.injectionOffsets[v]:f-=this.injectionOptions[v].content.length;return f}getOutputPositionOfInputOffset(w,D=2){let f=0;if(this.injectionOffsets!==null)for(let v=0;v<this.injectionOffsets.length&&!(w<this.injectionOffsets[v]||D!==1&&w===this.injectionOffsets[v]);v++)f+=this.injectionOptions[v].content.length;return w+=f,this.getOutputPositionOfOffsetInUnwrappedLine(w,D)}getOutputPositionOfOffsetInUnwrappedLine(w,D=2){let f=0,v=this.breakOffsets.length-1,L=0,h=0;for(;f<=v;){L=f+(v-f)/2|0;const R=this.breakOffsets[L];if(h=L>0?this.breakOffsets[L-1]:0,D===0)if(w<=h)v=L-1;else if(w>R)f=L+1;else break;else if(w<h)v=L-1;else if(w>=R)f=L+1;else break}return new y(L,w-h)}outputPositionToOffsetInUnwrappedLine(w,D){let f=(w>0?this.breakOffsets[w-1]:0)+D;return w>0&&(f-=this.wrappedTextIndentLength),f}normalizeOffsetAroundInjections(w,D){const f=this.getInjectedTextAtOffset(w);if(!f)return w;if(D===2)return w===f.offsetInUnwrappedLine+f.length?f.offsetInUnwrappedLine+f.length:f.offsetInUnwrappedLine;if(D===1){let h=f.offsetInUnwrappedLine+f.length,R=f.injectedTextIndex;for(;R+1<this.injectionOffsets.length&&this.injectionOffsets[R+1]===this.injectionOffsets[R];)h+=this.injectionOptions[R+1].content.length,R++;return h}let v=f.offsetInUnwrappedLine,L=f.injectedTextIndex;for(;L-1>=0&&this.injectionOffsets[L-1]===this.injectionOffsets[L];)v-=this.injectionOptions[L-1].content.length,L++;return v}getInjectedText(w,D){const f=this.outputPositionToOffsetInUnwrappedLine(w,D),v=this.getInjectedTextAtOffset(f);return v?{options:this.injectionOptions[v.injectedTextIndex]}:null}getInjectedTextAtOffset(w){const D=this.injectionOffsets,f=this.injectionOptions;if(D!==null){let v=0;for(let L=0;L<D.length;L++){const h=f[L].content.length,R=D[L]+v,T=D[L]+v+h;if(R>w)break;if(w<=T)return{injectedTextIndex:L,offsetInUnwrappedLine:R,length:h};v+=h}}}}class k{constructor(w){this.options=w}}class P{constructor(w,D){this.tabSize=w,this.data=D}}class s{constructor(w,D,f,v,L,h,R){this._viewLineDataBrand=void 0,this.content=w,this.continuesWithWrappedLine=D,this.minColumn=f,this.maxColumn=v,this.startVisibleColumn=L,this.tokens=h,this.inlineDecorations=R}}class I{constructor(w,D,f,v,L,h,R,T,W,K){this.minColumn=w,this.maxColumn=D,this.content=f,this.continuesWithWrappedLine=v,this.isBasicASCII=I.isBasicASCII(f,h),this.containsRTL=I.containsRTL(f,this.isBasicASCII,L),this.tokens=R,this.inlineDecorations=T,this.tabSize=W,this.startVisibleColumn=K}static isBasicASCII(w,D){return D?g.$i(w):!0}static containsRTL(w,D,f){return!D&&f?g.Ut(w):!1}}class m{constructor(w,D,f){this.range=w,this.inlineClassName=D,this.type=f}}class C{constructor(w,D,f,v){this.startOffset=w,this.endOffset=D,this.inlineClassName=f,this.inlineClassNameAffectsLetterSpacing=v}toInlineDecoration(w){return new m(new Q.e(w,this.startOffset+1,w,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class V{constructor(w,D){this._viewModelDecorationBrand=void 0,this.range=w,this.options=D}}class r{constructor(w,D,f){this.color=w,this.zIndex=D,this.data=f}static cmp(w,D){return w.zIndex===D.zIndex?w.color<D.color?-1:w.color>D.color?1:0:w.zIndex-D.zIndex}}},27869:function(Yt,Ue,c){"use strict";c.d(Ue,{CE:function(){return S},DD:function(){return f},DS:function(){return nt},HV:function(){return ke},Jn:function(){return ht},Kh:function(){return y},L7:function(){return he},Mm:function(){return J},N5:function(){return ve},Qb:function(){return it},Re:function(){return $},To:function(){return ze},UP:function(){return B},Vs:function(){return p},YF:function(){return Mt},Ym:function(){return x},eS:function(){return G},e_:function(){return W},f9:function(){return et},fY:function(){return C},hw:function(){return w},kp:function(){return ie},lK:function(){return Z},lS:function(){return It},m$:function(){return Me},m1:function(){return me},m3:function(){return kt},n0:function(){return m},oV:function(){return Pe},r0:function(){return te},tR:function(){return r},ts:function(){return de},x3:function(){return _e},zJ:function(){return q},zk:function(){return v},zu:function(){return ce},zw:function(){return T}});var g=c(63580),Y=c(41264),Q=c(73910),O=c(97781);const y=(0,Q.P6)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},g.N("lineHighlight","Background color for the highlight of line at the cursor position.")),J=(0,Q.P6)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},g.N("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),k=(0,Q.P6)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},g.N("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),P=(0,Q.P6)("editor.rangeHighlightBorder",{dark:null,light:null,hc:Q.xL},g.N("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),s=(0,Q.P6)("editor.symbolHighlightBackground",{dark:Q.MU,light:Q.MU,hc:null},g.N("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),I=(0,Q.P6)("editor.symbolHighlightBorder",{dark:null,light:null,hc:Q.xL},g.N("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),m=(0,Q.P6)("editorCursor.foreground",{dark:"#AEAFAD",light:Y.Il.black,hc:Y.Il.white},g.N("caret","Color of the editor cursor.")),C=(0,Q.P6)("editorCursor.background",null,g.N("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),V=(0,Q.P6)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},g.N("editorWhitespaces","Color of whitespace characters in the editor.")),r=(0,Q.P6)("editorIndentGuide.background",{dark:V,light:V,hc:V},g.N("editorIndentGuides","Color of the editor indentation guides.")),x=(0,Q.P6)("editorIndentGuide.activeBackground",{dark:V,light:V,hc:V},g.N("editorActiveIndentGuide","Color of the active editor indentation guides.")),w=(0,Q.P6)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:Y.Il.white},g.N("editorLineNumbers","Color of editor line numbers.")),D=(0,Q.P6)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:Q.xL},g.N("editorActiveLineNumber","Color of editor active line number"),!1,g.N("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),f=(0,Q.P6)("editorLineNumber.activeForeground",{dark:D,light:D,hc:D},g.N("editorActiveLineNumber","Color of editor active line number")),v=(0,Q.P6)("editorRuler.foreground",{dark:"#5A5A5A",light:Y.Il.lightgrey,hc:Y.Il.white},g.N("editorRuler","Color of the editor rulers.")),L=(0,Q.P6)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},g.N("editorCodeLensForeground","Foreground color of editor CodeLens")),h=(0,Q.P6)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},g.N("editorBracketMatchBackground","Background color behind matching brackets")),R=(0,Q.P6)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:Q.lR},g.N("editorBracketMatchBorder","Color for matching brackets boxes")),T=(0,Q.P6)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},g.N("editorOverviewRulerBorder","Color of the overview ruler border.")),W=(0,Q.P6)("editorOverviewRuler.background",null,g.N("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),K=(0,Q.P6)("editorGutter.background",{dark:Q.cv,light:Q.cv,hc:Q.cv},g.N("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),ie=(0,Q.P6)("editorUnnecessaryCode.border",{dark:null,light:null,hc:Y.Il.fromHex("#fff").transparent(.8)},g.N("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),ce=(0,Q.P6)("editorUnnecessaryCode.opacity",{dark:Y.Il.fromHex("#000a"),light:Y.Il.fromHex("#0007"),hc:null},g.N("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),_e=(0,Q.P6)("editorGhostText.border",{dark:null,light:null,hc:Y.Il.fromHex("#fff").transparent(.8)},g.N("editorGhostTextBorder","Border color of ghost text in the editor.")),ve=(0,Q.P6)("editorGhostText.foreground",{dark:Y.Il.fromHex("#ffffff56"),light:Y.Il.fromHex("#0007"),hc:null},g.N("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),De=new Y.Il(new Y.VS(0,122,204,.6)),le=(0,Q.P6)("editorOverviewRuler.rangeHighlightForeground",{dark:De,light:De,hc:De},g.N("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Z=(0,Q.P6)("editorOverviewRuler.errorForeground",{dark:new Y.Il(new Y.VS(255,18,18,.7)),light:new Y.Il(new Y.VS(255,18,18,.7)),hc:new Y.Il(new Y.VS(255,50,50,1))},g.N("overviewRuleError","Overview ruler marker color for errors.")),$=(0,Q.P6)("editorOverviewRuler.warningForeground",{dark:Q.uo,light:Q.uo,hc:Q.pW},g.N("overviewRuleWarning","Overview ruler marker color for warnings.")),G=(0,Q.P6)("editorOverviewRuler.infoForeground",{dark:Q.c6,light:Q.c6,hc:Q.T8},g.N("overviewRuleInfo","Overview ruler marker color for infos.")),q=(0,Q.P6)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},g.N("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),p=(0,Q.P6)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},g.N("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),S=(0,Q.P6)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},g.N("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),B=(0,Q.P6)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g.N("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),te=(0,Q.P6)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g.N("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),me=(0,Q.P6)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g.N("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),de=(0,Q.P6)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new Y.Il(new Y.VS(255,18,18,.8)),light:new Y.Il(new Y.VS(255,18,18,.8)),hc:new Y.Il(new Y.VS(255,50,50,1))},g.N("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Pe=(0,Q.P6)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g.N("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Me=(0,Q.P6)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g.N("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),nt=(0,Q.P6)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g.N("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),It=(0,Q.P6)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g.N("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),ht=(0,Q.P6)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g.N("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Mt=(0,Q.P6)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g.N("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),it=(0,Q.P6)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g.N("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),kt=(0,Q.P6)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g.N("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),ze=(0,Q.P6)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g.N("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),he=(0,Q.P6)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g.N("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),ke=(0,Q.P6)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g.N("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),et=(0,Q.P6)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},g.N("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,O.Ic)((at,rt)=>{const Ne=at.getColor(Q.cv);Ne&&rt.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${Ne}; }`);const Oe=at.getColor(Q.NO);Oe&&rt.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${Oe}; }`);const we=at.getColor(K);we&&rt.addRule(`.monaco-editor .margin { background-color: ${we}; }`);const Ye=at.getColor(k);Ye&&rt.addRule(`.monaco-editor .rangeHighlight { background-color: ${Ye}; }`);const st=at.getColor(P);st&&rt.addRule(`.monaco-editor .rangeHighlight { border: 1px ${at.type==="hc"?"dotted":"solid"} ${st}; }`);const Pt=at.getColor(s);Pt&&rt.addRule(`.monaco-editor .symbolHighlight { background-color: ${Pt}; }`);const Qt=at.getColor(I);Qt&&rt.addRule(`.monaco-editor .symbolHighlight { border: 1px ${at.type==="hc"?"dotted":"solid"} ${Qt}; }`);const ci=at.getColor(V);ci&&(rt.addRule(`.monaco-editor .mtkw { color: ${ci} !important; }`),rt.addRule(`.monaco-editor .mtkz { color: ${ci} !important; }`))})},92003:function(Yt,Ue,c){"use strict";c.d(Ue,{EY:function(){return Y},Tj:function(){return Q}});class g{constructor(y,J,k){this._colorZoneBrand=void 0,this.from=y|0,this.to=J|0,this.colorId=k|0}static compare(y,J){return y.colorId===J.colorId?y.from===J.from?y.to-J.to:y.from-J.from:y.colorId-J.colorId}}class Y{constructor(y,J,k){this._overviewRulerZoneBrand=void 0,this.startLineNumber=y,this.endLineNumber=J,this.color=k,this._colorZone=null}static compare(y,J){return y.color===J.color?y.startLineNumber===J.startLineNumber?y.endLineNumber-J.endLineNumber:y.startLineNumber-J.startLineNumber:y.color<J.color?-1:1}setColorZone(y){this._colorZone=y}getColorZones(){return this._colorZone}}class Q{constructor(y){this._getVerticalOffsetForLine=y,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(y){this._zones=y,this._zones.sort(Y.compare)}setLineHeight(y){return this._lineHeight===y?!1:(this._lineHeight=y,this._colorZonesInvalid=!0,!0)}setPixelRatio(y){this._pixelRatio=y,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(y){return this._domWidth===y?!1:(this._domWidth=y,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(y){return this._domHeight===y?!1:(this._domHeight=y,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(y){return this._outerHeight===y?!1:(this._outerHeight=y,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const y=this._colorZonesInvalid,J=Math.floor(this._lineHeight),k=Math.floor(this.getCanvasHeight()),P=Math.floor(this._outerHeight),s=k/P,I=Math.floor(4*this._pixelRatio/2);let m=[];for(let C=0,V=this._zones.length;C<V;C++){const r=this._zones[C];if(!y){const R=r.getColorZones();if(R){m.push(R);continue}}const x=Math.floor(s*this._getVerticalOffsetForLine(r.startLineNumber)),w=Math.floor(s*(this._getVerticalOffsetForLine(r.endLineNumber)+J));let D=Math.floor((x+w)/2),f=w-D;f<I&&(f=I),D-f<0&&(D=f),D+f>k&&(D=k-f);const v=r.color;let L=this._color2Id[v];L||(L=++this._lastAssignedId,this._color2Id[v]=L,this._id2Color[L]=v);const h=new g(D-f,D+f,L);r.setColorZone(h),m.push(h)}return this._colorZonesInvalid=!1,m.sort(g.compare),m}}},40539:function(Yt,Ue,c){"use strict";c.r(Ue),c.d(Ue,{CommonFindController:function(){return to},FindController:function(){return so},MatchFindAction:function(){return Eo},NextMatchFindAction:function(){return hs},NextSelectionMatchFindAction:function(){return rs},PreviousMatchFindAction:function(){return os},PreviousSelectionMatchFindAction:function(){return co},SelectionMatchFindAction:function(){return vo},StartFindAction:function(){return Oo},StartFindReplaceAction:function(){return Ws},StartFindWithSelectionAction:function(){return us},getSelectionSearchString:function(){return xo}});var g=c(15393),Y=c(5976),Q=c(97295),O=c(16830),y=c(29102),J=c(9488),k=c(61329),P=c(50187),s=c(24314),I=c(3860),m=c(77277),C=c(84973),V=c(24979),r=c(73910),x=c(97781);class w{constructor(ge){this._editor=ge,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const ge=this._findScopeDecorationIds.map(ut=>this._editor.getModel().getDecorationRange(ut)).filter(ut=>!!ut);if(ge.length)return ge}return null}getStartPosition(){return this._startPosition}setStartPosition(ge){this._startPosition=ge,this.setCurrentFindMatch(null)}_getDecorationIndex(ge){const ut=this._decorations.indexOf(ge);return ut>=0?ut+1:1}getCurrentMatchesPosition(ge){let ut=this._editor.getModel().getDecorationsInRange(ge);for(const gt of ut){const Bt=gt.options;if(Bt===w._FIND_MATCH_DECORATION||Bt===w._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(gt.id)}return 0}setCurrentFindMatch(ge){let ut=null,gt=0;if(ge)for(let Bt=0,qt=this._decorations.length;Bt<qt;Bt++){let vi=this._editor.getModel().getDecorationRange(this._decorations[Bt]);if(ge.equalsRange(vi)){ut=this._decorations[Bt],gt=Bt+1;break}}return(this._highlightedDecorationId!==null||ut!==null)&&this._editor.changeDecorations(Bt=>{if(this._highlightedDecorationId!==null&&(Bt.changeDecorationOptions(this._highlightedDecorationId,w._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),ut!==null&&(this._highlightedDecorationId=ut,Bt.changeDecorationOptions(this._highlightedDecorationId,w._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(Bt.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),ut!==null){let qt=this._editor.getModel().getDecorationRange(ut);if(qt.startLineNumber!==qt.endLineNumber&&qt.endColumn===1){let vi=qt.endLineNumber-1,Li=this._editor.getModel().getLineMaxColumn(vi);qt=new s.e(qt.startLineNumber,qt.startColumn,vi,Li)}this._rangeHighlightDecorationId=Bt.addDecoration(qt,w._RANGE_HIGHLIGHT_DECORATION)}}),gt}set(ge,ut){this._editor.changeDecorations(gt=>{let Bt=w._FIND_MATCH_DECORATION,qt=[];if(ge.length>1e3){Bt=w._FIND_MATCH_NO_OVERVIEW_DECORATION;const Li=this._editor.getModel().getLineCount(),un=this._editor.getLayoutInfo().height/Li,Bi=Math.max(2,Math.ceil(3/un));let ts=ge[0].range.startLineNumber,Rt=ge[0].range.endLineNumber;for(let F=1,re=ge.length;F<re;F++){const Se=ge[F].range;Rt+Bi>=Se.startLineNumber?Se.endLineNumber>Rt&&(Rt=Se.endLineNumber):(qt.push({range:new s.e(ts,1,Rt,1),options:w._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),ts=Se.startLineNumber,Rt=Se.endLineNumber)}qt.push({range:new s.e(ts,1,Rt,1),options:w._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let vi=new Array(ge.length);for(let Li=0,mi=ge.length;Li<mi;Li++)vi[Li]={range:ge[Li].range,options:Bt};this._decorations=gt.deltaDecorations(this._decorations,vi),this._overviewRulerApproximateDecorations=gt.deltaDecorations(this._overviewRulerApproximateDecorations,qt),this._rangeHighlightDecorationId&&(gt.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(Li=>gt.removeDecoration(Li)),this._findScopeDecorationIds=[]),ut!=null&&ut.length&&(this._findScopeDecorationIds=ut.map(Li=>gt.addDecoration(Li,w._FIND_SCOPE_DECORATION)))})}matchBeforePosition(ge){if(this._decorations.length===0)return null;for(let ut=this._decorations.length-1;ut>=0;ut--){let gt=this._decorations[ut],Bt=this._editor.getModel().getDecorationRange(gt);if(!(!Bt||Bt.endLineNumber>ge.lineNumber)){if(Bt.endLineNumber<ge.lineNumber)return Bt;if(!(Bt.endColumn>ge.column))return Bt}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(ge){if(this._decorations.length===0)return null;for(let ut=0,gt=this._decorations.length;ut<gt;ut++){let Bt=this._decorations[ut],qt=this._editor.getModel().getDecorationRange(Bt);if(!(!qt||qt.startLineNumber<ge.lineNumber)){if(qt.startLineNumber>ge.lineNumber)return qt;if(!(qt.startColumn<ge.column))return qt}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let ge=[];return ge=ge.concat(this._decorations),ge=ge.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&ge.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&ge.push(this._rangeHighlightDecorationId),ge}}w._CURRENT_FIND_MATCH_DECORATION=V.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,x.EN)(r.Fm),position:C.sh.Center},minimap:{color:(0,x.EN)(r.KT),position:C.F5.Inline}}),w._FIND_MATCH_DECORATION=V.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,x.EN)(r.Fm),position:C.sh.Center},minimap:{color:(0,x.EN)(r.KT),position:C.F5.Inline}}),w._FIND_MATCH_NO_OVERVIEW_DECORATION=V.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),w._FIND_MATCH_ONLY_OVERVIEW_DECORATION=V.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,x.EN)(r.Fm),position:C.sh.Center}}),w._RANGE_HIGHLIGHT_DECORATION=V.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),w._FIND_SCOPE_DECORATION=V.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class D{constructor(ge,ut,gt){this._editorSelection=ge,this._ranges=ut,this._replaceStrings=gt,this._trackedEditorSelectionId=null}getEditOperations(ge,ut){if(this._ranges.length>0){let gt=[];for(let vi=0;vi<this._ranges.length;vi++)gt.push({range:this._ranges[vi],text:this._replaceStrings[vi]});gt.sort((vi,Li)=>s.e.compareRangesUsingStarts(vi.range,Li.range));let Bt=[],qt=gt[0];for(let vi=1;vi<gt.length;vi++)qt.range.endLineNumber===gt[vi].range.startLineNumber&&qt.range.endColumn===gt[vi].range.startColumn?(qt.range=qt.range.plusRange(gt[vi].range),qt.text=qt.text+gt[vi].text):(Bt.push(qt),qt=gt[vi]);Bt.push(qt);for(const vi of Bt)ut.addEditOperation(vi.range,vi.text)}this._trackedEditorSelectionId=ut.trackSelection(this._editorSelection)}computeCursorState(ge,ut){return ut.getTrackedSelection(this._trackedEditorSelectionId)}}function f(hi,ge){if(hi&&hi[0]!==""){const ut=v(hi,ge,"-"),gt=v(hi,ge,"_");return ut&&!gt?L(hi,ge,"-"):!ut&&gt?L(hi,ge,"_"):hi[0].toUpperCase()===hi[0]?ge.toUpperCase():hi[0].toLowerCase()===hi[0]?ge.toLowerCase():Q.Kw(hi[0][0])&&ge.length>0?ge[0].toUpperCase()+ge.substr(1):hi[0][0].toUpperCase()!==hi[0][0]&&ge.length>0?ge[0].toLowerCase()+ge.substr(1):ge}else return ge}function v(hi,ge,ut){return hi[0].indexOf(ut)!==-1&&ge.indexOf(ut)!==-1&&hi[0].split(ut).length===ge.split(ut).length}function L(hi,ge,ut){const gt=ge.split(ut),Bt=hi[0].split(ut);let qt="";return gt.forEach((vi,Li)=>{qt+=f([Bt[Li]],vi)+ut}),qt.slice(0,-1)}class h{constructor(ge){this.staticValue=ge,this.kind=0}}class R{constructor(ge){this.pieces=ge,this.kind=1}}class T{constructor(ge){!ge||ge.length===0?this._state=new h(""):ge.length===1&&ge[0].staticValue!==null?this._state=new h(ge[0].staticValue):this._state=new R(ge)}static fromStaticValue(ge){return new T([W.staticValue(ge)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(ge,ut){if(this._state.kind===0)return ut?f(ge,this._state.staticValue):this._state.staticValue;let gt="";for(let Bt=0,qt=this._state.pieces.length;Bt<qt;Bt++){let vi=this._state.pieces[Bt];if(vi.staticValue!==null){gt+=vi.staticValue;continue}let Li=T._substitute(vi.matchIndex,ge);if(vi.caseOps!==null&&vi.caseOps.length>0){let mi=[],un=vi.caseOps.length,Bi=0;for(let ts=0,Rt=Li.length;ts<Rt;ts++){if(Bi>=un){mi.push(Li.slice(ts));break}switch(vi.caseOps[Bi]){case"U":mi.push(Li[ts].toUpperCase());break;case"u":mi.push(Li[ts].toUpperCase()),Bi++;break;case"L":mi.push(Li[ts].toLowerCase());break;case"l":mi.push(Li[ts].toLowerCase()),Bi++;break;default:mi.push(Li[ts])}}Li=mi.join("")}gt+=Li}return gt}static _substitute(ge,ut){if(ut===null)return"";if(ge===0)return ut[0];let gt="";for(;ge>0;){if(ge<ut.length)return(ut[ge]||"")+gt;gt=String(ge%10)+gt,ge=Math.floor(ge/10)}return"$"+gt}}class W{constructor(ge,ut,gt){this.staticValue=ge,this.matchIndex=ut,!gt||gt.length===0?this.caseOps=null:this.caseOps=gt.slice(0)}static staticValue(ge){return new W(ge,-1,null)}static caseOps(ge,ut){return new W(null,ge,ut)}}class K{constructor(ge){this._source=ge,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(ge){this._emitStatic(this._source.substring(this._lastCharIndex,ge)),this._lastCharIndex=ge}emitStatic(ge,ut){this._emitStatic(ge),this._lastCharIndex=ut}_emitStatic(ge){ge.length!==0&&(this._currentStaticPiece+=ge)}emitMatchIndex(ge,ut,gt){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=W.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=W.caseOps(ge,gt),this._lastCharIndex=ut}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=W.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new T(this._result)}}function ie(hi){if(!hi||hi.length===0)return new T(null);let ge=[],ut=new K(hi);for(let gt=0,Bt=hi.length;gt<Bt;gt++){let qt=hi.charCodeAt(gt);if(qt===92){if(gt++,gt>=Bt)break;let vi=hi.charCodeAt(gt);switch(vi){case 92:ut.emitUnchanged(gt-1),ut.emitStatic("\\",gt+1);break;case 110:ut.emitUnchanged(gt-1),ut.emitStatic(`
`,gt+1);break;case 116:ut.emitUnchanged(gt-1),ut.emitStatic("	",gt+1);break;case 117:case 85:case 108:case 76:ut.emitUnchanged(gt-1),ut.emitStatic("",gt+1),ge.push(String.fromCharCode(vi));break}continue}if(qt===36){if(gt++,gt>=Bt)break;let vi=hi.charCodeAt(gt);if(vi===36){ut.emitUnchanged(gt-1),ut.emitStatic("$",gt+1);continue}if(vi===48||vi===38){ut.emitUnchanged(gt-1),ut.emitMatchIndex(0,gt+1,ge),ge.length=0;continue}if(49<=vi&&vi<=57){let Li=vi-48;if(gt+1<Bt){let mi=hi.charCodeAt(gt+1);if(48<=mi&&mi<=57){gt++,Li=Li*10+(mi-48),ut.emitUnchanged(gt-2),ut.emitMatchIndex(Li,gt+1,ge),ge.length=0;continue}}ut.emitUnchanged(gt-1),ut.emitMatchIndex(Li,gt+1,ge),ge.length=0;continue}}}return ut.finalize()}var ce=c(38819);const _e=new ce.uy("findWidgetVisible",!1),ve=new ce.uy("findInputFocussed",!1),De=new ce.uy("replaceInputFocussed",!1),le={primary:545,mac:{primary:2593}},Z={primary:565,mac:{primary:2613}},$={primary:560,mac:{primary:2608}},G={primary:554,mac:{primary:2602}},q={primary:558,mac:{primary:2606}},p={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},S=19999,B=240;class te{constructor(ge,ut){this._toDispose=new Y.SL,this._editor=ge,this._state=ut,this._isDisposed=!1,this._startSearchingTimer=new g._F,this._decorations=new w(ge),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new g.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(gt=>{(gt.reason===3||gt.reason===5||gt.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(gt=>{this._ignoreModelContentChanged||(gt.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(gt=>this._onStateChanged(gt))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,Y.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(ge){this._isDisposed||this._editor.hasModel()&&(ge.searchString||ge.isReplaceRevealed||ge.isRegex||ge.wholeWord||ge.matchCase||ge.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{ge.searchScope?this.research(ge.moveCursor,this._state.searchScope):this.research(ge.moveCursor)},B)):ge.searchScope?this.research(ge.moveCursor,this._state.searchScope):this.research(ge.moveCursor))}static _getSearchRange(ge,ut){return ut||ge.getFullModelRange()}research(ge,ut){let gt=null;typeof ut!="undefined"?ut!==null&&(Array.isArray(ut)?gt=ut:gt=[ut]):gt=this._decorations.getFindScopes(),gt!==null&&(gt=gt.map(Li=>{if(Li.startLineNumber!==Li.endLineNumber){let mi=Li.endLineNumber;return Li.endColumn===1&&(mi=mi-1),new s.e(Li.startLineNumber,1,mi,this._editor.getModel().getLineMaxColumn(mi))}return Li}));let Bt=this._findMatches(gt,!1,S);this._decorations.set(Bt,gt);const qt=this._editor.getSelection();let vi=this._decorations.getCurrentMatchesPosition(qt);if(vi===0&&Bt.length>0){const Li=(0,J.lG)(Bt.map(mi=>mi.range),mi=>s.e.compareRangesUsingStarts(mi,qt)>=0);vi=Li>0?Li-1+1:vi}this._state.changeMatchInfo(vi,this._decorations.getCount(),void 0),ge&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let ge=this._decorations.getFindScope();return ge&&this._editor.revealRangeInCenterIfOutsideViewport(ge,0),!0}return!1}_setCurrentFindMatch(ge){let ut=this._decorations.setCurrentFindMatch(ge);this._state.changeMatchInfo(ut,this._decorations.getCount(),ge),this._editor.setSelection(ge),this._editor.revealRangeInCenterIfOutsideViewport(ge,0)}_prevSearchPosition(ge){let ut=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:gt,column:Bt}=ge,qt=this._editor.getModel();return ut||Bt===1?(gt===1?gt=qt.getLineCount():gt--,Bt=qt.getLineMaxColumn(gt)):Bt--,new P.L(gt,Bt)}_moveToPrevMatch(ge,ut=!1){if(!this._state.canNavigateBack()){const Bi=this._decorations.matchAfterPosition(ge);Bi&&this._setCurrentFindMatch(Bi);return}if(this._decorations.getCount()<S){let Bi=this._decorations.matchBeforePosition(ge);Bi&&Bi.isEmpty()&&Bi.getStartPosition().equals(ge)&&(ge=this._prevSearchPosition(ge),Bi=this._decorations.matchBeforePosition(ge)),Bi&&this._setCurrentFindMatch(Bi);return}if(this._cannotFind())return;let gt=this._decorations.getFindScope(),Bt=te._getSearchRange(this._editor.getModel(),gt);Bt.getEndPosition().isBefore(ge)&&(ge=Bt.getEndPosition()),ge.isBefore(Bt.getStartPosition())&&(ge=Bt.getEndPosition());let{lineNumber:qt,column:vi}=ge,Li=this._editor.getModel(),mi=new P.L(qt,vi),un=Li.findPreviousMatch(this._state.searchString,mi,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1);if(un&&un.range.isEmpty()&&un.range.getStartPosition().equals(mi)&&(mi=this._prevSearchPosition(mi),un=Li.findPreviousMatch(this._state.searchString,mi,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1)),!!un){if(!ut&&!Bt.containsRange(un.range))return this._moveToPrevMatch(un.range.getStartPosition(),!0);this._setCurrentFindMatch(un.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(ge){let ut=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:gt,column:Bt}=ge,qt=this._editor.getModel();return ut||Bt===qt.getLineMaxColumn(gt)?(gt===qt.getLineCount()?gt=1:gt++,Bt=1):Bt++,new P.L(gt,Bt)}_moveToNextMatch(ge){if(!this._state.canNavigateForward()){const gt=this._decorations.matchBeforePosition(ge);gt&&this._setCurrentFindMatch(gt);return}if(this._decorations.getCount()<S){let gt=this._decorations.matchAfterPosition(ge);gt&&gt.isEmpty()&&gt.getStartPosition().equals(ge)&&(ge=this._nextSearchPosition(ge),gt=this._decorations.matchAfterPosition(ge)),gt&&this._setCurrentFindMatch(gt);return}let ut=this._getNextMatch(ge,!1,!0);ut&&this._setCurrentFindMatch(ut.range)}_getNextMatch(ge,ut,gt,Bt=!1){if(this._cannotFind())return null;let qt=this._decorations.getFindScope(),vi=te._getSearchRange(this._editor.getModel(),qt);vi.getEndPosition().isBefore(ge)&&(ge=vi.getStartPosition()),ge.isBefore(vi.getStartPosition())&&(ge=vi.getStartPosition());let{lineNumber:Li,column:mi}=ge,un=this._editor.getModel(),Bi=new P.L(Li,mi),ts=un.findNextMatch(this._state.searchString,Bi,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,ut);return gt&&ts&&ts.range.isEmpty()&&ts.range.getStartPosition().equals(Bi)&&(Bi=this._nextSearchPosition(Bi),ts=un.findNextMatch(this._state.searchString,Bi,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,ut)),ts?!Bt&&!vi.containsRange(ts.range)?this._getNextMatch(ts.range.getEndPosition(),ut,gt,!0):ts:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?ie(this._state.replaceString):T.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let ge=this._getReplacePattern(),ut=this._editor.getSelection(),gt=this._getNextMatch(ut.getStartPosition(),!0,!1);if(gt)if(ut.equalsRange(gt.range)){let Bt=ge.buildReplaceString(gt.matches,this._state.preserveCase),qt=new k.T4(ut,Bt);this._executeEditorCommand("replace",qt),this._decorations.setStartPosition(new P.L(ut.startLineNumber,ut.startColumn+Bt.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(gt.range)}_findMatches(ge,ut,gt){const Bt=(ge||[null]).map(qt=>te._getSearchRange(this._editor.getModel(),qt));return this._editor.getModel().findMatches(this._state.searchString,Bt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,ut,gt)}replaceAll(){if(!this._hasMatches())return;const ge=this._decorations.getFindScopes();ge===null&&this._state.matchesCount>=S?this._largeReplaceAll():this._regularReplaceAll(ge),this.research(!1)}_largeReplaceAll(){const ut=new m.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null).parseSearchRequest();if(!ut)return;let gt=ut.regex;if(!gt.multiline){let ts="mu";gt.ignoreCase&&(ts+="i"),gt.global&&(ts+="g"),gt=new RegExp(gt.source,ts)}const Bt=this._editor.getModel(),qt=Bt.getValue(1),vi=Bt.getFullModelRange(),Li=this._getReplacePattern();let mi;const un=this._state.preserveCase;Li.hasReplacementPatterns||un?mi=qt.replace(gt,function(){return Li.buildReplaceString(arguments,un)}):mi=qt.replace(gt,Li.buildReplaceString(null,un));let Bi=new k.hP(vi,mi,this._editor.getSelection());this._executeEditorCommand("replaceAll",Bi)}_regularReplaceAll(ge){const ut=this._getReplacePattern();let gt=this._findMatches(ge,ut.hasReplacementPatterns||this._state.preserveCase,1073741824),Bt=[];for(let vi=0,Li=gt.length;vi<Li;vi++)Bt[vi]=ut.buildReplaceString(gt[vi].matches,this._state.preserveCase);let qt=new D(this._editor.getSelection(),gt.map(vi=>vi.range),Bt);this._executeEditorCommand("replaceAll",qt)}selectAllMatches(){if(!this._hasMatches())return;let ge=this._decorations.getFindScopes(),gt=this._findMatches(ge,!1,1073741824).map(qt=>new I.Y(qt.range.startLineNumber,qt.range.startColumn,qt.range.endLineNumber,qt.range.endColumn)),Bt=this._editor.getSelection();for(let qt=0,vi=gt.length;qt<vi;qt++)if(gt[qt].equalsRange(Bt)){gt=[Bt].concat(gt.slice(0,qt)).concat(gt.slice(qt+1));break}this._editor.setSelections(gt)}_executeEditorCommand(ge,ut){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(ge,ut),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var me=c(65321),de=c(93794),Pe=c(73046),Me=c(41264),nt=c(4669);const It={inputActiveOptionBorder:Me.Il.fromHex("#007ACC00"),inputActiveOptionForeground:Me.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:Me.Il.fromHex("#0E639C50")};class ht extends de.${constructor(ge){super(),this._onChange=this._register(new nt.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new nt.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},It),ge),this._checked=this._opts.isChecked;const ut=["monaco-custom-checkbox"];this._opts.icon&&ut.push(...Pe.dT.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&ut.push(...this._opts.actionClassName.split(" ")),this._checked&&ut.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...ut),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,gt=>{this.checked=!this._checked,this._onChange.fire(!1),gt.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,gt=>{if(gt.keyCode===10||gt.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),gt.preventDefault();return}this._onKeyDown.fire(gt)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(ge){this._checked=ge,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(ge){ge.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=ge.inputActiveOptionBorder),ge.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=ge.inputActiveOptionForeground),ge.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=ge.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}var Mt=c(63580);const it=Mt.N("caseDescription","Match Case"),kt=Mt.N("wordsDescription","Match Whole Word"),ze=Mt.N("regexDescription","Use Regular Expression");class he extends ht{constructor(ge){super({icon:Pe.lA.caseSensitive,title:it+ge.appendTitle,isChecked:ge.isChecked,inputActiveOptionBorder:ge.inputActiveOptionBorder,inputActiveOptionForeground:ge.inputActiveOptionForeground,inputActiveOptionBackground:ge.inputActiveOptionBackground})}}class ke extends ht{constructor(ge){super({icon:Pe.lA.wholeWord,title:kt+ge.appendTitle,isChecked:ge.isChecked,inputActiveOptionBorder:ge.inputActiveOptionBorder,inputActiveOptionForeground:ge.inputActiveOptionForeground,inputActiveOptionBackground:ge.inputActiveOptionBackground})}}class et extends ht{constructor(ge){super({icon:Pe.lA.regex,title:ze+ge.appendTitle,isChecked:ge.isChecked,inputActiveOptionBorder:ge.inputActiveOptionBorder,inputActiveOptionForeground:ge.inputActiveOptionForeground,inputActiveOptionBackground:ge.inputActiveOptionBackground})}}class at extends de.${constructor(ge,ut,gt,Bt){super(),this._hideSoon=this._register(new g.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=ge,this._state=ut,this._keybindingService=gt,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const qt=Bt.getColorTheme().getColor(r.PR),vi=Bt.getColorTheme().getColor(r.Pv),Li=Bt.getColorTheme().getColor(r.XE);this.caseSensitive=this._register(new he({appendTitle:this._keybindingLabelFor(p.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:qt,inputActiveOptionForeground:vi,inputActiveOptionBackground:Li})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new ke({appendTitle:this._keybindingLabelFor(p.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:qt,inputActiveOptionForeground:vi,inputActiveOptionBackground:Li})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new et({appendTitle:this._keybindingLabelFor(p.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:qt,inputActiveOptionForeground:vi,inputActiveOptionBackground:Li})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(mi=>{let un=!1;mi.isRegex&&(this.regex.checked=this._state.isRegex,un=!0),mi.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,un=!0),mi.matchCase&&(this.caseSensitive.checked=this._state.matchCase,un=!0),!this._state.isRevealed&&un&&this._revealTemporarily()})),this._register(me.j_(this._domNode,mi=>this._onMouseOut())),this._register(me.nm(this._domNode,"mouseover",mi=>this._onMouseOver())),this._applyTheme(Bt.getColorTheme()),this._register(Bt.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(ge){let ut=this._keybindingService.lookupKeybinding(ge);return ut?` (${ut.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return at.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(ge){let ut={inputActiveOptionBorder:ge.getColor(r.PR),inputActiveOptionForeground:ge.getColor(r.Pv),inputActiveOptionBackground:ge.getColor(r.XE)};this.caseSensitive.style(ut),this.wholeWords.style(ut),this.regex.style(ut)}}at.ID="editor.contrib.findOptionsWidget",(0,x.Ic)((hi,ge)=>{const ut=hi.getColor(r.D0);ut&&ge.addRule(`.monaco-editor .findOptionsWidget { background-color: ${ut}; }`);const gt=hi.getColor(r.Hf);gt&&ge.addRule(`.monaco-editor .findOptionsWidget { color: ${gt}; }`);const Bt=hi.getColor(r.rh);Bt&&ge.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${Bt}; }`);const qt=hi.getColor(r.lR);qt&&ge.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${qt}; }`)});function rt(hi,ge){return hi===1?!0:hi===2?!1:ge}class Ne extends Y.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new nt.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return rt(this._isRegexOverride,this._isRegex)}get wholeWord(){return rt(this._wholeWordOverride,this._wholeWord)}get matchCase(){return rt(this._matchCaseOverride,this._matchCase)}get preserveCase(){return rt(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(ge,ut,gt){let Bt={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},qt=!1;ut===0&&(ge=0),ge>ut&&(ge=ut),this._matchesPosition!==ge&&(this._matchesPosition=ge,Bt.matchesPosition=!0,qt=!0),this._matchesCount!==ut&&(this._matchesCount=ut,Bt.matchesCount=!0,qt=!0),typeof gt!="undefined"&&(s.e.equalsRange(this._currentMatch,gt)||(this._currentMatch=gt,Bt.currentMatch=!0,qt=!0)),qt&&this._onFindReplaceStateChange.fire(Bt)}change(ge,ut,gt=!0){var Bt;let qt={moveCursor:ut,updateHistory:gt,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},vi=!1;const Li=this.isRegex,mi=this.wholeWord,un=this.matchCase,Bi=this.preserveCase;typeof ge.searchString!="undefined"&&this._searchString!==ge.searchString&&(this._searchString=ge.searchString,qt.searchString=!0,vi=!0),typeof ge.replaceString!="undefined"&&this._replaceString!==ge.replaceString&&(this._replaceString=ge.replaceString,qt.replaceString=!0,vi=!0),typeof ge.isRevealed!="undefined"&&this._isRevealed!==ge.isRevealed&&(this._isRevealed=ge.isRevealed,qt.isRevealed=!0,vi=!0),typeof ge.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==ge.isReplaceRevealed&&(this._isReplaceRevealed=ge.isReplaceRevealed,qt.isReplaceRevealed=!0,vi=!0),typeof ge.isRegex!="undefined"&&(this._isRegex=ge.isRegex),typeof ge.wholeWord!="undefined"&&(this._wholeWord=ge.wholeWord),typeof ge.matchCase!="undefined"&&(this._matchCase=ge.matchCase),typeof ge.preserveCase!="undefined"&&(this._preserveCase=ge.preserveCase),typeof ge.searchScope!="undefined"&&(!((Bt=ge.searchScope)===null||Bt===void 0)&&Bt.every(ts=>{var Rt;return(Rt=this._searchScope)===null||Rt===void 0?void 0:Rt.some(F=>!s.e.equalsRange(F,ts))})||(this._searchScope=ge.searchScope,qt.searchScope=!0,vi=!0)),typeof ge.loop!="undefined"&&this._loop!==ge.loop&&(this._loop=ge.loop,qt.loop=!0,vi=!0),this._isRegexOverride=typeof ge.isRegexOverride!="undefined"?ge.isRegexOverride:0,this._wholeWordOverride=typeof ge.wholeWordOverride!="undefined"?ge.wholeWordOverride:0,this._matchCaseOverride=typeof ge.matchCaseOverride!="undefined"?ge.matchCaseOverride:0,this._preserveCaseOverride=typeof ge.preserveCaseOverride!="undefined"?ge.preserveCaseOverride:0,Li!==this.isRegex&&(vi=!0,qt.isRegex=!0),mi!==this.wholeWord&&(vi=!0,qt.wholeWord=!0),un!==this.matchCase&&(vi=!0,qt.matchCase=!0),Bi!==this.preserveCase&&(vi=!0,qt.preserveCase=!0),vi&&this._onFindReplaceStateChange.fire(qt)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=S}}var Oe=c(35996),we=c(83080),Ye=c(17301),st=c(1432),Pt=c(97862);const Qt=Mt.N("defaultLabel","input");class ci extends de.${constructor(ge,ut,gt,Bt){super(),this._showOptionButtons=gt,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new nt.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new nt.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new nt.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new nt.Q5),this._onKeyUp=this._register(new nt.Q5),this._onCaseSensitiveKeyDown=this._register(new nt.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new nt.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=ut,this.placeholder=Bt.placeholder||"",this.validation=Bt.validation,this.label=Bt.label||Qt,this.inputActiveOptionBorder=Bt.inputActiveOptionBorder,this.inputActiveOptionForeground=Bt.inputActiveOptionForeground,this.inputActiveOptionBackground=Bt.inputActiveOptionBackground,this.inputBackground=Bt.inputBackground,this.inputForeground=Bt.inputForeground,this.inputBorder=Bt.inputBorder,this.inputValidationInfoBorder=Bt.inputValidationInfoBorder,this.inputValidationInfoBackground=Bt.inputValidationInfoBackground,this.inputValidationInfoForeground=Bt.inputValidationInfoForeground,this.inputValidationWarningBorder=Bt.inputValidationWarningBorder,this.inputValidationWarningBackground=Bt.inputValidationWarningBackground,this.inputValidationWarningForeground=Bt.inputValidationWarningForeground,this.inputValidationErrorBorder=Bt.inputValidationErrorBorder,this.inputValidationErrorBackground=Bt.inputValidationErrorBackground,this.inputValidationErrorForeground=Bt.inputValidationErrorForeground;const qt=Bt.appendCaseSensitiveLabel||"",vi=Bt.appendWholeWordsLabel||"",Li=Bt.appendRegexLabel||"",mi=Bt.history||[],un=!!Bt.flexibleHeight,Bi=!!Bt.flexibleWidth,ts=Bt.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Pt.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:mi,showHistoryHint:Bt.showHistoryHint,flexibleHeight:un,flexibleWidth:Bi,flexibleMaxHeight:ts})),this.regex=this._register(new et({appendTitle:Li,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(re=>{this._onDidOptionChange.fire(re),!re&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(re=>{this._onRegexKeyDown.fire(re)})),this.wholeWords=this._register(new ke({appendTitle:vi,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(re=>{this._onDidOptionChange.fire(re),!re&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new he({appendTitle:qt,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(re=>{this._onDidOptionChange.fire(re),!re&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(re=>{this._onCaseSensitiveKeyDown.fire(re)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let Rt=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,re=>{if(re.equals(15)||re.equals(17)||re.equals(9)){let Se=Rt.indexOf(document.activeElement);if(Se>=0){let Fe=-1;re.equals(17)?Fe=(Se+1)%Rt.length:re.equals(15)&&(Se===0?Fe=Rt.length-1:Fe=Se-1),re.equals(9)?(Rt[Se].blur(),this.inputBox.focus()):Fe>=0&&Rt[Fe].focus(),me.zB.stop(re,!0)}}});let F=document.createElement("div");F.className="controls",F.style.display=this._showOptionButtons?"block":"none",F.appendChild(this.caseSensitive.domNode),F.appendChild(this.wholeWords.domNode),F.appendChild(this.regex.domNode),this.domNode.appendChild(F),ge&&ge.appendChild(this.domNode),this._register(me.nm(this.inputBox.inputElement,"compositionstart",re=>{this.imeSessionInProgress=!0})),this._register(me.nm(this.inputBox.inputElement,"compositionend",re=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,re=>this._onKeyDown.fire(re)),this.onkeyup(this.inputBox.inputElement,re=>this._onKeyUp.fire(re)),this.oninput(this.inputBox.inputElement,re=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,re=>this._onMouseDown.fire(re))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(ge){this.fixFocusOnOptionClickEnabled=ge}setEnabled(ge){ge?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(ge){this.inputBox.value!==ge&&(this.inputBox.value=ge)}style(ge){this.inputActiveOptionBorder=ge.inputActiveOptionBorder,this.inputActiveOptionForeground=ge.inputActiveOptionForeground,this.inputActiveOptionBackground=ge.inputActiveOptionBackground,this.inputBackground=ge.inputBackground,this.inputForeground=ge.inputForeground,this.inputBorder=ge.inputBorder,this.inputValidationInfoBackground=ge.inputValidationInfoBackground,this.inputValidationInfoForeground=ge.inputValidationInfoForeground,this.inputValidationInfoBorder=ge.inputValidationInfoBorder,this.inputValidationWarningBackground=ge.inputValidationWarningBackground,this.inputValidationWarningForeground=ge.inputValidationWarningForeground,this.inputValidationWarningBorder=ge.inputValidationWarningBorder,this.inputValidationErrorBackground=ge.inputValidationErrorBackground,this.inputValidationErrorForeground=ge.inputValidationErrorForeground,this.inputValidationErrorBorder=ge.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const ge={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(ge),this.wholeWords.style(ge),this.caseSensitive.style(ge);const ut={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(ut)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(ge){this.caseSensitive.checked=ge}getWholeWords(){return this.wholeWords.checked}setWholeWords(ge){this.wholeWords.checked=ge}getRegex(){return this.regex.checked}setRegex(ge){this.regex.checked=ge,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const Gt=Mt.N("defaultLabel","input"),Lt=Mt.N("label.preserveCaseCheckbox","Preserve Case");class Ai extends ht{constructor(ge){super({icon:Pe.lA.preserveCase,title:Lt+ge.appendTitle,isChecked:ge.isChecked,inputActiveOptionBorder:ge.inputActiveOptionBorder,inputActiveOptionForeground:ge.inputActiveOptionForeground,inputActiveOptionBackground:ge.inputActiveOptionBackground})}}class oi extends de.${constructor(ge,ut,gt,Bt){super(),this._showOptionButtons=gt,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new nt.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new nt.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new nt.Q5),this._onInput=this._register(new nt.Q5),this._onKeyUp=this._register(new nt.Q5),this._onPreserveCaseKeyDown=this._register(new nt.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=ut,this.placeholder=Bt.placeholder||"",this.validation=Bt.validation,this.label=Bt.label||Gt,this.inputActiveOptionBorder=Bt.inputActiveOptionBorder,this.inputActiveOptionForeground=Bt.inputActiveOptionForeground,this.inputActiveOptionBackground=Bt.inputActiveOptionBackground,this.inputBackground=Bt.inputBackground,this.inputForeground=Bt.inputForeground,this.inputBorder=Bt.inputBorder,this.inputValidationInfoBorder=Bt.inputValidationInfoBorder,this.inputValidationInfoBackground=Bt.inputValidationInfoBackground,this.inputValidationInfoForeground=Bt.inputValidationInfoForeground,this.inputValidationWarningBorder=Bt.inputValidationWarningBorder,this.inputValidationWarningBackground=Bt.inputValidationWarningBackground,this.inputValidationWarningForeground=Bt.inputValidationWarningForeground,this.inputValidationErrorBorder=Bt.inputValidationErrorBorder,this.inputValidationErrorBackground=Bt.inputValidationErrorBackground,this.inputValidationErrorForeground=Bt.inputValidationErrorForeground;const qt=Bt.appendPreserveCaseLabel||"",vi=Bt.history||[],Li=!!Bt.flexibleHeight,mi=!!Bt.flexibleWidth,un=Bt.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Pt.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:vi,showHistoryHint:Bt.showHistoryHint,flexibleHeight:Li,flexibleWidth:mi,flexibleMaxHeight:un})),this.preserveCase=this._register(new Ai({appendTitle:qt,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(Rt=>{this._onDidOptionChange.fire(Rt),!Rt&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(Rt=>{this._onPreserveCaseKeyDown.fire(Rt)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let Bi=[this.preserveCase.domNode];this.onkeydown(this.domNode,Rt=>{if(Rt.equals(15)||Rt.equals(17)||Rt.equals(9)){let F=Bi.indexOf(document.activeElement);if(F>=0){let re=-1;Rt.equals(17)?re=(F+1)%Bi.length:Rt.equals(15)&&(F===0?re=Bi.length-1:re=F-1),Rt.equals(9)?(Bi[F].blur(),this.inputBox.focus()):re>=0&&Bi[re].focus(),me.zB.stop(Rt,!0)}}});let ts=document.createElement("div");ts.className="controls",ts.style.display=this._showOptionButtons?"block":"none",ts.appendChild(this.preserveCase.domNode),this.domNode.appendChild(ts),ge&&ge.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,Rt=>this._onKeyDown.fire(Rt)),this.onkeyup(this.inputBox.inputElement,Rt=>this._onKeyUp.fire(Rt)),this.oninput(this.inputBox.inputElement,Rt=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,Rt=>this._onMouseDown.fire(Rt))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(ge){ge?this.enable():this.disable()}style(ge){this.inputActiveOptionBorder=ge.inputActiveOptionBorder,this.inputActiveOptionForeground=ge.inputActiveOptionForeground,this.inputActiveOptionBackground=ge.inputActiveOptionBackground,this.inputBackground=ge.inputBackground,this.inputForeground=ge.inputForeground,this.inputBorder=ge.inputBorder,this.inputValidationInfoBackground=ge.inputValidationInfoBackground,this.inputValidationInfoForeground=ge.inputValidationInfoForeground,this.inputValidationInfoBorder=ge.inputValidationInfoBorder,this.inputValidationWarningBackground=ge.inputValidationWarningBackground,this.inputValidationWarningForeground=ge.inputValidationWarningForeground,this.inputValidationWarningBorder=ge.inputValidationWarningBorder,this.inputValidationErrorBackground=ge.inputValidationErrorBackground,this.inputValidationErrorForeground=ge.inputValidationErrorForeground,this.inputValidationErrorBorder=ge.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const ge={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(ge);const ut={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(ut)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(ge){this.preserveCase.checked=ge}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(ge){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=ge,this.domNode.style.width=ge+"px"}dispose(){super.dispose()}}var $e=c(49989),Xe=c(79599),wi=function(hi,ge,ut,gt){var Bt=arguments.length,qt=Bt<3?ge:gt===null?gt=Object.getOwnPropertyDescriptor(ge,ut):gt,vi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")qt=Reflect.decorate(hi,ge,ut,gt);else for(var Li=hi.length-1;Li>=0;Li--)(vi=hi[Li])&&(qt=(Bt<3?vi(qt):Bt>3?vi(ge,ut,qt):vi(ge,ut))||qt);return Bt>3&&qt&&Object.defineProperty(ge,ut,qt),qt},ii=function(hi,ge){return function(ut,gt){ge(ut,gt,hi)}};const Ui="historyNavigationWidget",Mn="historyNavigationForwardsEnabled",Ri="historyNavigationBackwardsEnabled";function ps(hi,ge,ut){new ce.uy(ut,ge).bindTo(hi)}function Zn(hi,ge){return hi.createScoped(ge.target)}function Bn(hi,ge){return hi.getContext(document.activeElement).getValue(ge)}function Xi(hi,ge){const ut=Zn(hi,ge);ps(ut,ge,Ui);const gt=new ce.uy(Mn,!0).bindTo(ut),Bt=new ce.uy(Ri,!0).bindTo(ut);return{scopedContextKeyService:ut,historyNavigationForwardsEnablement:gt,historyNavigationBackwardsEnablement:Bt}}let Vn=class extends ci{constructor(ge,ut,gt,Bt,qt=!1){super(ge,ut,qt,gt),this._register(Xi(Bt,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};Vn=wi([ii(3,ce.i6)],Vn);let qi=class extends oi{constructor(ge,ut,gt,Bt,qt=!1){super(ge,ut,qt,gt),this._register(Xi(Bt,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};qi=wi([ii(3,ce.i6)],qi),$e.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:ce.Ao.and(ce.Ao.has(Ui),ce.Ao.equals(Ri,!0),Xe._y.Visible.isEqualTo(!1)),primary:16,secondary:[528],handler:hi=>{const ge=Bn(hi.get(ce.i6),Ui);ge&&ge.historyNavigator.showPreviousValue()}}),$e.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:ce.Ao.and(ce.Ao.has(Ui),ce.Ao.equals(Mn,!0),Xe._y.Visible.isEqualTo(!1)),primary:18,secondary:[530],handler:hi=>{const ge=Bn(hi.get(ce.i6),Ui);ge&&ge.historyNavigator.showNextValue()}});function je(hi){var ge,ut;return((ge=hi.lookupKeybinding("history.showPrevious"))===null||ge===void 0?void 0:ge.getElectronAccelerator())==="Up"&&((ut=hi.lookupKeybinding("history.showNext"))===null||ut===void 0?void 0:ut.getElectronAccelerator())==="Down"}var Tt=c(59554),St=function(hi,ge,ut,gt){function Bt(qt){return qt instanceof ut?qt:new ut(function(vi){vi(qt)})}return new(ut||(ut=Promise))(function(qt,vi){function Li(Bi){try{un(gt.next(Bi))}catch(ts){vi(ts)}}function mi(Bi){try{un(gt.throw(Bi))}catch(ts){vi(ts)}}function un(Bi){Bi.done?qt(Bi.value):Bt(Bi.value).then(Li,mi)}un((gt=gt.apply(hi,ge||[])).next())})};const Ze=(0,Tt.q5)("find-selection",Pe.lA.selection,Mt.N("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),Je=(0,Tt.q5)("find-collapsed",Pe.lA.chevronRight,Mt.N("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),xt=(0,Tt.q5)("find-expanded",Pe.lA.chevronDown,Mt.N("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),yt=(0,Tt.q5)("find-replace",Pe.lA.replace,Mt.N("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Xt=(0,Tt.q5)("find-replace-all",Pe.lA.replaceAll,Mt.N("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),ni=(0,Tt.q5)("find-previous-match",Pe.lA.arrowUp,Mt.N("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),gi=(0,Tt.q5)("find-next-match",Pe.lA.arrowDown,Mt.N("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),Gi=Mt.N("label.find","Find"),ji=Mt.N("placeholder.find","Find"),is=Mt.N("label.previousMatchButton","Previous Match"),Hi=Mt.N("label.nextMatchButton","Next Match"),hn=Mt.N("label.toggleSelectionFind","Find in Selection"),vt=Mt.N("label.closeButton","Close"),mt=Mt.N("label.replace","Replace"),Nt=Mt.N("placeholder.replace","Replace"),He=Mt.N("label.replaceButton","Replace"),Qe=Mt.N("label.replaceAllButton","Replace All"),ft=Mt.N("label.toggleReplaceButton","Toggle Replace"),ct=Mt.N("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",S),ei=Mt.N("label.matchesLocation","{0} of {1}"),Vi=Mt.N("label.noResults","No results"),fi=419,zi=275-54;let dn=69;const gn=33,Mi="ctrlEnterReplaceAll.windows.donotask",pi=st.dz?256:2048;class Cn{constructor(ge){this.afterLineNumber=ge,this.heightInPx=gn,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function En(hi,ge,ut){const gt=!!ge.match(/\n/);if(ut&&gt&&ut.selectionStart>0){hi.stopPropagation();return}}function Yn(hi,ge,ut){const gt=!!ge.match(/\n/);if(ut&&gt&&ut.selectionEnd<ut.value.length){hi.stopPropagation();return}}class vs extends de.${constructor(ge,ut,gt,Bt,qt,vi,Li,mi,un){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=ge,this._controller=ut,this._state=gt,this._contextViewProvider=Bt,this._keybindingService=qt,this._contextKeyService=vi,this._storageService=mi,this._notificationService=un,this._ctrlEnterReplaceAllWarningPrompted=!!mi.getBoolean(Mi,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new g.vp(500),this._register((0,Y.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(Bi=>this._onStateChanged(Bi))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(Bi=>{if(Bi.hasChanged(80)&&(this._codeEditor.getOption(80)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),Bi.hasChanged(129)&&this._tryUpdateWidgetWidth(),Bi.hasChanged(2)&&this.updateAccessibilitySupport(),Bi.hasChanged(35)){const ts=this._codeEditor.getOption(35).addExtraSpaceOnTop;ts&&!this._viewZone&&(this._viewZone=new Cn(0),this._showViewZone()),!ts&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>St(this,void 0,void 0,function*(){if(this._isVisible){let Bi=yield this._controller.getGlobalBufferTerm();Bi&&Bi!==this._state.searchString&&(this._state.change({searchString:Bi},!1),this._findInput.select())}}))),this._findInputFocused=ve.bindTo(vi),this._findFocusTracker=this._register(me.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=De.bindTo(vi),this._replaceFocusTracker=this._register(me.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new Cn(0)),this._applyTheme(Li.getColorTheme()),this._register(Li.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(Bi=>{if(Bi.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return vs.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(ge){if(ge.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(ge.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),ge.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),ge.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(80)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=me.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(ge.isRevealed||ge.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),ge.isRegex&&this._findInput.setRegex(this._state.isRegex),ge.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),ge.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),ge.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),ge.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),ge.searchString||ge.matchesCount||ge.matchesPosition){let ut=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",ut),this._updateMatchesCount(),this._updateButtons()}(ge.searchString||ge.currentMatch)&&this._layoutViewZone(),ge.updateHistory&&this._delayedUpdateHistory(),ge.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Ye.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=dn+"px",this._state.matchesCount>=S?this._matchesCount.title=ct:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let ge;if(this._state.matchesCount>0){let ut=String(this._state.matchesCount);this._state.matchesCount>=S&&(ut+="+");let gt=String(this._state.matchesPosition);gt==="0"&&(gt="?"),ge=Q.WU(ei,gt,ut)}else ge=Vi;this._matchesCount.appendChild(document.createTextNode(ge)),(0,Oe.Z9)(this._getAriaLabel(ge,this._state.currentMatch,this._state.searchString)),dn=Math.max(dn,this._matchesCount.clientWidth)}_getAriaLabel(ge,ut,gt){if(ge===Vi)return gt===""?Mt.N("ariaSearchNoResultEmpty","{0} found",ge):Mt.N("ariaSearchNoResult","{0} found for '{1}'",ge,gt);if(ut){const Bt=Mt.N("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",ge,gt,ut.startLineNumber+":"+ut.startColumn),qt=this._codeEditor.getModel();return qt&&ut.startLineNumber<=qt.getLineCount()&&ut.startLineNumber>=1?`${qt.getLineContent(ut.startLineNumber)}, ${Bt}`:Bt}return Mt.N("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",ge,gt)}_updateToggleSelectionFindButton(){let ge=this._codeEditor.getSelection(),ut=ge?ge.startLineNumber!==ge.endLineNumber||ge.startColumn!==ge.endColumn:!1,gt=this._toggleSelectionFind.checked;this._isVisible&&(gt||ut)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let ge=this._state.searchString.length>0,ut=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&ge&&ut&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&ge&&ut&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ge),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ge),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let gt=!this._codeEditor.getOption(80);this._toggleReplaceBtn.setEnabled(this._isVisible&&gt)}_reveal(){if(this._revealTimeouts.forEach(ge=>{clearTimeout(ge)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const ge=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const gt=!!ge&&ge.startLineNumber!==ge.endLineNumber;this._toggleSelectionFind.checked=gt;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let ut=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&ge){const gt=this._codeEditor.getDomNode();if(gt){const Bt=me.i(gt),qt=this._codeEditor.getScrolledVisiblePosition(ge.getStartPosition()),vi=Bt.left+(qt?qt.left:0),Li=qt?qt.top:0;if(this._viewZone&&Li<this._viewZone.heightInPx){ge.endLineNumber>ge.startLineNumber&&(ut=!1);const mi=me.xQ(this._domNode).left;vi>mi&&(ut=!1);const un=this._codeEditor.getScrolledVisiblePosition(ge.getEndPosition());Bt.left+(un?un.left:0)>mi&&(ut=!1)}}}this._showViewZone(ut)}}_hide(ge){this._revealTimeouts.forEach(ut=>{clearTimeout(ut)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),ge&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(ge){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const gt=this._viewZone;this._viewZoneId!==void 0||!gt||this._codeEditor.changeViewZones(Bt=>{gt.heightInPx=this._getHeight(),this._viewZoneId=Bt.addZone(gt),this._codeEditor.setScrollTop(ge||this._codeEditor.getScrollTop()+gt.heightInPx)})}_showViewZone(ge=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new Cn(0));const gt=this._viewZone;this._codeEditor.changeViewZones(Bt=>{if(this._viewZoneId!==void 0){const qt=this._getHeight();if(qt===gt.heightInPx)return;let vi=qt-gt.heightInPx;gt.heightInPx=qt,Bt.layoutZone(this._viewZoneId),ge&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+vi);return}else{let qt=this._getHeight();if(qt-=this._codeEditor.getOption(74).top,qt<=0)return;gt.heightInPx=qt,this._viewZoneId=Bt.addZone(gt),ge&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+qt)}})}_removeViewZone(){this._codeEditor.changeViewZones(ge=>{this._viewZoneId!==void 0&&(ge.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(ge){let ut={inputActiveOptionBorder:ge.getColor(r.PR),inputActiveOptionBackground:ge.getColor(r.XE),inputActiveOptionForeground:ge.getColor(r.Pv),inputBackground:ge.getColor(r.sE),inputForeground:ge.getColor(r.zJ),inputBorder:ge.getColor(r.dt),inputValidationInfoBackground:ge.getColor(r._l),inputValidationInfoForeground:ge.getColor(r.YI),inputValidationInfoBorder:ge.getColor(r.EP),inputValidationWarningBackground:ge.getColor(r.RV),inputValidationWarningForeground:ge.getColor(r.SU),inputValidationWarningBorder:ge.getColor(r.C3),inputValidationErrorBackground:ge.getColor(r.p),inputValidationErrorForeground:ge.getColor(r._t),inputValidationErrorBorder:ge.getColor(r.OZ)};this._findInput.style(ut),this._replaceInput.style(ut),this._toggleSelectionFind.style(ut)}_tryUpdateWidgetWidth(){if(!this._isVisible||!me.Uw(this._domNode))return;const ge=this._codeEditor.getLayoutInfo();if(ge.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const gt=ge.width,Bt=ge.minimap.minimapWidth;let qt=!1,vi=!1,Li=!1;if(this._resized&&me.w(this._domNode)>fi){this._domNode.style.maxWidth=`${gt-28-Bt-15}px`,this._replaceInput.width=me.w(this._findInput.domNode);return}if(fi+28+Bt>=gt&&(vi=!0),fi+28+Bt-dn>=gt&&(Li=!0),fi+28+Bt-dn>=gt+50&&(qt=!0),this._domNode.classList.toggle("collapsed-find-widget",qt),this._domNode.classList.toggle("narrow-find-widget",Li),this._domNode.classList.toggle("reduced-find-widget",vi),!Li&&!qt&&(this._domNode.style.maxWidth=`${gt-28-Bt-15}px`),this._resized){this._findInput.inputBox.layout();let mi=this._findInput.inputBox.element.clientWidth;mi>0&&(this._replaceInput.width=mi)}else this._isReplaceVisible&&(this._replaceInput.width=me.w(this._findInput.domNode))}_getHeight(){let ge=0;return ge+=4,ge+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(ge+=4,ge+=this._replaceInput.inputBox.height+2),ge+=4,ge}_tryUpdateHeight(){const ge=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===ge?!1:(this._cachedHeight=ge,this._domNode.style.height=`${ge}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let ge=this._codeEditor.getSelections();ge.map(ut=>{ut.endColumn===1&&ut.endLineNumber>ut.startLineNumber&&(ut=ut.setEndPosition(ut.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ut.endLineNumber-1)));const gt=this._state.currentMatch;return ut.startLineNumber!==ut.endLineNumber&&!s.e.equalsRange(ut,gt)?ut:null}).filter(ut=>!!ut),ge.length&&this._state.change({searchScope:ge},!0)}}_onFindInputMouseDown(ge){ge.middleButton&&ge.stopPropagation()}_onFindInputKeyDown(ge){if(ge.equals(pi|3))if(this._keybindingService.dispatchEvent(ge,ge.target)){ge.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),ge.preventDefault();return}if(ge.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),ge.preventDefault();return}if(ge.equals(2066)){this._codeEditor.focus(),ge.preventDefault();return}if(ge.equals(16))return En(ge,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(ge.equals(18))return Yn(ge,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(ge){if(ge.equals(pi|3))if(this._keybindingService.dispatchEvent(ge,ge.target)){ge.preventDefault();return}else{st.ED&&st.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(Mt.N("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Mi,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),ge.preventDefault();return}if(ge.equals(2)){this._findInput.focusOnCaseSensitive(),ge.preventDefault();return}if(ge.equals(1026)){this._findInput.focus(),ge.preventDefault();return}if(ge.equals(2066)){this._codeEditor.focus(),ge.preventDefault();return}if(ge.equals(16))return En(ge,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(ge.equals(18))return Yn(ge,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(ge){return 0}_keybindingLabelFor(ge){let ut=this._keybindingService.lookupKeybinding(ge);return ut?` (${ut.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new Vn(null,this._contextViewProvider,{width:zi,label:Gi,placeholder:ji,appendCaseSensitiveLabel:this._keybindingLabelFor(p.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(p.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(p.ToggleRegexCommand),validation:mi=>{if(mi.length===0||!this._findInput.getRegex())return null;try{return new RegExp(mi,"gu"),null}catch(un){return{content:un.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>je(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(mi=>this._onFindInputKeyDown(mi))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(mi=>{mi.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),mi.preventDefault())})),this._register(this._findInput.onRegexKeyDown(mi=>{mi.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),mi.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(mi=>{this._tryUpdateHeight()&&this._showViewZone()})),st.IJ&&this._register(this._findInput.onMouseDown(mi=>this._onFindInputMouseDown(mi))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new ds({label:is+this._keybindingLabelFor(p.PreviousMatchFindAction),icon:ni,onTrigger:()=>{this._codeEditor.getAction(p.PreviousMatchFindAction).run().then(void 0,Ye.dL)}})),this._nextBtn=this._register(new ds({label:Hi+this._keybindingLabelFor(p.NextMatchFindAction),icon:gi,onTrigger:()=>{this._codeEditor.getAction(p.NextMatchFindAction).run().then(void 0,Ye.dL)}}));let gt=document.createElement("div");gt.className="find-part",gt.appendChild(this._findInput.domNode);const Bt=document.createElement("div");Bt.className="find-actions",gt.appendChild(Bt),Bt.appendChild(this._matchesCount),Bt.appendChild(this._prevBtn.domNode),Bt.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new ht({icon:Ze,title:hn+this._keybindingLabelFor(p.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let mi=this._codeEditor.getSelections();mi.map(un=>(un.endColumn===1&&un.endLineNumber>un.startLineNumber&&(un=un.setEndPosition(un.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(un.endLineNumber-1))),un.isEmpty()?null:un)).filter(un=>!!un),mi.length&&this._state.change({searchScope:mi},!0)}}else this._state.change({searchScope:null},!0)})),Bt.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new ds({label:vt+this._keybindingLabelFor(p.CloseFindWidgetCommand),icon:Tt.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:mi=>{mi.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),mi.preventDefault())}})),Bt.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new qi(null,void 0,{label:mt,placeholder:Nt,appendPreserveCaseLabel:this._keybindingLabelFor(p.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>je(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(mi=>this._onReplaceInputKeyDown(mi))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(mi=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(mi=>{mi.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),mi.preventDefault())})),this._replaceBtn=this._register(new ds({label:He+this._keybindingLabelFor(p.ReplaceOneAction),icon:yt,onTrigger:()=>{this._controller.replace()},onKeyDown:mi=>{mi.equals(1026)&&(this._closeBtn.focus(),mi.preventDefault())}})),this._replaceAllBtn=this._register(new ds({label:Qe+this._keybindingLabelFor(p.ReplaceAllAction),icon:Xt,onTrigger:()=>{this._controller.replaceAll()}}));let qt=document.createElement("div");qt.className="replace-part",qt.appendChild(this._replaceInput.domNode);const vi=document.createElement("div");vi.className="replace-actions",qt.appendChild(vi),vi.appendChild(this._replaceBtn.domNode),vi.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new ds({label:ft,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=me.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${fi}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(gt),this._domNode.appendChild(qt),this._resizeSash=new we.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let Li=fi;this._register(this._resizeSash.onDidStart(()=>{Li=me.w(this._domNode)})),this._register(this._resizeSash.onDidChange(mi=>{this._resized=!0;let un=Li+mi.startX-mi.currentX;if(un<fi)return;const Bi=parseFloat(me.Dx(this._domNode).maxWidth)||0;un>Bi||(this._domNode.style.width=`${un}px`,this._isReplaceVisible&&(this._replaceInput.width=me.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const mi=me.w(this._domNode);if(mi<fi)return;let un=fi;if(!this._resized||mi===fi){const Bi=this._codeEditor.getLayoutInfo();un=Bi.width-28-Bi.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${un}px`,this._isReplaceVisible&&(this._replaceInput.width=me.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const ge=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(ge!==2)}}vs.ID="editor.contrib.findWidget";class ds extends de.${constructor(ge){super(),this._opts=ge;let ut="button";this._opts.className&&(ut=ut+" "+this._opts.className),this._opts.icon&&(ut=ut+" "+x.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=ut,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,gt=>{this._opts.onTrigger(),gt.preventDefault()}),this.onkeydown(this._domNode,gt=>{if(gt.equals(10)||gt.equals(3)){this._opts.onTrigger(),gt.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(gt)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(ge){this._domNode.classList.toggle("disabled",!ge),this._domNode.setAttribute("aria-disabled",String(!ge)),this._domNode.tabIndex=ge?0:-1}setExpanded(ge){this._domNode.setAttribute("aria-expanded",String(!!ge)),ge?(this._domNode.classList.remove(...x.kS.asClassNameArray(Je)),this._domNode.classList.add(...x.kS.asClassNameArray(xt))):(this._domNode.classList.remove(...x.kS.asClassNameArray(xt)),this._domNode.classList.add(...x.kS.asClassNameArray(Je)))}}(0,x.Ic)((hi,ge)=>{const ut=(re,Se)=>{Se&&ge.addRule(`.monaco-editor ${re} { background-color: ${Se}; }`)};ut(".findMatch",hi.getColor(r.MU)),ut(".currentFindMatch",hi.getColor(r.ny)),ut(".findScope",hi.getColor(r.jU));const gt=hi.getColor(r.D0);ut(".find-widget",gt);const Bt=hi.getColor(r.rh);Bt&&ge.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${Bt}; }`);const qt=hi.getColor(r.Ei);qt&&ge.addRule(`.monaco-editor .findMatch { border: 1px ${hi.type==="hc"?"dotted":"solid"} ${qt}; box-sizing: border-box; }`);const vi=hi.getColor(r.pn);vi&&ge.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${vi}; padding: 1px; box-sizing: border-box; }`);const Li=hi.getColor(r.gk);Li&&ge.addRule(`.monaco-editor .findScope { border: 1px ${hi.type==="hc"?"dashed":"solid"} ${Li}; }`);const mi=hi.getColor(r.lR);mi&&ge.addRule(`.monaco-editor .find-widget { border: 1px solid ${mi}; }`);const un=hi.getColor(r.Hf);un&&ge.addRule(`.monaco-editor .find-widget { color: ${un}; }`);const Bi=hi.getColor(r.Id);Bi&&ge.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${Bi}; }`);const ts=hi.getColor(r.Ng);if(ts)ge.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ts}; }`);else{const re=hi.getColor(r.D1);re&&ge.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${re}; }`)}const Rt=hi.getColor(r.lU);Rt&&ge.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${Rt} !important;
		}
	`);const F=hi.getColor(r.R8);F&&ge.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${F}; }`)});var Is=c(84144),Fo=c(84972),no=c(5606),Ls=c(91847),Io=c(59422),Xs=c(87060),So=function(hi,ge,ut,gt){var Bt=arguments.length,qt=Bt<3?ge:gt===null?gt=Object.getOwnPropertyDescriptor(ge,ut):gt,vi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")qt=Reflect.decorate(hi,ge,ut,gt);else for(var Li=hi.length-1;Li>=0;Li--)(vi=hi[Li])&&(qt=(Bt<3?vi(qt):Bt>3?vi(ge,ut,qt):vi(ge,ut))||qt);return Bt>3&&qt&&Object.defineProperty(ge,ut,qt),qt},Hs=function(hi,ge){return function(ut,gt){ge(ut,gt,hi)}},zs=function(hi,ge,ut,gt){function Bt(qt){return qt instanceof ut?qt:new ut(function(vi){vi(qt)})}return new(ut||(ut=Promise))(function(qt,vi){function Li(Bi){try{un(gt.next(Bi))}catch(ts){vi(ts)}}function mi(Bi){try{un(gt.throw(Bi))}catch(ts){vi(ts)}}function un(Bi){Bi.done?qt(Bi.value):Bt(Bi.value).then(Li,mi)}un((gt=gt.apply(hi,ge||[])).next())})};const uo=524288;function xo(hi,ge="single",ut=!1){if(!hi.hasModel())return null;const gt=hi.getSelection();if(ge==="single"&&gt.startLineNumber===gt.endLineNumber||ge==="multiple"){if(gt.isEmpty()){const Bt=hi.getConfiguredWordAtPosition(gt.getStartPosition());if(Bt&&ut===!1)return Bt.word}else if(hi.getModel().getValueLengthInRange(gt)<uo)return hi.getModel().getValueInRange(gt)}return null}let to=class mu extends Y.JT{constructor(ge,ut,gt,Bt){super(),this._editor=ge,this._findWidgetVisible=_e.bindTo(ut),this._contextKeyService=ut,this._storageService=gt,this._clipboardService=Bt,this._updateHistoryDelayer=new g.vp(500),this._state=this._register(new Ne),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(qt=>this._onStateChanged(qt))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let qt=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),qt&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(ge){return ge.getContribution(mu.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(ge){this.saveQueryState(ge),ge.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),ge.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(ge){ge.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),ge.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),ge.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),ge.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!ve.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let ge=this._editor.getSelections();ge.map(ut=>(ut.endColumn===1&&ut.endLineNumber>ut.startLineNumber&&(ut=ut.setEndPosition(ut.endLineNumber-1,this._editor.getModel().getLineMaxColumn(ut.endLineNumber-1))),ut.isEmpty()?null:ut)).filter(ut=>!!ut),ge.length&&this._state.change({searchScope:ge},!0)}}setSearchString(ge){this._state.isRegex&&(ge=Q.ec(ge)),this._state.change({searchString:ge},!1)}highlightFindOptions(ge=!1){}_start(ge){return zs(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let ut={isRevealed:!0};if(ge.seedSearchStringFromSelection==="single"){let gt=xo(this._editor,ge.seedSearchStringFromSelection,ge.seedSearchStringFromNonEmptySelection);gt&&(this._state.isRegex?ut.searchString=Q.ec(gt):ut.searchString=gt)}else if(ge.seedSearchStringFromSelection==="multiple"&&!ge.updateSearchScope){let gt=xo(this._editor,ge.seedSearchStringFromSelection);gt&&(ut.searchString=gt)}if(!ut.searchString&&ge.seedSearchStringFromGlobalClipboard){let gt=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;gt&&(ut.searchString=gt)}if(ge.forceRevealReplace?ut.isReplaceRevealed=!0:this._findWidgetVisible.get()||(ut.isReplaceRevealed=!1),ge.updateSearchScope){let gt=this._editor.getSelections();gt.some(Bt=>!Bt.isEmpty())&&(ut.searchScope=gt)}ut.loop=ge.loop,this._state.change(ut,!1),this._model||(this._model=new te(this._editor,this._state))})}start(ge){return this._start(ge)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return zs(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(ge){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(ge)}};to.ID="editor.contrib.findController",to=So([Hs(1,ce.i6),Hs(2,Xs.Uy),Hs(3,Fo.p)],to);let so=class extends to{constructor(ge,ut,gt,Bt,qt,vi,Li,mi){super(ge,gt,Li,mi),this._contextViewService=ut,this._keybindingService=Bt,this._themeService=qt,this._notificationService=vi,this._widget=null,this._findOptionsWidget=null}_start(ge){const ut=Object.create(null,{_start:{get:()=>super._start}});return zs(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const gt=this._editor.getSelection();let Bt=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":Bt=!0;break;case"never":Bt=!1;break;case"multiline":Bt=!!gt&&gt.startLineNumber!==gt.endLineNumber;break;default:break}ge.updateSearchScope=Bt,yield ut._start.call(this,ge),this._widget&&(ge.shouldFocus===2?this._widget.focusReplaceInput():ge.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(ge=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!ge?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new vs(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new at(this._editor,this._state,this._keybindingService,this._themeService))}};so=So([Hs(1,no.u),Hs(2,ce.i6),Hs(3,Ls.d),Hs(4,x.XE),Hs(5,Io.lT),Hs(6,Xs.Uy),Hs(7,Fo.p)],so);const Oo=(0,O.rn)(new O.jY({id:p.StartFindAction,label:Mt.N("startFindAction","Find"),alias:"Find",precondition:ce.Ao.or(y.u.focus,ce.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Is.eH.MenubarEditMenu,group:"3_find",title:Mt.N({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));Oo.addImplementation(0,(hi,ge,ut)=>{const gt=to.get(ge);return gt?gt.start({forceRevealReplace:!1,seedSearchStringFromSelection:ge.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:ge.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:ge.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:ge.getOption(35).loop}):!1});class us extends O.R6{constructor(){super({id:p.StartFindWithSelection,label:Mt.N("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(ge,ut){return zs(this,void 0,void 0,function*(){let gt=to.get(ut);gt&&(yield gt.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:ut.getOption(35).loop}),gt.setGlobalBufferTerm(gt.getState().searchString))})}}class Eo extends O.R6{run(ge,ut){return zs(this,void 0,void 0,function*(){let gt=to.get(ut);gt&&!this._run(gt)&&(yield gt.start({forceRevealReplace:!1,seedSearchStringFromSelection:gt.getState().searchString.length===0&&ut.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:ut.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:ut.getOption(35).loop}),this._run(gt))})}}class hs extends Eo{constructor(){super({id:p.NextMatchFindAction,label:Mt.N("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:y.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:ce.Ao.and(y.u.focus,ve),primary:3,weight:100}]})}_run(ge){return ge.moveToNextMatch()?(ge.editor.pushUndoStop(),!0):!1}}class os extends Eo{constructor(){super({id:p.PreviousMatchFindAction,label:Mt.N("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:y.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:ce.Ao.and(y.u.focus,ve),primary:1027,weight:100}]})}_run(ge){return ge.moveToPrevMatch()}}class vo extends O.R6{run(ge,ut){return zs(this,void 0,void 0,function*(){let gt=to.get(ut);if(!gt)return;const Bt=ut.getOption(35).seedSearchStringFromSelection==="selection";let qt=null;ut.getOption(35).seedSearchStringFromSelection!=="never"&&(qt=xo(ut,"single",Bt)),qt&&gt.setSearchString(qt),this._run(gt)||(yield gt.start({forceRevealReplace:!1,seedSearchStringFromSelection:ut.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:Bt,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:ut.getOption(35).loop}),this._run(gt))})}}class rs extends vo{constructor(){super({id:p.NextSelectionMatchFindAction,label:Mt.N("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:y.u.focus,primary:2109,weight:100}})}_run(ge){return ge.moveToNextMatch()}}class co extends vo{constructor(){super({id:p.PreviousSelectionMatchFindAction,label:Mt.N("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:y.u.focus,primary:3133,weight:100}})}_run(ge){return ge.moveToPrevMatch()}}const Ws=(0,O.rn)(new O.jY({id:p.StartFindReplaceAction,label:Mt.N("startReplace","Replace"),alias:"Replace",precondition:ce.Ao.or(y.u.focus,ce.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Is.eH.MenubarEditMenu,group:"3_find",title:Mt.N({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));Ws.addImplementation(0,(hi,ge,ut)=>{if(!ge.hasModel()||ge.getOption(80))return!1;const gt=to.get(ge);if(!gt)return!1;const Bt=ge.getSelection(),qt=gt.isFindInputFocused(),vi=!Bt.isEmpty()&&Bt.startLineNumber===Bt.endLineNumber&&ge.getOption(35).seedSearchStringFromSelection!=="never"&&!qt,Li=qt||vi?2:1;return gt.start({forceRevealReplace:!0,seedSearchStringFromSelection:vi?"single":"none",seedSearchStringFromNonEmptySelection:ge.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:ge.getOption(35).seedSearchStringFromSelection!=="never",shouldFocus:Li,shouldAnimate:!0,updateSearchScope:!1,loop:ge.getOption(35).loop})}),(0,O._K)(to.ID,so),(0,O.Qr)(us),(0,O.Qr)(hs),(0,O.Qr)(os),(0,O.Qr)(rs),(0,O.Qr)(co);const ho=O._l.bindToContribution(to.get);(0,O.fK)(new ho({id:p.CloseFindWidgetCommand,precondition:_e,handler:hi=>hi.closeFindWidget(),kbOpts:{weight:105,kbExpr:ce.Ao.and(y.u.focus,ce.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,O.fK)(new ho({id:p.ToggleCaseSensitiveCommand,precondition:void 0,handler:hi=>hi.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:y.u.focus,primary:le.primary,mac:le.mac,win:le.win,linux:le.linux}})),(0,O.fK)(new ho({id:p.ToggleWholeWordCommand,precondition:void 0,handler:hi=>hi.toggleWholeWords(),kbOpts:{weight:105,kbExpr:y.u.focus,primary:Z.primary,mac:Z.mac,win:Z.win,linux:Z.linux}})),(0,O.fK)(new ho({id:p.ToggleRegexCommand,precondition:void 0,handler:hi=>hi.toggleRegex(),kbOpts:{weight:105,kbExpr:y.u.focus,primary:$.primary,mac:$.mac,win:$.win,linux:$.linux}})),(0,O.fK)(new ho({id:p.ToggleSearchScopeCommand,precondition:void 0,handler:hi=>hi.toggleSearchScope(),kbOpts:{weight:105,kbExpr:y.u.focus,primary:G.primary,mac:G.mac,win:G.win,linux:G.linux}})),(0,O.fK)(new ho({id:p.TogglePreserveCaseCommand,precondition:void 0,handler:hi=>hi.togglePreserveCase(),kbOpts:{weight:105,kbExpr:y.u.focus,primary:q.primary,mac:q.mac,win:q.win,linux:q.linux}})),(0,O.fK)(new ho({id:p.ReplaceOneAction,precondition:_e,handler:hi=>hi.replace(),kbOpts:{weight:105,kbExpr:y.u.focus,primary:3094}})),(0,O.fK)(new ho({id:p.ReplaceOneAction,precondition:_e,handler:hi=>hi.replace(),kbOpts:{weight:105,kbExpr:ce.Ao.and(y.u.focus,De),primary:3}})),(0,O.fK)(new ho({id:p.ReplaceAllAction,precondition:_e,handler:hi=>hi.replaceAll(),kbOpts:{weight:105,kbExpr:y.u.focus,primary:2563}})),(0,O.fK)(new ho({id:p.ReplaceAllAction,precondition:_e,handler:hi=>hi.replaceAll(),kbOpts:{weight:105,kbExpr:ce.Ao.and(y.u.focus,De),primary:void 0,mac:{primary:2051}}})),(0,O.fK)(new ho({id:p.SelectAllMatchesAction,precondition:_e,handler:hi=>hi.selectAllMatches(),kbOpts:{weight:105,kbExpr:y.u.focus,primary:515}}))},5697:function(Yt,Ue,c){"use strict";c.r(Ue),c.d(Ue,{FoldingController:function(){return Qt},editorFoldForeground:function(){return Tt},foldBackgroundBackground:function(){return je}});var g=c(15393),Y=c(17301),Q=c(22258),O=c(5976),y=c(97295),J=c(98401),k=c(55812),P=c(16830),s=c(29102),I=c(10351),m=c(94660),C=c(4669);const V=65535,r=16777215,x=4278190080;class w{constructor(Ze,Je,xt){if(Ze.length!==Je.length||Ze.length>V)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=Ze,this._endIndexes=Je,this._collapseStates=new Uint32Array(Math.ceil(Ze.length/32)),this._types=xt,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let Ze=[],Je=(xt,yt)=>{let Xt=Ze[Ze.length-1];return this.getStartLineNumber(Xt)<=xt&&this.getEndLineNumber(Xt)>=yt};for(let xt=0,yt=this._startIndexes.length;xt<yt;xt++){let Xt=this._startIndexes[xt],ni=this._endIndexes[xt];if(Xt>r||ni>r)throw new Error("startLineNumber or endLineNumber must not exceed "+r);for(;Ze.length>0&&!Je(Xt,ni);)Ze.pop();let gi=Ze.length>0?Ze[Ze.length-1]:-1;Ze.push(xt),this._startIndexes[xt]=Xt+((gi&255)<<24),this._endIndexes[xt]=ni+((gi&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(Ze){return this._startIndexes[Ze]&r}getEndLineNumber(Ze){return this._endIndexes[Ze]&r}getType(Ze){return this._types?this._types[Ze]:void 0}hasTypes(){return!!this._types}isCollapsed(Ze){let Je=Ze/32|0,xt=Ze%32;return(this._collapseStates[Je]&1<<xt)!==0}setCollapsed(Ze,Je){let xt=Ze/32|0,yt=Ze%32,Xt=this._collapseStates[xt];Je?this._collapseStates[xt]=Xt|1<<yt:this._collapseStates[xt]=Xt&~(1<<yt)}setCollapsedAllOfType(Ze,Je){let xt=!1;if(this._types)for(let yt=0;yt<this._types.length;yt++)this._types[yt]===Ze&&(this.setCollapsed(yt,Je),xt=!0);return xt}toRegion(Ze){return new D(this,Ze)}getParentIndex(Ze){this.ensureParentIndices();let Je=((this._startIndexes[Ze]&x)>>>24)+((this._endIndexes[Ze]&x)>>>16);return Je===V?-1:Je}contains(Ze,Je){return this.getStartLineNumber(Ze)<=Je&&this.getEndLineNumber(Ze)>=Je}findIndex(Ze){let Je=0,xt=this._startIndexes.length;if(xt===0)return-1;for(;Je<xt;){let yt=Math.floor((Je+xt)/2);Ze<this.getStartLineNumber(yt)?xt=yt:Je=yt+1}return Je-1}findRange(Ze){let Je=this.findIndex(Ze);if(Je>=0){if(this.getEndLineNumber(Je)>=Ze)return Je;for(Je=this.getParentIndex(Je);Je!==-1;){if(this.contains(Je,Ze))return Je;Je=this.getParentIndex(Je)}}return-1}toString(){let Ze=[];for(let Je=0;Je<this.length;Je++)Ze[Je]=`[${this.isCollapsed(Je)?"+":"-"}] ${this.getStartLineNumber(Je)}/${this.getEndLineNumber(Je)}`;return Ze.join(", ")}}class D{constructor(Ze,Je){this.ranges=Ze,this.index=Je}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(Ze){return Ze.startLineNumber<=this.startLineNumber&&Ze.endLineNumber>=this.endLineNumber}containsLine(Ze){return this.startLineNumber<=Ze&&Ze<=this.endLineNumber}}class f{constructor(Ze,Je){this._updateEventEmitter=new C.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=Ze,this._decorationProvider=Je,this._regions=new w(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(Ze){if(!Ze.length)return;Ze=Ze.sort((xt,yt)=>xt.regionIndex-yt.regionIndex);const Je={};this._decorationProvider.changeDecorations(xt=>{let yt=0,Xt=-1,ni=-1;const gi=Gi=>{for(;yt<Gi;){const ji=this._regions.getEndLineNumber(yt),is=this._regions.isCollapsed(yt);ji<=Xt&&xt.changeDecorationOptions(this._editorDecorationIds[yt],this._decorationProvider.getDecorationOption(is,ji<=ni)),is&&ji>ni&&(ni=ji),yt++}};for(let Gi of Ze){let ji=Gi.regionIndex,is=this._editorDecorationIds[ji];if(is&&!Je[is]){Je[is]=!0,gi(ji);let Hi=!this._regions.isCollapsed(ji);this._regions.setCollapsed(ji,Hi),Xt=Math.max(Xt,this._regions.getEndLineNumber(ji))}}gi(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:Ze})}update(Ze,Je=[]){let xt=[],yt=(Hi,hn)=>{for(let vt of Je)if(Hi<vt&&vt<=hn)return!0;return!1},Xt=-1,ni=(Hi,hn)=>{const vt=Ze.getStartLineNumber(Hi),mt=Ze.getEndLineNumber(Hi);hn||(hn=Ze.isCollapsed(Hi)),hn&&yt(vt,mt)&&(hn=!1),Ze.setCollapsed(Hi,hn);const Nt=this._textModel.getLineMaxColumn(vt),He={startLineNumber:vt,startColumn:Math.max(Nt-1,1),endLineNumber:vt,endColumn:Nt};xt.push({range:He,options:this._decorationProvider.getDecorationOption(hn,mt<=Xt)}),hn&&mt>Xt&&(Xt=mt)},gi=0,Gi=()=>{for(;gi<this._regions.length;){let Hi=this._regions.isCollapsed(gi);if(gi++,Hi)return gi-1}return-1},ji=0,is=Gi();for(;is!==-1&&ji<Ze.length;){let Hi=this._textModel.getDecorationRange(this._editorDecorationIds[is]);if(Hi){let hn=Hi.startLineNumber;if(Hi.startColumn===Math.max(Hi.endColumn-1,1)&&this._textModel.getLineMaxColumn(hn)===Hi.endColumn)for(;ji<Ze.length;){let vt=Ze.getStartLineNumber(ji);if(hn>=vt)ni(ji,hn===vt),ji++;else break}}is=Gi()}for(;ji<Ze.length;)ni(ji,!1),ji++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,xt),this._regions=Ze,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let Ze=[];for(let Je=0;Je<this._regions.length;Je++)if(this._regions.isCollapsed(Je)){let xt=this._textModel.getDecorationRange(this._editorDecorationIds[Je]);if(xt){let yt=xt.startLineNumber,Xt=xt.endLineNumber+this._regions.getEndLineNumber(Je)-this._regions.getStartLineNumber(Je);Ze.push({startLineNumber:yt,endLineNumber:Xt})}}if(Ze.length>0)return Ze}applyMemento(Ze){if(!Array.isArray(Ze))return;let Je=[];for(let xt of Ze){let yt=this.getRegionAtLine(xt.startLineNumber);yt&&!yt.isCollapsed&&Je.push(yt)}this.toggleCollapseState(Je)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(Ze,Je){let xt=[];if(this._regions){let yt=this._regions.findRange(Ze),Xt=1;for(;yt>=0;){let ni=this._regions.toRegion(yt);(!Je||Je(ni,Xt))&&xt.push(ni),Xt++,yt=ni.parentIndex}}return xt}getRegionAtLine(Ze){if(this._regions){let Je=this._regions.findRange(Ze);if(Je>=0)return this._regions.toRegion(Je)}return null}getRegionsInside(Ze,Je){let xt=[],yt=Ze?Ze.regionIndex+1:0,Xt=Ze?Ze.endLineNumber:Number.MAX_VALUE;if(Je&&Je.length===2){const ni=[];for(let gi=yt,Gi=this._regions.length;gi<Gi;gi++){let ji=this._regions.toRegion(gi);if(this._regions.getStartLineNumber(gi)<Xt){for(;ni.length>0&&!ji.containedBy(ni[ni.length-1]);)ni.pop();ni.push(ji),Je(ji,ni.length)&&xt.push(ji)}else break}}else for(let ni=yt,gi=this._regions.length;ni<gi;ni++){let Gi=this._regions.toRegion(ni);if(this._regions.getStartLineNumber(ni)<Xt)(!Je||Je(Gi))&&xt.push(Gi);else break}return xt}}function v(St,Ze,Je){let xt=[];for(let yt of Je){let Xt=St.getRegionAtLine(yt);if(Xt){const ni=!Xt.isCollapsed;if(xt.push(Xt),Ze>1){let gi=St.getRegionsInside(Xt,(Gi,ji)=>Gi.isCollapsed!==ni&&ji<Ze);xt.push(...gi)}}}St.toggleCollapseState(xt)}function L(St,Ze,Je=Number.MAX_VALUE,xt){let yt=[];if(xt&&xt.length>0)for(let Xt of xt){let ni=St.getRegionAtLine(Xt);if(ni&&(ni.isCollapsed!==Ze&&yt.push(ni),Je>1)){let gi=St.getRegionsInside(ni,(Gi,ji)=>Gi.isCollapsed!==Ze&&ji<Je);yt.push(...gi)}}else{let Xt=St.getRegionsInside(null,(ni,gi)=>ni.isCollapsed!==Ze&&gi<Je);yt.push(...Xt)}St.toggleCollapseState(yt)}function h(St,Ze,Je,xt){let yt=[];for(let Xt of xt){let ni=St.getAllRegionsAtLine(Xt,(gi,Gi)=>gi.isCollapsed!==Ze&&Gi<=Je);yt.push(...ni)}St.toggleCollapseState(yt)}function R(St,Ze,Je){let xt=[];for(let yt of Je){let Xt=St.getAllRegionsAtLine(yt,ni=>ni.isCollapsed!==Ze);Xt.length>0&&xt.push(Xt[0])}St.toggleCollapseState(xt)}function T(St,Ze,Je,xt){let yt=(ni,gi)=>gi===Ze&&ni.isCollapsed!==Je&&!xt.some(Gi=>ni.containsLine(Gi)),Xt=St.getRegionsInside(null,yt);St.toggleCollapseState(Xt)}function W(St,Ze,Je){let xt=[];for(let ni of Je)xt.push(St.getAllRegionsAtLine(ni,void 0)[0]);let yt=ni=>xt.every(gi=>!gi.containedBy(ni)&&!ni.containedBy(gi))&&ni.isCollapsed!==Ze,Xt=St.getRegionsInside(null,yt);St.toggleCollapseState(Xt)}function K(St,Ze,Je){let xt=St.textModel,yt=St.regions,Xt=[];for(let ni=yt.length-1;ni>=0;ni--)if(Je!==yt.isCollapsed(ni)){let gi=yt.getStartLineNumber(ni);Ze.test(xt.getLineContent(gi))&&Xt.push(yt.toRegion(ni))}St.toggleCollapseState(Xt)}function ie(St,Ze,Je){let xt=St.regions,yt=[];for(let Xt=xt.length-1;Xt>=0;Xt--)Je!==xt.isCollapsed(Xt)&&Ze===xt.getType(Xt)&&yt.push(xt.toRegion(Xt));St.toggleCollapseState(yt)}function ce(St,Ze){let Je=null,xt=Ze.getRegionAtLine(St);if(xt!==null&&(Je=xt.startLineNumber,St===Je)){let yt=xt.parentIndex;yt!==-1?Je=Ze.regions.getStartLineNumber(yt):Je=null}return Je}function _e(St,Ze){let Je=Ze.getRegionAtLine(St);if(Je!==null&&Je.startLineNumber===St){if(St!==Je.startLineNumber)return Je.startLineNumber;{let xt=Je.parentIndex,yt=0;for(xt!==-1&&(yt=Ze.regions.getStartLineNumber(Je.parentIndex));Je!==null;)if(Je.regionIndex>0){if(Je=Ze.regions.toRegion(Je.regionIndex-1),Je.startLineNumber<=yt)return null;if(Je.parentIndex===xt)return Je.startLineNumber}else return null}}else if(Ze.regions.length>0)for(Je=Ze.regions.toRegion(Ze.regions.length-1);Je!==null;){if(Je.startLineNumber<St)return Je.startLineNumber;Je.regionIndex>0?Je=Ze.regions.toRegion(Je.regionIndex-1):Je=null}return null}function ve(St,Ze){let Je=Ze.getRegionAtLine(St);if(Je!==null&&Je.startLineNumber===St){let xt=Je.parentIndex,yt=0;if(xt!==-1)yt=Ze.regions.getEndLineNumber(Je.parentIndex);else{if(Ze.regions.length===0)return null;yt=Ze.regions.getEndLineNumber(Ze.regions.length-1)}for(;Je!==null;)if(Je.regionIndex<Ze.regions.length){if(Je=Ze.regions.toRegion(Je.regionIndex+1),Je.startLineNumber>=yt)return null;if(Je.parentIndex===xt)return Je.startLineNumber}else return null}else if(Ze.regions.length>0)for(Je=Ze.regions.toRegion(0);Je!==null;){if(Je.startLineNumber>St)return Je.startLineNumber;Je.regionIndex<Ze.regions.length?Je=Ze.regions.toRegion(Je.regionIndex+1):Je=null}return null}var De=c(9488),le=c(24314);class Z{constructor(Ze){this._updateEventEmitter=new C.Q5,this._foldingModel=Ze,this._foldingModelListener=Ze.onDidChange(Je=>this.updateHiddenRanges()),this._hiddenRanges=[],Ze.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let Ze=!1,Je=[],xt=0,yt=0,Xt=Number.MAX_VALUE,ni=-1,gi=this._foldingModel.regions;for(;xt<gi.length;xt++){if(!gi.isCollapsed(xt))continue;let Gi=gi.getStartLineNumber(xt)+1,ji=gi.getEndLineNumber(xt);Xt<=Gi&&ji<=ni||(!Ze&&yt<this._hiddenRanges.length&&this._hiddenRanges[yt].startLineNumber===Gi&&this._hiddenRanges[yt].endLineNumber===ji?(Je.push(this._hiddenRanges[yt]),yt++):(Ze=!0,Je.push(new le.e(Gi,1,ji,1))),Xt=Gi,ni=ji)}(Ze||yt<this._hiddenRanges.length)&&this.applyHiddenRanges(Je)}applyMemento(Ze){if(!Array.isArray(Ze)||Ze.length===0)return!1;let Je=[];for(let xt of Ze){if(!xt.startLineNumber||!xt.endLineNumber)return!1;Je.push(new le.e(xt.startLineNumber+1,1,xt.endLineNumber,1))}return this.applyHiddenRanges(Je),!0}getMemento(){return this._hiddenRanges.map(Ze=>({startLineNumber:Ze.startLineNumber-1,endLineNumber:Ze.endLineNumber}))}applyHiddenRanges(Ze){this._hiddenRanges=Ze,this._updateEventEmitter.fire(Ze)}hasRanges(){return this._hiddenRanges.length>0}isHidden(Ze){return G(this._hiddenRanges,Ze)!==null}adjustSelections(Ze){let Je=!1,xt=this._foldingModel.textModel,yt=null,Xt=ni=>((!yt||!$(ni,yt))&&(yt=G(this._hiddenRanges,ni)),yt?yt.startLineNumber-1:null);for(let ni=0,gi=Ze.length;ni<gi;ni++){let Gi=Ze[ni],ji=Xt(Gi.startLineNumber);ji&&(Gi=Gi.setStartPosition(ji,xt.getLineMaxColumn(ji)),Je=!0);let is=Xt(Gi.endLineNumber);is&&(Gi=Gi.setEndPosition(is,xt.getLineMaxColumn(is)),Je=!0),Ze[ni]=Gi}return Je}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function $(St,Ze){return St>=Ze.startLineNumber&&St<=Ze.endLineNumber}function G(St,Ze){let Je=(0,De.lG)(St,xt=>Ze<xt.startLineNumber)-1;return Je>=0&&St[Je].endLineNumber>=Ze?St[Je]:null}var q=c(24979);const p=5e3,S="indent";class B{constructor(Ze){this.editorModel=Ze,this.id=S}dispose(){}compute(Ze){let Je=m.zu.getFoldingRules(this.editorModel.getLanguageId()),xt=Je&&!!Je.offSide,yt=Je&&Je.markers;return Promise.resolve(me(this.editorModel,xt,yt))}}class te{constructor(Ze){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=Ze}insertFirst(Ze,Je,xt){if(Ze>r||Je>r)return;let yt=this._length;this._startIndexes[yt]=Ze,this._endIndexes[yt]=Je,this._length++,xt<1e3&&(this._indentOccurrences[xt]=(this._indentOccurrences[xt]||0)+1)}toIndentRanges(Ze){if(this._length<=this._foldingRangesLimit){let Je=new Uint32Array(this._length),xt=new Uint32Array(this._length);for(let yt=this._length-1,Xt=0;yt>=0;yt--,Xt++)Je[Xt]=this._startIndexes[yt],xt[Xt]=this._endIndexes[yt];return new w(Je,xt)}else{let Je=0,xt=this._indentOccurrences.length;for(let gi=0;gi<this._indentOccurrences.length;gi++){let Gi=this._indentOccurrences[gi];if(Gi){if(Gi+Je>this._foldingRangesLimit){xt=gi;break}Je+=Gi}}const yt=Ze.getOptions().tabSize;let Xt=new Uint32Array(this._foldingRangesLimit),ni=new Uint32Array(this._foldingRangesLimit);for(let gi=this._length-1,Gi=0;gi>=0;gi--){let ji=this._startIndexes[gi],is=Ze.getLineContent(ji),Hi=q.yO.computeIndentLevel(is,yt);(Hi<xt||Hi===xt&&Je++<this._foldingRangesLimit)&&(Xt[Gi]=ji,ni[Gi]=this._endIndexes[gi],Gi++)}return new w(Xt,ni)}}}function me(St,Ze,Je,xt=p){const yt=St.getOptions().tabSize;let Xt=new te(xt),ni;Je&&(ni=new RegExp(`(${Je.start.source})|(?:${Je.end.source})`));let gi=[],Gi=St.getLineCount()+1;gi.push({indent:-1,endAbove:Gi,line:Gi});for(let ji=St.getLineCount();ji>0;ji--){let is=St.getLineContent(ji),Hi=q.yO.computeIndentLevel(is,yt),hn=gi[gi.length-1];if(Hi===-1){Ze&&(hn.endAbove=ji);continue}let vt;if(ni&&(vt=is.match(ni)))if(vt[1]){let mt=gi.length-1;for(;mt>0&&gi[mt].indent!==-2;)mt--;if(mt>0){gi.length=mt+1,hn=gi[mt],Xt.insertFirst(ji,hn.line,Hi),hn.line=ji,hn.indent=Hi,hn.endAbove=ji;continue}}else{gi.push({indent:-2,endAbove:ji,line:ji});continue}if(hn.indent>Hi){do gi.pop(),hn=gi[gi.length-1];while(hn.indent>Hi);let mt=hn.endAbove-1;mt-ji>=1&&Xt.insertFirst(ji,mt,Hi)}hn.indent===Hi?hn.endAbove=ji:gi.push({indent:Hi,endAbove:ji,line:ji})}return Xt.toIndentRanges(St)}const de=5e3,Pe={},Me="syntax";class nt{constructor(Ze,Je,xt,yt=de){this.editorModel=Ze,this.providers=Je,this.limit=yt,this.id=Me;for(const Xt of Je)typeof Xt.onDidChange=="function"&&(this.disposables||(this.disposables=new O.SL),this.disposables.add(Xt.onDidChange(xt)))}compute(Ze){return It(this.providers,this.editorModel,Ze).then(Je=>Je?Mt(Je,this.limit):null)}dispose(){var Ze;(Ze=this.disposables)===null||Ze===void 0||Ze.dispose()}}function It(St,Ze,Je){let xt=null,yt=St.map((Xt,ni)=>Promise.resolve(Xt.provideFoldingRanges(Ze,Pe,Je)).then(gi=>{if(!Je.isCancellationRequested&&Array.isArray(gi)){Array.isArray(xt)||(xt=[]);let Gi=Ze.getLineCount();for(let ji of gi)ji.start>0&&ji.end>ji.start&&ji.end<=Gi&&xt.push({start:ji.start,end:ji.end,rank:ni,kind:ji.kind})}},Y.Cp));return Promise.all(yt).then(Xt=>xt)}class ht{constructor(Ze){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=Ze}add(Ze,Je,xt,yt){if(Ze>r||Je>r)return;let Xt=this._length;this._startIndexes[Xt]=Ze,this._endIndexes[Xt]=Je,this._nestingLevels[Xt]=yt,this._types[Xt]=xt,this._length++,yt<30&&(this._nestingLevelCounts[yt]=(this._nestingLevelCounts[yt]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let Ze=new Uint32Array(this._length),Je=new Uint32Array(this._length);for(let xt=0;xt<this._length;xt++)Ze[xt]=this._startIndexes[xt],Je[xt]=this._endIndexes[xt];return new w(Ze,Je,this._types)}else{let Ze=0,Je=this._nestingLevelCounts.length;for(let ni=0;ni<this._nestingLevelCounts.length;ni++){let gi=this._nestingLevelCounts[ni];if(gi){if(gi+Ze>this._foldingRangesLimit){Je=ni;break}Ze+=gi}}let xt=new Uint32Array(this._foldingRangesLimit),yt=new Uint32Array(this._foldingRangesLimit),Xt=[];for(let ni=0,gi=0;ni<this._length;ni++){let Gi=this._nestingLevels[ni];(Gi<Je||Gi===Je&&Ze++<this._foldingRangesLimit)&&(xt[gi]=this._startIndexes[ni],yt[gi]=this._endIndexes[ni],Xt[gi]=this._types[ni],gi++)}return new w(xt,yt,Xt)}}}function Mt(St,Ze){let Je=St.sort((ni,gi)=>{let Gi=ni.start-gi.start;return Gi===0&&(Gi=ni.rank-gi.rank),Gi}),xt=new ht(Ze),yt,Xt=[];for(let ni of Je)if(!yt)yt=ni,xt.add(ni.start,ni.end,ni.kind&&ni.kind.value,Xt.length);else if(ni.start>yt.start)if(ni.end<=yt.end)Xt.push(yt),yt=ni,xt.add(ni.start,ni.end,ni.kind&&ni.kind.value,Xt.length);else{if(ni.start>yt.end){do yt=Xt.pop();while(yt&&ni.start>yt.end);yt&&Xt.push(yt),yt=ni}xt.add(ni.start,ni.end,ni.kind&&ni.kind.value,Xt.length)}return xt.toIndentRanges()}const it="init";class kt{constructor(Ze,Je,xt,yt){if(this.editorModel=Ze,this.id=it,Je.length){let Xt=ni=>({range:{startLineNumber:ni.startLineNumber,startColumn:0,endLineNumber:ni.endLineNumber,endColumn:Ze.getLineLength(ni.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=Ze.deltaDecorations([],Je.map(Xt)),this.timeout=setTimeout(xt,yt)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(Ze){let Je=[];if(this.decorationIds)for(let xt of this.decorationIds){let yt=this.editorModel.getDecorationRange(xt);yt&&Je.push({start:yt.startLineNumber,end:yt.endLineNumber,rank:1})}return Promise.resolve(Mt(Je,Number.MAX_VALUE))}}var ze=c(63580),he=c(38819),ke=c(73910),et=c(97781),at=c(73046),rt=c(59554);const Ne=(0,rt.q5)("folding-expanded",at.lA.chevronDown,(0,ze.N)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),Oe=(0,rt.q5)("folding-collapsed",at.lA.chevronRight,(0,ze.N)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin."));class we{constructor(Ze){this.editor=Ze,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(Ze,Je){return Je?we.HIDDEN_RANGE_DECORATION:Ze?this.showFoldingHighlights?we.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:we.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?we.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:we.EXPANDED_VISUAL_DECORATION}deltaDecorations(Ze,Je){return this.editor.deltaDecorations(Ze,Je)}changeDecorations(Ze){return this.editor.changeDecorations(Ze)}}we.COLLAPSED_VISUAL_DECORATION=q.qx.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:et.kS.asClassName(Oe)}),we.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=q.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:et.kS.asClassName(Oe)}),we.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=q.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:et.kS.asClassName(Ne)}),we.EXPANDED_VISUAL_DECORATION=q.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+et.kS.asClassName(Ne)}),we.HIDDEN_RANGE_DECORATION=q.qx.register({description:"folding-hidden-range-decoration",stickiness:1});var Ye=function(St,Ze,Je,xt){var yt=arguments.length,Xt=yt<3?Ze:xt===null?xt=Object.getOwnPropertyDescriptor(Ze,Je):xt,ni;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Xt=Reflect.decorate(St,Ze,Je,xt);else for(var gi=St.length-1;gi>=0;gi--)(ni=St[gi])&&(Xt=(yt<3?ni(Xt):yt>3?ni(Ze,Je,Xt):ni(Ze,Je))||Xt);return yt>3&&Xt&&Object.defineProperty(Ze,Je,Xt),Xt},st=function(St,Ze){return function(Je,xt){Ze(Je,xt,St)}};const Pt=new he.uy("foldingEnabled",!1);let Qt=class pu extends O.JT{constructor(Ze,Je){super(),this.contextKeyService=Je,this.localToDispose=this._register(new O.SL),this.editor=Ze;const xt=this.editor.getOptions();this._isEnabled=xt.get(37),this._useFoldingProviders=xt.get(38)!=="indentation",this._unfoldOnClickAfterEndOfLine=xt.get(41),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=xt.get(40),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new we(Ze),this.foldingDecorationProvider.autoHideFoldingControls=xt.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=xt.get(39),this.foldingEnabled=Pt.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(yt=>{if(yt.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),yt.hasChanged(98)||yt.hasChanged(39)){const Xt=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=Xt.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=Xt.get(39),this.onModelContentChanged()}yt.hasChanged(38)&&(this._useFoldingProviders=this.editor.getOptions().get(38)!=="indentation",this.onFoldingStrategyChanged()),yt.hasChanged(41)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(41)),yt.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(Ze){return Ze.getContribution(pu.ID)}saveViewState(){let Ze=this.editor.getModel();if(!Ze||!this._isEnabled||Ze.isTooLargeForTokenization())return{};if(this.foldingModel){let Je=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),xt=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:Je,lineCount:Ze.getLineCount(),provider:xt,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(Ze){let Je=this.editor.getModel();if(!Je||!this._isEnabled||Je.isTooLargeForTokenization()||!this.hiddenRangeModel||!Ze||Ze.lineCount!==Je.getLineCount()||(this._currentModelHasFoldedImports=!!Ze.foldedImports,!Ze.collapsedRegions))return;(Ze.provider===Me||Ze.provider===it)&&(this.foldingStateMemento=Ze);const xt=Ze.collapsedRegions;if(this.hiddenRangeModel.applyMemento(xt)){const yt=this.getFoldingModel();yt&&yt.then(Xt=>{if(Xt){this._restoringViewState=!0;try{Xt.applyMemento(xt)}finally{this._restoringViewState=!1}}}).then(void 0,Y.dL)}}onModelChanged(){this.localToDispose.clear();let Ze=this.editor.getModel();!this._isEnabled||!Ze||Ze.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new f(Ze,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new Z(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(Je=>this.onHiddenRangesChanges(Je))),this.updateScheduler=new g.vp(200),this.cursorChangedScheduler=new g.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(I.aC.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(Je=>this.onEditorMouseDown(Je))),this.localToDispose.add(this.editor.onMouseUp(Je=>this.onEditorMouseUp(Je))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(Ze){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new B(Ze),this._useFoldingProviders&&this.foldingModel){let Je=I.aC.ordered(this.foldingModel.textModel);if(Je.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new kt(Ze,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);Je.length>0&&(this.rangeProvider=new nt(Ze,Je,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const Ze=this.foldingModel;if(!Ze)return null;const Je=this.getRangeProvider(Ze.textModel);let xt=this.foldingRegionPromise=(0,g.PG)(yt=>Je.compute(yt));return xt.then(yt=>{if(yt&&xt===this.foldingRegionPromise){let Xt;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const Gi=yt.setCollapsedAllOfType(I.AD.Imports.value,!0);Gi&&(Xt=k.ZF.capture(this.editor),this._currentModelHasFoldedImports=Gi)}let ni=this.editor.getSelections(),gi=ni?ni.map(Gi=>Gi.startLineNumber):[];Ze.update(yt,gi),Xt&&Xt.restore(this.editor)}return Ze})}).then(void 0,Ze=>((0,Y.dL)(Ze),null)))}onHiddenRangesChanges(Ze){if(this.hiddenRangeModel&&Ze.length&&!this._restoringViewState){let Je=this.editor.getSelections();Je&&this.hiddenRangeModel.adjustSelections(Je)&&this.editor.setSelections(Je)}this.editor.setHiddenAreas(Ze)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const Ze=this.getFoldingModel();Ze&&Ze.then(Je=>{if(Je){let xt=this.editor.getSelections();if(xt&&xt.length>0){let yt=[];for(let Xt of xt){let ni=Xt.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(ni)&&yt.push(...Je.getAllRegionsAtLine(ni,gi=>gi.isCollapsed&&ni>gi.startLineNumber))}yt.length&&(Je.toggleCollapseState(yt),this.reveal(xt[0].getPosition()))}}}).then(void 0,Y.dL)}onEditorMouseDown(Ze){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!Ze.target||!Ze.target.range||!Ze.event.leftButton&&!Ze.event.middleButton)return;const Je=Ze.target.range;let xt=!1;switch(Ze.target.type){case 4:const yt=Ze.target.detail,Xt=Ze.target.element.offsetLeft;if(yt.offsetX-Xt<5)return;xt=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!Ze.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let gi=this.editor.getModel();if(gi&&Je.startColumn===gi.getLineMaxColumn(Je.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:Je.startLineNumber,iconClicked:xt}}onEditorMouseUp(Ze){const Je=this.getFoldingModel();if(!Je||!this.mouseDownInfo||!Ze.target)return;let xt=this.mouseDownInfo.lineNumber,yt=this.mouseDownInfo.iconClicked,Xt=Ze.target.range;if(!(!Xt||Xt.startLineNumber!==xt)){if(yt){if(Ze.target.type!==4)return}else{let ni=this.editor.getModel();if(!ni||Xt.startColumn!==ni.getLineMaxColumn(xt))return}Je.then(ni=>{if(ni){let gi=ni.getRegionAtLine(xt);if(gi&&gi.startLineNumber===xt){let Gi=gi.isCollapsed;if(yt||Gi){let ji=Ze.event.altKey,is=[];if(ji){let Hi=vt=>!vt.containedBy(gi)&&!gi.containedBy(vt),hn=ni.getRegionsInside(null,Hi);for(const vt of hn)vt.isCollapsed&&is.push(vt);is.length===0&&(is=hn)}else{let Hi=Ze.event.middleButton||Ze.event.shiftKey;if(Hi)for(const hn of ni.getRegionsInside(gi))hn.isCollapsed===Gi&&is.push(hn);(Gi||!Hi||is.length===0)&&is.push(gi)}ni.toggleCollapseState(is),this.reveal({lineNumber:xt,column:1})}}}}).then(void 0,Y.dL)}}reveal(Ze){this.editor.revealPositionInCenterIfOutsideViewport(Ze,0)}};Qt.ID="editor.contrib.folding",Qt=Ye([st(1,he.i6)],Qt);class ci extends P.R6{runEditorCommand(Ze,Je,xt){let yt=Qt.get(Je);if(!yt)return;let Xt=yt.getFoldingModel();if(Xt)return this.reportTelemetry(Ze,Je),Xt.then(ni=>{if(ni){this.invoke(yt,ni,Je,xt);const gi=Je.getSelection();gi&&yt.reveal(gi.getStartPosition())}})}getSelectedLines(Ze){let Je=Ze.getSelections();return Je?Je.map(xt=>xt.startLineNumber):[]}getLineNumbers(Ze,Je){return Ze&&Ze.selectionLines?Ze.selectionLines.map(xt=>xt+1):this.getSelectedLines(Je)}run(Ze,Je){}}function Gt(St){if(!J.o8(St)){if(!J.Kn(St))return!1;const Ze=St;if(!J.o8(Ze.levels)&&!J.hj(Ze.levels)||!J.o8(Ze.direction)&&!J.HD(Ze.direction)||!J.o8(Ze.selectionLines)&&(!J.kJ(Ze.selectionLines)||!Ze.selectionLines.every(J.hj)))return!1}return!0}class Lt extends ci{constructor(){super({id:"editor.unfold",label:ze.N("unfoldAction.label","Unfold"),alias:"Unfold",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:Gt,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Ze,Je,xt,yt){let Xt=yt&&yt.levels||1,ni=this.getLineNumbers(yt,xt);yt&&yt.direction==="up"?h(Je,!1,Xt,ni):L(Je,!1,Xt,ni)}}class Ai extends ci{constructor(){super({id:"editor.unfoldRecursively",label:ze.N("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2137),weight:100}})}invoke(Ze,Je,xt,yt){L(Je,!1,Number.MAX_VALUE,this.getSelectedLines(xt))}}class oi extends ci{constructor(){super({id:"editor.fold",label:ze.N("foldAction.label","Fold"),alias:"Fold",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:Gt,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Ze,Je,xt,yt){let Xt=this.getLineNumbers(yt,xt);const ni=yt&&yt.levels,gi=yt&&yt.direction;typeof ni!="number"&&typeof gi!="string"?R(Je,!0,Xt):gi==="up"?h(Je,!0,ni||1,Xt):L(Je,!0,ni||1,Xt)}}class $e extends ci{constructor(){super({id:"editor.toggleFold",label:ze.N("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2090),weight:100}})}invoke(Ze,Je,xt){let yt=this.getSelectedLines(xt);v(Je,1,yt)}}class Xe extends ci{constructor(){super({id:"editor.foldRecursively",label:ze.N("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2135),weight:100}})}invoke(Ze,Je,xt){let yt=this.getSelectedLines(xt);L(Je,!0,Number.MAX_VALUE,yt)}}class wi extends ci{constructor(){super({id:"editor.foldAllBlockComments",label:ze.N("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2133),weight:100}})}invoke(Ze,Je,xt){if(Je.regions.hasTypes())ie(Je,I.AD.Comment.value,!0);else{const yt=xt.getModel();if(!yt)return;const Xt=m.zu.getComments(yt.getLanguageId());if(Xt&&Xt.blockCommentStartToken){let ni=new RegExp("^\\s*"+(0,y.ec)(Xt.blockCommentStartToken));K(Je,ni,!0)}}}}class ii extends ci{constructor(){super({id:"editor.foldAllMarkerRegions",label:ze.N("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2077),weight:100}})}invoke(Ze,Je,xt){if(Je.regions.hasTypes())ie(Je,I.AD.Region.value,!0);else{const yt=xt.getModel();if(!yt)return;const Xt=m.zu.getFoldingRules(yt.getLanguageId());if(Xt&&Xt.markers&&Xt.markers.start){let ni=new RegExp(Xt.markers.start);K(Je,ni,!0)}}}}class Ui extends ci{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:ze.N("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2078),weight:100}})}invoke(Ze,Je,xt){if(Je.regions.hasTypes())ie(Je,I.AD.Region.value,!1);else{const yt=xt.getModel();if(!yt)return;const Xt=m.zu.getFoldingRules(yt.getLanguageId());if(Xt&&Xt.markers&&Xt.markers.start){let ni=new RegExp(Xt.markers.start);K(Je,ni,!1)}}}}class Mn extends ci{constructor(){super({id:"editor.foldAllExcept",label:ze.N("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2131),weight:100}})}invoke(Ze,Je,xt){let yt=this.getSelectedLines(xt);W(Je,!0,yt)}}class Ri extends ci{constructor(){super({id:"editor.unfoldAllExcept",label:ze.N("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2129),weight:100}})}invoke(Ze,Je,xt){let yt=this.getSelectedLines(xt);W(Je,!1,yt)}}class ps extends ci{constructor(){super({id:"editor.foldAll",label:ze.N("foldAllAction.label","Fold All"),alias:"Fold All",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2069),weight:100}})}invoke(Ze,Je,xt){L(Je,!0)}}class Zn extends ci{constructor(){super({id:"editor.unfoldAll",label:ze.N("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2088),weight:100}})}invoke(Ze,Je,xt){L(Je,!1)}}class Bn extends ci{getFoldingLevel(){return parseInt(this.id.substr(Bn.ID_PREFIX.length))}invoke(Ze,Je,xt){T(Je,this.getFoldingLevel(),!0,this.getSelectedLines(xt))}}Bn.ID_PREFIX="editor.foldLevel",Bn.ID=St=>Bn.ID_PREFIX+St;class Xi extends ci{constructor(){super({id:"editor.gotoParentFold",label:ze.N("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,weight:100}})}invoke(Ze,Je,xt){let yt=this.getSelectedLines(xt);if(yt.length>0){let Xt=ce(yt[0],Je);Xt!==null&&xt.setSelection({startLineNumber:Xt,startColumn:1,endLineNumber:Xt,endColumn:1})}}}class Vn extends ci{constructor(){super({id:"editor.gotoPreviousFold",label:ze.N("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,weight:100}})}invoke(Ze,Je,xt){let yt=this.getSelectedLines(xt);if(yt.length>0){let Xt=_e(yt[0],Je);Xt!==null&&xt.setSelection({startLineNumber:Xt,startColumn:1,endLineNumber:Xt,endColumn:1})}}}class qi extends ci{constructor(){super({id:"editor.gotoNextFold",label:ze.N("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,weight:100}})}invoke(Ze,Je,xt){let yt=this.getSelectedLines(xt);if(yt.length>0){let Xt=ve(yt[0],Je);Xt!==null&&xt.setSelection({startLineNumber:Xt,startColumn:1,endLineNumber:Xt,endColumn:1})}}}(0,P._K)(Qt.ID,Qt),(0,P.Qr)(Lt),(0,P.Qr)(Ai),(0,P.Qr)(oi),(0,P.Qr)(Xe),(0,P.Qr)(ps),(0,P.Qr)(Zn),(0,P.Qr)(wi),(0,P.Qr)(ii),(0,P.Qr)(Ui),(0,P.Qr)(Mn),(0,P.Qr)(Ri),(0,P.Qr)($e),(0,P.Qr)(Xi),(0,P.Qr)(Vn),(0,P.Qr)(qi);for(let St=1;St<=7;St++)(0,P.QG)(new Bn({id:Bn.ID(St),label:ze.N("foldLevelAction.label","Fold Level {0}",St),alias:`Fold Level ${St}`,precondition:Pt,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2048|21+St),weight:100}}));const je=(0,ke.P6)("editor.foldBackground",{light:(0,ke.Zn)(ke.hE,.3),dark:(0,ke.Zn)(ke.hE,.3),hc:null},ze.N("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),Tt=(0,ke.P6)("editorGutter.foldingControlForeground",{dark:ke.XZ,light:ke.XZ,hc:ke.XZ},ze.N("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,et.Ic)((St,Ze)=>{const Je=St.getColor(je);Je&&Ze.addRule(`.monaco-editor .folded-background { background-color: ${Je}; }`);const xt=St.getColor(Tt);xt&&Ze.addRule(`
		.monaco-editor .cldr${et.kS.asCSSSelector(Ne)},
		.monaco-editor .cldr${et.kS.asCSSSelector(Oe)} {
			color: ${xt} !important;
		}
		`)})},93761:function(Yt,Ue,c){"use strict";c.d(Ue,{xC:function(){return K},Zg:function(){return T},x$:function(){return ie},Qq:function(){return _e},Qs:function(){return Z}});var g=c(35996),Y=c(9488),Q=c(71050),O=c(17301),y=c(56899),J=c(91741),k=c(98401),P=c(70666),s=c(55812),I=c(65520),m=c(50187),C=c(24314),V=c(3860),r=c(10351),x=c(90469),w=c(88216),D=c(69939),f=c(63580),v=c(94565);class L{constructor(G){this.value=G,this._lower=G.toLowerCase()}static toKey(G){return typeof G=="string"?G.toLowerCase():G._lower}}var h=c(72065),R=function($,G,q,p){function S(B){return B instanceof q?B:new q(function(te){te(B)})}return new(q||(q=Promise))(function(B,te){function me(Me){try{Pe(p.next(Me))}catch(nt){te(nt)}}function de(Me){try{Pe(p.throw(Me))}catch(nt){te(nt)}}function Pe(Me){Me.done?B(Me.value):S(Me.value).then(me,de)}Pe((p=p.apply($,G||[])).next())})};function T($){if($=$.filter(S=>S.range),!$.length)return;let{range:G}=$[0];for(let S=1;S<$.length;S++)G=C.e.plusRange(G,$[S].range);const{startLineNumber:q,endLineNumber:p}=G;q===p?$.length===1?(0,g.Z9)(f.N("hint11","Made 1 formatting edit on line {0}",q)):(0,g.Z9)(f.N("hintn1","Made {0} formatting edits on line {1}",$.length,q)):$.length===1?(0,g.Z9)(f.N("hint1n","Made 1 formatting edit between lines {0} and {1}",q,p)):(0,g.Z9)(f.N("hintnn","Made {0} formatting edits between lines {1} and {2}",$.length,q,p))}function W($){const G=[],q=new Set,p=r.Az.ordered($);for(const B of p)G.push(B),B.extensionId&&q.add(L.toKey(B.extensionId));const S=r.vN.ordered($);for(const B of S){if(B.extensionId){if(q.has(L.toKey(B.extensionId)))continue;q.add(L.toKey(B.extensionId))}G.push({displayName:B.displayName,extensionId:B.extensionId,provideDocumentFormattingEdits(te,me,de){return B.provideDocumentRangeFormattingEdits(te,te.getFullModelRange(),me,de)}})}return G}class K{static setFormatterSelector(G){return{dispose:K._selectors.unshift(G)}}static select(G,q,p){return R(this,void 0,void 0,function*(){if(G.length===0)return;const S=y.$.first(K._selectors);if(S)return yield S(G,q,p)})}}K._selectors=new J.S;function ie($,G,q,p,S,B){return R(this,void 0,void 0,function*(){const te=$.get(h.TG),me=(0,I.CL)(G)?G.getModel():G,de=r.vN.ordered(me),Pe=yield K.select(de,me,p);Pe&&(S.report(Pe),yield te.invokeFunction(ce,Pe,G,q,B))})}function ce($,G,q,p,S){return R(this,void 0,void 0,function*(){const B=$.get(x.p);let te,me;(0,I.CL)(q)?(te=q.getModel(),me=new s.Dl(q,5,void 0,S)):(te=q,me=new s.YQ(q,S));let de=[],Pe=0;for(let Mt of(0,Y._2)(p).sort(C.e.compareRangesUsingStarts))Pe>0&&C.e.areIntersectingOrTouching(de[Pe-1],Mt)?de[Pe-1]=C.e.fromPositions(de[Pe-1].getStartPosition(),Mt.getEndPosition()):Pe=de.push(Mt);const Me=Mt=>R(this,void 0,void 0,function*(){return(yield G.provideDocumentRangeFormattingEdits(te,Mt,te.getFormattingOptions(),me.token))||[]}),nt=(Mt,it)=>{if(!Mt.length||!it.length)return!1;const kt=Mt.reduce((ze,he)=>C.e.plusRange(ze,he.range),Mt[0].range);if(!it.some(ze=>C.e.intersectRanges(kt,ze.range)))return!1;for(let ze of Mt)for(let he of it)if(C.e.intersectRanges(ze.range,he.range))return!0;return!1},It=[],ht=[];try{for(let Mt of de){if(me.token.isCancellationRequested)return!0;ht.push(yield Me(Mt))}for(let Mt=0;Mt<de.length;++Mt)for(let it=Mt+1;it<de.length;++it){if(me.token.isCancellationRequested)return!0;if(nt(ht[Mt],ht[it])){const kt=C.e.plusRange(de[Mt],de[it]),ze=yield Me(kt);de.splice(it,1),de.splice(Mt,1),de.push(kt),ht.splice(it,1),ht.splice(Mt,1),ht.push(ze),Mt=0,it=0}}for(let Mt of ht){if(me.token.isCancellationRequested)return!0;const it=yield B.computeMoreMinimalEdits(te.uri,Mt);it&&It.push(...it)}}finally{me.dispose()}if(It.length===0)return!1;if((0,I.CL)(q))D.V.execute(q,It,!0),T(It),q.revealPositionInCenterIfOutsideViewport(q.getPosition(),1);else{const[{range:Mt}]=It,it=new V.Y(Mt.startLineNumber,Mt.startColumn,Mt.endLineNumber,Mt.endColumn);te.pushEditOperations([it],It.map(kt=>({text:kt.text,range:C.e.lift(kt.range),forceMoveMarkers:!0})),kt=>{for(const{range:ze}of kt)if(C.e.areIntersectingOrTouching(ze,it))return[new V.Y(ze.startLineNumber,ze.startColumn,ze.endLineNumber,ze.endColumn)];return null})}return!0})}function _e($,G,q,p,S){return R(this,void 0,void 0,function*(){const B=$.get(h.TG),te=(0,I.CL)(G)?G.getModel():G,me=W(te),de=yield K.select(me,te,q);de&&(p.report(de),yield B.invokeFunction(ve,de,G,q,S))})}function ve($,G,q,p,S){return R(this,void 0,void 0,function*(){const B=$.get(x.p);let te,me;(0,I.CL)(q)?(te=q.getModel(),me=new s.Dl(q,5,void 0,S)):(te=q,me=new s.YQ(q,S));let de;try{const Pe=yield G.provideDocumentFormattingEdits(te,te.getFormattingOptions(),me.token);if(de=yield B.computeMoreMinimalEdits(te.uri,Pe),me.token.isCancellationRequested)return!0}finally{me.dispose()}if(!de||de.length===0)return!1;if((0,I.CL)(q))D.V.execute(q,de,p!==2),p!==2&&(T(de),q.revealPositionInCenterIfOutsideViewport(q.getPosition(),1));else{const[{range:Pe}]=de,Me=new V.Y(Pe.startLineNumber,Pe.startColumn,Pe.endLineNumber,Pe.endColumn);te.pushEditOperations([Me],de.map(nt=>({text:nt.text,range:C.e.lift(nt.range),forceMoveMarkers:!0})),nt=>{for(const{range:It}of nt)if(C.e.areIntersectingOrTouching(It,Me))return[new V.Y(It.startLineNumber,It.startColumn,It.endLineNumber,It.endColumn)];return null})}return!0})}function De($,G,q,p,S){return R(this,void 0,void 0,function*(){const B=r.vN.ordered(G);for(const te of B){let me=yield Promise.resolve(te.provideDocumentRangeFormattingEdits(G,q,p,S)).catch(O.Cp);if((0,Y.Of)(me))return yield $.computeMoreMinimalEdits(G.uri,me)}})}function le($,G,q,p){return R(this,void 0,void 0,function*(){const S=W(G);for(const B of S){let te=yield Promise.resolve(B.provideDocumentFormattingEdits(G,q,p)).catch(O.Cp);if((0,Y.Of)(te))return yield $.computeMoreMinimalEdits(G.uri,te)}})}function Z($,G,q,p,S){const B=r.ln.ordered(G);return B.length===0||B[0].autoFormatTriggerCharacters.indexOf(p)<0?Promise.resolve(void 0):Promise.resolve(B[0].provideOnTypeFormattingEdits(G,q,p,S,Q.T.None)).catch(O.Cp).then(te=>$.computeMoreMinimalEdits(G.uri,te))}v.P.registerCommand("_executeFormatRangeProvider",function($,...G){return R(this,void 0,void 0,function*(){const[q,p,S]=G;(0,k.p_)(P.o.isUri(q)),(0,k.p_)(C.e.isIRange(p));const B=$.get(w.S),te=$.get(x.p),me=yield B.createModelReference(q);try{return De(te,me.object.textEditorModel,C.e.lift(p),S,Q.T.None)}finally{me.dispose()}})}),v.P.registerCommand("_executeFormatDocumentProvider",function($,...G){return R(this,void 0,void 0,function*(){const[q,p]=G;(0,k.p_)(P.o.isUri(q));const S=$.get(w.S),B=$.get(x.p),te=yield S.createModelReference(q);try{return le(B,te.object.textEditorModel,p,Q.T.None)}finally{te.dispose()}})}),v.P.registerCommand("_executeFormatOnTypeProvider",function($,...G){return R(this,void 0,void 0,function*(){const[q,p,S,B]=G;(0,k.p_)(P.o.isUri(q)),(0,k.p_)(m.L.isIPosition(p)),(0,k.p_)(typeof S=="string");const te=$.get(w.S),me=$.get(x.p),de=yield te.createModelReference(q);try{return Z(me,de.object.textEditorModel,m.L.lift(p),S,B)}finally{de.dispose()}})})},44818:function(Yt,Ue,c){"use strict";c.r(Ue);var g=c(9488),Y=c(71050),Q=c(17301),O=c(22258),y=c(5976),J=c(16830),k=c(11640),P=c(44906),s=c(24314),I=c(29102),m=c(10351),C=c(90469),V=c(93761),r=c(69939),x=c(63580),w=c(94565),D=c(38819),f=c(72065),v=c(90535),L=function(ce,_e,ve,De){var le=arguments.length,Z=le<3?_e:De===null?De=Object.getOwnPropertyDescriptor(_e,ve):De,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(ce,_e,ve,De);else for(var G=ce.length-1;G>=0;G--)($=ce[G])&&(Z=(le<3?$(Z):le>3?$(_e,ve,Z):$(_e,ve))||Z);return le>3&&Z&&Object.defineProperty(_e,ve,Z),Z},h=function(ce,_e){return function(ve,De){_e(ve,De,ce)}},R=function(ce,_e,ve,De){function le(Z){return Z instanceof ve?Z:new ve(function($){$(Z)})}return new(ve||(ve=Promise))(function(Z,$){function G(S){try{p(De.next(S))}catch(B){$(B)}}function q(S){try{p(De.throw(S))}catch(B){$(B)}}function p(S){S.done?Z(S.value):le(S.value).then(G,q)}p((De=De.apply(ce,_e||[])).next())})};let T=class{constructor(_e,ve){this._workerService=ve,this._callOnDispose=new y.SL,this._callOnModel=new y.SL,this._editor=_e,this._callOnDispose.add(_e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(_e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(_e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(m.ln.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(48)||!this._editor.hasModel())return;const _e=this._editor.getModel(),[ve]=m.ln.ordered(_e);if(!ve||!ve.autoFormatTriggerCharacters)return;let De=new P.q;for(let le of ve.autoFormatTriggerCharacters)De.add(le.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(le=>{let Z=le.charCodeAt(le.length-1);De.has(Z)&&this._trigger(String.fromCharCode(Z))}))}_trigger(_e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const ve=this._editor.getModel(),De=this._editor.getPosition();let le=!1;const Z=this._editor.onDidChangeModelContent($=>{if($.isFlush){le=!0,Z.dispose();return}for(let G=0,q=$.changes.length;G<q;G++)if($.changes[G].range.endLineNumber<=De.lineNumber){le=!0,Z.dispose();return}});(0,V.Qs)(this._workerService,ve,De,_e,ve.getFormattingOptions()).then($=>{Z.dispose(),!le&&(0,g.Of)($)&&(r.V.execute(this._editor,$,!0),(0,V.Zg)($))},$=>{throw Z.dispose(),$})}};T.ID="editor.contrib.autoFormat",T=L([h(1,C.p)],T);let W=class{constructor(_e,ve){this.editor=_e,this._instantiationService=ve,this._callOnDispose=new y.SL,this._callOnModel=new y.SL,this._callOnDispose.add(_e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(_e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(_e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(m.vN.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(47)&&this.editor.hasModel()&&m.vN.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:_e})=>this._trigger(_e)))}_trigger(_e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(V.x$,this.editor,_e,2,v.E.None,Y.T.None).catch(Q.dL))}};W.ID="editor.contrib.formatOnPaste",W=L([h(1,f.TG)],W);class K extends J.R6{constructor(){super({id:"editor.action.formatDocument",label:x.N("formatDocument.label","Format Document"),alias:"Format Document",precondition:D.Ao.and(I.u.notInCompositeEditor,I.u.writable,I.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:I.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(_e,ve){return R(this,void 0,void 0,function*(){if(ve.hasModel()){const De=_e.get(f.TG);yield _e.get(v.e).showWhile(De.invokeFunction(V.Qq,ve,1,v.E.None,Y.T.None),250)}})}}class ie extends J.R6{constructor(){super({id:"editor.action.formatSelection",label:x.N("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:D.Ao.and(I.u.writable,I.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:I.u.editorTextFocus,primary:(0,O.gx)(2089,2084),weight:100},contextMenuOpts:{when:I.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(_e,ve){return R(this,void 0,void 0,function*(){if(!ve.hasModel())return;const De=_e.get(f.TG),le=ve.getModel(),Z=ve.getSelections().map(G=>G.isEmpty()?new s.e(G.startLineNumber,1,G.startLineNumber,le.getLineMaxColumn(G.startLineNumber)):G);yield _e.get(v.e).showWhile(De.invokeFunction(V.x$,ve,Z,1,v.E.None,Y.T.None),250)})}}(0,J._K)(T.ID,T),(0,J._K)(W.ID,W),(0,J.Qr)(K),(0,J.Qr)(ie),w.P.registerCommand("editor.action.format",ce=>R(void 0,void 0,void 0,function*(){const _e=ce.get(k.$).getFocusedCodeEditor();if(!_e||!_e.hasModel())return;const ve=ce.get(w.H);_e.getSelection().isEmpty()?yield ve.executeCommand("editor.action.formatDocument"):yield ve.executeCommand("editor.action.formatSelection")}))},69939:function(Yt,Ue,c){"use strict";c.d(Ue,{V:function(){return Q}});var g=c(69386),Y=c(24314);class Q{static _handleEolEdits(y,J){let k,P=[];for(let s of J)typeof s.eol=="number"&&(k=s.eol),s.range&&typeof s.text=="string"&&P.push(s);return typeof k=="number"&&y.hasModel()&&y.getModel().pushEOL(k),P}static _isFullModelReplaceEdit(y,J){if(!y.hasModel())return!1;const k=y.getModel(),P=k.validateRange(J.range);return k.getFullModelRange().equalsRange(P)}static execute(y,J,k){k&&y.pushUndoStop();const P=Q._handleEolEdits(y,J);P.length===1&&Q._isFullModelReplaceEdit(y,P[0])?y.executeEdits("formatEditsCommand",P.map(s=>g.h.replace(Y.e.lift(s.range),s.text))):y.executeEdits("formatEditsCommand",P.map(s=>g.h.replaceMove(Y.e.lift(s.range),s.text))),k&&y.pushUndoStop()}}},17369:function(Yt,Ue,c){"use strict";c.r(Ue),c.d(Ue,{ModesHoverController:function(){return zr}});var g=c(22258),Y=c(5976),Q=c(16830),O=c(24314),y=c(29102),J=c(71531),k=c(15393),P=c(17301),s=c(59365),I=c(98401),m=c(55812),C=c(50187),V=c(10351),r=c(88216),x=c(4669),w=c(1432);function D(be,l){return!!be[l]}class f{constructor(l,E){this.target=l.target,this.hasTriggerModifier=D(l.event,E.triggerModifier),this.hasSideBySideModifier=D(l.event,E.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=l.event.detail<=1}}class v{constructor(l,E){this.keyCodeIsTriggerKey=l.keyCode===E.triggerKey,this.keyCodeIsSideBySideKey=l.keyCode===E.triggerSideBySideKey,this.hasTriggerModifier=D(l,E.triggerModifier)}}class L{constructor(l,E,H,se){this.triggerKey=l,this.triggerModifier=E,this.triggerSideBySideKey=H,this.triggerSideBySideModifier=se}equals(l){return this.triggerKey===l.triggerKey&&this.triggerModifier===l.triggerModifier&&this.triggerSideBySideKey===l.triggerSideBySideKey&&this.triggerSideBySideModifier===l.triggerSideBySideModifier}}function h(be){return be==="altKey"?w.dz?new L(57,"metaKey",6,"altKey"):new L(5,"ctrlKey",6,"altKey"):w.dz?new L(6,"altKey",57,"metaKey"):new L(6,"altKey",5,"ctrlKey")}class R extends Y.JT{constructor(l){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new x.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new x.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new x.Q5),this.onCancel=this._onCancel.event,this._editor=l,this._opts=h(this._editor.getOption(69)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(E=>{if(E.hasChanged(69)){const H=h(this._editor.getOption(69));if(this._opts.equals(H))return;this._opts=H,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(E=>this._onEditorMouseMove(new f(E,this._opts)))),this._register(this._editor.onMouseDown(E=>this._onEditorMouseDown(new f(E,this._opts)))),this._register(this._editor.onMouseUp(E=>this._onEditorMouseUp(new f(E,this._opts)))),this._register(this._editor.onKeyDown(E=>this._onEditorKeyDown(new v(E,this._opts)))),this._register(this._editor.onKeyUp(E=>this._onEditorKeyUp(new v(E,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(E=>this._onDidChangeCursorSelection(E))),this._register(this._editor.onDidChangeModel(E=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(E=>{(E.scrollTopChanged||E.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(l){l.selection&&l.selection.startColumn!==l.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(l){this._lastMouseMoveEvent=l,this._onMouseMoveOrRelevantKeyDown.fire([l,null])}_onEditorMouseDown(l){this._hasTriggerKeyOnMouseDown=l.hasTriggerModifier,this._lineNumberOnMouseDown=l.target.position?l.target.position.lineNumber:0}_onEditorMouseUp(l){const E=l.target.position?l.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===E&&this._onExecute.fire(l)}_onEditorKeyDown(l){this._lastMouseMoveEvent&&(l.keyCodeIsTriggerKey||l.keyCodeIsSideBySideKey&&l.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,l]):l.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(l){l.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var T=c(65321),W=c(90317),K=c(74741),ie=c(73046),ce=c(41264),_e=c(36248),ve=c(11640),De=c(84527),le=c(83080),Z=c(44742),$=c(24979);const G=new ce.Il(new ce.VS(0,122,204)),q={showArrow:!0,showFrame:!0,className:"",frameColor:G,arrowColor:G,keepEditorSelection:!1},p="vs.editor.contrib.zoneWidget";class S{constructor(l,E,H,se,ne,Le){this.id="",this.domNode=l,this.afterLineNumber=E,this.afterColumn=H,this.heightInLines=se,this._onDomNodeTop=ne,this._onComputedHeight=Le}onDomNodeTop(l){this._onDomNodeTop(l)}onComputedHeight(l){this._onComputedHeight(l)}}class B{constructor(l,E){this._id=l,this._domNode=E}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class te{constructor(l){this._editor=l,this._ruleName=te._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),T.uN(this._ruleName)}set color(l){this._color!==l&&(this._color=l,this._updateStyle())}set height(l){this._height!==l&&(this._height=l,this._updateStyle())}_updateStyle(){T.uN(this._ruleName),T.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(l){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:O.e.fromPositions(l),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}te._IdGenerator=new Z.R(".arrow-decoration-");class me{constructor(l,E={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new Y.SL,this.container=null,this._isShowing=!1,this.editor=l,this.options=_e.I8(E),_e.jB(this.options,q,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(H=>{const se=this._getWidth(H);this.domNode.style.width=se+"px",this.domNode.style.left=this._getLeft(H)+"px",this._onWidth(se)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(l=>{this._viewZone&&l.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new te(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(l){l.frameColor&&(this.options.frameColor=l.frameColor),l.arrowColor&&(this.options.arrowColor=l.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let l=this.options.frameColor.toString();this.container.style.borderTopColor=l,this.container.style.borderBottomColor=l}if(this._arrow&&this.options.arrowColor){let l=this.options.arrowColor.toString();this._arrow.color=l}}_getWidth(l){return l.width-l.minimap.minimapWidth-l.verticalScrollbarWidth}_getLeft(l){return l.minimap.minimapWidth>0&&l.minimap.minimapLeft===0?l.minimap.minimapWidth:0}_onViewZoneTop(l){this.domNode.style.top=l+"px"}_onViewZoneHeight(l){if(this.domNode.style.height=`${l}px`,this.container){let E=l-this._decoratingElementsHeight();this.container.style.height=`${E}px`;const H=this.editor.getLayoutInfo();this._doLayout(E,this._getWidth(H))}this._resizeSash&&this._resizeSash.layout()}get position(){const[l]=this._positionMarkerId;if(!l)return;const E=this.editor.getModel();if(!E)return;const H=E.getDecorationRange(l);if(H)return H.getStartPosition()}show(l,E){const H=O.e.isIRange(l)?O.e.lift(l):O.e.fromPositions(l);this._isShowing=!0,this._showImpl(H,E),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:H,options:$.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(l=>{this._viewZone&&l.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let l=this.editor.getOption(58),E=0;if(this.options.showArrow){let H=Math.round(l/3);E+=2*H}if(this.options.showFrame){let H=Math.round(l/9);E+=2*H}return E}_showImpl(l,E){const H=l.getStartPosition(),se=this.editor.getLayoutInfo(),ne=this._getWidth(se);this.domNode.style.width=`${ne}px`,this.domNode.style.left=this._getLeft(se)+"px";const Le=document.createElement("div");Le.style.overflow="hidden";const Ge=this.editor.getOption(58),Wt=Math.max(12,this.editor.getLayoutInfo().height/Ge*.8);E=Math.min(E,Wt);let Vt=0,wt=0;if(this._arrow&&this.options.showArrow&&(Vt=Math.round(Ge/3),this._arrow.height=Vt,this._arrow.show(H)),this.options.showFrame&&(wt=Math.round(Ge/9)),this.editor.changeViewZones(bn=>{this._viewZone&&bn.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new S(Le,H.lineNumber,H.column,E,Gn=>this._onViewZoneTop(Gn),Gn=>this._onViewZoneHeight(Gn)),this._viewZone.id=bn.addZone(this._viewZone),this._overlayWidget=new B(p+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const bn=this.options.frameWidth?this.options.frameWidth:wt;this.container.style.borderTopWidth=bn+"px",this.container.style.borderBottomWidth=bn+"px"}let ai=E*Ge-this._decoratingElementsHeight();this.container&&(this.container.style.top=Vt+"px",this.container.style.height=ai+"px",this.container.style.overflow="hidden"),this._doLayout(ai,ne),this.options.keepEditorSelection||this.editor.setSelection(l);const Yi=this.editor.getModel();if(Yi){const bn=l.endLineNumber+1;bn<=Yi.getLineCount()?this.revealLine(bn,!1):this.revealLine(Yi.getLineCount(),!0)}}revealLine(l,E){E?this.editor.revealLineInCenter(l,0):this.editor.revealLine(l,0)}setCssClass(l,E){this.container&&(E&&this.container.classList.remove(E),this.container.classList.add(l))}_onWidth(l){}_doLayout(l,E){}_relayout(l){this._viewZone&&this._viewZone.heightInLines!==l&&this.editor.changeViewZones(E=>{this._viewZone&&(this._viewZone.heightInLines=l,E.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new le.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);let l;this._disposables.add(this._resizeSash.onDidStart(E=>{this._viewZone&&(l={startY:E.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{l=void 0})),this._disposables.add(this._resizeSash.onDidChange(E=>{if(l){let H=(E.currentY-l.startY)/this.editor.getOption(58),se=H<0?Math.ceil(H):Math.floor(H),ne=l.heightInLines+se;ne>5&&ne<35&&this._relayout(ne)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const l=this.editor.getLayoutInfo();return l.width-l.minimap.minimapWidth}}var de=c(63580),Pe=c(42499),Me=c(38819),nt=c(65026),It=c(72065),ht=c(73910),Mt=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},it=function(be,l){return function(E,H){l(E,H,be)}};const kt=(0,It.yh)("IPeekViewService");(0,nt.z)(kt,class{constructor(){this._widgets=new Map}addExclusiveWidget(be,l){const E=this._widgets.get(be);E&&(E.listener.dispose(),E.widget.dispose());const H=()=>{const se=this._widgets.get(be);se&&se.widget===l&&(se.listener.dispose(),this._widgets.delete(be))};this._widgets.set(be,{widget:l,listener:l.onDidClose(H)})}});var ze;(function(be){be.inPeekEditor=new Me.uy("inReferenceSearchEditor",!0,de.N("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),be.notInPeekEditor=be.inPeekEditor.toNegated()})(ze||(ze={}));let he=class{constructor(l,E){l instanceof De.H&&ze.inPeekEditor.bindTo(E)}dispose(){}};he.ID="editor.contrib.referenceController",he=Mt([it(1,Me.i6)],he),(0,Q._K)(he.ID,he);function ke(be){let l=be.get(ve.$).getFocusedCodeEditor();return l instanceof De.H?l.getParentEditor():l}const et={headerBackgroundColor:ce.Il.white,primaryHeadingColor:ce.Il.fromHex("#333333"),secondaryHeadingColor:ce.Il.fromHex("#6c6c6cb3")};let at=class extends me{constructor(l,E,H){super(l,E),this.instantiationService=H,this._onDidClose=new x.Q5,this.onDidClose=this._onDidClose.event,_e.jB(this.options,et,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(l){let E=this.options;l.headerBackgroundColor&&(E.headerBackgroundColor=l.headerBackgroundColor),l.primaryHeadingColor&&(E.primaryHeadingColor=l.primaryHeadingColor),l.secondaryHeadingColor&&(E.secondaryHeadingColor=l.secondaryHeadingColor),super.style(l)}_applyStyles(){super._applyStyles();let l=this.options;this._headElement&&l.headerBackgroundColor&&(this._headElement.style.backgroundColor=l.headerBackgroundColor.toString()),this._primaryHeading&&l.primaryHeadingColor&&(this._primaryHeading.style.color=l.primaryHeadingColor.toString()),this._secondaryHeading&&l.secondaryHeadingColor&&(this._secondaryHeading.style.color=l.secondaryHeadingColor.toString()),this._bodyElement&&l.frameColor&&(this._bodyElement.style.borderColor=l.frameColor.toString())}_fillContainer(l){this.setCssClass("peekview-widget"),this._headElement=T.$(".head"),this._bodyElement=T.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),l.appendChild(this._headElement),l.appendChild(this._bodyElement)}_fillHead(l,E){const H=T.$(".peekview-title");this.options.supportOnTitleClick&&(H.classList.add("clickable"),T.mu(H,"click",Le=>this._onTitleClick(Le))),T.R3(this._headElement,H),this._fillTitleIcon(H),this._primaryHeading=T.$("span.filename"),this._secondaryHeading=T.$("span.dirname"),this._metaHeading=T.$("span.meta"),T.R3(H,this._primaryHeading,this._secondaryHeading,this._metaHeading);const se=T.$(".peekview-actions");T.R3(this._headElement,se);const ne=this._getActionBarOptions();this._actionbarWidget=new W.o(se,ne),this._disposables.add(this._actionbarWidget),E||this._actionbarWidget.push(new K.aU("peekview.close",de.N("label.close","Close"),ie.lA.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(l){}_getActionBarOptions(){return{actionViewItemProvider:Pe.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(l){}setTitle(l,E){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=l,this._primaryHeading.setAttribute("title",l),E?this._secondaryHeading.innerText=E:T.PO(this._secondaryHeading))}setMetaTitle(l){this._metaHeading&&(l?(this._metaHeading.innerText=l,T.$Z(this._metaHeading)):T.Cp(this._metaHeading))}_doLayout(l,E){if(!this._isShowing&&l<0){this.dispose();return}const H=Math.ceil(this.editor.getOption(58)*1.2),se=Math.round(l-(H+2));this._doLayoutHead(H,E),this._doLayoutBody(se,E)}_doLayoutHead(l,E){this._headElement&&(this._headElement.style.height=`${l}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(l,E){this._bodyElement&&(this._bodyElement.style.height=`${l}px`)}};at=Mt([it(2,It.TG)],at);const rt=(0,ht.P6)("peekViewTitle.background",{dark:(0,ht.Zn)(ht.c6,.1),light:(0,ht.Zn)(ht.c6,.1),hc:null},de.N("peekViewTitleBackground","Background color of the peek view title area.")),Ne=(0,ht.P6)("peekViewTitleLabel.foreground",{dark:ce.Il.white,light:ce.Il.black,hc:ce.Il.white},de.N("peekViewTitleForeground","Color of the peek view title.")),Oe=(0,ht.P6)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},de.N("peekViewTitleInfoForeground","Color of the peek view title info.")),we=(0,ht.P6)("peekView.border",{dark:ht.c6,light:ht.c6,hc:ht.lR},de.N("peekViewBorder","Color of the peek view borders and arrow.")),Ye=(0,ht.P6)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:ce.Il.black},de.N("peekViewResultsBackground","Background color of the peek view result list.")),st=(0,ht.P6)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:ce.Il.white},de.N("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),Pt=(0,ht.P6)("peekViewResult.fileForeground",{dark:ce.Il.white,light:"#1E1E1E",hc:ce.Il.white},de.N("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),Qt=(0,ht.P6)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},de.N("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),ci=(0,ht.P6)("peekViewResult.selectionForeground",{dark:ce.Il.white,light:"#6C6C6C",hc:ce.Il.white},de.N("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),Gt=(0,ht.P6)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:ce.Il.black},de.N("peekViewEditorBackground","Background color of the peek view editor.")),Lt=(0,ht.P6)("peekViewEditorGutter.background",{dark:Gt,light:Gt,hc:Gt},de.N("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),Ai=(0,ht.P6)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},de.N("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),oi=(0,ht.P6)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},de.N("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),$e=(0,ht.P6)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:ht.xL},de.N("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var Xe=c(97781),wi=c(16268),ii=c(35996),Ui=c(70666),Mn=c(65520),Ri=c(94565),ps=c(33108),Zn=c(49989),Bn=c(38097),Xi=c(59422),Vn=c(87060),qi=c(43702),je=c(95935),Tt=c(97295),St=function(be,l,E,H){function se(ne){return ne instanceof E?ne:new E(function(Le){Le(ne)})}return new(E||(E=Promise))(function(ne,Le){function Ge(wt){try{Vt(H.next(wt))}catch(ai){Le(ai)}}function Wt(wt){try{Vt(H.throw(wt))}catch(ai){Le(ai)}}function Vt(wt){wt.done?ne(wt.value):se(wt.value).then(Ge,Wt)}Vt((H=H.apply(be,l||[])).next())})};class Ze{constructor(l,E,H,se){this.isProviderFirst=l,this.parent=E,this.link=H,this._rangeCallback=se,this.id=Z.a.nextId()}get uri(){return this.link.uri}get range(){var l,E;return(E=(l=this._range)!==null&&l!==void 0?l:this.link.targetSelectionRange)!==null&&E!==void 0?E:this.link.range}set range(l){this._range=l,this._rangeCallback(this)}get ariaMessage(){var l;const E=(l=this.parent.getPreview(this))===null||l===void 0?void 0:l.preview(this.range);return E?(0,de.N)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,je.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,E.value):(0,de.N)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,je.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class Je{constructor(l){this._modelReference=l}dispose(){this._modelReference.dispose()}preview(l,E=8){const H=this._modelReference.object.textEditorModel;if(!H)return;const{startLineNumber:se,startColumn:ne,endLineNumber:Le,endColumn:Ge}=l,Wt=H.getWordUntilPosition({lineNumber:se,column:ne-E}),Vt=new O.e(se,Wt.startColumn,se,ne),wt=new O.e(Le,Ge,Le,1073741824),ai=H.getValueInRange(Vt).replace(/^\s+/,""),Yi=H.getValueInRange(l),bn=H.getValueInRange(wt).replace(/\s+$/,"");return{value:ai+Yi+bn,highlight:{start:ai.length,end:ai.length+Yi.length}}}}class xt{constructor(l,E){this.parent=l,this.uri=E,this.children=[],this._previews=new qi.Y9}dispose(){(0,Y.B9)(this._previews.values()),this._previews.clear()}getPreview(l){return this._previews.get(l.uri)}get ariaMessage(){const l=this.children.length;return l===1?(0,de.N)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,je.EZ)(this.uri),this.uri.fsPath):(0,de.N)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",l,(0,je.EZ)(this.uri),this.uri.fsPath)}resolve(l){return St(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let E of this.children)if(!this._previews.has(E.uri))try{const H=yield l.createModelReference(E.uri);this._previews.set(E.uri,new Je(H))}catch(H){(0,P.dL)(H)}return this})}}class yt{constructor(l,E){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new x.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=l,this._title=E;const[H]=l;l.sort(yt._compareReferences);let se;for(let ne of l)if((!se||!je.SF.isEqual(se.uri,ne.uri,!0))&&(se=new xt(this,ne.uri),this.groups.push(se)),se.children.length===0||yt._compareReferences(ne,se.children[se.children.length-1])!==0){const Le=new Ze(H===ne,se,ne,Ge=>this._onDidChangeReferenceRange.fire(Ge));this.references.push(Le),se.children.push(Le)}}dispose(){(0,Y.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new yt(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,de.N)("aria.result.0","No results found"):this.references.length===1?(0,de.N)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?(0,de.N)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,de.N)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(l,E){let{parent:H}=l,se=H.children.indexOf(l),ne=H.children.length,Le=H.parent.groups.length;return Le===1||E&&se+1<ne||!E&&se>0?(E?se=(se+1)%ne:se=(se+ne-1)%ne,H.children[se]):(se=H.parent.groups.indexOf(H),E?(se=(se+1)%Le,H.parent.groups[se].children[0]):(se=(se+Le-1)%Le,H.parent.groups[se].children[H.parent.groups[se].children.length-1]))}nearestReference(l,E){const H=this.references.map((se,ne)=>({idx:ne,prefixLen:Tt.Mh(se.uri.toString(),l.toString()),offsetDist:Math.abs(se.range.startLineNumber-E.lineNumber)*100+Math.abs(se.range.startColumn-E.column)})).sort((se,ne)=>se.prefixLen>ne.prefixLen?-1:se.prefixLen<ne.prefixLen?1:se.offsetDist<ne.offsetDist?-1:se.offsetDist>ne.offsetDist?1:0)[0];if(H)return this.references[H.idx]}referenceAt(l,E){for(const H of this.references)if(H.uri.toString()===l.toString()&&O.e.containsPosition(H.range,E))return H}firstReference(){for(const l of this.references)if(l.isProviderFirst)return l;return this.references[0]}static _compareReferences(l,E){return je.SF.compare(l.uri,E.uri)||O.e.compareRangesUsingStarts(l.range,E.range)}}var Xt=c(33225),ni=c(66663),gi=c(94660),Gi=c(85207),ji=c(34650),is=c(26974),Hi=c(75392),hn=c(68843),vt=c(91847),mt=c(44349),Nt=c(88810),He=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},Qe=function(be,l){return function(E,H){l(E,H,be)}};let ft=class{constructor(l){this._resolverService=l}hasChildren(l){return l instanceof yt||l instanceof xt}getChildren(l){if(l instanceof yt)return l.groups;if(l instanceof xt)return l.resolve(this._resolverService).then(E=>E.children);throw new Error("bad tree")}};ft=He([Qe(0,r.S)],ft);class ct{getHeight(){return 23}getTemplateId(l){return l instanceof xt?Di.id:dn.id}}let ei=class{constructor(l){this._keybindingService=l}getKeyboardNavigationLabel(l){var E;if(l instanceof Ze){const H=(E=l.parent.getPreview(l))===null||E===void 0?void 0:E.preview(l.range);if(H)return H.value}return(0,je.EZ)(l.uri)}};ei=He([Qe(0,vt.d)],ei);class Vi{getId(l){return l instanceof Ze?l.id:l.uri}}let fi=class extends Y.JT{constructor(l,E,H){super(),this._uriLabel=E;const se=document.createElement("div");se.classList.add("reference-file"),this.file=this._register(new is.g(se,{supportHighlights:!0})),this.badge=new Gi.Z(T.R3(se,T.$(".count"))),this._register((0,Nt.WZ)(this.badge,H)),l.appendChild(se)}set(l,E){let H=(0,je.XX)(l.uri);this.file.setLabel((0,hn.p)(l.uri),this._uriLabel.getUriLabel(H,{relative:!0}),{title:this._uriLabel.getUriLabel(l.uri),matches:E});const se=l.children.length;this.badge.setCount(se),se>1?this.badge.setTitleFormat((0,de.N)("referencesCount","{0} references",se)):this.badge.setTitleFormat((0,de.N)("referenceCount","{0} reference",se))}};fi=He([Qe(1,mt.e),Qe(2,Xe.XE)],fi);let Di=class _u{constructor(l){this._instantiationService=l,this.templateId=_u.id}renderTemplate(l){return this._instantiationService.createInstance(fi,l)}renderElement(l,E,H){H.set(l.element,(0,Hi.mB)(l.filterData))}disposeTemplate(l){l.dispose()}};Di.id="FileReferencesRenderer",Di=He([Qe(0,It.TG)],Di);class zi{constructor(l){this.label=new ji.q(l,!1)}set(l,E){var H;const se=(H=l.parent.getPreview(l))===null||H===void 0?void 0:H.preview(l.range);if(!se||!se.value)this.label.set(`${(0,je.EZ)(l.uri)}:${l.range.startLineNumber+1}:${l.range.startColumn+1}`);else{const{value:ne,highlight:Le}=se;E&&!Hi.CL.isDefault(E)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(ne,(0,Hi.mB)(E))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(ne,[Le]))}}}class dn{constructor(){this.templateId=dn.id}renderTemplate(l){return new zi(l)}renderElement(l,E,H){H.set(l.element,l.filterData)}disposeTemplate(){}}dn.id="OneReferenceRenderer";class gn{getWidgetAriaLabel(){return(0,de.N)("treeAriaLabel","References")}getAriaLabel(l){return l.ariaMessage}}var Mi=c(64862),pi=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},Cn=function(be,l){return function(E,H){l(E,H,be)}},En=function(be,l,E,H){function se(ne){return ne instanceof E?ne:new E(function(Le){Le(ne)})}return new(E||(E=Promise))(function(ne,Le){function Ge(wt){try{Vt(H.next(wt))}catch(ai){Le(ai)}}function Wt(wt){try{Vt(H.throw(wt))}catch(ai){Le(ai)}}function Vt(wt){wt.done?ne(wt.value):se(wt.value).then(Ge,Wt)}Vt((H=H.apply(be,l||[])).next())})};class Yn{constructor(l,E){this._editor=l,this._model=E,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Y.SL,this._callOnModelChange=new Y.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const l=this._editor.getModel();if(l){for(let E of this._model.references)if(E.uri.toString()===l.uri.toString()){this._addDecorations(E.parent);return}}}_addDecorations(l){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const E=[],H=[];for(let ne=0,Le=l.children.length;ne<Le;ne++){let Ge=l.children[ne];this._decorationIgnoreSet.has(Ge.id)||Ge.uri.toString()===this._editor.getModel().uri.toString()&&(E.push({range:Ge.range,options:Yn.DecorationOptions}),H.push(ne))}const se=this._editor.deltaDecorations([],E);for(let ne=0;ne<se.length;ne++)this._decorations.set(se[ne],l.children[H[ne]])}_onDecorationChanged(){const l=[],E=this._editor.getModel();if(E){for(let[H,se]of this._decorations){const ne=E.getDecorationRange(H);if(!ne)continue;let Le=!1;if(!O.e.equalsRange(ne,se.range)){if(O.e.spansMultipleLines(ne))Le=!0;else{const Ge=se.range.endColumn-se.range.startColumn,Wt=ne.endColumn-ne.startColumn;Ge!==Wt&&(Le=!0)}Le?(this._decorationIgnoreSet.add(se.id),l.push(H)):se.range=ne}}for(let H=0,se=l.length;H<se;H++)this._decorations.delete(l[H]);this._editor.deltaDecorations(l,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}Yn.DecorationOptions=$.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class vs{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(l){let E,H;try{const se=JSON.parse(l);E=se.ratio,H=se.heightInLines}catch(se){}return{ratio:E||.7,heightInLines:H||18}}}class ds extends Bn.ls{}let Is=class extends at{constructor(l,E,H,se,ne,Le,Ge,Wt,Vt,wt,ai,Yi){super(l,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},Le),this._defaultTreeKeyboardSupport=E,this.layoutData=H,this._textModelResolverService=ne,this._instantiationService=Le,this._peekViewService=Ge,this._uriLabel=Wt,this._undoRedoService=Vt,this._keybindingService=wt,this._modeService=ai,this._languageConfigurationService=Yi,this._disposeOnNewModel=new Y.SL,this._callOnDispose=new Y.SL,this._onDidSelectReference=new x.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new T.Ro(0,0),this._applyTheme(se.getColorTheme()),this._callOnDispose.add(se.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(l,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,Y.B9)(this._preview),(0,Y.B9)(this._previewNotAvailableMessage),(0,Y.B9)(this._tree),(0,Y.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(l){const E=l.getColor(we)||ce.Il.transparent;this.style({arrowColor:E,frameColor:E,headerBackgroundColor:l.getColor(rt)||ce.Il.transparent,primaryHeadingColor:l.getColor(Ne),secondaryHeadingColor:l.getColor(Oe)})}show(l){this.editor.revealRangeInCenterIfOutsideViewport(l,0),super.show(l,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(l){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:l.ctrlKey||l.metaKey||l.altKey?"side":"open",source:"title"})}_fillBody(l){this.setCssClass("reference-zone-widget"),this._messageContainer=T.R3(l,T.$("div.messages")),T.Cp(this._messageContainer),this._splitView=new Xt.z(l,{orientation:1}),this._previewContainer=T.R3(l,T.$("div.preview.inline"));let E={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(De.H,this._previewContainer,E,this.editor),T.Cp(this._previewContainer),this._previewNotAvailableMessage=new $.yO(de.N("missingPreviewMessage","no preview available"),$.yO.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService,this._modeService,this._languageConfigurationService),this._treeContainer=T.R3(l,T.$("div.ref-tree.inline"));const H={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new gn,keyboardNavigationLabelProvider:this._instantiationService.createInstance(ei),identityProvider:new Vi,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:Ye}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(T.mu(this._treeContainer,"keydown",ne=>{ne.equals(9)&&(this._keybindingService.dispatchEvent(ne,ne.target),ne.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(ds,"ReferencesWidget",this._treeContainer,new ct,[this._instantiationService.createInstance(Di),this._instantiationService.createInstance(dn)],this._instantiationService.createInstance(ft),H),this._splitView.addView({onDidChange:x.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:ne=>{this._preview.layout({height:this._dim.height,width:ne})}},Xt.M.Distribute),this._splitView.addView({onDidChange:x.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:ne=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${ne}px`,this._tree.layout(this._dim.height,ne)}},Xt.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let se=(ne,Le)=>{ne instanceof Ze&&(Le==="show"&&this._revealReference(ne,!1),this._onDidSelectReference.fire({element:ne,kind:Le,source:"tree"}))};this._tree.onDidOpen(ne=>{ne.sideBySide?se(ne.element,"side"):ne.editorOptions.pinned?se(ne.element,"goto"):se(ne.element,"show")}),T.Cp(this._treeContainer)}_onWidth(l){this._dim&&this._doLayoutBody(this._dim.height,l)}_doLayoutBody(l,E){super._doLayoutBody(l,E),this._dim=new T.Ro(E,l),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(E),this._splitView.resizeView(0,E*this.layoutData.ratio)}setSelection(l){return this._revealReference(l,!0).then(()=>{this._model&&(this._tree.setSelection([l]),this._tree.setFocus([l]))})}setModel(l){return this._disposeOnNewModel.clear(),this._model=l,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=de.N("noResults","No results"),T.$Z(this._messageContainer),Promise.resolve(void 0)):(T.Cp(this._messageContainer),this._decorationsManager=new Yn(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(l=>this._tree.rerender(l))),this._disposeOnNewModel.add(this._preview.onMouseDown(l=>{const{event:E,target:H}=l;if(E.detail!==2)return;const se=this._getFocusedReference();se&&this._onDidSelectReference.fire({element:{uri:se.uri,range:H.range},kind:E.ctrlKey||E.metaKey||E.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),T.$Z(this._treeContainer),T.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[l]=this._tree.getFocus();if(l instanceof Ze)return l;if(l instanceof xt&&l.children.length>0)return l.children[0]}revealReference(l){return En(this,void 0,void 0,function*(){yield this._revealReference(l,!1),this._onDidSelectReference.fire({element:l,kind:"goto",source:"tree"})})}_revealReference(l,E){return En(this,void 0,void 0,function*(){if(this._revealedReference===l)return;this._revealedReference=l,l.uri.scheme!==ni.lg.inMemory?this.setTitle((0,je.Hx)(l.uri),this._uriLabel.getUriLabel((0,je.XX)(l.uri))):this.setTitle(de.N("peekView.alternateTitle","References"));const H=this._textModelResolverService.createModelReference(l.uri);this._tree.getInput()===l.parent?this._tree.reveal(l):(E&&this._tree.reveal(l.parent),yield this._tree.expand(l.parent),this._tree.reveal(l));const se=yield H;if(!this._model){se.dispose();return}(0,Y.B9)(this._previewModelReference);const ne=se.object;if(ne){const Le=this._preview.getModel()===ne.textEditorModel?0:1,Ge=O.e.lift(l.range).collapseToStart();this._previewModelReference=se,this._preview.setModel(ne.textEditorModel),this._preview.setSelection(Ge),this._preview.revealRangeInCenter(Ge,Le)}else this._preview.setModel(this._previewNotAvailableMessage),se.dispose()})}};Is=pi([Cn(3,Xe.XE),Cn(4,r.S),Cn(5,It.TG),Cn(6,kt),Cn(7,mt.e),Cn(8,Mi.tJ),Cn(9,vt.d),Cn(10,J.h),Cn(11,gi.c_)],Is),(0,Xe.Ic)((be,l)=>{const E=be.getColor(Ai);E&&l.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${E}; }`);const H=be.getColor(oi);H&&l.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${H}; }`);const se=be.getColor($e);se&&l.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${se}; box-sizing: border-box; }`);const ne=be.getColor(ht.xL);ne&&l.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${ne}; box-sizing: border-box; }`);const Le=be.getColor(Ye);Le&&l.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${Le}; }`);const Ge=be.getColor(st);Ge&&l.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${Ge}; }`);const Wt=be.getColor(Pt);Wt&&l.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${Wt}; }`);const Vt=be.getColor(Qt);Vt&&l.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${Vt}; }`);const wt=be.getColor(ci);wt&&l.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${wt} !important; }`);const ai=be.getColor(Gt);ai&&l.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {	background-color: ${ai};}`);const Yi=be.getColor(Lt);Yi&&l.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {	background-color: ${Yi};}`)});var Fo=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},no=function(be,l){return function(E,H){l(E,H,be)}},Ls=function(be,l,E,H){function se(ne){return ne instanceof E?ne:new E(function(Le){Le(ne)})}return new(E||(E=Promise))(function(ne,Le){function Ge(wt){try{Vt(H.next(wt))}catch(ai){Le(ai)}}function Wt(wt){try{Vt(H.throw(wt))}catch(ai){Le(ai)}}function Vt(wt){wt.done?ne(wt.value):se(wt.value).then(Ge,Wt)}Vt((H=H.apply(be,l||[])).next())})};const Io=new Me.uy("referenceSearchVisible",!1,de.N("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let Xs=class yd{constructor(l,E,H,se,ne,Le,Ge,Wt){this._defaultTreeKeyboardSupport=l,this._editor=E,this._editorService=se,this._notificationService=ne,this._instantiationService=Le,this._storageService=Ge,this._configurationService=Wt,this._disposables=new Y.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=Io.bindTo(H)}static get(l){return l.getContribution(yd.ID)}dispose(){var l,E;this._referenceSearchVisible.reset(),this._disposables.dispose(),(l=this._widget)===null||l===void 0||l.dispose(),(E=this._model)===null||E===void 0||E.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(l,E,H){let se;if(this._widget&&(se=this._widget.position),this.closeWidget(),se&&l.containsPosition(se))return;this._peekMode=H,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const ne="peekViewLayout",Le=vs.fromJSON(this._storageService.get(ne,0,"{}"));this._widget=this._instantiationService.createInstance(Is,this._editor,this._defaultTreeKeyboardSupport,Le),this._widget.setTitle(de.N("labelLoading","Loading...")),this._widget.show(l),this._disposables.add(this._widget.onDidClose(()=>{E.cancel(),this._widget&&(this._storageService.store(ne,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(Wt=>{let{element:Vt,kind:wt}=Wt;if(Vt)switch(wt){case"open":(Wt.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(Vt,!1,!1);break;case"side":this.openReference(Vt,!0,!1);break;case"goto":H?this._gotoReference(Vt):this.openReference(Vt,!1,!0);break}}));const Ge=++this._requestIdPool;E.then(Wt=>{var Vt;if(Ge!==this._requestIdPool||!this._widget){Wt.dispose();return}return(Vt=this._model)===null||Vt===void 0||Vt.dispose(),this._model=Wt,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(de.N("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let wt=this._editor.getModel().uri,ai=new C.L(l.startLineNumber,l.startColumn),Yi=this._model.nearestReference(wt,ai);if(Yi)return this._widget.setSelection(Yi).then(()=>{this._widget&&this._editor.getOption(76)==="editor"&&this._widget.focusOnPreviewEditor()})}})},Wt=>{this._notificationService.error(Wt)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(l){return Ls(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const E=this._widget.position;if(!E)return;const H=this._model.nearestReference(this._editor.getModel().uri,E);if(!H)return;const se=this._model.nextOrPreviousReference(H,l),ne=this._editor.hasTextFocus(),Le=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(se),yield this._gotoReference(se),ne?this._editor.focus():this._widget&&Le&&this._widget.focusOnPreviewEditor()})}revealReference(l){return Ls(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(l))})}closeWidget(l=!0){var E,H;(E=this._widget)===null||E===void 0||E.dispose(),(H=this._model)===null||H===void 0||H.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,l&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(l){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const E=O.e.lift(l.range).collapseToStart();return this._editorService.openCodeEditor({resource:l.uri,options:{selection:E}},this._editor).then(H=>{var se;if(this._ignoreModelChangeEvent=!1,!H||!this._widget){this.closeWidget();return}if(this._editor===H)this._widget.show(E),this._widget.focusOnReferenceTree();else{const ne=yd.get(H),Le=this._model.clone();this.closeWidget(),H.focus(),ne.toggleWidget(E,(0,k.PG)(Ge=>Promise.resolve(Le)),(se=this._peekMode)!==null&&se!==void 0?se:!1)}},H=>{this._ignoreModelChangeEvent=!1,(0,P.dL)(H)})}openReference(l,E,H){E||this.closeWidget();const{uri:se,range:ne}=l;this._editorService.openCodeEditor({resource:se,options:{selection:ne,pinned:H}},this._editor,E)}};Xs.ID="editor.contrib.referencesController",Xs=Fo([no(2,Me.i6),no(3,ve.$),no(4,Xi.lT),no(5,It.TG),no(6,Vn.Uy),no(7,ps.Ui)],Xs);function So(be,l){const E=ke(be);if(!E)return;let H=Xs.get(E);H&&l(H)}Zn.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,g.gx)(2089,60),when:Me.Ao.or(Io,ze.inPeekEditor),handler(be){So(be,l=>{l.changeFocusBetweenPreviewAndReferences()})}}),Zn.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:Me.Ao.or(Io,ze.inPeekEditor),handler(be){So(be,l=>{l.goToNextOrPreviousReference(!0)})}}),Zn.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:Me.Ao.or(Io,ze.inPeekEditor),handler(be){So(be,l=>{l.goToNextOrPreviousReference(!1)})}}),Ri.P.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),Ri.P.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),Ri.P.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),Ri.P.registerCommand("closeReferenceSearch",be=>So(be,l=>l.closeWidget())),Zn.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:Me.Ao.and(ze.inPeekEditor,Me.Ao.not("config.editor.stablePeek"))}),Zn.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:Me.Ao.and(Io,Me.Ao.not("config.editor.stablePeek"))}),Zn.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:Me.Ao.and(Io,Bn.CQ),handler(be){var l;const H=(l=be.get(Bn.Lw).lastFocusedList)===null||l===void 0?void 0:l.getFocus();Array.isArray(H)&&H[0]instanceof Ze&&So(be,se=>se.revealReference(H[0]))}}),Zn.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Me.Ao.and(Io,Bn.CQ),handler(be){var l;const H=(l=be.get(Bn.Lw).lastFocusedList)===null||l===void 0?void 0:l.getFocus();Array.isArray(H)&&H[0]instanceof Ze&&So(be,se=>se.openReference(H[0],!0,!0))}}),Ri.P.registerCommand("openReference",be=>{var l;const H=(l=be.get(Bn.Lw).lastFocusedList)===null||l===void 0?void 0:l.getFocus();Array.isArray(H)&&H[0]instanceof Ze&&So(be,se=>se.openReference(H[0],!1,!0))});var Hs=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},zs=function(be,l){return function(E,H){l(E,H,be)}};const uo=new Me.uy("hasSymbols",!1,(0,de.N)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),xo=(0,It.yh)("ISymbolNavigationService");let to=class{constructor(l,E,H,se){this._editorService=E,this._notificationService=H,this._keybindingService=se,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=uo.bindTo(l)}reset(){var l,E;this._ctxHasSymbols.reset(),(l=this._currentState)===null||l===void 0||l.dispose(),(E=this._currentMessage)===null||E===void 0||E.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(l){const E=l.parent.parent;if(E.references.length<=1){this.reset();return}this._currentModel=E,this._currentIdx=E.references.indexOf(l),this._ctxHasSymbols.set(!0),this._showMessage();const H=new so(this._editorService),se=H.onDidChange(ne=>{if(this._ignoreEditorChange)return;const Le=this._editorService.getActiveCodeEditor();if(!Le)return;const Ge=Le.getModel(),Wt=Le.getPosition();if(!Ge||!Wt)return;let Vt=!1,wt=!1;for(const ai of E.references)if((0,je.Xy)(ai.uri,Ge.uri))Vt=!0,wt=wt||O.e.containsPosition(ai.range,Wt);else if(Vt)break;(!Vt||!wt)&&this.reset()});this._currentState=(0,Y.F8)(H,se)}revealNext(l){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const E=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:E.uri,options:{selection:O.e.collapseToStart(E.range),selectionRevealType:3}},l).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var l;(l=this._currentMessage)===null||l===void 0||l.dispose();const E=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),H=E?(0,de.N)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,E.getLabel()):(0,de.N)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(H)}};to=Hs([zs(0,Me.i6),zs(1,ve.$),zs(2,Xi.lT),zs(3,vt.d)],to),(0,nt.z)(xo,to,!0),(0,Q.fK)(new class extends Q._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:uo,kbOpts:{weight:100,primary:70}})}runEditorCommand(be,l){return be.get(xo).revealNext(l)}}),Zn.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:uo,primary:9,handler(be){be.get(xo).reset()}});let so=class{constructor(l){this._listener=new Map,this._disposables=new Y.SL,this._onDidChange=new x.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(l.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(l.onCodeEditorAdd(this._onDidAddEditor,this)),l.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,Y.B9)(this._listener.values())}_onDidAddEditor(l){this._listener.set(l,(0,Y.F8)(l.onDidChangeCursorPosition(E=>this._onDidChange.fire({editor:l})),l.onDidChangeModelContent(E=>this._onDidChange.fire({editor:l}))))}_onDidRemoveEditor(l){var E;(E=this._listener.get(l))===null||E===void 0||E.dispose(),this._listener.delete(l)}};so=Hs([zs(0,ve.$)],so);var Oo=c(92321),us=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},Eo=function(be,l){return function(E,H){l(E,H,be)}};let hs=class Ld{constructor(l,E){this._messageWidget=new Y.XK,this._messageListeners=new Y.SL,this._editor=l,this._visible=Ld.MESSAGE_VISIBLE.bindTo(E),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(l){return l.getContribution(Ld.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(l,E){(0,ii.Z9)(l),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new vo(this._editor,E,l),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new k._F(()=>this.closeMessage(),3e3));let H;this._messageListeners.add(this._editor.onMouseMove(se=>{se.target.position&&(H?H.containsPosition(se.target.position)||this.closeMessage():H=new O.e(E.lineNumber-3,1,se.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(vo.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(de.N("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};hs.ID="editor.contrib.messageController",hs.MESSAGE_VISIBLE=new Me.uy("messageVisible",!1,de.N("messageVisible","Whether the editor is currently showing an inline message")),hs=us([Eo(1,Me.i6)],hs);const os=Q._l.bindToContribution(hs.get);(0,Q.fK)(new os({id:"leaveEditorMessage",precondition:hs.MESSAGE_VISIBLE,handler:be=>be.closeMessage(),kbOpts:{weight:130,primary:9}}));class vo{constructor(l,{lineNumber:E,column:H},se){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=l,this._editor.revealLinesInCenterIfOutsideViewport(E,E,0),this._position={lineNumber:E,column:H-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const ne=document.createElement("div");ne.classList.add("anchor","top"),this._domNode.appendChild(ne);const Le=document.createElement("div");Le.classList.add("message"),Le.textContent=se,this._domNode.appendChild(Le);const Ge=document.createElement("div");Ge.classList.add("anchor","below"),this._domNode.appendChild(Ge),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(l){let E;const H=()=>{l.dispose(),clearTimeout(E),l.getDomNode().removeEventListener("animationend",H)};return E=setTimeout(H,110),l.getDomNode().addEventListener("animationend",H),l.getDomNode().classList.add("fadeOut"),{dispose:H}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(l){this._domNode.classList.toggle("below",l===2)}}(0,Q._K)(hs.ID,hs),(0,Xe.Ic)((be,l)=>{const E=be.getColor(ht.EP);if(E){let ne=be.type===Oo.e.HIGH_CONTRAST?2:1;l.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${E}; }`),l.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${E}; }`),l.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${ne}px solid ${E}; }`)}const H=be.getColor(ht._l);H&&l.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${H}; }`);const se=be.getColor(ht.YI);se&&l.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${se}; }`)});var rs=c(84144),co=c(90535),Ws=c(71050),ho=function(be,l,E,H){function se(ne){return ne instanceof E?ne:new E(function(Le){Le(ne)})}return new(E||(E=Promise))(function(ne,Le){function Ge(wt){try{Vt(H.next(wt))}catch(ai){Le(ai)}}function Wt(wt){try{Vt(H.throw(wt))}catch(ai){Le(ai)}}function Vt(wt){wt.done?ne(wt.value):se(wt.value).then(Ge,Wt)}Vt((H=H.apply(be,l||[])).next())})};function hi(be,l,E,H){const ne=E.ordered(be).map(Le=>Promise.resolve(H(Le,be,l)).then(void 0,Ge=>{(0,P.Cp)(Ge)}));return Promise.all(ne).then(Le=>{const Ge=[];for(let Wt of Le)Array.isArray(Wt)?Ge.push(...Wt):Wt&&Ge.push(Wt);return Ge})}function ge(be,l,E){return hi(be,l,V.Ct,(H,se,ne)=>H.provideDefinition(se,ne,E))}function ut(be,l,E){return hi(be,l,V.RN,(H,se,ne)=>H.provideDeclaration(se,ne,E))}function gt(be,l,E){return hi(be,l,V.vI,(H,se,ne)=>H.provideImplementation(se,ne,E))}function Bt(be,l,E){return hi(be,l,V.tA,(H,se,ne)=>H.provideTypeDefinition(se,ne,E))}function qt(be,l,E,H){return hi(be,l,V.FL,(se,ne,Le)=>ho(this,void 0,void 0,function*(){const Ge=yield se.provideReferences(ne,Le,{includeDeclaration:!0},H);if(!E||!Ge||Ge.length!==2)return Ge;const Wt=yield se.provideReferences(ne,Le,{includeDeclaration:!1},H);return Wt&&Wt.length===1?Wt:Ge}))}function vi(be){return ho(this,void 0,void 0,function*(){const l=yield be(),E=new yt(l,""),H=E.references.map(se=>se.link);return E.dispose(),H})}(0,Q.sb)("_executeDefinitionProvider",(be,l)=>vi(()=>ge(be,l,Ws.T.None))),(0,Q.sb)("_executeDeclarationProvider",(be,l)=>vi(()=>ut(be,l,Ws.T.None))),(0,Q.sb)("_executeImplementationProvider",(be,l)=>vi(()=>gt(be,l,Ws.T.None))),(0,Q.sb)("_executeTypeDefinitionProvider",(be,l)=>vi(()=>Bt(be,l,Ws.T.None))),(0,Q.sb)("_executeReferenceProvider",(be,l)=>vi(()=>qt(be,l,!1,Ws.T.None)));var Li=function(be,l,E,H){function se(ne){return ne instanceof E?ne:new E(function(Le){Le(ne)})}return new(E||(E=Promise))(function(ne,Le){function Ge(wt){try{Vt(H.next(wt))}catch(ai){Le(ai)}}function Wt(wt){try{Vt(H.throw(wt))}catch(ai){Le(ai)}}function Vt(wt){wt.done?ne(wt.value):se(wt.value).then(Ge,Wt)}Vt((H=H.apply(be,l||[])).next())})},mi,un,Bi,ts,Rt,F,re,Se;rs.BH.appendMenuItem(rs.eH.EditorContext,{submenu:rs.eH.EditorContextPeek,title:de.N("peek.submenu","Peek"),group:"navigation",order:100});const Fe=new Set;function lt(be){const l=new be;return(0,Q.QG)(l),Fe.add(l.id),l}class Ot extends Q.R6{constructor(l,E){super(E),this._configuration=l}run(l,E){if(!E.hasModel())return Promise.resolve(void 0);const H=l.get(Xi.lT),se=l.get(ve.$),ne=l.get(co.e),Le=l.get(xo),Ge=E.getModel(),Wt=E.getPosition(),Vt=new m.Dl(E,5),wt=(0,k.eP)(this._getLocationModel(Ge,Wt,Vt.token),Vt.token).then(ai=>Li(this,void 0,void 0,function*(){if(!ai||Vt.token.isCancellationRequested)return;(0,ii.Z9)(ai.ariaMessage);let Yi;if(ai.referenceAt(Ge.uri,Wt)){const Gn=this._getAlternativeCommand(E);Gn!==this.id&&Fe.has(Gn)&&(Yi=E.getAction(Gn))}const bn=ai.references.length;if(bn===0){if(!this._configuration.muteMessage){const Gn=Ge.getWordAtPosition(Wt);hs.get(E).showMessage(this._getNoResultFoundMessage(Gn),Wt)}}else if(bn===1&&Yi)Yi.run();else return this._onResult(se,Le,E,ai)}),ai=>{H.error(ai)}).finally(()=>{Vt.dispose()});return ne.showWhile(wt,250),wt}_onResult(l,E,H,se){return Li(this,void 0,void 0,function*(){const ne=this._getGoToPreference(H);if(!(H instanceof De.H)&&(this._configuration.openInPeek||ne==="peek"&&se.references.length>1))this._openInPeek(H,se);else{const Le=se.firstReference(),Ge=se.references.length>1&&ne==="gotoAndPeek",Wt=yield this._openReference(H,l,Le,this._configuration.openToSide,!Ge);Ge&&Wt?this._openInPeek(Wt,se):se.dispose(),ne==="goto"&&E.put(Le)}})}_openReference(l,E,H,se,ne){return Li(this,void 0,void 0,function*(){let Le;if((0,V.vx)(H)&&(Le=H.targetSelectionRange),Le||(Le=H.range),!Le)return;const Ge=yield E.openCodeEditor({resource:H.uri,options:{selection:O.e.collapseToStart(Le),selectionRevealType:3}},l,se);if(Ge){if(ne){const Wt=Ge.getModel(),Vt=Ge.deltaDecorations([],[{range:Le,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{Ge.getModel()===Wt&&Ge.deltaDecorations(Vt,[])},350)}return Ge}})}_openInPeek(l,E){let H=Xs.get(l);H&&l.hasModel()?H.toggleWidget(l.getSelection(),(0,k.PG)(se=>Promise.resolve(E)),this._configuration.openInPeek):E.dispose()}}class Zt extends Ot{_getLocationModel(l,E,H){return Li(this,void 0,void 0,function*(){return new yt(yield ge(l,E,H),de.N("def.title","Definitions"))})}_getNoResultFoundMessage(l){return l&&l.word?de.N("noResultWord","No definition found for '{0}'",l.word):de.N("generic.noResults","No definition found")}_getAlternativeCommand(l){return l.getOption(50).alternativeDefinitionCommand}_getGoToPreference(l){return l.getOption(50).multipleDefinitions}}const di=w.$L&&!wi.$W?2118:70;lt((mi=class Dd extends Zt{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Dd.id,label:de.N("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:Me.Ao.and(y.u.hasDefinitionProvider,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:di,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),Ri.P.registerCommandAlias("editor.action.goToDeclaration",Dd.id)}},mi.id="editor.action.revealDefinition",mi)),lt((un=class Ed extends Zt{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Ed.id,label:de.N("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:Me.Ao.and(y.u.hasDefinitionProvider,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:(0,g.gx)(2089,di),weight:100}}),Ri.P.registerCommandAlias("editor.action.openDeclarationToTheSide",Ed.id)}},un.id="editor.action.revealDefinitionAside",un)),lt((Bi=class Id extends Zt{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Id.id,label:de.N("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:Me.Ao.and(y.u.hasDefinitionProvider,ze.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:rs.eH.EditorContextPeek,group:"peek",order:2}}),Ri.P.registerCommandAlias("editor.action.previewDeclaration",Id.id)}},Bi.id="editor.action.peekDefinition",Bi));class Ei extends Ot{_getLocationModel(l,E,H){return Li(this,void 0,void 0,function*(){return new yt(yield ut(l,E,H),de.N("decl.title","Declarations"))})}_getNoResultFoundMessage(l){return l&&l.word?de.N("decl.noResultWord","No declaration found for '{0}'",l.word):de.N("decl.generic.noResults","No declaration found")}_getAlternativeCommand(l){return l.getOption(50).alternativeDeclarationCommand}_getGoToPreference(l){return l.getOption(50).multipleDeclarations}}lt((ts=class vu extends Ei{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:vu.id,label:de.N("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:Me.Ao.and(y.u.hasDeclarationProvider,y.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(l){return l&&l.word?de.N("decl.noResultWord","No declaration found for '{0}'",l.word):de.N("decl.generic.noResults","No declaration found")}},ts.id="editor.action.revealDeclaration",ts)),lt(class extends Ei{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:de.N("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:Me.Ao.and(y.u.hasDeclarationProvider,ze.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:rs.eH.EditorContextPeek,group:"peek",order:3}})}});class li extends Ot{_getLocationModel(l,E,H){return Li(this,void 0,void 0,function*(){return new yt(yield Bt(l,E,H),de.N("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(l){return l&&l.word?de.N("goToTypeDefinition.noResultWord","No type definition found for '{0}'",l.word):de.N("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(l){return l.getOption(50).alternativeTypeDefinitionCommand}_getGoToPreference(l){return l.getOption(50).multipleTypeDefinitions}}lt((Rt=class Cu extends li{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Cu.ID,label:de.N("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:Me.Ao.and(y.u.hasTypeDefinitionProvider,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},Rt.ID="editor.action.goToTypeDefinition",Rt)),lt((F=class bu extends li{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:bu.ID,label:de.N("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:Me.Ao.and(y.u.hasTypeDefinitionProvider,ze.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:rs.eH.EditorContextPeek,group:"peek",order:4}})}},F.ID="editor.action.peekTypeDefinition",F));class Oi extends Ot{_getLocationModel(l,E,H){return Li(this,void 0,void 0,function*(){return new yt(yield gt(l,E,H),de.N("impl.title","Implementations"))})}_getNoResultFoundMessage(l){return l&&l.word?de.N("goToImplementation.noResultWord","No implementation found for '{0}'",l.word):de.N("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(l){return l.getOption(50).alternativeImplementationCommand}_getGoToPreference(l){return l.getOption(50).multipleImplementations}}lt((re=class wu extends Oi{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:wu.ID,label:de.N("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:Me.Ao.and(y.u.hasImplementationProvider,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},re.ID="editor.action.goToImplementation",re)),lt((Se=class Su extends Oi{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Su.ID,label:de.N("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:Me.Ao.and(y.u.hasImplementationProvider,ze.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:rs.eH.EditorContextPeek,group:"peek",order:5}})}},Se.ID="editor.action.peekImplementation",Se));class tn extends Ot{_getNoResultFoundMessage(l){return l?de.N("references.no","No references found for '{0}'",l.word):de.N("references.noGeneric","No references found")}_getAlternativeCommand(l){return l.getOption(50).alternativeReferenceCommand}_getGoToPreference(l){return l.getOption(50).multipleReferences}}lt(class extends tn{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:de.N("goToReferences.label","Go to References"),alias:"Go to References",precondition:Me.Ao.and(y.u.hasReferenceProvider,ze.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(l,E,H){return Li(this,void 0,void 0,function*(){return new yt(yield qt(l,E,!0,H),de.N("ref.title","References"))})}}),lt(class extends tn{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:de.N("references.action.label","Peek References"),alias:"Peek References",precondition:Me.Ao.and(y.u.hasReferenceProvider,ze.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:rs.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(l,E,H){return Li(this,void 0,void 0,function*(){return new yt(yield qt(l,E,!1,H),de.N("ref.title","References"))})}});class yi extends Ot{constructor(l,E,H){super(l,{id:"editor.action.goToLocation",label:de.N("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:Me.Ao.and(ze.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated())}),this._references=E,this._gotoMultipleBehaviour=H}_getLocationModel(l,E,H){return Li(this,void 0,void 0,function*(){return new yt(this._references,de.N("generic.title","Locations"))})}_getNoResultFoundMessage(l){return l&&de.N("generic.noResult","No results for '{0}'",l.word)||""}_getGoToPreference(l){var E;return(E=this._gotoMultipleBehaviour)!==null&&E!==void 0?E:l.getOption(50).multipleReferences}_getAlternativeCommand(){return""}}Ri.P.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Ui.o},{name:"position",description:"The position at which to start",constraint:C.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(be,l,E,H,se,ne,Le)=>Li(void 0,void 0,void 0,function*(){(0,I.p_)(Ui.o.isUri(l)),(0,I.p_)(C.L.isIPosition(E)),(0,I.p_)(Array.isArray(H)),(0,I.p_)(typeof se=="undefined"||typeof se=="string"),(0,I.p_)(typeof Le=="undefined"||typeof Le=="boolean");const Ge=be.get(ve.$),Wt=yield Ge.openCodeEditor({resource:l},Ge.getFocusedCodeEditor());if((0,Mn.CL)(Wt))return Wt.setPosition(E),Wt.revealPositionInCenterIfOutsideViewport(E,0),Wt.invokeWithinContext(Vt=>{const wt=new class extends yi{_getNoResultFoundMessage(ai){return ne||super._getNoResultFoundMessage(ai)}}({muteMessage:!ne,openInPeek:!!Le,openToSide:!1},H,se);Vt.get(It.TG).invokeFunction(wt.run.bind(wt),Wt)})})}),Ri.P.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Ui.o},{name:"position",description:"The position at which to start",constraint:C.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(be,l,E,H,se)=>Li(void 0,void 0,void 0,function*(){be.get(Ri.H).executeCommand("editor.action.goToLocations",l,E,H,se,void 0,!0)})}),Ri.P.registerCommand({id:"editor.action.findReferences",handler:(be,l,E)=>{(0,I.p_)(Ui.o.isUri(l)),(0,I.p_)(C.L.isIPosition(E));const H=be.get(ve.$);return H.openCodeEditor({resource:l},H.getFocusedCodeEditor()).then(se=>{if(!(0,Mn.CL)(se)||!se.hasModel())return;const ne=Xs.get(se);if(!ne)return;const Le=(0,k.PG)(Wt=>qt(se.getModel(),C.L.lift(E),!1,Wt).then(Vt=>new yt(Vt,de.N("ref.title","References")))),Ge=new O.e(E.lineNumber,E.column,E.lineNumber,E.column);return Promise.resolve(ne.toggleWidget(Ge,Le,!1))})}}),Ri.P.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),rs.BH.appendMenuItems([{id:rs.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:de.N({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:rs.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:de.N({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:rs.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:de.N({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:rs.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:de.N({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:rs.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:de.N({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}]);var nn=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},Qi=function(be,l){return function(E,H){l(E,H,be)}};let Sn=class nl{constructor(l,E,H){this.textModelResolverService=E,this.modeService=H,this.toUnhook=new Y.SL,this.toUnhookForKeyboard=new Y.SL,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=l;let se=new R(l);this.toUnhook.add(se),this.toUnhook.add(se.onMouseMoveOrRelevantKeyDown(([ne,Le])=>{this.startFindDefinitionFromMouse(ne,(0,I.f6)(Le))})),this.toUnhook.add(se.onExecute(ne=>{this.isEnabled(ne)&&this.gotoDefinition(ne.target.position,ne.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},Le=>{this.removeLinkDecorations(),(0,P.dL)(Le)})})),this.toUnhook.add(se.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(l){return l.getContribution(nl.ID)}startFindDefinitionFromCursor(l){return this.startFindDefinition(l).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(E=>{E&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(l,E){if(l.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(l,E)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const H=l.target.position;this.startFindDefinition(H)}startFindDefinition(l){var E;this.toUnhookForKeyboard.clear();const H=l?(E=this.editor.getModel())===null||E===void 0?void 0:E.getWordAtPosition(l):null;if(!H)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===H.startColumn&&this.currentWordAtPosition.endColumn===H.endColumn&&this.currentWordAtPosition.word===H.word)return Promise.resolve(0);this.currentWordAtPosition=H;let se=new m.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,k.PG)(ne=>this.findDefinition(l,ne)),this.previousPromise.then(ne=>{if(!ne||!ne.length||!se.validate(this.editor)){this.removeLinkDecorations();return}if(ne.length>1)this.addDecoration(new O.e(l.lineNumber,H.startColumn,l.lineNumber,H.endColumn),new s.W5().appendText(de.N("multipleResults","Click to show {0} definitions.",ne.length)));else{let Le=ne[0];if(!Le.uri)return;this.textModelResolverService.createModelReference(Le.uri).then(Ge=>{if(!Ge.object||!Ge.object.textEditorModel){Ge.dispose();return}const{object:{textEditorModel:Wt}}=Ge,{startLineNumber:Vt}=Le.range;if(Vt<1||Vt>Wt.getLineCount()){Ge.dispose();return}const wt=this.getPreviewValue(Wt,Vt,Le);let ai;Le.originSelectionRange?ai=O.e.lift(Le.originSelectionRange):ai=new O.e(l.lineNumber,H.startColumn,l.lineNumber,H.endColumn);const Yi=this.modeService.getModeIdByFilepathOrFirstLine(Wt.uri);this.addDecoration(ai,new s.W5().appendCodeblock(Yi||"",wt)),Ge.dispose()})}}).then(void 0,P.dL)}getPreviewValue(l,E,H){let se=H.targetSelectionRange?H.range:this.getPreviewRangeBasedOnBrackets(l,E);return se.endLineNumber-se.startLineNumber>=nl.MAX_SOURCE_PREVIEW_LINES&&(se=this.getPreviewRangeBasedOnIndentation(l,E)),this.stripIndentationFromPreviewRange(l,E,se)}stripIndentationFromPreviewRange(l,E,H){let ne=l.getLineFirstNonWhitespaceColumn(E);for(let Ge=E+1;Ge<H.endLineNumber;Ge++){const Wt=l.getLineFirstNonWhitespaceColumn(Ge);ne=Math.min(ne,Wt)}return l.getValueInRange(H).replace(new RegExp(`^\\s{${ne-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(l,E){const H=l.getLineFirstNonWhitespaceColumn(E),se=Math.min(l.getLineCount(),E+nl.MAX_SOURCE_PREVIEW_LINES);let ne=E+1;for(;ne<se;ne++){let Le=l.getLineFirstNonWhitespaceColumn(ne);if(H===Le)break}return new O.e(E,1,ne+1,1)}getPreviewRangeBasedOnBrackets(l,E){const H=Math.min(l.getLineCount(),E+nl.MAX_SOURCE_PREVIEW_LINES),se=[];let ne=!0,Le=l.findNextBracket(new C.L(E,1));for(;Le!==null;){if(se.length===0)se.push(Le);else{const wt=se[se.length-1];if(wt.open[0]===Le.open[0]&&wt.isOpen&&!Le.isOpen?se.pop():se.push(Le),se.length===0)if(ne)ne=!1;else return new O.e(E,1,Le.range.endLineNumber+1,1)}const Ge=l.getLineMaxColumn(E);let Wt=Le.range.endLineNumber,Vt=Le.range.endColumn;if(Ge===Le.range.endColumn&&(Wt++,Vt=1),Wt>H)return new O.e(E,1,H+1,1);Le=l.findNextBracket(new C.L(Wt,Vt))}return new O.e(E,1,H+1,1)}addDecoration(l,E){const H={range:l,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:E}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[H])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(l,E){return this.editor.hasModel()&&l.isNoneOrSingleMouseDown&&l.target.type===6&&(l.hasTriggerModifier||(E?E.keyCodeIsTriggerKey:!1))&&V.Ct.has(this.editor.getModel())}findDefinition(l,E){const H=this.editor.getModel();return H?ge(H,l,E):Promise.resolve(null)}gotoDefinition(l,E){return this.editor.setPosition(l),this.editor.invokeWithinContext(H=>{const se=!E&&this.editor.getOption(77)&&!this.isInPeekEditor(H);return new Zt({openToSide:E,openInPeek:se,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(H,this.editor)})}isInPeekEditor(l){const E=l.get(Me.i6);return ze.inPeekEditor.getValue(E)}dispose(){this.toUnhook.dispose()}};Sn.ID="editor.contrib.gotodefinitionatposition",Sn.MAX_SOURCE_PREVIEW_LINES=8,Sn=nn([Qi(1,r.S),Qi(2,J.h)],Sn),(0,Q._K)(Sn.ID,Sn),(0,Xe.Ic)((be,l)=>{const E=be.getColor(ht._Y);E&&l.addRule(`.monaco-editor .goto-definition-link { color: ${E} !important; }`)});var ns=c(13433);const Ms=T.$;class Dn extends Y.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new ns.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}class Ut extends Y.JT{constructor(l,E,H){super(),this.actionContainer=T.R3(l,Ms("div.action-container")),this.action=T.R3(this.actionContainer,Ms("a.action")),this.action.setAttribute("href","#"),this.action.setAttribute("role","button"),E.iconClass&&T.R3(this.action,Ms(`span.icon.${E.iconClass}`));const se=T.R3(this.action,Ms("span"));se.textContent=H?`${E.label} (${H})`:E.label,this._register(T.nm(this.actionContainer,T.tw.MOUSE_DOWN,ne=>{ne.stopPropagation(),ne.preventDefault(),E.run(this.actionContainer)})),this.setEnabled(!0)}static render(l,E,H){return new Ut(l,E,H)}setEnabled(l){l?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var pe=c(93794),Re=c(9488),Ke=c(51200);function _t(be,l){const E=[],se=V.OH.ordered(be).reverse().map(ne=>Promise.resolve(ne.provideDocumentColors(be,l)).then(Le=>{if(Array.isArray(Le))for(let Ge of Le)E.push({colorInfo:Ge,provider:ne})}));return Promise.all(se).then(()=>E)}function bt(be,l,E,H){return Promise.resolve(E.provideColorPresentations(be,l,H))}Ri.P.registerCommand("_executeDocumentColorProvider",function(be,...l){const[E]=l;if(!(E instanceof Ui.o))throw(0,P.b1)();const H=be.get(Ke.q).getModel(E);if(!H)throw(0,P.b1)();const se=[],Le=V.OH.ordered(H).reverse().map(Ge=>Promise.resolve(Ge.provideDocumentColors(H,Ws.T.None)).then(Wt=>{if(Array.isArray(Wt))for(let Vt of Wt)se.push({range:Vt.range,color:[Vt.color.red,Vt.color.green,Vt.color.blue,Vt.color.alpha]})}));return Promise.all(Le).then(()=>se)}),Ri.P.registerCommand("_executeColorPresentationProvider",function(be,...l){const[E,H]=l,{uri:se,range:ne}=H;if(!(se instanceof Ui.o)||!Array.isArray(E)||E.length!==4||!O.e.isIRange(ne))throw(0,P.b1)();const[Le,Ge,Wt,Vt]=E,wt=be.get(Ke.q).getModel(se);if(!wt)throw(0,P.b1)();const ai={range:ne,color:{red:Le,green:Ge,blue:Wt,alpha:Vt}},Yi=[],Gn=V.OH.ordered(wt).reverse().map(Mo=>Promise.resolve(Mo.provideColorPresentations(wt,ai,Ws.T.None)).then(jo=>{Array.isArray(jo)&&Yi.push(...jo)}));return Promise.all(Gn).then(()=>Yi)});var ti=c(89954),Jt=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},ln=function(be,l){return function(E,H){l(E,H,be)}};const An=500;let Pi=class yu extends Y.JT{constructor(l,E,H){super(),this._editor=l,this._codeEditorService=E,this._configurationService=H,this._localToDispose=this._register(new Y.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(l.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(l.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(V.OH.onDidChange(()=>this.onModelChanged())),this._register(l.onDidChangeConfiguration(()=>{let se=this._isEnabled;this._isEnabled=this.isEnabled(),se!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const l=this._editor.getModel();if(!l)return!1;const E=l.getLanguageId(),H=this._configurationService.getValue(E);if(H&&typeof H=="object"){const se=H.colorDecorators;if(se&&se.enable!==void 0&&!se.enable)return se.enable}return this._editor.getOption(17)}static get(l){return l.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const l=this._editor.getModel();!l||!V.OH.has(l)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new k._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},yu.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=(0,k.PG)(l=>{const E=this._editor.getModel();return E?_t(E,l):Promise.resolve([])}),this._computePromise.then(l=>{this.updateDecorations(l),this.updateColorDecorators(l),this._computePromise=null},P.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(l){const E=l.map(H=>({range:{startLineNumber:H.colorInfo.range.startLineNumber,startColumn:H.colorInfo.range.startColumn,endLineNumber:H.colorInfo.range.endLineNumber,endColumn:H.colorInfo.range.endColumn},options:$.qx.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,E),this._colorDatas=new Map,this._decorationsIds.forEach((H,se)=>this._colorDatas.set(H,l[se]))}updateColorDecorators(l){let E=[],H={};for(let se=0;se<l.length&&E.length<An;se++){const{red:ne,green:Le,blue:Ge,alpha:Wt}=l[se].colorInfo.color,Vt=new ce.VS(Math.round(ne*255),Math.round(Le*255),Math.round(Ge*255),Wt);let wt=(0,ti.vp)(`rgba(${Vt.r},${Vt.g},${Vt.b},${Vt.a})`).toString(16),ai=`rgba(${Vt.r}, ${Vt.g}, ${Vt.b}, ${Vt.a})`,Yi="colorBox-"+wt;!this._decorationsTypes.has(Yi)&&!H[Yi]&&this._codeEditorService.registerDecorationType("color-detector-color",Yi,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:ai},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),H[Yi]=!0,E.push({range:{startLineNumber:l[se].colorInfo.range.startLineNumber,startColumn:l[se].colorInfo.range.startColumn,endLineNumber:l[se].colorInfo.range.endLineNumber,endColumn:l[se].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(Yi,!0)})}this._decorationsTypes.forEach(se=>{H[se]||this._codeEditorService.removeDecorationType(se)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,E)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(l=>{this._codeEditorService.removeDecorationType(l)})}getColorData(l){const E=this._editor.getModel();if(!E)return null;const H=E.getDecorationsInRange(O.e.fromPositions(l,l)).filter(se=>this._colorDatas.has(se.id));return H.length===0?null:this._colorDatas.get(H[0].id)}};Pi.ID="editor.contrib.colorDetector",Pi.RECOMPUTE_TIME=1e3,Pi=Jt([ln(1,ve.$),ln(2,ps.Ui)],Pi),(0,Q._K)(Pi.ID,Pi);class on{constructor(l,E,H){this.presentationIndex=H,this._onColorFlushed=new x.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new x.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new x.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=l,this._color=l,this._colorPresentations=E}get color(){return this._color}set color(l){this._color.equals(l)||(this._color=l,this._onDidChangeColor.fire(l))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(l){this._colorPresentations=l,this.presentationIndex>l.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(l,E){for(let H=0;H<this.colorPresentations.length;H++)if(E.toLowerCase()===this.colorPresentations[H].label){this.presentationIndex=H,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var Ln=c(57974);const Ji=T.$;class Kt extends Y.JT{constructor(l,E,H){super(),this.model=E,this.domNode=Ji(".colorpicker-header"),T.R3(l,this.domNode),this.pickedColorNode=T.R3(this.domNode,Ji(".picked-color"));const se=(0,de.N)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",se);const ne=T.R3(this.domNode,Ji(".original-color"));ne.style.backgroundColor=ce.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=H.getColorTheme().getColor(ht.yJ)||ce.Il.white,this._register((0,Xe.Ic)((Le,Ge)=>{this.backgroundColor=Le.getColor(ht.yJ)||ce.Il.white})),this._register(T.nm(this.pickedColorNode,T.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(T.nm(ne,T.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(E.onDidChangeColor(this.onDidChangeColor,this)),this._register(E.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=ce.Il.Format.CSS.format(E.color)||"",this.pickedColorNode.classList.toggle("light",E.color.rgba.a<.5?this.backgroundColor.isLighter():E.color.isLighter())}onDidChangeColor(l){this.pickedColorNode.style.backgroundColor=ce.Il.Format.CSS.format(l)||"",this.pickedColorNode.classList.toggle("light",l.rgba.a<.5?this.backgroundColor.isLighter():l.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(Ji(".codicon.codicon-color-mode"))}}class Si extends Y.JT{constructor(l,E,H){super(),this.model=E,this.pixelRatio=H,this.domNode=Ji(".colorpicker-body"),T.R3(l,this.domNode),this.saturationBox=new $i(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new bs(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new Rs(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:l,v:E}){const H=this.model.color.hsva;this.model.color=new ce.Il(new ce.tx(H.h,l,E,H.a))}onDidOpacityChange(l){const E=this.model.color.hsva;this.model.color=new ce.Il(new ce.tx(E.h,E.s,E.v,l))}onDidHueChange(l){const E=this.model.color.hsva,H=(1-l)*360;this.model.color=new ce.Il(new ce.tx(H===360?0:H,E.s,E.v,E.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class $i extends Y.JT{constructor(l,E,H){super(),this.model=E,this.pixelRatio=H,this._onDidChange=new x.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new x.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Ji(".saturation-wrap"),T.R3(l,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",T.R3(this.domNode,this.canvas),this.selection=Ji(".saturation-selection"),T.R3(this.domNode,this.selection),this.layout(),this._register(T.Lo(this.domNode,se=>this.onMouseDown(se))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(l){this.monitor=this._register(new Ln.Z);const E=T.i(this.domNode);l.target!==this.selection&&this.onDidChangePosition(l.offsetX,l.offsetY),this.monitor.startMonitoring(l.target,l.buttons,Ln.e,se=>this.onDidChangePosition(se.posx-E.left,se.posy-E.top),()=>null);const H=T.qV(document,()=>{this._onColorFlushed.fire(),H.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(l,E){const H=Math.max(0,Math.min(1,l/this.width)),se=Math.max(0,Math.min(1,1-E/this.height));this.paintSelection(H,se),this._onDidChange.fire({s:H,v:se})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const l=this.model.color.hsva;this.paintSelection(l.s,l.v)}paint(){const l=this.model.color.hsva,E=new ce.Il(new ce.tx(l.h,1,1,1)),H=this.canvas.getContext("2d"),se=H.createLinearGradient(0,0,this.canvas.width,0);se.addColorStop(0,"rgba(255, 255, 255, 1)"),se.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),se.addColorStop(1,"rgba(255, 255, 255, 0)");const ne=H.createLinearGradient(0,0,0,this.canvas.height);ne.addColorStop(0,"rgba(0, 0, 0, 0)"),ne.addColorStop(1,"rgba(0, 0, 0, 1)"),H.rect(0,0,this.canvas.width,this.canvas.height),H.fillStyle=ce.Il.Format.CSS.format(E),H.fill(),H.fillStyle=se,H.fill(),H.fillStyle=ne,H.fill()}paintSelection(l,E){this.selection.style.left=`${l*this.width}px`,this.selection.style.top=`${this.height-E*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class gs extends Y.JT{constructor(l,E){super(),this.model=E,this._onDidChange=new x.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new x.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=T.R3(l,Ji(".strip")),this.overlay=T.R3(this.domNode,Ji(".overlay")),this.slider=T.R3(this.domNode,Ji(".slider")),this.slider.style.top="0px",this._register(T.Lo(this.domNode,H=>this.onMouseDown(H))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const l=this.getValue(this.model.color);this.updateSliderPosition(l)}onMouseDown(l){const E=this._register(new Ln.Z),H=T.i(this.domNode);this.domNode.classList.add("grabbing"),l.target!==this.slider&&this.onDidChangeTop(l.offsetY),E.startMonitoring(l.target,l.buttons,Ln.e,ne=>this.onDidChangeTop(ne.posy-H.top),()=>null);const se=T.qV(document,()=>{this._onColorFlushed.fire(),se.dispose(),E.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(l){const E=Math.max(0,Math.min(1,1-l/this.height));this.updateSliderPosition(E),this._onDidChange.fire(E)}updateSliderPosition(l){this.slider.style.top=`${(1-l)*this.height}px`}}class bs extends gs{constructor(l,E){super(l,E),this.domNode.classList.add("opacity-strip"),this._register(E.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(l){const{r:E,g:H,b:se}=l.rgba,ne=new ce.Il(new ce.VS(E,H,se,1)),Le=new ce.Il(new ce.VS(E,H,se,0));this.overlay.style.background=`linear-gradient(to bottom, ${ne} 0%, ${Le} 100%)`}getValue(l){return l.hsva.a}}class Rs extends gs{constructor(l,E){super(l,E),this.domNode.classList.add("hue-strip")}getValue(l){return 1-l.hsva.h/360}}class We extends pe.${constructor(l,E,H,se){super(),this.model=E,this.pixelRatio=H,this._register((0,wi.fX)(()=>this.layout()));const ne=Ji(".colorpicker-widget");l.appendChild(ne);const Le=new Kt(ne,this.model,se);this.body=new Si(ne,this.model,this.pixelRatio),this._register(Le),this._register(this.body)}layout(){this.body.layout()}}var d=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},N=function(be,l){return function(E,H){l(E,H,be)}},z=function(be,l,E,H){function se(ne){return ne instanceof E?ne:new E(function(Le){Le(ne)})}return new(E||(E=Promise))(function(ne,Le){function Ge(wt){try{Vt(H.next(wt))}catch(ai){Le(ai)}}function Wt(wt){try{Vt(H.throw(wt))}catch(ai){Le(ai)}}function Vt(wt){wt.done?ne(wt.value):se(wt.value).then(Ge,Wt)}Vt((H=H.apply(be,l||[])).next())})};class oe{constructor(l,E,H,se){this.owner=l,this.range=E,this.model=H,this.provider=se,this.forceShowAtRange=!0}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}}let fe=class{constructor(l,E,H){this._editor=l,this._hover=E,this._themeService=H}computeSync(l,E){return[]}computeAsync(l,E,H){return z(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const se=Pi.get(this._editor);for(const ne of E){if(ne.options.description!=="color-detector-color")continue;const Le=se.getColorData(ne.range.getStartPosition());if(Le)return[yield this._createColorHover(this._editor.getModel(),Le.colorInfo,Le.provider)]}return[]})}_createColorHover(l,E,H){return z(this,void 0,void 0,function*(){const se=l.getValueInRange(E.range),{red:ne,green:Le,blue:Ge,alpha:Wt}=E.color,Vt=new ce.VS(Math.round(ne*255),Math.round(Le*255),Math.round(Ge*255),Wt),wt=new ce.Il(Vt),ai=yield bt(l,E,H,Ws.T.None),Yi=new on(wt,[],0);return Yi.colorPresentations=ai||[],Yi.guessColorPresentation(wt,se),new oe(this,O.e.lift(E.range),Yi,H)})}renderHoverParts(l,E,H){if(l.length===0||!this._editor.hasModel())return Y.JT.None;const se=new Y.SL,ne=l[0],Le=this._editor.getModel(),Ge=ne.model,Wt=se.add(new We(E,Ge,this._editor.getOption(127),this._themeService));let Vt=new O.e(ne.range.startLineNumber,ne.range.startColumn,ne.range.endLineNumber,ne.range.endColumn);const wt=()=>{let Yi,bn;if(Ge.presentation.textEdit){Yi=[Ge.presentation.textEdit],bn=new O.e(Ge.presentation.textEdit.range.startLineNumber,Ge.presentation.textEdit.range.startColumn,Ge.presentation.textEdit.range.endLineNumber,Ge.presentation.textEdit.range.endColumn);const Gn=this._editor.getModel()._setTrackedRange(null,bn,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Yi),bn=this._editor.getModel()._getTrackedRange(Gn)||bn}else Yi=[{identifier:null,range:Vt,text:Ge.presentation.label,forceMoveMarkers:!1}],bn=Vt.setEndPosition(Vt.endLineNumber,Vt.startColumn+Ge.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Yi);Ge.presentation.additionalTextEdits&&(Yi=[...Ge.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",Yi),this._hover.hide()),this._editor.pushUndoStop(),Vt=bn},ai=Yi=>bt(Le,{range:Vt,color:{red:Yi.rgba.r/255,green:Yi.rgba.g/255,blue:Yi.rgba.b/255,alpha:Yi.rgba.a}},ne.provider,Ws.T.None).then(bn=>{Ge.colorPresentations=bn||[]});return se.add(Ge.onColorFlushed(Yi=>{ai(Yi).then(wt)})),se.add(Ge.onDidChangeColor(ai)),this._hover.setColorPicker(Wt),se}};fe=d([N(2,Xe.XE)],fe);class Ee{constructor(l,E,H,se,ne){this._computer=l,this._state=0,this._hoverTime=ne,this._firstWaitScheduler=new k.pY(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new k.pY(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new k.pY(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=E,this._errorCallback=H,this._progressCallback=se}setHoverTime(l){this._hoverTime=l}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=(0,k.PG)(l=>this._computer.computeAsync(l)),this._asyncComputationPromise.then(l=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(l)},l=>this._onError(l))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(l){l&&this._computer.onResult(l,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(l){this._completeCallback(l)}_onError(l){this._errorCallback?this._errorCallback(l):(0,P.dL)(l)}_onProgress(l){this._progressCallback(l)}start(l){if(l===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}class Ve{constructor(l,E){this.priority=l,this.range=E,this.type=1}equals(l){return l.type===1&&this.range.equalsRange(l.range)}canAdoptVisibleHover(l,E){return l.type===1&&E.lineNumber===this.range.startLineNumber}}class dt{constructor(l,E,H){this.priority=l,this.owner=E,this.range=H,this.type=2}equals(l){return l.type===2&&this.owner===l.owner}canAdoptVisibleHover(l,E){return l.type===2&&this.owner===l.owner}}var At=c(53430);function Ct(be,l,E){const se=V.xp.ordered(be).map(ne=>Promise.resolve(ne.provideHover(be,l,E)).then(Le=>Le&&Dt(Le)?Le:void 0,Le=>{(0,P.Cp)(Le)}));return Promise.all(se).then(Re.kX)}(0,Q.sb)("_executeHoverProvider",(be,l)=>Ct(be,l,Ws.T.None));function Dt(be){const l=typeof be.range!="undefined",E=typeof be.contents!="undefined"&&be.contents&&be.contents.length>0;return l&&E}var $t=c(50988),si=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},ui=function(be,l){return function(E,H){l(E,H,be)}},Ti=function(be,l,E,H){function se(ne){return ne instanceof E?ne:new E(function(Le){Le(ne)})}return new(E||(E=Promise))(function(ne,Le){function Ge(wt){try{Vt(H.next(wt))}catch(ai){Le(ai)}}function Wt(wt){try{Vt(H.throw(wt))}catch(ai){Le(ai)}}function Vt(wt){wt.done?ne(wt.value):se(wt.value).then(Ge,Wt)}Vt((H=H.apply(be,l||[])).next())})};const Fi=T.$;class Zi{constructor(l,E,H){this.owner=l,this.range=E,this.contents=H}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}}let yn=class{constructor(l,E,H,se,ne){this._editor=l,this._hover=E,this._modeService=H,this._openerService=se,this._configurationService=ne}createLoadingMessage(l){return new Zi(this,l.range,[new s.W5().appendText(de.N("modesContentHover.loading","Loading..."))])}computeSync(l,E){if(!this._editor.hasModel()||l.type!==1)return[];const H=this._editor.getModel(),se=l.range.startLineNumber,ne=H.getLineMaxColumn(se),Le=[];for(const wt of E){const ai=wt.range.startLineNumber===se?wt.range.startColumn:1,Yi=wt.range.endLineNumber===se?wt.range.endColumn:ne,bn=wt.options.hoverMessage;if(!bn||(0,s.CP)(bn))continue;const Gn=new O.e(l.range.startLineNumber,ai,l.range.startLineNumber,Yi);Le.push(new Zi(this,Gn,(0,Re._2)(bn)))}const Ge=H.getLineLength(se),Wt=H.getLanguageIdAtPosition(l.range.startLineNumber,l.range.startColumn),Vt=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:Wt});return typeof Vt=="number"&&Ge>=Vt&&Le.push(new Zi(this,l.range,[{value:de.N("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}])),Le}computeAsync(l,E,H){return Ti(this,void 0,void 0,function*(){if(!this._editor.hasModel()||l.type!==1)return Promise.resolve([]);const se=this._editor.getModel();if(!V.xp.has(se))return Promise.resolve([]);const ne=yield Ct(se,new C.L(l.range.startLineNumber,l.range.startColumn),H),Le=[];for(const Ge of ne){if((0,s.CP)(Ge.contents))continue;const Wt=Ge.range?O.e.lift(Ge.range):l.range;Le.push(new Zi(this,Wt,Ge.contents))}return Le})}renderHoverParts(l,E,H){const se=new Y.SL;for(const ne of l)for(const Le of ne.contents){if((0,s.CP)(Le))continue;const Ge=Fi("div.hover-row.markdown-hover"),Wt=T.R3(Ge,Fi("div.hover-contents")),Vt=se.add(new At.$({editor:this._editor},this._modeService,this._openerService));se.add(Vt.onDidRenderAsync(()=>{Wt.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const wt=se.add(Vt.render(Le));Wt.appendChild(wt.element),E.appendChild(Ge)}return se}};yn=si([ui(2,J.h),ui(3,$t.v4),ui(4,ps.Ui)],yn);var as=c(26479),wn=c(3860);class rn{constructor(l){this.value=l}equals(l){return this.value===l.value}contains(l){return this.equals(l)||this.value===""||l.value.startsWith(this.value+rn.sep)}intersects(l){return this.contains(l)||l.contains(this)}append(l){return new rn(this.value+rn.sep+l)}}rn.sep=".",rn.None=new rn("@@none@@"),rn.Empty=new rn(""),rn.QuickFix=new rn("quickfix"),rn.Refactor=new rn("refactor"),rn.Source=new rn("source"),rn.SourceOrganizeImports=rn.Source.append("organizeImports"),rn.SourceFixAll=rn.Source.append("fixAll");function oo(be,l){return!(be.include&&!be.include.intersects(l)||be.excludes&&be.excludes.some(E=>js(l,E,be.include))||!be.includeSourceActions&&rn.Source.contains(l))}function Ks(be,l){const E=l.kind?new rn(l.kind):void 0;return!(be.include&&(!E||!be.include.contains(E))||be.excludes&&E&&be.excludes.some(H=>js(E,H,be.include))||!be.includeSourceActions&&E&&rn.Source.contains(E)||be.onlyIncludePreferredActions&&!l.isPreferred)}function js(be,l,E){return!(!l.contains(be)||E&&l.contains(E))}class Us{constructor(l,E,H){this.kind=l,this.apply=E,this.preferred=H}static fromUser(l,E){return!l||typeof l!="object"?new Us(E.kind,E.apply,!1):new Us(Us.getKindFromUser(l,E.kind),Us.getApplyFromUser(l,E.apply),Us.getPreferredUser(l))}static getApplyFromUser(l,E){switch(typeof l.apply=="string"?l.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return E}}static getKindFromUser(l,E){return typeof l.kind=="string"?new rn(l.kind):E}static getPreferredUser(l){return typeof l.preferred=="boolean"?l.preferred:!1}}var dr=function(be,l,E,H){function se(ne){return ne instanceof E?ne:new E(function(Le){Le(ne)})}return new(E||(E=Promise))(function(ne,Le){function Ge(wt){try{Vt(H.next(wt))}catch(ai){Le(ai)}}function Wt(wt){try{Vt(H.throw(wt))}catch(ai){Le(ai)}}function Vt(wt){wt.done?ne(wt.value):se(wt.value).then(Ge,Wt)}Vt((H=H.apply(be,l||[])).next())})};const cr="editor.action.codeAction",pr="editor.action.refactor",br="editor.action.sourceAction",Ar="editor.action.organizeImports",wr="editor.action.fixAll";class Or{constructor(l,E){this.action=l,this.provider=E}resolve(l){var E;return dr(this,void 0,void 0,function*(){if(!((E=this.provider)===null||E===void 0)&&E.resolveCodeAction&&!this.action.edit){let H;try{H=yield this.provider.resolveCodeAction(this.action,l)}catch(se){(0,P.Cp)(se)}H&&(this.action.edit=H.edit)}return this})}}class $r extends Y.JT{constructor(l,E,H){super(),this.documentation=E,this._register(H),this.allActions=[...l].sort($r.codeActionsComparator),this.validActions=this.allActions.filter(({action:se})=>!se.disabled)}static codeActionsComparator({action:l},{action:E}){return l.isPreferred&&!E.isPreferred?-1:!l.isPreferred&&E.isPreferred?1:(0,Re.Of)(l.diagnostics)?(0,Re.Of)(E.diagnostics)?l.diagnostics[0].message.localeCompare(E.diagnostics[0].message):-1:(0,Re.Of)(E.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:l})=>!!l.kind&&rn.QuickFix.contains(new rn(l.kind))&&!!l.isPreferred)}}const Kr={actions:[],documentation:void 0};function aa(be,l,E,H,se){var ne;const Le=E.filter||{},Ge={only:(ne=Le.include)===null||ne===void 0?void 0:ne.value,trigger:E.type},Wt=new m.YQ(be,se),Vt=ae(be,Le),wt=new Y.SL,ai=Vt.map(bn=>dr(this,void 0,void 0,function*(){try{H.report(bn);const Gn=yield bn.provideCodeActions(be,l,Ge,Wt.token);if(Gn&&wt.add(Gn),Wt.token.isCancellationRequested)return Kr;const Mo=((Gn==null?void 0:Gn.actions)||[]).filter(lr=>lr&&Ks(Le,lr)),jo=xe(bn,Mo,Le.include);return{actions:Mo.map(lr=>new Or(lr,bn)),documentation:jo}}catch(Gn){if((0,P.VV)(Gn))throw Gn;return(0,P.Cp)(Gn),Kr}})),Yi=V.H9.onDidChange(()=>{const bn=V.H9.all(be);(0,Re.fS)(bn,Vt)||Wt.cancel()});return Promise.all(ai).then(bn=>{const Gn=(0,Re.xH)(bn.map(jo=>jo.actions)),Mo=(0,Re.kX)(bn.map(jo=>jo.documentation));return new $r(Gn,Mo,wt)}).finally(()=>{Yi.dispose(),Wt.dispose()})}function ae(be,l){return V.H9.all(be).filter(E=>E.providedCodeActionKinds?E.providedCodeActionKinds.some(H=>oo(l,new rn(H))):!0)}function xe(be,l,E){if(!be.documentation)return;const H=be.documentation.map(se=>({kind:new rn(se.kind),command:se.command}));if(E){let se;for(const ne of H)ne.kind.contains(E)&&(se?se.kind.contains(ne.kind)&&(se=ne):se=ne);if(se)return se==null?void 0:se.command}for(const se of l)if(se.kind){for(const ne of H)if(ne.kind.contains(new rn(se.kind)))return ne.command}}Ri.P.registerCommand("_executeCodeActionProvider",function(be,l,E,H,se){return dr(this,void 0,void 0,function*(){if(!(l instanceof Ui.o))throw(0,P.b1)();const ne=be.get(Ke.q).getModel(l);if(!ne)throw(0,P.b1)();const Le=wn.Y.isISelection(E)?wn.Y.liftSelection(E):O.e.isIRange(E)?ne.validateRange(E):void 0;if(!Le)throw(0,P.b1)();const Ge=typeof H=="string"?new rn(H):void 0,Wt=yield aa(ne,Le,{type:1,filter:{includeSourceActions:!0,include:Ge}},co.E.None,Ws.T.None),Vt=[],wt=Math.min(Wt.validActions.length,typeof se=="number"?se:0);for(let ai=0;ai<wt;ai++)Vt.push(Wt.validActions[ai].resolve(Ws.T.None));try{return yield Promise.all(Vt),Wt.validActions.map(ai=>ai.action)}finally{setTimeout(()=>Wt.dispose(),100)}})});class Ft{constructor(l){this.executor=l,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(l){this._error=l}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var jt=c(66007),Ci=c(5606),Ki=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},Ni=function(be,l){return function(E,H){l(E,H,be)}},cn=function(be,l,E,H){function se(ne){return ne instanceof E?ne:new E(function(Le){Le(ne)})}return new(E||(E=Promise))(function(ne,Le){function Ge(wt){try{Vt(H.next(wt))}catch(ai){Le(ai)}}function Wt(wt){try{Vt(H.throw(wt))}catch(ai){Le(ai)}}function Vt(wt){wt.done?ne(wt.value):se(wt.value).then(Ge,Wt)}Vt((H=H.apply(be,l||[])).next())})};class mn extends K.aU{constructor(l,E){super(l.command?l.command.id:l.title,Kn(l.title),void 0,!l.disabled,E),this.action=l}}function Kn(be){return be.replace(/\r\n|\r|\n/g," ")}let Nn=class extends Y.JT{constructor(l,E,H,se){super(),this._editor=l,this._delegate=E,this._contextMenuService=H,this._visible=!1,this._showingActions=this._register(new Y.XK),this._keybindingResolver=new vn({getKeybindings:()=>se.getKeybindings()})}get isVisible(){return this._visible}show(l,E,H,se){return cn(this,void 0,void 0,function*(){const ne=se.includeDisabledActions?E.allActions:E.validActions;if(!ne.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,P.F0)();this._visible=!0,this._showingActions.value=E;const Le=this.getMenuActions(l,ne,E.documentation),Ge=C.L.isIPosition(H)?this._toCoords(H):H||{x:0,y:0},Wt=this._keybindingResolver.getResolver(),Vt=this._editor.getOption(113);this._contextMenuService.showContextMenu({domForShadowRoot:Vt?this._editor.getDomNode():void 0,getAnchor:()=>Ge,getActions:()=>Le,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:wt=>wt instanceof mn?Wt(wt.action):void 0})})}getMenuActions(l,E,H){var se,ne;const Le=wt=>new mn(wt.action,()=>this._delegate.onSelectCodeAction(wt)),Ge=E.map(Le),Wt=[...H],Vt=this._editor.getModel();if(Vt&&Ge.length)for(const wt of V.H9.all(Vt))wt._getAdditionalMenuItems&&Wt.push(...wt._getAdditionalMenuItems({trigger:l.type,only:(ne=(se=l.filter)===null||se===void 0?void 0:se.include)===null||ne===void 0?void 0:ne.value},E.map(ai=>ai.action)));return Wt.length&&Ge.push(new K.Z0,...Wt.map(wt=>Le(new Or({title:wt.title,command:wt},void 0)))),Ge}_toCoords(l){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(l,1),this._editor.render();const E=this._editor.getScrolledVisiblePosition(l),H=(0,T.i)(this._editor.getDomNode()),se=H.left+E.left,ne=H.top+E.top+E.height;return{x:se,y:ne}}};Nn=Ki([Ni(2,Ci.i),Ni(3,vt.d)],Nn);class vn{constructor(l){this._keybindingProvider=l}getResolver(){const l=new Ft(()=>this._keybindingProvider.getKeybindings().filter(E=>vn.codeActionCommands.indexOf(E.command)>=0).filter(E=>E.resolvedKeybinding).map(E=>{let H=E.commandArgs;return E.command===Ar?H={kind:rn.SourceOrganizeImports.value}:E.command===wr&&(H={kind:rn.SourceFixAll.value}),Object.assign({resolvedKeybinding:E.resolvedKeybinding},Us.fromUser(H,{kind:rn.None,apply:"never"}))}));return E=>{if(E.kind){const H=this.bestKeybindingForCodeAction(E,l.getValue());return H==null?void 0:H.resolvedKeybinding}}}bestKeybindingForCodeAction(l,E){if(!l.kind)return;const H=new rn(l.kind);return E.filter(se=>se.kind.contains(H)).filter(se=>se.preferred?l.isPreferred:!0).reduceRight((se,ne)=>se?se.kind.contains(ne.kind)?ne:se:ne,void 0)}}vn.codeActionCommands=[pr,cr,br,Ar,wr];var _s=c(10553),pn=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},cs=function(be,l){return function(E,H){l(E,H,be)}},Qn;(function(be){be.Hidden={type:0};class l{constructor(H,se,ne,Le){this.actions=H,this.trigger=se,this.editorPosition=ne,this.widgetPosition=Le,this.type=1}}be.Showing=l})(Qn||(Qn={}));let Rn=class Lu extends Y.JT{constructor(l,E,H,se){super(),this._editor=l,this._quickFixActionId=E,this._preferredFixActionId=H,this._keybindingService=se,this._onClick=this._register(new x.Q5),this.onClick=this._onClick.event,this._state=Qn.Hidden,this._domNode=document.createElement("div"),this._domNode.className=ie.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(ne=>{const Le=this._editor.getModel();(this.state.type!==1||!Le||this.state.editorPosition.lineNumber>=Le.getLineCount())&&this.hide()})),_s.o.ignoreTarget(this._domNode),this._register(T.Gw(this._domNode,ne=>{if(this.state.type!==1)return;this._editor.focus(),ne.preventDefault();const{top:Le,height:Ge}=T.i(this._domNode),Wt=this._editor.getOption(58);let Vt=Math.floor(Wt/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(Vt+=Wt),this._onClick.fire({x:ne.posx,y:Le+Ge+Vt,actions:this.state.actions,trigger:this.state.trigger})})),this._register(T.nm(this._domNode,"mouseenter",ne=>{if((ne.buttons&1)!==1)return;this.hide();const Le=new Ln.Z;Le.startMonitoring(ne.target,ne.buttons,Ln.e,()=>{},()=>{Le.dispose()})})),this._register(this._editor.onDidChangeConfiguration(ne=>{ne.hasChanged(56)&&!this._editor.getOption(56).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(l,E,H){if(l.validActions.length<=0)return this.hide();const se=this._editor.getOptions();if(!se.get(56).enabled)return this.hide();const ne=this._editor.getModel();if(!ne)return this.hide();const{lineNumber:Le,column:Ge}=ne.validatePosition(H),Wt=ne.getOptions().tabSize,Vt=se.get(43),wt=ne.getLineContent(Le),ai=$.yO.computeIndentLevel(wt,Wt),Yi=Vt.spaceWidth*ai>22,bn=Mo=>Mo>2&&this._editor.getTopForLineNumber(Mo)===this._editor.getTopForLineNumber(Mo-1);let Gn=Le;if(!Yi){if(Le>1&&!bn(Le-1))Gn-=1;else if(!bn(Le+1))Gn+=1;else if(Ge*Vt.spaceWidth<22)return this.hide()}this.state=new Qn.Showing(l,E,H,{position:{lineNumber:Gn,column:1},preference:Lu._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=Qn.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(l){this._state=l,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...ie.lA.lightBulb.classNamesArray),this._domNode.classList.add(...ie.lA.lightbulbAutofix.classNamesArray);const E=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(E){this.title=de.N("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",E.getLabel());return}}this._domNode.classList.remove(...ie.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...ie.lA.lightBulb.classNamesArray);const l=this._keybindingService.lookupKeybinding(this._quickFixActionId);l?this.title=de.N("codeActionWithKb","Show Code Actions ({0})",l.getLabel()):this.title=de.N("codeAction","Show Code Actions")}set title(l){this._domNode.title=l}};Rn._posPref=[0],Rn=pn([cs(3,vt.d)],Rn),(0,Xe.Ic)((be,l)=>{var E;const H=(E=be.getColor(ht.cv))===null||E===void 0?void 0:E.transparent(.7),se=be.getColor(ht.Fu);se&&l.addRule(`
		.monaco-editor .contentWidgets ${ie.lA.lightBulb.cssSelector} {
			color: ${se};
			background-color: ${H};
		}`);const ne=be.getColor(ht.sK);ne&&l.addRule(`
		.monaco-editor .contentWidgets ${ie.lA.lightbulbAutofix.cssSelector} {
			color: ${ne};
			background-color: ${H};
		}`)});var Ss=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},Gs=function(be,l){return function(E,H){l(E,H,be)}},As=function(be,l,E,H){function se(ne){return ne instanceof E?ne:new E(function(Le){Le(ne)})}return new(E||(E=Promise))(function(ne,Le){function Ge(wt){try{Vt(H.next(wt))}catch(ai){Le(ai)}}function Wt(wt){try{Vt(H.throw(wt))}catch(ai){Le(ai)}}function Vt(wt){wt.done?ne(wt.value):se(wt.value).then(Ge,Wt)}Vt((H=H.apply(be,l||[])).next())})},xs=function(be,l,E,H,se){if(H==="m")throw new TypeError("Private method is not writable");if(H==="a"&&!se)throw new TypeError("Private accessor was defined without a setter");if(typeof l=="function"?be!==l||!se:!l.has(be))throw new TypeError("Cannot write private member to an object whose class did not declare it");return H==="a"?se.call(be,E):se?se.value=E:l.set(be,E),E},ls=function(be,l,E,H){if(E==="a"&&!H)throw new TypeError("Private accessor was defined without a getter");if(typeof l=="function"?be!==l||!H:!l.has(be))throw new TypeError("Cannot read private member from an object whose class did not declare it");return E==="m"?H:E==="a"?H.call(be):H?H.value:l.get(be)},Xn;let Vs=class extends Y.JT{constructor(l,E,H,se,ne){super(),this._editor=l,this.delegate=se,this._activeCodeActions=this._register(new Y.XK),Xn.set(this,!1),this._codeActionWidget=new Ft(()=>this._register(ne.createInstance(Nn,this._editor,{onSelectCodeAction:Le=>As(this,void 0,void 0,function*(){this.delegate.applyCodeAction(Le,!0)})}))),this._lightBulbWidget=new Ft(()=>{const Le=this._register(ne.createInstance(Rn,this._editor,E,H));return this._register(Le.onClick(Ge=>this.showCodeActionList(Ge.trigger,Ge.actions,Ge,{includeDisabledActions:!1}))),Le})}dispose(){xs(this,Xn,!0,"f"),super.dispose()}update(l){var E,H,se;return As(this,void 0,void 0,function*(){if(l.type!==1){(E=this._lightBulbWidget.rawValue)===null||E===void 0||E.hide();return}let ne;try{ne=yield l.actions}catch(Le){(0,P.dL)(Le);return}if(!ls(this,Xn,"f"))if(this._lightBulbWidget.getValue().update(ne,l.trigger,l.position),l.trigger.type===1){if(!((H=l.trigger.filter)===null||H===void 0)&&H.include){const Ge=this.tryGetValidActionToApply(l.trigger,ne);if(Ge){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(Ge,!1)}finally{ne.dispose()}return}if(l.trigger.context){const Wt=this.getInvalidActionThatWouldHaveBeenApplied(l.trigger,ne);if(Wt&&Wt.action.disabled){hs.get(this._editor).showMessage(Wt.action.disabled,l.trigger.context.position),ne.dispose();return}}}const Le=!!(!((se=l.trigger.filter)===null||se===void 0)&&se.include);if(l.trigger.context&&(!ne.allActions.length||!Le&&!ne.validActions.length)){hs.get(this._editor).showMessage(l.trigger.context.notAvailableMessage,l.trigger.context.position),this._activeCodeActions.value=ne,ne.dispose();return}this._activeCodeActions.value=ne,this._codeActionWidget.getValue().show(l.trigger,ne,l.position,{includeDisabledActions:Le})}else this._codeActionWidget.getValue().isVisible?ne.dispose():this._activeCodeActions.value=ne})}getInvalidActionThatWouldHaveBeenApplied(l,E){if(E.allActions.length&&(l.autoApply==="first"&&E.validActions.length===0||l.autoApply==="ifSingle"&&E.allActions.length===1))return E.allActions.find(({action:H})=>H.disabled)}tryGetValidActionToApply(l,E){if(E.validActions.length&&(l.autoApply==="first"&&E.validActions.length>0||l.autoApply==="ifSingle"&&E.validActions.length===1))return E.validActions[0]}showCodeActionList(l,E,H,se){return As(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(l,E,H,se)})}};Xn=new WeakMap,Vs=Ss([Gs(4,It.TG)],Vs);var jn=c(98674),ys=c(10829),Ps=function(be,l,E,H){if(E==="a"&&!H)throw new TypeError("Private accessor was defined without a getter");if(typeof l=="function"?be!==l||!H:!l.has(be))throw new TypeError("Cannot read private member from an object whose class did not declare it");return E==="m"?H:E==="a"?H.call(be):H?H.value:l.get(be)},Ns=function(be,l,E,H,se){if(H==="m")throw new TypeError("Private method is not writable");if(H==="a"&&!se)throw new TypeError("Private accessor was defined without a setter");if(typeof l=="function"?be!==l||!se:!l.has(be))throw new TypeError("Cannot write private member to an object whose class did not declare it");return H==="a"?se.call(be,E):se?se.value=E:l.set(be,E),E},Wi;const Fn=new Me.uy("supportedCodeAction","");class Fs extends Y.JT{constructor(l,E,H,se=250){super(),this._editor=l,this._markerService=E,this._signalChange=H,this._delay=se,this._autoTriggerTimer=this._register(new k._F),this._register(this._markerService.onMarkerChanged(ne=>this._onMarkerChanges(ne))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(l){const E=this._getRangeOfSelectionUnlessWhitespaceEnclosed(l);return this._createEventAndSignalChange(l,E)}_onMarkerChanges(l){const E=this._editor.getModel();E&&l.some(H=>(0,je.Xy)(H,E.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(l){const E=this._editor.getModel();if(E)for(const H of this._markerService.read({resource:E.uri})){const se=E.validateRange(H);if(O.e.intersectRanges(se,l))return O.e.lift(se)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(l){if(!this._editor.hasModel())return;const E=this._editor.getModel(),H=this._editor.getSelection();if(H.isEmpty()&&l.type===2){const{lineNumber:se,column:ne}=H.getPosition(),Le=E.getLineContent(se);if(Le.length===0)return;if(ne===1){if(/\s/.test(Le[0]))return}else if(ne===E.getLineMaxColumn(se)){if(/\s/.test(Le[Le.length-1]))return}else if(/\s/.test(Le[ne-2])&&/\s/.test(Le[ne-1]))return}return H}_createEventAndSignalChange(l,E){const H=this._editor.getModel();if(!E||!H){this._signalChange(void 0);return}const se=this._getRangeOfMarker(E),ne=se?se.getStartPosition():E.getStartPosition(),Le={trigger:l,selection:E,position:ne};return this._signalChange(Le),Le}}var Os;(function(be){be.Empty={type:0};class l{constructor(H,se,ne,Le){this.trigger=H,this.rangeOrSelection=se,this.position=ne,this._cancellablePromise=Le,this.type=1,this.actions=Le.catch(Ge=>{if((0,P.VV)(Ge))return fo;throw Ge})}cancel(){this._cancellablePromise.cancel()}}be.Triggered=l})(Os||(Os={}));const fo={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class yo extends Y.JT{constructor(l,E,H,se){super(),this._editor=l,this._markerService=E,this._progressService=se,this._codeActionOracle=this._register(new Y.XK),this._state=Os.Empty,this._onDidChangeState=this._register(new x.Q5),this.onDidChangeState=this._onDidChangeState.event,Wi.set(this,!1),this._supportedCodeActions=Fn.bindTo(H),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(V.H9.onDidChange(()=>this._update())),this._update()}dispose(){Ps(this,Wi,"f")||(Ns(this,Wi,!0,"f"),super.dispose(),this.setState(Os.Empty,!0))}_update(){if(Ps(this,Wi,"f"))return;this._codeActionOracle.value=void 0,this.setState(Os.Empty);const l=this._editor.getModel();if(l&&V.H9.has(l)&&!this._editor.getOption(80)){const E=[];for(const H of V.H9.all(l))Array.isArray(H.providedCodeActionKinds)&&E.push(...H.providedCodeActionKinds);this._supportedCodeActions.set(E.join(" ")),this._codeActionOracle.value=new Fs(this._editor,this._markerService,H=>{var se;if(!H){this.setState(Os.Empty);return}const ne=(0,k.PG)(Le=>aa(l,H.selection,H.trigger,co.E.None,Le));H.trigger.type===1&&((se=this._progressService)===null||se===void 0||se.showWhile(ne,250)),this.setState(new Os.Triggered(H.trigger,H.selection,H.position,ne))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(l){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(l)}setState(l,E){l!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=l,!E&&!Ps(this,Wi,"f")&&this._onDidChangeState.fire(l))}}Wi=new WeakMap;var No=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},Js=function(be,l){return function(E,H){l(E,H,be)}},ms=function(be,l,E,H){function se(ne){return ne instanceof E?ne:new E(function(Le){Le(ne)})}return new(E||(E=Promise))(function(ne,Le){function Ge(wt){try{Vt(H.next(wt))}catch(ai){Le(ai)}}function Wt(wt){try{Vt(H.throw(wt))}catch(ai){Le(ai)}}function Vt(wt){wt.done?ne(wt.value):se(wt.value).then(Ge,Wt)}Vt((H=H.apply(be,l||[])).next())})};function Ds(be){return Me.Ao.regex(Fn.keys()[0],new RegExp("(\\s|^)"+(0,Tt.ec)(be.value)+"\\b"))}const To={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:de.N("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:de.N("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[de.N("args.schema.apply.first","Always apply the first returned code action."),de.N("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),de.N("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:de.N("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let Ko=class Du extends Y.JT{constructor(l,E,H,se,ne){super(),this._instantiationService=ne,this._editor=l,this._model=this._register(new yo(this._editor,E,H,se)),this._register(this._model.onDidChangeState(Le=>this.update(Le))),this._ui=new Ft(()=>this._register(new Vs(l,Co.Id,Ts.Id,{applyCodeAction:(Le,Ge)=>ms(this,void 0,void 0,function*(){try{yield this._applyCodeAction(Le)}finally{Ge&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(l){return l.getContribution(Du.ID)}update(l){this._ui.getValue().update(l)}showCodeActions(l,E,H){return this._ui.getValue().showCodeActionList(l,E,H,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(l,E,H){if(!this._editor.hasModel())return;hs.get(this._editor).closeMessage();const se=this._editor.getPosition();this._trigger({type:1,filter:E,autoApply:H,context:{notAvailableMessage:l,position:se}})}_trigger(l){return this._model.trigger(l)}_applyCodeAction(l){return this._instantiationService.invokeFunction(_o,l,this._editor)}};Ko.ID="editor.contrib.quickFixController",Ko=No([Js(1,jn.lT),Js(2,Me.i6),Js(3,co.e),Js(4,It.TG)],Ko);function _o(be,l,E){return ms(this,void 0,void 0,function*(){const H=be.get(jt.vu),se=be.get(Ri.H),ne=be.get(ys.b),Le=be.get(Xi.lT);if(ne.publicLog2("codeAction.applyCodeAction",{codeActionTitle:l.action.title,codeActionKind:l.action.kind,codeActionIsPreferred:!!l.action.isPreferred}),yield l.resolve(Ws.T.None),l.action.edit&&(yield H.apply(jt.fo.convert(l.action.edit),{editor:E,label:l.action.title})),l.action.command)try{yield se.executeCommand(l.action.command.id,...l.action.command.arguments||[])}catch(Ge){const Wt=Po(Ge);Le.error(typeof Wt=="string"?Wt:de.N("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function Po(be){return typeof be=="string"?be:be instanceof Error&&typeof be.message=="string"?be.message:void 0}function ro(be,l,E,H){if(be.hasModel()){const se=Ko.get(be);se&&se.manualTriggerAtCurrentPosition(l,E,H)}}class Co extends Q.R6{constructor(){super({id:Co.Id,label:de.N("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Me.Ao.and(y.u.writable,y.u.hasCodeActionsProvider),kbOpts:{kbExpr:y.u.editorTextFocus,primary:2132,weight:100}})}run(l,E){return ro(E,de.N("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}Co.Id="editor.action.quickFix";class hr extends null{constructor(){super({id:codeActionCommandId,precondition:ContextKeyExpr.and(EditorContextKeys.writable,EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:To}]}})}runEditorCommand(l,E,H){const se=CodeActionCommandArgs.fromUser(H,{kind:CodeActionKind.Empty,apply:"ifSingle"});return ro(E,typeof(H==null?void 0:H.kind)=="string"?se.preferred?nls.localize("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",H.kind):nls.localize("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",H.kind):se.preferred?nls.localize("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):nls.localize("editor.action.codeAction.noneMessage","No code actions available"),{include:se.kind,includeSourceActions:!0,onlyIncludePreferredActions:se.preferred},se.apply)}}class Qo extends null{constructor(){super({id:refactorCommandId,label:nls.localize("refactor.label","Refactor..."),alias:"Refactor...",precondition:ContextKeyExpr.and(EditorContextKeys.writable,EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:EditorContextKeys.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:ContextKeyExpr.and(EditorContextKeys.writable,Ds(CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:To}]}})}run(l,E,H){const se=CodeActionCommandArgs.fromUser(H,{kind:CodeActionKind.Refactor,apply:"never"});return ro(E,typeof(H==null?void 0:H.kind)=="string"?se.preferred?nls.localize("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",H.kind):nls.localize("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",H.kind):se.preferred?nls.localize("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):nls.localize("editor.action.refactor.noneMessage","No refactorings available"),{include:CodeActionKind.Refactor.contains(se.kind)?se.kind:CodeActionKind.None,onlyIncludePreferredActions:se.preferred},se.apply)}}class Bo extends null{constructor(){super({id:sourceActionCommandId,label:nls.localize("source.label","Source Action..."),alias:"Source Action...",precondition:ContextKeyExpr.and(EditorContextKeys.writable,EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:ContextKeyExpr.and(EditorContextKeys.writable,Ds(CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:To}]}})}run(l,E,H){const se=CodeActionCommandArgs.fromUser(H,{kind:CodeActionKind.Source,apply:"never"});return ro(E,typeof(H==null?void 0:H.kind)=="string"?se.preferred?nls.localize("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",H.kind):nls.localize("editor.action.source.noneMessage.kind","No source actions for '{0}' available",H.kind):se.preferred?nls.localize("editor.action.source.noneMessage.preferred","No preferred source actions available"):nls.localize("editor.action.source.noneMessage","No source actions available"),{include:CodeActionKind.Source.contains(se.kind)?se.kind:CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:se.preferred},se.apply)}}class fs extends null{constructor(){super({id:organizeImportsCommandId,label:nls.localize("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:ContextKeyExpr.and(EditorContextKeys.writable,Ds(CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:EditorContextKeys.editorTextFocus,primary:1581,weight:100}})}run(l,E){return ro(E,nls.localize("editor.action.organize.noneMessage","No organize imports action available"),{include:CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}class Hn extends null{constructor(){super({id:fixAllCommandId,label:nls.localize("fixAll.label","Fix All"),alias:"Fix All",precondition:ContextKeyExpr.and(EditorContextKeys.writable,Ds(CodeActionKind.SourceFixAll))})}run(l,E){return ro(E,nls.localize("fixAll.noneMessage","No fix all action available"),{include:CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}class Ts extends Q.R6{constructor(){super({id:Ts.Id,label:de.N("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Me.Ao.and(y.u.writable,Ds(rn.QuickFix)),kbOpts:{kbExpr:y.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(l,E){return ro(E,de.N("editor.action.autoFix.noneMessage","No auto fixes available"),{include:rn.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}Ts.Id="editor.action.autoFix";var $s=c(91741),$n=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},On=function(be,l){return function(E,H){l(E,H,be)}};class Zs{constructor(l,E,H){this.marker=l,this.index=E,this.total=H}}let go=class Eu{constructor(l,E){this._markerService=E,this._onDidChange=new x.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new Y.SL,this._markers=[],this._nextIdx=-1,Ui.o.isUri(l)?this._resourceFilter=se=>se.toString()===l.toString():l&&(this._resourceFilter=l);const H=()=>{this._markers=this._markerService.read({resource:Ui.o.isUri(l)?l:void 0,severities:jn.ZL.Error|jn.ZL.Warning|jn.ZL.Info}),typeof l=="function"&&(this._markers=this._markers.filter(se=>this._resourceFilter(se.resource))),this._markers.sort(Eu._compareMarker)};H(),this._dispoables.add(E.onMarkerChanged(se=>{(!this._resourceFilter||se.some(ne=>this._resourceFilter(ne)))&&(H(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(l){return!this._resourceFilter&&!l?!0:!this._resourceFilter||!l?!1:this._resourceFilter(l)}get selected(){const l=this._markers[this._nextIdx];return l&&new Zs(l,this._nextIdx+1,this._markers.length)}_initIdx(l,E,H){let se=!1,ne=this._markers.findIndex(Le=>Le.resource.toString()===l.uri.toString());ne<0&&(ne=(0,Re.ry)(this._markers,{resource:l.uri},(Le,Ge)=>(0,Tt.qu)(Le.resource.toString(),Ge.resource.toString())),ne<0&&(ne=~ne));for(let Le=ne;Le<this._markers.length;Le++){let Ge=O.e.lift(this._markers[Le]);if(Ge.isEmpty()){const Wt=l.getWordAtPosition(Ge.getStartPosition());Wt&&(Ge=new O.e(Ge.startLineNumber,Wt.startColumn,Ge.startLineNumber,Wt.endColumn))}if(E&&(Ge.containsPosition(E)||E.isBeforeOrEqual(Ge.getStartPosition()))){this._nextIdx=Le,se=!0;break}if(this._markers[Le].resource.toString()!==l.uri.toString())break}se||(this._nextIdx=H?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(l,E,H){if(this._markers.length===0)return!1;let se=this._nextIdx;return this._nextIdx===-1?this._initIdx(E,H,l):l?this._nextIdx=(this._nextIdx+1)%this._markers.length:l||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),se!==this._nextIdx}find(l,E){let H=this._markers.findIndex(se=>se.resource.toString()===l.toString());if(!(H<0)){for(;H<this._markers.length;H++)if(O.e.containsPosition(this._markers[H],E))return new Zs(this._markers[H],H+1,this._markers.length)}}static _compareMarker(l,E){let H=(0,Tt.qu)(l.resource.toString(),E.resource.toString());return H===0&&(H=jn.ZL.compare(l.severity,E.severity)),H===0&&(H=O.e.compareRangesUsingStarts(l,E)),H}};go=$n([On(1,jn.lT)],go);const eo=(0,It.yh)("IMarkerNavigationService");let Ro=class{constructor(l){this._markerService=l,this._provider=new $s.S}getMarkerList(l){for(let E of this._provider){const H=E.getMarkerList(l);if(H)return H}return new go(l,this._markerService)}};Ro=$n([On(0,jn.lT)],Ro),(0,nt.z)(eo,Ro,!0);var er=c(59554),fr=c(14603),Zo;(function(be){function l(E){switch(E){case fr.Z.Ignore:return"severity-ignore "+ie.lA.info.classNames;case fr.Z.Info:return ie.lA.info.classNames;case fr.Z.Warning:return ie.lA.warning.classNames;case fr.Z.Error:return ie.lA.error.classNames;default:return""}}be.className=l})(Zo||(Zo={})),(0,Xe.Ic)((be,l)=>{const E=be.getColor(ht.Jp);if(E){const ne=ie.lA.error.cssSelector;l.addRule(`
			.monaco-editor .zone-widget ${ne},
			.markers-panel .marker-icon${ne},
			.text-search-provider-messages .providerMessage ${ne},
			.extensions-viewlet > .extensions ${ne} {
				color: ${E};
			}
		`)}const H=be.getColor(ht.BO);if(H){const ne=ie.lA.warning.cssSelector;l.addRule(`
			.monaco-editor .zone-widget ${ne},
			.markers-panel .marker-icon${ne},
			.extensions-viewlet > .extensions ${ne},
			.extension-editor ${ne},
			.text-search-provider-messages .providerMessage ${ne},
			.preferences-editor ${ne} {
				color: ${H};
			}
		`)}const se=be.getColor(ht.OL);if(se){const ne=ie.lA.info.cssSelector;l.addRule(`
			.monaco-editor .zone-widget ${ne},
			.markers-panel .marker-icon${ne},
			.extensions-viewlet > .extensions ${ne},
			.text-search-provider-messages .providerMessage ${ne},
			.extension-editor ${ne} {
				color: ${se};
			}
		`)}});var Lo=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},or=function(be,l){return function(E,H){l(E,H,be)}};class _r{constructor(l,E,H,se,ne){this._openerService=se,this._labelService=ne,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new Y.SL,this._editor=E;const Le=document.createElement("div");Le.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),Le.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),Le.appendChild(this._relatedBlock),this._disposables.add(T.mu(this._relatedBlock,"click",Ge=>{Ge.preventDefault();const Wt=this._relatedDiagnostics.get(Ge.target);Wt&&H(Wt)})),this._scrollable=new ns.NB(Le,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),l.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(Ge=>{Le.style.left=`-${Ge.scrollLeft}px`,Le.style.top=`-${Ge.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,Y.B9)(this._disposables)}update(l){const{source:E,message:H,relatedInformation:se,code:ne}=l;let Le=((E==null?void 0:E.length)||0)+2;ne&&(typeof ne=="string"?Le+=ne.length:Le+=ne.value.length);const Ge=(0,Tt.uq)(H);this._lines=Ge.length,this._longestLineLength=0;for(const Yi of Ge)this._longestLineLength=Math.max(Yi.length+Le,this._longestLineLength);T.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(l)),this._editor.applyFontInfo(this._messageBlock);let Wt=this._messageBlock;for(const Yi of Ge)Wt=document.createElement("div"),Wt.innerText=Yi,Yi===""&&(Wt.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(Wt);if(E||ne){const Yi=document.createElement("span");if(Yi.classList.add("details"),Wt.appendChild(Yi),E){const bn=document.createElement("span");bn.innerText=E,bn.classList.add("source"),Yi.appendChild(bn)}if(ne)if(typeof ne=="string"){const bn=document.createElement("span");bn.innerText=`(${ne})`,bn.classList.add("code"),Yi.appendChild(bn)}else{this._codeLink=T.$("a.code-link"),this._codeLink.setAttribute("href",`${ne.target.toString()}`),this._codeLink.onclick=Gn=>{this._openerService.open(ne.target,{allowCommands:!0}),Gn.preventDefault(),Gn.stopPropagation()};const bn=T.R3(this._codeLink,T.$("span"));bn.innerText=ne.value,Yi.appendChild(this._codeLink)}}if(T.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,Re.Of)(se)){const Yi=this._relatedBlock.appendChild(document.createElement("div"));Yi.style.paddingTop=`${Math.floor(this._editor.getOption(58)*.66)}px`,this._lines+=1;for(const bn of se){let Gn=document.createElement("div"),Mo=document.createElement("a");Mo.classList.add("filename"),Mo.innerText=`${(0,hn.p)(bn.resource)}(${bn.startLineNumber}, ${bn.startColumn}): `,Mo.title=this._labelService.getUriLabel(bn.resource),this._relatedDiagnostics.set(Mo,bn);let jo=document.createElement("span");jo.innerText=bn.message,Gn.appendChild(Mo),Gn.appendChild(jo),this._lines+=1,Yi.appendChild(Gn)}}const Vt=this._editor.getOption(43),wt=Math.ceil(Vt.typicalFullwidthCharacterWidth*this._longestLineLength*.75),ai=Vt.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:wt,scrollHeight:ai})}layout(l,E){this._scrollable.getDomNode().style.height=`${l}px`,this._scrollable.getDomNode().style.width=`${E}px`,this._scrollable.setScrollDimensions({width:E,height:l})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(l){let E="";switch(l.severity){case jn.ZL.Error:E=de.N("Error","Error");break;case jn.ZL.Warning:E=de.N("Warning","Warning");break;case jn.ZL.Info:E=de.N("Info","Info");break;case jn.ZL.Hint:E=de.N("Hint","Hint");break}let H=de.N("marker aria","{0} at {1}. ",E,l.startLineNumber+":"+l.startColumn);const se=this._editor.getModel();return se&&l.startLineNumber<=se.getLineCount()&&l.startLineNumber>=1&&(H=`${se.getLineContent(l.startLineNumber)}, ${H}`),H}}let Xo=class Iu extends at{constructor(l,E,H,se,ne,Le,Ge){super(l,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},ne),this._themeService=E,this._openerService=H,this._menuService=se,this._contextKeyService=Le,this._labelService=Ge,this._callOnDispose=new Y.SL,this._onDidSelectRelatedInformation=new x.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=jn.ZL.Warning,this._backgroundColor=ce.Il.white,this._applyTheme(E.getColorTheme()),this._callOnDispose.add(E.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(l){this._backgroundColor=l.getColor(gr);let E=ar,H=vr;this._severity===jn.ZL.Warning?(E=tr,H=Do):this._severity===jn.ZL.Info&&(E=mo,H=ir);const se=l.getColor(E),ne=l.getColor(H);this.style({arrowColor:se,frameColor:se,headerBackgroundColor:ne,primaryHeadingColor:l.getColor(Ne),secondaryHeadingColor:l.getColor(Oe)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(l){super._fillHead(l),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(se=>this.editor.focus()));const E=[],H=this._menuService.createMenu(Iu.TitleMenu,this._contextKeyService);(0,Pe.vr)(H,void 0,E),this._actionbarWidget.push(E,{label:!1,icon:!0,index:0}),H.dispose()}_fillTitleIcon(l){this._icon=T.R3(l,T.$(""))}_fillBody(l){this._parentContainer=l,l.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),l.appendChild(this._container),this._message=new _r(this._container,this.editor,E=>this._onDidSelectRelatedInformation.fire(E),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(l,E,H){this._container.classList.remove("stale"),this._message.update(l),this._severity=l.severity,this._applyTheme(this._themeService.getColorTheme());let se=O.e.lift(l);const ne=this.editor.getPosition();let Le=ne&&se.containsPosition(ne)?ne:se.getStartPosition();super.show(Le,this.computeRequiredHeight());const Ge=this.editor.getModel();if(Ge){const Wt=H>1?de.N("problems","{0} of {1} problems",E,H):de.N("change","{0} of {1} problem",E,H);this.setTitle((0,je.EZ)(Ge.uri),Wt)}this._icon.className=`codicon ${Zo.className(jn.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(Le,0),this.editor.focus()}updateMarker(l){this._container.classList.remove("stale"),this._message.update(l)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(l,E){super._doLayoutBody(l,E),this._heightInPixel=l,this._message.layout(l,E),this._container.style.height=`${l}px`}_onWidth(l){this._message.layout(this._heightInPixel,l)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Xo.TitleMenu=new rs.eH("gotoErrorTitleMenu"),Xo=Lo([or(1,Xe.XE),or(2,$t.v4),or(3,rs.co),or(4,It.TG),or(5,Me.i6),or(6,mt.e)],Xo);let Wo=(0,ht.kw)(ht.lX,ht.b6),rr=(0,ht.kw)(ht.uo,ht.pW),ko=(0,ht.kw)(ht.c6,ht.T8);const ar=(0,ht.P6)("editorMarkerNavigationError.background",{dark:Wo,light:Wo,hc:ht.lR},de.N("editorMarkerNavigationError","Editor marker navigation widget error color.")),vr=(0,ht.P6)("editorMarkerNavigationError.headerBackground",{dark:(0,ht.Zn)(ar,.1),light:(0,ht.Zn)(ar,.1),hc:null},de.N("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),tr=(0,ht.P6)("editorMarkerNavigationWarning.background",{dark:rr,light:rr,hc:ht.lR},de.N("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Do=(0,ht.P6)("editorMarkerNavigationWarning.headerBackground",{dark:(0,ht.Zn)(tr,.1),light:(0,ht.Zn)(tr,.1),hc:"#0C141F"},de.N("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),mo=(0,ht.P6)("editorMarkerNavigationInfo.background",{dark:ko,light:ko,hc:ht.lR},de.N("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),ir=(0,ht.P6)("editorMarkerNavigationInfo.headerBackground",{dark:(0,ht.Zn)(mo,.1),light:(0,ht.Zn)(mo,.1),hc:null},de.N("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),gr=(0,ht.P6)("editorMarkerNavigation.background",{dark:ht.cv,light:ht.cv,hc:ht.cv},de.N("editorMarkerNavigationBackground","Editor marker navigation widget background."));(0,Xe.Ic)((be,l)=>{const E=be.getColor(ht.ur);E&&l.addRule(`.monaco-editor .marker-widget a.code-link span { color: ${E}; }`);const H=be.getColor(ht.sg);H&&l.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${H}; }`)});var mr=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},Go=function(be,l){return function(E,H){l(E,H,be)}},Vr=function(be,l,E,H){function se(ne){return ne instanceof E?ne:new E(function(Le){Le(ne)})}return new(E||(E=Promise))(function(ne,Le){function Ge(wt){try{Vt(H.next(wt))}catch(ai){Le(ai)}}function Wt(wt){try{Vt(H.throw(wt))}catch(ai){Le(ai)}}function Vt(wt){wt.done?ne(wt.value):se(wt.value).then(Ge,Wt)}Vt((H=H.apply(be,l||[])).next())})};let Yo=class Ol{constructor(l,E,H,se,ne){this._markerNavigationService=E,this._contextKeyService=H,this._editorService=se,this._instantiationService=ne,this._sessionDispoables=new Y.SL,this._editor=l,this._widgetVisible=M.bindTo(this._contextKeyService)}static get(l){return l.getContribution(Ol.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(l){if(this._model&&this._model.matches(l))return this._model;let E=!1;return this._model&&(E=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(l),E&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Xo,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(H=>{var se,ne,Le;(!(!((se=this._model)===null||se===void 0)&&se.selected)||!O.e.containsPosition((ne=this._model)===null||ne===void 0?void 0:ne.selected.marker,H.position))&&((Le=this._model)===null||Le===void 0||Le.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const H=this._model.find(this._editor.getModel().uri,this._widget.position);H?this._widget.updateMarker(H.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(H=>{this._editorService.openCodeEditor({resource:H.resource,options:{pinned:!0,revealIfOpened:!0,selection:O.e.lift(H).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(l=!0){this._cleanUp(),l&&this._editor.focus()}showAtMarker(l){if(this._editor.hasModel()){const E=this._getOrCreateModel(this._editor.getModel().uri);E.resetIndex(),E.move(!0,this._editor.getModel(),new C.L(l.startLineNumber,l.startColumn)),E.selected&&this._widget.showAtMarker(E.selected.marker,E.selected.index,E.selected.total)}}nagivate(l,E){return Vr(this,void 0,void 0,function*(){if(this._editor.hasModel()){const H=this._getOrCreateModel(E?void 0:this._editor.getModel().uri);if(H.move(l,this._editor.getModel(),this._editor.getPosition()),!H.selected)return;if(H.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const se=yield this._editorService.openCodeEditor({resource:H.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:H.selected.marker}},this._editor);se&&(Ol.get(se).close(),Ol.get(se).nagivate(l,E))}else this._widget.showAtMarker(H.selected.marker,H.selected.index,H.selected.total)}})}};Yo.ID="editor.contrib.markerController",Yo=mr([Go(1,eo),Go(2,Me.i6),Go(3,ve.$),Go(4,It.TG)],Yo);class pt extends Q.R6{constructor(l,E,H){super(H),this._next=l,this._multiFile=E}run(l,E){return Vr(this,void 0,void 0,function*(){E.hasModel()&&Yo.get(E).nagivate(this._next,this._multiFile)})}}class e extends pt{constructor(){super(!0,!1,{id:e.ID,label:e.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:y.u.focus,primary:578,weight:100},menuOpts:{menuId:Xo.TitleMenu,title:e.LABEL,icon:(0,er.q5)("marker-navigation-next",ie.lA.arrowDown,de.N("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}e.ID="editor.action.marker.next",e.LABEL=de.N("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class n extends pt{constructor(){super(!1,!1,{id:n.ID,label:n.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:y.u.focus,primary:1602,weight:100},menuOpts:{menuId:Xo.TitleMenu,title:e.LABEL,icon:(0,er.q5)("marker-navigation-previous",ie.lA.arrowUp,de.N("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}n.ID="editor.action.marker.prev",n.LABEL=de.N("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class a extends pt{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:de.N("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:y.u.focus,primary:66,weight:100},menuOpts:{menuId:rs.eH.MenubarGoMenu,title:de.N({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class b extends pt{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:de.N("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:y.u.focus,primary:1090,weight:100},menuOpts:{menuId:rs.eH.MenubarGoMenu,title:de.N({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}(0,Q._K)(Yo.ID,Yo),(0,Q.Qr)(e),(0,Q.Qr)(n),(0,Q.Qr)(a),(0,Q.Qr)(b);const M=new Me.uy("markersNavigationVisible",!1),j=Q._l.bindToContribution(Yo.get);(0,Q.fK)(new j({id:"closeMarkersNavigation",precondition:M,handler:be=>be.close(),kbOpts:{weight:150,kbExpr:y.u.focus,primary:9,secondary:[1033]}}));var ee=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},ue=function(be,l){return function(E,H){l(E,H,be)}};const ye=T.$;class Te{constructor(l,E,H){this.owner=l,this.range=E,this.marker=H}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}}const Ae={type:1,filter:{include:rn.QuickFix}};let ot=class{constructor(l,E,H,se){this._editor=l,this._hover=E,this._markerDecorationsService=H,this._openerService=se,this.recentMarkerCodeActionsInfo=void 0}computeSync(l,E){if(!this._editor.hasModel()||l.type!==1)return[];const H=this._editor.getModel(),se=l.range.startLineNumber,ne=H.getLineMaxColumn(se),Le=[];for(const Ge of E){const Wt=Ge.range.startLineNumber===se?Ge.range.startColumn:1,Vt=Ge.range.endLineNumber===se?Ge.range.endColumn:ne,wt=this._markerDecorationsService.getMarker(H.uri,Ge);if(!wt)continue;const ai=new O.e(l.range.startLineNumber,Wt,l.range.startLineNumber,Vt);Le.push(new Te(this,ai,wt))}return Le}renderHoverParts(l,E,H){if(!l.length)return Y.JT.None;const se=new Y.SL;l.forEach(Le=>E.appendChild(this.renderMarkerHover(Le,se)));const ne=l.length===1?l[0]:l.sort((Le,Ge)=>jn.ZL.compare(Le.marker.severity,Ge.marker.severity))[0];return this.renderMarkerStatusbar(ne,H,se),se}renderMarkerHover(l,E){const H=ye("div.hover-row"),se=T.R3(H,ye("div.marker.hover-contents")),{source:ne,message:Le,code:Ge,relatedInformation:Wt}=l.marker;this._editor.applyFontInfo(se);const Vt=T.R3(se,ye("span"));if(Vt.style.whiteSpace="pre-wrap",Vt.innerText=Le,ne||Ge)if(Ge&&typeof Ge!="string"){const wt=ye("span");if(ne){const Gn=T.R3(wt,ye("span"));Gn.innerText=ne}const ai=T.R3(wt,ye("a.code-link"));ai.setAttribute("href",Ge.target.toString()),E.add(T.nm(ai,"click",Gn=>{this._openerService.open(Ge.target,{allowCommands:!0}),Gn.preventDefault(),Gn.stopPropagation()}));const Yi=T.R3(ai,ye("span"));Yi.innerText=Ge.value;const bn=T.R3(se,wt);bn.style.opacity="0.6",bn.style.paddingLeft="6px"}else{const wt=T.R3(se,ye("span"));wt.style.opacity="0.6",wt.style.paddingLeft="6px",wt.innerText=ne&&Ge?`${ne}(${Ge})`:ne||`(${Ge})`}if((0,Re.Of)(Wt))for(const{message:wt,resource:ai,startLineNumber:Yi,startColumn:bn}of Wt){const Gn=T.R3(se,ye("div"));Gn.style.marginTop="8px";const Mo=T.R3(Gn,ye("a"));Mo.innerText=`${(0,je.EZ)(ai)}(${Yi}, ${bn}): `,Mo.style.cursor="pointer",E.add(T.nm(Mo,"click",lr=>{lr.stopPropagation(),lr.preventDefault(),this._openerService&&this._openerService.open(ai,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:Yi,startColumn:bn}}}).catch(P.dL)}));const jo=T.R3(Gn,ye("span"));jo.innerText=wt,this._editor.applyFontInfo(jo)}return H}renderMarkerStatusbar(l,E,H){if((l.marker.severity===jn.ZL.Error||l.marker.severity===jn.ZL.Warning||l.marker.severity===jn.ZL.Info)&&E.addAction({label:de.N("view problem","View Problem"),commandId:e.ID,run:()=>{this._hover.hide(),Yo.get(this._editor).showAtMarker(l.marker),this._editor.focus()}}),!this._editor.getOption(80)){const se=E.append(ye("div"));this.recentMarkerCodeActionsInfo&&(jn.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===jn.H0.makeKey(l.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(se.textContent=de.N("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const ne=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?Y.JT.None:H.add((0,k.Vg)(()=>se.textContent=de.N("checkingForQuickFixes","Checking for quick fixes..."),200));se.textContent||(se.textContent="\xA0");const Le=this.getCodeActions(l.marker);H.add((0,Y.OF)(()=>Le.cancel())),Le.then(Ge=>{if(ne.dispose(),this.recentMarkerCodeActionsInfo={marker:l.marker,hasCodeActions:Ge.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){Ge.dispose(),se.textContent=de.N("noQuickFixes","No quick fixes available");return}se.style.display="none";let Wt=!1;H.add((0,Y.OF)(()=>{Wt||Ge.dispose()})),E.addAction({label:de.N("quick fixes","Quick Fix..."),commandId:Co.Id,run:Vt=>{Wt=!0;const wt=Ko.get(this._editor),ai=T.i(Vt);this._hover.hide(),wt.showCodeActions(Ae,Ge,{x:ai.left+6,y:ai.top+ai.height+6})}})},P.dL)}}getCodeActions(l){return(0,k.PG)(E=>aa(this._editor.getModel(),new O.e(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn),Ae,co.E.None,E))}};ot=ee([ue(2,as.i),ue(3,$t.v4)],ot),(0,Xe.Ic)((be,l)=>{const E=be.getColor(ht.ur);E&&l.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${E}; }`);const H=be.getColor(ht.sg);H&&l.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${H}; }`)});var qe=c(47707);const Et="editor.action.inlineSuggest.commit";var Ht=c(89495),ri=c(69386);class _i{constructor(l,E,H=0){this.lineNumber=l,this.parts=E,this.additionalReservedLineCount=H}renderForScreenReader(l){if(this.parts.length===0)return"";const E=this.parts[this.parts.length-1],H=l.substr(0,E.column-1);return bi(H,this.parts.map(ne=>({range:{startLineNumber:1,endLineNumber:1,startColumn:ne.column,endColumn:ne.column},text:ne.lines.join(`
`)}))).substring(this.parts[0].column-1)}}class Ii{constructor(l){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let E=0;E<l.length;E++)l.charAt(E)===`
`&&this.lineStartOffsetByLineIdx.push(E+1)}getOffset(l){return this.lineStartOffsetByLineIdx[l.lineNumber-1]+l.column-1}}function bi(be,l){const E=new Ii(be),H=l.map(se=>{const ne=O.e.lift(se.range);return{startOffset:E.getOffset(ne.getStartPosition()),endOffset:E.getOffset(ne.getEndPosition()),text:se.text}});H.sort((se,ne)=>ne.startOffset-se.startOffset);for(const se of H)be=be.substring(0,se.startOffset)+se.text+be.substring(se.endOffset);return be}class fn{constructor(l,E,H){this.column=l,this.lines=E,this.preview=H}}class an extends Y.JT{constructor(l){super(),this.editor=l,this._expanded=void 0,this.onDidChangeEmitter=new x.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(l.onDidChangeConfiguration(E=>{E.hasChanged(105)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(l){this._expanded=!0,this.onDidChangeEmitter.fire()}}var zn=c(22571);function kn(be,l){return be===l?!0:!be||!l?!1:be.range.equalsRange(l.range)&&be.text===l.text&&be.command===l.command}function sn(be,l,E,H,se=0){if(be.range.startLineNumber!==be.range.endLineNumber)return;const ne=l.getLineContent(be.range.startLineNumber),Le=Tt.V8(ne).length;if(be.range.startColumn-1<=Le){const bn=Tt.V8(be.text).length,Gn=ne.substring(be.range.startColumn-1,Le),Mo=O.e.fromPositions(be.range.getStartPosition().delta(0,Gn.length),be.range.getEndPosition()),jo=be.text.startsWith(Gn)?be.text.substring(Gn.length):be.text.substring(bn);be={range:Mo,text:jo,command:be.command}}const Wt=l.getValueInRange(be.range),Vt=In(Wt,be.text);if(!Vt)return;const wt=be.range.startLineNumber,ai=new Array;if(E==="prefix"){const bn=Vt.filter(Gn=>Gn.originalLength===0);if(bn.length>1||bn.length===1&&bn[0].originalStart!==Wt.length)return}const Yi=be.text.length-se;for(const bn of Vt){const Gn=be.range.startColumn+bn.originalStart+bn.originalLength;if(E==="subwordSmart"&&H&&H.lineNumber===be.range.startLineNumber&&Gn<H.column||bn.originalLength>0)return;if(bn.modifiedLength===0)continue;const Mo=bn.modifiedStart+bn.modifiedLength,jo=Math.max(bn.modifiedStart,Math.min(Mo,Yi)),lr=be.text.substring(bn.modifiedStart,jo),yr=be.text.substring(jo,Math.max(bn.modifiedStart,Mo));if(lr.length>0){const Rr=Tt.uq(lr);ai.push(new fn(Gn,Rr,!1))}if(yr.length>0){const Rr=Tt.uq(yr);ai.push(new fn(Gn,Rr,!0))}}return new _i(wt,ai,0)}let _n;function In(be,l){if((_n==null?void 0:_n.originalValue)===be&&(_n==null?void 0:_n.newValue)===l)return _n==null?void 0:_n.changes;{const E=Jn(be,l);return _n={originalValue:be,newValue:l,changes:E},E}}function Jn(be,l){if(be.length>5e3||l.length>5e3)return;function E(Wt){let Vt=0;for(let wt=0,ai=Wt.length;wt<ai;wt++){const Yi=Wt.charCodeAt(wt);Yi>Vt&&(Vt=Yi)}return Vt}const H=Math.max(E(be),E(l));function se(Wt){if(Wt<0)throw new Error("unexpected");return H+Wt+1}function ne(Wt){let Vt=0,wt=0;const ai=new Int32Array(Wt.length);for(let Yi=0,bn=Wt.length;Yi<bn;Yi++){const Gn=wt*100+Vt;Wt[Yi]==="("?(ai[Yi]=se(2*Gn),Vt++):Wt[Yi]===")"?(ai[Yi]=se(2*Gn+1),Vt===1&&wt++,Vt=Math.max(Vt-1,0)):ai[Yi]=Wt.charCodeAt(Yi)}return ai}const Le=ne(be),Ge=ne(l);return new zn.Hs({getElements:()=>Le},{getElements:()=>Ge}).ComputeDiff(!1).changes}var po=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},ao=function(be,l){return function(E,H){l(E,H,be)}},lo=function(be,l,E,H){function se(ne){return ne instanceof E?ne:new E(function(Le){Le(ne)})}return new(E||(E=Promise))(function(ne,Le){function Ge(wt){try{Vt(H.next(wt))}catch(ai){Le(ai)}}function Wt(wt){try{Vt(H.throw(wt))}catch(ai){Le(ai)}}function Vt(wt){wt.done?ne(wt.value):se(wt.value).then(Ge,Wt)}Vt((H=H.apply(be,l||[])).next())})};let Bs=class extends Y.JT{constructor(l,E,H){super(),this.editor=l,this.cache=E,this.commandService=H,this.onDidChangeEmitter=new x.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new Y.XK),this.active=!1,this.disposed=!1,this._register(H.onDidExecuteCommand(se=>{new Set([Q.n_.id,Q.kz.id,Ht.CoreEditingCommands.Tab.id,Ht.CoreEditingCommands.DeleteLeft.id,Ht.CoreEditingCommands.DeleteRight.id,Et,"acceptSelectedSuggestion"]).has(se.commandId)&&l.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(se=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(se=>{this.session&&!this.session.isValid&&this.hide()})),this._register((0,Y.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var l;return(l=this.session)===null||l===void 0?void 0:l.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(l){var E;(E=this.session)===null||E===void 0||E.setExpanded(l)}setActive(l){var E;this.active=l,l&&((E=this.session)===null||E===void 0||E.scheduleAutomaticUpdate())}startSessionIfTriggered(){this.editor.getOption(54).enabled&&(this.session&&this.session.isValid||this.trigger(V.bw.Automatic))}trigger(l){if(this.completionSession.value){l===V.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new Vo(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,l),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var l;(l=this.session)===null||l===void 0||l.commitCurrentCompletion()}showNext(){var l;(l=this.session)===null||l===void 0||l.showNextInlineCompletion()}showPrevious(){var l;(l=this.session)===null||l===void 0||l.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var l;return lo(this,void 0,void 0,function*(){const E=yield(l=this.session)===null||l===void 0?void 0:l.hasMultipleInlineCompletions();return E!==void 0?E:!1})}};Bs=po([ao(2,Ri.H)],Bs);class Vo extends an{constructor(l,E,H,se,ne,Le){super(l),this.triggerPosition=E,this.shouldUpdate=H,this.commandService=se,this.cache=ne,this.initialTriggerKind=Le,this.minReservedLineCount=0,this.updateOperation=this._register(new Y.XK),this.updateSoon=this._register(new k.pY(()=>{let Wt=this.initialTriggerKind;return this.initialTriggerKind=V.bw.Automatic,this.update(Wt)},50)),this.currentlySelectedCompletionId=void 0;let Ge;this._register(this.onDidChange(()=>{const Wt=this.currentCompletion;if(Wt&&Wt.sourceInlineCompletion!==Ge){Ge=Wt.sourceInlineCompletion;const Vt=Wt.sourceProvider;Vt.handleItemDidShow&&Vt.handleItemDidShow(Wt.sourceInlineCompletions,Ge)}})),this._register((0,Y.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(Wt=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(Wt=>{this.scheduleAutomaticUpdate()})),this._register(V.zu.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const l=this.cache.value.completions.findIndex(E=>E.semanticId===this.currentlySelectedCompletionId);return l===-1?(this.currentlySelectedCompletionId=void 0,0):l}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var l;return lo(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const E=((l=this.cache.value)===null||l===void 0?void 0:l.completions)||[];if(E.length>0){const H=(this.fixAndGetIndexOfCurrentSelection()+1)%E.length;this.currentlySelectedCompletionId=E[H].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var l;return lo(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const E=((l=this.cache.value)===null||l===void 0?void 0:l.completions)||[];if(E.length>0){const H=(this.fixAndGetIndexOfCurrentSelection()+E.length-1)%E.length;this.currentlySelectedCompletionId=E[H].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var l;return lo(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===V.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(V.bw.Explicit):((l=this.cache.value)===null||l===void 0?void 0:l.triggerKind)!==V.bw.Explicit&&(yield this.update(V.bw.Explicit))})}hasMultipleInlineCompletions(){var l;return lo(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((l=this.cache.value)===null||l===void 0?void 0:l.completions.length)||0)>1})}get ghostText(){const l=this.currentCompletion,E=this.editor.getOptions().get(54).mode;return l?sn(l,this.editor.getModel(),E,this.editor.getPosition()):void 0}get currentCompletion(){const l=this.currentCachedCompletion;if(l)return l.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(l){return lo(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const E=this.editor.getPosition(),H=(0,k.PG)(ne=>lo(this,void 0,void 0,function*(){let Le;try{Le=yield qs(E,this.editor.getModel(),{triggerKind:l,selectedSuggestionInfo:void 0},ne)}catch(Ge){(0,P.dL)(Ge);return}ne.isCancellationRequested||(this.cache.setValue(this.editor,Le,l),this.onDidChangeEmitter.fire())})),se=new Ao(H,l);this.updateOperation.value=se,yield H,this.updateOperation.value===se&&this.updateOperation.clear()})}takeOwnership(l){this._register(l)}commitCurrentCompletion(){if(!this.ghostText)return;const l=this.currentCompletion;l&&this.commit(l)}commit(l){const E=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[ri.h.replaceMove(l.range,l.text)]),l.command?this.commandService.executeCommand(l.command.id,...l.command.arguments||[]).finally(()=>{E==null||E.dispose()}).then(void 0,P.Cp):E==null||E.dispose(),this.onDidChangeEmitter.fire()}}class Ao{constructor(l,E){this.promise=l,this.triggerKind=E}dispose(){this.promise.cancel()}}class Ho extends Y.JT{constructor(l,E,H,se){super(),this.triggerKind=se;const ne=l.deltaDecorations([],E.items.map(Le=>({range:Le.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,Y.OF)(()=>{l.deltaDecorations(ne,[])})),this.completions=E.items.map((Le,Ge)=>new Jo(Le,ne[Ge])),this._register(l.onDidChangeModelContent(()=>{let Le=!1;const Ge=l.getModel();for(const Wt of this.completions){const Vt=Ge.getDecorationRange(Wt.decorationId);if(!Vt){(0,P.dL)(new Error("Decoration has no range"));continue}Wt.synchronizedRange.equalsRange(Vt)||(Le=!0,Wt.synchronizedRange=Vt)}Le&&H()})),this._register(E)}}class Jo{constructor(l,E){this.inlineCompletion=l,this.decorationId=E,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=l.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function Es(be,l){const E=l.getWordAtPosition(be),H=l.getLineMaxColumn(be.lineNumber);return E?new O.e(be.lineNumber,E.startColumn,be.lineNumber,H):O.e.fromPositions(be,be.with(void 0,H))}function qs(be,l,E,H=Ws.T.None){return lo(this,void 0,void 0,function*(){const se=Es(be,l),ne=V.zu.all(l),Le=yield Promise.all(ne.map(Wt=>lo(this,void 0,void 0,function*(){const Vt=yield Wt.provideInlineCompletions(l,be,E,H);return{completions:Vt,provider:Wt,dispose:()=>{Vt&&Wt.freeInlineCompletions(Vt)}}}))),Ge=new Map;for(const Wt of Le){const Vt=Wt.completions;if(Vt)for(const wt of Vt.items.map(ai=>({text:ai.text,range:ai.range?O.e.lift(ai.range):se,command:ai.command,sourceProvider:Wt.provider,sourceInlineCompletions:Vt,sourceInlineCompletion:ai})))wt.range.startLineNumber===wt.range.endLineNumber&&Ge.set(JSON.stringify({text:wt.text,range:wt.range}),wt)}return{items:[...Ge.values()],dispose:()=>{for(const Wt of Le)Wt.dispose()}}})}function zo(be,l){if(!l)return l;const E=be.getValueInRange(l.range),H=(0,Tt.Mh)(E,l.text),se=be.getOffsetAt(l.range.getStartPosition())+H,ne=be.getPositionAt(se),Le=E.substr(H),Ge=(0,Tt.P1)(Le,l.text),Wt=be.getPositionAt(Math.max(se,be.getOffsetAt(l.range.getEndPosition())-Ge));return{range:O.e.fromPositions(ne,Wt),text:l.text.substr(H,l.text.length-H-Ge)}}var Dr=c(63472),jr=c(44951),Gr=c(73707);function Mr(be,l){return{object:be,dispose:()=>l==null?void 0:l.dispose()}}function Ua(be,l){return(E,H)=>l(be(E),be(H))}function na(){return(be,l)=>be-l}function Ca(be,l){let E;for(const H of be)(E===void 0||l(H,E)>0)&&(E=H);return E}class ba extends Y.JT{constructor(l,E){super(),this.editor=l,this.suggestControllerPreselector=E,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentInlineCompletion=void 0,this.onDidChangeEmitter=new x.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new k.pY(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(l.onKeyDown(se=>{se.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(l.onKeyUp(se=>{se.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const H=Gr.SuggestController.get(this.editor);if(H){this._register(H.registerSelector({priority:100,select:(Le,Ge,Wt)=>{const Vt=this.editor.getModel(),wt=zo(Vt,this.suggestControllerPreselector());if(!wt)return-1;const ai=C.L.lift(Ge),Yi=Wt.map((Gn,Mo)=>{const jo=Ys(H,ai,Gn,this.isShiftKeyPressed),lr=zo(Vt,jo);if(!lr)return;const yr=bo(wt.range,lr.range)&&wt.text.startsWith(lr.text);return{index:Mo,valid:yr,prefixLength:lr.text.length,suggestItem:Gn}}).filter(Gn=>Gn&&Gn.valid),bn=Ca(Yi,Ua(Gn=>Gn.prefixLength,na()));return bn?bn.index:-1}}));let se=!1;const ne=()=>{se||(se=!0,this._register(H.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(H.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(H.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(x.ju.once(H.model.onDidTrigger)(Le=>{ne()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItemAsInlineCompletion:this._currentInlineCompletion}}update(l){const E=this.getInlineCompletion();let H=!1;kn(this._currentInlineCompletion,E)||(this._currentInlineCompletion=E,H=!0),this._isActive!==l&&(this._isActive=l,H=!0),H&&this.onDidChangeEmitter.fire()}getInlineCompletion(){const l=Gr.SuggestController.get(this.editor);if(!l||!this.isSuggestWidgetVisible)return;const E=l.widget.value.getFocusedItem();if(E)return Ys(l,this.editor.getPosition(),E.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const l=Gr.SuggestController.get(this.editor);l&&l.stopForceRenderingAbove()}forceRenderingAbove(){const l=Gr.SuggestController.get(this.editor);l&&l.forceRenderingAbove()}}function bo(be,l){return be.startLineNumber===l.startLineNumber&&be.startColumn===l.startColumn&&(be.endLineNumber<l.endLineNumber||be.endLineNumber===l.endLineNumber&&be.endColumn<=l.endColumn)}function Ys(be,l,E,H){if(Array.isArray(E.completion.additionalTextEdits)&&E.completion.additionalTextEdits.length>0)return{text:"",range:O.e.fromPositions(l,l)};let{insertText:se}=E.completion;if(E.completion.insertTextRules&4){const Le=new Dr.Yj().parse(se),Ge=be.editor.getModel();if(Le.children.length>100)return;jr.l.adjustWhitespace(Ge,l,Le,!0,!0),se=Le.toString()}const ne=be.getOverwriteInfo(E,H);return{text:se,range:O.e.fromPositions(l.delta(0,-ne.overwriteBefore),l.delta(0,Math.max(ne.overwriteAfter,0)))}}var Sr=function(be,l,E,H){function se(ne){return ne instanceof E?ne:new E(function(Le){Le(ne)})}return new(E||(E=Promise))(function(ne,Le){function Ge(wt){try{Vt(H.next(wt))}catch(ai){Le(ai)}}function Wt(wt){try{Vt(H.throw(wt))}catch(ai){Le(ai)}}function Vt(wt){wt.done?ne(wt.value):se(wt.value).then(Ge,Wt)}Vt((H=H.apply(be,l||[])).next())})};class Er extends an{constructor(l,E){super(l),this.cache=E,this.suggestionInlineCompletionSource=this._register(new ba(this.editor,()=>{var H,se;return(se=(H=this.cache.value)===null||H===void 0?void 0:H.completions[0])===null||se===void 0?void 0:se.toLiveInlineCompletion()})),this.updateOperation=this._register(new Y.XK),this.updateCacheSoon=this._register(new k.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const se=this.ghostText;se&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,Uo(se.parts.map(ne=>ne.lines.length-1)))),this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(H=>{this.isSuggestionPreviewEnabled()&&(this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire())})),this._register((0,Y.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(105).preview}updateCache(){return Sr(this,void 0,void 0,function*(){const l=this.suggestionInlineCompletionSource.state;if(!l||!l.selectedItemAsInlineCompletion)return;const E={text:l.selectedItemAsInlineCompletion.text,range:l.selectedItemAsInlineCompletion.range},H=this.editor.getPosition(),se=(0,k.PG)(Le=>Sr(this,void 0,void 0,function*(){let Ge;try{Ge=yield qs(H,this.editor.getModel(),{triggerKind:V.bw.Automatic,selectedSuggestionInfo:E},Le)}catch(Wt){(0,P.dL)(Wt);return}Le.isCancellationRequested||(this.cache.setValue(this.editor,Ge,V.bw.Automatic),this.onDidChangeEmitter.fire())})),ne=new Ao(se,V.bw.Automatic);this.updateOperation.value=ne,yield se,this.updateOperation.value===ne&&this.updateOperation.clear()})}get ghostText(){var l,E;if(!this.isSuggestionPreviewEnabled())return;const H=this.suggestionInlineCompletionSource.state,se=zo(this.editor.getModel(),H==null?void 0:H.selectedItemAsInlineCompletion),ne=zo(this.editor.getModel(),(E=(l=this.cache.value)===null||l===void 0?void 0:l.completions[0])===null||E===void 0?void 0:E.toLiveInlineCompletion()),Le=ne&&se&&ne.text.startsWith(se.text)&&ne.range.equalsRange(se.range)?ne:se||ne,Ge=se?((Le==null?void 0:Le.text.length)||0)-se.text.length:0;return(wt=>{const ai=this.editor.getOptions().get(105).previewMode;return wt?sn(wt,this.editor.getModel(),ai,this.editor.getPosition(),Ge)||new _i(wt.range.endLineNumber,[],this.minReservedLineCount):void 0})(Le)}}function Uo(be){return be.reduce((l,E)=>l+E,0)}var Cr=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},Hr=function(be,l){return function(E,H){l(E,H,be)}},Pr=function(be,l,E,H){function se(ne){return ne instanceof E?ne:new E(function(Le){Le(ne)})}return new(E||(E=Promise))(function(ne,Le){function Ge(wt){try{Vt(H.next(wt))}catch(ai){Le(ai)}}function Wt(wt){try{Vt(H.throw(wt))}catch(ai){Le(ai)}}function Vt(wt){wt.done?ne(wt.value):se(wt.value).then(Ge,Wt)}Vt((H=H.apply(be,l||[])).next())})};class Zr extends Y.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new x.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new Y.XK)}get targetModel(){var l;return(l=this.currentModelRef.value)===null||l===void 0?void 0:l.object}setTargetModel(l){var E;((E=this.currentModelRef.value)===null||E===void 0?void 0:E.object)!==l&&(this.currentModelRef.clear(),this.currentModelRef.value=l?Mr(l,l.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var l,E;return this.hasCachedGhostText||(this.cachedGhostText=(E=(l=this.currentModelRef.value)===null||l===void 0?void 0:l.object)===null||E===void 0?void 0:E.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(l){var E;(E=this.targetModel)===null||E===void 0||E.setExpanded(l)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let Yr=class extends Zr{constructor(l,E){super(),this.editor=l,this.commandService=E,this.sharedCache=this._register(new Ir),this.suggestWidgetAdapterModel=this._register(new Er(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new Bs(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(l){var E;const H=(E=this.activeInlineCompletionsModel)===null||E===void 0?void 0:E.ghostText;return H?H.parts.some(se=>l.containsPosition(new C.L(H.lineNumber,se.column))):!1}triggerInlineCompletion(){var l;(l=this.activeInlineCompletionsModel)===null||l===void 0||l.trigger(V.bw.Explicit)}commitInlineCompletion(){var l;(l=this.activeInlineCompletionsModel)===null||l===void 0||l.commitCurrentSuggestion()}hideInlineCompletion(){var l;(l=this.activeInlineCompletionsModel)===null||l===void 0||l.hide()}showNextInlineCompletion(){var l;(l=this.activeInlineCompletionsModel)===null||l===void 0||l.showNext()}showPreviousInlineCompletion(){var l;(l=this.activeInlineCompletionsModel)===null||l===void 0||l.showPrevious()}hasMultipleInlineCompletions(){var l;return Pr(this,void 0,void 0,function*(){const E=yield(l=this.activeInlineCompletionsModel)===null||l===void 0?void 0:l.hasMultipleInlineCompletions();return E!==void 0?E:!1})}};Yr=Cr([Hr(1,Ri.H)],Yr);class Ir extends Y.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new x.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new Y.XK)}get value(){return this.cache.value}setValue(l,E,H){this.cache.value=new Ho(l,E,()=>this.onDidChangeEmitter.fire(),H)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var Qr=c(87917),la=c(64141),Wl=c(33181),rl=c(78411),Vl=c(50072),wa=c(27869),al=c(92550),ll=c(77736),Hl=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},ha=function(be,l){return function(E,H){l(E,H,be)}},Ma;const dl=(Ma=window.trustedTypes)===null||Ma===void 0?void 0:Ma.createPolicy("editorGhostText",{createHTML:be=>be});let ea=class extends Y.JT{constructor(l,E,H,se){super(),this.editor=l,this.model=E,this.instantiationService=H,this.modeService=se,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(Xr,this.editor)),this.additionalLinesWidget=this._register(new zl(this.editor,this.modeService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(ne=>{(ne.hasChanged(29)||ne.hasChanged(104)||ne.hasChanged(87)||ne.hasChanged(82)||ne.hasChanged(44)||ne.hasChanged(43)||ne.hasChanged(58))&&this.update()})),this._register((0,Y.OF)(()=>{var ne;this.disposed=!0,this.update(),(ne=this.viewMoreContentWidget)===null||ne===void 0||ne.dispose(),this.viewMoreContentWidget=void 0})),this._register(E.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(l){return this.additionalLinesWidget.viewZoneId===l}update(){var l;const E=this.model.ghostText;if(!this.editor.hasModel()||!E||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}const H=new Array,se=new Array;function ne(Vt,wt){if(se.length>0){const ai=se[se.length-1];wt&&ai.decorations.push(new al.Kp(ai.content.length+1,ai.content.length+1+Vt[0].length,wt,0)),ai.content+=Vt[0],Vt=Vt.slice(1)}for(const ai of Vt)se.push({content:ai,decorations:wt?[new al.Kp(1,ai.length+1,wt,0)]:[]})}const Le=this.editor.getModel().getLineContent(E.lineNumber);this.editor.getModel().getLineTokens(E.lineNumber);let Ge,Wt=0;for(const Vt of E.parts){let wt=Vt.lines;Ge===void 0?(H.push({column:Vt.column,text:wt[0],preview:Vt.preview}),wt=wt.slice(1)):ne([Le.substring(Wt,Vt.column-1)],void 0),wt.length>0&&(ne(wt,"ghost-text"),Ge===void 0&&Vt.column<=Le.length&&(Ge=Vt.column)),Wt=Vt.column-1}Ge!==void 0&&ne([Le.substring(Wt)],void 0),this.partsWidget.setParts(E.lineNumber,H,Ge!==void 0?{column:Ge,length:Le.length+1-Ge}:void 0),this.additionalLinesWidget.updateLines(E.lineNumber,se,E.additionalReservedLineCount),E.parts.some(Vt=>Vt.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new C.L(E.lineNumber,this.editor.getModel().getLineMaxColumn(E.lineNumber)),"",0):((l=this.viewMoreContentWidget)===null||l===void 0||l.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(l,E,H){const se=this.editor.getOption(43),ne=document.createElement("div");ne.className="suggest-preview-additional-widget",Qr.V.applyFontInfoSlow(ne,se);const Le=document.createElement("span");Le.className="content-spacer",Le.append(E),ne.append(Le);const Ge=document.createElement("span");Ge.className="content-newline suggest-preview-text",Ge.append("\u23CE  "),ne.append(Ge);const Wt=new Y.SL,Vt=document.createElement("div");return Vt.className="button suggest-preview-text",Vt.append(`+${H} lines\u2026`),Wt.add(T.mu(Vt,"mousedown",wt=>{var ai;(ai=this.model)===null||ai===void 0||ai.setExpanded(!0),wt.preventDefault(),this.editor.focus()})),ne.append(Vt),new ul(this.editor,l,ne,Wt)}};ea=Hl([ha(2,It.TG),ha(3,J.h)],ea);let Xr=class{constructor(l,E,H,se){this.editor=l,this.codeEditorService=E,this.themeService=H,this.contextKeyService=se,this.decorationIds=[],this.disposableStore=new Y.SL}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(l,E,H){this.disposableStore.clear();const se=this.themeService.getColorTheme(),ne=se.getColor(wa.N5);let Le,Ge;ne&&(Le=String(ne.rgba.a),Ge=ce.Il.Format.CSS.format($a(ne)));const Wt=se.getColor(wa.x3);let Vt;Wt&&(Vt=`2px dashed ${Wt}`);const wt=this.editor.getModel();if(!wt)return;const{tabSize:ai}=wt.getOptions(),Yi=wt.getLineContent(l)||"";let bn=0,Gn="";const Mo=new Array;H&&Mo.push({range:O.e.fromPositions(new C.L(l,H.column),new C.L(l,H.column+H.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});const jo=this.contextKeyService.getContextKeyValue("config.editor.useInjectedText"),lr=jo===void 0?!0:!!jo;this.decorationIds=this.editor.deltaDecorations(this.decorationIds,E.map(yr=>{Gn+=Yi.substring(bn,yr.column-1),bn=yr.column-1;const Rr=lr?yr.text:this.renderSingleLineText(yr.text,Gn,ai,!1),Pa=this.disposableStore.add(Ra(this.codeEditorService,"ghost-text","0-ghost-text-",{after:{contentText:Rr,opacity:Le,color:Ge,border:Vt,fontWeight:yr.preview?"bold":"normal"}}));return{range:O.e.fromPositions(new C.L(l,yr.column)),options:lr?{description:"ghost-text",after:{content:Rr,inlineClassName:yr.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}:Object.assign({},Pa.resolve())}}).concat(Mo))}renderSingleLineText(l,E,H,se){const ne=E+l,Le=Wl.io.visibleColumnsByColumns(ne,H);let Ge="",Wt=E.length+1;for(const Vt of l){if(Vt==="	"){const wt=Le[Wt+1]-Le[Wt];if(se){Ge+="\u2192";for(let ai=1;ai<wt;ai++)Ge+="\xA0"}else for(let ai=0;ai<wt;ai++)Ge+="\xA0"}else Vt===" "?se?Ge+="\xB7":Ge+="\xA0":Ge+=Vt;Wt+=1}return Ge}};Xr=Hl([ha(1,ve.$),ha(2,Xe.XE),ha(3,Me.i6)],Xr);function $a(be){const{r:l,b:E,g:H}=be.rgba;return new ce.Il(new ce.VS(l,H,E,255))}class zl{constructor(l,E){this.editor=l,this.languageIdCodec=E,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(l=>{this._viewZoneId&&(l.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(l,E,H){const se=this.editor.getModel();if(!se)return;const{tabSize:ne}=se.getOptions();this.editor.changeViewZones(Le=>{this._viewZoneId&&(Le.removeZone(this._viewZoneId),this._viewZoneId=void 0);const Ge=Math.max(E.length,H);if(Ge>0){const Wt=document.createElement("div");Ul(Wt,ne,E,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=Le.addZone({afterLineNumber:l,heightInLines:Ge,domNode:Wt})}})}}function Ul(be,l,E,H,se){const ne=H.get(29),Le=H.get(104),Ge="none",Wt=H.get(82),Vt=H.get(44),wt=H.get(43),ai=H.get(58),Yi=(0,Vl.l$)(1e4);Yi.appendASCIIString('<div class="suggest-preview-text">');for(let Mo=0,jo=E.length;Mo<jo;Mo++){const lr=E[Mo],yr=lr.content;Yi.appendASCIIString('<div class="view-line'),Yi.appendASCIIString('" style="top:'),Yi.appendASCIIString(String(Mo*ai)),Yi.appendASCIIString('px;width:1000000px;">');const Rr=Tt.$i(yr),Pa=Tt.Ut(yr),pl=rl.A.createEmpty(yr,se);(0,ll.d1)(new ll.IJ(wt.isMonospace&&!ne,wt.canUseHalfwidthRightwardsArrow,yr,!1,Rr,Pa,0,pl,lr.decorations,l,0,wt.spaceWidth,wt.middotWidth,wt.wsmiddotWidth,Le,Ge,Wt,Vt!==la.n0.OFF,null),Yi),Yi.appendASCIIString("</div>")}Yi.appendASCIIString("</div>"),Qr.V.applyFontInfoSlow(be,wt);const bn=Yi.build(),Gn=dl?dl.createHTML(bn):bn;be.innerHTML=Gn}let $l=0;function Ra(be,l,E,H){const se=E+$l++;return be.registerDecorationType(l,se,H),{dispose(){be.removeDecorationType(se)},resolve(){return be.resolveDecorationOptions(se,!0)}}}class ul extends Y.JT{constructor(l,E,H,se){super(),this.editor=l,this.position=E,this.domNode=H,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(se),this._register((0,Y.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,Xe.Ic)((be,l)=>{const E=be.getColor(wa.N5);if(E){const se=String(E.rgba.a),ne=ce.Il.Format.CSS.format($a(E));l.addRule(`.monaco-editor .ghost-text-decoration { opacity: ${se} !important; color: ${ne} !important; }`),l.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${E.toString()} !important; }`),l.addRule(`.monaco-editor .suggest-preview-text .ghost-text { opacity: ${se} !important; color: ${ne} !important; }`)}const H=be.getColor(wa.x3);H&&(l.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${H}; }`),l.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${H}; }`),l.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${H}; }`))});var Ka=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},ja=function(be,l){return function(E,H){l(E,H,be)}},ka=function(be,l,E,H){function se(ne){return ne instanceof E?ne:new E(function(Le){Le(ne)})}return new(E||(E=Promise))(function(ne,Le){function Ge(wt){try{Vt(H.next(wt))}catch(ai){Le(ai)}}function Wt(wt){try{Vt(H.throw(wt))}catch(ai){Le(ai)}}function Vt(wt){wt.done?ne(wt.value):se(wt.value).then(Ge,Wt)}Vt((H=H.apply(be,l||[])).next())})};let ur=class xu extends Y.JT{constructor(l,E){super(),this.editor=l,this.instantiationService=E,this.triggeredExplicitly=!1,this.activeController=this._register(new Y.XK),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(H=>{H.hasChanged(105)&&this.updateModelController(),H.hasChanged(54)&&this.updateModelController()})),this.updateModelController()}static get(l){return l.getContribution(xu.ID)}get activeModel(){var l;return(l=this.activeController.value)===null||l===void 0?void 0:l.model}updateModelController(){const l=this.editor.getOption(105),E=this.editor.getOption(54);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(l.preview||E.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(Jr,this.editor):void 0}shouldShowHoverAt(l){var E;return((E=this.activeModel)===null||E===void 0?void 0:E.shouldShowHoverAt(l))||!1}shouldShowHoverAtViewZone(l){var E,H;return((H=(E=this.activeController.value)===null||E===void 0?void 0:E.widget)===null||H===void 0?void 0:H.shouldShowHoverAtViewZone(l))||!1}trigger(){var l;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(l=this.activeModel)===null||l===void 0||l.triggerInlineCompletion()}commit(){var l;(l=this.activeModel)===null||l===void 0||l.commitInlineCompletion()}hide(){var l;(l=this.activeModel)===null||l===void 0||l.hideInlineCompletion()}showNextInlineCompletion(){var l;(l=this.activeModel)===null||l===void 0||l.showNextInlineCompletion()}showPreviousInlineCompletion(){var l;(l=this.activeModel)===null||l===void 0||l.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var l;return ka(this,void 0,void 0,function*(){const E=yield(l=this.activeModel)===null||l===void 0?void 0:l.hasMultipleInlineCompletions();return E!==void 0?E:!1})}};ur.inlineSuggestionVisible=new Me.uy("inlineSuggestionVisible",!1,de.N("inlineSuggestionVisible","Whether an inline suggestion is visible")),ur.inlineSuggestionHasIndentation=new Me.uy("inlineSuggestionHasIndentation",!1,de.N("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),ur.inlineSuggestionHasIndentationLessThanTabSize=new Me.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,de.N("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),ur.ID="editor.contrib.ghostTextController",ur=Ka([ja(1,It.TG)],ur);class da{constructor(l){this.contextKeyService=l,this.inlineCompletionVisible=ur.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=ur.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=ur.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let Jr=class extends Y.JT{constructor(l,E,H){super(),this.editor=l,this.instantiationService=E,this.contextKeyService=H,this.contextKeys=new da(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(Yr,this.editor)),this.widget=this._register(this.instantiationService.createInstance(ea,this.editor,this.model)),this._register((0,Y.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var l;this.contextKeys.inlineCompletionVisible.set(((l=this.model.activeInlineCompletionsModel)===null||l===void 0?void 0:l.ghostText)!==void 0);let E=!1,H=!0;const se=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&se&&se.parts.length>0){const{column:ne,lines:Le}=se.parts[0],Ge=Le[0],Wt=this.editor.getModel().getLineIndentColumn(se.lineNumber);if(ne<=Wt){let wt=(0,Tt.LC)(Ge);wt===-1&&(wt=Ge.length-1),E=wt>0;const ai=this.editor.getModel().getOptions().tabSize;H=qe.i.visibleColumnFromColumn(Ge,wt+1,ai)<ai}}this.contextKeys.inlineCompletionSuggestsIndentation.set(E),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(H)}};Jr=Ka([ja(1,It.TG),ja(2,Me.i6)],Jr);const cl=Q._l.bindToContribution(ur.get),Sa=new cl({id:Et,precondition:ur.inlineSuggestionVisible,handler(be){be.commit(),be.editor.focus()}});(0,Q.fK)(Sa),Zn.W.registerKeybindingRule({primary:2,weight:200,id:Sa.id,when:Me.Ao.and(Sa.precondition,y.u.tabMovesFocus.toNegated(),ur.inlineSuggestionHasIndentationLessThanTabSize)}),(0,Q.fK)(new cl({id:"editor.action.inlineSuggest.hide",precondition:ur.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(be){be.hide()}}));class fa extends Q.R6{constructor(){super({id:fa.ID,label:de.N("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Me.Ao.and(y.u.writable,ur.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(l,E){return ka(this,void 0,void 0,function*(){const H=ur.get(E);H&&(H.showNextInlineCompletion(),E.focus())})}}fa.ID="editor.action.inlineSuggest.showNext";class ga extends Q.R6{constructor(){super({id:ga.ID,label:de.N("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Me.Ao.and(y.u.writable,ur.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(l,E){return ka(this,void 0,void 0,function*(){const H=ur.get(E);H&&(H.showPreviousInlineCompletion(),E.focus())})}}ga.ID="editor.action.inlineSuggest.showPrevious";class Kl extends Q.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:de.N("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:y.u.writable})}run(l,E){return ka(this,void 0,void 0,function*(){const H=ur.get(E);H&&H.trigger()})}}(0,Q._K)(ur.ID,ur),(0,Q.Qr)(Kl),(0,Q.Qr)(fa),(0,Q.Qr)(ga);var hl=c(31106),jl=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},ma=function(be,l){return function(E,H){l(E,H,be)}};class Gl{constructor(l,E,H){this.owner=l,this.range=E,this.controller=H}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let ya=class{constructor(l,E,H,se,ne,Le,Ge,Wt){this._editor=l,this._hover=E,this._commandService=H,this._menuService=se,this._contextKeyService=ne,this._modeService=Le,this._openerService=Ge,this.accessibilityService=Wt}suggestHoverAnchor(l){const E=ur.get(this._editor);if(!E)return null;if(l.target.type===8){const H=l.target.detail;if(E.shouldShowHoverAtViewZone(H.viewZoneId))return new dt(1e3,this,O.e.fromPositions(H.positionBefore||H.position,H.positionBefore||H.position))}return l.target.type===7&&l.target.range&&E.shouldShowHoverAt(l.target.range)?new dt(1e3,this,l.target.range):l.target.type===6&&l.target.range&&l.target.detail&&l.target.detail.mightBeForeignElement&&E.shouldShowHoverAt(l.target.range)?new dt(1e3,this,l.target.range):null}computeSync(l,E){const H=ur.get(this._editor);return H&&H.shouldShowHoverAt(l.range)?[new Gl(this,l.range,H)]:[]}renderHoverParts(l,E,H){const se=new Y.SL,ne=l[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(ne,E,se);const Le=se.add(this._menuService.createMenu(rs.eH.InlineCompletionsActions,this._contextKeyService)),Ge=H.addAction({label:de.N("showNextInlineSuggestion","Next"),commandId:fa.ID,run:()=>this._commandService.executeCommand(fa.ID)}),Wt=H.addAction({label:de.N("showPreviousInlineSuggestion","Previous"),commandId:ga.ID,run:()=>this._commandService.executeCommand(ga.ID)});H.addAction({label:de.N("acceptInlineSuggestion","Accept"),commandId:Sa.id,run:()=>this._commandService.executeCommand(Sa.id)});const Vt=[Ge,Wt];for(const wt of Vt)wt.setEnabled(!1);ne.hasMultipleSuggestions().then(wt=>{for(const ai of Vt)ai.setEnabled(wt)});for(const[wt,ai]of Le.getActions())for(const Yi of ai)Yi instanceof rs.U8&&H.addAction({label:Yi.label,commandId:Yi.item.id,run:()=>this._commandService.executeCommand(Yi.item.id)});return se}renderScreenReaderText(l,E,H){var se,ne;const Le=T.$,Ge=Le("div.hover-row.markdown-hover"),Wt=T.R3(Ge,Le("div.hover-contents")),Vt=H.add(new At.$({editor:this._editor},this._modeService,this._openerService)),wt=Yi=>{H.add(Vt.onDidRenderAsync(()=>{Wt.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const bn=de.N("inlineSuggestionFollows","Suggestion:"),Gn=H.add(Vt.render(new s.W5().appendText(bn).appendCodeblock("text",Yi)));Wt.replaceChildren(Gn.element)},ai=(ne=(se=l.controller.activeModel)===null||se===void 0?void 0:se.inlineCompletionsModel)===null||ne===void 0?void 0:ne.ghostText;if(ai){const Yi=this._editor.getModel().getLineContent(ai.lineNumber);wt(ai.renderForScreenReader(Yi))}E.appendChild(Ge)}};ya=jl([ma(2,Ri.H),ma(3,rs.co),ma(4,Me.i6),ma(5,J.h),ma(6,$t.v4),ma(7,hl.F)],ya);var Ga=c(79599),fl=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},Aa=function(be,l){return function(E,H){l(E,H,be)}},gl=function(be,l,E,H){function se(ne){return ne instanceof E?ne:new E(function(Le){Le(ne)})}return new(E||(E=Promise))(function(ne,Le){function Ge(wt){try{Vt(H.next(wt))}catch(ai){Le(ai)}}function Wt(wt){try{Vt(H.throw(wt))}catch(ai){Le(ai)}}function Vt(wt){wt.done?ne(wt.value):se(wt.value).then(Ge,Wt)}Vt((H=H.apply(be,l||[])).next())})};const ml=T.$;let La=class extends Y.JT{constructor(l){super(),this._keybindingService=l,this._hasContent=!1,this.hoverElement=ml("div.hover-row.status-bar"),this.actionsElement=T.R3(this.hoverElement,ml("div.actions"))}get hasContent(){return this._hasContent}addAction(l){const E=this._keybindingService.lookupKeybinding(l.commandId),H=E?E.getLabel():null;return this._hasContent=!0,this._register(Ut.render(this.actionsElement,l,H))}append(l){const E=T.R3(this.actionsElement,l);return this._hasContent=!0,E}};La=fl([Aa(0,vt.d)],La);class Oa{constructor(l,E){this._participants=E,this._editor=l,this._result=[],this._anchor=null}setAnchor(l){this._anchor=l,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(l,E){if(E.type!==1)return[];const H=l.getModel(),se=E.range.startLineNumber,ne=H.getLineMaxColumn(se);return l.getLineDecorations(se).filter(Le=>{if(Le.options.isWholeLine)return!0;const Ge=Le.range.startLineNumber===se?Le.range.startColumn:1,Wt=Le.range.endLineNumber===se?Le.range.endColumn:ne;return!(Ge>E.range.startColumn||E.range.endColumn>Wt)})}computeAsync(l){return gl(this,void 0,void 0,function*(){const E=this._anchor;if(!this._editor.hasModel()||!E)return Promise.resolve([]);const H=Oa._getLineDecorations(this._editor,E),se=yield Promise.all(this._participants.map(ne=>this._computeAsync(ne,H,E,l)));return(0,Re.xH)(se)})}_computeAsync(l,E,H,se){return gl(this,void 0,void 0,function*(){return l.computeAsync?l.computeAsync(H,E,se):[]})}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const l=Oa._getLineDecorations(this._editor,this._anchor);let E=[];for(const H of this._participants)E=E.concat(H.computeSync(this._anchor,l));return(0,Re.kX)(E)}onResult(l,E){E?this._result=l.concat(this._result):this._result=this._result.concat(l)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor){for(const l of this._participants)if(l.createLoadingMessage){const E=l.createLoadingMessage(this._anchor);if(E)return this._result.slice(0).concat([E])}}return this._result.slice(0)}}let Nr=class xd extends pe.${constructor(l,E,H,se,ne){super(),this._hoverVisibleKey=E,this._keybindingService=se,this._contextKeyService=ne,this.allowEditorOverflow=!0,this._participants=[H.createInstance(fe,l,this),H.createInstance(yn,l,this),H.createInstance(ya,l,this),H.createInstance(ot,l,this)],this._editor=l,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this._hover=this._register(new Dn),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this.onkeydown(this._hover.containerDomNode,Le=>{Le.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(Le=>{Le.hasChanged(43)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastAnchor=null,this._computer=new Oa(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._preferAbove=this._editor.getOption(52).above,this._hoverOperation=new Ee(this._computer,Le=>this._withResult(Le,!0),null,Le=>this._withResult(Le,!1),this._editor.getOption(52).delay),this._register(T.mu(this.getDomNode(),T.tw.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(T.mu(this.getDomNode(),T.tw.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(l.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(52).delay),this._preferAbove=this._editor.getOption(52).above})),this._register(V.RW.onDidChange(()=>{this._isVisible&&this._lastAnchor&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return xd.ID}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(l){const E=l.target.type;if(E===6)return!0;if(E===7){const H=this._editor.getOption(43).typicalHalfwidthCharacterWidth/2,se=l.target.detail;if(se&&!se.isAfterLines&&typeof se.horizontalDistanceToText=="number"&&se.horizontalDistanceToText<H)return!0}return!1}maybeShowAt(l){var E;const H=[];for(const se of this._participants)if(typeof se.suggestHoverAnchor=="function"){const ne=se.suggestHoverAnchor(l);ne&&H.push(ne)}if(this._shouldShowAt(l)&&l.target.range){const ne=[...((E=l.target.element)===null||E===void 0?void 0:E.classList.values())||[]].find(Le=>Le.startsWith("ced-colorBox"))&&l.target.range.endColumn-l.target.range.startColumn===1?new O.e(l.target.range.startLineNumber,l.target.range.startColumn+1,l.target.range.endLineNumber,l.target.range.endColumn+1):l.target.range;H.push(new Ve(0,ne))}return H.length===0?!1:(H.sort((se,ne)=>ne.priority-se.priority),this._startShowingAt(H[0],0,!1),!0)}_showAt(l,E,H){this._showAtPosition=l,this._showAtRange=E,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=H,H&&this._hover.containerDomNode.focus()}getPosition(){if(this._isVisible){let l=this._preferAbove;return!l&&this._contextKeyService.getContextKeyValue(Ga._y.Visible.key)&&(l=!0),{position:this._showAtPosition,range:this._showAtRange,preference:l?[1,2]:[2,1]}}return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(E=>this._editor.applyFontInfo(E))}_updateContents(l){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(l),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const l=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:E,lineHeight:H}=this._editor.getOption(43);this._hover.contentsDomNode.style.fontSize=`${E}px`,this._hover.contentsDomNode.style.lineHeight=`${H/E}`,this._hover.contentsDomNode.style.maxHeight=`${l}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(l,E,H){this._startShowingAt(new Ve(0,l),E,H)}_startShowingAt(l,E,H){if(!(this._lastAnchor&&this._lastAnchor.equals(l))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||!this._lastAnchor||!l.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition))this.hide();else{const se=this._messages.filter(ne=>ne.isValidForHoverAnchor(l));if(se.length===0)this.hide();else{if(se.length===this._messages.length)return;this._renderMessages(l,se)}}this._lastAnchor=l,this._computer.setAnchor(l),this._shouldFocus=H,this._hoverOperation.start(E)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(l){this._colorPicker=l}onContentsChanged(){this._hover.onContentsChanged()}_withResult(l,E){this._messages=l,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):E&&this.hide()}_renderMessages(l,E){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let H=1073741824,se=E[0].range,ne=null,Le=document.createDocumentFragment();const Ge=new Y.SL,Wt=new Map;for(const wt of E)H=Math.min(H,wt.range.startColumn),se=O.e.plusRange(se,wt.range),wt.forceShowAtRange&&(ne=wt.range),Wt.has(wt.owner)||Wt.set(wt.owner,[]),Wt.get(wt.owner).push(wt);const Vt=Ge.add(new La(this._keybindingService));for(const[wt,ai]of Wt)Ge.add(wt.renderHoverParts(ai,Le,Vt));Vt.hasContent&&Le.appendChild(Vt.hoverElement),this._renderDisposable=Ge,Le.hasChildNodes()&&(ne?this._showAt(ne.getStartPosition(),ne,this._shouldFocus):this._showAt(new C.L(l.range.startLineNumber,H),se,this._shouldFocus),this._updateContents(Le)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,se?[{range:se,options:xd._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};Nr.ID="editor.contrib.modesContentHoverWidget",Nr._DECORATION_OPTIONS=$.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),Nr=fl([Aa(2,It.TG),Aa(3,vt.d),Aa(4,Me.i6)],Nr);const Da=T.$;class pa{constructor(l){this._editor=l,this._lineNumber=-1,this._result=[]}setLineNumber(l){this._lineNumber=l,this._result=[]}clearResult(){this._result=[]}computeSync(){const l=se=>({value:se}),E=this._editor.getLineDecorations(this._lineNumber),H=[];if(!E)return H;for(const se of E){if(!se.options.glyphMarginClassName)continue;const ne=se.options.glyphMarginHoverMessage;!ne||(0,s.CP)(ne)||H.push(...(0,Re._2)(ne).map(l))}return H}onResult(l,E){this._result=this._result.concat(l)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class ua extends pe.${constructor(l,E,H=$t.SW){super(),this._renderDisposeables=this._register(new Y.SL),this._editor=l,this._isVisible=!1,this._messages=[],this._lastLineNumber=-1,this._hover=this._register(new Dn),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new At.$({editor:this._editor},E,H)),this._computer=new pa(this._editor),this._hoverOperation=new Ee(this._computer,se=>this._withResult(se),void 0,se=>this._withResult(se),300),this._register(this._editor.onDidChangeConfiguration(se=>{se.hasChanged(43)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._hoverOperation.cancel(),this._editor.removeOverlayWidget(this),super.dispose()}getId(){return ua.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_showAt(l){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const E=this._editor.getLayoutInfo(),H=this._editor.getTopForLineNumber(l),se=this._editor.getScrollTop(),ne=this._editor.getOption(58),Le=this._hover.containerDomNode.clientHeight,Ge=H-se-(Le-ne)/2;this._hover.containerDomNode.style.left=`${E.glyphMarginLeft+E.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(Ge),0)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(E=>this._editor.applyFontInfo(E))}_updateContents(l){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(l),this._updateFont()}onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(l){this._lastLineNumber!==l&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=l,this._computer.setLineNumber(l),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(l){this._messages=l,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(l,E){this._renderDisposeables.clear();const H=document.createDocumentFragment();for(const se of E){const ne=Da("div.hover-row.markdown-hover"),Le=T.R3(ne,Da("div.hover-contents")),Ge=this._renderDisposeables.add(this._markdownRenderer.render(se.value));Le.appendChild(Ge.element),H.appendChild(ne)}this._updateContents(H),this._showAt(l)}}ua.ID="editor.contrib.modesGlyphHoverWidget";var Zl=function(be,l,E,H){var se=arguments.length,ne=se<3?l:H===null?H=Object.getOwnPropertyDescriptor(l,E):H,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,l,E,H);else for(var Ge=be.length-1;Ge>=0;Ge--)(Le=be[Ge])&&(ne=(se<3?Le(ne):se>3?Le(l,E,ne):Le(l,E))||ne);return se>3&&ne&&Object.defineProperty(l,E,ne),ne},Ea=function(be,l){return function(E,H){l(E,H,be)}};let zr=class Nu{constructor(l,E,H,se,ne){this._editor=l,this._instantiationService=E,this._openerService=H,this._modeService=se,this._toUnhook=new Y.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(Le=>{Le.hasChanged(52)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=y.u.hoverVisible.bindTo(ne)}static get(l){return l.getContribution(Nu.ID)}_hookEvents(){const l=()=>this._hideWidgets(),E=this._editor.getOption(52);this._isHoverEnabled=E.enabled,this._isHoverSticky=E.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(H=>this._onEditorMouseDown(H))),this._toUnhook.add(this._editor.onMouseUp(H=>this._onEditorMouseUp(H))),this._toUnhook.add(this._editor.onMouseMove(H=>this._onEditorMouseMove(H))),this._toUnhook.add(this._editor.onKeyDown(H=>this._onKeyDown(H))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(H=>this._onEditorMouseMove(H))),this._toUnhook.add(this._editor.onKeyDown(H=>this._onKeyDown(H)))),this._toUnhook.add(this._editor.onMouseLeave(l)),this._toUnhook.add(this._editor.onDidChangeModel(l)),this._toUnhook.add(this._editor.onDidScrollChange(H=>this._onEditorScrollChanged(H)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var l,E;(l=this._contentWidget)===null||l===void 0||l.onModelDecorationsChanged(),(E=this._glyphWidget)===null||E===void 0||E.onModelDecorationsChanged()}_onEditorScrollChanged(l){(l.scrollTopChanged||l.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(l){this._isMouseDown=!0;const E=l.target.type;if(E===9&&l.target.detail===Nr.ID){this._hoverClicked=!0;return}E===12&&l.target.detail===ua.ID||(E!==12&&l.target.detail!==ua.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(l){this._isMouseDown=!1}_onEditorMouseMove(l){var E,H,se,ne,Le;let Ge=l.target.type;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&Ge===9&&l.target.detail===Nr.ID||this._isHoverSticky&&!(!((H=(E=l.event.browserEvent.view)===null||E===void 0?void 0:E.getSelection())===null||H===void 0)&&H.isCollapsed)||!this._isHoverSticky&&Ge===9&&l.target.detail===Nr.ID&&(!((se=this._contentWidget)===null||se===void 0)&&se.isColorPickerVisible())||this._isHoverSticky&&Ge===12&&l.target.detail===ua.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(l)){(ne=this._glyphWidget)===null||ne===void 0||ne.hide();return}if(Ge===2&&l.target.position){(Le=this._contentWidget)===null||Le===void 0||Le.hide(),this._glyphWidget||(this._glyphWidget=new ua(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(l.target.position.lineNumber);return}this._hideWidgets()}_onKeyDown(l){l.keyCode!==5&&l.keyCode!==6&&l.keyCode!==57&&l.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var l,E,H;this._isMouseDown&&this._hoverClicked&&(!((l=this._contentWidget)===null||l===void 0)&&l.isColorPickerVisible())||(this._hoverClicked=!1,(E=this._glyphWidget)===null||E===void 0||E.hide(),(H=this._contentWidget)===null||H===void 0||H.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(Nr,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var l;return((l=this._contentWidget)===null||l===void 0?void 0:l.isColorPickerVisible())||!1}showContentHover(l,E,H){this._getOrCreateContentWidget().startShowingAtRange(l,E,H)}dispose(){var l,E;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(l=this._glyphWidget)===null||l===void 0||l.dispose(),(E=this._contentWidget)===null||E===void 0||E.dispose()}};zr.ID="editor.contrib.hover",zr=Zl([Ea(1,It.TG),Ea(2,$t.v4),Ea(3,J.h),Ea(4,Me.i6)],zr);class Za extends Q.R6{constructor(){super({id:"editor.action.showHover",label:de.N({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:y.u.editorTextFocus,primary:(0,g.gx)(2089,2087),weight:100}})}run(l,E){if(!E.hasModel())return;let H=zr.get(E);if(!H)return;const se=E.getPosition(),ne=new O.e(se.lineNumber,se.column,se.lineNumber,se.column),Le=E.getOption(2)===2;H.showContentHover(ne,1,Le)}}class Ya extends Q.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:de.N({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(l,E){let H=zr.get(E);if(!H)return;const se=E.getPosition();if(!se)return;const ne=new O.e(se.lineNumber,se.column,se.lineNumber,se.column);Sn.get(E).startFindDefinitionFromCursor(se).then(()=>{H.showContentHover(ne,1,!0)})}}(0,Q._K)(zr.ID,zr),(0,Q.Qr)(Za),(0,Q.Qr)(Ya),(0,Xe.Ic)((be,l)=>{const E=be.getColor(ht.pt);E&&l.addRule(`.monaco-editor .hoverHighlight { background-color: ${E}; }`);const H=be.getColor(ht.yJ);H&&l.addRule(`.monaco-editor .monaco-hover { background-color: ${H}; }`);const se=be.getColor(ht.CN);se&&(l.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${se}; }`),l.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${se.transparent(.5)}; }`),l.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${se.transparent(.5)}; }`),l.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${se.transparent(.5)}; }`));const ne=be.getColor(ht.ur);ne&&l.addRule(`.monaco-editor .monaco-hover a { color: ${ne}; }`);const Le=be.getColor(ht.sg);Le&&l.addRule(`.monaco-editor .monaco-hover a:hover { color: ${Le}; }`);const Ge=be.getColor(ht.Sb);Ge&&l.addRule(`.monaco-editor .monaco-hover { color: ${Ge}; }`);const Wt=be.getColor(ht.Lo);Wt&&l.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${Wt}; }`);const Vt=be.getColor(ht.Sw);Vt&&l.addRule(`.monaco-editor .monaco-hover code { background-color: ${Vt}; }`)})},80689:function(Yt,Ue,c){"use strict";c.d(Ue,{x:function(){return y}});var g=c(91741),Y=c(50187),Q=c(24314),O=function(J,k,P,s){function I(m){return m instanceof P?m:new P(function(C){C(m)})}return new(P||(P=Promise))(function(m,C){function V(w){try{x(s.next(w))}catch(D){C(D)}}function r(w){try{x(s.throw(w))}catch(D){C(D)}}function x(w){w.done?m(w.value):I(w.value).then(V,r)}x((s=s.apply(J,k||[])).next())})};class y{provideSelectionRanges(k,P){return O(this,void 0,void 0,function*(){const s=[];for(const I of P){const m=[];s.push(m);const C=new Map;yield new Promise(V=>y._bracketsRightYield(V,0,k,I,C)),yield new Promise(V=>y._bracketsLeftYield(V,0,k,I,C,m))}return s})}static _bracketsRightYield(k,P,s,I,m){const C=new Map,V=Date.now();for(;;){if(P>=y._maxRounds){k();break}if(!I){k();break}let r=s.findNextBracket(I);if(!r){k();break}if(Date.now()-V>y._maxDuration){setTimeout(()=>y._bracketsRightYield(k,P+1,s,I,m));break}const w=r.close[0];if(r.isOpen){let D=C.has(w)?C.get(w):0;C.set(w,D+1)}else{let D=C.has(w)?C.get(w):0;if(D-=1,C.set(w,Math.max(0,D)),D<0){let f=m.get(w);f||(f=new g.S,m.set(w,f)),f.push(r.range)}}I=r.range.getEndPosition()}}static _bracketsLeftYield(k,P,s,I,m,C){const V=new Map,r=Date.now();for(;;){if(P>=y._maxRounds&&m.size===0){k();break}if(!I){k();break}let x=s.findPrevBracket(I);if(!x){k();break}if(Date.now()-r>y._maxDuration){setTimeout(()=>y._bracketsLeftYield(k,P+1,s,I,m,C));break}const D=x.close[0];if(x.isOpen){let f=V.has(D)?V.get(D):0;if(f-=1,V.set(D,Math.max(0,f)),f<0){let v=m.get(D);if(v){let L=v.shift();v.size===0&&m.delete(D);const h=Q.e.fromPositions(x.range.getEndPosition(),L.getStartPosition()),R=Q.e.fromPositions(x.range.getStartPosition(),L.getEndPosition());C.push({range:h}),C.push({range:R}),y._addBracketLeading(s,R,C)}}}else{let f=V.has(D)?V.get(D):0;V.set(D,f+1)}I=x.range.getStartPosition()}}static _addBracketLeading(k,P,s){if(P.startLineNumber===P.endLineNumber)return;const I=P.startLineNumber,m=k.getLineFirstNonWhitespaceColumn(I);m!==0&&m!==P.startColumn&&(s.push({range:Q.e.fromPositions(new Y.L(I,m),P.getEndPosition())}),s.push({range:Q.e.fromPositions(new Y.L(I,1),P.getEndPosition())}));const C=I-1;if(C>0){const V=k.getLineFirstNonWhitespaceColumn(C);V===P.startColumn&&V!==k.getLineLastNonWhitespaceColumn(C)&&(s.push({range:Q.e.fromPositions(new Y.L(C,V),P.getEndPosition())}),s.push({range:Q.e.fromPositions(new Y.L(C,1),P.getEndPosition())}))}}}y._maxDuration=30,y._maxRounds=2},5964:function(Yt,Ue,c){"use strict";c.r(Ue),c.d(Ue,{provideSelectionRanges:function(){return R}});var g=c(9488),Y=c(71050),Q=c(17301),O=c(16830),y=c(50187),J=c(24314),k=c(3860),P=c(29102),s=c(10351),I=c(80689),m=c(97295);class C{provideSelectionRanges(W,K){const ie=[];for(const ce of K){const _e=[];ie.push(_e),this._addInWordRanges(_e,W,ce),this._addWordRanges(_e,W,ce),this._addWhitespaceLine(_e,W,ce),_e.push({range:W.getFullModelRange()})}return ie}_addInWordRanges(W,K,ie){const ce=K.getWordAtPosition(ie);if(!ce)return;let{word:_e,startColumn:ve}=ce,De=ie.column-ve,le=De,Z=De,$=0;for(;le>=0;le--){let G=_e.charCodeAt(le);if(le!==De&&(G===95||G===45))break;if((0,m.mK)(G)&&(0,m.df)($))break;$=G}for(le+=1;Z<_e.length;Z++){let G=_e.charCodeAt(Z);if((0,m.df)(G)&&(0,m.mK)($))break;if(G===95||G===45)break;$=G}le<Z&&W.push({range:new J.e(ie.lineNumber,ve+le,ie.lineNumber,ve+Z)})}_addWordRanges(W,K,ie){const ce=K.getWordAtPosition(ie);ce&&W.push({range:new J.e(ie.lineNumber,ce.startColumn,ie.lineNumber,ce.endColumn)})}_addWhitespaceLine(W,K,ie){K.getLineLength(ie.lineNumber)>0&&K.getLineFirstNonWhitespaceColumn(ie.lineNumber)===0&&K.getLineLastNonWhitespaceColumn(ie.lineNumber)===0&&W.push({range:new J.e(ie.lineNumber,1,ie.lineNumber,K.getLineMaxColumn(ie.lineNumber))})}}var V=c(63580),r=c(84144),x=c(94565),w=function(T,W,K,ie){function ce(_e){return _e instanceof K?_e:new K(function(ve){ve(_e)})}return new(K||(K=Promise))(function(_e,ve){function De($){try{Z(ie.next($))}catch(G){ve(G)}}function le($){try{Z(ie.throw($))}catch(G){ve(G)}}function Z($){$.done?_e($.value):ce($.value).then(De,le)}Z((ie=ie.apply(T,W||[])).next())})};class D{constructor(W,K){this.index=W,this.ranges=K}mov(W){let K=this.index+(W?1:-1);if(K<0||K>=this.ranges.length)return this;const ie=new D(K,this.ranges);return ie.ranges[K].equalsRange(this.ranges[this.index])?ie.mov(W):ie}}class f{constructor(W){this._editor=W,this._ignoreSelection=!1}static get(W){return W.getContribution(f.ID)}dispose(){var W;(W=this._selectionListener)===null||W===void 0||W.dispose()}run(W){return w(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const K=this._editor.getSelections(),ie=this._editor.getModel();if(!s.AC.has(ie)||(this._state||(yield R(ie,K.map(_e=>_e.getPosition()),this._editor.getOption(101),Y.T.None).then(_e=>{var ve;if(!(!g.Of(_e)||_e.length!==K.length)&&!(!this._editor.hasModel()||!g.fS(this._editor.getSelections(),K,(De,le)=>De.equalsSelection(le)))){for(let De=0;De<_e.length;De++)_e[De]=_e[De].filter(le=>le.containsPosition(K[De].getStartPosition())&&le.containsPosition(K[De].getEndPosition())),_e[De].unshift(K[De]);this._state=_e.map(De=>new D(0,De)),(ve=this._selectionListener)===null||ve===void 0||ve.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var De;this._ignoreSelection||((De=this._selectionListener)===null||De===void 0||De.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(_e=>_e.mov(W));const ce=this._state.map(_e=>k.Y.fromPositions(_e.ranges[_e.index].getStartPosition(),_e.ranges[_e.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(ce)}finally{this._ignoreSelection=!1}})}}f.ID="editor.contrib.smartSelectController";class v extends O.R6{constructor(W,K){super(K),this._forward=W}run(W,K){return w(this,void 0,void 0,function*(){let ie=f.get(K);ie&&(yield ie.run(this._forward))})}}class L extends v{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:V.N("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:P.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"1_basic",title:V.N({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}x.P.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class h extends v{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:V.N("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:P.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"1_basic",title:V.N({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}(0,O._K)(f.ID,f),(0,O.Qr)(L),(0,O.Qr)(h),s.AC.register("*",new C);function R(T,W,K,ie){return w(this,void 0,void 0,function*(){const ce=s.AC.all(T);ce.length===1&&ce.unshift(new I.x);let _e=[],ve=[];for(const De of ce)_e.push(Promise.resolve(De.provideSelectionRanges(T,W,ie)).then(le=>{if(g.Of(le)&&le.length===W.length)for(let Z=0;Z<W.length;Z++){ve[Z]||(ve[Z]=[]);for(const $ of le[Z])J.e.isIRange($.range)&&J.e.containsPosition($.range,W[Z])&&ve[Z].push(J.e.lift($.range))}},Q.Cp));return yield Promise.all(_e),ve.map(De=>{if(De.length===0)return[];De.sort((G,q)=>y.L.isBefore(G.getStartPosition(),q.getStartPosition())?1:y.L.isBefore(q.getStartPosition(),G.getStartPosition())||y.L.isBefore(G.getEndPosition(),q.getEndPosition())?-1:y.L.isBefore(q.getEndPosition(),G.getEndPosition())?1:0);let le=[],Z;for(const G of De)(!Z||J.e.containsRange(G,Z)&&!J.e.equalsRange(G,Z))&&(le.push(G),Z=G);if(!K.selectLeadingAndTrailingWhitespace)return le;let $=[le[0]];for(let G=1;G<le.length;G++){const q=le[G-1],p=le[G];if(p.startLineNumber!==q.startLineNumber||p.endLineNumber!==q.endLineNumber){const S=new J.e(q.startLineNumber,T.getLineFirstNonWhitespaceColumn(q.startLineNumber),q.endLineNumber,T.getLineLastNonWhitespaceColumn(q.endLineNumber));S.containsRange(q)&&!S.equalsRange(q)&&p.containsRange(S)&&!p.equalsRange(S)&&$.push(S);const B=new J.e(q.startLineNumber,1,q.endLineNumber,T.getLineMaxColumn(q.endLineNumber));B.containsRange(q)&&!B.equalsRange(S)&&p.containsRange(B)&&!p.equalsRange(B)&&$.push(B)}$.push(p)}return $})})}(0,O.f)("_executeSelectionRangeProvider",function(T,...W){const[K]=W;return R(T,K,{selectLeadingAndTrailingWhitespace:!0},Y.T.None)})},22860:function(Yt,Ue,c){"use strict";c.r(Ue),c.d(Ue,{SnippetController2:function(){return r}});var g=c(5976),Y=c(16830),Q=c(24314),O=c(3860),y=c(29102),J=c(79599),k=c(63580),P=c(38819),s=c(43557),I=c(44951),m=function(w,D,f,v){var L=arguments.length,h=L<3?D:v===null?v=Object.getOwnPropertyDescriptor(D,f):v,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(w,D,f,v);else for(var T=w.length-1;T>=0;T--)(R=w[T])&&(h=(L<3?R(h):L>3?R(D,f,h):R(D,f))||h);return L>3&&h&&Object.defineProperty(D,f,h),h},C=function(w,D){return function(f,v){D(f,v,w)}};const V={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let r=class sl{constructor(D,f,v){this._editor=D,this._logService=f,this._snippetListener=new g.SL,this._modelVersionId=-1,this._inSnippet=sl.InSnippetMode.bindTo(v),this._hasNextTabstop=sl.HasNextTabstop.bindTo(v),this._hasPrevTabstop=sl.HasPrevTabstop.bindTo(v)}static get(D){return D.getContribution(sl.ID)}dispose(){var D;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(D=this._session)===null||D===void 0||D.dispose(),this._snippetListener.dispose()}insert(D,f){try{this._doInsert(D,typeof f=="undefined"?V:Object.assign(Object.assign({},V),f))}catch(v){this.cancel(),this._logService.error(v),this._logService.error("snippet_error"),this._logService.error("insert_template=",D),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(D,f){this._editor.hasModel()&&(this._snippetListener.clear(),f.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(D,f):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new I.l(this._editor,D,f),this._session.insert()),f.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(v=>v.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:D}=this._session;if(!D){this._currentChoice=void 0;return}if(this._currentChoice!==D){this._currentChoice=D,this._editor.setSelections(this._editor.getSelections().map(v=>O.Y.fromPositions(v.getStartPosition())));const[f]=D.options;(0,J.i5)(this._editor,D.options.map((v,L)=>({kind:13,label:v.value,insertText:v.value,sortText:"a".repeat(L+1),range:Q.e.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,f.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(D=!1){var f;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(f=this._session)===null||f===void 0||f.dispose(),this._session=void 0,this._modelVersionId=-1,D&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};r.ID="snippetController2",r.InSnippetMode=new P.uy("inSnippetMode",!1,(0,k.N)("inSnippetMode","Whether the editor in current in snippet mode")),r.HasNextTabstop=new P.uy("hasNextTabstop",!1,(0,k.N)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),r.HasPrevTabstop=new P.uy("hasPrevTabstop",!1,(0,k.N)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),r=m([C(1,s.VZ),C(2,P.i6)],r),(0,Y._K)(r.ID,r);const x=Y._l.bindToContribution(r.get);(0,Y.fK)(new x({id:"jumpToNextSnippetPlaceholder",precondition:P.Ao.and(r.InSnippetMode,r.HasNextTabstop),handler:w=>w.next(),kbOpts:{weight:130,kbExpr:y.u.editorTextFocus,primary:2}})),(0,Y.fK)(new x({id:"jumpToPrevSnippetPlaceholder",precondition:P.Ao.and(r.InSnippetMode,r.HasPrevTabstop),handler:w=>w.prev(),kbOpts:{weight:130,kbExpr:y.u.editorTextFocus,primary:1026}})),(0,Y.fK)(new x({id:"leaveSnippet",precondition:r.InSnippetMode,handler:w=>w.cancel(!0),kbOpts:{weight:130,kbExpr:y.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,Y.fK)(new x({id:"acceptSnippet",precondition:r.InSnippetMode,handler:w=>w.finish()}))},63472:function(Yt,Ue,c){"use strict";c.d(Ue,{Lv:function(){return J},Vm:function(){return y},Yj:function(){return C},xv:function(){return Q}});class g{constructor(){this.value="",this.pos=0}static isDigitCharacter(r){return r>=48&&r<=57}static isVariableCharacter(r){return r===95||r>=97&&r<=122||r>=65&&r<=90}text(r){this.value=r,this.pos=0}tokenText(r){return this.value.substr(r.pos,r.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let r=this.pos,x=0,w=this.value.charCodeAt(r),D;if(D=g._table[w],typeof D=="number")return this.pos+=1,{type:D,pos:r,len:1};if(g.isDigitCharacter(w)){D=8;do x+=1,w=this.value.charCodeAt(r+x);while(g.isDigitCharacter(w));return this.pos+=x,{type:D,pos:r,len:x}}if(g.isVariableCharacter(w)){D=9;do w=this.value.charCodeAt(r+ ++x);while(g.isVariableCharacter(w)||g.isDigitCharacter(w));return this.pos+=x,{type:D,pos:r,len:x}}D=10;do x+=1,w=this.value.charCodeAt(r+x);while(!isNaN(w)&&typeof g._table[w]=="undefined"&&!g.isDigitCharacter(w)&&!g.isVariableCharacter(w));return this.pos+=x,{type:D,pos:r,len:x}}}g._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class Y{constructor(){this._children=[]}appendChild(r){return r instanceof Q&&this._children[this._children.length-1]instanceof Q?this._children[this._children.length-1].value+=r.value:(r.parent=this,this._children.push(r)),this}replace(r,x){const{parent:w}=r,D=w.children.indexOf(r),f=w.children.slice(0);f.splice(D,1,...x),w._children=f,function v(L,h){for(const R of L)R.parent=h,v(R.children,R)}(x,w)}get children(){return this._children}get snippet(){let r=this;for(;;){if(!r)return;if(r instanceof m)return r;r=r.parent}}toString(){return this.children.reduce((r,x)=>r+x.toString(),"")}len(){return 0}}class Q extends Y{constructor(r){super(),this.value=r}toString(){return this.value}len(){return this.value.length}clone(){return new Q(this.value)}}class O extends Y{}class y extends O{constructor(r){super(),this.index=r}static compareByIndex(r,x){return r.index===x.index?0:r.isFinalTabstop?1:x.isFinalTabstop||r.index<x.index?-1:r.index>x.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof J?this._children[0]:void 0}clone(){let r=new y(this.index);return this.transform&&(r.transform=this.transform.clone()),r._children=this.children.map(x=>x.clone()),r}}class J extends Y{constructor(){super(...arguments),this.options=[]}appendChild(r){return r instanceof Q&&(r.parent=this,this.options.push(r)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let r=new J;return this.options.forEach(r.appendChild,r),r}}class k extends Y{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(r){const x=this;let w=!1,D=r.replace(this.regexp,function(){return w=!0,x._replace(Array.prototype.slice.call(arguments,0,-2))});return!w&&this._children.some(f=>f instanceof P&&!!f.elseValue)&&(D=this._replace([])),D}_replace(r){let x="";for(const w of this._children)if(w instanceof P){let D=r[w.index]||"";D=w.resolve(D),x+=D}else x+=w.toString();return x}toString(){return""}clone(){let r=new k;return r.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),r._children=this.children.map(x=>x.clone()),r}}class P extends Y{constructor(r,x,w,D){super(),this.index=r,this.shorthandName=x,this.ifValue=w,this.elseValue=D}resolve(r){return this.shorthandName==="upcase"?r?r.toLocaleUpperCase():"":this.shorthandName==="downcase"?r?r.toLocaleLowerCase():"":this.shorthandName==="capitalize"?r?r[0].toLocaleUpperCase()+r.substr(1):"":this.shorthandName==="pascalcase"?r?this._toPascalCase(r):"":this.shorthandName==="camelcase"?r?this._toCamelCase(r):"":r&&typeof this.ifValue=="string"?this.ifValue:!r&&typeof this.elseValue=="string"?this.elseValue:r||""}_toPascalCase(r){const x=r.match(/[a-z0-9]+/gi);return x?x.map(w=>w.charAt(0).toUpperCase()+w.substr(1).toLowerCase()).join(""):r}_toCamelCase(r){const x=r.match(/[a-z0-9]+/gi);return x?x.map((w,D)=>D===0?w.toLowerCase():w.charAt(0).toUpperCase()+w.substr(1).toLowerCase()).join(""):r}clone(){return new P(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class s extends O{constructor(r){super(),this.name=r}resolve(r){let x=r.resolve(this);return this.transform&&(x=this.transform.resolve(x||"")),x!==void 0?(this._children=[new Q(x)],!0):!1}clone(){const r=new s(this.name);return this.transform&&(r.transform=this.transform.clone()),r._children=this.children.map(x=>x.clone()),r}}function I(V,r){const x=[...V];for(;x.length>0;){const w=x.shift();if(!r(w))break;x.unshift(...w.children)}}class m extends Y{get placeholderInfo(){if(!this._placeholders){let r=[],x;this.walk(function(w){return w instanceof y&&(r.push(w),x=!x||x.index<w.index?w:x),!0}),this._placeholders={all:r,last:x}}return this._placeholders}get placeholders(){const{all:r}=this.placeholderInfo;return r}offset(r){let x=0,w=!1;return this.walk(D=>D===r?(w=!0,!1):(x+=D.len(),!0)),w?x:-1}fullLen(r){let x=0;return I([r],w=>(x+=w.len(),!0)),x}enclosingPlaceholders(r){let x=[],{parent:w}=r;for(;w;)w instanceof y&&x.push(w),w=w.parent;return x}resolveVariables(r){return this.walk(x=>(x instanceof s&&x.resolve(r)&&(this._placeholders=void 0),!0)),this}appendChild(r){return this._placeholders=void 0,super.appendChild(r)}replace(r,x){return this._placeholders=void 0,super.replace(r,x)}clone(){let r=new m;return this._children=this.children.map(x=>x.clone()),r}walk(r){I(this.children,r)}}class C{constructor(){this._scanner=new g,this._token={type:14,pos:0,len:0}}static escape(r){return r.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(r){return/\${?CLIPBOARD/.test(r)}parse(r,x,w){this._scanner.text(r),this._token=this._scanner.next();const D=new m;for(;this._parse(D););const f=new Map,v=[];let L=0;D.walk(h=>(h instanceof y&&(L+=1,h.isFinalTabstop?f.set(0,void 0):!f.has(h.index)&&h.children.length>0?f.set(h.index,h.children):v.push(h)),!0));for(const h of v){const R=f.get(h.index);if(R){const T=new y(h.index);T.transform=h.transform;for(const W of R)T.appendChild(W.clone());D.replace(h,[T])}}return w||(w=L>0&&x),!f.has(0)&&w&&D.appendChild(new y(0)),D}_accept(r,x){if(r===void 0||this._token.type===r){let w=x?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),w}return!1}_backTo(r){return this._scanner.pos=r.pos+r.len,this._token=r,!1}_until(r){const x=this._token;for(;this._token.type!==r;){if(this._token.type===14)return!1;if(this._token.type===5){const D=this._scanner.next();if(D.type!==0&&D.type!==4&&D.type!==5)return!1}this._token=this._scanner.next()}const w=this._scanner.value.substring(x.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),w}_parse(r){return this._parseEscaped(r)||this._parseTabstopOrVariableName(r)||this._parseComplexPlaceholder(r)||this._parseComplexVariable(r)||this._parseAnything(r)}_parseEscaped(r){let x;return(x=this._accept(5,!0))?(x=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||x,r.appendChild(new Q(x)),!0):!1}_parseTabstopOrVariableName(r){let x;const w=this._token;return this._accept(0)&&(x=this._accept(9,!0)||this._accept(8,!0))?(r.appendChild(/^\d+$/.test(x)?new y(Number(x)):new s(x)),!0):this._backTo(w)}_parseComplexPlaceholder(r){let x;const w=this._token;if(!(this._accept(0)&&this._accept(3)&&(x=this._accept(8,!0))))return this._backTo(w);const f=new y(Number(x));if(this._accept(1))for(;;){if(this._accept(4))return r.appendChild(f),!0;if(!this._parse(f))return r.appendChild(new Q("${"+x+":")),f.children.forEach(r.appendChild,r),!0}else if(f.index>0&&this._accept(7)){const v=new J;for(;;){if(this._parseChoiceElement(v)){if(this._accept(2))continue;if(this._accept(7)&&(f.appendChild(v),this._accept(4)))return r.appendChild(f),!0}return this._backTo(w),!1}}else return this._accept(6)?this._parseTransform(f)?(r.appendChild(f),!0):(this._backTo(w),!1):this._accept(4)?(r.appendChild(f),!0):this._backTo(w)}_parseChoiceElement(r){const x=this._token,w=[];for(;!(this._token.type===2||this._token.type===7);){let D;if((D=this._accept(5,!0))?D=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||D:D=this._accept(void 0,!0),!D)return this._backTo(x),!1;w.push(D)}return w.length===0?(this._backTo(x),!1):(r.appendChild(new Q(w.join(""))),!0)}_parseComplexVariable(r){let x;const w=this._token;if(!(this._accept(0)&&this._accept(3)&&(x=this._accept(9,!0))))return this._backTo(w);const f=new s(x);if(this._accept(1))for(;;){if(this._accept(4))return r.appendChild(f),!0;if(!this._parse(f))return r.appendChild(new Q("${"+x+":")),f.children.forEach(r.appendChild,r),!0}else return this._accept(6)?this._parseTransform(f)?(r.appendChild(f),!0):(this._backTo(w),!1):this._accept(4)?(r.appendChild(f),!0):this._backTo(w)}_parseTransform(r){let x=new k,w="",D="";for(;!this._accept(6);){let f;if(f=this._accept(5,!0)){f=this._accept(6,!0)||f,w+=f;continue}if(this._token.type!==14){w+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let f;if(f=this._accept(5,!0)){f=this._accept(5,!0)||this._accept(6,!0)||f,x.appendChild(new Q(f));continue}if(!(this._parseFormatString(x)||this._parseAnything(x)))return!1}for(;!this._accept(4);){if(this._token.type!==14){D+=this._accept(void 0,!0);continue}return!1}try{x.regexp=new RegExp(w,D)}catch(f){return!1}return r.transform=x,!0}_parseFormatString(r){const x=this._token;if(!this._accept(0))return!1;let w=!1;this._accept(3)&&(w=!0);let D=this._accept(8,!0);if(D)if(w){if(this._accept(4))return r.appendChild(new P(Number(D))),!0;if(!this._accept(1))return this._backTo(x),!1}else return r.appendChild(new P(Number(D))),!0;else return this._backTo(x),!1;if(this._accept(6)){let f=this._accept(9,!0);return!f||!this._accept(4)?(this._backTo(x),!1):(r.appendChild(new P(Number(D),f)),!0)}else if(this._accept(11)){let f=this._until(4);if(f)return r.appendChild(new P(Number(D),void 0,f,void 0)),!0}else if(this._accept(12)){let f=this._until(4);if(f)return r.appendChild(new P(Number(D),void 0,void 0,f)),!0}else if(this._accept(13)){let f=this._until(1);if(f){let v=this._until(4);if(v)return r.appendChild(new P(Number(D),void 0,f,v)),!0}}else{let f=this._until(4);if(f)return r.appendChild(new P(Number(D),void 0,void 0,f)),!0}return this._backTo(x),!1}_parseAnything(r){return this._token.type!==14?(r.appendChild(new Q(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}},44951:function(Yt,Ue,c){"use strict";c.d(Ue,{l:function(){return p}});var g=c(9488),Y=c(5976),Q=c(97295),O=c(69386),y=c(24314),J=c(3860),k=c(24979),P=c(44349),s=c(73910),I=c(97781),m=c(40382),C=c(63472),V=c(68843),r=c(55336),x=c(95935);const w=new Uint8Array(16),D=[];for(let S=0;S<256;S++)D.push(S.toString(16).padStart(2,"0"));let f;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?f=crypto.getRandomValues.bind(crypto):f=function(S){for(let B=0;B<S.length;B++)S[B]=Math.floor(Math.random()*256);return S};function v(){f(w),w[6]=w[6]&15|64,w[8]=w[8]&63|128;let S=0,B="";return B+=D[w[S++]],B+=D[w[S++]],B+=D[w[S++]],B+=D[w[S++]],B+="-",B+=D[w[S++]],B+=D[w[S++]],B+="-",B+=D[w[S++]],B+=D[w[S++]],B+="-",B+=D[w[S++]],B+=D[w[S++]],B+="-",B+=D[w[S++]],B+=D[w[S++]],B+=D[w[S++]],B+=D[w[S++]],B+=D[w[S++]],B+=D[w[S++]],B}var L=c(94660),h=c(63580),R=c(70666);const T="code-workspace";function W(S){const B=S;return typeof(B==null?void 0:B.id)=="string"&&R.o.isUri(B.uri)}function K(S){if(S.configuration)return{id:S.id,configPath:S.configuration};if(S.folders.length===1)return{id:S.id,uri:S.folders[0].uri}}class ie{constructor(B){this._delegates=B}resolve(B){for(const te of this._delegates){let me=te.resolve(B);if(me!==void 0)return me}}}class ce{constructor(B,te,me,de){this._model=B,this._selection=te,this._selectionIdx=me,this._overtypingCapturer=de}resolve(B){const{name:te}=B;if(te==="SELECTION"||te==="TM_SELECTED_TEXT"){let me=this._model.getValueInRange(this._selection)||void 0,de=this._selection.startLineNumber!==this._selection.endLineNumber;if(!me&&this._overtypingCapturer){const Pe=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);Pe&&(me=Pe.value,de=Pe.multiline)}if(me&&de&&B.snippet){const Pe=this._model.getLineContent(this._selection.startLineNumber),Me=(0,Q.V8)(Pe,0,this._selection.startColumn-1);let nt=Me;B.snippet.walk(ht=>ht===B?!1:(ht instanceof C.xv&&(nt=(0,Q.V8)((0,Q.uq)(ht.value).pop())),!0));const It=(0,Q.Mh)(nt,Me);me=me.replace(/(\r\n|\r|\n)(.*)/g,(ht,Mt,it)=>`${Mt}${nt.substr(It)}${it}`)}return me}else{if(te==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(te==="TM_CURRENT_WORD"){const me=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return me&&me.word||void 0}else{if(te==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(te==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}class _e{constructor(B,te){this._labelService=B,this._model=te}resolve(B){const{name:te}=B;if(te==="TM_FILENAME")return r.EZ(this._model.uri.fsPath);if(te==="TM_FILENAME_BASE"){const me=r.EZ(this._model.uri.fsPath),de=me.lastIndexOf(".");return de<=0?me:me.slice(0,de)}else{if(te==="TM_DIRECTORY")return r.XX(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,x.XX)(this._model.uri));if(te==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(te==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class ve{constructor(B,te,me,de){this._readClipboardText=B,this._selectionIdx=te,this._selectionCount=me,this._spread=de}resolve(B){if(B.name!=="CLIPBOARD")return;const te=this._readClipboardText();if(te){if(this._spread){const me=te.split(/\r\n|\n|\r/).filter(de=>!(0,Q.m5)(de));if(me.length===this._selectionCount)return me[this._selectionIdx]}return te}}}class De{constructor(B,te){this._model=B,this._selection=te}resolve(B){const{name:te}=B,me=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),de=L.zu.getComments(me);if(de){if(te==="LINE_COMMENT")return de.lineCommentToken||void 0;if(te==="BLOCK_COMMENT_START")return de.blockCommentStartToken||void 0;if(te==="BLOCK_COMMENT_END")return de.blockCommentEndToken||void 0}}}class le{constructor(){this._date=new Date}resolve(B){const{name:te}=B;if(te==="CURRENT_YEAR")return String(this._date.getFullYear());if(te==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(te==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(te==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(te==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(te==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(te==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(te==="CURRENT_DAY_NAME")return le.dayNames[this._date.getDay()];if(te==="CURRENT_DAY_NAME_SHORT")return le.dayNamesShort[this._date.getDay()];if(te==="CURRENT_MONTH_NAME")return le.monthNames[this._date.getMonth()];if(te==="CURRENT_MONTH_NAME_SHORT")return le.monthNamesShort[this._date.getMonth()];if(te==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}le.dayNames=[h.N("Sunday","Sunday"),h.N("Monday","Monday"),h.N("Tuesday","Tuesday"),h.N("Wednesday","Wednesday"),h.N("Thursday","Thursday"),h.N("Friday","Friday"),h.N("Saturday","Saturday")],le.dayNamesShort=[h.N("SundayShort","Sun"),h.N("MondayShort","Mon"),h.N("TuesdayShort","Tue"),h.N("WednesdayShort","Wed"),h.N("ThursdayShort","Thu"),h.N("FridayShort","Fri"),h.N("SaturdayShort","Sat")],le.monthNames=[h.N("January","January"),h.N("February","February"),h.N("March","March"),h.N("April","April"),h.N("May","May"),h.N("June","June"),h.N("July","July"),h.N("August","August"),h.N("September","September"),h.N("October","October"),h.N("November","November"),h.N("December","December")],le.monthNamesShort=[h.N("JanuaryShort","Jan"),h.N("FebruaryShort","Feb"),h.N("MarchShort","Mar"),h.N("AprilShort","Apr"),h.N("MayShort","May"),h.N("JuneShort","Jun"),h.N("JulyShort","Jul"),h.N("AugustShort","Aug"),h.N("SeptemberShort","Sep"),h.N("OctoberShort","Oct"),h.N("NovemberShort","Nov"),h.N("DecemberShort","Dec")];class Z{constructor(B){this._workspaceService=B}resolve(B){if(!this._workspaceService)return;const te=K(this._workspaceService.getWorkspace());if(te){if(B.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(te);if(B.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(te)}}_resolveWorkspaceName(B){if(W(B))return r.EZ(B.uri.path);let te=r.EZ(B.configPath.path);return te.endsWith(T)&&(te=te.substr(0,te.length-T.length-1)),te}_resoveWorkspacePath(B){if(W(B))return(0,V.D)(B.uri.fsPath);let te=r.EZ(B.configPath.path),me=B.configPath.fsPath;return me.endsWith(te)&&(me=me.substr(0,me.length-te.length-1)),me?(0,V.D)(me):"/"}}class ${resolve(B){const{name:te}=B;if(te==="RANDOM")return Math.random().toString().slice(-6);if(te==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(te==="UUID")return v()}}(0,I.Ic)((S,B)=>{function te(me){const de=S.getColor(me);return de?de.toString():"transparent"}B.addRule(`.monaco-editor .snippet-placeholder { background-color: ${te(s.u2)}; outline-color: ${te(s.Pk)}; }`),B.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${te(s.I1)}; outline-color: ${te(s.U6)}; }`)});class G{constructor(B,te,me,de){this._editor=B,this._snippet=te,this._offset=me,this._snippetLineLeadingWhitespace=de,this._nestingLevel=1,this._placeholderGroups=(0,g.vM)(te.placeholders,C.Vm.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const B=this._editor.getModel();this._editor.changeDecorations(te=>{for(const me of this._snippet.placeholders){const de=this._snippet.offset(me),Pe=this._snippet.fullLen(me),Me=y.e.fromPositions(B.getPositionAt(this._offset+de),B.getPositionAt(this._offset+de+Pe)),nt=me.isFinalTabstop?G._decor.inactiveFinal:G._decor.inactive,It=te.addDecoration(Me,nt);this._placeholderDecorations.set(me,It)}})}move(B){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let de=[];for(const Pe of this._placeholderGroups[this._placeholderGroupsIdx])if(Pe.transform){const Me=this._placeholderDecorations.get(Pe),nt=this._editor.getModel().getDecorationRange(Me),It=this._editor.getModel().getValueInRange(nt),ht=Pe.transform.resolve(It).split(/\r\n|\r|\n/);for(let Mt=1;Mt<ht.length;Mt++)ht[Mt]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+ht[Mt]);de.push(O.h.replace(nt,ht.join(this._editor.getModel().getEOL())))}de.length>0&&this._editor.executeEdits("snippet.placeholderTransform",de)}let te=!1;B===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,te=!0):B===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,te=!0);const me=this._editor.getModel().changeDecorations(de=>{const Pe=new Set,Me=[];for(const nt of this._placeholderGroups[this._placeholderGroupsIdx]){const It=this._placeholderDecorations.get(nt),ht=this._editor.getModel().getDecorationRange(It);Me.push(new J.Y(ht.startLineNumber,ht.startColumn,ht.endLineNumber,ht.endColumn)),te=te&&this._hasPlaceholderBeenCollapsed(nt),de.changeDecorationOptions(It,nt.isFinalTabstop?G._decor.activeFinal:G._decor.active),Pe.add(nt);for(const Mt of this._snippet.enclosingPlaceholders(nt)){const it=this._placeholderDecorations.get(Mt);de.changeDecorationOptions(it,Mt.isFinalTabstop?G._decor.activeFinal:G._decor.active),Pe.add(Mt)}}for(const[nt,It]of this._placeholderDecorations)Pe.has(nt)||de.changeDecorationOptions(It,nt.isFinalTabstop?G._decor.inactiveFinal:G._decor.inactive);return Me});return te?this.move(B):me!=null?me:[]}_hasPlaceholderBeenCollapsed(B){let te=B;for(;te;){if(te instanceof C.Vm){const me=this._placeholderDecorations.get(te);if(this._editor.getModel().getDecorationRange(me).isEmpty()&&te.toString().length>0)return!0}te=te.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const B=new Map;for(const te of this._placeholderGroups){let me;for(const de of te){if(de.isFinalTabstop)break;me||(me=[],B.set(de.index,me));const Pe=this._placeholderDecorations.get(de),Me=this._editor.getModel().getDecorationRange(Pe);if(!Me){B.delete(de.index);break}me.push(Me)}}return B}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(B){const te=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(me=>{for(const de of this._placeholderGroups[this._placeholderGroupsIdx]){const Pe=B.shift();console.assert(!Pe._placeholderDecorations);const Me=Pe._snippet.placeholderInfo.last.index;for(const It of Pe._snippet.placeholderInfo.all)It.isFinalTabstop?It.index=de.index+(Me+1)/this._nestingLevel:It.index=de.index+It.index/this._nestingLevel;this._snippet.replace(de,Pe._snippet.children);const nt=this._placeholderDecorations.get(de);me.removeDecoration(nt),this._placeholderDecorations.delete(de);for(const It of Pe._snippet.placeholders){const ht=Pe._snippet.offset(It),Mt=Pe._snippet.fullLen(It),it=y.e.fromPositions(te.getPositionAt(Pe._offset+ht),te.getPositionAt(Pe._offset+ht+Mt)),kt=me.addDecoration(it,G._decor.inactive);this._placeholderDecorations.set(It,kt)}}this._placeholderGroups=(0,g.vM)(this._snippet.placeholders,C.Vm.compareByIndex)})}}G._decor={active:k.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:k.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:k.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:k.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const q={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class p{constructor(B,te,me=q){this._templateMerges=[],this._snippets=[],this._editor=B,this._template=te,this._options=me}static adjustWhitespace(B,te,me,de,Pe){const Me=B.getLineContent(te.lineNumber),nt=(0,Q.V8)(Me,0,te.column-1);let It;return me.walk(ht=>{if(!(ht instanceof C.xv)||ht.parent instanceof C.Lv)return!0;const Mt=ht.value.split(/\r\n|\r|\n/);if(de){const kt=me.offset(ht);if(kt===0)Mt[0]=B.normalizeIndentation(Mt[0]);else{It=It!=null?It:me.toString();let ze=It.charCodeAt(kt-1);(ze===10||ze===13)&&(Mt[0]=B.normalizeIndentation(nt+Mt[0]))}for(let ze=1;ze<Mt.length;ze++)Mt[ze]=B.normalizeIndentation(nt+Mt[ze])}const it=Mt.join(B.getEOL());return it!==ht.value&&(ht.parent.replace(ht,[new C.xv(it)]),It=void 0),!0}),nt}static adjustSelection(B,te,me,de){if(me!==0||de!==0){const{positionLineNumber:Pe,positionColumn:Me}=te,nt=Me-me,It=Me+de,ht=B.validateRange({startLineNumber:Pe,startColumn:nt,endLineNumber:Pe,endColumn:It});te=J.Y.createWithDirection(ht.startLineNumber,ht.startColumn,ht.endLineNumber,ht.endColumn,te.getDirection())}return te}static createEditsAndSnippets(B,te,me,de,Pe,Me,nt,It){const ht=[],Mt=[];if(!B.hasModel())return{edits:ht,snippets:Mt};const it=B.getModel(),kt=B.invokeWithinContext(Oe=>Oe.get(m.ec)),ze=B.invokeWithinContext(Oe=>new _e(Oe.get(P.e),it)),he=()=>nt;let ke=0,et=it.getValueInRange(p.adjustSelection(it,B.getSelection(),me,0)),at=it.getValueInRange(p.adjustSelection(it,B.getSelection(),0,de)),rt=it.getLineFirstNonWhitespaceColumn(B.getSelection().positionLineNumber);const Ne=B.getSelections().map((Oe,we)=>({selection:Oe,idx:we})).sort((Oe,we)=>y.e.compareRangesUsingStarts(Oe.selection,we.selection));for(const{selection:Oe,idx:we}of Ne){let Ye=p.adjustSelection(it,Oe,me,0),st=p.adjustSelection(it,Oe,0,de);et!==it.getValueInRange(Ye)&&(Ye=Oe),at!==it.getValueInRange(st)&&(st=Oe);const Pt=Oe.setStartPosition(Ye.startLineNumber,Ye.startColumn).setEndPosition(st.endLineNumber,st.endColumn),Qt=new C.Yj().parse(te,!0,Pe),ci=Pt.getStartPosition(),Gt=p.adjustWhitespace(it,ci,Qt,Me||we>0&&rt!==it.getLineFirstNonWhitespaceColumn(Oe.positionLineNumber),!0);Qt.resolveVariables(new ie([ze,new ve(he,we,Ne.length,B.getOption(70)==="spread"),new ce(it,Oe,we,It),new De(it,Oe),new le,new Z(kt),new $]));const Lt=it.getOffsetAt(ci)+ke;ke+=Qt.toString().length-it.getValueLengthInRange(Pt),ht[we]=O.h.replace(Pt,Qt.toString()),ht[we].identifier={major:we,minor:0},Mt[we]=new G(B,Qt,Lt,Gt)}return{edits:ht,snippets:Mt}}dispose(){(0,Y.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:B,snippets:te}=p.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=te,this._editor.executeEdits("snippet",B,me=>this._snippets[0].hasPlaceholder?this._move(!0):me.filter(de=>!!de.identifier).map(de=>J.Y.fromPositions(de.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(B,te=q){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,B]);const{edits:me,snippets:de}=p.createEditsAndSnippets(this._editor,B,te.overwriteBefore,te.overwriteAfter,!0,te.adjustWhitespace,te.clipboardText,te.overtypingCapturer);this._editor.executeEdits("snippet",me,Pe=>{for(const Me of this._snippets)Me.merge(de);return console.assert(de.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):Pe.filter(Me=>!!Me.identifier).map(Me=>J.Y.fromPositions(Me.range.getEndPosition()))})}next(){const B=this._move(!0);this._editor.setSelections(B),this._editor.revealPositionInCenterIfOutsideViewport(B[0].getPosition())}prev(){const B=this._move(!1);this._editor.setSelections(B),this._editor.revealPositionInCenterIfOutsideViewport(B[0].getPosition())}_move(B){const te=[];for(const me of this._snippets){const de=me.move(B);te.push(...de)}return te}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const B=this._editor.getSelections();if(B.length<this._snippets.length)return!1;let te=new Map;for(const me of this._snippets){const de=me.computePossibleSelections();if(te.size===0)for(const[Pe,Me]of de){Me.sort(y.e.compareRangesUsingStarts);for(const nt of B)if(Me[0].containsRange(nt)){te.set(Pe,[]);break}}if(te.size===0)return!1;te.forEach((Pe,Me)=>{Pe.push(...de.get(Me))})}B.sort(y.e.compareRangesUsingStarts);for(let[me,de]of te){if(de.length!==B.length){te.delete(me);continue}de.sort(y.e.compareRangesUsingStarts);for(let Pe=0;Pe<de.length;Pe++)if(!de[Pe].containsRange(B[Pe])){te.delete(me);continue}}return te.size>0}}},79599:function(Yt,Ue,c){"use strict";c.d(Ue,{A9:function(){return h},GI:function(){return v},ZJ:function(){return T},_y:function(){return f},i5:function(){return Z},kL:function(){return K},wg:function(){return De}});var g=c(71050),Y=c(17301),Q=c(75392),O=c(5976),y=c(84013),J=c(98401),k=c(70666),P=c(50187),s=c(24314),I=c(10351),m=c(88216),C=c(63472),V=c(63580),r=c(84144),x=c(94565),w=c(38819),D=function($,G,q,p){function S(B){return B instanceof q?B:new q(function(te){te(B)})}return new(q||(q=Promise))(function(B,te){function me(Me){try{Pe(p.next(Me))}catch(nt){te(nt)}}function de(Me){try{Pe(p.throw(Me))}catch(nt){te(nt)}}function Pe(Me){Me.done?B(Me.value):S(Me.value).then(me,de)}Pe((p=p.apply($,G||[])).next())})};const f={Visible:new w.uy("suggestWidgetVisible",!1,(0,V.N)("suggestWidgetVisible","Whether suggestion are visible")),DetailsVisible:new w.uy("suggestWidgetDetailsVisible",!1,(0,V.N)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new w.uy("suggestWidgetMultipleSuggestions",!1,(0,V.N)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new w.uy("suggestionMakesTextEdit",!0,(0,V.N)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new w.uy("acceptSuggestionOnEnter",!0,(0,V.N)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new w.uy("suggestionHasInsertAndReplaceRange",!1,(0,V.N)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new w.uy("suggestionInsertMode",void 0,{type:"string",description:(0,V.N)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new w.uy("suggestionCanResolve",!1,(0,V.N)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},v=new r.eH("suggestWidgetStatusBar");class L{constructor(G,q,p,S){this.position=G,this.completion=q,this.container=p,this.provider=S,this.isInvalid=!1,this.score=Q.CL.Default,this.distance=0,this.textLabel=typeof q.label=="string"?q.label:q.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=q.sortText&&q.sortText.toLowerCase(),this.filterTextLow=q.filterText&&q.filterText.toLowerCase(),s.e.isIRange(q.range)?(this.editStart=new P.L(q.range.startLineNumber,q.range.startColumn),this.editInsertEnd=new P.L(q.range.endLineNumber,q.range.endColumn),this.editReplaceEnd=new P.L(q.range.endLineNumber,q.range.endColumn),this.isInvalid=this.isInvalid||s.e.spansMultipleLines(q.range)||q.range.startLineNumber!==G.lineNumber):(this.editStart=new P.L(q.range.insert.startLineNumber,q.range.insert.startColumn),this.editInsertEnd=new P.L(q.range.insert.endLineNumber,q.range.insert.endColumn),this.editReplaceEnd=new P.L(q.range.replace.endLineNumber,q.range.replace.endColumn),this.isInvalid=this.isInvalid||s.e.spansMultipleLines(q.range.insert)||s.e.spansMultipleLines(q.range.replace)||q.range.insert.startLineNumber!==G.lineNumber||q.range.replace.startLineNumber!==G.lineNumber||q.range.insert.startColumn!==q.range.replace.startColumn),typeof S.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(G){return D(this,void 0,void 0,function*(){if(!this._resolveCache){const q=G.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,G)).then(p=>{Object.assign(this.completion,p),this._isResolved=!0,q.dispose()},p=>{(0,Y.VV)(p)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class h{constructor(G=2,q=new Set,p=new Set,S=!0){this.snippetSortOrder=G,this.kindFilter=q,this.providerFilter=p,this.showDeprecated=S}}h.default=new h;let R;function T(){return R}class W{constructor(G,q,p,S){this.items=G,this.needsClipboard=q,this.durations=p,this.disposable=S}}function K($,G,q=h.default,p={triggerKind:0},S=g.T.None){return D(this,void 0,void 0,function*(){const B=new y.G(!0);G=G.clone();const te=$.getWordAtPosition(G),me=te?new s.e(G.lineNumber,te.startColumn,G.lineNumber,te.endColumn):s.e.fromPositions(G),de={replace:me,insert:me.setEndPosition(G.lineNumber,G.column)},Pe=[],Me=new O.SL,nt=[];let It=!1;const ht=(it,kt,ze)=>{var he,ke,et;if(kt){for(let at of kt.suggestions)if(!q.kindFilter.has(at.kind)){if(!q.showDeprecated&&(!((he=at==null?void 0:at.tags)===null||he===void 0)&&he.includes(1)))continue;at.range||(at.range=de),at.sortText||(at.sortText=typeof at.label=="string"?at.label:at.label.label),!It&&at.insertTextRules&&at.insertTextRules&4&&(It=C.Yj.guessNeedsClipboard(at.insertText)),Pe.push(new L(G,at,kt,it))}(0,O.Wf)(kt)&&Me.add(kt),nt.push({providerName:(ke=it._debugDisplayName)!==null&&ke!==void 0?ke:"unkown_provider",elapsedProvider:(et=kt.duration)!==null&&et!==void 0?et:-1,elapsedOverall:ze.elapsed()})}},Mt=D(this,void 0,void 0,function*(){if(!R||q.kindFilter.has(27)||q.providerFilter.size>0&&!q.providerFilter.has(R))return;const it=new y.G(!0),kt=yield R.provideCompletionItems($,G,p,S);ht(R,kt,it)});for(let it of I.KZ.orderedGroups($)){let kt=Pe.length;if(yield Promise.all(it.map(ze=>D(this,void 0,void 0,function*(){if(!(q.providerFilter.size>0&&!q.providerFilter.has(ze)))try{const he=new y.G(!0),ke=yield ze.provideCompletionItems($,G,p,S);ht(ze,ke,he)}catch(he){(0,Y.Cp)(he)}}))),kt!==Pe.length||S.isCancellationRequested)break}return yield Mt,S.isCancellationRequested?(Me.dispose(),Promise.reject((0,Y.F0)())):new W(Pe.sort(De(q.snippetSortOrder)),It,{entries:nt,elapsed:B.elapsed()},Me)})}function ie($,G){if($.sortTextLow&&G.sortTextLow){if($.sortTextLow<G.sortTextLow)return-1;if($.sortTextLow>G.sortTextLow)return 1}return $.completion.label<G.completion.label?-1:$.completion.label>G.completion.label?1:$.completion.kind-G.completion.kind}function ce($,G){if($.completion.kind!==G.completion.kind){if($.completion.kind===27)return-1;if(G.completion.kind===27)return 1}return ie($,G)}function _e($,G){if($.completion.kind!==G.completion.kind){if($.completion.kind===27)return 1;if(G.completion.kind===27)return-1}return ie($,G)}const ve=new Map;ve.set(0,ce),ve.set(2,_e),ve.set(1,ie);function De($){return ve.get($)}x.P.registerCommand("_executeCompletionItemProvider",($,...G)=>D(void 0,void 0,void 0,function*(){const[q,p,S,B]=G;(0,J.p_)(k.o.isUri(q)),(0,J.p_)(P.L.isIPosition(p)),(0,J.p_)(typeof S=="string"||!S),(0,J.p_)(typeof B=="number"||!B);const te=yield $.get(m.S).createModelReference(q);try{const me={incomplete:!1,suggestions:[]},de=[],Pe=yield K(te.object.textEditorModel,P.L.lift(p),void 0,{triggerCharacter:S,triggerKind:S?1:0});for(const Me of Pe.items)de.length<(B!=null?B:0)&&de.push(Me.resolve(g.T.None)),me.incomplete=me.incomplete||Me.container.incomplete,me.suggestions.push(Me.completion);try{return yield Promise.all(de),me}finally{setTimeout(()=>Pe.disposable.dispose(),100)}}finally{te.dispose()}}));const le=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let G={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,G}};I.KZ.register("*",le);function Z($,G){setTimeout(()=>{le.onlyOnceSuggestions.push(...G),$.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(le))},0)}},73707:function(Yt,Ue,c){"use strict";c.r(Ue),c.d(Ue,{SuggestController:function(){return Qi},TriggerSuggestAction:function(){return ns}});var g=c(35996),Y=c(9488),Q=c(15393),O=c(71050),y=c(17301),J=c(4669),k=c(8313),P=c(5976),s=c(1432),I=c(84013),m=c(98401),C=c(55812),V=c(16830),r=c(69386),x=c(50187),w=c(24314),D=c(29102),f=c(22860),v=c(63472),L=c(43702),h=c(10351),R=c(33108),T=c(65026),W=c(72065),K=c(87060),ie=function(Ut,pe,Re,Ke){var _t=arguments.length,bt=_t<3?pe:Ke===null?Ke=Object.getOwnPropertyDescriptor(pe,Re):Ke,ti;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(Ut,pe,Re,Ke);else for(var Jt=Ut.length-1;Jt>=0;Jt--)(ti=Ut[Jt])&&(bt=(_t<3?ti(bt):_t>3?ti(pe,Re,bt):ti(pe,Re))||bt);return _t>3&&bt&&Object.defineProperty(pe,Re,bt),bt},ce=function(Ut,pe){return function(Re,Ke){pe(Re,Ke,Ut)}};class _e{constructor(pe){this.name=pe}select(pe,Re,Ke){if(Ke.length===0)return 0;let _t=Ke[0].score[0];for(let bt=0;bt<Ke.length;bt++){const{score:ti,completion:Jt}=Ke[bt];if(ti[0]!==_t)break;if(Jt.preselect)return bt}return 0}}class ve extends _e{constructor(){super("first")}memorize(pe,Re,Ke){}toJSON(){}fromJSON(){}}class De extends _e{constructor(){super("recentlyUsed"),this._cache=new L.z6(300,.66),this._seq=0}memorize(pe,Re,Ke){const _t=`${pe.getLanguageId()}/${Ke.textLabel}`;this._cache.set(_t,{touch:this._seq++,type:Ke.completion.kind,insertText:Ke.completion.insertText})}select(pe,Re,Ke){if(Ke.length===0)return 0;const _t=pe.getLineContent(Re.lineNumber).substr(Re.column-10,Re.column-1);if(/\s$/.test(_t))return super.select(pe,Re,Ke);let bt=Ke[0].score[0],ti=-1,Jt=-1,ln=-1;for(let An=0;An<Ke.length&&Ke[An].score[0]===bt;An++){const Pi=`${pe.getLanguageId()}/${Ke[An].textLabel}`,on=this._cache.peek(Pi);if(on&&on.touch>ln&&on.type===Ke[An].completion.kind&&on.insertText===Ke[An].completion.insertText&&(ln=on.touch,Jt=An),Ke[An].completion.preselect&&ti===-1)return ti=An}return Jt!==-1?Jt:ti!==-1?ti:0}toJSON(){return this._cache.toJSON()}fromJSON(pe){this._cache.clear();let Re=0;for(const[Ke,_t]of pe)_t.touch=Re,_t.type=typeof _t.type=="number"?_t.type:(0,h.jr)(_t.type),this._cache.set(Ke,_t);this._seq=this._cache.size}}class le extends _e{constructor(){super("recentlyUsedByPrefix"),this._trie=L.Id.forStrings(),this._seq=0}memorize(pe,Re,Ke){const{word:_t}=pe.getWordUntilPosition(Re),bt=`${pe.getLanguageId()}/${_t}`;this._trie.set(bt,{type:Ke.completion.kind,insertText:Ke.completion.insertText,touch:this._seq++})}select(pe,Re,Ke){let{word:_t}=pe.getWordUntilPosition(Re);if(!_t)return super.select(pe,Re,Ke);let bt=`${pe.getLanguageId()}/${_t}`,ti=this._trie.get(bt);if(ti||(ti=this._trie.findSubstr(bt)),ti)for(let Jt=0;Jt<Ke.length;Jt++){let{kind:ln,insertText:An}=Ke[Jt].completion;if(ln===ti.type&&An===ti.insertText)return Jt}return super.select(pe,Re,Ke)}toJSON(){let pe=[];return this._trie.forEach((Re,Ke)=>pe.push([Ke,Re])),pe.sort((Re,Ke)=>-(Re[1].touch-Ke[1].touch)).forEach((Re,Ke)=>Re[1].touch=Ke),pe.slice(0,200)}fromJSON(pe){if(this._trie.clear(),pe.length>0){this._seq=pe[0][1].touch+1;for(const[Re,Ke]of pe)Ke.type=typeof Ke.type=="number"?Ke.type:(0,h.jr)(Ke.type),this._trie.set(Re,Ke)}}}let Z=class Pl{constructor(pe,Re){this._storageService=pe,this._configService=Re,this._disposables=new P.SL,this._persistSoon=new Q.pY(()=>this._saveState(),500),this._disposables.add(pe.onWillSaveState(Ke=>{Ke.reason===K.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(pe,Re,Ke){this._withStrategy(pe,Re).memorize(pe,Re,Ke),this._persistSoon.schedule()}select(pe,Re,Ke){return this._withStrategy(pe,Re).select(pe,Re,Ke)}_withStrategy(pe,Re){var Ke;const _t=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:pe.getLanguageIdAtPosition(Re.lineNumber,Re.column),resource:pe.uri});if(((Ke=this._strategy)===null||Ke===void 0?void 0:Ke.name)!==_t){this._saveState();const bt=Pl._strategyCtors.get(_t)||ve;this._strategy=new bt;try{const Jt=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,ln=this._storageService.get(`${Pl._storagePrefix}/${_t}`,Jt);ln&&this._strategy.fromJSON(JSON.parse(ln))}catch(ti){}}return this._strategy}_saveState(){if(this._strategy){const Re=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,Ke=JSON.stringify(this._strategy);this._storageService.store(`${Pl._storagePrefix}/${this._strategy.name}`,Ke,Re,1)}}};Z._strategyCtors=new Map([["recentlyUsedByPrefix",le],["recentlyUsed",De],["first",ve]]),Z._storagePrefix="suggest/memories",Z=ie([ce(0,K.Uy),ce(1,R.Ui)],Z);const $=(0,W.yh)("ISuggestMemories");(0,T.z)($,Z,!0);var G=c(38819),q=function(Ut,pe,Re,Ke){var _t=arguments.length,bt=_t<3?pe:Ke===null?Ke=Object.getOwnPropertyDescriptor(pe,Re):Ke,ti;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(Ut,pe,Re,Ke);else for(var Jt=Ut.length-1;Jt>=0;Jt--)(ti=Ut[Jt])&&(bt=(_t<3?ti(bt):_t>3?ti(pe,Re,bt):ti(pe,Re))||bt);return _t>3&&bt&&Object.defineProperty(pe,Re,bt),bt},p=function(Ut,pe){return function(Re,Ke){pe(Re,Ke,Ut)}};let S=class Tu{constructor(pe,Re){this._editor=pe,this._enabled=!1,this._ckAtEnd=Tu.AtEnd.bindTo(Re),this._configListener=this._editor.onDidChangeConfiguration(Ke=>Ke.hasChanged(110)&&this._update()),this._update()}dispose(){var pe;this._configListener.dispose(),(pe=this._selectionListener)===null||pe===void 0||pe.dispose(),this._ckAtEnd.reset()}_update(){const pe=this._editor.getOption(110)==="on";if(this._enabled!==pe)if(this._enabled=pe,this._enabled){const Re=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const Ke=this._editor.getModel(),_t=this._editor.getSelection(),bt=Ke.getWordAtPosition(_t.getStartPosition());if(!bt){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(bt.endColumn===_t.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(Re),Re()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};S.AtEnd=new G.uy("atEndOfWord",!1),S=q([p(1,G.i6)],S);var B=c(63580),te=c(84144),me=c(94565),de=c(49989),Pe=c(43557),Me=c(79599),nt=function(Ut,pe,Re,Ke){var _t=arguments.length,bt=_t<3?pe:Ke===null?Ke=Object.getOwnPropertyDescriptor(pe,Re):Ke,ti;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(Ut,pe,Re,Ke);else for(var Jt=Ut.length-1;Jt>=0;Jt--)(ti=Ut[Jt])&&(bt=(_t<3?ti(bt):_t>3?ti(pe,Re,bt):ti(pe,Re))||bt);return _t>3&&bt&&Object.defineProperty(pe,Re,bt),bt},It=function(Ut,pe){return function(Re,Ke){pe(Re,Ke,Ut)}};let ht=class Fl{constructor(pe,Re){this._editor=pe,this._index=0,this._ckOtherSuggestions=Fl.OtherSuggestions.bindTo(Re)}dispose(){this.reset()}reset(){var pe;this._ckOtherSuggestions.reset(),(pe=this._listener)===null||pe===void 0||pe.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:pe,index:Re},Ke){if(pe.items.length===0){this.reset();return}if(Fl._moveIndex(!0,pe,Re)===Re){this.reset();return}this._acceptNext=Ke,this._model=pe,this._index=Re,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(pe,Re,Ke){let _t=Ke;for(;_t=(_t+Re.items.length+(pe?1:-1))%Re.items.length,!(_t===Ke||!Re.items[_t].completion.additionalTextEdits););return _t}next(){this._move(!0)}prev(){this._move(!1)}_move(pe){if(this._model)try{this._ignore=!0,this._index=Fl._moveIndex(pe,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};ht.OtherSuggestions=new G.uy("hasOtherSuggestions",!1),ht=nt([It(1,G.i6)],ht);var Mt=c(44906);class it{constructor(pe,Re,Ke){this._disposables=new P.SL,this._disposables.add(Re.onDidShow(()=>this._onItem(Re.getFocusedItem()))),this._disposables.add(Re.onDidFocus(this._onItem,this)),this._disposables.add(Re.onDidHide(this.reset,this)),this._disposables.add(pe.onWillType(_t=>{if(this._active&&!Re.isFrozen()){const bt=_t.charCodeAt(_t.length-1);this._active.acceptCharacters.has(bt)&&pe.getOption(0)&&Ke(this._active.item)}}))}_onItem(pe){if(!pe||!(0,Y.Of)(pe.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===pe.item)return;const Re=new Mt.q;for(const Ke of pe.item.completion.commitCharacters)Ke.length>0&&Re.add(Ke.charCodeAt(0));this._active={acceptCharacters:Re,item:pe}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var kt=c(97295),ze=c(3860),he=c(90469),ke=c(80689),et=function(Ut,pe,Re,Ke){function _t(bt){return bt instanceof Re?bt:new Re(function(ti){ti(bt)})}return new(Re||(Re=Promise))(function(bt,ti){function Jt(Pi){try{An(Ke.next(Pi))}catch(on){ti(on)}}function ln(Pi){try{An(Ke.throw(Pi))}catch(on){ti(on)}}function An(Pi){Pi.done?bt(Pi.value):_t(Pi.value).then(Jt,ln)}An((Ke=Ke.apply(Ut,pe||[])).next())})};class at{static create(pe,Re){return et(this,void 0,void 0,function*(){if(!Re.getOption(105).localityBonus||!Re.hasModel())return at.None;const Ke=Re.getModel(),_t=Re.getPosition();if(!pe.canComputeWordRanges(Ke.uri))return at.None;const[bt]=yield new ke.x().provideSelectionRanges(Ke,[_t]);if(bt.length===0)return at.None;const ti=yield pe.computeWordRanges(Ke.uri,bt[0].range);if(!ti)return at.None;const Jt=Ke.getWordUntilPosition(_t);return delete ti[Jt.word],new class extends at{distance(ln,An){if(!_t.equals(Re.getPosition()))return 0;if(An.kind===17)return 2<<20;let Pi=typeof An.label=="string"?An.label:An.label.label,on=ti[Pi];if((0,Y.XY)(on))return 2<<20;let Ln=(0,Y.ry)(on,w.e.fromPositions(ln),w.e.compareRangesUsingStarts),Ji=Ln>=0?on[Ln]:on[Math.max(0,~Ln-1)],Kt=bt.length;for(const Si of bt){if(!w.e.containsRange(Si.range,Ji))break;Kt-=1}return Kt}}})}}at.None=new class extends at{distance(){return 0}};var rt=c(84972),Ne=c(10829),Oe=c(75392);class we{constructor(pe,Re){this.leadingLineContent=pe,this.characterCountDelta=Re}}class Ye{constructor(pe,Re,Ke,_t,bt,ti,Jt){this.clipboardText=Jt,this._snippetCompareFn=Ye._compareCompletionItems,this._items=pe,this._column=Re,this._wordDistance=_t,this._options=bt,this._refilterKind=1,this._lineContext=Ke,ti==="top"?this._snippetCompareFn=Ye._compareCompletionItemsSnippetsUp:ti==="bottom"&&(this._snippetCompareFn=Ye._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(pe){(this._lineContext.leadingLineContent!==pe.leadingLineContent||this._lineContext.characterCountDelta!==pe.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<pe.characterCountDelta&&this._filteredItems?2:1,this._lineContext=pe)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const pe=new Set;for(let[Re,Ke]of this._providerInfo)Ke&&pe.add(Re);return pe}adopt(pe){let Re=[];for(let Ke=0;Ke<this._items.length;)pe.has(this._items[Ke].provider)?Ke++:(Re.push(this._items[Ke]),this._items[Ke]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,Re}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const pe=[],{leadingLineContent:Re,characterCountDelta:Ke}=this._lineContext;let _t="",bt="";const ti=this._refilterKind===1?this._items:this._filteredItems,Jt=[],ln=!this._options.filterGraceful||ti.length>2e3?Oe.EW:Oe.l7;for(let An=0;An<ti.length;An++){const Pi=ti[An];if(Pi.isInvalid)continue;this._providerInfo.set(Pi.provider,!!Pi.container.incomplete);const on=Pi.position.column-Pi.editStart.column,Ln=on+Ke-(Pi.position.column-this._column);if(_t.length!==Ln&&(_t=Ln===0?"":Re.slice(-Ln),bt=_t.toLowerCase()),Pi.word=_t,Ln===0)Pi.score=Oe.CL.Default;else{let Ji=0;for(;Ji<on;){const Kt=_t.charCodeAt(Ji);if(Kt===32||Kt===9)Ji+=1;else break}if(Ji>=Ln)Pi.score=Oe.CL.Default;else if(typeof Pi.completion.filterText=="string"){let Kt=ln(_t,bt,Ji,Pi.completion.filterText,Pi.filterTextLow,0,!1);if(!Kt)continue;(0,kt.zY)(Pi.completion.filterText,Pi.textLabel)===0?Pi.score=Kt:(Pi.score=(0,Oe.jB)(_t,bt,Ji,Pi.textLabel,Pi.labelLow,0),Pi.score[0]=Kt[0])}else{let Kt=ln(_t,bt,Ji,Pi.textLabel,Pi.labelLow,0,!1);if(!Kt)continue;Pi.score=Kt}}Pi.idx=An,Pi.distance=this._wordDistance.distance(Pi.position,Pi.completion),Jt.push(Pi),pe.push(Pi.textLabel.length)}this._filteredItems=Jt.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:pe.length?(0,Y.HW)(pe.length-.85,pe,(An,Pi)=>An-Pi):0}}static _compareCompletionItems(pe,Re){return pe.score[0]>Re.score[0]?-1:pe.score[0]<Re.score[0]?1:pe.distance<Re.distance?-1:pe.distance>Re.distance?1:pe.idx<Re.idx?-1:pe.idx>Re.idx?1:0}static _compareCompletionItemsSnippetsDown(pe,Re){if(pe.completion.kind!==Re.completion.kind){if(pe.completion.kind===27)return 1;if(Re.completion.kind===27)return-1}return Ye._compareCompletionItems(pe,Re)}static _compareCompletionItemsSnippetsUp(pe,Re){if(pe.completion.kind!==Re.completion.kind){if(pe.completion.kind===27)return-1;if(Re.completion.kind===27)return 1}return Ye._compareCompletionItems(pe,Re)}}var st=function(Ut,pe,Re,Ke){var _t=arguments.length,bt=_t<3?pe:Ke===null?Ke=Object.getOwnPropertyDescriptor(pe,Re):Ke,ti;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(Ut,pe,Re,Ke);else for(var Jt=Ut.length-1;Jt>=0;Jt--)(ti=Ut[Jt])&&(bt=(_t<3?ti(bt):_t>3?ti(pe,Re,bt):ti(pe,Re))||bt);return _t>3&&bt&&Object.defineProperty(pe,Re,bt),bt},Pt=function(Ut,pe){return function(Re,Ke){pe(Re,Ke,Ut)}},Qt=function(Ut,pe,Re,Ke){function _t(bt){return bt instanceof Re?bt:new Re(function(ti){ti(bt)})}return new(Re||(Re=Promise))(function(bt,ti){function Jt(Pi){try{An(Ke.next(Pi))}catch(on){ti(on)}}function ln(Pi){try{An(Ke.throw(Pi))}catch(on){ti(on)}}function An(Pi){Pi.done?bt(Pi.value):_t(Pi.value).then(Jt,ln)}An((Ke=Ke.apply(Ut,pe||[])).next())})};class ci{constructor(pe,Re,Ke,_t){this.leadingLineContent=pe.getLineContent(Re.lineNumber).substr(0,Re.column-1),this.leadingWord=pe.getWordUntilPosition(Re),this.lineNumber=Re.lineNumber,this.column=Re.column,this.auto=Ke,this.shy=_t}static shouldAutoTrigger(pe){if(!pe.hasModel())return!1;const Re=pe.getModel(),Ke=pe.getPosition();Re.tokenizeIfCheap(Ke.lineNumber);const _t=Re.getWordAtPosition(Ke);return!(!_t||_t.endColumn!==Ke.column||!isNaN(Number(_t.word)))}}function Gt(Ut){return Ut.getOption(105).preview}function Lt(Ut,pe,Re){if(!pe.getContextKeyValue("inlineSuggestionVisible"))return!0;const Ke=Re.getValue("editor.inlineSuggest.allowQuickSuggestions");return Ke!==void 0?!!Ke:!1}function Ai(Ut,pe,Re){if(!pe.getContextKeyValue("inlineSuggestionVisible"))return!0;const Ke=Re.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return Ke!==void 0?!!Ke:!1}let oi=class Mu{constructor(pe,Re,Ke,_t,bt,ti,Jt){this._editor=pe,this._editorWorkerService=Re,this._clipboardService=Ke,this._telemetryService=_t,this._logService=bt,this._contextKeyService=ti,this._configurationService=Jt,this._toDispose=new P.SL,this._quickSuggestDelay=10,this._triggerCharacterListener=new P.SL,this._triggerQuickSuggest=new Q._F,this._state=0,this._completionDisposables=new P.SL,this._onDidCancel=new J.Q5,this._onDidTrigger=new J.Q5,this._onDidSuggest=new J.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new ze.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(h.KZ.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(An=>{this._onCursorChange(An)}));let ln=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{ln=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{ln=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{ln||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,P.B9)(this._triggerCharacterListener),(0,P.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(79),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(80)||!this._editor.hasModel()||!this._editor.getOption(108))return;const pe=new Map;for(const Ke of h.KZ.all(this._editor.getModel()))for(const _t of Ke.triggerCharacters||[]){let bt=pe.get(_t);bt||(bt=new Set,bt.add((0,Me.ZJ)()),pe.set(_t,bt)),bt.add(Ke)}const Re=Ke=>{if(!Ai(this._editor,this._contextKeyService,this._configurationService)||ci.shouldAutoTrigger(this._editor))return;if(!Ke){const ti=this._editor.getPosition();Ke=this._editor.getModel().getLineContent(ti.lineNumber).substr(0,ti.column-1)}let _t="";(0,kt.YK)(Ke.charCodeAt(Ke.length-1))?(0,kt.ZG)(Ke.charCodeAt(Ke.length-2))&&(_t=Ke.substr(Ke.length-2)):_t=Ke.charAt(Ke.length-1);const bt=pe.get(_t);if(bt){const ti=this._completionModel?{items:this._completionModel.adopt(bt),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:_t},!!this._completionModel,bt,ti)}};this._triggerCharacterListener.add(this._editor.onDidType(Re)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(Re))}get state(){return this._state}cancel(pe=!1){var Re;this._state!==0&&(this._triggerQuickSuggest.cancel(),(Re=this._requestToken)===null||Re===void 0||Re.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:pe}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!h.KZ.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(pe){if(!this._editor.hasModel())return;const Re=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!pe.selection.isEmpty()||pe.reason!==0&&pe.reason!==3||pe.source!=="keyboard"&&pe.source!=="deleteLeft"){this.cancel();return}this._state===0&&pe.reason===0?(Re.containsRange(this._currentSelection)||Re.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&pe.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){this._editor.getOption(78)!==!1&&(this._editor.getOption(105).snippetsPreventQuickSuggestions&&f.SnippetController2.get(this._editor).isInSnippet()||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!ci.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const pe=this._editor.getModel(),Re=this._editor.getPosition(),Ke=this._editor.getOption(78);if(Ke!==!1){if(Ke!==!0){pe.tokenizeIfCheap(Re.lineNumber);const _t=pe.getLineTokens(Re.lineNumber),bt=_t.getStandardTokenType(_t.findTokenIndexAtOffset(Math.max(Re.column-1-1,0)));if(!(Ke.other&&bt===0||Ke.comments&&bt===1||Ke.strings&&bt===2))return}Lt(this._editor,this._contextKeyService,this._configurationService)&&h.KZ.has(pe)&&this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const pe=this._editor.getModel(),Re=this._editor.getPosition(),Ke=new ci(pe,Re,this._state===2,!1);this._onNewContext(Ke)})}trigger(pe,Re=!1,Ke,_t){var bt;if(!this._editor.hasModel())return;const ti=this._editor.getModel(),Jt=pe.auto,ln=new ci(ti,this._editor.getPosition(),Jt,pe.shy);this.cancel(Re),this._state=Jt?2:1,this._onDidTrigger.fire({auto:Jt,shy:pe.shy,position:this._editor.getPosition()}),this._context=ln;let An={triggerKind:(bt=pe.triggerKind)!==null&&bt!==void 0?bt:0};pe.triggerCharacter&&(An={triggerKind:1,triggerCharacter:pe.triggerCharacter}),this._requestToken=new O.A;const Pi=this._editor.getOption(100);let on=1;switch(Pi){case"top":on=0;break;case"bottom":on=2;break}const{itemKind:Ln,showDeprecated:Ji}=Mu._createSuggestFilter(this._editor),Kt=at.create(this._editorWorkerService,this._editor),Si=(0,Me.kL)(ti,this._editor.getPosition(),new Me.A9(on,Ln,Ke,Ji),An,this._requestToken.token);Promise.all([Si,Kt]).then(([$i,gs])=>Qt(this,void 0,void 0,function*(){var bs;if((bs=this._requestToken)===null||bs===void 0||bs.dispose(),!this._editor.hasModel())return;let Rs=_t==null?void 0:_t.clipboardText;if(!Rs&&$i.needsClipboard&&(Rs=yield this._clipboardService.readText()),this._state===0)return;const We=this._editor.getModel();let d=$i.items;if(_t){const z=(0,Me.wg)(on);d=d.concat(_t.items).sort(z)}const N=new ci(We,this._editor.getPosition(),Jt,pe.shy);this._completionModel=new Ye(d,this._context.column,{leadingLineContent:N.leadingLineContent,characterCountDelta:N.column-this._context.column},gs,this._editor.getOption(105),this._editor.getOption(100),Rs),this._completionDisposables.add($i.disposable),this._onNewContext(N),this._reportDurationsTelemetry($i.durations)})).catch(y.dL)}_reportDurationsTelemetry(pe){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(pe)}),this._logService.debug("suggest.durations.json",pe)})}static _createSuggestFilter(pe){const Re=new Set;pe.getOption(100)==="none"&&Re.add(27);const _t=pe.getOption(105);return _t.showMethods||Re.add(0),_t.showFunctions||Re.add(1),_t.showConstructors||Re.add(2),_t.showFields||Re.add(3),_t.showVariables||Re.add(4),_t.showClasses||Re.add(5),_t.showStructs||Re.add(6),_t.showInterfaces||Re.add(7),_t.showModules||Re.add(8),_t.showProperties||Re.add(9),_t.showEvents||Re.add(10),_t.showOperators||Re.add(11),_t.showUnits||Re.add(12),_t.showValues||Re.add(13),_t.showConstants||Re.add(14),_t.showEnums||Re.add(15),_t.showEnumMembers||Re.add(16),_t.showKeywords||Re.add(17),_t.showWords||Re.add(18),_t.showColors||Re.add(19),_t.showFiles||Re.add(20),_t.showReferences||Re.add(21),_t.showColors||Re.add(22),_t.showFolders||Re.add(23),_t.showTypeParameters||Re.add(24),_t.showSnippets||Re.add(27),_t.showUsers||Re.add(25),_t.showIssues||Re.add(26),{itemKind:Re,showDeprecated:_t.showDeprecated}}_onNewContext(pe){if(this._context){if(pe.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,kt.V8)(pe.leadingLineContent)!==(0,kt.V8)(this._context.leadingLineContent)){this.cancel();return}if(pe.column<this._context.column){pe.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(this._completionModel){if(pe.leadingWord.word.length!==0&&pe.leadingWord.startColumn>this._context.leadingWord.startColumn){const Re=new Set(h.KZ.all(this._editor.getModel()));for(let _t of this._completionModel.allProvider)Re.delete(_t);const Ke=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,Re,{items:Ke,clipboardText:this._completionModel.clipboardText});return}if(pe.column>this._context.column&&this._completionModel.incomplete.size>0&&pe.leadingWord.word.length!==0){const{incomplete:Re}=this._completionModel,Ke=this._completionModel.adopt(Re);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,Re,{items:Ke,clipboardText:this._completionModel.clipboardText})}else{let Re=this._completionModel.lineContext,Ke=!1;if(this._completionModel.lineContext={leadingLineContent:pe.leadingLineContent,characterCountDelta:pe.column-this._context.column},this._completionModel.items.length===0){if(ci.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<pe.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=Re,Ke=this._completionModel.items.length>0,Ke&&pe.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:Ke})}}}}};oi=st([Pt(1,he.p),Pt(2,rt.p),Pt(3,Ne.b),Pt(4,Pe.VZ),Pt(5,G.i6),Pt(6,R.Ui)],oi);class $e{constructor(pe,Re){this._disposables=new P.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(pe.onWillType(()=>{if(!this._empty||!pe.hasModel())return;const Ke=pe.getSelections(),_t=Ke.length;let bt=!1;for(let Jt=0;Jt<_t;Jt++)if(!Ke[Jt].isEmpty()){bt=!0;break}if(!bt)return;this._lastOvertyped=[];const ti=pe.getModel();for(let Jt=0;Jt<_t;Jt++){const ln=Ke[Jt];if(ti.getValueLengthInRange(ln)>$e._maxSelectionLength)return;this._lastOvertyped[Jt]={value:ti.getValueInRange(ln),multiline:ln.startLineNumber!==ln.endLineNumber}}this._empty=!1})),this._disposables.add(Re.onDidCancel(Ke=>{!this._empty&&!Ke.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(pe){if(!this._empty&&pe>=0&&pe<this._lastOvertyped.length)return this._lastOvertyped[pe]}dispose(){this._disposables.dispose()}}$e._maxSelectionLength=51200;var Xe=c(65321),wi=c(15375),ii=c(69047),Ui=c(59870),Mn=c(84527),Ri=c(90317),ps=c(42499),Zn=function(Ut,pe,Re,Ke){var _t=arguments.length,bt=_t<3?pe:Ke===null?Ke=Object.getOwnPropertyDescriptor(pe,Re):Ke,ti;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(Ut,pe,Re,Ke);else for(var Jt=Ut.length-1;Jt>=0;Jt--)(ti=Ut[Jt])&&(bt=(_t<3?ti(bt):_t>3?ti(pe,Re,bt):ti(pe,Re))||bt);return _t>3&&bt&&Object.defineProperty(pe,Re,bt),bt},Bn=function(Ut,pe){return function(Re,Ke){pe(Re,Ke,Ut)}};class Xi extends ps.Mm{updateLabel(){const pe=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!pe)return super.updateLabel();this.label&&(this.label.textContent=(0,B.N)("ddd","{0} ({1})",this._action.label,Xi.symbolPrintEnter(pe)))}static symbolPrintEnter(pe){var Re;return(Re=pe.getLabel())===null||Re===void 0?void 0:Re.replace(/\benter\b/gi,"\u23CE")}}let Vn=class{constructor(pe,Re,Ke,_t){this._menuService=Ke,this._contextKeyService=_t,this._menuDisposables=new P.SL,this.element=Xe.R3(pe,Xe.$(".suggest-status-bar"));const bt=ti=>ti instanceof te.U8?Re.createInstance(Xi,ti,void 0):void 0;this._leftActions=new Ri.o(this.element,{actionViewItemProvider:bt}),this._rightActions=new Ri.o(this.element,{actionViewItemProvider:bt}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const pe=this._menuService.createMenu(Me.GI,this._contextKeyService),Re=()=>{const Ke=[],_t=[];for(let[bt,ti]of pe.getActions())bt==="left"?Ke.push(...ti):_t.push(...ti);this._leftActions.clear(),this._leftActions.push(Ke),this._rightActions.clear(),this._rightActions.push(_t)};this._menuDisposables.add(pe.onDidChange(()=>Re())),this._menuDisposables.add(pe)}hide(){this._menuDisposables.clear()}};Vn=Zn([Bn(1,W.TG),Bn(2,te.co),Bn(3,G.i6)],Vn);var qi=c(73046),je=c(73910),Tt=c(97781);const St=(0,je.P6)("symbolIcon.arrayForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ze=(0,je.P6)("symbolIcon.booleanForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Je=(0,je.P6)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,B.N)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),xt=(0,je.P6)("symbolIcon.colorForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),yt=(0,je.P6)("symbolIcon.constantForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt=(0,je.P6)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,B.N)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ni=(0,je.P6)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,B.N)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),gi=(0,je.P6)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,B.N)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Gi=(0,je.P6)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,B.N)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ji=(0,je.P6)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,B.N)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),is=(0,je.P6)("symbolIcon.fileForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Hi=(0,je.P6)("symbolIcon.folderForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hn=(0,je.P6)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,B.N)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vt=(0,je.P6)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,B.N)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),mt=(0,je.P6)("symbolIcon.keyForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Nt=(0,je.P6)("symbolIcon.keywordForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),He=(0,je.P6)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,B.N)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Qe=(0,je.P6)("symbolIcon.moduleForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ft=(0,je.P6)("symbolIcon.namespaceForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ct=(0,je.P6)("symbolIcon.nullForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ei=(0,je.P6)("symbolIcon.numberForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Vi=(0,je.P6)("symbolIcon.objectForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fi=(0,je.P6)("symbolIcon.operatorForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Di=(0,je.P6)("symbolIcon.packageForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zi=(0,je.P6)("symbolIcon.propertyForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),dn=(0,je.P6)("symbolIcon.referenceForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),gn=(0,je.P6)("symbolIcon.snippetForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Mi=(0,je.P6)("symbolIcon.stringForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pi=(0,je.P6)("symbolIcon.structForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Cn=(0,je.P6)("symbolIcon.textForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),En=(0,je.P6)("symbolIcon.typeParameterForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Yn=(0,je.P6)("symbolIcon.unitForeground",{dark:je.dR,light:je.dR,hc:je.dR},(0,B.N)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vs=(0,je.P6)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,B.N)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,Tt.Ic)((Ut,pe)=>{const Re=Ut.getColor(St);Re&&pe.addRule(`${qi.lA.symbolArray.cssSelector} { color: ${Re}; }`);const Ke=Ut.getColor(Ze);Ke&&pe.addRule(`${qi.lA.symbolBoolean.cssSelector} { color: ${Ke}; }`);const _t=Ut.getColor(Je);_t&&pe.addRule(`${qi.lA.symbolClass.cssSelector} { color: ${_t}; }`);const bt=Ut.getColor(He);bt&&pe.addRule(`${qi.lA.symbolMethod.cssSelector} { color: ${bt}; }`);const ti=Ut.getColor(xt);ti&&pe.addRule(`${qi.lA.symbolColor.cssSelector} { color: ${ti}; }`);const Jt=Ut.getColor(yt);Jt&&pe.addRule(`${qi.lA.symbolConstant.cssSelector} { color: ${Jt}; }`);const ln=Ut.getColor(Xt);ln&&pe.addRule(`${qi.lA.symbolConstructor.cssSelector} { color: ${ln}; }`);const An=Ut.getColor(ni);An&&pe.addRule(`
			${qi.lA.symbolValue.cssSelector},${qi.lA.symbolEnum.cssSelector} { color: ${An}; }`);const Pi=Ut.getColor(gi);Pi&&pe.addRule(`${qi.lA.symbolEnumMember.cssSelector} { color: ${Pi}; }`);const on=Ut.getColor(Gi);on&&pe.addRule(`${qi.lA.symbolEvent.cssSelector} { color: ${on}; }`);const Ln=Ut.getColor(ji);Ln&&pe.addRule(`${qi.lA.symbolField.cssSelector} { color: ${Ln}; }`);const Ji=Ut.getColor(is);Ji&&pe.addRule(`${qi.lA.symbolFile.cssSelector} { color: ${Ji}; }`);const Kt=Ut.getColor(Hi);Kt&&pe.addRule(`${qi.lA.symbolFolder.cssSelector} { color: ${Kt}; }`);const Si=Ut.getColor(hn);Si&&pe.addRule(`${qi.lA.symbolFunction.cssSelector} { color: ${Si}; }`);const $i=Ut.getColor(vt);$i&&pe.addRule(`${qi.lA.symbolInterface.cssSelector} { color: ${$i}; }`);const gs=Ut.getColor(mt);gs&&pe.addRule(`${qi.lA.symbolKey.cssSelector} { color: ${gs}; }`);const bs=Ut.getColor(Nt);bs&&pe.addRule(`${qi.lA.symbolKeyword.cssSelector} { color: ${bs}; }`);const Rs=Ut.getColor(Qe);Rs&&pe.addRule(`${qi.lA.symbolModule.cssSelector} { color: ${Rs}; }`);const We=Ut.getColor(ft);We&&pe.addRule(`${qi.lA.symbolNamespace.cssSelector} { color: ${We}; }`);const d=Ut.getColor(ct);d&&pe.addRule(`${qi.lA.symbolNull.cssSelector} { color: ${d}; }`);const N=Ut.getColor(ei);N&&pe.addRule(`${qi.lA.symbolNumber.cssSelector} { color: ${N}; }`);const z=Ut.getColor(Vi);z&&pe.addRule(`${qi.lA.symbolObject.cssSelector} { color: ${z}; }`);const oe=Ut.getColor(fi);oe&&pe.addRule(`${qi.lA.symbolOperator.cssSelector} { color: ${oe}; }`);const fe=Ut.getColor(Di);fe&&pe.addRule(`${qi.lA.symbolPackage.cssSelector} { color: ${fe}; }`);const Ee=Ut.getColor(zi);Ee&&pe.addRule(`${qi.lA.symbolProperty.cssSelector} { color: ${Ee}; }`);const Ve=Ut.getColor(dn);Ve&&pe.addRule(`${qi.lA.symbolReference.cssSelector} { color: ${Ve}; }`);const dt=Ut.getColor(gn);dt&&pe.addRule(`${qi.lA.symbolSnippet.cssSelector} { color: ${dt}; }`);const At=Ut.getColor(Mi);At&&pe.addRule(`${qi.lA.symbolString.cssSelector} { color: ${At}; }`);const Ct=Ut.getColor(pi);Ct&&pe.addRule(`${qi.lA.symbolStruct.cssSelector} { color: ${Ct}; }`);const Dt=Ut.getColor(Cn);Dt&&pe.addRule(`${qi.lA.symbolText.cssSelector} { color: ${Dt}; }`);const $t=Ut.getColor(En);$t&&pe.addRule(`${qi.lA.symbolTypeParameter.cssSelector} { color: ${$t}; }`);const si=Ut.getColor(Yn);si&&pe.addRule(`${qi.lA.symbolUnit.cssSelector} { color: ${si}; }`);const ui=Ut.getColor(vs);ui&&pe.addRule(`${qi.lA.symbolVariable.cssSelector} { color: ${ui}; }`)});var ds=c(88810),Is=c(83080);class Fo{constructor(){this._onDidWillResize=new J.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new J.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new P.SL,this._size=new Xe.Ro(0,0),this._minSize=new Xe.Ro(0,0),this._maxSize=new Xe.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new Is.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new Is.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new Is.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:Is.l.North}),this._southSash=new Is.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:Is.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let pe,Re=0,Ke=0;this._sashListener.add(J.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{pe===void 0&&(this._onDidWillResize.fire(),pe=this._size,Re=0,Ke=0)})),this._sashListener.add(J.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{pe!==void 0&&(pe=void 0,Re=0,Ke=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(_t=>{pe&&(Ke=_t.currentX-_t.startX,this.layout(pe.height+Re,pe.width+Ke),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(_t=>{pe&&(Ke=-(_t.currentX-_t.startX),this.layout(pe.height+Re,pe.width+Ke),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(_t=>{pe&&(Re=-(_t.currentY-_t.startY),this.layout(pe.height+Re,pe.width+Ke),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(_t=>{pe&&(Re=_t.currentY-_t.startY,this.layout(pe.height+Re,pe.width+Ke),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(J.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(_t=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(J.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(_t=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(pe,Re,Ke,_t){this._northSash.state=pe?3:0,this._eastSash.state=Re?3:0,this._southSash.state=Ke?3:0,this._westSash.state=_t?3:0}layout(pe=this.size.height,Re=this.size.width){const{height:Ke,width:_t}=this._minSize,{height:bt,width:ti}=this._maxSize;pe=Math.max(Ke,Math.min(bt,pe)),Re=Math.max(_t,Math.min(ti,Re));const Jt=new Xe.Ro(Re,pe);Xe.Ro.equals(Jt,this._size)||(this.domNode.style.height=pe+"px",this.domNode.style.width=Re+"px",this._size=Jt,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(pe){this._maxSize=pe}get maxSize(){return this._maxSize}set minSize(pe){this._minSize=pe}get minSize(){return this._minSize}set preferredSize(pe){this._preferredSize=pe}get preferredSize(){return this._preferredSize}}var no=c(16268),Ls=c(13433),Io=c(59365),Xs=c(53430),So=c(64141),Hs=function(Ut,pe,Re,Ke){var _t=arguments.length,bt=_t<3?pe:Ke===null?Ke=Object.getOwnPropertyDescriptor(pe,Re):Ke,ti;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(Ut,pe,Re,Ke);else for(var Jt=Ut.length-1;Jt>=0;Jt--)(ti=Ut[Jt])&&(bt=(_t<3?ti(bt):_t>3?ti(pe,Re,bt):ti(pe,Re))||bt);return _t>3&&bt&&Object.defineProperty(pe,Re,bt),bt},zs=function(Ut,pe){return function(Re,Ke){pe(Re,Ke,Ut)}};function uo(Ut){return!!Ut&&!!(Ut.completion.documentation||Ut.completion.detail&&Ut.completion.detail!==Ut.completion.label)}let xo=class{constructor(pe,Re){this._editor=pe,this._onDidClose=new J.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new J.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new P.SL,this._renderDisposeable=new P.SL,this._borderWidth=1,this._size=new Xe.Ro(330,0),this.domNode=Xe.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=Re.createInstance(Xs.$,{editor:pe}),this._body=Xe.$(".body"),this._scrollbar=new Ls.s$(this._body,{}),Xe.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=Xe.R3(this._body,Xe.$(".header")),this._close=Xe.R3(this._header,Xe.$("span"+qi.lA.close.cssSelector)),this._close.title=B.N("details.close","Close"),this._type=Xe.R3(this._header,Xe.$("p.type")),this._docs=Xe.R3(this._body,Xe.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(Ke=>{Ke.hasChanged(43)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const pe=this._editor.getOptions(),Re=pe.get(43),Ke=Re.getMassagedFontFamily(no.G6?So.hL.fontFamily:null),_t=pe.get(106)||Re.fontSize,bt=pe.get(107)||Re.lineHeight,ti=Re.fontWeight,Jt=`${_t}px`,ln=`${bt}px`;this.domNode.style.fontSize=Jt,this.domNode.style.lineHeight=`${bt/_t}`,this.domNode.style.fontWeight=ti,this.domNode.style.fontFeatureSettings=Re.fontFeatureSettings,this._type.style.fontFamily=Ke,this._close.style.height=ln,this._close.style.width=ln}getLayoutInfo(){const pe=this._editor.getOption(107)||this._editor.getOption(43).lineHeight,Re=this._borderWidth,Ke=Re*2;return{lineHeight:pe,borderWidth:Re,borderHeight:Ke,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=B.N("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(pe,Re){var Ke,_t;this._renderDisposeable.clear();let{detail:bt,documentation:ti}=pe.completion;if(Re){let Jt="";Jt+=`score: ${pe.score[0]}
`,Jt+=`prefix: ${(Ke=pe.word)!==null&&Ke!==void 0?Ke:"(no prefix)"}
`,Jt+=`word: ${pe.completion.filterText?pe.completion.filterText+" (filterText)":pe.textLabel}
`,Jt+=`distance: ${pe.distance} (localityBonus-setting)
`,Jt+=`index: ${pe.idx}, based on ${pe.completion.sortText&&`sortText: "${pe.completion.sortText}"`||"label"}
`,Jt+=`commit_chars: ${(_t=pe.completion.commitCharacters)===null||_t===void 0?void 0:_t.join("")}
`,ti=new Io.W5().appendCodeblock("empty",Jt),bt=`Provider: ${pe.provider._debugDisplayName}`}if(!Re&&!uo(pe)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),bt){const Jt=bt.length>1e5?`${bt.substr(0,1e5)}\u2026`:bt;this._type.textContent=Jt,this._type.title=Jt,Xe.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(Jt))}else Xe.PO(this._type),this._type.title="",Xe.Cp(this._type),this.domNode.classList.add("no-type");if(Xe.PO(this._docs),typeof ti=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=ti;else if(ti){this._docs.classList.add("markdown-docs"),Xe.PO(this._docs);const Jt=this._markdownRenderer.render(ti);this._docs.appendChild(Jt.element),this._renderDisposeable.add(Jt),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=Jt=>{Jt.preventDefault(),Jt.stopPropagation()},this._close.onclick=Jt=>{Jt.preventDefault(),Jt.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(pe,Re){const Ke=new Xe.Ro(pe,Re);Xe.Ro.equals(Ke,this._size)||(this._size=Ke,Xe.dp(this.domNode,pe,Re)),this._scrollbar.scanDomNode()}scrollDown(pe=8){this._body.scrollTop+=pe}scrollUp(pe=8){this._body.scrollTop-=pe}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(pe){this._borderWidth=pe}get borderWidth(){return this._borderWidth}};xo=Hs([zs(1,W.TG)],xo);class to{constructor(pe,Re){this.widget=pe,this._editor=Re,this._disposables=new P.SL,this._added=!1,this._resizable=new Fo,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(pe.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let Ke,_t,bt=0,ti=0;this._disposables.add(this._resizable.onDidWillResize(()=>{Ke=this._topLeft,_t=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(Jt=>{if(Ke&&_t){this.widget.layout(Jt.dimension.width,Jt.dimension.height);let ln=!1;Jt.west&&(ti=_t.width-Jt.dimension.width,ln=!0),Jt.north&&(bt=_t.height-Jt.dimension.height,ln=!0),ln&&this._applyTopLeft({top:Ke.top+bt,left:Ke.left+ti})}Jt.done&&(Ke=void 0,_t=void 0,bt=0,ti=0,this._userSize=Jt.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var Jt;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(Jt=this._userSize)!==null&&Jt!==void 0?Jt:this.widget.size)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(pe=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),pe&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(pe){var Re;const Ke=Xe.i(pe);this._anchorBox=Ke,this._placeAtAnchor(this._anchorBox,(Re=this._userSize)!==null&&Re!==void 0?Re:this.widget.size)}_placeAtAnchor(pe,Re){var Ke;const _t=Xe.D6(document.body),bt=this.widget.getLayoutInfo(),ti=new Xe.Ro(220,2*bt.lineHeight),Jt=pe.top,ln=function(){const bs=_t.width-(pe.left+pe.width+bt.borderWidth+bt.horizontalPadding),Rs=-bt.borderWidth+pe.left+pe.width,We=new Xe.Ro(bs,_t.height-pe.top-bt.borderHeight-bt.verticalPadding),d=We.with(void 0,pe.top+pe.height-bt.borderHeight-bt.verticalPadding);return{top:Jt,left:Rs,fit:bs-Re.width,maxSizeTop:We,maxSizeBottom:d,minSize:ti.with(Math.min(bs,ti.width))}}(),An=function(){const bs=pe.left-bt.borderWidth-bt.horizontalPadding,Rs=Math.max(bt.horizontalPadding,pe.left-Re.width-bt.borderWidth),We=new Xe.Ro(bs,_t.height-pe.top-bt.borderHeight-bt.verticalPadding),d=We.with(void 0,pe.top+pe.height-bt.borderHeight-bt.verticalPadding);return{top:Jt,left:Rs,fit:bs-Re.width,maxSizeTop:We,maxSizeBottom:d,minSize:ti.with(Math.min(bs,ti.width))}}(),Pi=function(){const bs=pe.left,Rs=-bt.borderWidth+pe.top+pe.height,We=new Xe.Ro(pe.width-bt.borderHeight,_t.height-pe.top-pe.height-bt.verticalPadding);return{top:Rs,left:bs,fit:We.height-Re.height,maxSizeBottom:We,maxSizeTop:We,minSize:ti.with(We.width)}}(),on=[ln,An,Pi],Ln=(Ke=on.find(bs=>bs.fit>=0))!==null&&Ke!==void 0?Ke:on.sort((bs,Rs)=>Rs.fit-bs.fit)[0],Ji=pe.top+pe.height-bt.borderHeight;let Kt,Si=Re.height;const $i=Math.max(Ln.maxSizeTop.height,Ln.maxSizeBottom.height);Si>$i&&(Si=$i);let gs;Si<=Ln.maxSizeTop.height?(Kt=!0,gs=Ln.maxSizeTop):(Kt=!1,gs=Ln.maxSizeBottom),this._applyTopLeft({left:Ln.left,top:Kt?Ln.top:Ji-Si}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!Kt,Ln===ln,Kt,Ln!==ln),this._resizable.minSize=Ln.minSize,this._resizable.maxSize=gs,this._resizable.layout(Si,Math.min(gs.width,Re.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(pe){this._topLeft=pe,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var so=c(26974),Oo=c(70666),us=c(66663),Eo=c(95935),hs=c(71144),os;(function(Ut){Ut[Ut.FILE=0]="FILE",Ut[Ut.FOLDER=1]="FOLDER",Ut[Ut.ROOT_FOLDER=2]="ROOT_FOLDER"})(os||(os={}));function vo(Ut,pe,Re,Ke){const _t=Ke===os.ROOT_FOLDER?["rootfolder-icon"]:Ke===os.FOLDER?["folder-icon"]:["file-icon"];if(Re){let bt;if(Re.scheme===us.lg.data?bt=Eo.Vb.parseMetaData(Re).get(Eo.Vb.META_DATA_LABEL):bt=co((0,Eo.Hx)(Re).toLowerCase()),Ke===os.FOLDER)_t.push(`${bt}-name-folder-icon`);else{if(bt){if(_t.push(`${bt}-name-file-icon`),bt.length<=255){const Jt=bt.split(".");for(let ln=1;ln<Jt.length;ln++)_t.push(`${Jt.slice(ln).join(".")}-ext-file-icon`)}_t.push("ext-file-icon")}const ti=rs(Ut,pe,Re);ti&&_t.push(`${co(ti)}-lang-file-icon`)}}return _t}function rs(Ut,pe,Re){if(!Re)return null;let Ke=null;if(Re.scheme===us.lg.data){const bt=Eo.Vb.parseMetaData(Re).get(Eo.Vb.META_DATA_MIME);bt&&(Ke=pe.getModeId(bt))}else{const _t=Ut.getModel(Re);_t&&(Ke=_t.getLanguageId())}return Ke&&Ke!==hs.XT?Ke:pe.getModeIdByFilepathOrFirstLine(Re)}function co(Ut){return Ut.replace(/[\11\12\14\15\40]/g,"/")}var Ws=c(51200),ho=c(71531),hi=c(59554),ge=function(Ut,pe,Re,Ke){var _t=arguments.length,bt=_t<3?pe:Ke===null?Ke=Object.getOwnPropertyDescriptor(pe,Re):Ke,ti;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(Ut,pe,Re,Ke);else for(var Jt=Ut.length-1;Jt>=0;Jt--)(ti=Ut[Jt])&&(bt=(_t<3?ti(bt):_t>3?ti(pe,Re,bt):ti(pe,Re))||bt);return _t>3&&bt&&Object.defineProperty(pe,Re,bt),bt},ut=function(Ut,pe){return function(Re,Ke){pe(Re,Ke,Ut)}},gt;function Bt(Ut){return`suggest-aria-id:${Ut}`}const qt=(0,hi.q5)("suggest-more-info",qi.lA.chevronRight,B.N("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),vi=new(gt=class Bl{extract(pe,Re){if(pe.textLabel.match(Bl._regexStrict))return Re[0]=pe.textLabel,!0;if(pe.completion.detail&&pe.completion.detail.match(Bl._regexStrict))return Re[0]=pe.completion.detail,!0;if(typeof pe.completion.documentation=="string"){const Ke=Bl._regexRelaxed.exec(pe.completion.documentation);if(Ke&&(Ke.index===0||Ke.index+Ke[0].length===pe.completion.documentation.length))return Re[0]=Ke[0],!0}return!1}},gt._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,gt._regexStrict=new RegExp(`^${gt._regexRelaxed.source}$`,"i"),gt);let Li=class{constructor(pe,Re,Ke,_t){this._editor=pe,this._modelService=Re,this._modeService=Ke,this._themeService=_t,this._onDidToggleDetails=new J.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(pe){const Re=Object.create(null);Re.disposables=new P.SL,Re.root=pe,Re.root.classList.add("show-file-icons"),Re.icon=(0,Xe.R3)(pe,(0,Xe.$)(".icon")),Re.colorspan=(0,Xe.R3)(Re.icon,(0,Xe.$)("span.colorspan"));const Ke=(0,Xe.R3)(pe,(0,Xe.$)(".contents")),_t=(0,Xe.R3)(Ke,(0,Xe.$)(".main"));Re.iconContainer=(0,Xe.R3)(_t,(0,Xe.$)(".icon-label.codicon")),Re.left=(0,Xe.R3)(_t,(0,Xe.$)("span.left")),Re.right=(0,Xe.R3)(_t,(0,Xe.$)("span.right")),Re.iconLabel=new so.g(Re.left,{supportHighlights:!0,supportIcons:!0}),Re.disposables.add(Re.iconLabel),Re.parametersLabel=(0,Xe.R3)(Re.left,(0,Xe.$)("span.signature-label")),Re.qualifierLabel=(0,Xe.R3)(Re.left,(0,Xe.$)("span.qualifier-label")),Re.detailsLabel=(0,Xe.R3)(Re.right,(0,Xe.$)("span.details-label")),Re.readMore=(0,Xe.R3)(Re.right,(0,Xe.$)("span.readMore"+Tt.kS.asCSSSelector(qt))),Re.readMore.title=B.N("readMore","Read More");const bt=()=>{const ti=this._editor.getOptions(),Jt=ti.get(43),ln=Jt.getMassagedFontFamily(no.G6?So.hL.fontFamily:null),An=Jt.fontFeatureSettings,Pi=ti.get(106)||Jt.fontSize,on=ti.get(107)||Jt.lineHeight,Ln=Jt.fontWeight,Ji=`${Pi}px`,Kt=`${on}px`;Re.root.style.fontSize=Ji,Re.root.style.fontWeight=Ln,_t.style.fontFamily=ln,_t.style.fontFeatureSettings=An,_t.style.lineHeight=Kt,Re.icon.style.height=Kt,Re.icon.style.width=Kt,Re.readMore.style.height=Kt,Re.readMore.style.width=Kt};return bt(),Re.disposables.add(this._editor.onDidChangeConfiguration(ti=>{(ti.hasChanged(43)||ti.hasChanged(106)||ti.hasChanged(107))&&bt()})),Re}renderElement(pe,Re,Ke){const{completion:_t}=pe;Ke.root.id=Bt(Re),Ke.colorspan.style.backgroundColor="";const bt={labelEscapeNewLines:!0,matches:(0,Oe.mB)(pe.score)};let ti=[];if(_t.kind===19&&vi.extract(pe,ti))Ke.icon.className="icon customcolor",Ke.iconContainer.className="icon hide",Ke.colorspan.style.backgroundColor=ti[0];else if(_t.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){Ke.icon.className="icon hide",Ke.iconContainer.className="icon hide";const Jt=vo(this._modelService,this._modeService,Oo.o.from({scheme:"fake",path:pe.textLabel}),os.FILE),ln=vo(this._modelService,this._modeService,Oo.o.from({scheme:"fake",path:_t.detail}),os.FILE);bt.extraClasses=Jt.length>ln.length?Jt:ln}else _t.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(Ke.icon.className="icon hide",Ke.iconContainer.className="icon hide",bt.extraClasses=(0,Y.xH)([vo(this._modelService,this._modeService,Oo.o.from({scheme:"fake",path:pe.textLabel}),os.FOLDER),vo(this._modelService,this._modeService,Oo.o.from({scheme:"fake",path:_t.detail}),os.FOLDER)])):(Ke.icon.className="icon hide",Ke.iconContainer.className="",Ke.iconContainer.classList.add("suggest-icon",...(0,h.Sy)(_t.kind).split(" ")));_t.tags&&_t.tags.indexOf(1)>=0&&(bt.extraClasses=(bt.extraClasses||[]).concat(["deprecated"]),bt.matches=[]),Ke.iconLabel.setLabel(pe.textLabel,void 0,bt),typeof _t.label=="string"?(Ke.parametersLabel.textContent="",Ke.detailsLabel.textContent=mi(_t.detail||""),Ke.root.classList.add("string-label")):(Ke.parametersLabel.textContent=mi(_t.label.detail||""),Ke.detailsLabel.textContent=mi(_t.label.description||""),Ke.root.classList.remove("string-label")),this._editor.getOption(105).showInlineDetails?(0,Xe.$Z)(Ke.detailsLabel):(0,Xe.Cp)(Ke.detailsLabel),uo(pe)?(Ke.right.classList.add("can-expand-details"),(0,Xe.$Z)(Ke.readMore),Ke.readMore.onmousedown=Jt=>{Jt.stopPropagation(),Jt.preventDefault()},Ke.readMore.onclick=Jt=>{Jt.stopPropagation(),Jt.preventDefault(),this._onDidToggleDetails.fire()}):(Ke.right.classList.remove("can-expand-details"),(0,Xe.Cp)(Ke.readMore),Ke.readMore.onmousedown=null,Ke.readMore.onclick=null)}disposeTemplate(pe){pe.disposables.dispose()}};Li=ge([ut(1,Ws.q),ut(2,ho.h),ut(3,Tt.XE)],Li);function mi(Ut){return Ut.replace(/\r\n|\r|\n/g,"")}var un=function(Ut,pe,Re,Ke){var _t=arguments.length,bt=_t<3?pe:Ke===null?Ke=Object.getOwnPropertyDescriptor(pe,Re):Ke,ti;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(Ut,pe,Re,Ke);else for(var Jt=Ut.length-1;Jt>=0;Jt--)(ti=Ut[Jt])&&(bt=(_t<3?ti(bt):_t>3?ti(pe,Re,bt):ti(pe,Re))||bt);return _t>3&&bt&&Object.defineProperty(pe,Re,bt),bt},Bi=function(Ut,pe){return function(Re,Ke){pe(Re,Ke,Ut)}},ts=function(Ut,pe,Re,Ke){function _t(bt){return bt instanceof Re?bt:new Re(function(ti){ti(bt)})}return new(Re||(Re=Promise))(function(bt,ti){function Jt(Pi){try{An(Ke.next(Pi))}catch(on){ti(on)}}function ln(Pi){try{An(Ke.throw(Pi))}catch(on){ti(on)}}function An(Pi){Pi.done?bt(Pi.value):_t(Pi.value).then(Jt,ln)}An((Ke=Ke.apply(Ut,pe||[])).next())})};const Rt=(0,je.P6)("editorSuggestWidget.background",{dark:je.D0,light:je.D0,hc:je.D0},B.N("editorSuggestWidgetBackground","Background color of the suggest widget.")),F=(0,je.P6)("editorSuggestWidget.border",{dark:je.D1,light:je.D1,hc:je.D1},B.N("editorSuggestWidgetBorder","Border color of the suggest widget.")),re=(0,je.P6)("editorSuggestWidget.foreground",{dark:je.NO,light:je.NO,hc:je.NO},B.N("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),Se=(0,je.P6)("editorSuggestWidget.selectedForeground",{dark:je.NP,light:je.NP,hc:je.NP},B.N("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),Fe=(0,je.P6)("editorSuggestWidget.selectedIconForeground",{dark:je.cb,light:je.cb,hc:je.cb},B.N("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),lt=(0,je.P6)("editorSuggestWidget.selectedBackground",{dark:je.Vq,light:je.Vq,hc:je.Vq},B.N("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),Ot=(0,je.P6)("editorSuggestWidget.highlightForeground",{dark:je.Gw,light:je.Gw,hc:je.Gw},B.N("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),Zt=(0,je.P6)("editorSuggestWidget.focusHighlightForeground",{dark:je.PX,light:je.PX,hc:je.PX},B.N("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));class di{constructor(pe,Re){this._service=pe,this._key=`suggestWidget.size/${Re.getEditorType()}/${Re instanceof Mn.H}`}restore(){var pe;const Re=(pe=this._service.get(this._key,0))!==null&&pe!==void 0?pe:"";try{const Ke=JSON.parse(Re);if(Xe.Ro.is(Ke))return Xe.Ro.lift(Ke)}catch(Ke){}}store(pe){this._service.store(this._key,JSON.stringify(pe),0,1)}reset(){this._service.remove(this._key,0)}}let Ei=class Nd{constructor(pe,Re,Ke,_t,bt){this.editor=pe,this._storageService=Re,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new Q._F,this._disposables=new P.SL,this._onDidSelect=new J.Q5,this._onDidFocus=new J.Q5,this._onDidHide=new J.Q5,this._onDidShow=new J.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new J.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Fo,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new li(this,pe),this._persistedSize=new di(Re,pe);class ti{constructor(Ji,Kt,Si=!1,$i=!1){this.persistedSize=Ji,this.currentSize=Kt,this.persistHeight=Si,this.persistWidth=$i}}let Jt;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),Jt=new ti(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(Ln=>{var Ji,Kt,Si,$i;if(this._resize(Ln.dimension.width,Ln.dimension.height),Jt&&(Jt.persistHeight=Jt.persistHeight||!!Ln.north||!!Ln.south,Jt.persistWidth=Jt.persistWidth||!!Ln.east||!!Ln.west),!!Ln.done){if(Jt){const{itemHeight:gs,defaultSize:bs}=this.getLayoutInfo(),Rs=Math.round(gs/2);let{width:We,height:d}=this.element.size;(!Jt.persistHeight||Math.abs(Jt.currentSize.height-d)<=Rs)&&(d=(Kt=(Ji=Jt.persistedSize)===null||Ji===void 0?void 0:Ji.height)!==null&&Kt!==void 0?Kt:bs.height),(!Jt.persistWidth||Math.abs(Jt.currentSize.width-We)<=Rs)&&(We=($i=(Si=Jt.persistedSize)===null||Si===void 0?void 0:Si.width)!==null&&$i!==void 0?$i:bs.width),this._persistedSize.store(new Xe.Ro(We,d))}this._contentWidget.unlockPreference(),Jt=void 0}})),this._messageElement=Xe.R3(this.element.domNode,Xe.$(".message")),this._listElement=Xe.R3(this.element.domNode,Xe.$(".tree"));const ln=bt.createInstance(xo,this.editor);ln.onDidClose(this.toggleDetails,this,this._disposables),this._details=new to(ln,this.editor);const An=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(105).showIcons);An();const Pi=bt.createInstance(Li,this.editor);this._disposables.add(Pi),this._disposables.add(Pi.onDidToggleDetails(()=>this.toggleDetails())),this._list=new ii.aV("SuggestWidget",this._listElement,{getHeight:Ln=>this.getLayoutInfo().itemHeight,getTemplateId:Ln=>"suggestion"},[Pi],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:Ln=>{if(Ln.isResolved&&this._isDetailsVisible()){const{documentation:Ji,detail:Kt}=Ln.completion,Si=kt.WU("{0}{1}",Kt||"",Ji?typeof Ji=="string"?Ji:Ji.value:"");return B.N("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",Ln.textLabel,Si)}else return Ln.textLabel},getWidgetAriaLabel:()=>B.N("suggest","Suggest"),getWidgetRole:()=>"listbox"}}),this._status=bt.createInstance(Vn,this.element.domNode);const on=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(105).showStatusBar);on(),this._disposables.add((0,ds.Jl)(this._list,_t,{listInactiveFocusBackground:lt,listInactiveFocusOutline:je.xL})),this._disposables.add(_t.onDidColorThemeChange(Ln=>this._onThemeChange(Ln))),this._onThemeChange(_t.getColorTheme()),this._disposables.add(this._list.onMouseDown(Ln=>this._onListMouseDownOrTap(Ln))),this._disposables.add(this._list.onTap(Ln=>this._onListMouseDownOrTap(Ln))),this._disposables.add(this._list.onDidChangeSelection(Ln=>this._onListSelection(Ln))),this._disposables.add(this._list.onDidChangeFocus(Ln=>this._onListFocus(Ln))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(Ln=>{Ln.hasChanged(105)&&(on(),An())})),this._ctxSuggestWidgetVisible=Me._y.Visible.bindTo(Ke),this._ctxSuggestWidgetDetailsVisible=Me._y.DetailsVisible.bindTo(Ke),this._ctxSuggestWidgetMultipleSuggestions=Me._y.MultipleSuggestions.bindTo(Ke),this._disposables.add(Xe.mu(this._details.widget.domNode,"keydown",Ln=>{this._onDetailsKeydown.fire(Ln)})),this._disposables.add(this.editor.onMouseDown(Ln=>this._onEditorMouseDown(Ln)))}dispose(){var pe;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(pe=this._loadingTimeout)===null||pe===void 0||pe.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(pe){this._details.widget.domNode.contains(pe.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(pe.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(pe){typeof pe.element=="undefined"||typeof pe.index=="undefined"||(pe.browserEvent.preventDefault(),pe.browserEvent.stopPropagation(),this._select(pe.element,pe.index))}_onListSelection(pe){pe.elements.length&&this._select(pe.elements[0],pe.indexes[0])}_select(pe,Re){const Ke=this._completionModel;Ke&&(this._onDidSelect.fire({item:pe,index:Re,model:Ke}),this.editor.focus())}_onThemeChange(pe){const Re=pe.getColor(Rt);Re&&(this.element.domNode.style.backgroundColor=Re.toString(),this._messageElement.style.backgroundColor=Re.toString(),this._details.widget.domNode.style.backgroundColor=Re.toString());const Ke=pe.getColor(F);Ke&&(this.element.domNode.style.borderColor=Ke.toString(),this._messageElement.style.borderColor=Ke.toString(),this._status.element.style.borderTopColor=Ke.toString(),this._details.widget.domNode.style.borderColor=Ke.toString(),this._detailsBorderColor=Ke.toString());const _t=pe.getColor(je.R8);_t&&(this._detailsFocusBorderColor=_t.toString()),this._details.widget.borderWidth=pe.type==="hc"?2:1}_onListFocus(pe){var Re;if(this._ignoreFocusEvents)return;if(!pe.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const Ke=pe.elements[0],_t=pe.indexes[0];Ke!==this._focusedItem&&((Re=this._currentSuggestionDetails)===null||Re===void 0||Re.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=Ke,this._list.reveal(_t),this._currentSuggestionDetails=(0,Q.PG)(bt=>ts(this,void 0,void 0,function*(){const ti=(0,Q.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);bt.onCancellationRequested(()=>ti.dispose());const Jt=yield Ke.resolve(bt);return ti.dispose(),Jt})),this._currentSuggestionDetails.then(()=>{_t>=this._list.length||Ke!==this._list.element(_t)||(this._ignoreFocusEvents=!0,this._list.splice(_t,1,[Ke]),this._list.setFocus([_t]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Bt(_t)}))}).catch(y.dL)),this._onDidFocus.fire({item:Ke,index:_t,model:this._completionModel})}_setState(pe){if(this._state!==pe)switch(this._state=pe,this.element.domNode.classList.toggle("frozen",pe===4),this.element.domNode.classList.remove("message"),pe){case 0:Xe.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Nd.LOADING_MESSAGE,Xe.Cp(this._listElement,this._status.element),Xe.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Nd.NO_SUGGESTIONS_MESSAGE,Xe.Cp(this._listElement,this._status.element),Xe.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:Xe.Cp(this._messageElement),Xe.$Z(this._listElement,this._status.element),this._show();break;case 4:Xe.Cp(this._messageElement),Xe.$Z(this._listElement,this._status.element),this._show();break;case 5:Xe.Cp(this._messageElement),Xe.$Z(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(pe,Re){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!pe,this._isAuto||(this._loadingTimeout=(0,Q.Vg)(()=>this._setState(1),Re)))}showSuggestions(pe,Re,Ke,_t){var bt,ti;if(this._contentWidget.setPosition(this.editor.getPosition()),(bt=this._loadingTimeout)===null||bt===void 0||bt.dispose(),(ti=this._currentSuggestionDetails)===null||ti===void 0||ti.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==pe&&(this._completionModel=pe),Ke&&this._state!==2&&this._state!==0){this._setState(4);return}const Jt=this._completionModel.items.length,ln=Jt===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(Jt>1),ln){this._setState(_t?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(Ke?4:3),this._list.reveal(Re,0),this._list.setFocus([Re]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(uo(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(pe){this._details.show(),pe?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var pe;(pe=this._loadingTimeout)===null||pe===void 0||pe.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const Re=this._persistedSize.restore(),Ke=Math.ceil(this.getLayoutInfo().itemHeight*4.3);Re&&Re.height<Ke&&this._persistedSize.store(Re.with(void 0,Ke))}isFrozen(){return this._state===4}_afterRender(pe){if(pe===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(pe){var Re,Ke,_t;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const bt=Xe.D6(document.body),ti=this.getLayoutInfo();pe||(pe=ti.defaultSize);let Jt=pe.height,ln=pe.width;if(this._status.element.style.lineHeight=`${ti.itemHeight}px`,this._state===2||this._state===1)Jt=ti.itemHeight+ti.borderHeight,ln=ti.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new Xe.Ro(ln,Jt),this._contentWidget.setPreference(2);else{const An=bt.width-ti.borderHeight-2*ti.horizontalPadding;ln>An&&(ln=An);const Pi=this._completionModel?this._completionModel.stats.pLabelLen*ti.typicalHalfwidthCharacterWidth:ln,on=ti.statusBarHeight+this._list.contentHeight+ti.borderHeight,Ln=ti.itemHeight+ti.statusBarHeight,Ji=Xe.i(this.editor.getDomNode()),Kt=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),Si=Ji.top+Kt.top+Kt.height,$i=Math.min(bt.height-Si-ti.verticalPadding,on),gs=Ji.top+Kt.top-ti.verticalPadding,bs=Math.min(gs,on);let Rs=Math.min(Math.max(bs,$i)+ti.borderHeight,on);Jt===((Re=this._cappedHeight)===null||Re===void 0?void 0:Re.capped)&&(Jt=this._cappedHeight.wanted),Jt<Ln&&(Jt=Ln),Jt>Rs&&(Jt=Rs),Jt>$i||this._forceRenderingAbove&&gs>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),Rs=bs):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),Rs=$i),this.element.preferredSize=new Xe.Ro(Pi,ti.defaultSize.height),this.element.maxSize=new Xe.Ro(An,Rs),this.element.minSize=new Xe.Ro(220,Ln),this._cappedHeight=Jt===on?{wanted:(_t=(Ke=this._cappedHeight)===null||Ke===void 0?void 0:Ke.wanted)!==null&&_t!==void 0?_t:pe.height,capped:Jt}:void 0}this._resize(ln,Jt)}_resize(pe,Re){const{width:Ke,height:_t}=this.element.maxSize;pe=Math.min(Ke,pe),Re=Math.min(_t,Re);const{statusBarHeight:bt}=this.getLayoutInfo();this._list.layout(Re-bt,pe),this._listElement.style.height=`${Re-bt}px`,this.element.layout(Re,pe),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const pe=this.editor.getOption(43),Re=(0,Ui.u)(this.editor.getOption(107)||pe.lineHeight,8,1e3),Ke=!this.editor.getOption(105).showStatusBar||this._state===2||this._state===1?0:Re,_t=this._details.widget.borderWidth,bt=2*_t;return{itemHeight:Re,statusBarHeight:Ke,borderWidth:_t,borderHeight:bt,typicalHalfwidthCharacterWidth:pe.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new Xe.Ro(430,Ke+12*Re+bt)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(pe){this._storageService.store("expandSuggestionDocs",pe,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};Ei.LOADING_MESSAGE=B.N("suggestWidget.loading","Loading..."),Ei.NO_SUGGESTIONS_MESSAGE=B.N("suggestWidget.noSuggestions","No suggestions."),Ei=un([Bi(1,K.Uy),Bi(2,G.i6),Bi(3,Tt.XE),Bi(4,W.TG)],Ei);class li{constructor(pe,Re){this._widget=pe,this._editor=Re,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:pe,width:Re}=this._widget.element.size,{borderWidth:Ke,horizontalPadding:_t}=this._widget.getLayoutInfo();return new Xe.Ro(Re+2*Ke+_t,pe+2*Ke)}afterRender(pe){this._widget._afterRender(pe)}setPreference(pe){this._preferenceLocked||(this._preference=pe)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(pe){this._position=pe}}(0,Tt.Ic)((Ut,pe)=>{const Re=Ut.getColor(Ot);Re&&pe.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${Re}; }`);const Ke=Ut.getColor(Zt);Re&&pe.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight { color: ${Ke}; }`);const _t=Ut.getColor(re);_t&&pe.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${_t}; }`);const bt=Ut.getColor(Se);bt&&pe.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused { color: ${bt}; }`);const ti=Ut.getColor(Fe);ti&&pe.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon { color: ${ti}; }`);const Jt=Ut.getColor(je.ur);Jt&&pe.addRule(`.monaco-editor .suggest-details a { color: ${Jt}; }`);const ln=Ut.getColor(je.sg);ln&&pe.addRule(`.monaco-editor .suggest-details a:hover { color: ${ln}; }`);const An=Ut.getColor(je.Sw);An&&pe.addRule(`.monaco-editor .suggest-details code { background-color: ${An}; }`)});var Oi=function(Ut,pe,Re,Ke){var _t=arguments.length,bt=_t<3?pe:Ke===null?Ke=Object.getOwnPropertyDescriptor(pe,Re):Ke,ti;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(Ut,pe,Re,Ke);else for(var Jt=Ut.length-1;Jt>=0;Jt--)(ti=Ut[Jt])&&(bt=(_t<3?ti(bt):_t>3?ti(pe,Re,bt):ti(pe,Re))||bt);return _t>3&&bt&&Object.defineProperty(pe,Re,bt),bt},tn=function(Ut,pe){return function(Re,Ke){pe(Re,Ke,Ut)}};let yi=!1;class nn{constructor(pe,Re){if(this._model=pe,this._position=Re,pe.getLineMaxColumn(Re.lineNumber)!==Re.column){const _t=pe.getOffsetAt(Re),bt=pe.getPositionAt(_t+1);this._marker=pe.deltaDecorations([],[{range:w.e.fromPositions(Re,bt),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(pe){if(this._model.isDisposed()||this._position.lineNumber!==pe.lineNumber)return 0;if(this._marker){const Re=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(Re.getStartPosition())-this._model.getOffsetAt(pe)}else return this._model.getLineMaxColumn(pe.lineNumber)-pe.column}}let Qi=class Ru{constructor(pe,Re,Ke,_t,bt,ti){this._memoryService=Re,this._commandService=Ke,this._contextKeyService=_t,this._instantiationService=bt,this._logService=ti,this._lineSuffix=new P.XK,this._toDispose=new P.SL,this._selectors=new Sn(Pi=>Pi.priority),this.editor=pe,this.model=bt.createInstance(oi,this.editor);const Jt=Me._y.InsertMode.bindTo(_t);Jt.set(pe.getOption(105).insertMode),this.model.onDidTrigger(()=>Jt.set(pe.getOption(105).insertMode)),this.widget=this._toDispose.add(new Q.Ue(()=>{const Pi=this._instantiationService.createInstance(Ei,this.editor);this._toDispose.add(Pi),this._toDispose.add(Pi.onDidSelect(Si=>this._insertSuggestion(Si,0),this));const on=new it(this.editor,Pi,Si=>this._insertSuggestion(Si,2));this._toDispose.add(on),this._toDispose.add(this.model.onDidSuggest(Si=>{Si.completionModel.items.length===0&&on.reset()}));const Ln=Me._y.MakesTextEdit.bindTo(this._contextKeyService),Ji=Me._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),Kt=Me._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,P.OF)(()=>{Ln.reset(),Ji.reset(),Kt.reset()})),this._toDispose.add(Pi.onDidFocus(({item:Si})=>{const $i=this.editor.getPosition(),gs=Si.editStart.column,bs=$i.column;let Rs=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!Si.completion.additionalTextEdits&&!(Si.completion.insertTextRules&4)&&bs-gs===Si.completion.insertText.length&&(Rs=this.editor.getModel().getValueInRange({startLineNumber:$i.lineNumber,startColumn:gs,endLineNumber:$i.lineNumber,endColumn:bs})!==Si.completion.insertText),Ln.set(Rs),Ji.set(!x.L.equals(Si.editInsertEnd,Si.editReplaceEnd)),Kt.set(!!Si.provider.resolveCompletionItem||!!Si.completion.documentation||Si.completion.detail!==Si.completion.label)})),this._toDispose.add(Pi.onDetailsKeyDown(Si=>{if(Si.toKeybinding().equals(new k.QC(!0,!1,!1,!1,33))||s.dz&&Si.toKeybinding().equals(new k.QC(!1,!1,!1,!0,33))){Si.stopPropagation();return}Si.toKeybinding().isModifierKey()||this.editor.focus()})),Pi})),this._overtypingCapturer=this._toDispose.add(new Q.Ue(()=>this._toDispose.add(new $e(this.editor,this.model)))),this._alternatives=this._toDispose.add(new Q.Ue(()=>this._toDispose.add(new ht(this.editor,this._contextKeyService)))),this._toDispose.add(bt.createInstance(S,pe)),this._toDispose.add(this.model.onDidTrigger(Pi=>{this.widget.value.showTriggered(Pi.auto,Pi.shy?250:50),this._lineSuffix.value=new nn(this.editor.getModel(),Pi.position)})),this._toDispose.add(this.model.onDidSuggest(Pi=>{if(!Pi.shy){let on=-1;for(const Ln of this._selectors.itemsOrderedByPriorityDesc)if(on=Ln.select(this.editor.getModel(),this.editor.getPosition(),Pi.completionModel.items),on!==-1)break;on===-1&&(on=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Pi.completionModel.items)),this.widget.value.showSuggestions(Pi.completionModel,on,Pi.isFrozen,Pi.auto)}})),this._toDispose.add(this.model.onDidCancel(Pi=>{Pi.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{yi||(this.model.cancel(),this.model.clear())}));let ln=Me._y.AcceptSuggestionsOnEnter.bindTo(_t),An=()=>{const Pi=this.editor.getOption(1);ln.set(Pi==="on"||Pi==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>An())),An()}static get(pe){return pe.getContribution(Ru.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(pe,Re){if(!pe||!pe.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Ke=this.editor.getModel(),_t=Ke.getAlternativeVersionId(),{item:bt}=pe,ti=[],Jt=new O.A;Re&1||this.editor.pushUndoStop();const ln=this.getOverwriteInfo(bt,!!(Re&8));if(this._memoryService.memorize(Ke,this.editor.getPosition(),bt),Array.isArray(bt.completion.additionalTextEdits)){const Pi=C.ZF.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",bt.completion.additionalTextEdits.map(on=>r.h.replace(w.e.lift(on.range),on.text))),Pi.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!bt.isResolved){const Pi=new I.G(!0);let on;const Ln=Ke.onDidChangeContent($i=>{if($i.isFlush){Jt.cancel(),Ln.dispose();return}for(let gs of $i.changes){const bs=w.e.getEndPosition(gs.range);(!on||x.L.isBefore(bs,on))&&(on=bs)}});let Ji=Re;Re|=2;let Kt=!1,Si=this.editor.onWillType(()=>{Si.dispose(),Kt=!0,Ji&2||this.editor.pushUndoStop()});ti.push(bt.resolve(Jt.token).then(()=>{if(!bt.completion.additionalTextEdits||Jt.token.isCancellationRequested||on&&bt.completion.additionalTextEdits.some(gs=>x.L.isBefore(on,w.e.getStartPosition(gs.range))))return!1;Kt&&this.editor.pushUndoStop();const $i=C.ZF.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",bt.completion.additionalTextEdits.map(gs=>r.h.replace(w.e.lift(gs.range),gs.text))),$i.restoreRelativeVerticalPositionOfCursor(this.editor),(Kt||!(Ji&2))&&this.editor.pushUndoStop(),!0}).then($i=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",Pi.elapsed(),$i),Ln.dispose(),Si.dispose()}))}let{insertText:An}=bt.completion;bt.completion.insertTextRules&4||(An=v.Yj.escape(An)),f.SnippetController2.get(this.editor).insert(An,{overwriteBefore:ln.overwriteBefore,overwriteAfter:ln.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(bt.completion.insertTextRules&1),clipboardText:pe.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),Re&2||this.editor.pushUndoStop(),bt.completion.command?bt.completion.command.id===ns.id?this.model.trigger({auto:!0,shy:!1},!0):(ti.push(this._commandService.executeCommand(bt.completion.command.id,...bt.completion.command.arguments?[...bt.completion.command.arguments]:[]).catch(y.dL)),this.model.cancel()):this.model.cancel(),Re&4&&this._alternatives.value.set(pe,Pi=>{for(Jt.cancel();Ke.canUndo();){_t!==Ke.getAlternativeVersionId()&&Ke.undo(),this._insertSuggestion(Pi,3|(Re&8?8:0));break}}),this._alertCompletionItem(bt),Promise.all(ti).finally(()=>{this.model.clear(),Jt.dispose()})}getOverwriteInfo(pe,Re){(0,m.p_)(this.editor.hasModel());let Ke=this.editor.getOption(105).insertMode==="replace";Re&&(Ke=!Ke);const _t=pe.position.column-pe.editStart.column,bt=(Ke?pe.editReplaceEnd.column:pe.editInsertEnd.column)-pe.position.column,ti=this.editor.getPosition().column-pe.position.column,Jt=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:_t+ti,overwriteAfter:bt+Jt}}_alertCompletionItem(pe){if((0,Y.Of)(pe.completion.additionalTextEdits)){let Re=B.N("aria.alert.snippet","Accepting '{0}' made {1} additional edits",pe.textLabel,pe.completion.additionalTextEdits.length);(0,g.Z9)(Re)}}triggerSuggest(pe){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,pe),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(pe){if(!this.editor.hasModel())return;const Re=this.editor.getPosition(),Ke=()=>{Re.equals(this.editor.getPosition())&&this._commandService.executeCommand(pe.fallback)},_t=bt=>{if(bt.completion.insertTextRules&4||bt.completion.additionalTextEdits)return!0;const ti=this.editor.getPosition(),Jt=bt.editStart.column,ln=ti.column;return ln-Jt!==bt.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:ti.lineNumber,startColumn:Jt,endLineNumber:ti.lineNumber,endColumn:ln})!==bt.completion.insertText};J.ju.once(this.model.onDidTrigger)(bt=>{let ti=[];J.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,P.B9)(ti),Ke()},void 0,ti),this.model.onDidSuggest(({completionModel:Jt})=>{if((0,P.B9)(ti),Jt.items.length===0){Ke();return}const ln=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Jt.items),An=Jt.items[ln];if(!_t(An)){Ke();return}this.editor.pushUndoStop(),this._insertSuggestion({index:ln,item:An,model:Jt},7)},void 0,ti)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(Re,0),this.editor.focus()}acceptSelectedSuggestion(pe,Re){const Ke=this.widget.value.getFocusedItem();let _t=0;pe&&(_t|=4),Re&&(_t|=8),this._insertSuggestion(Ke,_t)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(pe){return this._selectors.register(pe)}};Qi.ID="editor.contrib.suggestController",Qi=Oi([tn(1,$),tn(2,me.H),tn(3,G.i6),tn(4,W.TG),tn(5,Pe.VZ)],Qi);class Sn{constructor(pe){this.prioritySelector=pe,this._items=new Array}register(pe){if(this._items.indexOf(pe)!==-1)throw new Error("Value is already registered");return this._items.push(pe),this._items.sort((Re,Ke)=>this.prioritySelector(Ke)-this.prioritySelector(Re)),{dispose:()=>{const Re=this._items.indexOf(pe);Re>=0&&this._items.splice(Re,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class ns extends V.R6{constructor(){super({id:ns.id,label:B.N("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:G.Ao.and(D.u.writable,D.u.hasCompletionItemProvider),kbOpts:{kbExpr:D.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(pe,Re){const Ke=Qi.get(Re);Ke&&Ke.triggerSuggest()}}ns.id="editor.action.triggerSuggest",(0,V._K)(Qi.ID,Qi),(0,V.Qr)(ns);const Ms=190,Dn=V._l.bindToContribution(Qi.get);(0,V.fK)(new Dn({id:"acceptSelectedSuggestion",precondition:Me._y.Visible,handler(Ut){Ut.acceptSelectedSuggestion(!0,!1)}})),de.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:G.Ao.and(Me._y.Visible,D.u.textInputFocus),primary:2,weight:Ms}),de.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:G.Ao.and(Me._y.Visible,D.u.textInputFocus,Me._y.AcceptSuggestionsOnEnter,Me._y.MakesTextEdit),primary:3,weight:Ms}),te.BH.appendMenuItem(Me.GI,{command:{id:"acceptSelectedSuggestion",title:B.N("accept.insert","Insert")},group:"left",order:1,when:Me._y.HasInsertAndReplaceRange.toNegated()}),te.BH.appendMenuItem(Me.GI,{command:{id:"acceptSelectedSuggestion",title:B.N("accept.insert","Insert")},group:"left",order:1,when:G.Ao.and(Me._y.HasInsertAndReplaceRange,Me._y.InsertMode.isEqualTo("insert"))}),te.BH.appendMenuItem(Me.GI,{command:{id:"acceptSelectedSuggestion",title:B.N("accept.replace","Replace")},group:"left",order:1,when:G.Ao.and(Me._y.HasInsertAndReplaceRange,Me._y.InsertMode.isEqualTo("replace"))}),(0,V.fK)(new Dn({id:"acceptAlternativeSelectedSuggestion",precondition:G.Ao.and(Me._y.Visible,D.u.textInputFocus),kbOpts:{weight:Ms,kbExpr:D.u.textInputFocus,primary:1027,secondary:[1026]},handler(Ut){Ut.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Me.GI,group:"left",order:2,when:G.Ao.and(Me._y.HasInsertAndReplaceRange,Me._y.InsertMode.isEqualTo("insert")),title:B.N("accept.replace","Replace")},{menuId:Me.GI,group:"left",order:2,when:G.Ao.and(Me._y.HasInsertAndReplaceRange,Me._y.InsertMode.isEqualTo("replace")),title:B.N("accept.insert","Insert")}]})),me.P.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,V.fK)(new Dn({id:"hideSuggestWidget",precondition:Me._y.Visible,handler:Ut=>Ut.cancelSuggestWidget(),kbOpts:{weight:Ms,kbExpr:D.u.textInputFocus,primary:9,secondary:[1033]}})),(0,V.fK)(new Dn({id:"selectNextSuggestion",precondition:G.Ao.and(Me._y.Visible,Me._y.MultipleSuggestions),handler:Ut=>Ut.selectNextSuggestion(),kbOpts:{weight:Ms,kbExpr:D.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,V.fK)(new Dn({id:"selectNextPageSuggestion",precondition:G.Ao.and(Me._y.Visible,Me._y.MultipleSuggestions),handler:Ut=>Ut.selectNextPageSuggestion(),kbOpts:{weight:Ms,kbExpr:D.u.textInputFocus,primary:12,secondary:[2060]}})),(0,V.fK)(new Dn({id:"selectLastSuggestion",precondition:G.Ao.and(Me._y.Visible,Me._y.MultipleSuggestions),handler:Ut=>Ut.selectLastSuggestion()})),(0,V.fK)(new Dn({id:"selectPrevSuggestion",precondition:G.Ao.and(Me._y.Visible,Me._y.MultipleSuggestions),handler:Ut=>Ut.selectPrevSuggestion(),kbOpts:{weight:Ms,kbExpr:D.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,V.fK)(new Dn({id:"selectPrevPageSuggestion",precondition:G.Ao.and(Me._y.Visible,Me._y.MultipleSuggestions),handler:Ut=>Ut.selectPrevPageSuggestion(),kbOpts:{weight:Ms,kbExpr:D.u.textInputFocus,primary:11,secondary:[2059]}})),(0,V.fK)(new Dn({id:"selectFirstSuggestion",precondition:G.Ao.and(Me._y.Visible,Me._y.MultipleSuggestions),handler:Ut=>Ut.selectFirstSuggestion()})),(0,V.fK)(new Dn({id:"toggleSuggestionDetails",precondition:Me._y.Visible,handler:Ut=>Ut.toggleSuggestionDetails(),kbOpts:{weight:Ms,kbExpr:D.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:Me.GI,group:"right",order:1,when:G.Ao.and(Me._y.DetailsVisible,Me._y.CanResolve),title:B.N("detail.more","show less")},{menuId:Me.GI,group:"right",order:1,when:G.Ao.and(Me._y.DetailsVisible.toNegated(),Me._y.CanResolve),title:B.N("detail.less","show more")}]})),(0,V.fK)(new Dn({id:"toggleExplainMode",precondition:Me._y.Visible,handler:Ut=>Ut.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,V.fK)(new Dn({id:"toggleSuggestionFocus",precondition:Me._y.Visible,handler:Ut=>Ut.toggleSuggestionFocus(),kbOpts:{weight:Ms,kbExpr:D.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,V.fK)(new Dn({id:"insertBestCompletion",precondition:G.Ao.and(D.u.textInputFocus,G.Ao.equals("config.editor.tabCompletion","on"),S.AtEnd,Me._y.Visible.toNegated(),ht.OtherSuggestions.toNegated(),f.SnippetController2.InSnippetMode.toNegated()),handler:(Ut,pe)=>{Ut.triggerSuggestAndAcceptBest((0,m.Kn)(pe)?Object.assign({fallback:"tab"},pe):{fallback:"tab"})},kbOpts:{weight:Ms,primary:2}})),(0,V.fK)(new Dn({id:"insertNextSuggestion",precondition:G.Ao.and(D.u.textInputFocus,G.Ao.equals("config.editor.tabCompletion","on"),ht.OtherSuggestions,Me._y.Visible.toNegated(),f.SnippetController2.InSnippetMode.toNegated()),handler:Ut=>Ut.acceptNextSuggestion(),kbOpts:{weight:Ms,kbExpr:D.u.textInputFocus,primary:2}})),(0,V.fK)(new Dn({id:"insertPrevSuggestion",precondition:G.Ao.and(D.u.textInputFocus,G.Ao.equals("config.editor.tabCompletion","on"),ht.OtherSuggestions,Me._y.Visible.toNegated(),f.SnippetController2.InSnippetMode.toNegated()),handler:Ut=>Ut.acceptPrevSuggestion(),kbOpts:{weight:Ms,kbExpr:D.u.textInputFocus,primary:1026}})),(0,V.Qr)(class extends V.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:B.N("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(Ut,pe){Qi.get(pe).resetWidgetSize()}})},96480:function(Yt,Ue,c){"use strict";c.r(Ue),c.d(Ue,{CancellationTokenSource:function(){return Ph},Emitter:function(){return Fh},KeyCode:function(){return Bh},KeyMod:function(){return Wh},MarkerSeverity:function(){return $h},MarkerTag:function(){return Kh},Position:function(){return Vh},Range:function(){return Hh},Selection:function(){return zh},SelectionDirection:function(){return Uh},Token:function(){return Gh},Uri:function(){return jh},editor:function(){return Zh},languages:function(){return Yh}});var g=c(64141),Y=c(71050),Q=c(4669),O=c(22258),y=c(70666),J=c(50187),k=c(24314),P=c(3860),s=c(85600),I;(function(u){u[u.Unknown=0]="Unknown",u[u.Disabled=1]="Disabled",u[u.Enabled=2]="Enabled"})(I||(I={}));var m;(function(u){u[u.KeepWhitespace=1]="KeepWhitespace",u[u.InsertAsSnippet=4]="InsertAsSnippet"})(m||(m={}));var C;(function(u){u[u.Method=0]="Method",u[u.Function=1]="Function",u[u.Constructor=2]="Constructor",u[u.Field=3]="Field",u[u.Variable=4]="Variable",u[u.Class=5]="Class",u[u.Struct=6]="Struct",u[u.Interface=7]="Interface",u[u.Module=8]="Module",u[u.Property=9]="Property",u[u.Event=10]="Event",u[u.Operator=11]="Operator",u[u.Unit=12]="Unit",u[u.Value=13]="Value",u[u.Constant=14]="Constant",u[u.Enum=15]="Enum",u[u.EnumMember=16]="EnumMember",u[u.Keyword=17]="Keyword",u[u.Text=18]="Text",u[u.Color=19]="Color",u[u.File=20]="File",u[u.Reference=21]="Reference",u[u.Customcolor=22]="Customcolor",u[u.Folder=23]="Folder",u[u.TypeParameter=24]="TypeParameter",u[u.User=25]="User",u[u.Issue=26]="Issue",u[u.Snippet=27]="Snippet"})(C||(C={}));var V;(function(u){u[u.Deprecated=1]="Deprecated"})(V||(V={}));var r;(function(u){u[u.Invoke=0]="Invoke",u[u.TriggerCharacter=1]="TriggerCharacter",u[u.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(r||(r={}));var x;(function(u){u[u.EXACT=0]="EXACT",u[u.ABOVE=1]="ABOVE",u[u.BELOW=2]="BELOW"})(x||(x={}));var w;(function(u){u[u.NotSet=0]="NotSet",u[u.ContentFlush=1]="ContentFlush",u[u.RecoverFromMarkers=2]="RecoverFromMarkers",u[u.Explicit=3]="Explicit",u[u.Paste=4]="Paste",u[u.Undo=5]="Undo",u[u.Redo=6]="Redo"})(w||(w={}));var D;(function(u){u[u.LF=1]="LF",u[u.CRLF=2]="CRLF"})(D||(D={}));var f;(function(u){u[u.Text=0]="Text",u[u.Read=1]="Read",u[u.Write=2]="Write"})(f||(f={}));var v;(function(u){u[u.None=0]="None",u[u.Keep=1]="Keep",u[u.Brackets=2]="Brackets",u[u.Advanced=3]="Advanced",u[u.Full=4]="Full"})(v||(v={}));var L;(function(u){u[u.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",u[u.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",u[u.accessibilitySupport=2]="accessibilitySupport",u[u.accessibilityPageSize=3]="accessibilityPageSize",u[u.ariaLabel=4]="ariaLabel",u[u.autoClosingBrackets=5]="autoClosingBrackets",u[u.autoClosingDelete=6]="autoClosingDelete",u[u.autoClosingOvertype=7]="autoClosingOvertype",u[u.autoClosingQuotes=8]="autoClosingQuotes",u[u.autoIndent=9]="autoIndent",u[u.automaticLayout=10]="automaticLayout",u[u.autoSurround=11]="autoSurround",u[u.bracketPairColorization=12]="bracketPairColorization",u[u.guides=13]="guides",u[u.codeLens=14]="codeLens",u[u.codeLensFontFamily=15]="codeLensFontFamily",u[u.codeLensFontSize=16]="codeLensFontSize",u[u.colorDecorators=17]="colorDecorators",u[u.columnSelection=18]="columnSelection",u[u.comments=19]="comments",u[u.contextmenu=20]="contextmenu",u[u.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",u[u.cursorBlinking=22]="cursorBlinking",u[u.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",u[u.cursorStyle=24]="cursorStyle",u[u.cursorSurroundingLines=25]="cursorSurroundingLines",u[u.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",u[u.cursorWidth=27]="cursorWidth",u[u.disableLayerHinting=28]="disableLayerHinting",u[u.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",u[u.domReadOnly=30]="domReadOnly",u[u.dragAndDrop=31]="dragAndDrop",u[u.emptySelectionClipboard=32]="emptySelectionClipboard",u[u.extraEditorClassName=33]="extraEditorClassName",u[u.fastScrollSensitivity=34]="fastScrollSensitivity",u[u.find=35]="find",u[u.fixedOverflowWidgets=36]="fixedOverflowWidgets",u[u.folding=37]="folding",u[u.foldingStrategy=38]="foldingStrategy",u[u.foldingHighlight=39]="foldingHighlight",u[u.foldingImportsByDefault=40]="foldingImportsByDefault",u[u.unfoldOnClickAfterEndOfLine=41]="unfoldOnClickAfterEndOfLine",u[u.fontFamily=42]="fontFamily",u[u.fontInfo=43]="fontInfo",u[u.fontLigatures=44]="fontLigatures",u[u.fontSize=45]="fontSize",u[u.fontWeight=46]="fontWeight",u[u.formatOnPaste=47]="formatOnPaste",u[u.formatOnType=48]="formatOnType",u[u.glyphMargin=49]="glyphMargin",u[u.gotoLocation=50]="gotoLocation",u[u.hideCursorInOverviewRuler=51]="hideCursorInOverviewRuler",u[u.hover=52]="hover",u[u.inDiffEditor=53]="inDiffEditor",u[u.inlineSuggest=54]="inlineSuggest",u[u.letterSpacing=55]="letterSpacing",u[u.lightbulb=56]="lightbulb",u[u.lineDecorationsWidth=57]="lineDecorationsWidth",u[u.lineHeight=58]="lineHeight",u[u.lineNumbers=59]="lineNumbers",u[u.lineNumbersMinChars=60]="lineNumbersMinChars",u[u.linkedEditing=61]="linkedEditing",u[u.links=62]="links",u[u.matchBrackets=63]="matchBrackets",u[u.minimap=64]="minimap",u[u.mouseStyle=65]="mouseStyle",u[u.mouseWheelScrollSensitivity=66]="mouseWheelScrollSensitivity",u[u.mouseWheelZoom=67]="mouseWheelZoom",u[u.multiCursorMergeOverlapping=68]="multiCursorMergeOverlapping",u[u.multiCursorModifier=69]="multiCursorModifier",u[u.multiCursorPaste=70]="multiCursorPaste",u[u.occurrencesHighlight=71]="occurrencesHighlight",u[u.overviewRulerBorder=72]="overviewRulerBorder",u[u.overviewRulerLanes=73]="overviewRulerLanes",u[u.padding=74]="padding",u[u.parameterHints=75]="parameterHints",u[u.peekWidgetDefaultFocus=76]="peekWidgetDefaultFocus",u[u.definitionLinkOpensInPeek=77]="definitionLinkOpensInPeek",u[u.quickSuggestions=78]="quickSuggestions",u[u.quickSuggestionsDelay=79]="quickSuggestionsDelay",u[u.readOnly=80]="readOnly",u[u.renameOnType=81]="renameOnType",u[u.renderControlCharacters=82]="renderControlCharacters",u[u.renderFinalNewline=83]="renderFinalNewline",u[u.renderLineHighlight=84]="renderLineHighlight",u[u.renderLineHighlightOnlyWhenFocus=85]="renderLineHighlightOnlyWhenFocus",u[u.renderValidationDecorations=86]="renderValidationDecorations",u[u.renderWhitespace=87]="renderWhitespace",u[u.revealHorizontalRightPadding=88]="revealHorizontalRightPadding",u[u.roundedSelection=89]="roundedSelection",u[u.rulers=90]="rulers",u[u.scrollbar=91]="scrollbar",u[u.scrollBeyondLastColumn=92]="scrollBeyondLastColumn",u[u.scrollBeyondLastLine=93]="scrollBeyondLastLine",u[u.scrollPredominantAxis=94]="scrollPredominantAxis",u[u.selectionClipboard=95]="selectionClipboard",u[u.selectionHighlight=96]="selectionHighlight",u[u.selectOnLineNumbers=97]="selectOnLineNumbers",u[u.showFoldingControls=98]="showFoldingControls",u[u.showUnused=99]="showUnused",u[u.snippetSuggestions=100]="snippetSuggestions",u[u.smartSelect=101]="smartSelect",u[u.smoothScrolling=102]="smoothScrolling",u[u.stickyTabStops=103]="stickyTabStops",u[u.stopRenderingLineAfter=104]="stopRenderingLineAfter",u[u.suggest=105]="suggest",u[u.suggestFontSize=106]="suggestFontSize",u[u.suggestLineHeight=107]="suggestLineHeight",u[u.suggestOnTriggerCharacters=108]="suggestOnTriggerCharacters",u[u.suggestSelection=109]="suggestSelection",u[u.tabCompletion=110]="tabCompletion",u[u.tabIndex=111]="tabIndex",u[u.unusualLineTerminators=112]="unusualLineTerminators",u[u.useShadowDOM=113]="useShadowDOM",u[u.useTabStops=114]="useTabStops",u[u.wordSeparators=115]="wordSeparators",u[u.wordWrap=116]="wordWrap",u[u.wordWrapBreakAfterCharacters=117]="wordWrapBreakAfterCharacters",u[u.wordWrapBreakBeforeCharacters=118]="wordWrapBreakBeforeCharacters",u[u.wordWrapColumn=119]="wordWrapColumn",u[u.wordWrapOverride1=120]="wordWrapOverride1",u[u.wordWrapOverride2=121]="wordWrapOverride2",u[u.wrappingIndent=122]="wrappingIndent",u[u.wrappingStrategy=123]="wrappingStrategy",u[u.showDeprecated=124]="showDeprecated",u[u.inlayHints=125]="inlayHints",u[u.editorClassName=126]="editorClassName",u[u.pixelRatio=127]="pixelRatio",u[u.tabFocusMode=128]="tabFocusMode",u[u.layoutInfo=129]="layoutInfo",u[u.wrappingInfo=130]="wrappingInfo"})(L||(L={}));var h;(function(u){u[u.TextDefined=0]="TextDefined",u[u.LF=1]="LF",u[u.CRLF=2]="CRLF"})(h||(h={}));var R;(function(u){u[u.LF=0]="LF",u[u.CRLF=1]="CRLF"})(R||(R={}));var T;(function(u){u[u.None=0]="None",u[u.Indent=1]="Indent",u[u.IndentOutdent=2]="IndentOutdent",u[u.Outdent=3]="Outdent"})(T||(T={}));var W;(function(u){u[u.Other=0]="Other",u[u.Type=1]="Type",u[u.Parameter=2]="Parameter"})(W||(W={}));var K;(function(u){u[u.Automatic=0]="Automatic",u[u.Explicit=1]="Explicit"})(K||(K={}));var ie;(function(u){u[u.DependsOnKbLayout=-1]="DependsOnKbLayout",u[u.Unknown=0]="Unknown",u[u.Backspace=1]="Backspace",u[u.Tab=2]="Tab",u[u.Enter=3]="Enter",u[u.Shift=4]="Shift",u[u.Ctrl=5]="Ctrl",u[u.Alt=6]="Alt",u[u.PauseBreak=7]="PauseBreak",u[u.CapsLock=8]="CapsLock",u[u.Escape=9]="Escape",u[u.Space=10]="Space",u[u.PageUp=11]="PageUp",u[u.PageDown=12]="PageDown",u[u.End=13]="End",u[u.Home=14]="Home",u[u.LeftArrow=15]="LeftArrow",u[u.UpArrow=16]="UpArrow",u[u.RightArrow=17]="RightArrow",u[u.DownArrow=18]="DownArrow",u[u.Insert=19]="Insert",u[u.Delete=20]="Delete",u[u.Digit0=21]="Digit0",u[u.Digit1=22]="Digit1",u[u.Digit2=23]="Digit2",u[u.Digit3=24]="Digit3",u[u.Digit4=25]="Digit4",u[u.Digit5=26]="Digit5",u[u.Digit6=27]="Digit6",u[u.Digit7=28]="Digit7",u[u.Digit8=29]="Digit8",u[u.Digit9=30]="Digit9",u[u.KeyA=31]="KeyA",u[u.KeyB=32]="KeyB",u[u.KeyC=33]="KeyC",u[u.KeyD=34]="KeyD",u[u.KeyE=35]="KeyE",u[u.KeyF=36]="KeyF",u[u.KeyG=37]="KeyG",u[u.KeyH=38]="KeyH",u[u.KeyI=39]="KeyI",u[u.KeyJ=40]="KeyJ",u[u.KeyK=41]="KeyK",u[u.KeyL=42]="KeyL",u[u.KeyM=43]="KeyM",u[u.KeyN=44]="KeyN",u[u.KeyO=45]="KeyO",u[u.KeyP=46]="KeyP",u[u.KeyQ=47]="KeyQ",u[u.KeyR=48]="KeyR",u[u.KeyS=49]="KeyS",u[u.KeyT=50]="KeyT",u[u.KeyU=51]="KeyU",u[u.KeyV=52]="KeyV",u[u.KeyW=53]="KeyW",u[u.KeyX=54]="KeyX",u[u.KeyY=55]="KeyY",u[u.KeyZ=56]="KeyZ",u[u.Meta=57]="Meta",u[u.ContextMenu=58]="ContextMenu",u[u.F1=59]="F1",u[u.F2=60]="F2",u[u.F3=61]="F3",u[u.F4=62]="F4",u[u.F5=63]="F5",u[u.F6=64]="F6",u[u.F7=65]="F7",u[u.F8=66]="F8",u[u.F9=67]="F9",u[u.F10=68]="F10",u[u.F11=69]="F11",u[u.F12=70]="F12",u[u.F13=71]="F13",u[u.F14=72]="F14",u[u.F15=73]="F15",u[u.F16=74]="F16",u[u.F17=75]="F17",u[u.F18=76]="F18",u[u.F19=77]="F19",u[u.NumLock=78]="NumLock",u[u.ScrollLock=79]="ScrollLock",u[u.Semicolon=80]="Semicolon",u[u.Equal=81]="Equal",u[u.Comma=82]="Comma",u[u.Minus=83]="Minus",u[u.Period=84]="Period",u[u.Slash=85]="Slash",u[u.Backquote=86]="Backquote",u[u.BracketLeft=87]="BracketLeft",u[u.Backslash=88]="Backslash",u[u.BracketRight=89]="BracketRight",u[u.Quote=90]="Quote",u[u.OEM_8=91]="OEM_8",u[u.IntlBackslash=92]="IntlBackslash",u[u.Numpad0=93]="Numpad0",u[u.Numpad1=94]="Numpad1",u[u.Numpad2=95]="Numpad2",u[u.Numpad3=96]="Numpad3",u[u.Numpad4=97]="Numpad4",u[u.Numpad5=98]="Numpad5",u[u.Numpad6=99]="Numpad6",u[u.Numpad7=100]="Numpad7",u[u.Numpad8=101]="Numpad8",u[u.Numpad9=102]="Numpad9",u[u.NumpadMultiply=103]="NumpadMultiply",u[u.NumpadAdd=104]="NumpadAdd",u[u.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",u[u.NumpadSubtract=106]="NumpadSubtract",u[u.NumpadDecimal=107]="NumpadDecimal",u[u.NumpadDivide=108]="NumpadDivide",u[u.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",u[u.ABNT_C1=110]="ABNT_C1",u[u.ABNT_C2=111]="ABNT_C2",u[u.AudioVolumeMute=112]="AudioVolumeMute",u[u.AudioVolumeUp=113]="AudioVolumeUp",u[u.AudioVolumeDown=114]="AudioVolumeDown",u[u.BrowserSearch=115]="BrowserSearch",u[u.BrowserHome=116]="BrowserHome",u[u.BrowserBack=117]="BrowserBack",u[u.BrowserForward=118]="BrowserForward",u[u.MediaTrackNext=119]="MediaTrackNext",u[u.MediaTrackPrevious=120]="MediaTrackPrevious",u[u.MediaStop=121]="MediaStop",u[u.MediaPlayPause=122]="MediaPlayPause",u[u.LaunchMediaPlayer=123]="LaunchMediaPlayer",u[u.LaunchMail=124]="LaunchMail",u[u.LaunchApp2=125]="LaunchApp2",u[u.MAX_VALUE=126]="MAX_VALUE"})(ie||(ie={}));var ce;(function(u){u[u.Hint=1]="Hint",u[u.Info=2]="Info",u[u.Warning=4]="Warning",u[u.Error=8]="Error"})(ce||(ce={}));var _e;(function(u){u[u.Unnecessary=1]="Unnecessary",u[u.Deprecated=2]="Deprecated"})(_e||(_e={}));var ve;(function(u){u[u.Inline=1]="Inline",u[u.Gutter=2]="Gutter"})(ve||(ve={}));var De;(function(u){u[u.UNKNOWN=0]="UNKNOWN",u[u.TEXTAREA=1]="TEXTAREA",u[u.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",u[u.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",u[u.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",u[u.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",u[u.CONTENT_TEXT=6]="CONTENT_TEXT",u[u.CONTENT_EMPTY=7]="CONTENT_EMPTY",u[u.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",u[u.CONTENT_WIDGET=9]="CONTENT_WIDGET",u[u.OVERVIEW_RULER=10]="OVERVIEW_RULER",u[u.SCROLLBAR=11]="SCROLLBAR",u[u.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",u[u.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(De||(De={}));var le;(function(u){u[u.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",u[u.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",u[u.TOP_CENTER=2]="TOP_CENTER"})(le||(le={}));var Z;(function(u){u[u.Left=1]="Left",u[u.Center=2]="Center",u[u.Right=4]="Right",u[u.Full=7]="Full"})(Z||(Z={}));var $;(function(u){u[u.Off=0]="Off",u[u.On=1]="On",u[u.Relative=2]="Relative",u[u.Interval=3]="Interval",u[u.Custom=4]="Custom"})($||($={}));var G;(function(u){u[u.None=0]="None",u[u.Text=1]="Text",u[u.Blocks=2]="Blocks"})(G||(G={}));var q;(function(u){u[u.Smooth=0]="Smooth",u[u.Immediate=1]="Immediate"})(q||(q={}));var p;(function(u){u[u.Auto=1]="Auto",u[u.Hidden=2]="Hidden",u[u.Visible=3]="Visible"})(p||(p={}));var S;(function(u){u[u.LTR=0]="LTR",u[u.RTL=1]="RTL"})(S||(S={}));var B;(function(u){u[u.Invoke=1]="Invoke",u[u.TriggerCharacter=2]="TriggerCharacter",u[u.ContentChange=3]="ContentChange"})(B||(B={}));var te;(function(u){u[u.File=0]="File",u[u.Module=1]="Module",u[u.Namespace=2]="Namespace",u[u.Package=3]="Package",u[u.Class=4]="Class",u[u.Method=5]="Method",u[u.Property=6]="Property",u[u.Field=7]="Field",u[u.Constructor=8]="Constructor",u[u.Enum=9]="Enum",u[u.Interface=10]="Interface",u[u.Function=11]="Function",u[u.Variable=12]="Variable",u[u.Constant=13]="Constant",u[u.String=14]="String",u[u.Number=15]="Number",u[u.Boolean=16]="Boolean",u[u.Array=17]="Array",u[u.Object=18]="Object",u[u.Key=19]="Key",u[u.Null=20]="Null",u[u.EnumMember=21]="EnumMember",u[u.Struct=22]="Struct",u[u.Event=23]="Event",u[u.Operator=24]="Operator",u[u.TypeParameter=25]="TypeParameter"})(te||(te={}));var me;(function(u){u[u.Deprecated=1]="Deprecated"})(me||(me={}));var de;(function(u){u[u.Hidden=0]="Hidden",u[u.Blink=1]="Blink",u[u.Smooth=2]="Smooth",u[u.Phase=3]="Phase",u[u.Expand=4]="Expand",u[u.Solid=5]="Solid"})(de||(de={}));var Pe;(function(u){u[u.Line=1]="Line",u[u.Block=2]="Block",u[u.Underline=3]="Underline",u[u.LineThin=4]="LineThin",u[u.BlockOutline=5]="BlockOutline",u[u.UnderlineThin=6]="UnderlineThin"})(Pe||(Pe={}));var Me;(function(u){u[u.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",u[u.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",u[u.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",u[u.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(Me||(Me={}));var nt;(function(u){u[u.None=0]="None",u[u.Same=1]="Same",u[u.Indent=2]="Indent",u[u.DeepIndent=3]="DeepIndent"})(nt||(nt={}));class It{static chord(t,i){return(0,O.gx)(t,i)}}It.CtrlCmd=2048,It.Shift=1024,It.Alt=512,It.WinCtrl=256;function ht(){return{editor:void 0,languages:void 0,CancellationTokenSource:Y.A,Emitter:Q.Q5,KeyCode:ie,KeyMod:It,Position:J.L,Range:k.e,Selection:P.Y,SelectionDirection:S,MarkerSeverity:ce,MarkerTag:_e,Uri:y.o,Token:s.WU}}var Mt=c(11640),it=c(65321),kt=c(91741),ze=c(43702),he=c(23897),ke=c(66663),et=c(95935),at=c(94565),rt;(function(u){u[u.API=0]="API",u[u.USER=1]="USER"})(rt||(rt={}));var Ne=c(50988),Oe=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},we=function(u,t){return function(i,o){t(i,o,u)}},Ye=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(U){U(A)})}return new(i||(i=Promise))(function(A,U){function X(Be){try{Ie(o.next(Be))}catch(tt){U(tt)}}function Ce(Be){try{Ie(o.throw(Be))}catch(tt){U(tt)}}function Ie(Be){Be.done?A(Be.value):_(Be.value).then(X,Ce)}Ie((o=o.apply(u,t||[])).next())})};let st=class{constructor(t){this._commandService=t}open(t,i){return Ye(this,void 0,void 0,function*(){if(!(0,Ne.xn)(t,ke.lg.command))return!1;if(!(i!=null&&i.allowCommands))return!0;typeof t=="string"&&(t=y.o.parse(t));let o=[];try{o=(0,he.Q)(decodeURIComponent(t.query))}catch(_){try{o=(0,he.Q)(t.query)}catch(A){}}return Array.isArray(o)||(o=[o]),yield this._commandService.executeCommand(t.path,...o),!0})}};st=Oe([we(0,at.H)],st);let Pt=class{constructor(t){this._editorService=t}open(t,i){return Ye(this,void 0,void 0,function*(){typeof t=="string"&&(t=y.o.parse(t));let o;const _=/^L?(\d+)(?:,(\d+))?/.exec(t.fragment);return _&&(o={startLineNumber:parseInt(_[1]),startColumn:_[2]?parseInt(_[2]):1},t=t.with({fragment:""})),t.scheme===ke.lg.file&&(t=(0,et.AH)(t)),yield this._editorService.openCodeEditor({resource:t,options:Object.assign({selection:o,context:i!=null&&i.fromUserGesture?rt.USER:rt.API},i==null?void 0:i.editorOptions)},this._editorService.getFocusedCodeEditor(),i==null?void 0:i.openToSide),!0})}};Pt=Oe([we(0,Mt.$)],Pt);let Qt=class{constructor(t,i){this._openers=new kt.S,this._validators=new kt.S,this._resolvers=new kt.S,this._resolvedUriTargets=new ze.Y9(o=>o.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new kt.S,this._defaultExternalOpener={openExternal:o=>Ye(this,void 0,void 0,function*(){return(0,Ne.xn)(o,ke.lg.http)||(0,Ne.xn)(o,ke.lg.https)?it.V3(o):window.location.href=o,!0})},this._openers.push({open:(o,_)=>Ye(this,void 0,void 0,function*(){return _!=null&&_.openExternal||(0,Ne.xn)(o,ke.lg.mailto)||(0,Ne.xn)(o,ke.lg.http)||(0,Ne.xn)(o,ke.lg.https)?(yield this._doOpenExternal(o,_),!0):!1})}),this._openers.push(new st(i)),this._openers.push(new Pt(t))}registerOpener(t){return{dispose:this._openers.unshift(t)}}registerValidator(t){return{dispose:this._validators.push(t)}}registerExternalUriResolver(t){return{dispose:this._resolvers.push(t)}}setDefaultExternalOpener(t){this._defaultExternalOpener=t}registerExternalOpener(t){return{dispose:this._externalOpeners.push(t)}}open(t,i){var o;return Ye(this,void 0,void 0,function*(){const _=typeof t=="string"?y.o.parse(t):t,A=(o=this._resolvedUriTargets.get(_))!==null&&o!==void 0?o:t;for(const U of this._validators)if(!(yield U.shouldOpen(A)))return!1;for(const U of this._openers)if(yield U.open(t,i))return!0;return!1})}resolveExternalUri(t,i){return Ye(this,void 0,void 0,function*(){for(const o of this._resolvers)try{const _=yield o.resolveExternalUri(t,i);if(_)return this._resolvedUriTargets.has(_.resolved)||this._resolvedUriTargets.set(_.resolved,t),_}catch(_){}throw new Error("Could not resolve external URI: "+t.toString())})}_doOpenExternal(t,i){return Ye(this,void 0,void 0,function*(){const o=typeof t=="string"?y.o.parse(t):t;let _;try{_=(yield this.resolveExternalUri(o,i)).resolved}catch(U){_=o}let A;if(typeof t=="string"&&o.toString()===_.toString()?A=t:A=encodeURI(_.toString(!0)),i!=null&&i.allowContributedOpeners){const U=typeof(i==null?void 0:i.allowContributedOpeners)=="string"?i==null?void 0:i.allowContributedOpeners:void 0;for(const X of this._externalOpeners)if(yield X.openExternal(A,{sourceUri:o,preferredOpenerId:U},Y.T.None))return!0}return this._defaultExternalOpener.openExternal(A,{sourceUri:o},Y.T.None)})}dispose(){this._validators.clear()}};Qt=Oe([we(0,Mt.$),we(1,at.H)],Qt);var ci=c(35146),Gt=c(5976),Lt=c(36248);const Ai={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class oi extends Gt.JT{constructor(t,i={}){super(),this._onDidUpdate=this._register(new Q.Q5),this._editor=t,this._options=Lt.jB(i,Ai,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=!!this._options.alwaysRevealFirst,this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(o=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(o=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(t){this.ranges=[],t&&t.forEach(i=>{!this._options.ignoreCharChanges&&i.charChanges?i.charChanges.forEach(o=>{this.ranges.push({rhs:!0,range:new k.e(o.modifiedStartLineNumber,o.modifiedStartColumn,o.modifiedEndLineNumber,o.modifiedEndColumn)})}):i.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new k.e(i.modifiedStartLineNumber,1,i.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new k.e(i.modifiedStartLineNumber,1,i.modifiedEndLineNumber+1,1)})}),this.ranges.sort((i,o)=>k.e.compareRangesUsingStarts(i.range,o.range)),this._onDidUpdate.fire(this)}_initIdx(t){let i=!1,o=this._editor.getPosition();if(!o){this.nextIdx=0;return}for(let _=0,A=this.ranges.length;_<A&&!i;_++){let U=this.ranges[_].range;o.isBeforeOrEqual(U.getStartPosition())&&(this.nextIdx=_+(t?0:-1),i=!0)}i||(this.nextIdx=t?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(t,i){if(ci.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(t):t?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let o=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let _=o.range.getStartPosition();this._editor.setPosition(_),this._editor.revealRangeInCenter(o.range,i)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(t=0){this._move(!0,t)}previous(t=0){this._move(!1,t)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}var $e=c(27374),Xe=c(96518),wi=c(84973),ii=c(10351),Ui=c(28111),Mn=c(90469),Ri=c(71531),ps=c(88216),Zn=c(15393),Bn=c(17301),Xi=c(1432),Vn=c(98401),qi=c(97295);const je="$initialize";let Tt=!1;function St(u){Xi.$L&&(Tt||(Tt=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(u.message))}class Ze{constructor(t,i,o,_){this.vsWorker=t,this.req=i,this.method=o,this.args=_,this.type=0}}class Je{constructor(t,i,o,_){this.vsWorker=t,this.seq=i,this.res=o,this.err=_,this.type=1}}class xt{constructor(t,i,o,_){this.vsWorker=t,this.req=i,this.eventName=o,this.arg=_,this.type=2}}class yt{constructor(t,i,o){this.vsWorker=t,this.req=i,this.event=o,this.type=3}}class Xt{constructor(t,i){this.vsWorker=t,this.req=i,this.type=4}}class ni{constructor(t){this._workerId=-1,this._handler=t,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(t){this._workerId=t}sendMessage(t,i){const o=String(++this._lastSentReq);return new Promise((_,A)=>{this._pendingReplies[o]={resolve:_,reject:A},this._send(new Ze(this._workerId,o,t,i))})}listen(t,i){let o=null;const _=new Q.Q5({onFirstListenerAdd:()=>{o=String(++this._lastSentReq),this._pendingEmitters.set(o,_),this._send(new xt(this._workerId,o,t,i))},onLastListenerRemove:()=>{this._pendingEmitters.delete(o),this._send(new Xt(this._workerId,o)),o=null}});return _.event}handleMessage(t){!t||!t.vsWorker||this._workerId!==-1&&t.vsWorker!==this._workerId||this._handleMessage(t)}_handleMessage(t){switch(t.type){case 1:return this._handleReplyMessage(t);case 0:return this._handleRequestMessage(t);case 2:return this._handleSubscribeEventMessage(t);case 3:return this._handleEventMessage(t);case 4:return this._handleUnsubscribeEventMessage(t)}}_handleReplyMessage(t){if(!this._pendingReplies[t.seq]){console.warn("Got reply to unknown seq");return}let i=this._pendingReplies[t.seq];if(delete this._pendingReplies[t.seq],t.err){let o=t.err;t.err.$isError&&(o=new Error,o.name=t.err.name,o.message=t.err.message,o.stack=t.err.stack),i.reject(o);return}i.resolve(t.res)}_handleRequestMessage(t){let i=t.req;this._handler.handleMessage(t.method,t.args).then(_=>{this._send(new Je(this._workerId,i,_,void 0))},_=>{_.detail instanceof Error&&(_.detail=(0,Bn.ri)(_.detail)),this._send(new Je(this._workerId,i,void 0,(0,Bn.ri)(_)))})}_handleSubscribeEventMessage(t){const i=t.req,o=this._handler.handleEvent(t.eventName,t.arg)(_=>{this._send(new yt(this._workerId,i,_))});this._pendingEvents.set(i,o)}_handleEventMessage(t){if(!this._pendingEmitters.has(t.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(t.req).fire(t.event)}_handleUnsubscribeEventMessage(t){if(!this._pendingEvents.has(t.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(t.req).dispose(),this._pendingEvents.delete(t.req)}_send(t){let i=[];if(t.type===0)for(let o=0;o<t.args.length;o++)t.args[o]instanceof ArrayBuffer&&i.push(t.args[o]);else t.type===1&&t.res instanceof ArrayBuffer&&i.push(t.res);this._handler.sendMessage(t,i)}}class gi extends Gt.JT{constructor(t,i,o){super();let _=null;this._worker=this._register(t.create("vs/base/common/worker/simpleWorker",Ie=>{this._protocol.handleMessage(Ie)},Ie=>{_&&_(Ie)})),this._protocol=new ni({sendMessage:(Ie,Be)=>{this._worker.postMessage(Ie,Be)},handleMessage:(Ie,Be)=>{if(typeof o[Ie]!="function")return Promise.reject(new Error("Missing method "+Ie+" on main thread host."));try{return Promise.resolve(o[Ie].apply(o,Be))}catch(tt){return Promise.reject(tt)}},handleEvent:(Ie,Be)=>{if(ji(Ie)){const tt=o[Ie].call(o,Be);if(typeof tt!="function")throw new Error(`Missing dynamic event ${Ie} on main thread host.`);return tt}if(Gi(Ie)){const tt=o[Ie];if(typeof tt!="function")throw new Error(`Missing event ${Ie} on main thread host.`);return tt}throw new Error(`Malformed event name ${Ie}`)}}),this._protocol.setWorkerId(this._worker.getId());let A=null;typeof Xi.li.require!="undefined"&&typeof Xi.li.require.getConfig=="function"?A=Xi.li.require.getConfig():typeof Xi.li.requirejs!="undefined"&&(A=Xi.li.requirejs.s.contexts._.config);const U=Vn.$E(o);this._onModuleLoaded=this._protocol.sendMessage(je,[this._worker.getId(),JSON.parse(JSON.stringify(A)),i,U]);const X=(Ie,Be)=>this._request(Ie,Be),Ce=(Ie,Be)=>this._protocol.listen(Ie,Be);this._lazyProxy=new Promise((Ie,Be)=>{_=Be,this._onModuleLoaded.then(tt=>{Ie(is(tt,X,Ce))},tt=>{Be(tt),this._onError("Worker failed to load "+i,tt)})})}getProxyObject(){return this._lazyProxy}_request(t,i){return new Promise((o,_)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(t,i).then(o,_)},_)})}_onError(t,i){console.error(t),console.info(i)}}function Gi(u){return u[0]==="o"&&u[1]==="n"&&qi.df(u.charCodeAt(2))}function ji(u){return/^onDynamic/.test(u)&&qi.df(u.charCodeAt(9))}function is(u,t,i){const o=U=>function(){const X=Array.prototype.slice.call(arguments,0);return t(U,X)},_=U=>function(X){return i(U,X)};let A={};for(const U of u){if(ji(U)){A[U]=_(U);continue}if(Gi(U)){A[U]=i(U,void 0);continue}A[U]=o(U)}return A}class Hi{constructor(t,i){this._requestHandlerFactory=i,this._requestHandler=null,this._protocol=new ni({sendMessage:(o,_)=>{t(o,_)},handleMessage:(o,_)=>this._handleMessage(o,_),handleEvent:(o,_)=>this._handleEvent(o,_)})}onmessage(t){this._protocol.handleMessage(t)}_handleMessage(t,i){if(t===je)return this.initialize(i[0],i[1],i[2],i[3]);if(!this._requestHandler||typeof this._requestHandler[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._requestHandler[t].apply(this._requestHandler,i))}catch(o){return Promise.reject(o)}}_handleEvent(t,i){if(!this._requestHandler)throw new Error("Missing requestHandler");if(ji(t)){const o=this._requestHandler[t].call(this._requestHandler,i);if(typeof o!="function")throw new Error(`Missing dynamic event ${t} on request handler.`);return o}if(Gi(t)){const o=this._requestHandler[t];if(typeof o!="function")throw new Error(`Missing event ${t} on request handler.`);return o}throw new Error(`Malformed event name ${t}`)}initialize(t,i,o,_){this._protocol.setWorkerId(t);const X=is(_,(Ce,Ie)=>this._protocol.sendMessage(Ce,Ie),(Ce,Ie)=>this._protocol.listen(Ce,Ie));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(X),Promise.resolve(types.getAllMethodNames(this._requestHandler))):(i&&(typeof i.baseUrl!="undefined"&&delete i.baseUrl,typeof i.paths!="undefined"&&typeof i.paths.vs!="undefined"&&delete i.paths.vs,typeof i.trustedTypesPolicy!==void 0&&delete i.trustedTypesPolicy,i.catchError=!0,globals.require.config(i)),new Promise((Ce,Ie)=>{const Be=globals.require;Be([o],tt=>{if(this._requestHandler=tt.create(X),!this._requestHandler){Ie(new Error("No RequestHandler!"));return}Ce(types.getAllMethodNames(this._requestHandler))},Ie)}))}}function hn(u){return new Hi(u,null)}var vt;const mt=(vt=window.trustedTypes)===null||vt===void 0?void 0:vt.createPolicy("defaultWorkerFactory",{createScriptURL:u=>u});function Nt(u,t){if(Xi.li.MonacoEnvironment){if(typeof Xi.li.MonacoEnvironment.getWorker=="function")return Xi.li.MonacoEnvironment.getWorker(u,t);if(typeof Xi.li.MonacoEnvironment.getWorkerUrl=="function"){const i=Xi.li.MonacoEnvironment.getWorkerUrl(u,t);return new Worker(mt?mt.createScriptURL(i):i,{name:t})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function He(u){return typeof u.then=="function"}class Qe{constructor(t,i,o,_,A){this.id=i;const U=Nt("workerMain.js",o);He(U)?this.worker=U:this.worker=Promise.resolve(U),this.postMessage(t,[]),this.worker.then(X=>{X.onmessage=function(Ce){_(Ce.data)},X.onmessageerror=A,typeof X.addEventListener=="function"&&X.addEventListener("error",A)})}getId(){return this.id}postMessage(t,i){this.worker&&this.worker.then(o=>o.postMessage(t,i))}dispose(){this.worker&&this.worker.then(t=>t.terminate()),this.worker=null}}class ft{constructor(t){this._label=t,this._webWorkerFailedBeforeError=!1}create(t,i,o){let _=++ft.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new Qe(t,_,this._label||"anonymous"+_,i,A=>{St(A),this._webWorkerFailedBeforeError=A,o(A)})}}ft.LAST_WORKER_ID=0;var ct=c(94660),ei=c(22571);const Vi=3;function fi(u,t,i,o){return new ei.Hs(u,t,i).ComputeDiff(o)}class Di{constructor(t){const i=[],o=[];for(let _=0,A=t.length;_<A;_++)i[_]=Cn(t[_],1),o[_]=En(t[_],1);this.lines=t,this._startColumns=i,this._endColumns=o}getElements(){const t=[];for(let i=0,o=this.lines.length;i<o;i++)t[i]=this.lines[i].substring(this._startColumns[i]-1,this._endColumns[i]-1);return t}getStrictElement(t){return this.lines[t]}getStartLineNumber(t){return t+1}getEndLineNumber(t){return t+1}createCharSequence(t,i,o){const _=[],A=[],U=[];let X=0;for(let Ce=i;Ce<=o;Ce++){const Ie=this.lines[Ce],Be=t?this._startColumns[Ce]:1,tt=t?this._endColumns[Ce]:Ie.length+1;for(let zt=Be;zt<tt;zt++)_[X]=Ie.charCodeAt(zt-1),A[X]=Ce+1,U[X]=zt,X++}return new zi(_,A,U)}}class zi{constructor(t,i,o){this._charCodes=t,this._lineNumbers=i,this._columns=o}getElements(){return this._charCodes}getStartLineNumber(t){return this._lineNumbers[t]}getStartColumn(t){return this._columns[t]}getEndLineNumber(t){return this._lineNumbers[t]}getEndColumn(t){return this._columns[t]+1}}class dn{constructor(t,i,o,_,A,U,X,Ce){this.originalStartLineNumber=t,this.originalStartColumn=i,this.originalEndLineNumber=o,this.originalEndColumn=_,this.modifiedStartLineNumber=A,this.modifiedStartColumn=U,this.modifiedEndLineNumber=X,this.modifiedEndColumn=Ce}static createFromDiffChange(t,i,o){let _,A,U,X,Ce,Ie,Be,tt;return t.originalLength===0?(_=0,A=0,U=0,X=0):(_=i.getStartLineNumber(t.originalStart),A=i.getStartColumn(t.originalStart),U=i.getEndLineNumber(t.originalStart+t.originalLength-1),X=i.getEndColumn(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(Ce=0,Ie=0,Be=0,tt=0):(Ce=o.getStartLineNumber(t.modifiedStart),Ie=o.getStartColumn(t.modifiedStart),Be=o.getEndLineNumber(t.modifiedStart+t.modifiedLength-1),tt=o.getEndColumn(t.modifiedStart+t.modifiedLength-1)),new dn(_,A,U,X,Ce,Ie,Be,tt)}}function gn(u){if(u.length<=1)return u;const t=[u[0]];let i=t[0];for(let o=1,_=u.length;o<_;o++){const A=u[o],U=A.originalStart-(i.originalStart+i.originalLength),X=A.modifiedStart-(i.modifiedStart+i.modifiedLength);Math.min(U,X)<Vi?(i.originalLength=A.originalStart+A.originalLength-i.originalStart,i.modifiedLength=A.modifiedStart+A.modifiedLength-i.modifiedStart):(t.push(A),i=A)}return t}class Mi{constructor(t,i,o,_,A){this.originalStartLineNumber=t,this.originalEndLineNumber=i,this.modifiedStartLineNumber=o,this.modifiedEndLineNumber=_,this.charChanges=A}static createFromDiffResult(t,i,o,_,A,U,X){let Ce,Ie,Be,tt,zt;if(i.originalLength===0?(Ce=o.getStartLineNumber(i.originalStart)-1,Ie=0):(Ce=o.getStartLineNumber(i.originalStart),Ie=o.getEndLineNumber(i.originalStart+i.originalLength-1)),i.modifiedLength===0?(Be=_.getStartLineNumber(i.modifiedStart)-1,tt=0):(Be=_.getStartLineNumber(i.modifiedStart),tt=_.getEndLineNumber(i.modifiedStart+i.modifiedLength-1)),U&&i.originalLength>0&&i.originalLength<20&&i.modifiedLength>0&&i.modifiedLength<20&&A()){const xi=o.createCharSequence(t,i.originalStart,i.originalStart+i.originalLength-1),ki=_.createCharSequence(t,i.modifiedStart,i.modifiedStart+i.modifiedLength-1);let en=fi(xi,ki,A,!0).changes;X&&(en=gn(en)),zt=[];for(let Tn=0,qn=en.length;Tn<qn;Tn++)zt.push(dn.createFromDiffChange(en[Tn],xi,ki))}return new Mi(Ce,Ie,Be,tt,zt)}}class pi{constructor(t,i,o){this.shouldComputeCharChanges=o.shouldComputeCharChanges,this.shouldPostProcessCharChanges=o.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=o.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=o.shouldMakePrettyDiff,this.originalLines=t,this.modifiedLines=i,this.original=new Di(t),this.modified=new Di(i),this.continueLineDiff=Yn(o.maxComputationTime),this.continueCharDiff=Yn(o.maxComputationTime===0?0:Math.min(o.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const t=fi(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),i=t.changes,o=t.quitEarly;if(this.shouldIgnoreTrimWhitespace){const X=[];for(let Ce=0,Ie=i.length;Ce<Ie;Ce++)X.push(Mi.createFromDiffResult(this.shouldIgnoreTrimWhitespace,i[Ce],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:o,changes:X}}const _=[];let A=0,U=0;for(let X=-1,Ce=i.length;X<Ce;X++){const Ie=X+1<Ce?i[X+1]:null,Be=Ie?Ie.originalStart:this.originalLines.length,tt=Ie?Ie.modifiedStart:this.modifiedLines.length;for(;A<Be&&U<tt;){const zt=this.originalLines[A],xi=this.modifiedLines[U];if(zt!==xi){{let ki=Cn(zt,1),en=Cn(xi,1);for(;ki>1&&en>1;){const Tn=zt.charCodeAt(ki-2),qn=xi.charCodeAt(en-2);if(Tn!==qn)break;ki--,en--}(ki>1||en>1)&&this._pushTrimWhitespaceCharChange(_,A+1,1,ki,U+1,1,en)}{let ki=En(zt,1),en=En(xi,1);const Tn=zt.length+1,qn=xi.length+1;for(;ki<Tn&&en<qn;){const ss=zt.charCodeAt(ki-1),xn=zt.charCodeAt(en-1);if(ss!==xn)break;ki++,en++}(ki<Tn||en<qn)&&this._pushTrimWhitespaceCharChange(_,A+1,ki,Tn,U+1,en,qn)}}A++,U++}Ie&&(_.push(Mi.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Ie,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),A+=Ie.originalLength,U+=Ie.modifiedLength)}return{quitEarly:o,changes:_}}_pushTrimWhitespaceCharChange(t,i,o,_,A,U,X){if(this._mergeTrimWhitespaceCharChange(t,i,o,_,A,U,X))return;let Ce;this.shouldComputeCharChanges&&(Ce=[new dn(i,o,i,_,A,U,A,X)]),t.push(new Mi(i,i,A,A,Ce))}_mergeTrimWhitespaceCharChange(t,i,o,_,A,U,X){const Ce=t.length;if(Ce===0)return!1;const Ie=t[Ce-1];return Ie.originalEndLineNumber===0||Ie.modifiedEndLineNumber===0?!1:Ie.originalEndLineNumber+1===i&&Ie.modifiedEndLineNumber+1===A?(Ie.originalEndLineNumber=i,Ie.modifiedEndLineNumber=A,this.shouldComputeCharChanges&&Ie.charChanges&&Ie.charChanges.push(new dn(i,o,i,_,A,U,A,X)),!0):!1}}function Cn(u,t){const i=qi.LC(u);return i===-1?t:i+1}function En(u,t){const i=qi.ow(u);return i===-1?t:i+2}function Yn(u){if(u===0)return()=>!0;const t=Date.now();return()=>Date.now()-t<u}var vs=c(3544);class ds{constructor(t,i,o,_){this._uri=t,this._lines=i,this._eol=o,this._versionId=_,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(t){t.eol&&t.eol!==this._eol&&(this._eol=t.eol,this._lineStarts=null);const i=t.changes;for(const o of i)this._acceptDeleteRange(o.range),this._acceptInsertText(new J.L(o.range.startLineNumber,o.range.startColumn),o.text);this._versionId=t.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const t=this._eol.length,i=this._lines.length,o=new Uint32Array(i);for(let _=0;_<i;_++)o[_]=this._lines[_].length+t;this._lineStarts=new vs.o(o)}}_setLineText(t,i){this._lines[t]=i,this._lineStarts&&this._lineStarts.changeValue(t,this._lines[t].length+this._eol.length)}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.startLineNumber-1].substring(t.endColumn-1));return}this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.endLineNumber-1].substring(t.endColumn-1)),this._lines.splice(t.startLineNumber,t.endLineNumber-t.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(t.startLineNumber,t.endLineNumber-t.startLineNumber)}_acceptInsertText(t,i){if(i.length===0)return;let o=(0,qi.uq)(i);if(o.length===1){this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+o[0]+this._lines[t.lineNumber-1].substring(t.column-1));return}o[o.length-1]+=this._lines[t.lineNumber-1].substring(t.column-1),this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+o[0]);let _=new Uint32Array(o.length-1);for(let A=1;A<o.length;A++)this._lines.splice(t.lineNumber+A-1,0,o[A]),_[A-1]=o[A].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(t.lineNumber,_)}}var Is=c(97461),Fo=c(44906);class no{constructor(t,i,o){const _=new Uint8Array(t*i);for(let A=0,U=t*i;A<U;A++)_[A]=o;this._data=_,this.rows=t,this.cols=i}get(t,i){return this._data[t*this.cols+i]}set(t,i,o){this._data[t*this.cols+i]=o}}class Ls{constructor(t){let i=0,o=0;for(let A=0,U=t.length;A<U;A++){let[X,Ce,Ie]=t[A];Ce>i&&(i=Ce),X>o&&(o=X),Ie>o&&(o=Ie)}i++,o++;let _=new no(o,i,0);for(let A=0,U=t.length;A<U;A++){let[X,Ce,Ie]=t[A];_.set(X,Ce,Ie)}this._states=_,this._maxCharCode=i}nextState(t,i){return i<0||i>=this._maxCharCode?0:this._states.get(t,i)}}let Io=null;function Xs(){return Io===null&&(Io=new Ls([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Io}let So=null;function Hs(){if(So===null){So=new Fo.N(0);const u=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let i=0;i<u.length;i++)So.set(u.charCodeAt(i),1);const t=".,;";for(let i=0;i<t.length;i++)So.set(t.charCodeAt(i),2)}return So}class zs{static _createLink(t,i,o,_,A){let U=A-1;do{const X=i.charCodeAt(U);if(t.get(X)!==2)break;U--}while(U>_);if(_>0){const X=i.charCodeAt(_-1),Ce=i.charCodeAt(U);(X===40&&Ce===41||X===91&&Ce===93||X===123&&Ce===125)&&U--}return{range:{startLineNumber:o,startColumn:_+1,endLineNumber:o,endColumn:U+2},url:i.substring(_,U+1)}}static computeLinks(t,i=Xs()){const o=Hs();let _=[];for(let A=1,U=t.getLineCount();A<=U;A++){const X=t.getLineContent(A),Ce=X.length;let Ie=0,Be=0,tt=0,zt=1,xi=!1,ki=!1,en=!1,Tn=!1;for(;Ie<Ce;){let qn=!1;const ss=X.charCodeAt(Ie);if(zt===13){let xn;switch(ss){case 40:xi=!0,xn=0;break;case 41:xn=xi?0:1;break;case 91:en=!0,ki=!0,xn=0;break;case 93:en=!1,xn=ki?0:1;break;case 123:Tn=!0,xn=0;break;case 125:xn=Tn?0:1;break;case 39:xn=tt===34||tt===96?0:1;break;case 34:xn=tt===39||tt===96?0:1;break;case 96:xn=tt===39||tt===34?0:1;break;case 42:xn=tt===42?1:0;break;case 124:xn=tt===124?1:0;break;case 32:xn=en?0:1;break;default:xn=o.get(ss)}xn===1&&(_.push(zs._createLink(o,X,A,Be,Ie)),qn=!0)}else if(zt===12){let xn;ss===91?(ki=!0,xn=0):xn=o.get(ss),xn===1?qn=!0:zt=13}else zt=i.nextState(zt,ss),zt===0&&(qn=!0);qn&&(zt=1,xi=!1,ki=!1,Tn=!1,Be=Ie+1,tt=ss),Ie++}zt===13&&_.push(zs._createLink(o,X,A,Be,Ce))}return _}}function uo(u){return!u||typeof u.getLineCount!="function"||typeof u.getLineContent!="function"?[]:zs.computeLinks(u)}class xo{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(t,i,o,_,A){if(t&&i){let U=this.doNavigateValueSet(i,A);if(U)return{range:t,value:U}}if(o&&_){let U=this.doNavigateValueSet(_,A);if(U)return{range:o,value:U}}return null}doNavigateValueSet(t,i){let o=this.numberReplace(t,i);return o!==null?o:this.textReplace(t,i)}numberReplace(t,i){let o=Math.pow(10,t.length-(t.lastIndexOf(".")+1)),_=Number(t),A=parseFloat(t);return!isNaN(_)&&!isNaN(A)&&_===A?_===0&&!i?null:(_=Math.floor(_*o),_+=i?o:-o,String(_/o)):null}textReplace(t,i){return this.valueSetsReplace(this._defaultValueSet,t,i)}valueSetsReplace(t,i,o){let _=null;for(let A=0,U=t.length;_===null&&A<U;A++)_=this.valueSetReplace(t[A],i,o);return _}valueSetReplace(t,i,o){let _=t.indexOf(i);return _>=0?(_+=o?1:-1,_<0?_=t.length-1:_%=t.length,t[_]):null}}xo.INSTANCE=new xo;var to=c(84013),so=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(U){U(A)})}return new(i||(i=Promise))(function(A,U){function X(Be){try{Ie(o.next(Be))}catch(tt){U(tt)}}function Ce(Be){try{Ie(o.throw(Be))}catch(tt){U(tt)}}function Ie(Be){Be.done?A(Be.value):_(Be.value).then(X,Ce)}Ie((o=o.apply(u,t||[])).next())})};class Oo extends ds{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(t){return this._lines[t-1]}getWordAtPosition(t,i){let o=(0,Is.t2)(t.column,(0,Is.eq)(i),this._lines[t.lineNumber-1],0);return o?new k.e(t.lineNumber,o.startColumn,t.lineNumber,o.endColumn):null}words(t){const i=this._lines,o=this._wordenize.bind(this);let _=0,A="",U=0,X=[];return{*[Symbol.iterator](){for(;;)if(U<X.length){const Ce=A.substring(X[U].start,X[U].end);U+=1,yield Ce}else if(_<i.length)A=i[_],X=o(A,t),U=0,_+=1;else break}}}getLineWords(t,i){let o=this._lines[t-1],_=this._wordenize(o,i),A=[];for(const U of _)A.push({word:o.substring(U.start,U.end),startColumn:U.start+1,endColumn:U.end+1});return A}_wordenize(t,i){const o=[];let _;for(i.lastIndex=0;(_=i.exec(t))&&_[0].length!==0;)o.push({start:_.index,end:_.index+_[0].length});return o}getValueInRange(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);let i=this._eol,o=t.startLineNumber-1,_=t.endLineNumber-1,A=[];A.push(this._lines[o].substring(t.startColumn-1));for(let U=o+1;U<_;U++)A.push(this._lines[U]);return A.push(this._lines[_].substring(0,t.endColumn-1)),A.join(i)}offsetAt(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getPrefixSum(t.lineNumber-2)+(t.column-1)}positionAt(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();let i=this._lineStarts.getIndexOf(t),o=this._lines[i.index].length;return{lineNumber:1+i.index,column:1+Math.min(i.remainder,o)}}_validateRange(t){const i=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),o=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return i.lineNumber!==t.startLineNumber||i.column!==t.startColumn||o.lineNumber!==t.endLineNumber||o.column!==t.endColumn?{startLineNumber:i.lineNumber,startColumn:i.column,endLineNumber:o.lineNumber,endColumn:o.column}:t}_validatePosition(t){if(!J.L.isIPosition(t))throw new Error("bad position");let{lineNumber:i,column:o}=t,_=!1;if(i<1)i=1,o=1,_=!0;else if(i>this._lines.length)i=this._lines.length,o=this._lines[i-1].length+1,_=!0;else{let A=this._lines[i-1].length+1;o<1?(o=1,_=!0):o>A&&(o=A,_=!0)}return _?{lineNumber:i,column:o}:t}}class us{constructor(t,i){this._host=t,this._models=Object.create(null),this._foreignModuleFactory=i,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(t){return this._models[t]}_getModels(){let t=[];return Object.keys(this._models).forEach(i=>t.push(this._models[i])),t}acceptNewModel(t){this._models[t.url]=new Oo(y.o.parse(t.url),t.lines,t.EOL,t.versionId)}acceptModelChanged(t,i){if(!this._models[t])return;this._models[t].onEvents(i)}acceptRemovedModel(t){this._models[t]&&delete this._models[t]}computeDiff(t,i,o,_){return so(this,void 0,void 0,function*(){const A=this._getModel(t),U=this._getModel(i);if(!A||!U)return null;const X=A.getLinesContent(),Ce=U.getLinesContent(),Be=new pi(X,Ce,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:o,shouldMakePrettyDiff:!0,maxComputationTime:_}).computeDiff(),tt=Be.changes.length>0?!1:this._modelsAreIdentical(A,U);return{quitEarly:Be.quitEarly,identical:tt,changes:Be.changes}})}_modelsAreIdentical(t,i){const o=t.getLineCount(),_=i.getLineCount();if(o!==_)return!1;for(let A=1;A<=o;A++){const U=t.getLineContent(A),X=i.getLineContent(A);if(U!==X)return!1}return!0}computeMoreMinimalEdits(t,i){return so(this,void 0,void 0,function*(){const o=this._getModel(t);if(!o)return i;const _=[];let A;i=i.slice(0).sort((U,X)=>{if(U.range&&X.range)return k.e.compareRangesUsingStarts(U.range,X.range);let Ce=U.range?0:1,Ie=X.range?0:1;return Ce-Ie});for(let{range:U,text:X,eol:Ce}of i){if(typeof Ce=="number"&&(A=Ce),k.e.isEmpty(U)&&!X)continue;const Ie=o.getValueInRange(U);if(X=X.replace(/\r\n|\n|\r/g,o.eol),Ie===X)continue;if(Math.max(X.length,Ie.length)>us._diffLimit){_.push({range:U,text:X});continue}const Be=(0,ei.a$)(Ie,X,!1),tt=o.offsetAt(k.e.lift(U).getStartPosition());for(const zt of Be){const xi=o.positionAt(tt+zt.originalStart),ki=o.positionAt(tt+zt.originalStart+zt.originalLength),en={text:X.substr(zt.modifiedStart,zt.modifiedLength),range:{startLineNumber:xi.lineNumber,startColumn:xi.column,endLineNumber:ki.lineNumber,endColumn:ki.column}};o.getValueInRange(en.range)!==en.text&&_.push(en)}}return typeof A=="number"&&_.push({eol:A,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),_})}computeLinks(t){return so(this,void 0,void 0,function*(){let i=this._getModel(t);return i?uo(i):null})}textualSuggest(t,i,o,_){return so(this,void 0,void 0,function*(){const A=new to.G(!0),U=new RegExp(o,_),X=new Set;e:for(let Ce of t){const Ie=this._getModel(Ce);if(Ie){for(let Be of Ie.words(U))if(!(Be===i||!isNaN(Number(Be)))&&(X.add(Be),X.size>us._suggestionsLimit))break e}}return{words:Array.from(X),duration:A.elapsed()}})}computeWordRanges(t,i,o,_){return so(this,void 0,void 0,function*(){let A=this._getModel(t);if(!A)return Object.create(null);const U=new RegExp(o,_),X=Object.create(null);for(let Ce=i.startLineNumber;Ce<i.endLineNumber;Ce++){let Ie=A.getLineWords(Ce,U);for(const Be of Ie){if(!isNaN(Number(Be.word)))continue;let tt=X[Be.word];tt||(tt=[],X[Be.word]=tt),tt.push({startLineNumber:Ce,startColumn:Be.startColumn,endLineNumber:Ce,endColumn:Be.endColumn})}}return X})}navigateValueSet(t,i,o,_,A){return so(this,void 0,void 0,function*(){let U=this._getModel(t);if(!U)return null;let X=new RegExp(_,A);i.startColumn===i.endColumn&&(i={startLineNumber:i.startLineNumber,startColumn:i.startColumn,endLineNumber:i.endLineNumber,endColumn:i.endColumn+1});let Ce=U.getValueInRange(i),Ie=U.getWordAtPosition({lineNumber:i.startLineNumber,column:i.startColumn},X);if(!Ie)return null;let Be=U.getValueInRange(Ie);return xo.INSTANCE.navigateValueSet(i,Ce,Ie,Be,o)})}loadForeignModule(t,i,o){const _=(X,Ce)=>this._host.fhr(X,Ce);let U={host:Vn.IU(o,_),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(U,i),Promise.resolve(Vn.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(t,i){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,i))}catch(o){return Promise.reject(o)}}}us._diffLimit=1e5,us._suggestionsLimit=1e4;function Eo(u){return new us(u,null)}typeof importScripts=="function"&&(Xi.li.monaco=ht());var hs=c(51200),os=c(72065);const vo=(0,os.yh)("textResourceConfigurationService"),rs=(0,os.yh)("textResourcePropertiesService");var co=c(9488),Ws=c(43557),ho=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},hi=function(u,t){return function(i,o){t(i,o,u)}},ge=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(U){U(A)})}return new(i||(i=Promise))(function(A,U){function X(Be){try{Ie(o.next(Be))}catch(tt){U(tt)}}function Ce(Be){try{Ie(o.throw(Be))}catch(tt){U(tt)}}function Ie(Be){Be.done?A(Be.value):_(Be.value).then(X,Ce)}Ie((o=o.apply(u,t||[])).next())})};const ut=60*1e3,gt=5*60*1e3;function Bt(u,t){let i=u.getModel(t);return!(!i||i.isTooLargeForSyncing())}let qt=class extends Gt.JT{constructor(t,i,o){super(),this._modelService=t,this._workerManager=this._register(new Li(this._modelService)),this._logService=o,this._register(ii.pM.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(_,A)=>Bt(this._modelService,_.uri)?this._workerManager.withWorker().then(U=>U.computeLinks(_.uri)).then(U=>U&&{links:U}):Promise.resolve({links:[]})})),this._register(ii.KZ.register("*",new vi(this._workerManager,i,this._modelService)))}dispose(){super.dispose()}computeDiff(t,i,o,_){return this._workerManager.withWorker().then(A=>A.computeDiff(t,i,o,_))}computeMoreMinimalEdits(t,i){if((0,co.Of)(i)){if(!Bt(this._modelService,t))return Promise.resolve(i);const o=to.G.create(!0),_=this._workerManager.withWorker().then(A=>A.computeMoreMinimalEdits(t,i));return _.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",t.toString(!0),o.elapsed())),Promise.race([_,(0,Zn.Vs)(1e3).then(()=>i)])}else return Promise.resolve(void 0)}canNavigateValueSet(t){return Bt(this._modelService,t)}navigateValueSet(t,i,o){return this._workerManager.withWorker().then(_=>_.navigateValueSet(t,i,o))}canComputeWordRanges(t){return Bt(this._modelService,t)}computeWordRanges(t,i){return this._workerManager.withWorker().then(o=>o.computeWordRanges(t,i))}};qt=ho([hi(0,hs.q),hi(1,vo),hi(2,Ws.VZ)],qt);class vi{constructor(t,i,o){this._debugDisplayName="wordbasedCompletions",this._workerManager=t,this._configurationService=i,this._modelService=o}provideCompletionItems(t,i){return ge(this,void 0,void 0,function*(){const o=this._configurationService.getValue(t.uri,i,"editor");if(!o.wordBasedSuggestions)return;const _=[];if(o.wordBasedSuggestionsMode==="currentDocument")Bt(this._modelService,t.uri)&&_.push(t.uri);else for(const tt of this._modelService.getModels())Bt(this._modelService,tt.uri)&&(tt===t?_.unshift(tt.uri):(o.wordBasedSuggestionsMode==="allDocuments"||tt.getLanguageId()===t.getLanguageId())&&_.push(tt.uri));if(_.length===0)return;const A=ct.zu.getWordDefinition(t.getLanguageId()),U=t.getWordAtPosition(i),X=U?new k.e(i.lineNumber,U.startColumn,i.lineNumber,U.endColumn):k.e.fromPositions(i),Ce=X.setEndPosition(i.lineNumber,i.column),Be=yield(yield this._workerManager.withWorker()).textualSuggest(_,U==null?void 0:U.word,A);if(Be)return{duration:Be.duration,suggestions:Be.words.map(tt=>({kind:18,label:tt,insertText:tt,range:{insert:Ce,replace:X}}))}})}}class Li extends Gt.JT{constructor(t){super(),this._modelService=t,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new Zn.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(gt/2)),this._register(this._modelService.onModelRemoved(o=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>gt&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new ts(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class mi extends Gt.JT{constructor(t,i,o){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=t,this._modelService=i,!o){let _=new Zn.zh;_.cancelAndSet(()=>this._checkStopModelSync(),Math.round(ut/2)),this._register(_)}}dispose(){for(let t in this._syncedModels)(0,Gt.B9)(this._syncedModels[t]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(t,i){for(const o of t){let _=o.toString();this._syncedModels[_]||this._beginModelSync(o,i),this._syncedModels[_]&&(this._syncedModelsLastUsedTime[_]=new Date().getTime())}}_checkStopModelSync(){let t=new Date().getTime(),i=[];for(let o in this._syncedModelsLastUsedTime)t-this._syncedModelsLastUsedTime[o]>ut&&i.push(o);for(const o of i)this._stopModelSync(o)}_beginModelSync(t,i){let o=this._modelService.getModel(t);if(!o||!i&&o.isTooLargeForSyncing())return;let _=t.toString();this._proxy.acceptNewModel({url:o.uri.toString(),lines:o.getLinesContent(),EOL:o.getEOL(),versionId:o.getVersionId()});const A=new Gt.SL;A.add(o.onDidChangeContent(U=>{this._proxy.acceptModelChanged(_.toString(),U)})),A.add(o.onWillDispose(()=>{this._stopModelSync(_)})),A.add((0,Gt.OF)(()=>{this._proxy.acceptRemovedModel(_)})),this._syncedModels[_]=A}_stopModelSync(t){let i=this._syncedModels[t];delete this._syncedModels[t],delete this._syncedModelsLastUsedTime[t],(0,Gt.B9)(i)}}class un{constructor(t){this._instance=t,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class Bi{constructor(t){this._workerClient=t}fhr(t,i){return this._workerClient.fhr(t,i)}}class ts extends Gt.JT{constructor(t,i,o){super(),this._disposed=!1,this._modelService=t,this._keepIdleModels=i,this._workerFactory=new ft(o),this._worker=null,this._modelManager=null}fhr(t,i){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new gi(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Bi(this)))}catch(t){St(t),this._worker=new un(new us(new Bi(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,t=>(St(t),this._worker=new un(new us(new Bi(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(t){return this._modelManager||(this._modelManager=this._register(new mi(t,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(t,i=!1){return ge(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,Bn.F0)()):this._getProxy().then(o=>(this._getOrCreateModelManager(o).ensureSyncedResources(t,i),o))})}computeDiff(t,i,o,_){return this._withSyncedResources([t,i],!0).then(A=>A.computeDiff(t.toString(),i.toString(),o,_))}computeMoreMinimalEdits(t,i){return this._withSyncedResources([t]).then(o=>o.computeMoreMinimalEdits(t.toString(),i))}computeLinks(t){return this._withSyncedResources([t]).then(i=>i.computeLinks(t.toString()))}textualSuggest(t,i,o){return ge(this,void 0,void 0,function*(){const _=yield this._withSyncedResources(t),A=o.source,U=(0,qi.mr)(o);return _.textualSuggest(t.map(X=>X.toString()),i,A,U)})}computeWordRanges(t,i){return this._withSyncedResources([t]).then(o=>{let _=this._modelService.getModel(t);if(!_)return Promise.resolve(null);let A=ct.zu.getWordDefinition(_.getLanguageId()),U=A.source,X=(0,qi.mr)(A);return o.computeWordRanges(t.toString(),i,U,X)})}navigateValueSet(t,i,o){return this._withSyncedResources([t]).then(_=>{let A=this._modelService.getModel(t);if(!A)return null;let U=ct.zu.getWordDefinition(A.getLanguageId()),X=U.source,Ce=(0,qi.mr)(U);return _.navigateValueSet(t.toString(),i,o,X,Ce)})}dispose(){super.dispose(),this._disposed=!0}}function Rt(u,t){return new F(u,t)}class F extends ts{constructor(t,i){super(t,i.keepIdleModels||!1,i.label),this._foreignModuleId=i.moduleId,this._foreignModuleCreateData=i.createData||null,this._foreignModuleHost=i.host||null,this._foreignProxy=null}fhr(t,i){if(!this._foreignModuleHost||typeof this._foreignModuleHost[t]!="function")return Promise.reject(new Error("Missing method "+t+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[t].apply(this._foreignModuleHost,i))}catch(o){return Promise.reject(o)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(t=>{const i=this._foreignModuleHost?Vn.$E(this._foreignModuleHost):[];return t.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,i).then(o=>{this._foreignModuleCreateData=null;const _=(X,Ce)=>t.fmr(X,Ce),A=(X,Ce)=>function(){const Ie=Array.prototype.slice.call(arguments,0);return Ce(X,Ie)};let U={};for(const X of o)U[X]=A(X,_);return U})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(t){return this._withSyncedResources(t).then(i=>this.getProxy())}}var re=c(78411),Se=c(77736),Fe=c(13824);function lt(u){return Array.isArray(u)}function Ot(u){return!lt(u)}function Zt(u){return typeof u=="string"}function di(u){return!Zt(u)}function Ei(u){return!u}function li(u,t){return u.ignoreCase&&t?t.toLowerCase():t}function Oi(u){return u.replace(/[&<>'"_]/g,"-")}function tn(u,t){console.log(`${u.languageId}: ${t}`)}function yi(u,t){return new Error(`${u.languageId}: ${t}`)}function nn(u,t,i,o,_){const A=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let U=null;return t.replace(A,function(X,Ce,Ie,Be,tt,zt,xi,ki,en){return Ei(Ie)?Ei(Be)?!Ei(tt)&&tt<o.length?li(u,o[tt]):!Ei(xi)&&u&&typeof u[xi]=="string"?u[xi]:(U===null&&(U=_.split("."),U.unshift(_)),!Ei(zt)&&zt<U.length?li(u,U[zt]):""):li(u,i):"$"})}function Qi(u,t){let i=t;for(;i&&i.length>0;){const o=u.tokenizer[i];if(o)return o;const _=i.lastIndexOf(".");_<0?i=null:i=i.substr(0,_)}return null}function Sn(u,t){let i=t;for(;i&&i.length>0;){if(u.stateNames[i])return!0;const _=i.lastIndexOf(".");_<0?i=null:i=i.substr(0,_)}return!1}const ns=5;class Ms{constructor(t){this._maxCacheDepth=t,this._entries=Object.create(null)}static create(t,i){return this._INSTANCE.create(t,i)}create(t,i){if(t!==null&&t.depth>=this._maxCacheDepth)return new Dn(t,i);let o=Dn.getStackElementId(t);o.length>0&&(o+="|"),o+=i;let _=this._entries[o];return _||(_=new Dn(t,i),this._entries[o]=_,_)}}Ms._INSTANCE=new Ms(ns);class Dn{constructor(t,i){this.parent=t,this.state=i,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(t){let i="";for(;t!==null;)i.length>0&&(i+="|"),i+=t.state,t=t.parent;return i}static _equals(t,i){for(;t!==null&&i!==null;){if(t===i)return!0;if(t.state!==i.state)return!1;t=t.parent,i=i.parent}return t===null&&i===null}equals(t){return Dn._equals(this,t)}push(t){return Ms.create(this,t)}pop(){return this.parent}popall(){let t=this;for(;t.parent;)t=t.parent;return t}switchTo(t){return Ms.create(this.parent,t)}}class Ut{constructor(t,i){this.languageId=t,this.state=i}equals(t){return this.languageId===t.languageId&&this.state.equals(t.state)}clone(){return this.state.clone()===this.state?this:new Ut(this.languageId,this.state)}}class pe{constructor(t){this._maxCacheDepth=t,this._entries=Object.create(null)}static create(t,i){return this._INSTANCE.create(t,i)}create(t,i){if(i!==null)return new Re(t,i);if(t!==null&&t.depth>=this._maxCacheDepth)return new Re(t,i);let o=Dn.getStackElementId(t),_=this._entries[o];return _||(_=new Re(t,null),this._entries[o]=_,_)}}pe._INSTANCE=new pe(ns);class Re{constructor(t,i){this.stack=t,this.embeddedModeData=i}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:pe.create(this.stack,this.embeddedModeData)}equals(t){return!(t instanceof Re)||!this.stack.equals(t.stack)?!1:this.embeddedModeData===null&&t.embeddedModeData===null?!0:this.embeddedModeData===null||t.embeddedModeData===null?!1:this.embeddedModeData.equals(t.embeddedModeData)}}class Ke{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(t,i){this._languageId=i}emit(t,i){this._lastTokenType===i&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=i,this._lastTokenLanguage=this._languageId,this._tokens.push(new s.WU(t,i,this._languageId)))}nestedModeTokenize(t,i,o,_){const A=o.languageId,U=o.state,X=ii.RW.get(A);if(!X)return this.enterMode(_,A),this.emit(_,""),U;let Ce=X.tokenize(t,i,U,_);return this._tokens=this._tokens.concat(Ce.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,Ce.endState}finalize(t){return new s.hG(this._tokens,t)}}class _t{constructor(t,i){this._modeService=t,this._theme=i,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(t,i){this._currentLanguageId=this._modeService.languageIdCodec.encodeLanguageId(i)}emit(t,i){let o=this._theme.match(this._currentLanguageId,i);this._lastTokenMetadata!==o&&(this._lastTokenMetadata=o,this._tokens.push(t),this._tokens.push(o))}static _merge(t,i,o){let _=t!==null?t.length:0,A=i.length,U=o!==null?o.length:0;if(_===0&&A===0&&U===0)return new Uint32Array(0);if(_===0&&A===0)return o;if(A===0&&U===0)return t;let X=new Uint32Array(_+A+U);t!==null&&X.set(t);for(let Ce=0;Ce<A;Ce++)X[_+Ce]=i[Ce];return o!==null&&X.set(o,_+A),X}nestedModeTokenize(t,i,o,_){const A=o.languageId,U=o.state,X=ii.RW.get(A);if(!X)return this.enterMode(_,A),this.emit(_,""),U;let Ce=X.tokenize2(t,i,U,_);return this._prependTokens=_t._merge(this._prependTokens,this._tokens,Ce.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,Ce.endState}finalize(t){return new s.Hi(_t._merge(this._prependTokens,this._tokens,null),t)}}class bt{constructor(t,i,o,_){this._modeService=t,this._standaloneThemeService=i,this._languageId=o,this._lexer=_,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let A=!1;this._tokenizationRegistryListener=ii.RW.onDidChange(U=>{if(A)return;let X=!1;for(let Ce=0,Ie=U.changedLanguages.length;Ce<Ie;Ce++){let Be=U.changedLanguages[Ce];if(this._embeddedModes[Be]){X=!0;break}}X&&(A=!0,ii.RW.fire([this._languageId]),A=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let t=[];for(let i in this._embeddedModes){const o=ii.RW.get(i);if(o){if(o instanceof bt){const A=o.getLoadStatus();A.loaded===!1&&t.push(A.promise)}continue}const _=ii.RW.getPromise(i);_&&t.push(_)}return t.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(t).then(i=>{})}}getInitialState(){let t=Ms.create(null,this._lexer.start);return pe.create(t,null)}tokenize(t,i,o,_){let A=new Ke,U=this._tokenize(t,i,o,_,A);return A.finalize(U)}tokenize2(t,i,o,_){let A=new _t(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),U=this._tokenize(t,i,o,_,A);return A.finalize(U)}_tokenize(t,i,o,_,A){return o.embeddedModeData?this._nestedTokenize(t,i,o,_,A):this._myTokenize(t,i,o,_,A)}_findLeavingNestedModeOffset(t,i){let o=this._lexer.tokenizer[i.stack.state];if(!o&&(o=Qi(this._lexer,i.stack.state),!o))throw yi(this._lexer,"tokenizer state is not defined: "+i.stack.state);let _=-1,A=!1;for(const U of o){if(!di(U.action)||U.action.nextEmbedded!=="@pop")continue;A=!0;let X=U.regex,Ce=U.regex.source;if(Ce.substr(0,4)==="^(?:"&&Ce.substr(Ce.length-1,1)===")"){let Be=(X.ignoreCase?"i":"")+(X.unicode?"u":"");X=new RegExp(Ce.substr(4,Ce.length-5),Be)}let Ie=t.search(X);Ie===-1||Ie!==0&&U.matchOnlyAtLineStart||(_===-1||Ie<_)&&(_=Ie)}if(!A)throw yi(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+i.stack.state);return _}_nestedTokenize(t,i,o,_,A){let U=this._findLeavingNestedModeOffset(t,o);if(U===-1){let Ie=A.nestedModeTokenize(t,i,o.embeddedModeData,_);return pe.create(o.stack,new Ut(o.embeddedModeData.languageId,Ie))}let X=t.substring(0,U);X.length>0&&A.nestedModeTokenize(X,!1,o.embeddedModeData,_);let Ce=t.substring(U);return this._myTokenize(Ce,i,o,_+U,A)}_safeRuleName(t){return t?t.name:"(unknown)"}_myTokenize(t,i,o,_,A){A.enterMode(_,this._languageId);const U=t.length,X=i&&this._lexer.includeLF?t+`
`:t,Ce=X.length;let Ie=o.embeddedModeData,Be=o.stack,tt=0,zt=null,xi=!0;for(;xi||tt<Ce;){const ki=tt,en=Be.depth,Tn=zt?zt.groups.length:0,qn=Be.state;let ss=null,xn=null,Wn=null,io=null,ks=null;if(zt){ss=zt.matches;const Cs=zt.groups.shift();xn=Cs.matched,Wn=Cs.action,io=zt.rule,zt.groups.length===0&&(zt=null)}else{if(!xi&&tt>=Ce)break;xi=!1;let Cs=this._lexer.tokenizer[qn];if(!Cs&&(Cs=Qi(this._lexer,qn),!Cs))throw yi(this._lexer,"tokenizer state is not defined: "+qn);let es=X.substr(tt);for(const Qs of Cs)if((tt===0||!Qs.matchOnlyAtLineStart)&&(ss=es.match(Qs.regex),ss)){xn=ss[0],Wn=Qs.action;break}}if(ss||(ss=[""],xn=""),Wn||(tt<Ce&&(ss=[X.charAt(tt)],xn=ss[0]),Wn=this._lexer.defaultToken),xn===null)break;for(tt+=xn.length;Ot(Wn)&&di(Wn)&&Wn.test;)Wn=Wn.test(xn,ss,qn,tt===Ce);let Un=null;if(typeof Wn=="string"||Array.isArray(Wn))Un=Wn;else if(Wn.group)Un=Wn.group;else if(Wn.token!==null&&Wn.token!==void 0){if(Wn.tokenSubst?Un=nn(this._lexer,Wn.token,xn,ss,qn):Un=Wn.token,Wn.nextEmbedded)if(Wn.nextEmbedded==="@pop"){if(!Ie)throw yi(this._lexer,"cannot pop embedded mode if not inside one");Ie=null}else{if(Ie)throw yi(this._lexer,"cannot enter embedded mode from within an embedded mode");ks=nn(this._lexer,Wn.nextEmbedded,xn,ss,qn)}if(Wn.goBack&&(tt=Math.max(0,tt-Wn.goBack)),Wn.switchTo&&typeof Wn.switchTo=="string"){let Cs=nn(this._lexer,Wn.switchTo,xn,ss,qn);if(Cs[0]==="@"&&(Cs=Cs.substr(1)),Qi(this._lexer,Cs))Be=Be.switchTo(Cs);else throw yi(this._lexer,"trying to switch to a state '"+Cs+"' that is undefined in rule: "+this._safeRuleName(io))}else{if(Wn.transform&&typeof Wn.transform=="function")throw yi(this._lexer,"action.transform not supported");if(Wn.next)if(Wn.next==="@push"){if(Be.depth>=this._lexer.maxStack)throw yi(this._lexer,"maximum tokenizer stack size reached: ["+Be.state+","+Be.parent.state+",...]");Be=Be.push(qn)}else if(Wn.next==="@pop"){if(Be.depth<=1)throw yi(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(io));Be=Be.pop()}else if(Wn.next==="@popall")Be=Be.popall();else{let Cs=nn(this._lexer,Wn.next,xn,ss,qn);if(Cs[0]==="@"&&(Cs=Cs.substr(1)),Qi(this._lexer,Cs))Be=Be.push(Cs);else throw yi(this._lexer,"trying to set a next state '"+Cs+"' that is undefined in rule: "+this._safeRuleName(io))}}Wn.log&&typeof Wn.log=="string"&&tn(this._lexer,this._lexer.languageId+": "+nn(this._lexer,Wn.log,xn,ss,qn))}if(Un===null)throw yi(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(io));const Pn=Cs=>{let es=this._modeService.getModeIdForLanguageName(Cs);es&&(Cs=es);const Qs=this._getNestedEmbeddedModeData(Cs);if(tt<Ce){const $o=t.substr(tt);return this._nestedTokenize($o,i,pe.create(Be,Qs),_+tt,A)}else return pe.create(Be,Qs)};if(Array.isArray(Un)){if(zt&&zt.groups.length>0)throw yi(this._lexer,"groups cannot be nested: "+this._safeRuleName(io));if(ss.length!==Un.length+1)throw yi(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(io));let Cs=0;for(let es=1;es<ss.length;es++)Cs+=ss[es].length;if(Cs!==xn.length)throw yi(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(io));zt={rule:io,matches:ss,groups:[]};for(let es=0;es<Un.length;es++)zt.groups[es]={action:Un[es],matched:ss[es+1]};tt-=xn.length;continue}else{if(Un==="@rematch"&&(tt-=xn.length,xn="",ss=null,Un="",ks!==null))return Pn(ks);if(xn.length===0){if(Ce===0||en!==Be.depth||qn!==Be.state||(zt?zt.groups.length:0)!==Tn)continue;throw yi(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(io))}let Cs=null;if(Zt(Un)&&Un.indexOf("@brackets")===0){let es=Un.substr(9),Qs=ti(this._lexer,xn);if(!Qs)throw yi(this._lexer,"@brackets token returned but no bracket defined as: "+xn);Cs=Oi(Qs.token+es)}else{let es=Un===""?"":Un+this._lexer.tokenPostfix;Cs=Oi(es)}ki<U&&A.emit(ki+_,Cs)}if(ks!==null)return Pn(ks)}return pe.create(Be,Ie)}_getNestedEmbeddedModeData(t){let i=this._locateMode(t);if(i){let o=ii.RW.get(i);if(o)return new Ut(i,o.getInitialState())}return new Ut(i||Ui.TG,Ui.nO)}_locateMode(t){if(!t||!this._modeService.isRegisteredMode(t))return null;if(t===this._languageId)return t;const i=this._modeService.getModeId(t);return i&&(this._modeService.triggerMode(i),this._embeddedModes[i]=!0),i}}function ti(u,t){if(!t)return null;t=li(u,t);let i=u.brackets;for(const o of i){if(o.open===t)return{token:o.token,bracketType:1};if(o.close===t)return{token:o.token,bracketType:-1}}return null}function Jt(u,t,i,o){return new bt(u,t,i,o)}var ln;const An=(ln=window.trustedTypes)===null||ln===void 0?void 0:ln.createPolicy("standaloneColorizer",{createHTML:u=>u});class Pi{static colorizeElement(t,i,o,_){_=_||{};let A=_.theme||"vs",U=_.mimeType||o.getAttribute("lang")||o.getAttribute("data-lang");if(!U)return console.error("Mode not detected"),Promise.resolve();t.setTheme(A);let X=o.firstChild?o.firstChild.nodeValue:"";o.className+=" "+A;let Ce=Ie=>{var Be;const tt=(Be=An==null?void 0:An.createHTML(Ie))!==null&&Be!==void 0?Be:Ie;o.innerHTML=tt};return this.colorize(i,X||"",U,_).then(Ce,Ie=>console.error(Ie))}static colorize(t,i,o,_){const A=t.languageIdCodec;let U=4;_&&typeof _.tabSize=="number"&&(U=_.tabSize),qi.uS(i)&&(i=i.substr(1));let X=qi.uq(i),Ce=t.getModeId(o);if(!Ce)return Promise.resolve(Ln(X,U,A));t.triggerMode(Ce);const Ie=ii.RW.get(Ce);if(Ie)return on(X,U,Ie,A);const Be=ii.RW.getPromise(Ce);return Be?new Promise((tt,zt)=>{Be.then(xi=>{on(X,U,xi,A).then(tt,zt)},zt)}):new Promise((tt,zt)=>{let xi=null,ki=null;const en=()=>{xi&&(xi.dispose(),xi=null),ki&&(ki.dispose(),ki=null);const Tn=ii.RW.get(Ce);if(Tn){on(X,U,Tn,A).then(tt,zt);return}tt(Ln(X,U,A))};ki=new Zn._F,ki.cancelAndSet(en,500),xi=ii.RW.onDidChange(Tn=>{Tn.changedLanguages.indexOf(Ce)>=0&&en()})})}static colorizeLine(t,i,o,_,A=4){const U=Fe.wA.isBasicASCII(t,i),X=Fe.wA.containsRTL(t,U,o);return(0,Se.tF)(new Se.IJ(!1,!0,t,!1,U,X,0,_,[],A,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(t,i,o=4){let _=t.getLineContent(i);t.forceTokenization(i);let U=t.getLineTokens(i).inflate();return this.colorizeLine(_,t.mightContainNonBasicASCII(),t.mightContainRTL(),U,o)}}function on(u,t,i,o){return new Promise((_,A)=>{const U=()=>{const X=Ji(u,t,i,o);if(i instanceof bt){const Ce=i.getLoadStatus();if(Ce.loaded===!1){Ce.promise.then(U,A);return}}_(X)};U()})}function Ln(u,t,i){let o=[];const A=new Uint32Array(2);A[0]=0,A[1]=16793600;for(let U=0,X=u.length;U<X;U++){let Ce=u[U];A[0]=Ce.length;const Ie=new re.A(A,Ce,i),Be=Fe.wA.isBasicASCII(Ce,!0),tt=Fe.wA.containsRTL(Ce,Be,!0);let zt=(0,Se.tF)(new Se.IJ(!1,!0,Ce,!1,Be,tt,0,Ie,[],t,0,0,0,0,-1,"none",!1,!1,null));o=o.concat(zt.html),o.push("<br/>")}return o.join("")}function Ji(u,t,i,o){let _=[],A=i.getInitialState();for(let U=0,X=u.length;U<X;U++){let Ce=u[U],Ie=i.tokenize2(Ce,!0,A,0);re.A.convertToEndOffset(Ie.tokens,Ce.length);let Be=new re.A(Ie.tokens,Ce,o);const tt=Fe.wA.isBasicASCII(Ce,!0),zt=Fe.wA.containsRTL(Ce,tt,!0);let xi=(0,Se.tF)(new Se.IJ(!1,!0,Ce,!1,tt,zt,0,Be.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));_=_.concat(xi.html),_.push("<br/>"),A=Ie.endState}return _.join("")}var Kt=c(59069),Si=c(8313),$i=c(14603),gs=c(65520),bs=c(66007),Rs=c(56345),We=c(69386),d=c(33108),N=c(23193);class z{constructor(t={},i=[],o=[]){this._contents=t,this._keys=i,this._overrides=o,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(t){return t?(0,d.Mt)(this.contents,t):this.contents}override(t){let i=this.overrideConfigurations.get(t);return i||(i=this.createOverrideConfigurationModel(t),this.overrideConfigurations.set(t,i)),i}merge(...t){const i=Lt.I8(this.contents),o=Lt.I8(this.overrides),_=[...this.keys];for(const A of t){this.mergeContents(i,A.contents);for(const U of A.overrides){const[X]=o.filter(Ce=>co.fS(Ce.identifiers,U.identifiers));X?this.mergeContents(X.contents,U.contents):o.push(Lt.I8(U))}for(const U of A.keys)_.indexOf(U)===-1&&_.push(U)}return new z(i,_,o)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(t){const i=this.getContentsForOverrideIdentifer(t);if(!i||typeof i!="object"||!Object.keys(i).length)return this;let o={};for(const _ of co.EB([...Object.keys(this.contents),...Object.keys(i)])){let A=this.contents[_],U=i[_];U&&(typeof A=="object"&&typeof U=="object"?(A=Lt.I8(A),this.mergeContents(A,U)):A=U),o[_]=A}return new z(o,this.keys,this.overrides)}mergeContents(t,i){for(const o of Object.keys(i)){if(o in t&&Vn.Kn(t[o])&&Vn.Kn(i[o])){this.mergeContents(t[o],i[o]);continue}t[o]=Lt.I8(i[o])}}checkAndFreeze(t){return this.isFrozen&&!Object.isFrozen(t)?Lt._A(t):t}getContentsForOverrideIdentifer(t){for(const i of this.overrides)if(i.identifiers.indexOf(t)!==-1)return i.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(t,i){this.addKey(t),(0,d.KV)(this.contents,t,i,o=>{throw new Error(o)})}removeValue(t){this.removeKey(t)&&(0,d.xL)(this.contents,t)}addKey(t){let i=this.keys.length;for(let o=0;o<i;o++)t.indexOf(this.keys[o])===0&&(i=o);this.keys.splice(i,1,t)}removeKey(t){let i=this.keys.indexOf(t);return i!==-1?(this.keys.splice(i,1),!0):!1}}class oe extends z{constructor(){const t=(0,d.O4)(),i=(0,d.MR)(),o=[];for(const _ of Object.keys(t))N.G1.test(_)&&o.push({identifiers:[(0,N.Uh)(_).trim()],keys:Object.keys(t[_]),contents:(0,d.Od)(t[_],A=>console.error(`Conflict in default settings file: ${A}`))});super(t,i,o)}}class fe{constructor(t,i,o=new z,_=new z,A=new ze.Y9,U=new z,X=new ze.Y9,Ce=!0){this._defaultConfiguration=t,this._localUserConfiguration=i,this._remoteUserConfiguration=o,this._workspaceConfiguration=_,this._folderConfigurations=A,this._memoryConfiguration=U,this._memoryConfigurationByResource=X,this._freeze=Ce,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new ze.Y9,this._userConfiguration=null}getValue(t,i,o){return this.getConsolidateConfigurationModel(i,o).getValue(t)}updateValue(t,i,o={}){let _;o.resource?(_=this._memoryConfigurationByResource.get(o.resource),_||(_=new z,this._memoryConfigurationByResource.set(o.resource,_))):_=this._memoryConfiguration,i===void 0?_.removeValue(t):_.setValue(t,i),o.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(t,i){let o=this.getConsolidatedConfigurationModelForResource(t,i);return t.overrideIdentifier?o.override(t.overrideIdentifier):o}getConsolidatedConfigurationModelForResource({resource:t},i){let o=this.getWorkspaceConsolidatedConfiguration();if(i&&t){const _=i.getFolder(t);_&&(o=this.getFolderConsolidatedConfiguration(_.uri)||o);const A=this._memoryConfigurationByResource.get(t);A&&(o=o.merge(A))}return o}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(t){let i=this._foldersConsolidatedConfigurations.get(t);if(!i){const o=this.getWorkspaceConsolidatedConfiguration(),_=this._folderConfigurations.get(t);_?(i=o.merge(_),this._freeze&&(i=i.freeze()),this._foldersConsolidatedConfigurations.set(t,i)):i=o}return i}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((t,i)=>{const{contents:o,overrides:_,keys:A}=this._folderConfigurations.get(i);return t.push([i,{contents:o,overrides:_,keys:A}]),t},[])}}static parse(t){const i=this.parseConfigurationModel(t.defaults),o=this.parseConfigurationModel(t.user),_=this.parseConfigurationModel(t.workspace),A=t.folders.reduce((U,X)=>(U.set(y.o.revive(X[0]),this.parseConfigurationModel(X[1])),U),new ze.Y9);return new fe(i,o,new z,_,A,new z,new ze.Y9,!1)}static parseConfigurationModel(t){return new z(t.contents,t.keys,t.overrides).freeze()}}class Ee{constructor(t,i,o,_){this.change=t,this.previous=i,this.currentConfiguraiton=o,this.currentWorkspace=_,this._previousConfiguration=void 0;const A=new Set;t.keys.forEach(X=>A.add(X)),t.overrides.forEach(([,X])=>X.forEach(Ce=>A.add(Ce))),this.affectedKeys=[...A.values()];const U=new z;this.affectedKeys.forEach(X=>U.setValue(X,{})),this.affectedKeysTree=U.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=fe.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(t,i){var o;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,t)){if(i){const _=this.previousConfiguration?this.previousConfiguration.getValue(t,i,(o=this.previous)===null||o===void 0?void 0:o.workspace):void 0,A=this.currentConfiguraiton.getValue(t,i,this.currentWorkspace);return!Lt.fS(_,A)}return!0}return!1}doesAffectedKeysTreeContains(t,i){let o=(0,d.Od)({[i]:!0},()=>{}),_;for(;typeof o=="object"&&(_=Object.keys(o)[0]);){if(t=t[_],!t)return!1;o=o[_]}return!0}}var Ve=c(63580);const dt=/^(cursor|delete)/;class At extends Gt.JT{constructor(t,i,o,_,A){super(),this._contextKeyService=t,this._commandService=i,this._telemetryService=o,this._notificationService=_,this._logService=A,this._onDidUpdateKeybindings=this._register(new Q.Q5),this._currentChord=null,this._currentChordChecker=new Zn.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=Ct.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Zn._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Q.ju.None}dispose(){super.dispose()}_log(t){this._logging&&this._logService.info(`[KeybindingService]: ${t}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(t,i){const o=this._getResolver().lookupPrimaryKeybinding(t,i||this._contextKeyService);if(o)return o.resolvedKeybinding}dispatchEvent(t,i){return this._dispatch(t,i)}softDispatch(t,i){const o=this.resolveKeyboardEvent(t);if(o.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[_]=o.getDispatchParts();if(_===null)return null;const A=this._contextKeyService.getContext(i),U=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(A,U,_)}_enterChordMode(t,i){this._currentChord={keypress:t,label:i},this._currentChordStatusMessage=this._notificationService.status(Ve.N("first.chord","({0}) was pressed. Waiting for second key of chord...",i));const o=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-o>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(t,i){return this._doDispatch(this.resolveKeyboardEvent(t),i,!1)}_singleModifierDispatch(t,i){const o=this.resolveKeyboardEvent(t),[_]=o.getSingleModifierDispatchParts();if(_)return this._ignoreSingleModifiers.has(_)?(this._log(`+ Ignoring single modifier ${_} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=Ct.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=Ct.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${_}.`),this._currentSingleModifier=_,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):_===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${_} ${_}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(o,i,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${_}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[A]=o.getParts();return this._ignoreSingleModifiers=new Ct(A),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(t,i,o=!1){let _=!1;if(t.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let A=null,U=null;if(o){const[Be]=t.getSingleModifierDispatchParts();A=Be,U=Be}else[A]=t.getDispatchParts(),U=this._currentChord?this._currentChord.keypress:null;if(A===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),_;const X=this._contextKeyService.getContext(i),Ce=t.getLabel(),Ie=this._getResolver().resolve(X,U,A);return this._logService.trace("KeybindingService#dispatch",Ce,Ie==null?void 0:Ie.commandId),Ie&&Ie.enterChord?(_=!0,this._enterChordMode(A,Ce),_):(this._currentChord&&(!Ie||!Ie.commandId)&&(this._notificationService.status(Ve.N("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,Ce),{hideAfter:10*1e3}),_=!0),this._leaveChordMode(),Ie&&Ie.commandId&&(Ie.bubble||(_=!0),typeof Ie.commandArgs=="undefined"?this._commandService.executeCommand(Ie.commandId).then(void 0,Be=>this._notificationService.warn(Be)):this._commandService.executeCommand(Ie.commandId,Ie.commandArgs).then(void 0,Be=>this._notificationService.warn(Be)),dt.test(Ie.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:Ie.commandId,from:"keybinding"})),_)}mightProducePrintableCharacter(t){return t.ctrlKey||t.metaKey?!1:t.keyCode>=31&&t.keyCode<=56||t.keyCode>=21&&t.keyCode<=30}}class Ct{constructor(t){this._ctrlKey=t?t.ctrlKey:!1,this._shiftKey=t?t.shiftKey:!1,this._altKey=t?t.altKey:!1,this._metaKey=t?t.metaKey:!1}has(t){switch(t){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}Ct.EMPTY=new Ct(null);var Dt=c(38819);class $t{constructor(t,i,o){this._log=o,this._defaultKeybindings=t,this._defaultBoundCommands=new Map;for(let _=0,A=t.length;_<A;_++){const U=t[_].command;U&&this._defaultBoundCommands.set(U,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=$t.combine(t,i);for(let _=0,A=this._keybindings.length;_<A;_++){let U=this._keybindings[_];U.keypressParts.length!==0&&(U.when&&U.when.type===0||this._addKeyPress(U.keypressParts[0],U))}}static _isTargetedForRemoval(t,i,o,_,A){return!(t.command!==_||i&&t.keypressParts[0]!==i||o&&t.keypressParts[1]!==o||A&&(!t.when||!(0,Dt.Fb)(A,t.when)))}static combine(t,i){t=t.slice(0);let o=[];for(const _ of i){if(!_.command||_.command.length===0||_.command.charAt(0)!=="-"){o.push(_);continue}const A=_.command.substr(1),U=_.keypressParts[0],X=_.keypressParts[1],Ce=_.when;for(let Ie=t.length-1;Ie>=0;Ie--)this._isTargetedForRemoval(t[Ie],U,X,A,Ce)&&t.splice(Ie,1)}return t.concat(o)}_addKeyPress(t,i){const o=this._map.get(t);if(typeof o=="undefined"){this._map.set(t,[i]),this._addToLookupMap(i);return}for(let _=o.length-1;_>=0;_--){let A=o[_];if(A.command===i.command)continue;const U=A.keypressParts.length>1,X=i.keypressParts.length>1;U&&X&&A.keypressParts[1]!==i.keypressParts[1]||$t.whenIsEntirelyIncluded(A.when,i.when)&&this._removeFromLookupMap(A)}o.push(i),this._addToLookupMap(i)}_addToLookupMap(t){if(!t.command)return;let i=this._lookupMap.get(t.command);typeof i=="undefined"?(i=[t],this._lookupMap.set(t.command,i)):i.push(t)}_removeFromLookupMap(t){if(!t.command)return;let i=this._lookupMap.get(t.command);if(typeof i!="undefined"){for(let o=0,_=i.length;o<_;o++)if(i[o]===t){i.splice(o,1);return}}}static whenIsEntirelyIncluded(t,i){return!i||i.type===1?!0:!t||t.type===1?!1:(0,Dt.K8)(t,i)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(t,i){const o=this._lookupMap.get(t);if(typeof o=="undefined"||o.length===0)return null;if(o.length===1)return o[0];for(let _=o.length-1;_>=0;_--){const A=o[_];if(i.contextMatchesRules(A.when))return A}return o[o.length-1]}resolve(t,i,o){this._log(`| Resolving ${o}${i?` chorded from ${i}`:""}`);let _=null;if(i!==null){const U=this._map.get(i);if(typeof U=="undefined")return this._log("\\ No keybinding entries."),null;_=[];for(let X=0,Ce=U.length;X<Ce;X++){let Ie=U[X];Ie.keypressParts[1]===o&&_.push(Ie)}}else{const U=this._map.get(o);if(typeof U=="undefined")return this._log("\\ No keybinding entries."),null;_=U}let A=this._findCommand(t,_);return A?i===null&&A.keypressParts.length>1&&A.keypressParts[1]!==null?(this._log(`\\ From ${_.length} keybinding entries, matched chord, when: ${si(A.when)}, source: ${ui(A)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${_.length} keybinding entries, matched ${A.command}, when: ${si(A.when)}, source: ${ui(A)}.`),{enterChord:!1,leaveChord:A.keypressParts.length>1,commandId:A.command,commandArgs:A.commandArgs,bubble:A.bubble}):(this._log(`\\ From ${_.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(t,i){for(let o=i.length-1;o>=0;o--){let _=i[o];if($t.contextMatchesRules(t,_.when))return _}return null}static contextMatchesRules(t,i){return i?i.evaluate(t):!0}}function si(u){return u?`${u.serialize()}`:"no when condition"}function ui(u){return u.extensionId?u.isBuiltinExtension?`built-in extension ${u.extensionId}`:`user extension ${u.extensionId}`:u.isDefault?"built-in":"user"}var Ti=c(49989);class Fi{constructor(t,i,o,_,A,U,X){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=t,this.keypressParts=t?Zi(t.getDispatchParts()):[],t&&this.keypressParts.length===0&&(this.keypressParts=Zi(t.getSingleModifierDispatchParts())),this.bubble=i?i.charCodeAt(0)===94:!1,this.command=this.bubble?i.substr(1):i,this.commandArgs=o,this.when=_,this.isDefault=A,this.extensionId=U,this.isBuiltinExtension=X}}function Zi(u){let t=[];for(let i=0,o=u.length;i<o;i++){const _=u[i];if(!_)return t;t.push(_)}return t}var yn=c(8030);class as extends Si.f1{constructor(t,i){if(super(),i.length===0)throw(0,Bn.b1)("parts");this._os=t,this._parts=i}getLabel(){return yn.xo.toLabel(this._os,this._parts,t=>this._getLabel(t))}getAriaLabel(){return yn.X4.toLabel(this._os,this._parts,t=>this._getAriaLabel(t))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:yn.jC.toLabel(this._os,this._parts,t=>this._getElectronAccelerator(t))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(t=>this._getPart(t))}_getPart(t){return new Si.BQ(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,this._getLabel(t),this._getAriaLabel(t))}getDispatchParts(){return this._parts.map(t=>this._getDispatchPart(t))}getSingleModifierDispatchParts(){return this._parts.map(t=>this._getSingleModifierDispatchPart(t))}}class wn extends as{constructor(t,i){super(i,t.parts)}_keyCodeToUILabel(t){if(this._os===2)switch(t){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return O.kL.toString(t)}_getLabel(t){return t.isDuplicateModifierCase()?"":this._keyCodeToUILabel(t.keyCode)}_getAriaLabel(t){return t.isDuplicateModifierCase()?"":O.kL.toString(t.keyCode)}_getElectronAccelerator(t){return O.kL.toElectronAccelerator(t.keyCode)}_getDispatchPart(t){return wn.getDispatchStr(t)}static getDispatchStr(t){if(t.isModifierKey())return null;let i="";return t.ctrlKey&&(i+="ctrl+"),t.shiftKey&&(i+="shift+"),t.altKey&&(i+="alt+"),t.metaKey&&(i+="meta+"),i+=O.kL.toString(t.keyCode),i}_getSingleModifierDispatchPart(t){return t.keyCode===5&&!t.shiftKey&&!t.altKey&&!t.metaKey?"ctrl":t.keyCode===4&&!t.ctrlKey&&!t.altKey&&!t.metaKey?"shift":t.keyCode===6&&!t.ctrlKey&&!t.shiftKey&&!t.metaKey?"alt":t.keyCode===57&&!t.ctrlKey&&!t.shiftKey&&!t.altKey?"meta":null}static _scanCodeToKeyCode(t){const i=O.Vd[t];if(i!==-1)return i;switch(t){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(t){if(!t)return null;if(t instanceof Si.QC)return t;const i=this._scanCodeToKeyCode(t.scanCode);return i===0?null:new Si.QC(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,i)}static resolveUserBinding(t,i){const o=Zi(t.map(_=>this._resolveSimpleUserBinding(_)));return o.length>0?[new wn(new Si.X_(o),i)]:[]}}var rn=c(59422),oo=c(40382),Ks;(function(u){u.noSelection=Ve.N("noSelection","No selection"),u.singleSelectionRange=Ve.N("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),u.singleSelection=Ve.N("singleSelection","Line {0}, Column {1}"),u.multiSelectionRange=Ve.N("multiSelectionRange","{0} selections ({1} characters selected)"),u.multiSelection=Ve.N("multiSelection","{0} selections"),u.emergencyConfOn=Ve.N("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),u.openingDocs=Ve.N("openingDocs","Now opening the Editor Accessibility documentation page."),u.readonlyDiffEditor=Ve.N("readonlyDiffEditor"," in a read-only pane of a diff editor."),u.editableDiffEditor=Ve.N("editableDiffEditor"," in a pane of a diff editor."),u.readonlyEditor=Ve.N("readonlyEditor"," in a read-only code editor"),u.editableEditor=Ve.N("editableEditor"," in a code editor"),u.changeConfigToOnMac=Ve.N("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),u.changeConfigToOnWinLinux=Ve.N("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),u.auto_on=Ve.N("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),u.auto_off=Ve.N("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),u.tabFocusModeOnMsg=Ve.N("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),u.tabFocusModeOnMsgNoKb=Ve.N("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),u.tabFocusModeOffMsg=Ve.N("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),u.tabFocusModeOffMsgNoKb=Ve.N("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),u.openDocMac=Ve.N("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),u.openDocWinLinux=Ve.N("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),u.outroMsg=Ve.N("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),u.showAccessibilityHelpAction=Ve.N("showAccessibilityHelpAction","Show Accessibility Help")})(Ks||(Ks={}));var js;(function(u){u.inspectTokensAction=Ve.N("inspectTokens","Developer: Inspect Tokens")})(js||(js={}));var Us;(function(u){u.gotoLineActionLabel=Ve.N("gotoLineActionLabel","Go to Line/Column...")})(Us||(Us={}));var dr;(function(u){u.helpQuickAccessActionLabel=Ve.N("helpQuickAccess","Show all Quick Access Providers")})(dr||(dr={}));var cr;(function(u){u.quickCommandActionLabel=Ve.N("quickCommandActionLabel","Command Palette"),u.quickCommandHelp=Ve.N("quickCommandActionHelp","Show And Run Commands")})(cr||(cr={}));var pr;(function(u){u.quickOutlineActionLabel=Ve.N("quickOutlineActionLabel","Go to Symbol..."),u.quickOutlineByCategoryActionLabel=Ve.N("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(pr||(pr={}));var br;(function(u){u.editorViewAccessibleLabel=Ve.N("editorViewAccessibleLabel","Editor content"),u.accessibilityHelpMessage=Ve.N("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(br||(br={}));var Ar;(function(u){u.toggleHighContrast=Ve.N("toggleHighContrast","Toggle High Contrast Theme")})(Ar||(Ar={}));var wr;(function(u){u.bulkEditServiceSummary=Ve.N("bulkEditServiceSummary","Made {0} edits in {1} files")})(wr||(wr={}));var Or=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},$r=function(u,t){return function(i,o){t(i,o,u)}},Kr=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(U){U(A)})}return new(i||(i=Promise))(function(A,U){function X(Be){try{Ie(o.next(Be))}catch(tt){U(tt)}}function Ce(Be){try{Ie(o.throw(Be))}catch(tt){U(tt)}}function Ie(Be){Be.done?A(Be.value):_(Be.value).then(X,Ce)}Ie((o=o.apply(u,t||[])).next())})};class aa{constructor(t){this.disposed=!1,this.model=t,this._onWillDispose=new Q.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}function ae(u,t,i){return(0,gs.CL)(u)?t(u):i(u)}let xe=class{constructor(t){this.modelService=t}setEditor(t){this.editor=t}createModelReference(t){let i=null;return this.editor&&(i=ae(this.editor,o=>this.findModel(o,t),o=>this.findModel(o.getOriginalEditor(),t)||this.findModel(o.getModifiedEditor(),t))),i?Promise.resolve(new Gt.Jz(new aa(i))):Promise.reject(new Error("Model not found"))}findModel(t,i){let o=this.modelService.getModel(i);return o&&o.uri.toString()!==i.toString()?null:o}};xe=Or([$r(0,hs.q)],xe);class Ft{show(){return Ft.NULL_PROGRESS_RUNNER}showWhile(t,i){return Kr(this,void 0,void 0,function*(){yield t})}}Ft.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class jt{confirm(t){return this.doConfirm(t).then(i=>({confirmed:i,checkboxChecked:!1}))}doConfirm(t){let i=t.message;return t.detail&&(i=i+`

`+t.detail),Promise.resolve(window.confirm(i))}show(t,i,o,_){return Promise.resolve({choice:0})}}class Ci{info(t){return this.notify({severity:$i.Z.Info,message:t})}warn(t){return this.notify({severity:$i.Z.Warning,message:t})}error(t){return this.notify({severity:$i.Z.Error,message:t})}notify(t){switch(t.severity){case $i.Z.Error:console.error(t.message);break;case $i.Z.Warning:console.warn(t.message);break;default:console.log(t.message);break}return Ci.NO_OP}status(t,i){return Gt.JT.None}}Ci.NO_OP=new rn.EO;class Ki{constructor(t){this._onWillExecuteCommand=new Q.Q5,this._onDidExecuteCommand=new Q.Q5,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=t}executeCommand(t,...i){const o=at.P.getCommand(t);if(!o)return Promise.reject(new Error(`command '${t}' not found`));try{this._onWillExecuteCommand.fire({commandId:t,args:i});const _=this._instantiationService.invokeFunction.apply(this._instantiationService,[o.handler,...i]);return this._onDidExecuteCommand.fire({commandId:t,args:i}),Promise.resolve(_)}catch(_){return Promise.reject(_)}}}class Ni extends At{constructor(t,i,o,_,A,U){super(t,i,o,_,A),this._cachedResolver=null,this._dynamicKeybindings=[],this._register(it.nm(U,it.tw.KEY_DOWN,X=>{const Ce=new Kt.y(X);this._dispatch(Ce,Ce.target)&&(Ce.preventDefault(),Ce.stopPropagation())})),this._register(it.nm(window,it.tw.KEY_UP,X=>{const Ce=new Kt.y(X);this._singleModifierDispatch(Ce,Ce.target)&&Ce.preventDefault()}))}addDynamicKeybinding(t,i,o,_){const A=(0,Si.gm)(i,Xi.OS),U=new Gt.SL;return A&&(this._dynamicKeybindings.push({keybinding:A.parts,command:t,when:_,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),U.add((0,Gt.OF)(()=>{for(let X=0;X<this._dynamicKeybindings.length;X++)if(this._dynamicKeybindings[X].command===t){this._dynamicKeybindings.splice(X,1),this.updateResolver({source:1});return}}))),U.add(at.P.registerCommand(t,o)),this.updateResolver({source:1}),U}updateResolver(t){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(t)}_getResolver(){if(!this._cachedResolver){const t=this._toNormalizedKeybindingItems(Ti.W.getDefaultKeybindings(),!0),i=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new $t(t,i,o=>this._log(o))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(t,i){let o=[],_=0;for(const A of t){const U=A.when||void 0,X=A.keybinding;if(!X)o[_++]=new Fi(void 0,A.command,A.commandArgs,U,i,null,!1);else{const Ce=wn.resolveUserBinding(X,Xi.OS);for(const Ie of Ce)o[_++]=new Fi(Ie,A.command,A.commandArgs,U,i,null,!1)}}return o}resolveKeyboardEvent(t){let i=new Si.QC(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,t.keyCode).toChord();return new wn(i,Xi.OS)}}function cn(u){return u&&typeof u=="object"&&(!u.overrideIdentifier||typeof u.overrideIdentifier=="string")&&(!u.resource||u.resource instanceof y.o)}class mn{constructor(){this._onDidChangeConfiguration=new Q.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new fe(new oe,new z)}getValue(t,i){const o=typeof t=="string"?t:void 0,_=cn(t)?t:cn(i)?i:{};return this._configuration.getValue(o,_,void 0)}updateValues(t){const i={data:this._configuration.toData()};let o=[];for(const _ of t){const[A,U]=_;this.getValue(A)!==U&&(this._configuration.updateValue(A,U),o.push(A))}if(o.length>0){const _=new Ee({keys:o,overrides:[]},i,this._configuration);_.source=7,_.sourceConfig=null,this._onDidChangeConfiguration.fire(_)}return Promise.resolve()}}class Kn{constructor(t){this.configurationService=t,this._onDidChangeConfiguration=new Q.Q5,this.configurationService.onDidChangeConfiguration(i=>{this._onDidChangeConfiguration.fire({affectedKeys:i.affectedKeys,affectsConfiguration:(o,_)=>i.affectsConfiguration(_)})})}getValue(t,i,o){const A=(J.L.isIPosition(i)?i:null)?typeof o=="string"?o:void 0:typeof i=="string"?i:void 0;return typeof A=="undefined"?this.configurationService.getValue():this.configurationService.getValue(A)}}let Nn=class{constructor(t){this.configurationService=t}getEOL(t,i){const o=this.configurationService.getValue("files.eol",{overrideIdentifier:i,resource:t});return o&&typeof o=="string"&&o!=="auto"?o:Xi.IJ||Xi.dz?`
`:`\r
`}};Nn=Or([$r(0,d.Ui)],Nn);class vn{publicLog(t,i){return Promise.resolve(void 0)}publicLog2(t,i){return this.publicLog(t,i)}}class _s{constructor(){const t=y.o.from({scheme:_s.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new oo.md({uri:t,name:"",index:0})]}}getWorkspace(){return this.workspace}}_s.SCHEME="inmemory";function pn(u,t,i){if(!t||!(u instanceof mn))return;let o=[];Object.keys(t).forEach(_=>{(0,Rs.ei)(_)&&o.push([`editor.${_}`,t[_]]),i&&(0,Rs.Pe)(_)&&o.push([`diffEditor.${_}`,t[_]])}),o.length>0&&u.updateValues(o)}class cs{constructor(t){this._modelService=t}hasPreviewHandler(){return!1}apply(t,i){return Kr(this,void 0,void 0,function*(){const o=new Map;for(let U of t){if(!(U instanceof bs.Gl))throw new Error("bad edit - only text edits are supported");const X=this._modelService.getModel(U.resource);if(!X)throw new Error("bad edit - model not found");if(typeof U.versionId=="number"&&X.getVersionId()!==U.versionId)throw new Error("bad state - model changed in the meantime");let Ce=o.get(X);Ce||(Ce=[],o.set(X,Ce)),Ce.push(We.h.replaceMove(k.e.lift(U.textEdit.range),U.textEdit.text))}let _=0,A=0;for(const[U,X]of o)U.pushStackElement(),U.pushEditOperations([],X,()=>[]),U.pushStackElement(),A+=1,_+=X.length;return{ariaSummary:qi.WU(wr.bulkEditServiceSummary,_,A)}})}}class Qn{getUriLabel(t,i){return t.scheme==="file"?t.fsPath:t.path}}class Rn{constructor(t,i){this._codeEditorService=t,this._container=i,this.onDidLayout=Q.ju.None}get dimension(){return this._dimension||(this._dimension=it.D6(window.document.body)),this._dimension}get container(){return this._container}focus(){var t;(t=this._codeEditorService.getFocusedCodeEditor())===null||t===void 0||t.focus()}}var Ss=c(35996),Gs=c(53418),As=c(38626),xs=c(83080),ls=c(87917),Xn=c(55812),Vs=c(90317),jn=c(13433),ys=c(74741),Ps=c(16830),Ns=c(27869),Wi=c(73910),Fn=c(97781),Fs=c(73046),Os=c(59554),fo=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},yo=function(u,t){return function(i,o){t(i,o,u)}},No=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(U){U(A)})}return new(i||(i=Promise))(function(A,U){function X(Be){try{Ie(o.next(Be))}catch(tt){U(tt)}}function Ce(Be){try{Ie(o.throw(Be))}catch(tt){U(tt)}}function Ie(Be){Be.done?A(Be.value):_(Be.value).then(X,Ce)}Ie((o=o.apply(u,t||[])).next())})},Js;const ms=3;class Ds{constructor(t,i,o,_){this.originalLineStart=t,this.originalLineEnd=i,this.modifiedLineStart=o,this.modifiedLineEnd=_}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class To{constructor(t){this.entries=t}}const Ko=(0,Os.q5)("diff-review-insert",Fs.lA.add,Ve.N("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),_o=(0,Os.q5)("diff-review-remove",Fs.lA.remove,Ve.N("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),Po=(0,Os.q5)("diff-review-close",Fs.lA.close,Ve.N("diffReviewCloseIcon","Icon for 'Close' in diff review."));let ro=class Ta extends Gt.JT{constructor(t,i){super(),this._modeService=i,this._width=0,this._diffEditor=t,this._isVisible=!1,this.shadow=(0,As.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,As.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new Vs.o(this.actionBarContainer.domNode)),this._actionBar.push(new ys.aU("diffreview.close",Ve.N("label.close","Close"),"close-diff-review "+Fn.kS.asClassName(Po),!0,()=>No(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,As.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,As.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new jn.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(t.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(t.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(it.mu(this.domNode.domNode,"click",o=>{o.preventDefault();let _=it.Fx(o.target,"diff-review-row");_&&this._goToRow(_)})),this._register(it.mu(this.domNode.domNode,"keydown",o=>{(o.equals(18)||o.equals(2066)||o.equals(530))&&(o.preventDefault(),this._goToRow(this._getNextRow())),(o.equals(16)||o.equals(2064)||o.equals(528))&&(o.preventDefault(),this._goToRow(this._getPrevRow())),(o.equals(9)||o.equals(2057)||o.equals(521)||o.equals(1033))&&(o.preventDefault(),this.hide()),(o.equals(10)||o.equals(3))&&(o.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let o=-1;for(let _=0,A=this._diffs.length;_<A;_++)if(this._diffs[_]===this._currentDiff){o=_;break}t=this._diffs.length+o-1}else t=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;t=t%this._diffs.length;const i=this._diffs[t].entries;this._diffEditor.setPosition(new J.L(i[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:i[0].modifiedLineStart,endColumn:1073741824,endLineNumber:i[i.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let o=-1;for(let _=0,A=this._diffs.length;_<A;_++)if(this._diffs[_]===this._currentDiff){o=_;break}t=o+1}else t=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;t=t%this._diffs.length;const i=this._diffs[t].entries;this._diffEditor.setPosition(new J.L(i[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:i[0].modifiedLineStart,endColumn:1073741824,endLineNumber:i[i.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let t=-1,i=this._getCurrentFocusedRow();if(i){let o=parseInt(i.getAttribute("data-line"),10);isNaN(o)||(t=o)}this.hide(),t!==-1&&(this._diffEditor.setPosition(new J.L(t,1)),this._diffEditor.revealPosition(new J.L(t,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let t=this._getCurrentFocusedRow();return t?t.previousElementSibling?t.previousElementSibling:t:this._getFirstRow()}_getNextRow(){let t=this._getCurrentFocusedRow();return t?t.nextElementSibling?t.nextElementSibling:t:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let t=document.activeElement;return t&&/diff-review-row/.test(t.className)?t:null}_goToRow(t){let i=this._getCurrentFocusedRow();t.tabIndex=0,t.focus(),i&&i!==t&&(i.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(t,i,o){this._width=i,this.shadow.setTop(t-6),this.shadow.setWidth(i),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(t),this.domNode.setWidth(i),this.domNode.setHeight(o),this._content.setHeight(o),this._content.setWidth(i),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const t=this._diffEditor.getLineChanges();if(!t||t.length===0)return[];const i=this._diffEditor.getOriginalEditor().getModel(),o=this._diffEditor.getModifiedEditor().getModel();return!i||!o?[]:Ta._mergeAdjacent(t,i.getLineCount(),o.getLineCount())}static _mergeAdjacent(t,i,o){if(!t||t.length===0)return[];let _=[],A=0;for(let Ie=0,Be=t.length;Ie<Be;Ie++){const tt=t[Ie],zt=tt.originalStartLineNumber,xi=tt.originalEndLineNumber,ki=tt.modifiedStartLineNumber,en=tt.modifiedEndLineNumber;let Tn=[],qn=0;{const ss=xi===0?zt:zt-1,xn=en===0?ki:ki-1;let Wn=1,io=1;if(Ie>0){const Pn=t[Ie-1];Pn.originalEndLineNumber===0?Wn=Pn.originalStartLineNumber+1:Wn=Pn.originalEndLineNumber+1,Pn.modifiedEndLineNumber===0?io=Pn.modifiedStartLineNumber+1:io=Pn.modifiedEndLineNumber+1}let ks=ss-ms+1,Un=xn-ms+1;if(ks<Wn){const Pn=Wn-ks;ks=ks+Pn,Un=Un+Pn}if(Un<io){const Pn=io-Un;ks=ks+Pn,Un=Un+Pn}Tn[qn++]=new Ds(ks,ss,Un,xn)}xi!==0&&(Tn[qn++]=new Ds(zt,xi,0,0)),en!==0&&(Tn[qn++]=new Ds(0,0,ki,en));{const ss=xi===0?zt+1:xi+1,xn=en===0?ki+1:en+1;let Wn=i,io=o;if(Ie+1<Be){const Pn=t[Ie+1];Pn.originalEndLineNumber===0?Wn=Pn.originalStartLineNumber:Wn=Pn.originalStartLineNumber-1,Pn.modifiedEndLineNumber===0?io=Pn.modifiedStartLineNumber:io=Pn.modifiedStartLineNumber-1}let ks=ss+ms-1,Un=xn+ms-1;if(ks>Wn){const Pn=Wn-ks;ks=ks+Pn,Un=Un+Pn}if(Un>io){const Pn=io-Un;ks=ks+Pn,Un=Un+Pn}Tn[qn++]=new Ds(ss,ks,xn,Un)}_[A++]=new To(Tn)}let U=_[0].entries,X=[],Ce=0;for(let Ie=1,Be=_.length;Ie<Be;Ie++){const tt=_[Ie].entries,zt=U[U.length-1],xi=tt[0];if(zt.getType()===0&&xi.getType()===0&&xi.originalLineStart<=zt.originalLineEnd){U[U.length-1]=new Ds(zt.originalLineStart,xi.originalLineEnd,zt.modifiedLineStart,xi.modifiedLineEnd),U=U.concat(tt.slice(1));continue}X[Ce++]=new To(U),U=tt}return X[Ce++]=new To(U),X}_findDiffIndex(t){const i=t.lineNumber;for(let o=0,_=this._diffs.length;o<_;o++){const A=this._diffs[o].entries,U=A[A.length-1].modifiedLineEnd;if(i<=U)return o}return 0}_render(){const t=this._diffEditor.getOriginalEditor().getOptions(),i=this._diffEditor.getModifiedEditor().getOptions(),o=this._diffEditor.getOriginalEditor().getModel(),_=this._diffEditor.getModifiedEditor().getModel(),A=o.getOptions(),U=_.getOptions();if(!this._isVisible||!o||!_){it.PO(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const X=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[X]===this._currentDiff)return;this._currentDiff=this._diffs[X];const Ce=this._diffs[X].entries;let Ie=document.createElement("div");Ie.className="diff-review-table",Ie.setAttribute("role","list"),Ie.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),ls.V.applyFontInfoSlow(Ie,i.get(43));let Be=0,tt=0,zt=0,xi=0;for(let Un=0,Pn=Ce.length;Un<Pn;Un++){const Cs=Ce[Un],es=Cs.originalLineStart,Qs=Cs.originalLineEnd,$o=Cs.modifiedLineStart,ws=Cs.modifiedLineEnd;es!==0&&(Be===0||es<Be)&&(Be=es),Qs!==0&&(tt===0||Qs>tt)&&(tt=Qs),$o!==0&&(zt===0||$o<zt)&&(zt=$o),ws!==0&&(xi===0||ws>xi)&&(xi=ws)}let ki=document.createElement("div");ki.className="diff-review-row";let en=document.createElement("div");en.className="diff-review-cell diff-review-summary";const Tn=tt-Be+1,qn=xi-zt+1;en.appendChild(document.createTextNode(`${X+1}/${this._diffs.length}: @@ -${Be},${Tn} +${zt},${qn} @@`)),ki.setAttribute("data-line",String(zt));const ss=Un=>Un===0?Ve.N("no_lines_changed","no lines changed"):Un===1?Ve.N("one_line_changed","1 line changed"):Ve.N("more_lines_changed","{0} lines changed",Un),xn=ss(Tn),Wn=ss(qn);ki.setAttribute("aria-label",Ve.N({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",X+1,this._diffs.length,Be,xn,zt,Wn)),ki.appendChild(en),ki.setAttribute("role","listitem"),Ie.appendChild(ki);const io=i.get(58);let ks=zt;for(let Un=0,Pn=Ce.length;Un<Pn;Un++){const Cs=Ce[Un];Ta._renderSection(Ie,Cs,ks,io,this._width,t,o,A,i,_,U,this._modeService.languageIdCodec),Cs.modifiedLineStart!==0&&(ks=Cs.modifiedLineEnd)}it.PO(this._content.domNode),this._content.domNode.appendChild(Ie),this.scrollbar.scanDomNode()}static _renderSection(t,i,o,_,A,U,X,Ce,Ie,Be,tt,zt){const xi=i.getType();let ki="diff-review-row",en="";const Tn="diff-review-spacer";let qn=null;switch(xi){case 1:ki="diff-review-row line-insert",en=" char-insert",qn=Ko;break;case 2:ki="diff-review-row line-delete",en=" char-delete",qn=_o;break}const ss=i.originalLineStart,xn=i.originalLineEnd,Wn=i.modifiedLineStart,io=i.modifiedLineEnd,ks=Math.max(io-Wn,xn-ss),Un=U.get(129),Pn=Un.glyphMarginWidth+Un.lineNumbersWidth,Cs=Ie.get(129),es=10+Cs.glyphMarginWidth+Cs.lineNumbersWidth;for(let Qs=0;Qs<=ks;Qs++){const $o=ss===0?0:ss+Qs,ws=Wn===0?0:Wn+Qs,sr=document.createElement("div");sr.style.minWidth=A+"px",sr.className=ki,sr.setAttribute("role","listitem"),ws!==0&&(o=ws),sr.setAttribute("data-line",String(o));let Tr=document.createElement("div");Tr.className="diff-review-cell",Tr.style.height=`${_}px`,sr.appendChild(Tr);const qo=document.createElement("span");qo.style.width=Pn+"px",qo.style.minWidth=Pn+"px",qo.className="diff-review-line-number"+en,$o!==0?qo.appendChild(document.createTextNode(String($o))):qo.innerText="\xA0",Tr.appendChild(qo);const kr=document.createElement("span");kr.style.width=es+"px",kr.style.minWidth=es+"px",kr.style.paddingRight="10px",kr.className="diff-review-line-number"+en,ws!==0?kr.appendChild(document.createTextNode(String(ws))):kr.innerText="\xA0",Tr.appendChild(kr);const Ur=document.createElement("span");if(Ur.className=Tn,qn){const Wr=document.createElement("span");Wr.className=Fn.kS.asClassName(qn),Wr.innerText="\xA0\xA0",Ur.appendChild(Wr)}else Ur.innerText="\xA0\xA0";Tr.appendChild(Ur);let qr;if(ws!==0){let Wr=this._renderLine(Be,Ie,tt.tabSize,ws,zt);Ta._ttPolicy&&(Wr=Ta._ttPolicy.createHTML(Wr)),Tr.insertAdjacentHTML("beforeend",Wr),qr=Be.getLineContent(ws)}else{let Wr=this._renderLine(X,U,Ce.tabSize,$o,zt);Ta._ttPolicy&&(Wr=Ta._ttPolicy.createHTML(Wr)),Tr.insertAdjacentHTML("beforeend",Wr),qr=X.getLineContent($o)}qr.length===0&&(qr=Ve.N("blankLine","blank"));let ia="";switch(xi){case 0:$o===ws?ia=Ve.N({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",qr,$o):ia=Ve.N("equalLine","{0} original line {1} modified line {2}",qr,$o,ws);break;case 1:ia=Ve.N("insertLine","+ {0} modified line {1}",qr,ws);break;case 2:ia=Ve.N("deleteLine","- {0} original line {1}",qr,$o);break}sr.setAttribute("aria-label",ia),t.appendChild(sr)}}static _renderLine(t,i,o,_,A){const U=t.getLineContent(_),X=i.get(43),Ce=re.A.createEmpty(U,A),Ie=Fe.wA.isBasicASCII(U,t.mightContainNonBasicASCII()),Be=Fe.wA.containsRTL(U,Ie,t.mightContainRTL());return(0,Se.tF)(new Se.IJ(X.isMonospace&&!i.get(29),X.canUseHalfwidthRightwardsArrow,U,!1,Ie,Be,0,Ce,[],o,0,X.spaceWidth,X.middotWidth,X.wsmiddotWidth,i.get(104),i.get(87),i.get(82),i.get(44)!==g.n0.OFF,null)).html}};ro._ttPolicy=(Js=window.trustedTypes)===null||Js===void 0?void 0:Js.createPolicy("diffReview",{createHTML:u=>u}),ro=fo([yo(1,Ri.h)],ro),(0,Fn.Ic)((u,t)=>{const i=u.getColor(Ns.hw);i&&t.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${i}; }`);const o=u.getColor(Wi._w);o&&t.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${o} 0 -6px 6px -6px inset; }`)});class Co extends Ps.R6{constructor(){super({id:"editor.action.diffReview.next",label:Ve.N("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:Dt.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(t,i){const o=Qo(t);o&&o.diffReviewNext()}}class hr extends Ps.R6{constructor(){super({id:"editor.action.diffReview.prev",label:Ve.N("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:Dt.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(t,i){const o=Qo(t);o&&o.diffReviewPrev()}}function Qo(u){const t=u.get(Mt.$),i=t.listDiffEditors(),o=t.getActiveCodeEditor();if(!o)return null;for(let _=0,A=i.length;_<A;_++){const U=i[_];if(U.getModifiedEditor().getId()===o.getId()||U.getOriginalEditor().getId()===o.getId())return U}return null}(0,Ps.Qr)(Co),(0,Ps.Qr)(hr);var Bo=c(50072),fs=c(24979),Hn=c(92003),Ts=c(92550),$s=c(60972),$n=c(5606),On=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(U){U(A)})}return new(i||(i=Promise))(function(A,U){function X(Be){try{Ie(o.next(Be))}catch(tt){U(tt)}}function Ce(Be){try{Ie(o.throw(Be))}catch(tt){U(tt)}}function Ie(Be){Be.done?A(Be.value):_(Be.value).then(X,Ce)}Ie((o=o.apply(u,t||[])).next())})};class Zs extends Gt.JT{constructor(t,i,o,_,A,U){super(),this._viewZoneId=t,this._marginDomNode=i,this.editor=o,this.diff=_,this._contextMenuService=A,this._clipboardService=U,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=Fs.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const X=o.getOption(58),Ce=o.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${X}px`,this._diffActions.style.lineHeight=`${X}px`,this._marginDomNode.appendChild(this._diffActions);const Ie=[],Be=_.modifiedEndLineNumber===0;Ie.push(new ys.aU("diff.clipboard.copyDeletedContent",Be?_.originalEndLineNumber>_.modifiedStartLineNumber?Ve.N("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):Ve.N("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):_.originalEndLineNumber>_.modifiedStartLineNumber?Ve.N("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):Ve.N("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>On(this,void 0,void 0,function*(){const en=new k.e(_.originalStartLineNumber,1,_.originalEndLineNumber+1,1),Tn=_.originalModel.getValueInRange(en);yield this._clipboardService.writeText(Tn)})));let tt=0,zt;_.originalEndLineNumber>_.modifiedStartLineNumber&&(zt=new ys.aU("diff.clipboard.copyDeletedLineContent",Be?Ve.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",_.originalStartLineNumber):Ve.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",_.originalStartLineNumber),void 0,!0,()=>On(this,void 0,void 0,function*(){const en=_.originalModel.getLineContent(_.originalStartLineNumber+tt);if(en===""){const Tn=_.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(Tn===0?`
`:`\r
`)}else yield this._clipboardService.writeText(en)})),Ie.push(zt)),o.getOption(80)||Ie.push(new ys.aU("diff.inline.revertChange",Ve.N("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>On(this,void 0,void 0,function*(){const en=new k.e(_.originalStartLineNumber,1,_.originalEndLineNumber,_.originalModel.getLineMaxColumn(_.originalEndLineNumber)),Tn=_.originalModel.getValueInRange(en);if(_.modifiedEndLineNumber===0){const qn=o.getModel().getLineMaxColumn(_.modifiedStartLineNumber);o.executeEdits("diffEditor",[{range:new k.e(_.modifiedStartLineNumber,qn,_.modifiedStartLineNumber,qn),text:Ce+Tn}])}else{const qn=o.getModel().getLineMaxColumn(_.modifiedEndLineNumber);o.executeEdits("diffEditor",[{range:new k.e(_.modifiedStartLineNumber,1,_.modifiedEndLineNumber,qn),text:Tn}])}})));const ki=(en,Tn)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:en,y:Tn}),getActions:()=>(zt&&(zt.label=Be?Ve.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",_.originalStartLineNumber+tt):Ve.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",_.originalStartLineNumber+tt)),Ie),autoSelectFirstItem:!0})};this._register(it.mu(this._diffActions,"mousedown",en=>{const{top:Tn,height:qn}=it.i(this._diffActions);let ss=Math.floor(X/3);en.preventDefault(),ki(en.posx,Tn+qn+ss)})),this._register(o.onMouseMove(en=>{en.target.type===8||en.target.type===5?en.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,tt=this._updateLightBulbPosition(this._marginDomNode,en.event.browserEvent.y,X)):this.visibility=!1:this.visibility=!1})),this._register(o.onMouseDown(en=>{en.event.rightButton&&(en.target.type===8||en.target.type===5)&&en.target.detail.viewZoneId===this._viewZoneId&&(en.event.preventDefault(),tt=this._updateLightBulbPosition(this._marginDomNode,en.event.browserEvent.y,X),ki(en.event.posx,en.event.posy+X))}))}get visibility(){return this._visibility}set visibility(t){this._visibility!==t&&(this._visibility=t,t?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(t,i,o){const{top:_}=it.i(t),A=i-_,U=Math.floor(A/o),X=U*o;if(this._diffActions.style.top=`${X}px`,this.diff.viewLineCounts){let Ce=0;for(let Ie=0;Ie<this.diff.viewLineCounts.length;Ie++)if(Ce+=this.diff.viewLineCounts[Ie],U<Ce)return Ie}return U}}var go=c(84972),eo=c(90535),Ro=c(54534),er=c(49335),fr=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},Zo=function(u,t){return function(i,o){t(i,o,u)}},Lo;class or{constructor(t,i){this._contextMenuService=t,this._clipboardService=i,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(t){return t.filter(i=>!this._zonesMap[String(i.id)])}clean(t){this._zones.length>0&&t.changeViewZones(i=>{for(const o of this._zones)i.removeZone(o)}),this._zones=[],this._zonesMap={},this._decorations=t.deltaDecorations(this._decorations,[])}apply(t,i,o,_){const A=_?Xn.ZF.capture(t):null;t.changeViewZones(U=>{var X;for(const Ce of this._zones)U.removeZone(Ce);for(const Ce of this._inlineDiffMargins)Ce.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Ce=0,Ie=o.zones.length;Ce<Ie;Ce++){const Be=o.zones[Ce];Be.suppressMouseDown=!0;const tt=U.addZone(Be);this._zones.push(tt),this._zonesMap[String(tt)]=!0,o.zones[Ce].diff&&Be.marginDomNode&&(Be.suppressMouseDown=!1,((X=o.zones[Ce].diff)===null||X===void 0?void 0:X.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new Zs(tt,Be.marginDomNode,t,o.zones[Ce].diff,this._contextMenuService,this._clipboardService)))}}),A&&A.restore(t),this._decorations=t.deltaDecorations(this._decorations,o.decorations),i&&i.setZones(o.overviewZones)}}let _r=0;const Xo=(0,Os.q5)("diff-insert",Fs.lA.add,Ve.N("diffInsertIcon","Line decoration for inserts in the diff editor.")),Wo=(0,Os.q5)("diff-remove",Fs.lA.remove,Ve.N("diffRemoveIcon","Line decoration for removals in the diff editor.")),rr=(Lo=window.trustedTypes)===null||Lo===void 0?void 0:Lo.createPolicy("diffEditorWidget",{createHTML:u=>u});let ko=class Lr extends Gt.JT{constructor(t,i,o,_,A,U,X,Ce,Ie,Be,tt,zt){super(),this._editorProgressService=zt,this._onDidDispose=this._register(new Q.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new Q.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new Q.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=A,this._codeEditorService=Ce,this._contextKeyService=this._register(U.createScoped(t)),this._instantiationService=X.createChild(new $s.y([Dt.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Ie,this._notificationService=Be,this._id=++_r,this._state=0,this._updatingDiffProgress=null,this._domElement=t,i=i||{},this._options=a(i,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof i.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",i.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new Zn.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=Lr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,As.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(it.mu(this._overviewDomElement,"mousedown",ki=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(ki)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new or(tt,_),this._modifiedEditorState=new or(tt,_),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Ro.I(this._containerDomElement,i.dimension,()=>this._onDidContainerSizeChanged())),i.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(i,o.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(i,o.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=X.createInstance(ro,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new ir(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new mr(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Ie.onDidColorThemeChange(ki=>{this._strategy&&this._strategy.applyColors(ki)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=Lr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const xi=Ps.Uc.getDiffEditorContributions();for(const ki of xi)try{this._register(X.createInstance(ki.ctor,this))}catch(en){(0,Bn.dL)(en)}this._codeEditorService.addDiffEditor(this)}_setState(t){this._state!==t&&(this._state=t,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(t,i){let o="monaco-diff-editor monaco-editor-background ";return i&&(o+="side-by-side "),o+=(0,Fn.m6)(t.type),o}_recreateOverviewRulers(){this._options.renderOverviewRuler&&(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(t,i){const o=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(t),i);this._register(o.onDidScrollChange(A=>{this._isHandlingScrollEvent||!A.scrollTopChanged&&!A.scrollLeftChanged&&!A.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:A.scrollLeft,scrollTop:A.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(o.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(o.onDidChangeConfiguration(A=>{o.getModel()&&(A.hasChanged(43)&&this._updateDecorationsRunner.schedule(),A.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(o.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(o.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const _=this._contextKeyService.createKey("isInDiffLeftEditor",o.hasWidgetFocus());return this._register(o.onDidFocusEditorWidget(()=>_.set(!0))),this._register(o.onDidBlurEditorWidget(()=>_.set(!1))),this._register(o.onDidContentSizeChange(A=>{const U=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Lr.ONE_OVERVIEW_WIDTH,X=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:X,contentWidth:U,contentHeightChanged:A.contentHeightChanged,contentWidthChanged:A.contentWidthChanged})})),o}_createRightHandSideEditor(t,i){const o=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t),i);this._register(o.onDidScrollChange(A=>{this._isHandlingScrollEvent||!A.scrollTopChanged&&!A.scrollLeftChanged&&!A.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:A.scrollLeft,scrollTop:A.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(o.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(o.onDidChangeConfiguration(A=>{o.getModel()&&(A.hasChanged(43)&&this._updateDecorationsRunner.schedule(),A.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(o.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(o.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(o.onDidChangeModelOptions(A=>{A.tabSize&&this._updateDecorationsRunner.schedule()}));const _=this._contextKeyService.createKey("isInDiffRightEditor",o.hasWidgetFocus());return this._register(o.onDidFocusEditorWidget(()=>_.set(!0))),this._register(o.onDidBlurEditorWidget(()=>_.set(!1))),this._register(o.onDidContentSizeChange(A=>{const U=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Lr.ONE_OVERVIEW_WIDTH,X=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:X,contentWidth:U,contentHeightChanged:A.contentHeightChanged,contentWidthChanged:A.contentWidthChanged})})),o}_createInnerEditor(t,i,o,_){return t.createInstance(Gs.Gm,i,o,_)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Xe.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(t){const i=a(t,this._options),o=b(this._options,i);this._options=i;const _=o.ignoreTrimWhitespace||o.renderIndicators,A=this._isVisible&&(o.maxComputationTime||o.maxFileSize);_?this._beginUpdateDecorations():A&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),o.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new ir(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new mr(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=Lr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),o.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(t){if(t&&(!t.original||!t.modified))throw new Error(t.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(t?t.original:null),this._modifiedEditor.setModel(t?t.modified:null),this._updateDecorationsRunner.cancel(),t&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),t&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(t){return this._modifiedEditor.getVisibleColumnFromPosition(t)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(t){this._modifiedEditor.setPosition(t)}revealLine(t,i=0){this._modifiedEditor.revealLine(t,i)}revealLineInCenter(t,i=0){this._modifiedEditor.revealLineInCenter(t,i)}revealLineInCenterIfOutsideViewport(t,i=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(t,i)}revealLineNearTop(t,i=0){this._modifiedEditor.revealLineNearTop(t,i)}revealPosition(t,i=0){this._modifiedEditor.revealPosition(t,i)}revealPositionInCenter(t,i=0){this._modifiedEditor.revealPositionInCenter(t,i)}revealPositionInCenterIfOutsideViewport(t,i=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(t,i)}revealPositionNearTop(t,i=0){this._modifiedEditor.revealPositionNearTop(t,i)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(t){this._modifiedEditor.setSelection(t)}setSelections(t){this._modifiedEditor.setSelections(t)}revealLines(t,i,o=0){this._modifiedEditor.revealLines(t,i,o)}revealLinesInCenter(t,i,o=0){this._modifiedEditor.revealLinesInCenter(t,i,o)}revealLinesInCenterIfOutsideViewport(t,i,o=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(t,i,o)}revealLinesNearTop(t,i,o=0){this._modifiedEditor.revealLinesNearTop(t,i,o)}revealRange(t,i=0,o=!1,_=!0){this._modifiedEditor.revealRange(t,i,o,_)}revealRangeInCenter(t,i=0){this._modifiedEditor.revealRangeInCenter(t,i)}revealRangeInCenterIfOutsideViewport(t,i=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(t,i)}revealRangeNearTop(t,i=0){this._modifiedEditor.revealRangeNearTop(t,i)}revealRangeNearTopIfOutsideViewport(t,i=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(t,i)}revealRangeAtTop(t,i=0){this._modifiedEditor.revealRangeAtTop(t,i)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const t=this._originalEditor.saveViewState(),i=this._modifiedEditor.saveViewState();return{original:t,modified:i}}restoreViewState(t){if(t&&t.original&&t.modified){const i=t;this._originalEditor.restoreViewState(i.original),this._modifiedEditor.restoreViewState(i.modified)}}layout(t){this._elementSizeObserver.observe(t)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(t,i,o){this._modifiedEditor.trigger(t,i,o)}changeDecorations(t){return this._modifiedEditor.changeDecorations(t)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),o=Lr.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Lr.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:Lr.ONE_OVERVIEW_WIDTH,right:o+Lr.ONE_OVERVIEW_WIDTH,height:t-i}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Lr.ONE_OVERVIEW_WIDTH,height:t-i}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),Lr.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(t,i){return!t&&!i?!0:!t||!i?!1:t.toString()===i.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const t=this._originalEditor.getModel(),i=this._modifiedEditor.getModel();if(!t||!i)return;this._diffComputationToken++;const o=this._diffComputationToken,_=this._options.maxFileSize*1024*1024,A=U=>{const X=U.getValueLength();return _===0||X<=_};if(!A(t)||!A(i)){(!Lr._equals(t.uri,this._lastOriginalWarning)||!Lr._equals(i.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=i.uri,this._notificationService.warn(Ve.N("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._editorWorkerService.computeDiff(t.uri,i.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(U=>{o===this._diffComputationToken&&t===this._originalEditor.getModel()&&i===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=U,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},U=>{o===this._diffComputationToken&&t===this._originalEditor.getModel()&&i===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const t=this._diffComputationResult?this._diffComputationResult.changes:[],i=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),o=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),_=this._strategy.getEditorsDiffDecorations(t,this._options.ignoreTrimWhitespace,this._options.renderIndicators,i,o);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,_.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,_.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(t){const i=Object.assign({},t);return i.inDiffEditor=!0,i.automaticLayout=!1,i.scrollbar=Object.assign({},i.scrollbar||{}),i.scrollbar.vertical="visible",i.folding=!1,i.codeLens=this._options.diffCodeLens,i.fixedOverflowWidgets=!0,i.minimap=Object.assign({},i.minimap||{}),i.minimap.enabled=!1,i}_adjustOptionsForLeftHandSide(t){const i=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide?i.wordWrapOverride1=this._options.diffWordWrap:i.wordWrapOverride1="off",t.originalAriaLabel&&(i.ariaLabel=t.originalAriaLabel),i.readOnly=!this._options.originalEditable,i.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},i),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(t){const i=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(i.ariaLabel=t.modifiedAriaLabel),i.wordWrapOverride1=this._options.diffWordWrap,i.revealHorizontalRightPadding=g.BH.revealHorizontalRightPadding.defaultValue+Lr.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},i),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const t=this._elementSizeObserver.getWidth(),i=this._elementSizeObserver.getHeight(),o=this._getReviewHeight(),_=this._strategy.layout();this._originalDomNode.style.width=_+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=t-_+"px",this._modifiedDomNode.style.left=_+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=i-o+"px",this._overviewDomElement.style.width=Lr.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=t-Lr.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Lr.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:_,height:i-o}),this._modifiedEditor.layout({width:t-_-(this._options.renderOverviewRuler?Lr.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:i-o}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(i-o,t,o),this._layoutOverviewViewport()}_layoutOverviewViewport(){const t=this._computeOverviewViewport();t?(this._overviewViewportDomElement.setTop(t.top),this._overviewViewportDomElement.setHeight(t.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const t=this._modifiedEditor.getLayoutInfo();if(!t)return null;const i=this._modifiedEditor.getScrollTop(),o=this._modifiedEditor.getScrollHeight(),_=Math.max(0,t.height),A=Math.max(0,_-2*0),U=o>0?A/o:0,X=Math.max(0,Math.floor(t.height*U)),Ce=Math.floor(i*U);return{height:X,top:Ce}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(t){this._strategy&&this._strategy.dispose(),this._strategy=t,t.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(t,i){const o=this._diffComputationResult?this._diffComputationResult.changes:[];if(o.length===0||t<i(o[0]))return null;let _=0,A=o.length-1;for(;_<A;){const U=Math.floor((_+A)/2),X=i(o[U]),Ce=U+1<=A?i(o[U+1]):1073741824;t<X?A=U-1:t>=Ce?_=U+1:(_=U,A=U)}return o[_]}_getEquivalentLineForOriginalLineNumber(t){const i=this._getLineChangeAtOrBeforeLineNumber(t,Ce=>Ce.originalStartLineNumber);if(!i)return t;const o=i.originalStartLineNumber+(i.originalEndLineNumber>0?-1:0),_=i.modifiedStartLineNumber+(i.modifiedEndLineNumber>0?-1:0),A=i.originalEndLineNumber>0?i.originalEndLineNumber-i.originalStartLineNumber+1:0,U=i.modifiedEndLineNumber>0?i.modifiedEndLineNumber-i.modifiedStartLineNumber+1:0,X=t-o;return X<=A?_+Math.min(X,U):_+U-A+X}_getEquivalentLineForModifiedLineNumber(t){const i=this._getLineChangeAtOrBeforeLineNumber(t,Ce=>Ce.modifiedStartLineNumber);if(!i)return t;const o=i.originalStartLineNumber+(i.originalEndLineNumber>0?-1:0),_=i.modifiedStartLineNumber+(i.modifiedEndLineNumber>0?-1:0),A=i.originalEndLineNumber>0?i.originalEndLineNumber-i.originalStartLineNumber+1:0,U=i.modifiedEndLineNumber>0?i.modifiedEndLineNumber-i.modifiedStartLineNumber+1:0,X=t-_;return X<=U?o+Math.min(X,A):o+A-U+X}getDiffLineInformationForOriginal(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(t)}:null}getDiffLineInformationForModified(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(t)}:null}};ko.ONE_OVERVIEW_WIDTH=15,ko.ENTIRE_DIFF_OVERVIEW_WIDTH=30,ko.UPDATE_DIFF_DECORATIONS_DELAY=200,ko=fr([Zo(3,go.p),Zo(4,Mn.p),Zo(5,Dt.i6),Zo(6,os.TG),Zo(7,Mt.$),Zo(8,Fn.XE),Zo(9,rn.lT),Zo(10,$n.i),Zo(11,eo.e)],ko);class ar extends Gt.JT{constructor(t){super(),this._dataSource=t,this._insertColor=null,this._removeColor=null}applyColors(t){const i=(t.getColor(Wi.yp)||Wi.Cz).transparent(2),o=(t.getColor(Wi.P4)||Wi.ke).transparent(2),_=!i.equals(this._insertColor)||!o.equals(this._removeColor);return this._insertColor=i,this._removeColor=o,_}getEditorsDiffDecorations(t,i,o,_,A){A=A.sort((Ie,Be)=>Ie.afterLineNumber-Be.afterLineNumber),_=_.sort((Ie,Be)=>Ie.afterLineNumber-Be.afterLineNumber);const U=this._getViewZones(t,_,A,o),X=this._getOriginalEditorDecorations(t,i,o),Ce=this._getModifiedEditorDecorations(t,i,o);return{original:{decorations:X.decorations,overviewZones:X.overviewZones,zones:U.original},modified:{decorations:Ce.decorations,overviewZones:Ce.overviewZones,zones:U.modified}}}}class vr{constructor(t){this._source=t,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class tr{constructor(t,i,o,_,A){this._lineChanges=t,this._originalForeignVZ=i,this._modifiedForeignVZ=o,this._originalEditor=_,this._modifiedEditor=A}static _getViewLineCount(t,i,o){const _=t.getModel(),A=t._getViewModel();if(_&&A){const U=n(_,A,i,o);return U.endLineNumber-U.startLineNumber+1}return o-i+1}getViewZones(){const t=this._originalEditor.getOption(58),i=this._modifiedEditor.getOption(58),o=this._originalEditor.getOption(130).wrappingColumn!==-1,_=this._modifiedEditor.getOption(130).wrappingColumn!==-1,A=o||_,U=this._originalEditor.getModel(),X=this._originalEditor._getViewModel().coordinatesConverter,Ce=this._modifiedEditor._getViewModel().coordinatesConverter,Ie={original:[],modified:[]};let Be=0,tt=0,zt=0,xi=0,ki=0,en=0;const Tn=(ks,Un)=>ks.afterLineNumber-Un.afterLineNumber,qn=(ks,Un)=>{if(Un.domNode===null&&ks.length>0){const Pn=ks[ks.length-1];if(Pn.afterLineNumber===Un.afterLineNumber&&Pn.domNode===null){Pn.heightInLines+=Un.heightInLines;return}}ks.push(Un)},ss=new vr(this._modifiedForeignVZ),xn=new vr(this._originalForeignVZ);let Wn=1,io=1;for(let ks=0,Un=this._lineChanges.length;ks<=Un;ks++){const Pn=ks<Un?this._lineChanges[ks]:null;Pn!==null?(zt=Pn.originalStartLineNumber+(Pn.originalEndLineNumber>0?-1:0),xi=Pn.modifiedStartLineNumber+(Pn.modifiedEndLineNumber>0?-1:0),tt=Pn.originalEndLineNumber>0?tr._getViewLineCount(this._originalEditor,Pn.originalStartLineNumber,Pn.originalEndLineNumber):0,Be=Pn.modifiedEndLineNumber>0?tr._getViewLineCount(this._modifiedEditor,Pn.modifiedStartLineNumber,Pn.modifiedEndLineNumber):0,ki=Math.max(Pn.originalStartLineNumber,Pn.originalEndLineNumber),en=Math.max(Pn.modifiedStartLineNumber,Pn.modifiedEndLineNumber)):(zt+=1e7+tt,xi+=1e7+Be,ki=zt,en=xi);let Cs=[],es=[];if(A){let ws;Pn?Pn.originalEndLineNumber>0?ws=Pn.originalStartLineNumber-Wn:ws=Pn.modifiedStartLineNumber-io:ws=U.getLineCount()-Wn;for(let sr=0;sr<ws;sr++){const Tr=Wn+sr,qo=io+sr,kr=X.getModelLineViewLineCount(Tr),Ur=Ce.getModelLineViewLineCount(qo);kr<Ur?Cs.push({afterLineNumber:Tr,heightInLines:Ur-kr,domNode:null,marginDomNode:null}):kr>Ur&&es.push({afterLineNumber:qo,heightInLines:kr-Ur,domNode:null,marginDomNode:null})}Pn&&(Wn=(Pn.originalEndLineNumber>0?Pn.originalEndLineNumber:Pn.originalStartLineNumber)+1,io=(Pn.modifiedEndLineNumber>0?Pn.modifiedEndLineNumber:Pn.modifiedStartLineNumber)+1)}for(;ss.current&&ss.current.afterLineNumber<=en;){let ws;ss.current.afterLineNumber<=xi?ws=zt-xi+ss.current.afterLineNumber:ws=ki;let sr=null;Pn&&Pn.modifiedStartLineNumber<=ss.current.afterLineNumber&&ss.current.afterLineNumber<=Pn.modifiedEndLineNumber&&(sr=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Cs.push({afterLineNumber:ws,heightInLines:ss.current.height/i,domNode:null,marginDomNode:sr}),ss.advance()}for(;xn.current&&xn.current.afterLineNumber<=ki;){let ws;xn.current.afterLineNumber<=zt?ws=xi-zt+xn.current.afterLineNumber:ws=en,es.push({afterLineNumber:ws,heightInLines:xn.current.height/t,domNode:null}),xn.advance()}if(Pn!==null&&Yo(Pn)){const ws=this._produceOriginalFromDiff(Pn,tt,Be);ws&&Cs.push(ws)}if(Pn!==null&&pt(Pn)){const ws=this._produceModifiedFromDiff(Pn,tt,Be);ws&&es.push(ws)}let Qs=0,$o=0;for(Cs=Cs.sort(Tn),es=es.sort(Tn);Qs<Cs.length&&$o<es.length;){const ws=Cs[Qs],sr=es[$o],Tr=ws.afterLineNumber-zt,qo=sr.afterLineNumber-xi;Tr<qo?(qn(Ie.original,ws),Qs++):qo<Tr?(qn(Ie.modified,sr),$o++):ws.shouldNotShrink?(qn(Ie.original,ws),Qs++):sr.shouldNotShrink?(qn(Ie.modified,sr),$o++):ws.heightInLines>=sr.heightInLines?(ws.heightInLines-=sr.heightInLines,$o++):(sr.heightInLines-=ws.heightInLines,Qs++)}for(;Qs<Cs.length;)qn(Ie.original,Cs[Qs]),Qs++;for(;$o<es.length;)qn(Ie.modified,es[$o]),$o++}return{original:tr._ensureDomNodes(Ie.original),modified:tr._ensureDomNodes(Ie.modified)}}static _ensureDomNodes(t){return t.map(i=>(i.domNode||(i.domNode=e()),i))}}function Do(u,t,i,o,_){return{range:new k.e(u,t,i,o),options:_}}const mo={charDelete:fs.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:fs.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:fs.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:fs.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:fs.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:fs.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+Fn.kS.asClassName(Xo),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:fs.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:fs.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+Fn.kS.asClassName(Wo),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:fs.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class ir extends ar{constructor(t,i){super(t),this._disableSash=i===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new xs.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(o=>this._onSashDrag(o)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(t){const i=t===!1;this._disableSash!==i&&(this._disableSash=i,this._sash.state=this._disableSash?0:3)}layout(t=this._sashRatio){const o=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ko.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let _=Math.floor((t||.5)*o);const A=Math.floor(.5*o);return _=this._disableSash?A:_||A,o>ir.MINIMUM_EDITOR_WIDTH*2?(_<ir.MINIMUM_EDITOR_WIDTH&&(_=ir.MINIMUM_EDITOR_WIDTH),_>o-ir.MINIMUM_EDITOR_WIDTH&&(_=o-ir.MINIMUM_EDITOR_WIDTH)):_=A,this._sashPosition!==_&&(this._sashPosition=_,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(t){const o=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ko.ENTIRE_DIFF_OVERVIEW_WIDTH:0),_=this.layout((this._startSashPosition+(t.currentX-t.startX))/o);this._sashRatio=_/o,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(t){return 0}getVerticalSashLeft(t){return this._sashPosition}getVerticalSashHeight(t){return this._dataSource.getHeight()}_getViewZones(t,i,o){const _=this._dataSource.getOriginalEditor(),A=this._dataSource.getModifiedEditor();return new gr(t,i,o,_,A).getViewZones()}_getOriginalEditorDecorations(t,i,o){const _=this._dataSource.getOriginalEditor(),A=String(this._removeColor),U={decorations:[],overviewZones:[]},X=_.getModel(),Ce=_._getViewModel();for(const Ie of t)if(pt(Ie)){U.decorations.push({range:new k.e(Ie.originalStartLineNumber,1,Ie.originalEndLineNumber,1073741824),options:o?mo.lineDeleteWithSign:mo.lineDelete}),(!Yo(Ie)||!Ie.charChanges)&&U.decorations.push(Do(Ie.originalStartLineNumber,1,Ie.originalEndLineNumber,1073741824,mo.charDeleteWholeLine));const Be=n(X,Ce,Ie.originalStartLineNumber,Ie.originalEndLineNumber);if(U.overviewZones.push(new Hn.EY(Be.startLineNumber,Be.endLineNumber,A)),Ie.charChanges){for(const tt of Ie.charChanges)if(pt(tt))if(i)for(let zt=tt.originalStartLineNumber;zt<=tt.originalEndLineNumber;zt++){let xi,ki;zt===tt.originalStartLineNumber?xi=tt.originalStartColumn:xi=X.getLineFirstNonWhitespaceColumn(zt),zt===tt.originalEndLineNumber?ki=tt.originalEndColumn:ki=X.getLineLastNonWhitespaceColumn(zt),U.decorations.push(Do(zt,xi,zt,ki,mo.charDelete))}else U.decorations.push(Do(tt.originalStartLineNumber,tt.originalStartColumn,tt.originalEndLineNumber,tt.originalEndColumn,mo.charDelete))}}return U}_getModifiedEditorDecorations(t,i,o){const _=this._dataSource.getModifiedEditor(),A=String(this._insertColor),U={decorations:[],overviewZones:[]},X=_.getModel(),Ce=_._getViewModel();for(const Ie of t)if(Yo(Ie)){U.decorations.push({range:new k.e(Ie.modifiedStartLineNumber,1,Ie.modifiedEndLineNumber,1073741824),options:o?mo.lineInsertWithSign:mo.lineInsert}),(!pt(Ie)||!Ie.charChanges)&&U.decorations.push(Do(Ie.modifiedStartLineNumber,1,Ie.modifiedEndLineNumber,1073741824,mo.charInsertWholeLine));const Be=n(X,Ce,Ie.modifiedStartLineNumber,Ie.modifiedEndLineNumber);if(U.overviewZones.push(new Hn.EY(Be.startLineNumber,Be.endLineNumber,A)),Ie.charChanges){for(const tt of Ie.charChanges)if(Yo(tt))if(i)for(let zt=tt.modifiedStartLineNumber;zt<=tt.modifiedEndLineNumber;zt++){let xi,ki;zt===tt.modifiedStartLineNumber?xi=tt.modifiedStartColumn:xi=X.getLineFirstNonWhitespaceColumn(zt),zt===tt.modifiedEndLineNumber?ki=tt.modifiedEndColumn:ki=X.getLineLastNonWhitespaceColumn(zt),U.decorations.push(Do(zt,xi,zt,ki,mo.charInsert))}else U.decorations.push(Do(tt.modifiedStartLineNumber,tt.modifiedStartColumn,tt.modifiedEndLineNumber,tt.modifiedEndColumn,mo.charInsert))}}return U}}ir.MINIMUM_EDITOR_WIDTH=100;class gr extends tr{constructor(t,i,o,_,A){super(t,i,o,_,A)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(t,i,o){return o>i?{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:o-i,domNode:null}:null}_produceModifiedFromDiff(t,i,o){return i>o?{afterLineNumber:Math.max(t.modifiedStartLineNumber,t.modifiedEndLineNumber),heightInLines:i-o,domNode:null}:null}}class mr extends ar{constructor(t,i){super(t),this._decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(t.getOriginalEditor().onDidLayoutChange(o=>{this._decorationsLeft!==o.decorationsLeft&&(this._decorationsLeft=o.decorationsLeft,t.relayoutEditors())}))}setEnableSplitViewResizing(t){}_getViewZones(t,i,o,_){const A=this._dataSource.getOriginalEditor(),U=this._dataSource.getModifiedEditor();return new Go(t,i,o,A,U,_).getViewZones()}_getOriginalEditorDecorations(t,i,o){const _=String(this._removeColor),A={decorations:[],overviewZones:[]},U=this._dataSource.getOriginalEditor(),X=U.getModel(),Ce=U._getViewModel();for(const Ie of t)if(pt(Ie)){A.decorations.push({range:new k.e(Ie.originalStartLineNumber,1,Ie.originalEndLineNumber,1073741824),options:mo.lineDeleteMargin});const Be=n(X,Ce,Ie.originalStartLineNumber,Ie.originalEndLineNumber);A.overviewZones.push(new Hn.EY(Be.startLineNumber,Be.endLineNumber,_))}return A}_getModifiedEditorDecorations(t,i,o){const _=this._dataSource.getModifiedEditor(),A=String(this._insertColor),U={decorations:[],overviewZones:[]},X=_.getModel(),Ce=_._getViewModel();for(const Ie of t)if(Yo(Ie)){U.decorations.push({range:new k.e(Ie.modifiedStartLineNumber,1,Ie.modifiedEndLineNumber,1073741824),options:o?mo.lineInsertWithSign:mo.lineInsert});const Be=n(X,Ce,Ie.modifiedStartLineNumber,Ie.modifiedEndLineNumber);if(U.overviewZones.push(new Hn.EY(Be.startLineNumber,Be.endLineNumber,A)),Ie.charChanges){for(const tt of Ie.charChanges)if(Yo(tt))if(i)for(let zt=tt.modifiedStartLineNumber;zt<=tt.modifiedEndLineNumber;zt++){let xi,ki;zt===tt.modifiedStartLineNumber?xi=tt.modifiedStartColumn:xi=X.getLineFirstNonWhitespaceColumn(zt),zt===tt.modifiedEndLineNumber?ki=tt.modifiedEndColumn:ki=X.getLineLastNonWhitespaceColumn(zt),U.decorations.push(Do(zt,xi,zt,ki,mo.charInsert))}else U.decorations.push(Do(tt.modifiedStartLineNumber,tt.modifiedStartColumn,tt.modifiedEndLineNumber,tt.modifiedEndColumn,mo.charInsert))}else U.decorations.push(Do(Ie.modifiedStartLineNumber,1,Ie.modifiedEndLineNumber,1073741824,mo.charInsertWholeLine))}return U}layout(){return Math.max(5,this._decorationsLeft)}}class Go extends tr{constructor(t,i,o,_,A,U){super(t,i,o,_,A),this._originalModel=_.getModel(),this._renderIndicators=U,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const t=super.getViewZones();return this._finalize(t),t}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const t=document.createElement("div");return t.className="inline-added-margin-view-zone",t}_produceOriginalFromDiff(t,i,o){const _=document.createElement("div");return _.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:o,domNode:document.createElement("div"),marginDomNode:_}}_produceModifiedFromDiff(t,i,o){const _=document.createElement("div");_.className=`view-lines line-delete ${er.S}`;const A=document.createElement("div");A.className="inline-deleted-margin-view-zone";const U={shouldNotShrink:!0,afterLineNumber:t.modifiedEndLineNumber===0?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1,heightInLines:i,minWidthInPx:0,domNode:_,marginDomNode:A,diff:{originalStartLineNumber:t.originalStartLineNumber,originalEndLineNumber:t.originalEndLineNumber,modifiedStartLineNumber:t.modifiedStartLineNumber,modifiedEndLineNumber:t.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let X=t.originalStartLineNumber;X<=t.originalEndLineNumber;X++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(X),null,null);return this._pendingLineChange.push(t),this._pendingViewZones.push(U),U}_finalize(t){const i=this._modifiedEditor.getOptions(),o=this._modifiedEditor.getModel().getOptions().tabSize,_=i.get(43),A=i.get(29),U=_.typicalHalfwidthCharacterWidth,X=i.get(92),Ce=this._originalModel.mightContainNonBasicASCII(),Ie=this._originalModel.mightContainRTL(),Be=i.get(58),zt=i.get(129).decorationsWidth,xi=i.get(104),ki=i.get(87),en=i.get(82),Tn=i.get(44),qn=this._lineBreaksComputer.finalize();let ss=0;for(let xn=0;xn<this._pendingLineChange.length;xn++){const Wn=this._pendingLineChange[xn],io=this._pendingViewZones[xn],ks=io.domNode;ls.V.applyFontInfoSlow(ks,_);const Un=io.marginDomNode;ls.V.applyFontInfoSlow(Un,_);const Pn=[];if(Wn.charChanges)for(const qo of Wn.charChanges)pt(qo)&&Pn.push(new Fe.$t(new k.e(qo.originalStartLineNumber,qo.originalStartColumn,qo.originalEndLineNumber,qo.originalEndColumn),"char-delete",0));const Cs=Pn.length>0,es=(0,Bo.l$)(1e4);let Qs=0,$o=0,ws=null;for(let qo=Wn.originalStartLineNumber;qo<=Wn.originalEndLineNumber;qo++){const kr=qo-Wn.originalStartLineNumber,Ur=this._originalModel.getLineTokens(qo),qr=Ur.getLineContent(),ia=qn[ss++],Wr=Ts.Kp.filter(Pn,qo,1,qr.length+1);if(ia){let Rl=0;for(const kl of ia.breakOffsets){const Qh=Ur.sliceAndInflate(Rl,kl,0),Xh=qr.substring(Rl,kl);Qs=Math.max(Qs,this._renderOriginalLine($o++,Xh,Qh,Ts.Kp.extractWrapped(Wr,Rl,kl),Cs,Ce,Ie,_,A,Be,zt,xi,ki,en,Tn,o,es,Un)),Rl=kl}for(ws||(ws=[]);ws.length<kr;)ws[ws.length]=1;ws[kr]=ia.breakOffsets.length,io.heightInLines+=ia.breakOffsets.length-1;const fu=document.createElement("div");fu.className="line-delete",t.original.push({afterLineNumber:qo,afterColumn:0,heightInLines:ia.breakOffsets.length-1,domNode:e(),marginDomNode:fu})}else Qs=Math.max(Qs,this._renderOriginalLine($o++,qr,Ur,Wr,Cs,Ce,Ie,_,A,Be,zt,xi,ki,en,Tn,o,es,Un))}Qs+=X;const sr=es.build(),Tr=rr?rr.createHTML(sr):sr;if(ks.innerHTML=Tr,io.minWidthInPx=Qs*U,ws){const qo=Wn.originalEndLineNumber-Wn.originalStartLineNumber;for(;ws.length<=qo;)ws[ws.length]=1}io.diff.viewLineCounts=ws}t.original.sort((xn,Wn)=>xn.afterLineNumber-Wn.afterLineNumber)}_renderOriginalLine(t,i,o,_,A,U,X,Ce,Ie,Be,tt,zt,xi,ki,en,Tn,qn,ss){qn.appendASCIIString('<div class="view-line'),A||qn.appendASCIIString(" char-delete"),qn.appendASCIIString('" style="top:'),qn.appendASCIIString(String(t*Be)),qn.appendASCIIString('px;width:1000000px;">');const xn=Fe.wA.isBasicASCII(i,U),Wn=Fe.wA.containsRTL(i,xn,X),io=(0,Se.d1)(new Se.IJ(Ce.isMonospace&&!Ie,Ce.canUseHalfwidthRightwardsArrow,i,!1,xn,Wn,0,o,_,Tn,0,Ce.spaceWidth,Ce.middotWidth,Ce.wsmiddotWidth,zt,xi,ki,en!==g.n0.OFF,null),qn);if(qn.appendASCIIString("</div>"),this._renderIndicators){const ks=document.createElement("div");ks.className=`delete-sign ${Fn.kS.asClassName(Wo)}`,ks.setAttribute("style",`position:absolute;top:${t*Be}px;width:${tt}px;height:${Be}px;right:0;`),ss.appendChild(ks)}return io.characterMapping.getAbsoluteOffset(io.characterMapping.length)}}function Vr(u,t){return(0,g.NY)(u,t,["off","on","inherit"])}function Yo(u){return u.modifiedEndLineNumber>0}function pt(u){return u.originalEndLineNumber>0}function e(){const u=document.createElement("div");return u.className="diagonal-fill",u}function n(u,t,i,o){const _=u.getLineCount();return i=Math.min(_,Math.max(1,i)),o=Math.min(_,Math.max(1,o)),t.coordinatesConverter.convertModelRangeToViewRange(new k.e(i,u.getLineMinColumn(i),o,u.getLineMaxColumn(o)))}function a(u,t){return{enableSplitViewResizing:(0,g.O7)(u.enableSplitViewResizing,t.enableSplitViewResizing),renderSideBySide:(0,g.O7)(u.renderSideBySide,t.renderSideBySide),maxComputationTime:(0,g.Zc)(u.maxComputationTime,t.maxComputationTime,0,1073741824),maxFileSize:(0,g.Zc)(u.maxFileSize,t.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,g.O7)(u.ignoreTrimWhitespace,t.ignoreTrimWhitespace),renderIndicators:(0,g.O7)(u.renderIndicators,t.renderIndicators),originalEditable:(0,g.O7)(u.originalEditable,t.originalEditable),diffCodeLens:(0,g.O7)(u.diffCodeLens,t.diffCodeLens),renderOverviewRuler:(0,g.O7)(u.renderOverviewRuler,t.renderOverviewRuler),diffWordWrap:Vr(u.diffWordWrap,t.diffWordWrap)}}function b(u,t){return{enableSplitViewResizing:u.enableSplitViewResizing!==t.enableSplitViewResizing,renderSideBySide:u.renderSideBySide!==t.renderSideBySide,maxComputationTime:u.maxComputationTime!==t.maxComputationTime,maxFileSize:u.maxFileSize!==t.maxFileSize,ignoreTrimWhitespace:u.ignoreTrimWhitespace!==t.ignoreTrimWhitespace,renderIndicators:u.renderIndicators!==t.renderIndicators,originalEditable:u.originalEditable!==t.originalEditable,diffCodeLens:u.diffCodeLens!==t.diffCodeLens,renderOverviewRuler:u.renderOverviewRuler!==t.renderOverviewRuler,diffWordWrap:u.diffWordWrap!==t.diffWordWrap}}(0,Fn.Ic)((u,t)=>{const i=u.getColor(Wi.yp);i&&(t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${i}; }`));const o=u.getColor(Wi.P4);o&&(t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${o}; }`),t.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${o}; }`),t.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${o}; }`));const _=u.getColor(Wi.XL);_&&t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${u.type==="hc"?"dashed":"solid"} ${_}; }`);const A=u.getColor(Wi.mH);A&&t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${u.type==="hc"?"dashed":"solid"} ${A}; }`);const U=u.getColor(Wi._w);U&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${U}; }`);const X=u.getColor(Wi.LL);X&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${X}; }`);const Ce=u.getColor(Wi.et);Ce&&t.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Ce};
			}
		`);const Ie=u.getColor(Wi.AB);Ie&&t.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Ie};
			}
		`);const Be=u.getColor(Wi.yn);Be&&t.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${Be};
			}
		`);const tt=u.getColor(Wi.L_);t.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${tt} 12.5%,
			#0000 12.5%, #0000 50%,
			${tt} 50%, ${tt} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)});var M=c(30653);const j=(0,os.yh)("themeService");var ee=c(84144),ue=c(91847),ye=c(31106);class Te extends Gt.JT{constructor(){super(),this._onCodeEditorAdd=this._register(new Q.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new Q.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new Q.Q5),this._onDiffEditorRemove=this._register(new Q.Q5),this._onDecorationTypeRegistered=this._register(new Q.Q5),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(t){this._codeEditors[t.getId()]=t,this._onCodeEditorAdd.fire(t)}removeCodeEditor(t){delete this._codeEditors[t.getId()]&&this._onCodeEditorRemove.fire(t)}listCodeEditors(){return Object.keys(this._codeEditors).map(t=>this._codeEditors[t])}addDiffEditor(t){this._diffEditors[t.getId()]=t,this._onDiffEditorAdd.fire(t)}removeDiffEditor(t){delete this._diffEditors[t.getId()]&&this._onDiffEditorRemove.fire(t)}listDiffEditors(){return Object.keys(this._diffEditors).map(t=>this._diffEditors[t])}getFocusedCodeEditor(){let t=null;const i=this.listCodeEditors();for(const o of i){if(o.hasTextFocus())return o;o.hasWidgetFocus()&&(t=o)}return t}setModelProperty(t,i,o){const _=t.toString();let A;this._modelProperties.has(_)?A=this._modelProperties.get(_):(A=new Map,this._modelProperties.set(_,A)),A.set(i,o)}getModelProperty(t,i){const o=t.toString();if(this._modelProperties.has(o))return this._modelProperties.get(o).get(i)}}var Ae=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},ot=function(u,t){return function(i,o){t(i,o,u)}};class qe{constructor(t,i,o){this._parent=t,this._editorId=i,this._styleSheet=o,this._refCount=0}ref(){this._refCount++}unref(){var t;this._refCount--,this._refCount===0&&((t=this._styleSheet.parentNode)===null||t===void 0||t.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(t,i){this._styleSheet.sheet.insertRule(t,i)}removeRulesContainingSelector(t){it.uN(t,this._styleSheet)}}class Et{constructor(t){this._styleSheet=t}ref(){}unref(){}insertRule(t,i){this._styleSheet.sheet.insertRule(t,i)}removeRulesContainingSelector(t){it.uN(t,this._styleSheet)}}let Ht=class extends Te{constructor(t,i){super(),this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=t||null,this._themeService=i}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new Et(it.dS())),this._globalStyleSheet}_getOrCreateStyleSheet(t){if(!t)return this._getOrCreateGlobalStyleSheet();const i=t.getContainerDomNode();if(!it.OO(i))return this._getOrCreateGlobalStyleSheet();const o=t.getId();if(!this._editorStyleSheets.has(o)){const _=new qe(this,o,it.dS(i));this._editorStyleSheets.set(o,_)}return this._editorStyleSheets.get(o)}_removeEditorStyleSheets(t){this._editorStyleSheets.delete(t)}registerDecorationType(t,i,o,_,A){let U=this._decorationOptionProviders.get(i);if(!U){const X=this._getOrCreateStyleSheet(A),Ce={styleSheet:X,key:i,parentTypeKey:_,options:o||Object.create(null)};_?U=new ri(this._themeService,X,Ce):U=new _i(t,this._themeService,X,Ce),this._decorationOptionProviders.set(i,U),this._onDecorationTypeRegistered.fire(i)}U.refCount++}removeDecorationType(t){const i=this._decorationOptionProviders.get(t);i&&(i.refCount--,i.refCount<=0&&(this._decorationOptionProviders.delete(t),i.dispose(),this.listCodeEditors().forEach(o=>o.removeDecorations(t))))}resolveDecorationOptions(t,i){const o=this._decorationOptionProviders.get(t);if(!o)throw new Error("Unknown decoration type key: "+t);return o.getOptions(this,i)}};Ht=Ae([ot(1,Fn.XE)],Ht);class ri{constructor(t,i,o){this._styleSheet=i,this._styleSheet.ref(),this._parentTypeKey=o.parentTypeKey,this.refCount=0,this._beforeContentRules=new bi(3,o,t),this._afterContentRules=new bi(4,o,t)}getOptions(t,i){const o=t.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(o.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(o.afterContentClassName=this._afterContentRules.className),o}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}class _i{constructor(t,i,o,_){this._disposables=new Gt.SL,this.description=t,this._styleSheet=o,this._styleSheet.ref(),this.refCount=0;const A=tt=>{const zt=new bi(tt,_,i);if(this._disposables.add(zt),zt.hasContent)return zt.className},U=tt=>{const zt=new bi(tt,_,i);return this._disposables.add(zt),zt.hasContent?{className:zt.className,hasLetterSpacing:zt.hasLetterSpacing}:null};this.className=A(0);const X=U(1);if(X&&(this.inlineClassName=X.className,this.inlineClassNameAffectsLetterSpacing=X.hasLetterSpacing),this.beforeContentClassName=A(3),this.afterContentClassName=A(4),_.options.beforeInjectedText&&_.options.beforeInjectedText.contentText){const tt=U(5);this.beforeInjectedText={content:_.options.beforeInjectedText.contentText,inlineClassName:tt==null?void 0:tt.className,inlineClassNameAffectsLetterSpacing:(tt==null?void 0:tt.hasLetterSpacing)||_.options.beforeInjectedText.affectsLetterSpacing}}if(_.options.afterInjectedText&&_.options.afterInjectedText.contentText){const tt=U(6);this.afterInjectedText={content:_.options.afterInjectedText.contentText,inlineClassName:tt==null?void 0:tt.className,inlineClassNameAffectsLetterSpacing:(tt==null?void 0:tt.hasLetterSpacing)||_.options.afterInjectedText.affectsLetterSpacing}}this.glyphMarginClassName=A(2);const Ce=_.options;this.isWholeLine=!!Ce.isWholeLine,this.stickiness=Ce.rangeBehavior;const Ie=Ce.light&&Ce.light.overviewRulerColor||Ce.overviewRulerColor,Be=Ce.dark&&Ce.dark.overviewRulerColor||Ce.overviewRulerColor;(typeof Ie!="undefined"||typeof Be!="undefined")&&(this.overviewRuler={color:Ie||Be,darkColor:Be||Ie,position:Ce.overviewRulerLane||wi.sh.Center})}getOptions(t,i){return i?{description:this.description,inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness,before:this.beforeInjectedText,after:this.afterInjectedText}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}const Ii={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};",verticalAlign:"vertical-align:{0};"};class bi{constructor(t,i,o){this._theme=o.getColorTheme(),this._ruleType=t,this._providerArgs=i,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let _=fn.getClassName(this._providerArgs.key,t);this._providerArgs.parentTypeKey&&(_=_+" "+fn.getClassName(this._providerArgs.parentTypeKey,t)),this._className=_,this._unThemedSelector=fn.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,t),this._buildCSS(),this._usesThemeColors?this._themeListener=o.onDidColorThemeChange(A=>{this._theme=o.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const t=this._providerArgs.options;let i,o,_;switch(this._ruleType){case 0:i=this.getCSSTextForModelDecorationClassName(t),o=this.getCSSTextForModelDecorationClassName(t.light),_=this.getCSSTextForModelDecorationClassName(t.dark);break;case 1:i=this.getCSSTextForModelDecorationInlineClassName(t),o=this.getCSSTextForModelDecorationInlineClassName(t.light),_=this.getCSSTextForModelDecorationInlineClassName(t.dark);break;case 2:i=this.getCSSTextForModelDecorationGlyphMarginClassName(t),o=this.getCSSTextForModelDecorationGlyphMarginClassName(t.light),_=this.getCSSTextForModelDecorationGlyphMarginClassName(t.dark);break;case 3:i=this.getCSSTextForModelDecorationContentClassName(t.before),o=this.getCSSTextForModelDecorationContentClassName(t.light&&t.light.before),_=this.getCSSTextForModelDecorationContentClassName(t.dark&&t.dark.before);break;case 4:i=this.getCSSTextForModelDecorationContentClassName(t.after),o=this.getCSSTextForModelDecorationContentClassName(t.light&&t.light.after),_=this.getCSSTextForModelDecorationContentClassName(t.dark&&t.dark.after);break;case 5:i=this.getCSSTextForModelDecorationContentClassName(t.beforeInjectedText),o=this.getCSSTextForModelDecorationContentClassName(t.light&&t.light.beforeInjectedText),_=this.getCSSTextForModelDecorationContentClassName(t.dark&&t.dark.beforeInjectedText);break;case 6:i=this.getCSSTextForModelDecorationContentClassName(t.afterInjectedText),o=this.getCSSTextForModelDecorationContentClassName(t.light&&t.light.afterInjectedText),_=this.getCSSTextForModelDecorationContentClassName(t.dark&&t.dark.afterInjectedText);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const A=this._providerArgs.styleSheet;let U=!1;i.length>0&&(A.insertRule(`${this._unThemedSelector} {${i}}`,0),U=!0),o.length>0&&(A.insertRule(`.vs${this._unThemedSelector} {${o}}`,0),U=!0),_.length>0&&(A.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${_}}`,0),U=!0),this._hasContent=U}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(t){if(!t)return"";const i=[];return this.collectCSSText(t,["backgroundColor"],i),this.collectCSSText(t,["outline","outlineColor","outlineStyle","outlineWidth"],i),this.collectBorderSettingsCSSText(t,i),i.join("")}getCSSTextForModelDecorationInlineClassName(t){if(!t)return"";const i=[];return this.collectCSSText(t,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],i),t.letterSpacing&&(this._hasLetterSpacing=!0),i.join("")}getCSSTextForModelDecorationContentClassName(t){if(!t)return"";const i=[];if(typeof t!="undefined"){if(this.collectBorderSettingsCSSText(t,i),typeof t.contentIconPath!="undefined"&&i.push(qi.WU(Ii.contentIconPath,it.wY(y.o.revive(t.contentIconPath)))),typeof t.contentText=="string"){const _=t.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");i.push(qi.WU(Ii.contentText,_))}this.collectCSSText(t,["verticalAlign","fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],i),this.collectCSSText(t,["width","height"],i)&&i.push("display:inline-block;")}return i.join("")}getCSSTextForModelDecorationGlyphMarginClassName(t){if(!t)return"";const i=[];return typeof t.gutterIconPath!="undefined"&&(i.push(qi.WU(Ii.gutterIconPath,it.wY(y.o.revive(t.gutterIconPath)))),typeof t.gutterIconSize!="undefined"&&i.push(qi.WU(Ii.gutterIconSize,t.gutterIconSize))),i.join("")}collectBorderSettingsCSSText(t,i){return this.collectCSSText(t,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],i)?(i.push(qi.WU("box-sizing: border-box;")),!0):!1}collectCSSText(t,i,o){const _=o.length;for(let A of i){const U=this.resolveValue(t[A]);typeof U=="string"&&o.push(qi.WU(Ii[A],U))}return o.length!==_}resolveValue(t){if((0,Xe.I)(t)){this._usesThemeColors=!0;const i=this._theme.getColor(t.id);return i?i.toString():"transparent"}return t}}class fn{static getClassName(t,i){return"ced-"+t+"-"+i}static getSelector(t,i,o){let _=".monaco-editor ."+this.getClassName(t,o);return i&&(_=_+"."+this.getClassName(i,o)),o===3?_+="::before":o===4&&(_+="::after"),_}}var an=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},zn=function(u,t){return function(i,o){t(i,o,u)}};let kn=class extends Ht{constructor(t,i,o){super(t,o),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=i.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let t=!1;for(const i of this.listCodeEditors())if(!i.isSimpleWidget){t=!0;break}this._editorIsOpen.set(t)}setActiveCodeEditor(t){this._activeCodeEditor=t}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(t,i,o){return i?Promise.resolve(this.doOpenEditor(i,t)):Promise.resolve(null)}doOpenEditor(t,i){if(!this.findModel(t,i.resource)){if(i.resource){const A=i.resource.scheme;if(A===ke.lg.http||A===ke.lg.https)return(0,it.V3)(i.resource.toString()),t}return null}const _=i.options?i.options.selection:null;if(_)if(typeof _.endLineNumber=="number"&&typeof _.endColumn=="number")t.setSelection(_),t.revealRangeInCenter(_,1);else{const A={lineNumber:_.startLineNumber,column:_.startColumn};t.setPosition(A),t.revealPositionInCenter(A,1)}return t}findModel(t,i){const o=t.getModel();return o&&o.uri.toString()!==i.toString()?null:o}};kn=an([zn(1,Dt.i6),zn(2,Fn.XE)],kn);var sn=c(81170),_n=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},In=function(u,t){return function(i,o){t(i,o,u)}};let Jn=0,po=!1;function ao(u){if(!u){if(po)return;po=!0}Ss.wW(u||document.body)}let lo=class extends Gs.Gm{constructor(t,i,o,_,A,U,X,Ce,Ie,Be){const tt=Object.assign({},i);tt.ariaLabel=tt.ariaLabel||br.editorViewAccessibleLabel,tt.ariaLabel=tt.ariaLabel+";"+br.accessibilityHelpMessage,super(t,tt,{},o,_,A,U,Ce,Ie,Be),X instanceof Ni?this._standaloneKeybindingService=X:this._standaloneKeybindingService=null,ao(tt.ariaContainerElement)}addCommand(t,i,o){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let _="DYNAMIC_"+ ++Jn,A=Dt.Ao.deserialize(o);return this._standaloneKeybindingService.addDynamicKeybinding(_,t,i,A),_}createContextKey(t,i){return this._contextKeyService.createKey(t,i)}addAction(t){if(typeof t.id!="string"||typeof t.label!="string"||typeof t.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Gt.JT.None;const i=t.id,o=t.label,_=Dt.Ao.and(Dt.Ao.equals("editorId",this.getId()),Dt.Ao.deserialize(t.precondition)),A=t.keybindings,U=Dt.Ao.and(_,Dt.Ao.deserialize(t.keybindingContext)),X=t.contextMenuGroupId||null,Ce=t.contextMenuOrder||0,Ie=(xi,...ki)=>Promise.resolve(t.run(this,...ki)),Be=new Gt.SL,tt=this.getId()+":"+i;if(Be.add(at.P.registerCommand(tt,Ie)),X){let xi={command:{id:tt,title:o},when:_,group:X,order:Ce};Be.add(ee.BH.appendMenuItem(ee.eH.EditorContext,xi))}if(Array.isArray(A))for(const xi of A)Be.add(this._standaloneKeybindingService.addDynamicKeybinding(tt,xi,Ie,U));let zt=new M.p(tt,o,o,_,Ie,this._contextKeyService);return this._actions[i]=zt,Be.add((0,Gt.OF)(()=>{delete this._actions[i]})),Be}_triggerCommand(t,i){if(this._codeEditorService instanceof kn)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(t,i)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(t,i)}};lo=_n([In(2,os.TG),In(3,Mt.$),In(4,at.H),In(5,Dt.i6),In(6,ue.d),In(7,Fn.XE),In(8,rn.lT),In(9,ye.F)],lo);let Bs=class extends lo{constructor(t,i,o,_,A,U,X,Ce,Ie,Be,tt,zt,xi,ki,en){const Tn=Object.assign({},i);pn(zt,Tn,!1);const qn=Be.registerEditorContainer(t);typeof Tn.theme=="string"&&Be.setTheme(Tn.theme),typeof Tn.autoDetectHighContrast!="undefined"&&Be.setAutoDetectHighContrast(!!Tn.autoDetectHighContrast);let ss=Tn.model;delete Tn.model,super(t,Tn,_,A,U,X,Ce,Be,tt,xi),this._contextViewService=Ie,this._configurationService=zt,this._standaloneThemeService=Be,this._register(o),this._register(qn);let xn;if(typeof ss=="undefined"?(xn=Ao(ki,en,Tn.value||"",Tn.language||sn.vW.text,void 0),this._ownsModel=!0):(xn=ss,this._ownsModel=!1),this._attachModel(xn),xn){let Wn={oldModelUrl:null,newModelUrl:xn.uri};this._onDidChangeModel.fire(Wn)}}dispose(){super.dispose()}updateOptions(t){pn(this._configurationService,t,!1),typeof t.theme=="string"&&this._standaloneThemeService.setTheme(t.theme),typeof t.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!t.autoDetectHighContrast),super.updateOptions(t)}_attachModel(t){super._attachModel(t),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(t){super._postDetachModelCleanup(t),t&&this._ownsModel&&(t.dispose(),this._ownsModel=!1)}};Bs=_n([In(3,os.TG),In(4,Mt.$),In(5,at.H),In(6,Dt.i6),In(7,ue.d),In(8,$n.u),In(9,j),In(10,rn.lT),In(11,d.Ui),In(12,ye.F),In(13,hs.q),In(14,Ri.h)],Bs);let Vo=class extends ko{constructor(t,i,o,_,A,U,X,Ce,Ie,Be,tt,zt,xi,ki,en){const Tn=Object.assign({},i);pn(zt,Tn,!0);const qn=Be.registerEditorContainer(t);typeof Tn.theme=="string"&&Be.setTheme(Tn.theme),typeof Tn.autoDetectHighContrast!="undefined"&&Be.setAutoDetectHighContrast(!!Tn.autoDetectHighContrast),super(t,Tn,{},en,Ce,A,_,Ie,Be,tt,xi,ki),this._contextViewService=X,this._configurationService=zt,this._standaloneThemeService=Be,this._register(o),this._register(qn),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(t){pn(this._configurationService,t,!0),typeof t.theme=="string"&&this._standaloneThemeService.setTheme(t.theme),typeof t.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!t.autoDetectHighContrast),super.updateOptions(t)}_createInnerEditor(t,i,o){return t.createInstance(lo,i,o)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(t,i,o){return this.getModifiedEditor().addCommand(t,i,o)}createContextKey(t,i){return this.getModifiedEditor().createContextKey(t,i)}addAction(t){return this.getModifiedEditor().addAction(t)}};Vo=_n([In(3,os.TG),In(4,Dt.i6),In(5,ue.d),In(6,$n.u),In(7,Mn.p),In(8,Mt.$),In(9,j),In(10,rn.lT),In(11,d.Ui),In(12,$n.i),In(13,eo.e),In(14,go.p)],Vo);function Ao(u,t,i,o,_){if(i=i||"",!o){const A=i.indexOf(`
`);let U=i;return A!==-1&&(U=i.substring(0,A)),Ho(u,i,t.createByFilepathOrFirstLine(_||null,U),_)}return Ho(u,i,t.create(o),_)}function Ho(u,t,i,o){return u.createModel(t,i,o)}var Jo=c(71144),Es=c(89872);const qs=Object.prototype.hasOwnProperty;class zo{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(Ui.TG,0),this._register(Jo.XT,1),this._nextLanguageId=2}_register(t,i){this._languageIdToLanguage[i]=t,this._languageToLanguageId.set(t,i)}register(t){if(this._languageToLanguageId.has(t))return;const i=this._nextLanguageId++;this._register(t,i)}encodeLanguageId(t){return this._languageToLanguageId.get(t)||0}decodeLanguageId(t){return this._languageIdToLanguage[t]||Ui.TG}}class Dr extends Gt.JT{constructor(t=!0,i=!1){super(),this._onDidChange=this._register(new Q.Q5),this.onDidChange=this._onDidChange.event,Dr.instanceCount++,this._warnOnOverwrite=i,this.languageIdCodec=new zo,this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},t&&(this._initializeFromRegistry(),this._register(Jo.dQ.onDidChangeLanguages(o=>{this._initializeFromRegistry()})))}dispose(){Dr.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},sn.bS();const t=Jo.dQ.getLanguages();this._registerLanguages(t)}_registerLanguages(t){for(const i of t)this._registerLanguage(i);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(i=>{let o=this._languages[i];o.name&&(this._nameMap[o.name]=o.identifier),o.aliases.forEach(_=>{this._lowercaseNameMap[_.toLowerCase()]=o.identifier}),o.mimetypes.forEach(_=>{this._mimeTypesMap[_]=o.identifier})}),Es.B.as(N.IP.Configuration).registerOverrideIdentifiers(Jo.dQ.getLanguages().map(i=>i.id)),this._onDidChange.fire()}_registerLanguage(t){const i=t.id;let o;qs.call(this._languages,i)?o=this._languages[i]:(this.languageIdCodec.register(i),o={identifier:i,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[i]=o),this._mergeLanguage(o,t)}_mergeLanguage(t,i){const o=i.id;let _=null;if(Array.isArray(i.mimetypes)&&i.mimetypes.length>0&&(t.mimetypes.push(...i.mimetypes),_=i.mimetypes[0]),_||(_=`text/x-${o}`,t.mimetypes.push(_)),Array.isArray(i.extensions)){i.configuration?t.extensions=i.extensions.concat(t.extensions):t.extensions=t.extensions.concat(i.extensions);for(let X of i.extensions)sn.sA({id:o,mime:_,extension:X},this._warnOnOverwrite)}if(Array.isArray(i.filenames))for(let X of i.filenames)sn.sA({id:o,mime:_,filename:X},this._warnOnOverwrite),t.filenames.push(X);if(Array.isArray(i.filenamePatterns))for(let X of i.filenamePatterns)sn.sA({id:o,mime:_,filepattern:X},this._warnOnOverwrite);if(typeof i.firstLine=="string"&&i.firstLine.length>0){let X=i.firstLine;X.charAt(0)!=="^"&&(X="^"+X);try{let Ce=new RegExp(X);qi.IO(Ce)||sn.sA({id:o,mime:_,firstline:Ce},this._warnOnOverwrite)}catch(Ce){(0,Bn.dL)(Ce)}}t.aliases.push(o);let A=null;if(typeof i.aliases!="undefined"&&Array.isArray(i.aliases)&&(i.aliases.length===0?A=[null]:A=i.aliases),A!==null)for(const X of A)!X||X.length===0||t.aliases.push(X);let U=A!==null&&A.length>0;if(!(U&&A[0]===null)){let X=(U?A[0]:null)||o;(U||!t.name)&&(t.name=X)}i.configuration&&t.configurationFiles.push(i.configuration)}isRegisteredMode(t){return qs.call(this._mimeTypesMap,t)?!0:qs.call(this._languages,t)}getModeIdForLanguageNameLowercase(t){return qs.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}extractModeIds(t){return t?t.split(",").map(i=>i.trim()).map(i=>qs.call(this._mimeTypesMap,i)?this._mimeTypesMap[i]:i).filter(i=>qs.call(this._languages,i)):[]}validateLanguageId(t){return!t||t===Ui.TG?Ui.TG:qs.call(this._languages,t)?t:null}getModeIdsFromFilepathOrFirstLine(t,i){if(!t&&!i)return[];let o=sn.G8(t,i);return this.extractModeIds(o.join(","))}}Dr.instanceCount=0;class jr{constructor(t,i){this._selector=i,this.languageId=this._selector();let o;this._onDidChange=new Q.Q5({onFirstListenerAdd:()=>{o=t(()=>this._evaluate())},onLastListenerRemove:()=>{o.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){const t=this._selector();t!==this.languageId&&(this.languageId=t,this._onDidChange.fire(this.languageId))}}class Gr extends Gt.JT{constructor(t=!1){super(),this._onDidEncounterLanguage=this._register(new Q.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onLanguagesMaybeChanged=this._register(new Q.Q5({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,Gr.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new Dr(!0,t)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}dispose(){Gr.instanceCount--,super.dispose()}isRegisteredMode(t){return this._registry.isRegisteredMode(t)}getModeIdForLanguageName(t){return this._registry.getModeIdForLanguageNameLowercase(t)}getModeIdByFilepathOrFirstLine(t,i){const o=this._registry.getModeIdsFromFilepathOrFirstLine(t,i);return(0,co.Xh)(o,null)}getModeId(t){const i=this._registry.extractModeIds(t);return(0,co.Xh)(i,null)}validateLanguageId(t){return this._registry.validateLanguageId(t)}create(t){return new jr(this.onLanguagesMaybeChanged,()=>{const i=this.getModeId(t);return this._createModeAndGetLanguageIdentifier(i)})}createByFilepathOrFirstLine(t,i){return new jr(this.onLanguagesMaybeChanged,()=>{const o=this.getModeIdByFilepathOrFirstLine(t,i);return this._createModeAndGetLanguageIdentifier(o)})}_createModeAndGetLanguageIdentifier(t){const i=this.validateLanguageId(t||"plaintext")||Ui.TG;return this._getOrCreateMode(i),i}triggerMode(t){const i=this.getModeId(t);this._getOrCreateMode(i||"plaintext")}_getOrCreateMode(t){if(!this._encounteredLanguages.has(t)){this._encounteredLanguages.add(t);const i=this.validateLanguageId(t)||Ui.TG;this._onDidEncounterLanguage.fire(i)}}}Gr.instanceCount=0;var Mr=c(64862),Ua=c(89954),na=c(95215),Ca=c(58409),ba=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},bo=function(u,t){return function(i,o){t(i,o,u)}};let Ys=class{constructor(t,i,o,_){this._legend=t,this._themeService=i,this._modeService=o,this._logService=_,this._hashTable=new Uo,this._hasWarnedOverlappingTokens=!1}getMetadata(t,i,o){const _=this._modeService.languageIdCodec.encodeLanguageId(o),A=this._hashTable.get(t,i,_);let U;if(A)U=A.metadata,this._logService.getLevel()===Ws.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${t} / ${i}: foreground ${ii.NX.getForeground(U)}, fontStyle ${ii.NX.getFontStyle(U).toString(2)}`);else{let X=this._legend.tokenTypes[t];const Ce=[];if(X){let Ie=i;for(let tt=0;Ie>0&&tt<this._legend.tokenModifiers.length;tt++)Ie&1&&Ce.push(this._legend.tokenModifiers[tt]),Ie=Ie>>1;Ie>0&&this._logService.getLevel()===Ws.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${i.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),Ce.push("not-in-legend"));const Be=this._themeService.getColorTheme().getTokenStyleMetadata(X,Ce,o);if(typeof Be=="undefined")U=2147483647;else{if(U=0,typeof Be.italic!="undefined"){const tt=(Be.italic?1:0)<<11;U|=tt|1}if(typeof Be.bold!="undefined"){const tt=(Be.bold?2:0)<<11;U|=tt|2}if(typeof Be.underline!="undefined"){const tt=(Be.underline?4:0)<<11;U|=tt|4}if(Be.foreground){const tt=Be.foreground<<14;U|=tt|8}U===0&&(U=2147483647)}}else this._logService.getLevel()===Ws.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${t} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),U=2147483647,X="not-in-legend";this._hashTable.add(t,i,_,U),this._logService.getLevel()===Ws.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${t} (${X}) / ${i} (${Ce.join(" ")}): foreground ${ii.NX.getForeground(U)}, fontStyle ${ii.NX.getFontStyle(U).toString(2)}`)}return U}warnOverlappingSemanticTokens(t,i){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${t}, column ${i}`))}};Ys=ba([bo(1,Fn.XE),bo(2,Ri.h),bo(3,Ws.VZ)],Ys);function Sr(u,t,i){const o=u.data,_=u.data.length/5|0,A=Math.max(Math.ceil(_/1024),400),U=[];let X=0,Ce=1,Ie=0;for(;X<_;){const Be=X;let tt=Math.min(Be+A,_);if(tt<_){let xn=tt;for(;xn-1>Be&&o[5*xn]===0;)xn--;if(xn-1===Be){let Wn=tt;for(;Wn+1<_&&o[5*Wn]===0;)Wn++;tt=Wn}else tt=xn}let zt=new Uint32Array((tt-Be)*4),xi=0,ki=0,en=0,Tn=0,qn=0;for(;X<tt;){const xn=5*X,Wn=o[xn],io=o[xn+1],ks=Ce+Wn|0,Un=Wn===0?Ie+io|0:io,Pn=o[xn+2],Cs=o[xn+3],es=o[xn+4],Qs=t.getMetadata(Cs,es,i);Qs!==2147483647&&(ki===0&&(ki=ks),en===ks&&qn>Un&&(t.warnOverlappingSemanticTokens(ks,Un+1),Tn<Un?zt[xi-4+2]=Un:xi-=4),zt[xi]=ks-ki,zt[xi+1]=Un,zt[xi+2]=Un+Pn,zt[xi+3]=Qs,xi+=4,en=ks,Tn=Un,qn=Un+Pn),Ce=ks,Ie=Un,X++}xi!==zt.length&&(zt=zt.subarray(0,xi));const ss=new Ca.Wz(ki,new Ca.OU(zt));U.push(ss)}return U}class Er{constructor(t,i,o,_){this.tokenTypeIndex=t,this.tokenModifierSet=i,this.languageId=o,this.metadata=_,this.next=null}}class Uo{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=Uo._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<Uo._SIZES.length?2/3*this._currentLength:0),this._elements=[],Uo._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(t,i){for(let o=0;o<i;o++)t[o]=null}_hash2(t,i){return(t<<5)-t+i|0}_hashFunc(t,i,o){return this._hash2(this._hash2(t,i),o)%this._currentLength}get(t,i,o){const _=this._hashFunc(t,i,o);let A=this._elements[_];for(;A;){if(A.tokenTypeIndex===t&&A.tokenModifierSet===i&&A.languageId===o)return A;A=A.next}return null}add(t,i,o,_){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const A=this._elements;this._currentLengthIndex++,this._currentLength=Uo._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<Uo._SIZES.length?2/3*this._currentLength:0),this._elements=[],Uo._nullOutEntries(this._elements,this._currentLength);for(const U of A){let X=U;for(;X;){const Ce=X.next;X.next=null,this._add(X),X=Ce}}}this._add(new Er(t,i,o,_))}_add(t){const i=this._hashFunc(t.tokenTypeIndex,t.tokenModifierSet,t.languageId);t.next=this._elements[i],this._elements[i]=t}}Uo._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];var Cr=c(53060);function Hr(u){for(let t=0,i=u.length;t<i;t+=4){const o=u[t+0],_=u[t+1],A=u[t+2],U=u[t+3];u[t+0]=U,u[t+1]=A,u[t+2]=_,u[t+3]=o}}function Pr(u){const t=new Uint8Array(u.buffer,u.byteOffset,u.length*4);return Xi.r()||Hr(t),Cr.KN.wrap(t)}function Zr(u){const t=new Uint32Array(Yr(u));let i=0;if(t[i++]=u.id,u.type==="full")t[i++]=1,t[i++]=u.data.length,t.set(u.data,i),i+=u.data.length;else{t[i++]=2,t[i++]=u.deltas.length;for(const o of u.deltas)t[i++]=o.start,t[i++]=o.deleteCount,o.data?(t[i++]=o.data.length,t.set(o.data,i),i+=o.data.length):t[i++]=0}return Pr(t)}function Yr(u){let t=0;if(t+=2,u.type==="full")t+=1+u.data.length;else{t+=1,t+=3*u.deltas.length;for(const i of u.deltas)i.data&&(t+=i.data.length)}return t}var Ir=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(U){U(A)})}return new(i||(i=Promise))(function(A,U){function X(Be){try{Ie(o.next(Be))}catch(tt){U(tt)}}function Ce(Be){try{Ie(o.throw(Be))}catch(tt){U(tt)}}function Ie(Be){Be.done?A(Be.value):_(Be.value).then(X,Ce)}Ie((o=o.apply(u,t||[])).next())})};function Qr(u){return u&&!!u.data}function la(u){return u&&Array.isArray(u.edits)}class Wl{constructor(t,i){this.provider=t,this.tokens=i}}function rl(u){return ii.wT.has(u)}function Vl(u){const t=ii.wT.orderedGroups(u);return t.length>0?t[0]:[]}function wa(u,t,i,o){return Ir(this,void 0,void 0,function*(){const _=Vl(u),A=yield Promise.all(_.map(U=>Ir(this,void 0,void 0,function*(){let X;try{X=yield U.provideDocumentSemanticTokens(u,U===t?i:null,o)}catch(Ce){(0,Bn.Cp)(Ce),X=null}return(!X||!Qr(X)&&!la(X))&&(X=null),new Wl(U,X)})));for(const U of A)if(U.tokens)return U;return A.length>0?A[0]:null})}function al(u){const t=ii.wT.orderedGroups(u);return t.length>0?t[0]:null}class ll{constructor(t,i){this.provider=t,this.tokens=i}}function Hl(u){return DocumentRangeSemanticTokensProviderRegistry.has(u)}function ha(u){const t=ii.K7.orderedGroups(u);return t.length>0?t[0]:[]}function Ma(u,t,i){return Ir(this,void 0,void 0,function*(){const o=ha(u),_=yield Promise.all(o.map(A=>Ir(this,void 0,void 0,function*(){let U;try{U=yield A.provideDocumentRangeSemanticTokens(u,t,i)}catch(X){(0,Bn.Cp)(X),U=null}return(!U||!Qr(U))&&(U=null),new ll(A,U)})));for(const A of _)if(A.tokens)return A;return _.length>0?_[0]:null})}at.P.registerCommand("_provideDocumentSemanticTokensLegend",(u,...t)=>Ir(void 0,void 0,void 0,function*(){const[i]=t;(0,Vn.p_)(i instanceof y.o);const o=u.get(hs.q).getModel(i);if(!o)return;const _=al(o);return _?_[0].getLegend():u.get(at.H).executeCommand("_provideDocumentRangeSemanticTokensLegend",i)})),at.P.registerCommand("_provideDocumentSemanticTokens",(u,...t)=>Ir(void 0,void 0,void 0,function*(){const[i]=t;(0,Vn.p_)(i instanceof y.o);const o=u.get(hs.q).getModel(i);if(!o)return;if(!rl(o))return u.get(at.H).executeCommand("_provideDocumentRangeSemanticTokens",i,o.getFullModelRange());const _=yield wa(o,null,null,Y.T.None);if(!_)return;const{provider:A,tokens:U}=_;if(!U||!Qr(U))return;const X=Zr({id:0,type:"full",data:U.data});return U.resultId&&A.releaseDocumentSemanticTokens(U.resultId),X})),at.P.registerCommand("_provideDocumentRangeSemanticTokensLegend",(u,...t)=>Ir(void 0,void 0,void 0,function*(){const[i,o]=t;(0,Vn.p_)(i instanceof y.o);const _=u.get(hs.q).getModel(i);if(!_)return;const A=ha(_);if(A.length===0)return;if(A.length===1)return A[0].getLegend();if(!o||!k.e.isIRange(o))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),A[0].getLegend();const U=yield Ma(_,k.e.lift(o),Y.T.None);if(U)return U.provider.getLegend()})),at.P.registerCommand("_provideDocumentRangeSemanticTokens",(u,...t)=>Ir(void 0,void 0,void 0,function*(){const[i,o]=t;(0,Vn.p_)(i instanceof y.o),(0,Vn.p_)(k.e.isIRange(o));const _=u.get(hs.q).getModel(i);if(!_)return;const A=yield Ma(_,k.e.lift(o),Y.T.None);if(!(!A||!A.tokens))return Zr({id:0,type:"full",data:A.tokens.data})}));var dl=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},ea=function(u,t){return function(i,o){t(i,o,u)}};function Xr(u){return u.toString()}function $a(u){const t=new Ua.yP,i=u.createSnapshot();let o;for(;o=i.read();)t.update(o);return t.digest()}class zl{constructor(t,i,o){this._modelEventListeners=new Gt.SL,this.model=t,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(t.onWillDispose(()=>i(t))),this._modelEventListeners.add(t.onDidChangeLanguage(_=>o(t,_)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(t){this._disposeLanguageSelection(),this._languageSelection=t,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(t.languageId)),this.model.setMode(t.languageId)}}const Ul=Xi.IJ||Xi.dz?1:2;class $l{constructor(t,i,o,_,A,U,X,Ce){this.uri=t,this.initialUndoRedoSnapshot=i,this.time=o,this.sharesUndoRedoStack=_,this.heapSize=A,this.sha1=U,this.versionId=X,this.alternativeVersionId=Ce}}let Ra=class ol extends Gt.JT{constructor(t,i,o,_,A,U,X){super(),this._configurationService=t,this._resourcePropertiesService=i,this._themeService=o,this._logService=_,this._undoRedoService=A,this._modeService=U,this._languageConfigurationService=X,this._onModelAdded=this._register(new Q.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new Q.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new Q.Q5),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new ka(this._themeService,this._modeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new ja(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(t,i){var o;let _=g.DB.tabSize;if(t.editor&&typeof t.editor.tabSize!="undefined"){const xi=parseInt(t.editor.tabSize,10);isNaN(xi)||(_=xi),_<1&&(_=1)}let A=_;if(t.editor&&typeof t.editor.indentSize!="undefined"&&t.editor.indentSize!=="tabSize"){const xi=parseInt(t.editor.indentSize,10);isNaN(xi)||(A=xi),A<1&&(A=1)}let U=g.DB.insertSpaces;t.editor&&typeof t.editor.insertSpaces!="undefined"&&(U=t.editor.insertSpaces==="false"?!1:!!t.editor.insertSpaces);let X=Ul;const Ce=t.eol;Ce===`\r
`?X=2:Ce===`
`&&(X=1);let Ie=g.DB.trimAutoWhitespace;t.editor&&typeof t.editor.trimAutoWhitespace!="undefined"&&(Ie=t.editor.trimAutoWhitespace==="false"?!1:!!t.editor.trimAutoWhitespace);let Be=g.DB.detectIndentation;t.editor&&typeof t.editor.detectIndentation!="undefined"&&(Be=t.editor.detectIndentation==="false"?!1:!!t.editor.detectIndentation);let tt=g.DB.largeFileOptimizations;t.editor&&typeof t.editor.largeFileOptimizations!="undefined"&&(tt=t.editor.largeFileOptimizations==="false"?!1:!!t.editor.largeFileOptimizations);let zt=g.DB.bracketPairColorizationOptions;return!((o=t.editor)===null||o===void 0)&&o.bracketPairColorization&&typeof t.editor.bracketPairColorization=="object"&&(zt={enabled:!!t.editor.bracketPairColorization.enabled}),{isForSimpleWidget:i,tabSize:_,indentSize:A,insertSpaces:U,detectIndentation:Be,defaultEOL:X,trimAutoWhitespace:Ie,largeFileOptimizations:tt,bracketPairColorizationOptions:zt}}_getEOL(t,i){if(t)return this._resourcePropertiesService.getEOL(t,i);const o=this._configurationService.getValue("files.eol",{overrideIdentifier:i});return o&&typeof o=="string"&&o!=="auto"?o:Xi.OS===3||Xi.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const t=this._configurationService.getValue("files.restoreUndoStack");return typeof t=="boolean"?t:!0}getCreationOptions(t,i,o){let _=this._modelCreationOptionsByLanguageAndResource[t+i];if(!_){const A=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:i}),U=this._getEOL(i,t);_=ol._readModelOptions({editor:A,eol:U},o),this._modelCreationOptionsByLanguageAndResource[t+i]=_}return _}_updateModelOptions(){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let o=0,_=i.length;o<_;o++){const A=i[o],U=this._models[A],X=U.model.getLanguageId(),Ce=U.model.uri,Ie=t[X+Ce],Be=this.getCreationOptions(X,Ce,U.model.isForSimpleWidget);ol._setModelOptionsForModel(U.model,Be,Ie)}}static _setModelOptionsForModel(t,i,o){o&&o.defaultEOL!==i.defaultEOL&&t.getLineCount()===1&&t.setEOL(i.defaultEOL===1?0:1),!(o&&o.detectIndentation===i.detectIndentation&&o.insertSpaces===i.insertSpaces&&o.tabSize===i.tabSize&&o.indentSize===i.indentSize&&o.trimAutoWhitespace===i.trimAutoWhitespace&&(0,Lt.fS)(o.bracketPairColorizationOptions,i.bracketPairColorizationOptions))&&(i.detectIndentation?(t.detectIndentation(i.insertSpaces,i.tabSize),t.updateOptions({trimAutoWhitespace:i.trimAutoWhitespace,bracketColorizationOptions:i.bracketPairColorizationOptions})):t.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.indentSize,trimAutoWhitespace:i.trimAutoWhitespace,bracketColorizationOptions:i.bracketPairColorizationOptions}))}_insertDisposedModel(t){this._disposedModels.set(Xr(t.uri),t),this._disposedModelsHeapSize+=t.heapSize}_removeDisposedModel(t){const i=this._disposedModels.get(Xr(t));return i&&(this._disposedModelsHeapSize-=i.heapSize),this._disposedModels.delete(Xr(t)),i}_ensureDisposedModelsHeapSize(t){if(this._disposedModelsHeapSize>t){const i=[];for(this._disposedModels.forEach(o=>{o.sharesUndoRedoStack||i.push(o)}),i.sort((o,_)=>o.time-_.time);i.length>0&&this._disposedModelsHeapSize>t;){const o=i.shift();this._removeDisposedModel(o.uri),o.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(o.initialUndoRedoSnapshot)}}}_createModelData(t,i,o,_){const A=this.getCreationOptions(i,o,_),U=new fs.yO(t,A,i,o,this._undoRedoService,this._modeService,this._languageConfigurationService);if(o&&this._disposedModels.has(Xr(o))){const Ie=this._removeDisposedModel(o),Be=this._undoRedoService.getElements(o),tt=$a(U)===Ie.sha1;if(tt||Ie.sharesUndoRedoStack){for(const zt of Be.past)(0,na.e9)(zt)&&zt.matchesResource(o)&&zt.setModel(U);for(const zt of Be.future)(0,na.e9)(zt)&&zt.matchesResource(o)&&zt.setModel(U);this._undoRedoService.setElementsValidFlag(o,!0,zt=>(0,na.e9)(zt)&&zt.matchesResource(o)),tt&&(U._overwriteVersionId(Ie.versionId),U._overwriteAlternativeVersionId(Ie.alternativeVersionId),U._overwriteInitialUndoRedoSnapshot(Ie.initialUndoRedoSnapshot))}else Ie.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(Ie.initialUndoRedoSnapshot)}const X=Xr(U.uri);if(this._models[X])throw new Error("ModelService: Cannot add model because it already exists!");const Ce=new zl(U,Ie=>this._onWillDispose(Ie),(Ie,Be)=>this._onDidChangeLanguage(Ie,Be));return this._models[X]=Ce,Ce}createModel(t,i,o,_=!1){let A;return i?(A=this._createModelData(t,i.languageId,o,_),this.setMode(A.model,i)):A=this._createModelData(t,Jo.XT,o,_),this._onModelAdded.fire(A.model),A.model}setMode(t,i){if(!i)return;const o=this._models[Xr(t.uri)];o&&o.setLanguage(i)}getModels(){const t=[],i=Object.keys(this._models);for(let o=0,_=i.length;o<_;o++){const A=i[o];t.push(this._models[A].model)}return t}getModel(t){const i=Xr(t),o=this._models[i];return o?o.model:null}getSemanticTokensProviderStyling(t){return this._semanticStyling.get(t)}_schemaShouldMaintainUndoRedoElements(t){return t.scheme===ke.lg.file||t.scheme===ke.lg.vscodeRemote||t.scheme===ke.lg.userData||t.scheme===ke.lg.vscodeNotebookCell||t.scheme==="fake-fs"}_onWillDispose(t){const i=Xr(t.uri),o=this._models[i],_=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let A=!1,U=0;if(_||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(t.uri)){const Ce=this._undoRedoService.getElements(t.uri);if(Ce.past.length>0||Ce.future.length>0){for(const Ie of Ce.past)(0,na.e9)(Ie)&&Ie.matchesResource(t.uri)&&(A=!0,U+=Ie.heapSize(t.uri),Ie.setModel(t.uri));for(const Ie of Ce.future)(0,na.e9)(Ie)&&Ie.matchesResource(t.uri)&&(A=!0,U+=Ie.heapSize(t.uri),Ie.setModel(t.uri))}}const X=ol.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(A)if(!_&&U>X){const Ce=o.model.getInitialUndoRedoSnapshot();Ce!==null&&this._undoRedoService.restoreSnapshot(Ce)}else this._ensureDisposedModelsHeapSize(X-U),this._undoRedoService.setElementsValidFlag(t.uri,!1,Ce=>(0,na.e9)(Ce)&&Ce.matchesResource(t.uri)),this._insertDisposedModel(new $l(t.uri,o.model.getInitialUndoRedoSnapshot(),Date.now(),_,U,$a(t),t.getVersionId(),t.getAlternativeVersionId()));else if(!_){const Ce=o.model.getInitialUndoRedoSnapshot();Ce!==null&&this._undoRedoService.restoreSnapshot(Ce)}delete this._models[i],o.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageId()+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,i){const o=i.oldLanguage,_=t.getLanguageId(),A=this.getCreationOptions(o,t.uri,t.isForSimpleWidget),U=this.getCreationOptions(_,t.uri,t.isForSimpleWidget);ol._setModelOptionsForModel(t,U,A),this._onModelModeChanged.fire({model:t,oldModeId:o})}};Ra.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,Ra=dl([ea(0,d.Ui),ea(1,rs),ea(2,Fn.XE),ea(3,Ws.VZ),ea(4,Mr.tJ),ea(5,Ri.h),ea(6,ct.c_)],Ra);const ul="editor.semanticHighlighting";function Ka(u,t,i){var o;const _=(o=i.getValue(ul,{overrideIdentifier:u.getLanguageId(),resource:u.uri}))===null||o===void 0?void 0:o.enabled;return typeof _=="boolean"?_:t.getColorTheme().semanticHighlighting}class ja extends Gt.JT{constructor(t,i,o,_){super(),this._watchers=Object.create(null),this._semanticStyling=_;const A=Ce=>{this._watchers[Ce.uri.toString()]=new da(Ce,i,this._semanticStyling)},U=(Ce,Ie)=>{Ie.dispose(),delete this._watchers[Ce.uri.toString()]},X=()=>{for(let Ce of t.getModels()){const Ie=this._watchers[Ce.uri.toString()];Ka(Ce,i,o)?Ie||A(Ce):Ie&&U(Ce,Ie)}};this._register(t.onModelAdded(Ce=>{Ka(Ce,i,o)&&A(Ce)})),this._register(t.onModelRemoved(Ce=>{const Ie=this._watchers[Ce.uri.toString()];Ie&&U(Ce,Ie)})),this._register(o.onDidChangeConfiguration(Ce=>{Ce.affectsConfiguration(ul)&&X()})),this._register(i.onDidColorThemeChange(X))}}class ka extends Gt.JT{constructor(t,i,o){super(),this._themeService=t,this._modeService=i,this._logService=o,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(t){return this._caches.has(t)||this._caches.set(t,new Ys(t.getLegend(),this._themeService,this._modeService,this._logService)),this._caches.get(t)}}class ur{constructor(t,i,o){this.provider=t,this.resultId=i,this.data=o}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}class da extends Gt.JT{constructor(t,i,o){super(),this._isDisposed=!1,this._model=t,this._semanticStyling=o,this._fetchDocumentSemanticTokens=this._register(new Zn.pY(()=>this._fetchDocumentSemanticTokensNow(),da.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const _=()=>{(0,Gt.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const A of ii.wT.all(t))typeof A.onDidChange=="function"&&this._documentProvidersChangeListeners.push(A.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};_(),this._register(ii.wT.onDidChange(()=>{_(),this._fetchDocumentSemanticTokens.schedule()})),this._register(i.onDidColorThemeChange(A=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!rl(this._model)){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const t=new Y.A,i=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,o=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,_=wa(this._model,i,o,t.token);this._currentDocumentRequestCancellationTokenSource=t;const A=[],U=this._model.onDidChangeContent(X=>{A.push(X)});_.then(X=>{if(this._currentDocumentRequestCancellationTokenSource=null,U.dispose(),!X)this._setDocumentSemanticTokens(null,null,null,A);else{const{provider:Ce,tokens:Ie}=X,Be=this._semanticStyling.get(Ce);this._setDocumentSemanticTokens(Ce,Ie||null,Be,A)}},X=>{X&&(Bn.VV(X)||typeof X.message=="string"&&X.message.indexOf("busy")!==-1)||Bn.dL(X),this._currentDocumentRequestCancellationTokenSource=null,U.dispose(),A.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(t,i,o,_,A){for(let U=0;U<A;U++)o[_+U]=t[i+U]}_setDocumentSemanticTokens(t,i,o,_){const A=this._currentDocumentResponse,U=()=>{_.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){t&&i&&t.releaseDocumentSemanticTokens(i.resultId);return}if(!t||!o){this._model.setSemanticTokens(null,!1);return}if(!i){this._model.setSemanticTokens(null,!0),U();return}if(la(i)){if(!A){this._model.setSemanticTokens(null,!0);return}if(i.edits.length===0)i={resultId:i.resultId,data:A.data};else{let X=0;for(const zt of i.edits)X+=(zt.data?zt.data.length:0)-zt.deleteCount;const Ce=A.data,Ie=new Uint32Array(Ce.length+X);let Be=Ce.length,tt=Ie.length;for(let zt=i.edits.length-1;zt>=0;zt--){const xi=i.edits[zt],ki=Be-(xi.start+xi.deleteCount);ki>0&&(da._copy(Ce,Be-ki,Ie,tt-ki,ki),tt-=ki),xi.data&&(da._copy(xi.data,0,Ie,tt-xi.data.length,xi.data.length),tt-=xi.data.length),Be=xi.start}Be>0&&da._copy(Ce,0,Ie,0,Be),i={resultId:i.resultId,data:Ie}}}if(Qr(i)){this._currentDocumentResponse=new ur(t,i.resultId,i.data);const X=Sr(i,o,this._model.getLanguageId());if(_.length>0)for(const Ce of _)for(const Ie of X)for(const Be of Ce.changes)Ie.applyEdit(Be.range,Be.text);this._model.setSemanticTokens(X,!0)}else this._model.setSemanticTokens(null,!0);U()}}da.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300;var Jr=c(41264);class cl{constructor(t,i,o,_,A){this._parsedThemeRuleBrand=void 0,this.token=t,this.index=i,this.fontStyle=o,this.foreground=_,this.background=A}}function Sa(u){if(!u||!Array.isArray(u))return[];let t=[],i=0;for(let o=0,_=u.length;o<_;o++){let A=u[o],U=-1;if(typeof A.fontStyle=="string"){U=0;let Ie=A.fontStyle.split(" ");for(let Be=0,tt=Ie.length;Be<tt;Be++)switch(Ie[Be]){case"italic":U=U|1;break;case"bold":U=U|2;break;case"underline":U=U|4;break}}let X=null;typeof A.foreground=="string"&&(X=A.foreground);let Ce=null;typeof A.background=="string"&&(Ce=A.background),t[i++]=new cl(A.token||"",o,U,X,Ce)}return t}function fa(u,t){u.sort((Be,tt)=>{let zt=Gl(Be.token,tt.token);return zt!==0?zt:Be.index-tt.index});let i=0,o="000000",_="ffffff";for(;u.length>=1&&u[0].token==="";){let Be=u.shift();Be.fontStyle!==-1&&(i=Be.fontStyle),Be.foreground!==null&&(o=Be.foreground),Be.background!==null&&(_=Be.background)}let A=new Kl;for(let Be of t)A.getId(Be);let U=A.getId(o),X=A.getId(_),Ce=new ya(i,U,X),Ie=new Ga(Ce);for(let Be=0,tt=u.length;Be<tt;Be++){let zt=u[Be];Ie.insert(zt.token,zt.fontStyle,A.getId(zt.foreground),A.getId(zt.background))}return new hl(A,Ie)}const ga=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class Kl{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(t){if(t===null)return 0;const i=t.match(ga);if(!i)throw new Error("Illegal value for token color: "+t);t=i[1].toUpperCase();let o=this._color2id.get(t);return o||(o=++this._lastColorId,this._color2id.set(t,o),this._id2color[o]=Jr.Il.fromHex("#"+t),o)}getColorMap(){return this._id2color.slice(0)}}class hl{constructor(t,i){this._colorMap=t,this._root=i,this._cache=new Map}static createFromRawTokenTheme(t,i){return this.createFromParsedTokenTheme(Sa(t),i)}static createFromParsedTokenTheme(t,i){return fa(t,i)}getColorMap(){return this._colorMap.getColorMap()}_match(t){return this._root.match(t)}match(t,i){let o=this._cache.get(i);if(typeof o=="undefined"){let _=this._match(i),A=ma(i);o=(_.metadata|A<<8)>>>0,this._cache.set(i,o)}return(o|t<<0)>>>0}}const jl=/\b(comment|string|regex|regexp)\b/;function ma(u){let t=u.match(jl);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}function Gl(u,t){return u<t?-1:u>t?1:0}class ya{constructor(t,i,o){this._themeTrieElementRuleBrand=void 0,this._fontStyle=t,this._foreground=i,this._background=o,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new ya(this._fontStyle,this._foreground,this._background)}acceptOverwrite(t,i,o){t!==-1&&(this._fontStyle=t),i!==0&&(this._foreground=i),o!==0&&(this._background=o),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class Ga{constructor(t){this._themeTrieElementBrand=void 0,this._mainRule=t,this._children=new Map}match(t){if(t==="")return this._mainRule;let i=t.indexOf("."),o,_;i===-1?(o=t,_=""):(o=t.substring(0,i),_=t.substring(i+1));let A=this._children.get(o);return typeof A!="undefined"?A.match(_):this._mainRule}insert(t,i,o,_){if(t===""){this._mainRule.acceptOverwrite(i,o,_);return}let A=t.indexOf("."),U,X;A===-1?(U=t,X=""):(U=t.substring(0,A),X=t.substring(A+1));let Ce=this._children.get(U);typeof Ce=="undefined"&&(Ce=new Ga(this._mainRule.clone()),this._children.set(U,Ce)),Ce.insert(X,i,o,_)}}function fl(u){let t=[];for(let i=1,o=u.length;i<o;i++){let _=u[i];t[i]=`.mtk${i} { color: ${_}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join(`
`)}const Aa={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Wi.cv]:"#FFFFFE",[Wi.NO]:"#000000",[Wi.ES]:"#E5EBF1",[Ns.tR]:"#D3D3D3",[Ns.Ym]:"#939393",[Wi.Rz]:"#ADD6FF4D"}},gl={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Wi.cv]:"#1E1E1E",[Wi.NO]:"#D4D4D4",[Wi.ES]:"#3A3D41",[Ns.tR]:"#404040",[Ns.Ym]:"#707070",[Wi.Rz]:"#ADD6FF26"}},ml={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Wi.cv]:"#000000",[Wi.NO]:"#FFFFFF",[Ns.tR]:"#FFFFFF",[Ns.Ym]:"#FFFFFF"}};var La=c(92321);function Oa(){const u=new Q.Q5,t=(0,Os.Ks)();return t.onDidChange(()=>u.fire()),{onDidChange:u.event,getCSS(){const i={},o=A=>{let U=A.defaults;for(;Fn.kS.isThemeIcon(U);){const Ce=t.getIcon(U.id);if(!Ce)return;U=Ce.defaults}const X=U.fontId;if(X){const Ce=t.getIconFont(X);if(Ce)return i[X]=Ce,`.codicon-${A.id}:before { content: '${U.fontCharacter}'; font-family: ${(0,it._h)(X)}; }`}return`.codicon-${A.id}:before { content: '${U.fontCharacter}'; }`},_=[];for(let A of t.getIcons()){const U=o(A);U&&_.push(U)}for(let A in i){const X=i[A].definition.src.map(Ce=>`${(0,it.wY)(Ce.location)} format('${Ce.format}')`).join(", ");_.push(`@font-face { src: ${X}; font-family: ${(0,it._h)(A)}; font-display: block; }`)}return _.join(`
`)}}}const Nr="vs",Da="vs-dark",pa="hc-black",ua=Es.B.as(Wi.IP.ColorContribution),Zl=Es.B.as(Fn.IP.ThemingContribution);class Ea{constructor(t,i){this.semanticHighlighting=!1,this.themeData=i;let o=i.base;t.length>0?(zr(t)?this.id=t:this.id=o+" "+t,this.themeName=t):(this.id=o,this.themeName=o),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const t=new Map;for(let i in this.themeData.colors)t.set(i,Jr.Il.fromHex(this.themeData.colors[i]));if(this.themeData.inherit){let i=Za(this.themeData.base);for(let o in i.colors)t.has(o)||t.set(o,Jr.Il.fromHex(i.colors[o]))}this.colors=t}return this.colors}getColor(t,i){const o=this.getColors().get(t);if(o)return o;if(i!==!1)return this.getDefault(t)}getDefault(t){let i=this.defaultColors[t];return i||(i=ua.resolveDefaultColor(t,this),this.defaultColors[t]=i,i)}defines(t){return Object.prototype.hasOwnProperty.call(this.getColors(),t)}get type(){switch(this.base){case Nr:return La.e.LIGHT;case pa:return La.e.HIGH_CONTRAST;default:return La.e.DARK}}get tokenTheme(){if(!this._tokenTheme){let t=[],i=[];if(this.themeData.inherit){let A=Za(this.themeData.base);t=A.rules,A.encodedTokensColors&&(i=A.encodedTokensColors)}const o=this.themeData.colors["editor.foreground"],_=this.themeData.colors["editor.background"];if(o||_){const A={token:""};o&&(A.foreground=o),_&&(A.background=_),t.push(A)}t=t.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(i=this.themeData.encodedTokensColors),this._tokenTheme=hl.createFromRawTokenTheme(t,i)}return this._tokenTheme}getTokenStyleMetadata(t,i,o){const A=this.tokenTheme._match([t].concat(i).join(".")).metadata,U=ii.NX.getForeground(A),X=ii.NX.getFontStyle(A);return{foreground:U,italic:!!(X&1),bold:!!(X&2),underline:!!(X&4)}}}function zr(u){return u===Nr||u===Da||u===pa}function Za(u){switch(u){case Nr:return Aa;case Da:return gl;case pa:return ml}}function Ya(u){let t=Za(u);return new Ea(u,t)}class be extends Gt.JT{constructor(){super(),this._onColorThemeChange=this._register(new Q.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Nr,Ya(Nr)),this._knownThemes.set(Da,Ya(Da)),this._knownThemes.set(pa,Ya(pa));const t=Oa();this._codiconCSS=t.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Nr),t.onDidChange(()=>{this._codiconCSS=t.getCSS(),this._updateCSS()}),it.uB("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(t){return it.OO(t)?this._registerShadowDomContainer(t):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=it.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),Gt.JT.None}_registerShadowDomContainer(t){const i=it.dS(t);return i.className="monaco-colors",i.textContent=this._allCSS,this._styleElements.push(i),{dispose:()=>{for(let o=0;o<this._styleElements.length;o++)if(this._styleElements[o]===i){this._styleElements.splice(o,1);return}}}}defineTheme(t,i){if(!/^[a-z0-9\-]+$/i.test(t))throw new Error("Illegal theme name!");if(!zr(i.base)&&!zr(t))throw new Error("Illegal theme base!");this._knownThemes.set(t,new Ea(t,i)),zr(t)&&this._knownThemes.forEach(o=>{o.base===t&&o.notifyBaseUpdated()}),this._theme.themeName===t&&this.setTheme(t)}getColorTheme(){return this._theme}setColorMapOverride(t){this._colorMapOverride=t,this._updateThemeOrColorMap()}setTheme(t){let i;this._knownThemes.has(t)?i=this._knownThemes.get(t):i=this._knownThemes.get(Nr),this._desiredTheme=i,this._updateActualTheme()}_updateActualTheme(){const t=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(pa):this._desiredTheme;this._theme!==t&&(this._theme=t,this._updateThemeOrColorMap())}setAutoDetectHighContrast(t){this._autoDetectHighContrast=t,this._updateActualTheme()}_updateThemeOrColorMap(){let t=[],i={},o={addRule:A=>{i[A]||(t.push(A),i[A]=!0)}};Zl.getThemingParticipants().forEach(A=>A(this._theme,o,this._environment));const _=this._colorMapOverride||this._theme.tokenTheme.getColorMap();o.addRule(fl(_)),this._themeCSS=t.join(`
`),this._updateCSS(),ii.RW.setColorMap(_),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(t=>t.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}var l=c(56899),E=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},H=function(u,t){return function(i,o){t(i,o,u)}};const se="data-keybinding-context";class ne{constructor(t,i){this._id=t,this._parent=i,this._value=Object.create(null),this._value._contextId=t}setValue(t,i){return this._value[t]!==i?(this._value[t]=i,!0):!1}removeValue(t){return t in this._value?(delete this._value[t],!0):!1}getValue(t){const i=this._value[t];return typeof i=="undefined"&&this._parent?this._parent.getValue(t):i}}class Le extends ne{constructor(){super(-1,null)}setValue(t,i){return!1}removeValue(t){return!1}getValue(t){}}Le.INSTANCE=new Le;class Ge extends ne{constructor(t,i,o){super(t,null),this._configurationService=i,this._values=ze.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(_=>{if(_.source===6){const A=Array.from(l.$.map(this._values,([U])=>U));this._values.clear(),o.fire(new wt(A))}else{const A=[];for(const U of _.affectedKeys){const X=`config.${U}`,Ce=this._values.findSuperstr(X);Ce!==void 0&&(A.push(...l.$.map(Ce,([Ie])=>Ie)),this._values.deleteSuperstr(X)),this._values.has(X)&&(A.push(X),this._values.delete(X))}o.fire(new wt(A))}})}dispose(){this._listener.dispose()}getValue(t){if(t.indexOf(Ge._keyPrefix)!==0)return super.getValue(t);if(this._values.has(t))return this._values.get(t);const i=t.substr(Ge._keyPrefix.length),o=this._configurationService.getValue(i);let _;switch(typeof o){case"number":case"boolean":case"string":_=o;break;default:Array.isArray(o)?_=JSON.stringify(o):_=o}return this._values.set(t,_),_}setValue(t,i){return super.setValue(t,i)}removeValue(t){return super.removeValue(t)}}Ge._keyPrefix="config.";class Wt{constructor(t,i,o){this._service=t,this._key=i,this._defaultValue=o,this.reset()}set(t){this._service.setContext(this._key,t)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Vt{constructor(t){this.key=t}affectsSome(t){return t.has(this.key)}}class wt{constructor(t){this.keys=t}affectsSome(t){for(const i of this.keys)if(t.has(i))return!0;return!1}}class ai{constructor(t){this.events=t}affectsSome(t){for(const i of this.events)if(i.affectsSome(t))return!0;return!1}}class Yi{constructor(t){this._onDidChangeContext=new Q.K3({merge:i=>new ai(i)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=t}createKey(t,i){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Wt(this,t,i)}bufferChangeEvents(t){this._onDidChangeContext.pause();try{t()}finally{this._onDidChangeContext.resume()}}createScoped(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Gn(this,t)}contextMatchesRules(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const i=this.getContextValuesContainer(this._myContextId);return $t.contextMatchesRules(i,t)}getContextKeyValue(t){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(t)}setContext(t,i){if(this._isDisposed)return;const o=this.getContextValuesContainer(this._myContextId);o&&o.setValue(t,i)&&this._onDidChangeContext.fire(new Vt(t))}removeContext(t){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(t)&&this._onDidChangeContext.fire(new Vt(t))}getContext(t){return this._isDisposed?Le.INSTANCE:this.getContextValuesContainer(Mo(t))}}let bn=class extends Yi{constructor(t){super(0),this._contexts=new Map,this._toDispose=new Gt.SL,this._lastContextId=0;const i=new Ge(this._myContextId,t,this._onDidChangeContext);this._contexts.set(this._myContextId,i),this._toDispose.add(i)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(t){return this._isDisposed?Le.INSTANCE:this._contexts.get(t)||Le.INSTANCE}createChildContext(t=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let i=++this._lastContextId;return this._contexts.set(i,new ne(i,this.getContextValuesContainer(t))),i}disposeContext(t){this._isDisposed||this._contexts.delete(t)}};bn=E([H(0,d.Ui)],bn);class Gn extends Yi{constructor(t,i){if(super(t.createChildContext()),this._parentChangeListener=new Gt.XK,this._parent=t,this._updateParentChangeListener(),this._domNode=i,this._domNode.hasAttribute(se)){let o="";this._domNode.classList&&(o=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${o?": "+o:""}`)}this._domNode.setAttribute(se,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(se),this._isDisposed=!0)}getContextValuesContainer(t){return this._isDisposed?Le.INSTANCE:this._parent.getContextValuesContainer(t)}createChildContext(t=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(t)}disposeContext(t){this._isDisposed||this._parent.disposeContext(t)}}function Mo(u){for(;u;){if(u.hasAttribute(se)){const t=u.getAttribute(se);return t?parseInt(t,10):NaN}u=u.parentElement}return 0}at.P.registerCommand(Dt.Eq,function(u,t,i){u.get(Dt.i6).createKey(String(t),i)}),at.P.registerCommand({id:"getContextKeyInfo",handler(){return[...Dt.uy.all()].sort((u,t)=>u.key.localeCompare(t.key))},description:{description:(0,Ve.N)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),at.P.registerCommand("_generateContextKeyInfo",function(){const u=[],t=new Set;for(let i of Dt.uy.all())t.has(i.key)||(t.add(i.key),u.push(i));u.sort((i,o)=>i.key.localeCompare(o.key)),console.log(JSON.stringify(u,void 0,2))});var jo=c(10829),lr=c(23938),yr=c(16268),Rr=c(10553),Pa=c(76033),pl=c(15375),Au=c(10161),Td=c(61134),_a;(function(u){u[u.AVOID=0]="AVOID",u[u.ALIGN=1]="ALIGN"})(_a||(_a={}));function Fa(u,t,i){const o=i.mode===_a.ALIGN?i.offset:i.offset+i.size,_=i.mode===_a.ALIGN?i.offset+i.size:i.offset;return i.position===0?t<=u-o?o:t<=_?_-t:Math.max(u-t,0):t<=_?_-t:t<=u-o?o:0}class Ba extends Gt.JT{constructor(t,i){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=Gt.JT.None,this.toDisposeOnSetContainer=Gt.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=it.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,it.Cp(this.view),this.setContainer(t,i),this._register((0,Gt.OF)(()=>this.setContainer(null,1)))}setContainer(t,i){var o;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(o=this.shadowRootHostElement)===null||o===void 0||o.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),t){if(this.container=t,this.useFixedPosition=i!==1,this.useShadowDOM=i===3,this.useShadowDOM){this.shadowRootHostElement=it.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const A=document.createElement("style");A.textContent=Ou,this.shadowRoot.appendChild(A),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(it.$("slot"))}else this.container.appendChild(this.view);const _=new Gt.SL;Ba.BUBBLE_UP_EVENTS.forEach(A=>{_.add(it.mu(this.container,A,U=>{this.onDOMEvent(U,!1)}))}),Ba.BUBBLE_DOWN_EVENTS.forEach(A=>{_.add(it.mu(this.container,A,U=>{this.onDOMEvent(U,!0)},!0))}),this.toDisposeOnSetContainer=_}}show(t){this.isVisible()&&this.hide(),it.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",it.$Z(this.view),this.toDisposeOnClean=t.render(this.view)||Gt.JT.None,this.delegate=t,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(Xi.gn&&Au.D.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let t=this.delegate.getAnchor(),i;if(it.Re(t)){let tt=it.i(t);i={top:tt.top,left:tt.left,width:tt.width,height:tt.height}}else i={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const o=it.w(this.view),_=it.wn(this.view),A=this.delegate.anchorPosition||0,U=this.delegate.anchorAlignment||0,X=this.delegate.anchorAxisAlignment||0;let Ce,Ie;if(X===0){const tt={offset:i.top-window.pageYOffset,size:i.height,position:A===0?0:1},zt={offset:i.left,size:i.width,position:U===0?0:1,mode:_a.ALIGN};Ce=Fa(window.innerHeight,_,tt)+window.pageYOffset,Td.e.intersects({start:Ce,end:Ce+_},{start:tt.offset,end:tt.offset+tt.size})&&(zt.mode=_a.AVOID),Ie=Fa(window.innerWidth,o,zt)}else{const tt={offset:i.left,size:i.width,position:U===0?0:1},zt={offset:i.top,size:i.height,position:A===0?0:1,mode:_a.ALIGN};Ie=Fa(window.innerWidth,o,tt),Td.e.intersects({start:Ie,end:Ie+o},{start:tt.offset,end:tt.offset+tt.size})&&(zt.mode=_a.AVOID),Ce=Fa(window.innerHeight,_,zt)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(A===0?"bottom":"top"),this.view.classList.add(U===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const Be=it.i(this.container);this.view.style.top=`${Ce-(this.useFixedPosition?it.i(this.view).top:Be.top)}px`,this.view.style.left=`${Ie-(this.useFixedPosition?it.i(this.view).left:Be.left)}px`,this.view.style.width="initial"}hide(t){const i=this.delegate;this.delegate=null,i!=null&&i.onHide&&i.onHide(t),this.toDisposeOnClean.dispose(),it.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(t,i){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,document.activeElement):i&&!it.jg(t.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}Ba.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],Ba.BUBBLE_DOWN_EVENTS=["click"];let Ou=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var ca=c(21212);const Yl=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Ql=/(&amp;)?(&amp;)([^\s&])/g,Md=(0,Fs.CM)("menu-selection",Fs.lA.check),Rd=(0,Fs.CM)("menu-submenu",Fs.lA.chevronRight);var _l;(function(u){u[u.Right=0]="Right",u[u.Left=1]="Left"})(_l||(_l={}));class Ia extends Vs.o{constructor(t,i,o={}){t.classList.add("monaco-menu-container"),t.setAttribute("role","presentation");const _=document.createElement("div");_.classList.add("monaco-menu"),_.setAttribute("role","presentation"),super(_,{orientation:1,actionViewItemProvider:X=>this.doGetActionViewItem(X,o,A),context:o.context,actionRunner:o.actionRunner,ariaLabel:o.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Xi.dz||Xi.IJ?[10]:[]],keyDown:!0}}),this.menuElement=_,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new Gt.SL),this.initializeStyleSheet(t),this._register(Rr.o.addTarget(_)),(0,it.nm)(_,it.tw.KEY_DOWN,X=>{new Kt.y(X).equals(2)&&X.preventDefault()}),o.enableMnemonics&&this.menuDisposables.add((0,it.nm)(_,it.tw.KEY_DOWN,X=>{const Ce=X.key.toLocaleLowerCase();if(this.mnemonics.has(Ce)){it.zB.stop(X,!0);const Ie=this.mnemonics.get(Ce);if(Ie.length===1&&(Ie[0]instanceof kd&&Ie[0].container&&this.focusItemByElement(Ie[0].container),Ie[0].onClick(X)),Ie.length>1){const Be=Ie.shift();Be&&Be.container&&(this.focusItemByElement(Be.container),Ie.push(Be)),this.mnemonics.set(Ce,Ie)}}})),Xi.IJ&&this._register((0,it.nm)(_,it.tw.KEY_DOWN,X=>{const Ce=new Kt.y(X);Ce.equals(14)||Ce.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),it.zB.stop(X,!0)):(Ce.equals(13)||Ce.equals(12))&&(this.focusedItem=0,this.focusPrevious(),it.zB.stop(X,!0))})),this._register((0,it.nm)(this.domNode,it.tw.MOUSE_OUT,X=>{let Ce=X.relatedTarget;(0,it.jg)(Ce,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),X.stopPropagation())})),this._register((0,it.nm)(this.actionsList,it.tw.MOUSE_OVER,X=>{let Ce=X.target;if(!(!Ce||!(0,it.jg)(Ce,this.actionsList)||Ce===this.actionsList)){for(;Ce.parentElement!==this.actionsList&&Ce.parentElement!==null;)Ce=Ce.parentElement;if(Ce.classList.contains("action-item")){const Ie=this.focusedItem;this.setFocusedItem(Ce),Ie!==this.focusedItem&&this.updateFocus()}}})),this._register(Rr.o.addTarget(this.actionsList)),this._register((0,it.nm)(this.actionsList,Rr.t.Tap,X=>{let Ce=X.initialTarget;if(!(!Ce||!(0,it.jg)(Ce,this.actionsList)||Ce===this.actionsList)){for(;Ce.parentElement!==this.actionsList&&Ce.parentElement!==null;)Ce=Ce.parentElement;if(Ce.classList.contains("action-item")){const Ie=this.focusedItem;this.setFocusedItem(Ce),Ie!==this.focusedItem&&this.updateFocus()}}}));let A={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new jn.s$(_,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const U=this.scrollableElement.getDomNode();U.style.position="",this._register((0,it.nm)(_,Rr.t.Change,X=>{it.zB.stop(X,!0);const Ce=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:Ce-X.translationY})})),this._register((0,it.nm)(U,it.tw.MOUSE_UP,X=>{X.preventDefault()})),_.style.maxHeight=`${Math.max(10,window.innerHeight-t.getBoundingClientRect().top-35)}px`,i=i.filter(X=>{var Ce;return!((Ce=o.submenuIds)===null||Ce===void 0)&&Ce.has(X.id)?(console.warn(`Found submenu cycle: ${X.id}`),!1):!0}),this.push(i,{icon:!0,label:!0,isMenu:!0}),t.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(X=>!(X instanceof Jl)).forEach((X,Ce,Ie)=>{X.updatePositionInSet(Ce+1,Ie.length)})}initializeStyleSheet(t){(0,it.OO)(t)?(this.styleSheet=(0,it.dS)(t),this.styleSheet.textContent=Ad):(Ia.globalStyleSheet||(Ia.globalStyleSheet=(0,it.dS)(),Ia.globalStyleSheet.textContent=Ad),this.styleSheet=Ia.globalStyleSheet)}style(t){const i=this.getContainer(),o=t.foregroundColor?`${t.foregroundColor}`:"",_=t.backgroundColor?`${t.backgroundColor}`:"",A=t.borderColor?`1px solid ${t.borderColor}`:"",U=t.shadowColor?`0 2px 4px ${t.shadowColor}`:"";i.style.border=A,this.domNode.style.color=o,this.domNode.style.backgroundColor=_,i.style.boxShadow=U,this.viewItems&&this.viewItems.forEach(X=>{(X instanceof Xl||X instanceof Jl)&&X.style(t)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(t){const i=this.focusedItem;this.setFocusedItem(t),i!==this.focusedItem&&this.updateFocus()}setFocusedItem(t){for(let i=0;i<this.actionsList.children.length;i++){let o=this.actionsList.children[i];if(t===o){this.focusedItem=i;break}}}updateFocus(t){super.updateFocus(t,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(t,i,o){if(t instanceof ys.Z0)return new Jl(i.context,t,{icon:!0});if(t instanceof ys.wY){const _=new kd(t,t.actions,o,Object.assign(Object.assign({},i),{submenuIds:new Set([...i.submenuIds||[],t.id])}));if(i.enableMnemonics){const A=_.getMnemonic();if(A&&_.isEnabled()){let U=[];this.mnemonics.has(A)&&(U=this.mnemonics.get(A)),U.push(_),this.mnemonics.set(A,U)}}return _}else{const _={enableMnemonics:i.enableMnemonics,useEventAsContext:i.useEventAsContext};if(i.getKeyBinding){const U=i.getKeyBinding(t);if(U){const X=U.getLabel();X&&(_.keybinding=X)}}const A=new Xl(i.context,t,_);if(i.enableMnemonics){const U=A.getMnemonic();if(U&&A.isEnabled()){let X=[];this.mnemonics.has(U)&&(X=this.mnemonics.get(U)),X.push(A),this.mnemonics.set(U,X)}}return A}}}class Xl extends Pa.Y{constructor(t,i,o={}){if(o.isMenu=!0,super(i,i,o),this.options=o,this.options.icon=o.icon!==void 0?o.icon:!1,this.options.label=o.label!==void 0?o.label:!0,this.cssClass="",this.options.label&&o.enableMnemonics){let _=this.getAction().label;if(_){let A=Yl.exec(_);A&&(this.mnemonic=(A[1]?A[1]:A[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Zn.pY(()=>{this.element&&(this._register((0,it.nm)(this.element,it.tw.MOUSE_UP,_=>{if(it.zB.stop(_,!0),yr.vU){if(new lr.n(_).rightButton)return;this.onClick(_)}else setTimeout(()=>{this.onClick(_)},0)})),this._register((0,it.nm)(this.element,it.tw.CONTEXT_MENU,_=>{it.zB.stop(_,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(t){super.render(t),this.element&&(this.container=t,this.item=(0,it.R3)(this.element,(0,it.$)("a.action-menu-item")),this._action.id===ys.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,it.R3)(this.item,(0,it.$)("span.menu-item-check"+Md.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,it.R3)(this.item,(0,it.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,it.R3)(this.item,(0,it.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(t,i){this.item&&(this.item.setAttribute("aria-posinset",`${t}`),this.item.setAttribute("aria-setsize",`${i}`))}updateLabel(){if(this.label&&this.options.label){(0,it.PO)(this.label);let t=(0,ca.x$)(this.getAction().label);if(t){const i=Pu(t);this.options.enableMnemonics||(t=i),this.label.setAttribute("aria-label",i.replace(/&&/g,"&"));const o=Yl.exec(t);if(o){t=qi.YU(t),Ql.lastIndex=0;let _=Ql.exec(t);for(;_&&_[1];)_=Ql.exec(t);const A=U=>U.replace(/&amp;&amp;/g,"&amp;");_?this.label.append(qi.j3(A(t.substr(0,_.index))," "),(0,it.$)("u",{"aria-hidden":"true"},_[3]),qi.oL(A(t.substr(_.index+_[0].length))," ")):this.label.innerText=A(t).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(o[1]?o[1]:o[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){let t=null;this.getAction().tooltip?t=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(t=this.getAction().label,this.options.keybinding&&(t=Ve.N({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",t,this.options.keybinding))),t&&this.item&&(this.item.title=t)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const t=this.getAction().checked;this.item.classList.toggle("checked",!!t),t!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",t?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const t=this.element&&this.element.classList.contains("focused"),i=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,o=t&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,_=t&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=i?i.toString():"",this.item.style.backgroundColor=o?o.toString():""),this.check&&(this.check.style.color=i?i.toString():""),this.container&&(this.container.style.border=_)}style(t){this.menuStyle=t,this.applyStyle()}}class kd extends Xl{constructor(t,i,o,_){super(t,t,_),this.submenuActions=i,this.parentData=o,this.submenuOptions=_,this.mysubmenu=null,this.submenuDisposables=this._register(new Gt.SL),this.mouseOver=!1,this.expandDirection=_&&_.expandDirection!==void 0?_.expandDirection:_l.Right,this.showScheduler=new Zn.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new Zn.pY(()=>{this.element&&!(0,it.jg)((0,it.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(t){super.render(t),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,it.R3)(this.item,(0,it.$)("span.submenu-indicator"+Rd.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,it.nm)(this.element,it.tw.KEY_UP,i=>{let o=new Kt.y(i);(o.equals(17)||o.equals(3))&&(it.zB.stop(i,!0),this.createSubmenu(!0))})),this._register((0,it.nm)(this.element,it.tw.KEY_DOWN,i=>{let o=new Kt.y(i);(0,it.vY)()===this.item&&(o.equals(17)||o.equals(3))&&it.zB.stop(i,!0)})),this._register((0,it.nm)(this.element,it.tw.MOUSE_OVER,i=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,it.nm)(this.element,it.tw.MOUSE_LEAVE,i=>{this.mouseOver=!1})),this._register((0,it.nm)(this.element,it.tw.FOCUS_OUT,i=>{this.element&&!(0,it.jg)((0,it.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(t){it.zB.stop(t,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(t){if(this.parentData.submenu&&(t||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(i){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(t,i,o,_){const A={top:0,left:0};return A.left=Fa(t.width,i.width,{position:_===_l.Right?0:1,offset:o.left,size:o.width}),A.left>=o.left&&A.left<o.left+o.width&&(o.left+10+i.width<=t.width&&(A.left=o.left+10),o.top+=10,o.height=0),A.top=Fa(t.height,i.height,{position:0,offset:o.top,size:0}),A.top+i.height===o.top&&A.top+o.height+i.height<=t.height&&(A.top+=o.height),A}createSubmenu(t=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,it.R3)(this.element,(0,it.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const i=getComputedStyle(this.parentData.parent.domNode),o=parseFloat(i.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Ia(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new ys.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const _=this.element.getBoundingClientRect(),A={top:_.top-o,left:_.left,height:_.height+2*o,width:_.width},U=this.submenuContainer.getBoundingClientRect(),{top:X,left:Ce}=this.calculateSubmenuMenuLayout(new it.Ro(window.innerWidth,window.innerHeight),it.Ro.lift(U),A,this.expandDirection);this.submenuContainer.style.left=`${Ce-U.left}px`,this.submenuContainer.style.top=`${X-U.top}px`,this.submenuDisposables.add((0,it.nm)(this.submenuContainer,it.tw.KEY_UP,Ie=>{new Kt.y(Ie).equals(15)&&(it.zB.stop(Ie,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,it.nm)(this.submenuContainer,it.tw.KEY_DOWN,Ie=>{new Kt.y(Ie).equals(15)&&it.zB.stop(Ie,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(t),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(t){var i;this.item&&((i=this.item)===null||i===void 0||i.setAttribute("aria-expanded",t))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const i=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=i?`${i}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Jl extends Pa.g{style(t){this.label&&(this.label.style.borderBottomColor=t.separatorColor?`${t.separatorColor}`:"")}}function Pu(u){const t=Yl,i=t.exec(u);if(!i)return u;const o=!i[1];return u.replace(t,o?"$2$3":"").trim()}let Ad=`
.monaco-menu {
	font-size: 13px;

}

${(0,pl.a)(Md)}
${(0,pl.a)(Rd)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
	box-shadow: #DDD 0 6px 6px -6px inset;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
	box-shadow: #DDD 6px 0 6px -6px inset;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top.left {
	box-shadow: #DDD 6px 6px 6px -6px inset;
}

/* ---------- Default Style ---------- */

:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(100, 100, 100, .4);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(121, 121, 121, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(111, 195, 223, .6);
}

.monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(100, 100, 100, .7);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(111, 195, 223, .8);
}

.monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(0, 0, 0, .6);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(191, 191, 191, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(111, 195, 223, 1);
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {
	box-shadow: #000 6px 0 6px -6px inset;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {
	box-shadow: #000 6px 6px 6px -6px inset;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.left {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {
	box-shadow: none;
}
`;var va=c(88810);class Fu{constructor(t,i,o,_,A){this.contextViewService=t,this.telemetryService=i,this.notificationService=o,this.keybindingService=_,this.themeService=A,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(t){this.options=t}showContextMenu(t){const i=t.getActions();if(!i.length)return;this.focusToReturn=document.activeElement;let o,_=(0,it.Re)(t.domForShadowRoot)?t.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>t.getAnchor(),canRelayout:!1,anchorAlignment:t.anchorAlignment,anchorAxisAlignment:t.anchorAxisAlignment,render:A=>{let U=t.getMenuClassName?t.getMenuClassName():"";U&&(A.className+=" "+U),this.options.blockMouse&&(this.block=A.appendChild((0,it.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,it.nm)(this.block,it.tw.MOUSE_DOWN,Ie=>Ie.stopPropagation()));const X=new Gt.SL,Ce=t.actionRunner||new ys.Wi;return Ce.onBeforeRun(this.onActionRun,this,X),Ce.onDidRun(this.onDidActionRun,this,X),o=new Ia(A,i,{actionViewItemProvider:t.getActionViewItem,context:t.getActionsContext?t.getActionsContext():null,actionRunner:Ce,getKeyBinding:t.getKeyBinding?t.getKeyBinding:Ie=>this.keybindingService.lookupKeybinding(Ie.id)}),X.add((0,va.tj)(o,this.themeService)),o.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,X),o.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,X),X.add((0,it.nm)(window,it.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),X.add((0,it.nm)(window,it.tw.MOUSE_DOWN,Ie=>{if(Ie.defaultPrevented)return;let Be=new lr.n(Ie),tt=Be.target;if(!Be.rightButton){for(;tt;){if(tt===A)return;tt=tt.parentElement}this.contextViewService.hideContextView(!0)}})),(0,Gt.F8)(X,o)},focus:()=>{o&&o.focus(!!t.autoSelectFirstItem)},onHide:A=>{t.onHide&&t.onHide(!!A),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},_,!!_)}onActionRun(t){this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(t){t.error&&!(0,Bn.VV)(t.error)&&this.notificationService.error(t.error)}}var Bu=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},Qa=function(u,t){return function(i,o){t(i,o,u)}};let ql=class extends Gt.JT{constructor(t,i,o,_,A){super(),this.contextMenuHandler=new Fu(o,t,i,_,A)}configure(t){this.contextMenuHandler.configure(t)}showContextMenu(t){this.contextMenuHandler.showContextMenu(t),it._q.getInstance().resetKeyStatus()}};ql=Bu([Qa(0,jo.b),Qa(1,rn.lT),Qa(2,$n.u),Qa(3,ue.d),Qa(4,Fn.XE)],ql);const vl=(0,os.yh)("layoutService");var Wu=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},Vu=function(u,t){return function(i,o){t(i,o,u)}};let ed=class extends Gt.JT{constructor(t){super(),this.layoutService=t,this.currentViewDisposable=Gt.JT.None,this.container=t.container,this.contextView=this._register(new Ba(this.container,1)),this.layout(),this._register(t.onDidLayout(()=>this.layout()))}setContainer(t,i){this.contextView.setContainer(t,i||1)}showContextView(t,i,o){i?i!==this.container&&(this.container=i,this.setContainer(i,o?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(t);const _=(0,Gt.OF)(()=>{this.currentViewDisposable===_&&this.hideContextView()});return this.currentViewDisposable=_,_}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(t){this.contextView.hide(t)}};ed=Wu([Vu(0,vl)],ed);const Od=(0,os.yh)("dialogService");var Wa=c(97108);class Hu{constructor(t){this.incoming=new Map,this.outgoing=new Map,this.data=t}}class zu{constructor(t){this._hashFn=t,this._nodes=new Map}roots(){const t=[];for(let i of this._nodes.values())i.outgoing.size===0&&t.push(i);return t}insertEdge(t,i){const o=this.lookupOrInsertNode(t),_=this.lookupOrInsertNode(i);o.outgoing.set(this._hashFn(i),_),_.incoming.set(this._hashFn(t),o)}removeNode(t){const i=this._hashFn(t);this._nodes.delete(i);for(let o of this._nodes.values())o.outgoing.delete(i),o.incoming.delete(i)}lookupOrInsertNode(t){const i=this._hashFn(t);let o=this._nodes.get(i);return o||(o=new Hu(t),this._nodes.set(i,o)),o}isEmpty(){return this._nodes.size===0}toString(){let t=[];for(let[i,o]of this._nodes)t.push(`${i}, (incoming)[${[...o.incoming.keys()].join(", ")}], (outgoing)[${[...o.outgoing.keys()].join(",")}]`);return t.join(`
`)}findCycleSlow(){for(let[t,i]of this._nodes){const o=new Set([t]),_=this._findCycle(i,o);if(_)return _}}_findCycle(t,i){for(let[o,_]of t.outgoing){if(i.has(o))return[...i,o].join(" -> ");i.add(o);const A=this._findCycle(_,i);if(A)return A;i.delete(o)}}}const Pd=!1;class Fd extends Error{constructor(t){var i;super("cyclic dependency between services"),this.message=(i=t.findCycleSlow())!==null&&i!==void 0?i:`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}}class Cl{constructor(t=new $s.y,i=!1,o){this._activeInstantiations=new Set,this._services=t,this._strict=i,this._parent=o,this._services.set(os.TG,this)}createChild(t){return new Cl(t,this._strict,this)}invokeFunction(t,...i){let o=Fr.traceInvocation(t),_=!1;try{return t({get:(U,X)=>{if(_)throw(0,Bn.L6)("service accessor is only valid during the invocation of its target method");const Ce=this._getOrCreateServiceInstance(U,o);if(!Ce&&X!==os.jt)throw new Error(`[invokeFunction] unknown service '${U}'`);return Ce}},...i)}finally{_=!0,o.stop()}}createInstance(t,...i){let o,_;return t instanceof Wa.M?(o=Fr.traceCreation(t.ctor),_=this._createInstance(t.ctor,t.staticArguments.concat(i),o)):(o=Fr.traceCreation(t),_=this._createInstance(t,i,o)),o.stop(),_}_createInstance(t,i=[],o){let _=os.I8.getServiceDependencies(t).sort((X,Ce)=>X.index-Ce.index),A=[];for(const X of _){let Ce=this._getOrCreateServiceInstance(X.id,o);if(!Ce&&this._strict&&!X.optional)throw new Error(`[createInstance] ${t.name} depends on UNKNOWN service ${X.id}.`);A.push(Ce)}let U=_.length>0?_[0].index:i.length;if(i.length!==U){console.warn(`[createInstance] First service dependency of ${t.name} at position ${U+1} conflicts with ${i.length} static arguments`);let X=U-i.length;X>0?i=i.concat(new Array(X)):i=i.slice(0,U)}return new t(...i,...A)}_setServiceInstance(t,i){if(this._services.get(t)instanceof Wa.M)this._services.set(t,i);else if(this._parent)this._parent._setServiceInstance(t,i);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){let i=this._services.get(t);return!i&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):i}_getOrCreateServiceInstance(t,i){let o=this._getServiceInstanceOrDescriptor(t);return o instanceof Wa.M?this._safeCreateAndCacheServiceInstance(t,o,i.branch(t,!0)):(i.branch(t,!1),o)}_safeCreateAndCacheServiceInstance(t,i,o){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,i,o)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,i,o){const _=new zu(X=>X.id.toString());let A=0;const U=[{id:t,desc:i,_trace:o}];for(;U.length;){const X=U.pop();if(_.lookupOrInsertNode(X),A++>1e3)throw new Fd(_);for(let Ce of os.I8.getServiceDependencies(X.desc.ctor)){let Ie=this._getServiceInstanceOrDescriptor(Ce.id);if(!Ie&&!Ce.optional&&console.warn(`[createInstance] ${t} depends on ${Ce.id} which is NOT registered.`),Ie instanceof Wa.M){const Be={id:Ce.id,desc:Ie,_trace:X._trace.branch(Ce.id,!0)};_.insertEdge(X,Be),U.push(Be)}}}for(;;){const X=_.roots();if(X.length===0){if(!_.isEmpty())throw new Fd(_);break}for(const{data:Ce}of X){if(this._getServiceInstanceOrDescriptor(Ce.id)instanceof Wa.M){const Be=this._createServiceInstanceWithOwner(Ce.id,Ce.desc.ctor,Ce.desc.staticArguments,Ce.desc.supportsDelayedInstantiation,Ce._trace);this._setServiceInstance(Ce.id,Be)}_.removeNode(Ce)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,i,o=[],_,A){if(this._services.get(t)instanceof Wa.M)return this._createServiceInstance(i,o,_,A);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,i,o,_,A);throw new Error(`illegalState - creating UNKNOWN service instance ${i.name}`)}_createServiceInstance(t,i=[],o,_){if(o){const A=new Zn.Ue(()=>this._createInstance(t,i,_));return new Proxy(Object.create(null),{get(U,X){if(X in U)return U[X];let Ce=A.value,Ie=Ce[X];return typeof Ie!="function"||(Ie=Ie.bind(Ce),U[X]=Ie),Ie},set(U,X,Ce){return A.value[X]=Ce,!0}})}else return this._createInstance(t,i,_)}}class Fr{constructor(t,i){this.type=t,this.name=i,this._start=Date.now(),this._dep=[]}static traceInvocation(t){return Pd?new Fr(1,t.name||t.toString().substring(0,42).replace(/\n/g,"")):Fr._None}static traceCreation(t){return Pd?new Fr(0,t.name):Fr._None}branch(t,i){let o=new Fr(2,t.toString());return this._dep.push([t,i,o]),o}stop(){let t=Date.now()-this._start;Fr._totals+=t;let i=!1;function o(A,U){let X=[],Ce=new Array(A+1).join("	");for(const[Ie,Be,tt]of U._dep)if(Be&&tt){i=!0,X.push(`${Ce}CREATES -> ${Ie}`);let zt=o(A+1,tt);zt&&X.push(zt)}else X.push(`${Ce}uses -> ${Ie}`);return X.join(`
`)}let _=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${o(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${Fr._totals.toFixed(2)}ms)`];(t>2||i)&&console.log(_.join(`
`))}}Fr._None=new class extends Fr{constructor(){super(-1,null)}stop(){}branch(){return this}},Fr._totals=0;var Uu=c(44349),td=c(38097),sa=c(98674);class $u{constructor(){this._byResource=new ze.Y9,this._byOwner=new Map}set(t,i,o){let _=this._byResource.get(t);_||(_=new Map,this._byResource.set(t,_)),_.set(i,o);let A=this._byOwner.get(i);A||(A=new ze.Y9,this._byOwner.set(i,A)),A.set(t,o)}get(t,i){let o=this._byResource.get(t);return o==null?void 0:o.get(i)}delete(t,i){let o=!1,_=!1,A=this._byResource.get(t);A&&(o=A.delete(i));let U=this._byOwner.get(i);if(U&&(_=U.delete(t)),o!==_)throw new Error("illegal state");return o&&_}values(t){var i,o,_,A;return typeof t=="string"?(o=(i=this._byOwner.get(t))===null||i===void 0?void 0:i.values())!==null&&o!==void 0?o:l.$.empty():y.o.isUri(t)?(A=(_=this._byResource.get(t))===null||_===void 0?void 0:_.values())!==null&&A!==void 0?A:l.$.empty():l.$.map(l.$.concat(...this._byOwner.values()),U=>U[1])}}class Ku{constructor(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new ze.Y9,this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(t){for(const i of t){const o=this._data.get(i);o&&this._substract(o);const _=this._resourceStats(i);this._add(_),this._data.set(i,_)}}_resourceStats(t){const i={errors:0,warnings:0,infos:0,unknowns:0};if(t.scheme===ke.lg.inMemory||t.scheme===ke.lg.walkThrough||t.scheme===ke.lg.walkThroughSnippet)return i;for(const{severity:o}of this._service.read({resource:t}))o===sa.ZL.Error?i.errors+=1:o===sa.ZL.Warning?i.warnings+=1:o===sa.ZL.Info?i.infos+=1:i.unknowns+=1;return i}_substract(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns}_add(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns}}class xa{constructor(){this._onMarkerChanged=new Q.D0({delay:0,merge:xa._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new $u,this._stats=new Ku(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(t,i){for(const o of i||[])this.changeOne(t,o,[])}changeOne(t,i,o){if((0,co.XY)(o))this._data.delete(i,t)&&this._onMarkerChanged.fire([i]);else{const _=[];for(const A of o){const U=xa._toMarker(t,i,A);U&&_.push(U)}this._data.set(i,t,_),this._onMarkerChanged.fire([i])}}static _toMarker(t,i,o){let{code:_,severity:A,message:U,source:X,startLineNumber:Ce,startColumn:Ie,endLineNumber:Be,endColumn:tt,relatedInformation:zt,tags:xi}=o;if(U)return Ce=Ce>0?Ce:1,Ie=Ie>0?Ie:1,Be=Be>=Ce?Be:Ce,tt=tt>0?tt:Ie,{resource:i,owner:t,code:_,severity:A,message:U,source:X,startLineNumber:Ce,startColumn:Ie,endLineNumber:Be,endColumn:tt,relatedInformation:zt,tags:xi}}read(t=Object.create(null)){let{owner:i,resource:o,severities:_,take:A}=t;if((!A||A<0)&&(A=-1),i&&o){const U=this._data.get(o,i);if(U){const X=[];for(const Ce of U)if(xa._accept(Ce,_)){const Ie=X.push(Ce);if(A>0&&Ie===A)break}return X}else return[]}else if(!i&&!o){const U=[];for(let X of this._data.values())for(let Ce of X)if(xa._accept(Ce,_)){const Ie=U.push(Ce);if(A>0&&Ie===A)return U}return U}else{const U=this._data.values(o!=null?o:i),X=[];for(const Ce of U)for(const Ie of Ce)if(xa._accept(Ie,_)){const Be=X.push(Ie);if(A>0&&Be===A)return X}return X}}static _accept(t,i){return i===void 0||(i&t.severity)===t.severity}static _merge(t){const i=new ze.Y9;for(let o of t)for(let _ of o)i.set(_,!0);return Array.from(i.keys())}}var Bd=c(87060),Wd=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},bl=function(u,t){return function(i,o){t(i,o,u)}};let id=class{constructor(t){this._commandService=t}createMenu(t,i,o){return new nd(t,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},o),this._commandService,i,this)}};id=Wd([bl(0,at.H)],id);let nd=class za{constructor(t,i,o,_,A){this._id=t,this._options=i,this._commandService=o,this._contextKeyService=_,this._menuService=A,this._disposables=new Gt.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const U=new Zn.pY(()=>{this._build(),this._onDidChange.fire(this)},i.eventDebounceDelay);this._disposables.add(U),this._disposables.add(ee.BH.onDidChangeMenu(Ie=>{Ie.has(t)&&U.schedule()}));const X=this._disposables.add(new Gt.SL),Ce=()=>{const Ie=new Zn.pY(()=>this._onDidChange.fire(this),i.eventDebounceDelay);X.add(Ie),X.add(_.onDidChangeContext(Be=>{Be.affectsSome(this._contextKeys)&&Ie.schedule()}))};this._onDidChange=new Q.Q5({onFirstListenerAdd:Ce,onLastListenerRemove:X.clear.bind(X)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=ee.BH.getMenuItems(this._id);let i;t.sort(za._compareMenuItems);for(const o of t){const _=o.group||"";(!i||i[0]!==_)&&(i=[_,[]],this._menuGroups.push(i)),i[1].push(o),this._collectContextKeys(o)}}_collectContextKeys(t){if(za._fillInKbExprKeys(t.when,this._contextKeys),(0,ee.vr)(t)){if(t.command.precondition&&za._fillInKbExprKeys(t.command.precondition,this._contextKeys),t.command.toggled){const i=t.command.toggled.condition||t.command.toggled;za._fillInKbExprKeys(i,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&ee.BH.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}getActions(t){const i=[];for(let o of this._menuGroups){const[_,A]=o,U=[];for(const X of A)if(this._contextKeyService.contextMatchesRules(X.when)){const Ce=(0,ee.vr)(X)?new ee.U8(X.command,X.alt,t,this._contextKeyService,this._commandService):new ee.NZ(X,this._menuService,this._contextKeyService,t);U.push(Ce)}U.length>0&&i.push([_,U])}return i}static _fillInKbExprKeys(t,i){if(t)for(let o of t.keys())i.add(o)}static _compareMenuItems(t,i){let o=t.group,_=i.group;if(o!==_){if(o){if(!_)return-1}else return 1;if(o==="navigation")return-1;if(_==="navigation")return 1;let X=o.localeCompare(_);if(X!==0)return X}let A=t.order||0,U=i.order||0;return A<U?-1:A>U?1:za._compareTitles((0,ee.vr)(t)?t.command.title:t.title,(0,ee.vr)(i)?i.command.title:i.title)}static _compareTitles(t,i){const o=typeof t=="string"?t:t.original,_=typeof i=="string"?i:i.original;return o.localeCompare(_)}};nd=Wd([bl(2,at.H),bl(3,Dt.i6),bl(4,ee.co)],nd);var ju=c(26479),Gu=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},Vd=function(u,t){return function(i,o){t(i,o,u)}};class Zu extends Gt.JT{constructor(t){super(),this.model=t,this._markersData=new Map,this._register((0,Gt.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(t,i){const o=[...this._markersData.keys()];this._markersData.clear();const _=this.model.deltaDecorations(o,i);for(let A=0;A<_.length;A++)this._markersData.set(_[A],t[A]);return o.length!==0||_.length!==0}getMarker(t){return this._markersData.get(t.id)}}let sd=class extends Gt.JT{constructor(t,i){super(),this._markerService=i,this._onDidChangeMarker=this._register(new Q.Q5),this._markerDecorations=new ze.Y9,t.getModels().forEach(o=>this._onModelAdded(o)),this._register(t.onModelAdded(this._onModelAdded,this)),this._register(t.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(t=>t.dispose()),this._markerDecorations.clear()}getMarker(t,i){const o=this._markerDecorations.get(t);return o&&o.getMarker(i)||null}_handleMarkerChange(t){t.forEach(i=>{const o=this._markerDecorations.get(i);o&&this._updateDecorations(o)})}_onModelAdded(t){const i=new Zu(t);this._markerDecorations.set(t.uri,i),this._updateDecorations(i)}_onModelRemoved(t){const i=this._markerDecorations.get(t.uri);i&&(i.dispose(),this._markerDecorations.delete(t.uri)),(t.uri.scheme===ke.lg.inMemory||t.uri.scheme===ke.lg.internal||t.uri.scheme===ke.lg.vscode)&&this._markerService&&this._markerService.read({resource:t.uri}).map(o=>o.owner).forEach(o=>this._markerService.remove(o,[t.uri]))}_updateDecorations(t){const i=this._markerService.read({resource:t.model.uri,take:500});let o=i.map(_=>({range:this._createDecorationRange(t.model,_),options:this._createDecorationOption(_)}));t.update(i,o)&&this._onDidChangeMarker.fire(t.model)}_createDecorationRange(t,i){let o=k.e.lift(i);return i.severity===sa.ZL.Hint&&!this._hasMarkerTag(i,1)&&!this._hasMarkerTag(i,2)&&(o=o.setEndPosition(o.startLineNumber,o.startColumn+2)),t.validateRange(o)}_createDecorationOption(t){let i,o,_,A,U;switch(t.severity){case sa.ZL.Hint:this._hasMarkerTag(t,2)?i=void 0:this._hasMarkerTag(t,1)?i="squiggly-unnecessary":i="squiggly-hint",_=0;break;case sa.ZL.Warning:i="squiggly-warning",o=(0,Fn.EN)(Ns.Re),_=20,U={color:(0,Fn.EN)(Wi.Iv),position:wi.F5.Inline};break;case sa.ZL.Info:i="squiggly-info",o=(0,Fn.EN)(Ns.eS),_=10;break;case sa.ZL.Error:default:i="squiggly-error",o=(0,Fn.EN)(Ns.lK),_=30,U={color:(0,Fn.EN)(Wi.Gj),position:wi.F5.Inline};break}return t.tags&&(t.tags.indexOf(1)!==-1&&(A="squiggly-inline-unnecessary"),t.tags.indexOf(2)!==-1&&(A="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:i,showIfCollapsed:!0,overviewRuler:{color:o,position:wi.sh.Right},minimap:U,zIndex:_,inlineClassName:A}}_hasMarkerTag(t,i){return t.tags?t.tags.indexOf(i)>=0:!1}};sd=Gu([Vd(0,hs.q),Vd(1,sa.lT)],sd);var Hd=c(65026),Yu=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},zd=function(u,t){return function(i,o){t(i,o,u)}};let od=class extends Gt.JT{constructor(t,i){super(),this._contextKeyService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new Q.Q5,this._accessibilityModeEnabledContext=ye.U.bindTo(this._contextKeyService);const o=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(_=>{_.affectsConfiguration("editor.accessibilitySupport")&&(o(),this._onDidChangeScreenReaderOptimized.fire())})),o(),this.onDidChangeScreenReaderOptimized(()=>o())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const t=this._configurationService.getValue("editor.accessibilitySupport");return t==="on"||t==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};od=Yu([zd(0,Dt.i6),zd(1,d.Ui)],od);var wl=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(U){U(A)})}return new(i||(i=Promise))(function(A,U){function X(Be){try{Ie(o.next(Be))}catch(tt){U(tt)}}function Ce(Be){try{Ie(o.throw(Be))}catch(tt){U(tt)}}function Ie(Be){Be.done?A(Be.value):_(Be.value).then(X,Ce)}Ie((o=o.apply(u,t||[])).next())})};class Qu{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(t,i){return wl(this,void 0,void 0,function*(){if(i){this.mapTextToType.set(i,t);return}try{return yield navigator.clipboard.writeText(t)}catch(A){console.error(A)}const o=document.activeElement,_=document.body.appendChild((0,it.$)("textarea",{"aria-hidden":!0}));_.style.height="1px",_.style.width="1px",_.style.position="absolute",_.value=t,_.focus(),_.select(),document.execCommand("copy"),o instanceof HTMLElement&&o.focus(),document.body.removeChild(_)})}readText(t){return wl(this,void 0,void 0,function*(){if(t)return this.mapTextToType.get(t)||"";try{return yield navigator.clipboard.readText()}catch(i){return console.error(i),""}})}readFindText(){return wl(this,void 0,void 0,function*(){return this.findText})}writeFindText(t){return wl(this,void 0,void 0,function*(){this.findText=t})}}var Xu=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},Ud=function(u,t){return function(i,o){t(i,o,u)}},Sl=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(U){U(A)})}return new(i||(i=Promise))(function(A,U){function X(Be){try{Ie(o.next(Be))}catch(tt){U(tt)}}function Ce(Be){try{Ie(o.throw(Be))}catch(tt){U(tt)}}function Ie(Be){Be.done?A(Be.value):_(Be.value).then(X,Ce)}Ie((o=o.apply(u,t||[])).next())})};const Va=!1;function yl(u){return u.scheme===ke.lg.file?u.fsPath:u.path}let $d=0;class Ll{constructor(t,i,o,_,A,U,X){this.id=++$d,this.type=0,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabel=i,this.strResource=o,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=_,this.groupOrder=A,this.sourceId=U,this.sourceOrder=X,this.isValid=!0}setValid(t){this.isValid=t}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Kd{constructor(t,i){this.resourceLabel=t,this.reason=i}}class jd{constructor(){this.elements=new Map}createMessage(){const t=[],i=[];for(const[,_]of this.elements)(_.reason===0?t:i).push(_.resourceLabel);let o=[];return t.length>0&&o.push(Ve.N({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",t.join(", "))),i.length>0&&o.push(Ve.N({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",i.join(", "))),o.join(`
`)}get size(){return this.elements.size}has(t){return this.elements.has(t)}set(t,i){this.elements.set(t,i)}delete(t){return this.elements.delete(t)}}class Ju{constructor(t,i,o,_,A,U,X){this.id=++$d,this.type=1,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabels=i,this.strResources=o,this.groupId=_,this.groupOrder=A,this.sourceId=U,this.sourceOrder=X,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(t,i,o){this.removedResources||(this.removedResources=new jd),this.removedResources.has(i)||this.removedResources.set(i,new Kd(t,o))}setValid(t,i,o){o?this.invalidatedResources&&(this.invalidatedResources.delete(i),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new jd),this.invalidatedResources.has(i)||this.invalidatedResources.set(i,new Kd(t,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Gd{constructor(t,i){this.resourceLabel=t,this.strResource=i,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const t of this._past)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,0);for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let t=[];t.push(`* ${this.strResource}:`);for(let i=0;i<this._past.length;i++)t.push(`   * [UNDO] ${this._past[i]}`);for(let i=this._future.length-1;i>=0;i--)t.push(`   * [REDO] ${this._future[i]}`);return t.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(t,i){t.type===1?t.setValid(this.resourceLabel,this.strResource,i):t.setValid(i)}setElementsValidFlag(t,i){for(const o of this._past)i(o.actual)&&this._setElementValidFlag(o,t);for(const o of this._future)i(o.actual)&&this._setElementValidFlag(o,t)}pushElement(t){for(const i of this._future)i.type===1&&i.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(t),this.versionId++}createSnapshot(t){const i=[];for(let o=0,_=this._past.length;o<_;o++)i.push(this._past[o].id);for(let o=this._future.length-1;o>=0;o--)i.push(this._future[o].id);return new Mr.YO(t,i)}restoreSnapshot(t){const i=t.elements.length;let o=!0,_=0,A=-1;for(let X=0,Ce=this._past.length;X<Ce;X++,_++){const Ie=this._past[X];o&&(_>=i||Ie.id!==t.elements[_])&&(o=!1,A=0),!o&&Ie.type===1&&Ie.removeResource(this.resourceLabel,this.strResource,0)}let U=-1;for(let X=this._future.length-1;X>=0;X--,_++){const Ce=this._future[X];o&&(_>=i||Ce.id!==t.elements[_])&&(o=!1,U=X),!o&&Ce.type===1&&Ce.removeResource(this.resourceLabel,this.strResource,0)}A!==-1&&(this._past=this._past.slice(0,A)),U!==-1&&(this._future=this._future.slice(U+1)),this.versionId++}getElements(){const t=[],i=[];for(const o of this._past)t.push(o.actual);for(const o of this._future)i.push(o.actual);return{past:t,future:i}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(t,i){for(let o=this._past.length-1;o>=0;o--)if(this._past[o]===t){i.has(this.strResource)?this._past[o]=i.get(this.strResource):this._past.splice(o,1);break}this.versionId++}splitFutureWorkspaceElement(t,i){for(let o=this._future.length-1;o>=0;o--)if(this._future[o]===t){i.has(this.strResource)?this._future[o]=i.get(this.strResource):this._future.splice(o,1);break}this.versionId++}moveBackward(t){this._past.pop(),this._future.push(t),this.versionId++}moveForward(t){this._future.pop(),this._past.push(t),this.versionId++}}class rd{constructor(t){this.editStacks=t,this._versionIds=[];for(let i=0,o=this.editStacks.length;i<o;i++)this._versionIds[i]=this.editStacks[i].versionId}isValid(){for(let t=0,i=this.editStacks.length;t<i;t++)if(this._versionIds[t]!==this.editStacks[t].versionId)return!1;return!0}}const Zd=new Gd("","");Zd.locked=!0;let Dl=class{constructor(t,i){this._dialogService=t,this._notificationService=i,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(t){for(const i of this._uriComparisonKeyComputers)if(i[0]===t.scheme)return i[1].getComparisonKey(t);return t.toString()}_print(t){console.log("------------------------------------"),console.log(`AFTER ${t}: `);let i=[];for(const o of this._editStacks)i.push(o[1].toString());console.log(i.join(`
`))}pushElement(t,i=Mr.Xt.None,o=Mr.gJ.None){if(t.type===0){const _=yl(t.resource),A=this.getUriComparisonKey(t.resource);this._pushElement(new Ll(t,_,A,i.id,i.nextOrder(),o.id,o.nextOrder()))}else{const _=new Set,A=[],U=[];for(const X of t.resources){const Ce=yl(X),Ie=this.getUriComparisonKey(X);_.has(Ie)||(_.add(Ie),A.push(Ce),U.push(Ie))}A.length===1?this._pushElement(new Ll(t,A[0],U[0],i.id,i.nextOrder(),o.id,o.nextOrder())):this._pushElement(new Ju(t,A,U,i.id,i.nextOrder(),o.id,o.nextOrder()))}Va&&this._print("pushElement")}_pushElement(t){for(let i=0,o=t.strResources.length;i<o;i++){const _=t.resourceLabels[i],A=t.strResources[i];let U;this._editStacks.has(A)?U=this._editStacks.get(A):(U=new Gd(_,A),this._editStacks.set(A,U)),U.pushElement(t)}}getLastElement(t){const i=this.getUriComparisonKey(t);if(this._editStacks.has(i)){const o=this._editStacks.get(i);if(o.hasFutureElements())return null;const _=o.getClosestPastElement();return _?_.actual:null}return null}_splitPastWorkspaceElement(t,i){const o=t.actual.split(),_=new Map;for(const A of o){const U=yl(A.resource),X=this.getUriComparisonKey(A.resource),Ce=new Ll(A,U,X,0,0,0,0);_.set(Ce.strResource,Ce)}for(const A of t.strResources){if(i&&i.has(A))continue;this._editStacks.get(A).splitPastWorkspaceElement(t,_)}}_splitFutureWorkspaceElement(t,i){const o=t.actual.split(),_=new Map;for(const A of o){const U=yl(A.resource),X=this.getUriComparisonKey(A.resource),Ce=new Ll(A,U,X,0,0,0,0);_.set(Ce.strResource,Ce)}for(const A of t.strResources){if(i&&i.has(A))continue;this._editStacks.get(A).splitFutureWorkspaceElement(t,_)}}removeElements(t){const i=typeof t=="string"?t:this.getUriComparisonKey(t);this._editStacks.has(i)&&(this._editStacks.get(i).dispose(),this._editStacks.delete(i)),Va&&this._print("removeElements")}setElementsValidFlag(t,i,o){const _=this.getUriComparisonKey(t);this._editStacks.has(_)&&this._editStacks.get(_).setElementsValidFlag(i,o),Va&&this._print("setElementsValidFlag")}createSnapshot(t){const i=this.getUriComparisonKey(t);return this._editStacks.has(i)?this._editStacks.get(i).createSnapshot(t):new Mr.YO(t,[])}restoreSnapshot(t){const i=this.getUriComparisonKey(t.resource);if(this._editStacks.has(i)){const o=this._editStacks.get(i);o.restoreSnapshot(t),!o.hasPastElements()&&!o.hasFutureElements()&&(o.dispose(),this._editStacks.delete(i))}Va&&this._print("restoreSnapshot")}getElements(t){const i=this.getUriComparisonKey(t);return this._editStacks.has(i)?this._editStacks.get(i).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(t){if(!t)return[null,null];let i=null,o=null;for(const[_,A]of this._editStacks){const U=A.getClosestPastElement();U&&U.sourceId===t&&(!i||U.sourceOrder>i.sourceOrder)&&(i=U,o=_)}return[i,o]}canUndo(t){if(t instanceof Mr.gJ){const[,o]=this._findClosestUndoElementWithSource(t.id);return!!o}const i=this.getUriComparisonKey(t);return this._editStacks.has(i)?this._editStacks.get(i).hasPastElements():!1}_onError(t,i){(0,Bn.dL)(t);for(const o of i.strResources)this.removeElements(o);this._notificationService.error(t)}_acquireLocks(t){for(const i of t.editStacks)if(i.locked)throw new Error("Cannot acquire edit stack lock");for(const i of t.editStacks)i.locked=!0;return()=>{for(const i of t.editStacks)i.locked=!1}}_safeInvokeWithLocks(t,i,o,_,A){const U=this._acquireLocks(o);let X;try{X=i()}catch(Ce){return U(),_.dispose(),this._onError(Ce,t)}return X?X.then(()=>(U(),_.dispose(),A()),Ce=>(U(),_.dispose(),this._onError(Ce,t))):(U(),_.dispose(),A())}_invokeWorkspacePrepare(t){return Sl(this,void 0,void 0,function*(){if(typeof t.actual.prepareUndoRedo=="undefined")return Gt.JT.None;const i=t.actual.prepareUndoRedo();return typeof i=="undefined"?Gt.JT.None:i})}_invokeResourcePrepare(t,i){if(t.actual.type!==1||typeof t.actual.prepareUndoRedo=="undefined")return i(Gt.JT.None);const o=t.actual.prepareUndoRedo();return o?(0,Gt.Wf)(o)?i(o):o.then(_=>i(_)):i(Gt.JT.None)}_getAffectedEditStacks(t){const i=[];for(const o of t.strResources)i.push(this._editStacks.get(o)||Zd);return new rd(i)}_tryToSplitAndUndo(t,i,o,_){if(i.canSplit())return this._splitPastWorkspaceElement(i,o),this._notificationService.warn(_),new El(this._undo(t,0,!0));for(const A of i.strResources)this.removeElements(A);return this._notificationService.warn(_),new El}_checkWorkspaceUndo(t,i,o,_){if(i.removedResources)return this._tryToSplitAndUndo(t,i,i.removedResources,Ve.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",i.label,i.removedResources.createMessage()));if(_&&i.invalidatedResources)return this._tryToSplitAndUndo(t,i,i.invalidatedResources,Ve.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",i.label,i.invalidatedResources.createMessage()));const A=[];for(const X of o.editStacks)X.getClosestPastElement()!==i&&A.push(X.resourceLabel);if(A.length>0)return this._tryToSplitAndUndo(t,i,null,Ve.N({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",i.label,A.join(", ")));const U=[];for(const X of o.editStacks)X.locked&&U.push(X.resourceLabel);return U.length>0?this._tryToSplitAndUndo(t,i,null,Ve.N({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",i.label,U.join(", "))):o.isValid()?null:this._tryToSplitAndUndo(t,i,null,Ve.N({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",i.label))}_workspaceUndo(t,i,o){const _=this._getAffectedEditStacks(i),A=this._checkWorkspaceUndo(t,i,_,!1);return A?A.returnValue:this._confirmAndExecuteWorkspaceUndo(t,i,_,o)}_isPartOfUndoGroup(t){if(!t.groupId)return!1;for(const[,i]of this._editStacks){const o=i.getClosestPastElement();if(o){if(o===t){const _=i.getSecondClosestPastElement();if(_&&_.groupId===t.groupId)return!0}if(o.groupId===t.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(t,i,o,_){return Sl(this,void 0,void 0,function*(){if(i.canSplit()&&!this._isPartOfUndoGroup(i)){const X=yield this._dialogService.show($i.Z.Info,Ve.N("confirmWorkspace","Would you like to undo '{0}' across all files?",i.label),[Ve.N({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",o.editStacks.length),Ve.N("nok","Undo this File"),Ve.N("cancel","Cancel")],{cancelId:2});if(X.choice===2)return;if(X.choice===1)return this._splitPastWorkspaceElement(i,null),this._undo(t,0,!0);const Ce=this._checkWorkspaceUndo(t,i,o,!1);if(Ce)return Ce.returnValue;_=!0}let A;try{A=yield this._invokeWorkspacePrepare(i)}catch(X){return this._onError(X,i)}const U=this._checkWorkspaceUndo(t,i,o,!0);if(U)return A.dispose(),U.returnValue;for(const X of o.editStacks)X.moveBackward(i);return this._safeInvokeWithLocks(i,()=>i.actual.undo(),o,A,()=>this._continueUndoInGroup(i.groupId,_))})}_resourceUndo(t,i,o){if(!i.isValid){t.flushAllElements();return}if(t.locked){const _=Ve.N({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",i.label);this._notificationService.warn(_);return}return this._invokeResourcePrepare(i,_=>(t.moveBackward(i),this._safeInvokeWithLocks(i,()=>i.actual.undo(),new rd([t]),_,()=>this._continueUndoInGroup(i.groupId,o))))}_findClosestUndoElementInGroup(t){if(!t)return[null,null];let i=null,o=null;for(const[_,A]of this._editStacks){const U=A.getClosestPastElement();U&&U.groupId===t&&(!i||U.groupOrder>i.groupOrder)&&(i=U,o=_)}return[i,o]}_continueUndoInGroup(t,i){if(!t)return;const[,o]=this._findClosestUndoElementInGroup(t);if(o)return this._undo(o,0,i)}undo(t){if(t instanceof Mr.gJ){const[,i]=this._findClosestUndoElementWithSource(t.id);return i?this._undo(i,t.id,!1):void 0}return typeof t=="string"?this._undo(t,0,!1):this._undo(this.getUriComparisonKey(t),0,!1)}_undo(t,i=0,o){if(!this._editStacks.has(t))return;const _=this._editStacks.get(t),A=_.getClosestPastElement();if(!A)return;if(A.groupId){const[X,Ce]=this._findClosestUndoElementInGroup(A.groupId);if(A!==X&&Ce)return this._undo(Ce,i,o)}if((A.sourceId!==i||A.confirmBeforeUndo)&&!o)return this._confirmAndContinueUndo(t,i,A);try{return A.type===1?this._workspaceUndo(t,A,o):this._resourceUndo(_,A,o)}finally{Va&&this._print("undo")}}_confirmAndContinueUndo(t,i,o){return Sl(this,void 0,void 0,function*(){if((yield this._dialogService.show($i.Z.Info,Ve.N("confirmDifferentSource","Would you like to undo '{0}'?",o.label),[Ve.N("confirmDifferentSource.yes","Yes"),Ve.N("cancel","Cancel")],{cancelId:1})).choice!==1)return this._undo(t,i,!0)})}_findClosestRedoElementWithSource(t){if(!t)return[null,null];let i=null,o=null;for(const[_,A]of this._editStacks){const U=A.getClosestFutureElement();U&&U.sourceId===t&&(!i||U.sourceOrder<i.sourceOrder)&&(i=U,o=_)}return[i,o]}canRedo(t){if(t instanceof Mr.gJ){const[,o]=this._findClosestRedoElementWithSource(t.id);return!!o}const i=this.getUriComparisonKey(t);return this._editStacks.has(i)?this._editStacks.get(i).hasFutureElements():!1}_tryToSplitAndRedo(t,i,o,_){if(i.canSplit())return this._splitFutureWorkspaceElement(i,o),this._notificationService.warn(_),new El(this._redo(t));for(const A of i.strResources)this.removeElements(A);return this._notificationService.warn(_),new El}_checkWorkspaceRedo(t,i,o,_){if(i.removedResources)return this._tryToSplitAndRedo(t,i,i.removedResources,Ve.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",i.label,i.removedResources.createMessage()));if(_&&i.invalidatedResources)return this._tryToSplitAndRedo(t,i,i.invalidatedResources,Ve.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",i.label,i.invalidatedResources.createMessage()));const A=[];for(const X of o.editStacks)X.getClosestFutureElement()!==i&&A.push(X.resourceLabel);if(A.length>0)return this._tryToSplitAndRedo(t,i,null,Ve.N({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",i.label,A.join(", ")));const U=[];for(const X of o.editStacks)X.locked&&U.push(X.resourceLabel);return U.length>0?this._tryToSplitAndRedo(t,i,null,Ve.N({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",i.label,U.join(", "))):o.isValid()?null:this._tryToSplitAndRedo(t,i,null,Ve.N({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",i.label))}_workspaceRedo(t,i){const o=this._getAffectedEditStacks(i),_=this._checkWorkspaceRedo(t,i,o,!1);return _?_.returnValue:this._executeWorkspaceRedo(t,i,o)}_executeWorkspaceRedo(t,i,o){return Sl(this,void 0,void 0,function*(){let _;try{_=yield this._invokeWorkspacePrepare(i)}catch(U){return this._onError(U,i)}const A=this._checkWorkspaceRedo(t,i,o,!0);if(A)return _.dispose(),A.returnValue;for(const U of o.editStacks)U.moveForward(i);return this._safeInvokeWithLocks(i,()=>i.actual.redo(),o,_,()=>this._continueRedoInGroup(i.groupId))})}_resourceRedo(t,i){if(!i.isValid){t.flushAllElements();return}if(t.locked){const o=Ve.N({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",i.label);this._notificationService.warn(o);return}return this._invokeResourcePrepare(i,o=>(t.moveForward(i),this._safeInvokeWithLocks(i,()=>i.actual.redo(),new rd([t]),o,()=>this._continueRedoInGroup(i.groupId))))}_findClosestRedoElementInGroup(t){if(!t)return[null,null];let i=null,o=null;for(const[_,A]of this._editStacks){const U=A.getClosestFutureElement();U&&U.groupId===t&&(!i||U.groupOrder<i.groupOrder)&&(i=U,o=_)}return[i,o]}_continueRedoInGroup(t){if(!t)return;const[,i]=this._findClosestRedoElementInGroup(t);if(i)return this._redo(i)}redo(t){if(t instanceof Mr.gJ){const[,i]=this._findClosestRedoElementWithSource(t.id);return i?this._redo(i):void 0}return typeof t=="string"?this._redo(t):this._redo(this.getUriComparisonKey(t))}_redo(t){if(!this._editStacks.has(t))return;const i=this._editStacks.get(t),o=i.getClosestFutureElement();if(o){if(o.groupId){const[_,A]=this._findClosestRedoElementInGroup(o.groupId);if(o!==_&&A)return this._redo(A)}try{return o.type===1?this._workspaceRedo(t,o):this._resourceRedo(i,o)}finally{Va&&this._print("redo")}}}};Dl=Xu([Ud(0,Od),Ud(1,rn.lT)],Dl);class El{constructor(t){this.returnValue=t}}(0,Hd.z)(Mr.tJ,Dl);var Yd=c(56811);const qu={buttonBackground:Jr.Il.fromHex("#0E639C"),buttonHoverBackground:Jr.Il.fromHex("#006BB3"),buttonForeground:Jr.Il.white};class Qd extends Gt.JT{constructor(t,i){super(),this._onDidClick=this._register(new Q.Q5),this.options=i||Object.create(null),(0,Lt.jB)(this.options,qu,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),t.appendChild(this._element),this._register(Rr.o.addTarget(this._element)),[it.tw.CLICK,Rr.t.Tap].forEach(o=>{this._register((0,it.nm)(this._element,o,_=>{if(!this.enabled){it.zB.stop(_);return}this._onDidClick.fire(_)}))}),this._register((0,it.nm)(this._element,it.tw.KEY_DOWN,o=>{const _=new Kt.y(o);let A=!1;this.enabled&&(_.equals(3)||_.equals(10))?(this._onDidClick.fire(o),A=!0):_.equals(9)&&(this._element.blur(),A=!0),A&&it.zB.stop(_,!0)})),this._register((0,it.nm)(this._element,it.tw.MOUSE_OVER,o=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,it.nm)(this._element,it.tw.MOUSE_OUT,o=>{this.applyStyles()})),this.focusTracker=this._register((0,it.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let t;this.options.secondary?t=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:t=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,t&&(this._element.style.backgroundColor=t)}style(t){this.buttonForeground=t.buttonForeground,this.buttonBackground=t.buttonBackground,this.buttonHoverBackground=t.buttonHoverBackground,this.buttonSecondaryForeground=t.buttonSecondaryForeground,this.buttonSecondaryBackground=t.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=t.buttonSecondaryHoverBackground,this.buttonBorder=t.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let t,i;this.options.secondary?(i=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",t=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(i=this.buttonForeground?this.buttonForeground.toString():"",t=this.buttonBackground?this.buttonBackground.toString():"");const o=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=i,this._element.style.backgroundColor=t,this._element.style.borderWidth=o?"1px":"",this._element.style.borderStyle=o?"solid":"",this._element.style.borderColor=o}}get element(){return this._element}set label(t){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,it.mc)(this._element,...(0,Yd.T)(t)):this._element.textContent=t,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=t)}set enabled(t){t?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var Xd=c(85207);const Jd="done",qd="active",ad="infinite",eu="discrete",ec={progressBarBackground:Jr.Il.fromHex("#0E70C0")};class tc extends Gt.JT{constructor(t,i){super(),this.options=i||Object.create(null),(0,Lt.jB)(this.options,ec,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new Zn.pY(()=>(0,it.$Z)(this.element),0)),this.create(t)}create(t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),t.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(qd,ad,eu),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(t){return this.element.classList.add(Jd),this.element.classList.contains(ad)?(this.bit.style.opacity="0",t?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",t?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(eu,Jd),this.element.classList.add(qd,ad),this}getContainer(){return this.element}style(t){this.progressBarBackground=t.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const t=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=t}}}var ic=c(44742);const ld={},nc=new ic.R("quick-input-button-icon-");function dd(u){if(!u)return;let t;const i=u.dark.toString();return ld[i]?t=ld[i]:(t=nc.nextId(),it.fk(`.${t}`,`background-image: ${it.wY(u.light||u.dark)}`),it.fk(`.vs-dark .${t}, .hc-black .${t}`,`background-image: ${it.wY(u.dark)}`),ld[i]=t),t}const sc={ctrlCmd:!1,alt:!1};var Xa;(function(u){u[u.Blur=1]="Blur",u[u.Gesture=2]="Gesture",u[u.Other=3]="Other"})(Xa||(Xa={}));var ta;(function(u){u[u.NONE=0]="NONE",u[u.FIRST=1]="FIRST",u[u.SECOND=2]="SECOND",u[u.LAST=3]="LAST"})(ta||(ta={}));var oc=c(97862);const rc=it.$;class ac extends Gt.JT{constructor(t){super(),this.parent=t,this.onKeyDown=i=>it.nm(this.inputBox.inputElement,it.tw.KEY_DOWN,o=>{i(new Kt.y(o))}),this.onMouseDown=i=>it.nm(this.inputBox.inputElement,it.tw.MOUSE_DOWN,o=>{i(new lr.n(o))}),this.onDidChange=i=>this.inputBox.onDidChange(i),this.container=it.R3(this.parent,rc(".quick-input-box")),this.inputBox=this._register(new oc.W(this.container,void 0))}get value(){return this.inputBox.value}set value(t){this.inputBox.value=t}select(t=null){this.inputBox.select(t)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(t){this.inputBox.setPlaceHolder(t)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(t){this.inputBox.setAriaLabel(t)}get password(){return this.inputBox.inputElement.type==="password"}set password(t){this.inputBox.inputElement.type=t?"password":"text"}setAttribute(t,i){this.inputBox.inputElement.setAttribute(t,i)}removeAttribute(t){this.inputBox.inputElement.removeAttribute(t)}showDecoration(t){t===$i.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:t===$i.Z.Info?1:t===$i.Z.Warning?2:3,content:""})}stylesForType(t){return this.inputBox.stylesForType(t===$i.Z.Info?1:t===$i.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(t){this.inputBox.style(t)}}var lc=c(34650),dc=c(26974);const Il=it.$;class ud{constructor(t,i,o){this.os=i,this.keyElements=new Set,this.options=o||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=it.R3(t,Il(".monaco-keybinding")),this.didEverRender=!1,t.appendChild(this.domNode)}get element(){return this.domNode}set(t,i){this.didEverRender&&this.keybinding===t&&ud.areSame(this.matches,i)||(this.keybinding=t,this.matches=i,this.render())}render(){if(this.clear(),this.keybinding){let[t,i]=this.keybinding.getParts();t&&this.renderPart(this.domNode,t,this.matches?this.matches.firstPart:null),i&&(it.R3(this.domNode,Il("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,i,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){it.PO(this.domNode),this.keyElements.clear()}renderPart(t,i,o){const _=yn.xo.modifierLabels[this.os];i.ctrlKey&&this.renderKey(t,_.ctrlKey,!!(o!=null&&o.ctrlKey),_.separator),i.shiftKey&&this.renderKey(t,_.shiftKey,!!(o!=null&&o.shiftKey),_.separator),i.altKey&&this.renderKey(t,_.altKey,!!(o!=null&&o.altKey),_.separator),i.metaKey&&this.renderKey(t,_.metaKey,!!(o!=null&&o.metaKey),_.separator);const A=i.keyLabel;A&&this.renderKey(t,A,!!(o!=null&&o.keyCode),"")}renderKey(t,i,o,_){it.R3(t,this.createKeyElement(i,o?".highlight":"")),_&&it.R3(t,Il("span.monaco-keybinding-key-separator",void 0,_))}renderUnbound(t){it.R3(t,this.createKeyElement((0,Ve.N)("unbound","Unbound")))}createKeyElement(t,i=""){const o=Il("span.monaco-keybinding-key"+i,void 0,t);return this.keyElements.add(o),o}style(t){this.labelBackground=t.keybindingLabelBackground,this.labelForeground=t.keybindingLabelForeground,this.labelBorder=t.keybindingLabelBorder,this.labelBottomBorder=t.keybindingLabelBottomBorder,this.labelShadow=t.keybindingLabelShadow,this.applyStyles()}applyStyles(){var t;if(this.element){for(const i of this.keyElements)this.labelBackground&&(i.style.backgroundColor=(t=this.labelBackground)===null||t===void 0?void 0:t.toString()),this.labelBorder&&(i.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(i.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(i.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(t,i){return t===i||!t&&!i?!0:!!t&&!!i&&(0,Lt.fS)(t.firstPart,i.firstPart)&&(0,Lt.fS)(t.chordPart,i.chordPart)}}const tu=new Zn.Ue(()=>{const u=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:u,collatorIsNumeric:u.resolvedOptions().numeric}});function uc(u,t,i=!1){const o=u||"",_=t||"",A=tu.value.collator.compare(o,_);return tu.value.collatorIsNumeric&&A===0&&o!==_?o<_?-1:1:A}function cc(u,t,i){const o=u.toLowerCase(),_=t.toLowerCase(),A=hc(u,t,i);if(A)return A;const U=o.endsWith(i),X=_.endsWith(i);if(U!==X)return U?-1:1;const Ce=uc(o,_);return Ce!==0?Ce:o.localeCompare(_)}function hc(u,t,i){const o=u.toLowerCase(),_=t.toLowerCase(),A=o.startsWith(i),U=_.startsWith(i);if(A!==U)return A?-1:1;if(A&&U){if(o.length<_.length)return-1;if(o.length>_.length)return 1}return 0}var iu=c(49898),nu=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},fc=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(U){U(A)})}return new(i||(i=Promise))(function(A,U){function X(Be){try{Ie(o.next(Be))}catch(tt){U(tt)}}function Ce(Be){try{Ie(o.throw(Be))}catch(tt){U(tt)}}function Ie(Be){Be.done?A(Be.value):_(Be.value).then(X,Ce)}Ie((o=o.apply(u,t||[])).next())})};const oa=it.$;class gc{constructor(t){this.hidden=!1,this._onChecked=new Q.Q5,this.onChecked=this._onChecked.event,Object.assign(this,t)}get checked(){return!!this._checked}set checked(t){t!==this._checked&&(this._checked=t,this._onChecked.fire(t))}dispose(){this._onChecked.dispose()}}class Ja{get templateId(){return Ja.ID}renderTemplate(t){const i=Object.create(null);i.toDisposeElement=[],i.toDisposeTemplate=[],i.entry=it.R3(t,oa(".quick-input-list-entry"));const o=it.R3(i.entry,oa("label.quick-input-list-label"));i.toDisposeTemplate.push(it.mu(o,it.tw.CLICK,Ie=>{i.checkbox.offsetParent||Ie.preventDefault()})),i.checkbox=it.R3(o,oa("input.quick-input-list-checkbox")),i.checkbox.type="checkbox",i.toDisposeTemplate.push(it.mu(i.checkbox,it.tw.CHANGE,Ie=>{i.element.checked=i.checkbox.checked}));const _=it.R3(o,oa(".quick-input-list-rows")),A=it.R3(_,oa(".quick-input-list-row")),U=it.R3(_,oa(".quick-input-list-row"));i.label=new dc.g(A,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const X=it.R3(A,oa(".quick-input-list-entry-keybinding"));i.keybinding=new ud(X,Xi.OS);const Ce=it.R3(U,oa(".quick-input-list-label-meta"));return i.detail=new lc.q(Ce,!0),i.separator=it.R3(i.entry,oa(".quick-input-list-separator")),i.actionBar=new Vs.o(i.entry),i.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),i.toDisposeTemplate.push(i.actionBar),i}renderElement(t,i,o){o.toDisposeElement=(0,Gt.B9)(o.toDisposeElement),o.element=t,o.checkbox.checked=t.checked,o.toDisposeElement.push(t.onChecked(Ie=>o.checkbox.checked=Ie));const{labelHighlights:_,descriptionHighlights:A,detailHighlights:U}=t,X=Object.create(null);X.matches=_||[],X.descriptionTitle=t.saneDescription,X.descriptionMatches=A||[],X.extraClasses=t.item.iconClasses,X.italic=t.item.italic,X.strikethrough=t.item.strikethrough,o.label.setLabel(t.saneLabel,t.saneDescription,X),o.keybinding.set(t.item.keybinding),o.detail.set(t.saneDetail,U),t.separator&&t.separator.label?(o.separator.textContent=t.separator.label,o.separator.style.display=""):o.separator.style.display="none",o.entry.classList.toggle("quick-input-list-separator-border",!!t.separator),o.actionBar.clear();const Ce=t.item.buttons;Ce&&Ce.length?(o.actionBar.push(Ce.map((Ie,Be)=>{let tt=Ie.iconClass||(Ie.iconPath?dd(Ie.iconPath):void 0);Ie.alwaysVisible&&(tt=tt?`${tt} always-visible`:"always-visible");const zt=new ys.aU(`id-${Be}`,"",tt,!0,()=>fc(this,void 0,void 0,function*(){t.fireButtonTriggered({button:Ie,item:t.item})}));return zt.tooltip=Ie.tooltip||"",zt}),{icon:!0,label:!1}),o.entry.classList.add("has-actions")):o.entry.classList.remove("has-actions")}disposeElement(t,i,o){o.toDisposeElement=(0,Gt.B9)(o.toDisposeElement)}disposeTemplate(t){t.toDisposeElement=(0,Gt.B9)(t.toDisposeElement),t.toDisposeTemplate=(0,Gt.B9)(t.toDisposeTemplate)}}Ja.ID="listelement";class mc{getHeight(t){return t.saneDetail?44:22}getTemplateId(t){return Ja.ID}}var nr;(function(u){u[u.First=1]="First",u[u.Second=2]="Second",u[u.Last=3]="Last",u[u.Next=4]="Next",u[u.Previous=5]="Previous",u[u.NextPage=6]="NextPage",u[u.PreviousPage=7]="PreviousPage"})(nr||(nr={}));class cd{constructor(t,i,o){this.parent=t,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new Q.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new Q.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new Q.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new Q.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new Q.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new Q.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new Q.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=i,this.container=it.R3(this.parent,oa(".quick-input-list"));const _=new mc,A=new _c;this.list=o.createList("QuickInput",this.container,_,[new Ja],{identityProvider:{getId:U=>U.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:A}),this.list.getHTMLElement().id=i,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(U=>{const X=new Kt.y(U);switch(X.keyCode){case 10:this.toggleCheckbox();break;case 31:(Xi.dz?U.metaKey:U.ctrlKey)&&this.list.setFocus((0,co.w6)(this.list.length));break;case 16:const Ce=this.list.getFocus();Ce.length===1&&Ce[0]===0&&this._onLeave.fire();break;case 18:const Ie=this.list.getFocus();Ie.length===1&&Ie[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(X)})),this.disposables.push(this.list.onMouseDown(U=>{U.browserEvent.button!==2&&U.browserEvent.preventDefault()})),this.disposables.push(it.nm(this.container,it.tw.CLICK,U=>{(U.x||U.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(U=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(U=>{typeof U.index=="number"&&(U.browserEvent.preventDefault(),this.list.setSelection([U.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return Q.ju.map(this.list.onDidChangeFocus,t=>t.elements.map(i=>i.item))}get onDidChangeSelection(){return Q.ju.map(this.list.onDidChangeSelection,t=>({items:t.elements.map(i=>i.item),event:t.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(t){this.list.scrollTop=t}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(t,i=!0){for(let o=0,_=t.length;o<_;o++){const A=t[o];if(!A.hidden)if(A.checked)i=!0;else return!1}return i}getCheckedCount(){let t=0;const i=this.elements;for(let o=0,_=i.length;o<_;o++)i[o].checked&&t++;return t}getVisibleCount(){let t=0;const i=this.elements;for(let o=0,_=i.length;o<_;o++)i[o].hidden||t++;return t}setAllVisibleChecked(t){try{this._fireCheckedEvents=!1,this.elements.forEach(i=>{i.hidden||(i.checked=t)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(t){this.elementDisposables=(0,Gt.B9)(this.elementDisposables);const i=o=>this.fireButtonTriggered(o);this.inputElements=t,this.elements=t.reduce((o,_,A)=>{var U,X,Ce;if(_.type!=="separator"){const Ie=A&&t[A-1],Be=_.label&&_.label.replace(/\r?\n/g," "),tt=_.meta&&_.meta.replace(/\r?\n/g," "),zt=_.description&&_.description.replace(/\r?\n/g," "),xi=_.detail&&_.detail.replace(/\r?\n/g," "),ki=_.ariaLabel||[Be,zt,xi].map(en=>(0,Fs.JL)(en)).filter(en=>!!en).join(", ");o.push(new gc({index:A,item:_,saneLabel:Be,saneMeta:tt,saneAriaLabel:ki,saneDescription:zt,saneDetail:xi,labelHighlights:(U=_.highlights)===null||U===void 0?void 0:U.label,descriptionHighlights:(X=_.highlights)===null||X===void 0?void 0:X.description,detailHighlights:(Ce=_.highlights)===null||Ce===void 0?void 0:Ce.detail,checked:!1,separator:Ie&&Ie.type==="separator"?Ie:void 0,fireButtonTriggered:i}))}return o},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(o=>o.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((o,_,A)=>(o.set(_.item,A),o),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(t=>t.item)}setFocusedElements(t){if(this.list.setFocus(t.filter(i=>this.elementsToIndexes.has(i)).map(i=>this.elementsToIndexes.get(i))),t.length>0){const i=this.list.getFocus()[0];typeof i=="number"&&this.list.reveal(i)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(t){this.list.setSelection(t.filter(i=>this.elementsToIndexes.has(i)).map(i=>this.elementsToIndexes.get(i)))}getCheckedElements(){return this.elements.filter(t=>t.checked).map(t=>t.item)}setCheckedElements(t){try{this._fireCheckedEvents=!1;const i=new Set;for(const o of t)i.add(o);for(const o of this.elements)o.checked=i.has(o.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(t){this.list.getHTMLElement().style.pointerEvents=t?"":"none"}focus(t){if(!this.list.length)return;switch(t===nr.Next&&this.list.getFocus()[0]===this.list.length-1&&(t=nr.First),t===nr.Previous&&this.list.getFocus()[0]===0&&(t=nr.Last),t===nr.Second&&this.list.length<2&&(t=nr.First),t){case nr.First:this.list.focusFirst();break;case nr.Second:this.list.focusNth(1);break;case nr.Last:this.list.focusLast();break;case nr.Next:this.list.focusNext();break;case nr.Previous:this.list.focusPrevious();break;case nr.NextPage:this.list.focusNextPage();break;case nr.PreviousPage:this.list.focusPreviousPage();break}const i=this.list.getFocus()[0];typeof i=="number"&&this.list.reveal(i)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(t){this.list.getHTMLElement().style.maxHeight=t?`calc(${Math.floor(t/44)*44}px)`:"",this.list.layout()}filter(t){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(t=t.trim(),!t||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(o=>{o.labelHighlights=void 0,o.descriptionHighlights=void 0,o.detailHighlights=void 0,o.hidden=!1;const _=o.index&&this.inputElements[o.index-1];o.separator=_&&_.type==="separator"?_:void 0});else{let o;this.elements.forEach(_=>{const A=this.matchOnLabel?(0,Vn.f6)((0,ca.Gt)(t,(0,ca.Ho)(_.saneLabel))):void 0,U=this.matchOnDescription?(0,Vn.f6)((0,ca.Gt)(t,(0,ca.Ho)(_.saneDescription||""))):void 0,X=this.matchOnDetail?(0,Vn.f6)((0,ca.Gt)(t,(0,ca.Ho)(_.saneDetail||""))):void 0,Ce=this.matchOnMeta?(0,Vn.f6)((0,ca.Gt)(t,(0,ca.Ho)(_.saneMeta||""))):void 0;if(A||U||X||Ce?(_.labelHighlights=A,_.descriptionHighlights=U,_.detailHighlights=X,_.hidden=!1):(_.labelHighlights=void 0,_.descriptionHighlights=void 0,_.detailHighlights=void 0,_.hidden=!_.item.alwaysShow),_.separator=void 0,!this.sortByLabel){const Ie=_.index&&this.inputElements[_.index-1];o=Ie&&Ie.type==="separator"?Ie:o,o&&!_.hidden&&(_.separator=o,o=void 0)}})}const i=this.elements.filter(o=>!o.hidden);if(this.sortByLabel&&t){const o=t.toLowerCase();i.sort((_,A)=>pc(_,A,o))}return this.elementsToIndexes=i.reduce((o,_,A)=>(o.set(_.item,A),o),new Map),this.list.splice(0,this.list.length,i),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(i.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const t=this.list.getFocusedElements(),i=this.allVisibleChecked(t);for(const o of t)o.checked=!i}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(t){this.container.style.display=t?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,Gt.B9)(this.elementDisposables),this.disposables=(0,Gt.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(t){this._onButtonTriggered.fire(t)}style(t){this.list.style(t)}}nu([iu.H],cd.prototype,"onDidChangeFocus",null),nu([iu.H],cd.prototype,"onDidChangeSelection",null);function pc(u,t,i){const o=u.labelHighlights||[],_=t.labelHighlights||[];return o.length&&!_.length?-1:!o.length&&_.length?1:o.length===0&&_.length===0?0:cc(u.saneLabel,t.saneLabel,i)}class _c{getWidgetAriaLabel(){return(0,Ve.N)("quickInput","Quick Input")}getAriaLabel(t){return t.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}var su=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(U){U(A)})}return new(i||(i=Promise))(function(A,U){function X(Be){try{Ie(o.next(Be))}catch(tt){U(tt)}}function Ce(Be){try{Ie(o.throw(Be))}catch(tt){U(tt)}}function Ie(Be){Be.done?A(Be.value):_(Be.value).then(X,Ce)}Ie((o=o.apply(u,t||[])).next())})};const Br=it.$,hd={iconClass:(0,Fs.CM)("quick-input-back",Fs.lA.arrowLeft).classNames,tooltip:(0,Ve.N)("quickInput.back","Back"),handle:-1};class xl extends Gt.JT{constructor(t){super(),this.ui=t,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=xl.noPromptMessage,this._severity=$i.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new Q.Q5),this.onDidHideEmitter=this._register(new Q.Q5),this.onDisposeEmitter=this._register(new Q.Q5),this.visibleDisposables=this._register(new Gt.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(t){this._title=t,this.update()}get description(){return this._description}set description(t){this._description=t,this.update()}get step(){return this._steps}set step(t){this._steps=t,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(t){this._totalSteps=t,this.update()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.update()}get contextKey(){return this._contextKey}set contextKey(t){this._contextKey=t,this.update()}get busy(){return this._busy}set busy(t){this._busy=t,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(t){const i=this._ignoreFocusOut!==t&&!Xi.gn;this._ignoreFocusOut=t&&!Xi.gn,i&&this.update()}get buttons(){return this._buttons}set buttons(t){this._buttons=t,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(t){this._validationMessage=t,this.update()}get severity(){return this._severity}set severity(t){this._severity=t,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(t=>{this.buttons.indexOf(t)!==-1&&this.onDidTriggerButtonEmitter.fire(t)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(t=Xa.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:t})}update(){if(!this.visible)return;const t=this.getTitle();t&&this.ui.title.textContent!==t?this.ui.title.textContent=t:!t&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const i=this.getDescription();if(this.ui.description1.textContent!==i&&(this.ui.description1.textContent=i),this.ui.description2.textContent!==i&&(this.ui.description2.textContent=i),this.busy&&!this.busyDelay&&(this.busyDelay=new Zn._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const _=this.buttons.filter(U=>U===hd);this.ui.leftActionBar.push(_.map((U,X)=>{const Ce=new ys.aU(`id-${X}`,"",U.iconClass||dd(U.iconPath),!0,()=>su(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(U)}));return Ce.tooltip=U.tooltip||"",Ce}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const A=this.buttons.filter(U=>U!==hd);this.ui.rightActionBar.push(A.map((U,X)=>{const Ce=new ys.aU(`id-${X}`,"",U.iconClass||dd(U.iconPath),!0,()=>su(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(U)}));return Ce.tooltip=U.tooltip||"",Ce}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const o=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==o&&(this._lastValidationMessage=o,it.mc(this.ui.message,...(0,Yd.T)(o))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,Ve.N)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(t){if(this.ui.inputBox.showDecoration(t),t!==$i.Z.Ignore){const i=this.ui.inputBox.stylesForType(t);this.ui.message.style.color=i.foreground?`${i.foreground}`:"",this.ui.message.style.backgroundColor=i.background?`${i.background}`:"",this.ui.message.style.border=i.border?`1px solid ${i.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}xl.noPromptMessage=(0,Ve.N)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class qa extends xl{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new Q.Q5),this.onWillAcceptEmitter=this._register(new Q.Q5),this.onDidAcceptEmitter=this._register(new Q.Q5),this.onDidCustomEmitter=this._register(new Q.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?ta.NONE:ta.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new Q.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new Q.Q5),this.onDidTriggerItemButtonEmitter=this._register(new Q.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=t=>t,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(t){this._quickNavigate=t,this.update()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(t){this._ariaLabel=t,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(t){this.ui.list.scrollTop=t}set items(t){this._items=t,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(t){this._canSelectMany=t,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(t){this._canAcceptInBackground=t}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(t){this._matchOnDescription=t,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(t){this._matchOnDetail=t,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(t){this._matchOnLabel=t,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(t){this._sortByLabel=t,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(t){this._autoFocusOnList=t,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(t){this._keepScrollPosition=t}get itemActivation(){return this._itemActivation}set itemActivation(t){this._itemActivation=t}get activeItems(){return this._activeItems}set activeItems(t){this._activeItems=t,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(t){this._selectedItems=t,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?sc:this.ui.keyMods}set valueSelection(t){this._valueSelection=t,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(t){this._customButton=t,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(t){this._customButtonLabel=t,this.update()}get customHover(){return this._customButtonHover}set customHover(t){this._customButtonHover=t,this.update()}get ok(){return this._ok}set ok(t){this._ok=t,this.update()}get hideInput(){return!!this._hideInput}set hideInput(t){this._hideInput=t,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(nr.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(t=>{if(t===this.value)return;this._value=t,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(t)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(t=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(t=>{switch(t.keyCode){case 18:this.ui.list.focus(nr.Next),this.canSelectMany&&this.ui.list.domFocus(),it.zB.stop(t,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(nr.Previous):this.ui.list.focus(nr.Last),this.canSelectMany&&this.ui.list.domFocus(),it.zB.stop(t,!0);break;case 12:this.ui.list.focus(nr.NextPage),this.canSelectMany&&this.ui.list.domFocus(),it.zB.stop(t,!0);break;case 11:this.ui.list.focus(nr.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),it.zB.stop(t,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(t.ctrlKey||t.metaKey)&&!t.shiftKey&&!t.altKey&&(this.ui.list.focus(nr.First),it.zB.stop(t,!0));break;case 13:(t.ctrlKey||t.metaKey)&&!t.shiftKey&&!t.altKey&&(this.ui.list.focus(nr.Last),it.zB.stop(t,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(t=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,co.fS)(t,this._activeItems,(i,o)=>i===o)||(this._activeItems=t,this.onDidChangeActiveEmitter.fire(t))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:t,event:i})=>{if(this.canSelectMany){t.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,co.fS)(t,this._selectedItems,(o,_)=>o===_)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t),t.length&&this.handleAccept(i instanceof MouseEvent&&i.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(t=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,co.fS)(t,this._selectedItems,(i,o)=>i===o)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(t=>this.onDidTriggerItemButtonEmitter.fire(t))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(t){let i=!1;this.onWillAcceptEmitter.fire({veto:()=>i=!0}),i||this.onDidAcceptEmitter.fire({inBackground:t})}registerQuickNavigation(){return it.nm(this.ui.container,it.tw.KEY_UP,t=>{if(this.canSelectMany||!this._quickNavigate)return;const i=new Kt.y(t),o=i.keyCode;this._quickNavigate.keybindings.some(U=>{const[X,Ce]=U.getParts();return Ce?!1:X.shiftKey&&o===4?!(i.ctrlKey||i.altKey||i.metaKey):!!(X.altKey&&o===6||X.ctrlKey&&o===5||X.metaKey&&o===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const t=this.keepScrollPosition?this.scrollTop:0,i=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",i&&!this.description);const o={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!i,progressBar:!i,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(o),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const _=this.ariaLabel||this.placeholder||qa.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==_&&(this.ui.inputBox.ariaLabel=_),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case ta.NONE:this._itemActivation=ta.FIRST;break;case ta.SECOND:this.ui.list.focus(nr.Second),this._itemActivation=ta.FIRST;break;case ta.LAST:this.ui.list.focus(nr.Last),this._itemActivation=ta.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),o.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(nr.First)),this.keepScrollPosition&&(this.scrollTop=t)}}qa.DEFAULT_ARIA_LABEL=(0,Ve.N)("quickInputBox.ariaLabel","Type to narrow down results.");class Nl extends Gt.JT{constructor(t){super(),this.options=t,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new Q.Q5),this.onDidCustomEmitter=this._register(new Q.Q5),this.onDidTriggerButtonEmitter=this._register(new Q.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new Q.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new Q.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=t.idPrefix,this.parentElement=t.container,this.styles=t.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const t=i=>{this.keyMods.ctrlCmd=i.ctrlKey||i.metaKey,this.keyMods.alt=i.altKey};this._register(it.nm(window,it.tw.KEY_DOWN,t,!0)),this._register(it.nm(window,it.tw.KEY_UP,t,!0)),this._register(it.nm(window,it.tw.MOUSE_DOWN,t,!0))}getUI(){if(this.ui)return this.ui;const t=it.R3(this.parentElement,Br(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const i=it.dS(t),o=it.R3(t,Br(".quick-input-titlebar")),_=this._register(new Vs.o(o));_.domNode.classList.add("quick-input-left-action-bar");const A=it.R3(o,Br(".quick-input-title")),U=this._register(new Vs.o(o));U.domNode.classList.add("quick-input-right-action-bar");const X=it.R3(t,Br(".quick-input-description")),Ce=it.R3(t,Br(".quick-input-header")),Ie=it.R3(Ce,Br("input.quick-input-check-all"));Ie.type="checkbox",this._register(it.mu(Ie,it.tw.CHANGE,es=>{const Qs=Ie.checked;Un.setAllVisibleChecked(Qs)})),this._register(it.nm(Ie,it.tw.CLICK,es=>{(es.x||es.y)&&xi.setFocus()}));const Be=it.R3(Ce,Br(".quick-input-description")),tt=it.R3(Ce,Br(".quick-input-and-message")),zt=it.R3(tt,Br(".quick-input-filter")),xi=this._register(new ac(zt));xi.setAttribute("aria-describedby",`${this.idPrefix}message`);const ki=it.R3(zt,Br(".quick-input-visible-count"));ki.setAttribute("aria-live","polite"),ki.setAttribute("aria-atomic","true");const en=new Xd.Z(ki,{countFormat:(0,Ve.N)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),Tn=it.R3(zt,Br(".quick-input-count"));Tn.setAttribute("aria-live","polite");const qn=new Xd.Z(Tn,{countFormat:(0,Ve.N)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),ss=it.R3(Ce,Br(".quick-input-action")),xn=new Qd(ss);xn.label=(0,Ve.N)("ok","OK"),this._register(xn.onDidClick(es=>{this.onDidAcceptEmitter.fire()}));const Wn=it.R3(Ce,Br(".quick-input-action")),io=new Qd(Wn);io.label=(0,Ve.N)("custom","Custom"),this._register(io.onDidClick(es=>{this.onDidCustomEmitter.fire()}));const ks=it.R3(tt,Br(`#${this.idPrefix}message.quick-input-message`)),Un=this._register(new cd(t,this.idPrefix+"list",this.options));this._register(Un.onChangedAllVisibleChecked(es=>{Ie.checked=es})),this._register(Un.onChangedVisibleCount(es=>{en.setCount(es)})),this._register(Un.onChangedCheckedCount(es=>{qn.setCount(es)})),this._register(Un.onLeave(()=>{setTimeout(()=>{xi.setFocus(),this.controller instanceof qa&&this.controller.canSelectMany&&Un.clearFocus()},0)})),this._register(Un.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const Pn=new tc(t);Pn.getContainer().classList.add("quick-input-progress");const Cs=it.go(t);return this._register(Cs),this._register(it.nm(t,it.tw.FOCUS,es=>{this.previousFocusElement=es.relatedTarget instanceof HTMLElement?es.relatedTarget:void 0},!0)),this._register(Cs.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Xa.Blur),this.previousFocusElement=void 0})),this._register(it.nm(t,it.tw.FOCUS,es=>{xi.setFocus()})),this._register(it.nm(t,it.tw.KEY_DOWN,es=>{const Qs=new Kt.y(es);switch(Qs.keyCode){case 3:it.zB.stop(es,!0),this.onDidAcceptEmitter.fire();break;case 9:it.zB.stop(es,!0),this.hide(Xa.Gesture);break;case 2:if(!Qs.altKey&&!Qs.ctrlKey&&!Qs.metaKey){const $o=[".action-label.codicon"];t.classList.contains("show-checkboxes")?$o.push("input"):$o.push("input[type=text]"),this.getUI().list.isDisplayed()&&$o.push(".monaco-list");const ws=t.querySelectorAll($o.join(", "));Qs.shiftKey&&Qs.target===ws[0]?(it.zB.stop(es,!0),ws[ws.length-1].focus()):!Qs.shiftKey&&Qs.target===ws[ws.length-1]&&(it.zB.stop(es,!0),ws[0].focus())}break}})),this.ui={container:t,styleSheet:i,leftActionBar:_,titleBar:o,title:A,description1:X,description2:Be,rightActionBar:U,checkAll:Ie,filterContainer:zt,inputBox:xi,visibleCountContainer:ki,visibleCount:en,countContainer:Tn,count:qn,okContainer:ss,ok:xn,message:ks,customButtonContainer:Wn,customButton:io,list:Un,progressBar:Pn,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:es=>this.show(es),hide:()=>this.hide(),setVisibilities:es=>this.setVisibilities(es),setComboboxAccessibility:es=>this.setComboboxAccessibility(es),setEnabled:es=>this.setEnabled(es),setContextKey:es=>this.options.setContextKey(es)},this.updateStyles(),this.ui}pick(t,i={},o=Y.T.None){return new Promise((_,A)=>{let U=Be=>{U=_,i.onKeyMods&&i.onKeyMods(X.keyMods),_(Be)};if(o.isCancellationRequested){U(void 0);return}const X=this.createQuickPick();let Ce;const Ie=[X,X.onDidAccept(()=>{if(X.canSelectMany)U(X.selectedItems.slice()),X.hide();else{const Be=X.activeItems[0];Be&&(U(Be),X.hide())}}),X.onDidChangeActive(Be=>{const tt=Be[0];tt&&i.onDidFocus&&i.onDidFocus(tt)}),X.onDidChangeSelection(Be=>{if(!X.canSelectMany){const tt=Be[0];tt&&(U(tt),X.hide())}}),X.onDidTriggerItemButton(Be=>i.onDidTriggerItemButton&&i.onDidTriggerItemButton(Object.assign(Object.assign({},Be),{removeItem:()=>{const tt=X.items.indexOf(Be.item);if(tt!==-1){const zt=X.items.slice(),xi=zt.splice(tt,1),ki=X.activeItems.filter(Tn=>Tn!==xi[0]),en=X.keepScrollPosition;X.keepScrollPosition=!0,X.items=zt,ki&&(X.activeItems=ki),X.keepScrollPosition=en}}}))),X.onDidChangeValue(Be=>{Ce&&!Be&&(X.activeItems.length!==1||X.activeItems[0]!==Ce)&&(X.activeItems=[Ce])}),o.onCancellationRequested(()=>{X.hide()}),X.onDidHide(()=>{(0,Gt.B9)(Ie),U(void 0)})];X.title=i.title,X.canSelectMany=!!i.canPickMany,X.placeholder=i.placeHolder,X.ignoreFocusOut=!!i.ignoreFocusLost,X.matchOnDescription=!!i.matchOnDescription,X.matchOnDetail=!!i.matchOnDetail,X.matchOnLabel=i.matchOnLabel===void 0||i.matchOnLabel,X.autoFocusOnList=i.autoFocusOnList===void 0||i.autoFocusOnList,X.quickNavigate=i.quickNavigate,X.contextKey=i.contextKey,X.busy=!0,Promise.all([t,i.activeItem]).then(([Be,tt])=>{Ce=tt,X.busy=!1,X.items=Be,X.canSelectMany&&(X.selectedItems=Be.filter(zt=>zt.type!=="separator"&&zt.picked)),Ce&&(X.activeItems=[Ce])}),X.show(),Promise.resolve(t).then(void 0,Be=>{A(Be),X.hide()})})}createQuickPick(){const t=this.getUI();return new qa(t)}show(t){const i=this.getUI();this.onShowEmitter.fire();const o=this.controller;this.controller=t,o&&o.didHide(),this.setEnabled(!0),i.leftActionBar.clear(),i.title.textContent="",i.description1.textContent="",i.description2.textContent="",i.rightActionBar.clear(),i.checkAll.checked=!1,i.inputBox.placeholder="",i.inputBox.password=!1,i.inputBox.showDecoration($i.Z.Ignore),i.visibleCount.setCount(0),i.count.setCount(0),it.mc(i.message),i.progressBar.stop(),i.list.setElements([]),i.list.matchOnDescription=!1,i.list.matchOnDetail=!1,i.list.matchOnLabel=!0,i.list.sortByLabel=!0,i.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),i.inputBox.ariaLabel="";const _=this.options.backKeybindingLabel();hd.tooltip=_?(0,Ve.N)("quickInput.backWithKeybinding","Back ({0})",_):(0,Ve.N)("quickInput.back","Back"),i.container.style.display="",this.updateLayout(),i.inputBox.setFocus()}setVisibilities(t){const i=this.getUI();i.title.style.display=t.title?"":"none",i.description1.style.display=t.description&&(t.inputBox||t.checkAll)?"":"none",i.description2.style.display=t.description&&!(t.inputBox||t.checkAll)?"":"none",i.checkAll.style.display=t.checkAll?"":"none",i.filterContainer.style.display=t.inputBox?"":"none",i.visibleCountContainer.style.display=t.visibleCount?"":"none",i.countContainer.style.display=t.count?"":"none",i.okContainer.style.display=t.ok?"":"none",i.customButtonContainer.style.display=t.customButton?"":"none",i.message.style.display=t.message?"":"none",i.progressBar.getContainer().style.display=t.progressBar?"":"none",i.list.display(!!t.list),i.container.classList[t.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(t){if(t!==this.comboboxAccessibility){const i=this.getUI();this.comboboxAccessibility=t,this.comboboxAccessibility?(i.inputBox.setAttribute("role","combobox"),i.inputBox.setAttribute("aria-haspopup","true"),i.inputBox.setAttribute("aria-autocomplete","list"),i.inputBox.setAttribute("aria-activedescendant",i.list.getActiveDescendant()||"")):(i.inputBox.removeAttribute("role"),i.inputBox.removeAttribute("aria-haspopup"),i.inputBox.removeAttribute("aria-autocomplete"),i.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(t){if(t!==this.enabled){this.enabled=t;for(const i of this.getUI().leftActionBar.viewItems)i.getAction().enabled=t;for(const i of this.getUI().rightActionBar.viewItems)i.getAction().enabled=t;this.getUI().checkAll.disabled=!t,this.getUI().ok.enabled=t,this.getUI().list.enabled=t}}hide(t){var i;const o=this.controller;if(o){const _=!(!((i=this.ui)===null||i===void 0)&&i.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",_||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),o.didHide(t)}}layout(t,i){this.dimension=t,this.titleBarOffset=i,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const t=this.ui.container.style,i=Math.min(this.dimension.width*.62,Nl.MAX_WIDTH);t.width=i+"px",t.marginLeft="-"+i/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(t){this.styles=t,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:t,quickInputBackground:i,quickInputForeground:o,contrastBorder:_,widgetShadow:A}=this.styles.widget;this.ui.titleBar.style.backgroundColor=t?t.toString():"",this.ui.container.style.backgroundColor=i?i.toString():"",this.ui.container.style.color=o?o.toString():"",this.ui.container.style.border=_?`1px solid ${_}`:"",this.ui.container.style.boxShadow=A?`0 0 8px 2px ${A}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const U=[];this.styles.list.pickerGroupBorder&&U.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&U.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(U.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&U.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&U.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&U.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&U.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&U.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),U.push("}"));const X=U.join(`
`);X!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=X)}}}Nl.MAX_WIDTH=600;var fd=c(88289),gd;(function(u){u[u.PRESERVE=0]="PRESERVE",u[u.LAST=1]="LAST"})(gd||(gd={}));const ou={Quickaccess:"workbench.contributions.quickaccess"};class vc{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(t){return t.prefix.length===0?this.defaultProvider=t:this.providers.push(t),this.providers.sort((i,o)=>o.prefix.length-i.prefix.length),(0,Gt.OF)(()=>{this.providers.splice(this.providers.indexOf(t),1),this.defaultProvider===t&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,co.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(t){return t&&this.providers.find(o=>t.startsWith(o.prefix))||void 0||this.defaultProvider}}Es.B.add(ou.Quickaccess,new vc);const ru=(0,os.yh)("quickInputService");var Cc=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},au=function(u,t){return function(i,o){t(i,o,u)}};let md=class extends Gt.JT{constructor(t,i){super(),this.quickInputService=t,this.instantiationService=i,this.registry=Es.B.as(ou.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(t="",i){this.doShowOrPick(t,!1,i)}doShowOrPick(t,i,o){var _;const[A,U]=this.getOrInstantiateProvider(t),X=this.visibleQuickAccess,Ce=X==null?void 0:X.descriptor;if(X&&U&&Ce===U){t!==U.prefix&&!(o!=null&&o.preserveValue)&&(X.picker.value=t),this.adjustValueSelection(X.picker,U,o);return}if(U&&!(o!=null&&o.preserveValue)){let ki;if(X&&Ce&&Ce!==U){const en=X.value.substr(Ce.prefix.length);en&&(ki=`${U.prefix}${en}`)}if(!ki){const en=A==null?void 0:A.defaultFilterValue;en===gd.LAST?ki=this.lastAcceptedPickerValues.get(U):typeof en=="string"&&(ki=`${U.prefix}${en}`)}typeof ki=="string"&&(t=ki)}const Ie=new Gt.SL,Be=Ie.add(this.quickInputService.createQuickPick());Be.value=t,this.adjustValueSelection(Be,U,o),Be.placeholder=U==null?void 0:U.placeholder,Be.quickNavigate=o==null?void 0:o.quickNavigateConfiguration,Be.hideInput=!!Be.quickNavigate&&!X,(typeof(o==null?void 0:o.itemActivation)=="number"||o!=null&&o.quickNavigateConfiguration)&&(Be.itemActivation=(_=o==null?void 0:o.itemActivation)!==null&&_!==void 0?_:ta.SECOND),Be.contextKey=U==null?void 0:U.contextKey,Be.filterValue=ki=>ki.substring(U?U.prefix.length:0),U!=null&&U.placeholder&&(Be.ariaLabel=U==null?void 0:U.placeholder);let tt,zt;i&&(tt=new Promise(ki=>zt=ki),Ie.add((0,fd.I)(Be.onWillAccept)(ki=>{ki.veto(),Be.hide()}))),Ie.add(this.registerPickerListeners(Be,A,U,t));const xi=Ie.add(new Y.A);if(A&&Ie.add(A.provide(Be,xi.token)),(0,fd.I)(Be.onDidHide)(()=>{Be.selectedItems.length===0&&xi.cancel(),Ie.dispose(),zt==null||zt(Be.selectedItems)}),Be.show(),i)return tt}adjustValueSelection(t,i,o){var _;let A;o!=null&&o.preserveValue?A=[t.value.length,t.value.length]:A=[(_=i==null?void 0:i.prefix.length)!==null&&_!==void 0?_:0,t.value.length],t.valueSelection=A}registerPickerListeners(t,i,o,_){const A=new Gt.SL,U=this.visibleQuickAccess={picker:t,descriptor:o,value:_};return A.add((0,Gt.OF)(()=>{U===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),A.add(t.onDidChangeValue(X=>{const[Ce]=this.getOrInstantiateProvider(X);Ce!==i?this.show(X,{preserveValue:!0}):U.value=X})),o&&A.add(t.onDidAccept(()=>{this.lastAcceptedPickerValues.set(o,t.value)})),A}getOrInstantiateProvider(t){const i=this.registry.getQuickAccessProvider(t);if(!i)return[void 0,void 0];let o=this.mapProviderToDescriptor.get(i);return o||(o=this.instantiationService.createInstance(i.ctor),this.mapProviderToDescriptor.set(i,o)),[o,i]}};md=Cc([au(0,ru),au(1,os.TG)],md);var bc=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},el=function(u,t){return function(i,o){t(i,o,u)}};let pd=class extends Fn.bB{constructor(t,i,o,_,A){super(o),this.instantiationService=t,this.contextKeyService=i,this.accessibilityService=_,this.layoutService=A,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(md))),this._quickAccess}createController(t=this.layoutService,i){var o,_;const A={idPrefix:"quickInput_",container:t.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:X=>this.setContextKey(X),returnFocus:()=>t.focus(),createList:(X,Ce,Ie,Be,tt)=>this.instantiationService.createInstance(td.ev,X,Ce,Ie,Be,tt),styles:this.computeStyles()},U=this._register(new Nl(Object.assign(Object.assign({},A),i)));return U.layout(t.dimension,(_=(o=t.offset)===null||o===void 0?void 0:o.top)!==null&&_!==void 0?_:0),this._register(t.onDidLayout(X=>{var Ce,Ie;return U.layout(X,(Ie=(Ce=t.offset)===null||Ce===void 0?void 0:Ce.top)!==null&&Ie!==void 0?Ie:0)})),this._register(U.onShow(()=>this.resetContextKeys())),this._register(U.onHide(()=>this.resetContextKeys())),U}setContextKey(t){let i;t&&(i=this.contexts.get(t),i||(i=new Dt.uy(t,!1).bindTo(this.contextKeyService),this.contexts.set(t,i))),!(i&&i.get())&&(this.resetContextKeys(),i&&i.set(!0))}resetContextKeys(){this.contexts.forEach(t=>{t.get()&&t.reset()})}pick(t,i={},o=Y.T.None){return this.controller.pick(t,i,o)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,va.o)(this.theme,{quickInputBackground:Wi.zK,quickInputForeground:Wi.tZ,quickInputTitleBackground:Wi.lo,contrastBorder:Wi.lR,widgetShadow:Wi.rh})),inputBox:(0,va.o)(this.theme,{inputForeground:Wi.zJ,inputBackground:Wi.sE,inputBorder:Wi.dt,inputValidationInfoBackground:Wi._l,inputValidationInfoForeground:Wi.YI,inputValidationInfoBorder:Wi.EP,inputValidationWarningBackground:Wi.RV,inputValidationWarningForeground:Wi.SU,inputValidationWarningBorder:Wi.C3,inputValidationErrorBackground:Wi.p,inputValidationErrorForeground:Wi._t,inputValidationErrorBorder:Wi.OZ}),countBadge:(0,va.o)(this.theme,{badgeBackground:Wi.g8,badgeForeground:Wi.qe,badgeBorder:Wi.lR}),button:(0,va.o)(this.theme,{buttonForeground:Wi.j5,buttonBackground:Wi.b7,buttonHoverBackground:Wi.GO,buttonBorder:Wi.lR}),progressBar:(0,va.o)(this.theme,{progressBarBackground:Wi.zR}),keybindingLabel:(0,va.o)(this.theme,{keybindingLabelBackground:Wi.oQ,keybindingLabelForeground:Wi.lW,keybindingLabelBorder:Wi.AW,keybindingLabelBottomBorder:Wi.K1,keybindingLabelShadow:Wi.rh}),list:(0,va.o)(this.theme,{listBackground:Wi.zK,listInactiveFocusForeground:Wi.NP,listInactiveSelectionIconForeground:Wi.cb,listInactiveFocusBackground:Wi.Vq,listFocusOutline:Wi.xL,listInactiveFocusOutline:Wi.xL,pickerGroupBorder:Wi.op,pickerGroupForeground:Wi.kJ})}}};pd=bc([el(0,os.TG),el(1,Dt.i6),el(2,Fn.XE),el(3,ye.F),el(4,vl)],pd);var lu=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var X=u.length-1;X>=0;X--)(U=u[X])&&(A=(_<3?U(A):_>3?U(t,i,A):U(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},Na=function(u,t){return function(i,o){t(i,o,u)}};let _d=class extends pd{constructor(t,i,o,_,A,U){super(i,o,_,A,U),this.host=void 0;const X=Ha.get(t);this.host={_serviceBrand:void 0,get container(){return X.widget.getDomNode()},get dimension(){return t.getLayoutInfo()},get onDidLayout(){return t.onDidLayoutChange},focus:()=>t.focus()}}createController(){return super.createController(this.host)}};_d=lu([Na(1,os.TG),Na(2,Dt.i6),Na(3,Fn.XE),Na(4,ye.F),Na(5,vl)],_d);let vd=class{constructor(t,i){this.instantiationService=t,this.codeEditorService=i,this.mapEditorToService=new Map}get activeService(){const t=this.codeEditorService.getFocusedCodeEditor();if(!t)throw new Error("Quick input service needs a focused editor to work.");let i=this.mapEditorToService.get(t);if(!i){const o=i=this.instantiationService.createInstance(_d,t);this.mapEditorToService.set(t,i),(0,fd.I)(t.onDidDispose)(()=>{o.dispose(),this.mapEditorToService.delete(t)})}return i}get quickAccess(){return this.activeService.quickAccess}pick(t,i={},o=Y.T.None){return this.activeService.pick(t,i,o)}createQuickPick(){return this.activeService.createQuickPick()}};vd=lu([Na(0,os.TG),Na(1,Mt.$)],vd);class Ha{constructor(t){this.editor=t,this.widget=new Tl(this.editor)}static get(t){return t.getContribution(Ha.ID)}dispose(){this.widget.dispose()}}Ha.ID="editor.controller.quickInput";class Tl{constructor(t){this.codeEditor=t,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return Tl.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}Tl.ID="editor.contrib.quickInputWidget",(0,Ps._K)(Ha.ID,Ha);var wo;(function(u){const t=new $s.y;class i{constructor(Ce,Ie){this._serviceId=Ce,this._factory=Ie,this._value=null}get id(){return this._serviceId}get(Ce){if(!this._value){if(Ce&&(this._value=Ce[this._serviceId.toString()]),this._value||(this._value=this._factory(Ce)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");t.set(this._serviceId,this._value)}return this._value}}u.LazyStaticService=i;let o=[];function _(X,Ce){let Ie=new i(X,Ce);return o.push(Ie),Ie}function A(X){let Ce=new $s.y;for(const[Be,tt]of(0,Hd.d)())Ce.set(Be,tt);for(let Be in X)X.hasOwnProperty(Be)&&Ce.set((0,os.yh)(Be),X[Be]);o.forEach(Be=>Ce.set(Be.id,Be.get(X)));let Ie=new Cl(Ce,!0);return Ce.set(os.TG,Ie),[Ce,Ie]}u.init=A,u.instantiationService=_(os.TG,()=>new Cl(t,!0));const U=new mn;u.configurationService=_(d.Ui,()=>U),u.resourceConfigurationService=_(vo,()=>new Kn(U)),u.resourcePropertiesService=_(rs,()=>new Nn(U)),u.contextService=_(oo.ec,()=>new _s),u.labelService=_(Uu.e,()=>new Qn),u.telemetryService=_(jo.b,()=>new vn),u.dialogService=_(Od,()=>new jt),u.notificationService=_(rn.lT,()=>new Ci),u.markerService=_(sa.lT,()=>new xa),u.modeService=_(Ri.h,X=>new Gr),u.standaloneThemeService=_(j,()=>new be),u.logService=_(Ws.VZ,()=>new Ws.$V(new Ws.kw)),u.undoRedoService=_(Mr.tJ,X=>new Dl(u.dialogService.get(X),u.notificationService.get(X))),u.languageConfigurationService=_(ct.c_,X=>new ct.UU(u.configurationService.get(X),u.modeService.get(X))),u.modelService=_(hs.q,X=>new Ra(u.configurationService.get(X),u.resourcePropertiesService.get(X),u.standaloneThemeService.get(X),u.logService.get(X),u.undoRedoService.get(X),u.modeService.get(X),u.languageConfigurationService.get(X))),u.markerDecorationsService=_(ju.i,X=>new sd(u.modelService.get(X),u.markerService.get(X))),u.contextKeyService=_(Dt.i6,X=>new bn(u.configurationService.get(X))),u.codeEditorService=_(Mt.$,X=>new kn(null,u.contextKeyService.get(X),u.standaloneThemeService.get(X))),u.editorProgressService=_(eo.e,()=>new Ft),u.storageService=_(Bd.Uy,()=>new Bd.vm),u.editorWorkerService=_(Mn.p,X=>new qt(u.modelService.get(X),u.resourceConfigurationService.get(X),u.logService.get(X)))})(wo||(wo={}));class wc extends Gt.JT{constructor(t,i){super();const[o,_]=wo.init(i);this._serviceCollection=o,this._instantiationService=_;const A=this.get(d.Ui),U=this.get(rn.lT),X=this.get(jo.b),Ce=this.get(Fn.XE),Ie=this.get(Ws.VZ),Be=this.get(Dt.i6);let tt=(Tn,qn)=>{let ss=null;return i&&(ss=i[Tn.toString()]),ss||(ss=qn()),this._serviceCollection.set(Tn,ss),ss};tt(ye.F,()=>new od(Be,A)),tt(td.Lw,()=>new td.XN(Ce));let zt=tt(at.H,()=>new Ki(this._instantiationService)),xi=tt(ue.d,()=>this._register(new Ni(Be,zt,X,U,Ie,t))),ki=tt(vl,()=>new Rn(wo.codeEditorService.get(Mt.$),t));tt(ru,()=>new vd(_,wo.codeEditorService.get(Mt.$)));let en=tt($n.u,()=>this._register(new ed(ki)));tt(go.p,()=>new Qu),tt($n.i,()=>{const Tn=new ql(X,U,en,xi,Ce);return Tn.configure({blockMouse:!1}),this._register(Tn)}),tt(ee.co,()=>new id(zt)),tt(bs.vu,()=>new cs(wo.modelService.get(hs.q)))}get(t){let i=this._serviceCollection.get(t);if(!i)throw new Error("Missing service "+t);return i}set(t,i){this._serviceCollection.set(t,i)}has(t){return this._serviceCollection.has(t)}}function du(u,t,i){let o=new wc(u,t),_=null;o.has(ps.S)||(_=new xe(wo.modelService.get()),o.set(ps.S,_)),o.has(Ne.v4)||o.set(Ne.v4,new Qt(o.get(Mt.$),o.get(at.H)));let A=i(o);return _&&_.setEditor(A),A}function Sc(u,t,i){return du(u,i||{},o=>new Bs(u,t,o,o.get(os.TG),o.get(Mt.$),o.get(at.H),o.get(Dt.i6),o.get(ue.d),o.get($n.u),o.get(j),o.get(rn.lT),o.get(d.Ui),o.get(ye.F),o.get(hs.q),o.get(Ri.h)))}function yc(u){return wo.codeEditorService.get().onCodeEditorAdd(t=>{u(t)})}function Lc(u,t,i){return du(u,i||{},o=>new Vo(u,t,o,o.get(os.TG),o.get(Dt.i6),o.get(ue.d),o.get($n.u),o.get(Mn.p),o.get(Mt.$),o.get(j),o.get(rn.lT),o.get(d.Ui),o.get($n.i),o.get(eo.e),o.get(go.p)))}function Dc(u,t){return new oi(u,t)}function Ec(u,t,i){return Ao(wo.modelService.get(),wo.modeService.get(),u,t,i)}function Ic(u,t){wo.modelService.get().setMode(u,wo.modeService.get().create(t))}function xc(u,t,i){u&&wo.markerService.get().changeOne(t,u.uri,i)}function Nc(u){return wo.markerService.get().read(u)}function Tc(u){return wo.markerService.get().onMarkerChanged(u)}function Mc(u){return wo.modelService.get().getModel(u)}function Rc(){return wo.modelService.get().getModels()}function kc(u){return wo.modelService.get().onModelAdded(u)}function Ac(u){return wo.modelService.get().onModelRemoved(u)}function Oc(u){return wo.modelService.get().onModelModeChanged(t=>{u({model:t.model,oldLanguage:t.oldModeId})})}function Pc(u){return Rt(wo.modelService.get(),u)}function Fc(u,t){const i=wo.standaloneThemeService.get();return i.registerEditorContainer(u),Pi.colorizeElement(i,wo.modeService.get(),u,t)}function Bc(u,t,i){return wo.standaloneThemeService.get().registerEditorContainer(document.body),Pi.colorize(wo.modeService.get(),u,t,i)}function Wc(u,t,i=4){return wo.standaloneThemeService.get().registerEditorContainer(document.body),Pi.colorizeModelLine(u,t,i)}function Vc(u){let t=ii.RW.get(u);return t||{getInitialState:()=>Ui.nO,tokenize:(i,o,_,A)=>(0,Ui.Ri)(u,i,_,A)}}function Hc(u,t){wo.modeService.get().triggerMode(t);let o=Vc(t),_=(0,qi.uq)(u),A=[],U=o.getInitialState();for(let X=0,Ce=_.length;X<Ce;X++){let Ie=_[X],Be=o.tokenize(Ie,!0,U,0);A[X]=Be.tokens,U=Be.endState}return A}function zc(u,t){wo.standaloneThemeService.get().defineTheme(u,t)}function Uc(u){wo.standaloneThemeService.get().setTheme(u)}function $c(){(0,ls.P)()}function Kc(u,t){return at.P.registerCommand({id:u,handler:t})}function jc(){return{create:Sc,onDidCreateEditor:yc,createDiffEditor:Lc,createDiffNavigator:Dc,createModel:Ec,setModelLanguage:Ic,setModelMarkers:xc,getModelMarkers:Nc,onDidChangeMarkers:Tc,getModels:Rc,getModel:Mc,onDidCreateModel:kc,onWillDisposeModel:Ac,onDidChangeModelLanguage:Oc,createWebWorker:Pc,colorizeElement:Fc,colorize:Bc,colorizeModelLine:Wc,tokenize:Hc,defineTheme:zc,setTheme:Uc,remeasureFonts:$c,registerCommand:Kc,AccessibilitySupport:I,ContentWidgetPositionPreference:x,CursorChangeReason:w,DefaultEndOfLine:D,EditorAutoIndentStrategy:v,EditorOption:L,EndOfLinePreference:h,EndOfLineSequence:R,MinimapPosition:ve,MouseTargetType:De,OverlayWidgetPositionPreference:le,OverviewRulerLane:Z,RenderLineNumbersType:$,RenderMinimap:G,ScrollbarVisibility:p,ScrollType:q,TextEditorCursorBlinkingStyle:de,TextEditorCursorStyle:Pe,TrackedRangeStickiness:Me,WrappingIndent:nt,ConfigurationChangedEvent:g.Bb,BareFontInfo:$e.E4,FontInfo:$e.pR,TextModelResolvedOptions:wi.dJ,FindMatch:wi.tk,EditorType:Xe.g,EditorOptions:g.BH}}function Gc(u,t){if(!t||!Array.isArray(t))return!1;for(const i of t)if(!u(i))return!1;return!0}function Ml(u,t){return typeof u=="boolean"?u:t}function uu(u,t){return typeof u=="string"?u:t}function Zc(u){const t={};for(const i of u)t[i]=!0;return t}function cu(u,t=!1){t&&(u=u.map(function(o){return o.toLowerCase()}));const i=Zc(u);return t?function(o){return i[o.toLowerCase()]!==void 0&&i.hasOwnProperty(o.toLowerCase())}:function(o){return i[o]!==void 0&&i.hasOwnProperty(o)}}function Cd(u,t){t=t.replace(/@@/g,"");let i=0,o;do o=!1,t=t.replace(/@(\w+)/g,function(A,U){o=!0;let X="";if(typeof u[U]=="string")X=u[U];else if(u[U]&&u[U]instanceof RegExp)X=u[U].source;else throw u[U]===void 0?yi(u,"language definition does not contain attribute '"+U+"', used at: "+t):yi(u,"attribute reference '"+U+"' must be a string, used at: "+t);return Ei(X)?"":"(?:"+X+")"}),i++;while(o&&i<5);t=t.replace(/\x01/g,"@");let _=(u.ignoreCase?"i":"")+(u.unicode?"u":"");return new RegExp(t,_)}function Yc(u,t,i,o){if(o<0)return u;if(o<t.length)return t[o];if(o>=100){o=o-100;let _=i.split(".");if(_.unshift(i),o<_.length)return _[o]}return null}function Qc(u,t,i,o){let _=-1,A=i,U=i.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);U&&(U[3]&&(_=parseInt(U[3]),U[2]&&(_=_+100)),A=U[4]);let X="~",Ce=A;!A||A.length===0?(X="!=",Ce=""):/^\w*$/.test(Ce)?X="==":(U=A.match(/^(@|!@|~|!~|==|!=)(.*)$/),U&&(X=U[1],Ce=U[2]));let Ie;if((X==="~"||X==="!~")&&/^(\w|\|)*$/.test(Ce)){let Be=cu(Ce.split("|"),u.ignoreCase);Ie=function(tt){return X==="~"?Be(tt):!Be(tt)}}else if(X==="@"||X==="!@"){let Be=u[Ce];if(!Be)throw yi(u,"the @ match target '"+Ce+"' is not defined, in rule: "+t);if(!Gc(function(zt){return typeof zt=="string"},Be))throw yi(u,"the @ match target '"+Ce+"' must be an array of strings, in rule: "+t);let tt=cu(Be,u.ignoreCase);Ie=function(zt){return X==="@"?tt(zt):!tt(zt)}}else if(X==="~"||X==="!~")if(Ce.indexOf("$")<0){let Be=Cd(u,"^"+Ce+"$");Ie=function(tt){return X==="~"?Be.test(tt):!Be.test(tt)}}else Ie=function(Be,tt,zt,xi){return Cd(u,"^"+nn(u,Ce,tt,zt,xi)+"$").test(Be)};else if(Ce.indexOf("$")<0){let Be=li(u,Ce);Ie=function(tt){return X==="=="?tt===Be:tt!==Be}}else{let Be=li(u,Ce);Ie=function(tt,zt,xi,ki,en){let Tn=nn(u,Be,zt,xi,ki);return X==="=="?tt===Tn:tt!==Tn}}return _===-1?{name:i,value:o,test:function(Be,tt,zt,xi){return Ie(Be,Be,tt,zt,xi)}}:{name:i,value:o,test:function(Be,tt,zt,xi){let ki=Yc(Be,tt,zt,_);return Ie(ki||"",Be,tt,zt,xi)}}}function bd(u,t,i){if(i){if(typeof i=="string")return i;if(i.token||i.token===""){if(typeof i.token!="string")throw yi(u,"a 'token' attribute must be of type string, in rule: "+t);{let o={token:i.token};if(i.token.indexOf("$")>=0&&(o.tokenSubst=!0),typeof i.bracket=="string")if(i.bracket==="@open")o.bracket=1;else if(i.bracket==="@close")o.bracket=-1;else throw yi(u,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);if(i.next){if(typeof i.next!="string")throw yi(u,"the next state must be a string value in rule: "+t);{let _=i.next;if(!/^(@pop|@push|@popall)$/.test(_)&&(_[0]==="@"&&(_=_.substr(1)),_.indexOf("$")<0&&!Sn(u,nn(u,_,"",[],""))))throw yi(u,"the next state '"+i.next+"' is not defined in rule: "+t);o.next=_}}return typeof i.goBack=="number"&&(o.goBack=i.goBack),typeof i.switchTo=="string"&&(o.switchTo=i.switchTo),typeof i.log=="string"&&(o.log=i.log),typeof i.nextEmbedded=="string"&&(o.nextEmbedded=i.nextEmbedded,u.usesEmbedded=!0),o}}else if(Array.isArray(i)){let o=[];for(let _=0,A=i.length;_<A;_++)o[_]=bd(u,t,i[_]);return{group:o}}else if(i.cases){let o=[];for(let A in i.cases)if(i.cases.hasOwnProperty(A)){const U=bd(u,t,i.cases[A]);A==="@default"||A==="@"||A===""?o.push({test:void 0,value:U,name:A}):A==="@eos"?o.push({test:function(X,Ce,Ie,Be){return Be},value:U,name:A}):o.push(Qc(u,t,A,U))}const _=u.defaultToken;return{test:function(A,U,X,Ce){for(const Ie of o)if(!Ie.test||Ie.test(A,U,X,Ce))return Ie.value;return _}}}else throw yi(u,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}else return{token:""}}class Xc{constructor(t){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=t}setRegex(t,i){let o;if(typeof i=="string")o=i;else if(i instanceof RegExp)o=i.source;else throw yi(t,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=o.length>0&&o[0]==="^",this.name=this.name+": "+o,this.regex=Cd(t,"^(?:"+(this.matchOnlyAtLineStart?o.substr(1):o)+")")}setAction(t,i){this.action=bd(t,this.name,i)}}function Jc(u,t){if(!t||typeof t!="object")throw new Error("Monarch: expecting a language definition object");let i={};i.languageId=u,i.includeLF=Ml(t.includeLF,!1),i.noThrow=!1,i.maxStack=100,i.start=typeof t.start=="string"?t.start:null,i.ignoreCase=Ml(t.ignoreCase,!1),i.unicode=Ml(t.unicode,!1),i.tokenPostfix=uu(t.tokenPostfix,"."+i.languageId),i.defaultToken=uu(t.defaultToken,"source"),i.usesEmbedded=!1;let o=t;o.languageId=u,o.includeLF=i.includeLF,o.ignoreCase=i.ignoreCase,o.unicode=i.unicode,o.noThrow=i.noThrow,o.usesEmbedded=i.usesEmbedded,o.stateNames=t.tokenizer,o.defaultToken=i.defaultToken;function _(U,X,Ce){for(const Ie of Ce){let Be=Ie.include;if(Be){if(typeof Be!="string")throw yi(i,"an 'include' attribute must be a string at: "+U);if(Be[0]==="@"&&(Be=Be.substr(1)),!t.tokenizer[Be])throw yi(i,"include target '"+Be+"' is not defined at: "+U);_(U+"."+Be,X,t.tokenizer[Be])}else{const tt=new Xc(U);if(Array.isArray(Ie)&&Ie.length>=1&&Ie.length<=3)if(tt.setRegex(o,Ie[0]),Ie.length>=3)if(typeof Ie[1]=="string")tt.setAction(o,{token:Ie[1],next:Ie[2]});else if(typeof Ie[1]=="object"){const zt=Ie[1];zt.next=Ie[2],tt.setAction(o,zt)}else throw yi(i,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+U);else tt.setAction(o,Ie[1]);else{if(!Ie.regex)throw yi(i,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+U);Ie.name&&typeof Ie.name=="string"&&(tt.name=Ie.name),Ie.matchOnlyAtStart&&(tt.matchOnlyAtLineStart=Ml(Ie.matchOnlyAtLineStart,!1)),tt.setRegex(o,Ie.regex),tt.setAction(o,Ie.action)}X.push(tt)}}}if(!t.tokenizer||typeof t.tokenizer!="object")throw yi(i,"a language definition must define the 'tokenizer' attribute as an object");i.tokenizer=[];for(let U in t.tokenizer)if(t.tokenizer.hasOwnProperty(U)){i.start||(i.start=U);const X=t.tokenizer[U];i.tokenizer[U]=new Array,_("tokenizer."+U,i.tokenizer[U],X)}if(i.usesEmbedded=o.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw yi(i,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let A=[];for(let U of t.brackets){let X=U;if(X&&Array.isArray(X)&&X.length===3&&(X={token:X[2],open:X[0],close:X[1]}),X.open===X.close)throw yi(i,"open and close brackets in a 'brackets' attribute must be different: "+X.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof X.open=="string"&&typeof X.token=="string"&&typeof X.close=="string")A.push({token:X.token+i.tokenPostfix,open:li(i,X.open),close:li(i,X.close)});else throw yi(i,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return i.brackets=A,i.noThrow=!0,i}function qc(u){Jo.dQ.registerLanguage(u)}function eh(){let u=[];return u=u.concat(Jo.dQ.getLanguages()),u}function th(u){return wo.modeService.get().languageIdCodec.encodeLanguageId(u)}function ih(u,t){let i=wo.modeService.get().onDidEncounterLanguage(o=>{o===u&&(i.dispose(),t())});return i}function nh(u,t){const i=wo.modeService.get().validateLanguageId(u);if(!i)throw new Error(`Cannot set configuration for unknown language ${u}`);return ct.zu.register(i,t,100)}class sh{constructor(t,i){this._languageId=t,this._actual=i}getInitialState(){return this._actual.getInitialState()}tokenize(t,i,o,_){if(typeof this._actual.tokenize=="function")return tl.adaptTokenize(this._languageId,this._actual,t,o,_);throw new Error("Not supported!")}tokenize2(t,i,o){let _=this._actual.tokenizeEncoded(t,o);return new s.Hi(_.tokens,_.endState)}}class tl{constructor(t,i,o,_){this._languageId=t,this._actual=i,this._modeService=o,this._standaloneThemeService=_}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(t,i,o){let _=[],A=0;for(let U=0,X=t.length;U<X;U++){const Ce=t[U];let Ie=Ce.startIndex;U===0?Ie=0:Ie<A&&(Ie=A),_[U]=new s.WU(Ie+o,Ce.scopes,i),A=Ie}return _}static adaptTokenize(t,i,o,_,A){let U=i.tokenize(o,_),X=tl._toClassicTokens(U.tokens,t,A),Ce;return U.endState.equals(_)?Ce=_:Ce=U.endState,new s.hG(X,Ce)}tokenize(t,i,o,_){return tl.adaptTokenize(this._languageId,this._actual,t,o,_)}_toBinaryTokens(t,i,o){const _=t.encodeLanguageId(this._languageId),A=this._standaloneThemeService.getColorTheme().tokenTheme;let U=[],X=0,Ce=0;for(let Be=0,tt=i.length;Be<tt;Be++){const zt=i[Be],xi=A.match(_,zt.scopes);if(X>0&&U[X-1]===xi)continue;let ki=zt.startIndex;Be===0?ki=0:ki<Ce&&(ki=Ce),U[X++]=ki+o,U[X++]=xi,Ce=ki}let Ie=new Uint32Array(X);for(let Be=0;Be<X;Be++)Ie[Be]=U[Be];return Ie}tokenize2(t,i,o,_){let A=this._actual.tokenize(t,o),U=this._toBinaryTokens(this._modeService.languageIdCodec,A.tokens,_),X;return A.endState.equals(o)?X=o:X=A.endState,new s.Hi(U,X)}}function oh(u){return"tokenizeEncoded"in u}function hu(u){return u&&typeof u.then=="function"}function rh(u){if(u){const t=[null];for(let i=1,o=u.length;i<o;i++)t[i]=Jr.Il.fromHex(u[i]);wo.standaloneThemeService.get().setColorMapOverride(t)}else wo.standaloneThemeService.get().setColorMapOverride(null)}function ah(u,t){const i=wo.modeService.get().validateLanguageId(u);if(!i)throw new Error(`Cannot set tokens provider for unknown language ${u}`);const o=_=>oh(_)?new sh(i,_):new tl(i,_,wo.modeService.get(),wo.standaloneThemeService.get());return hu(t)?ii.RW.registerPromise(u,t.then(_=>o(_))):ii.RW.register(u,o(t))}function lh(u,t){const i=o=>Jt(wo.modeService.get(),wo.standaloneThemeService.get(),u,Jc(u,o));return hu(t)?ii.RW.registerPromise(u,t.then(o=>i(o))):ii.RW.register(u,i(t))}function dh(u,t){return ii.FL.register(u,t)}function uh(u,t){return ii.G0.register(u,t)}function ch(u,t){return ii.nD.register(u,t)}function hh(u,t){return ii.xp.register(u,{provideHover:(i,o,_)=>{let A=i.getWordAtPosition(o);return Promise.resolve(t.provideHover(i,o,_)).then(U=>{if(U)return!U.range&&A&&(U.range=new k.e(o.lineNumber,A.startColumn,o.lineNumber,A.endColumn)),U.range||(U.range=new k.e(o.lineNumber,o.column,o.lineNumber,o.column)),U})}})}function fh(u,t){return ii.vJ.register(u,t)}function gh(u,t){return ii.vH.register(u,t)}function mh(u,t){return ii.id.register(u,t)}function ph(u,t){return ii.Ct.register(u,t)}function _h(u,t){return ii.vI.register(u,t)}function vh(u,t){return ii.tA.register(u,t)}function Ch(u,t){return ii.He.register(u,t)}function bh(u,t,i){return ii.H9.register(u,{providedCodeActionKinds:i==null?void 0:i.providedCodeActionKinds,provideCodeActions:(o,_,A,U)=>{let X=wo.markerService.get().read({resource:o.uri}).filter(Ce=>k.e.areIntersectingOrTouching(Ce,_));return t.provideCodeActions(o,_,{markers:X,only:A.only},U)},resolveCodeAction:t.resolveCodeAction})}function wh(u,t){return ii.Az.register(u,t)}function Sh(u,t){return ii.vN.register(u,t)}function yh(u,t){return ii.ln.register(u,t)}function Lh(u,t){return ii.pM.register(u,t)}function Dh(u,t){return ii.KZ.register(u,t)}function Eh(u,t){return ii.OH.register(u,t)}function Ih(u,t){return ii.aC.register(u,t)}function xh(u,t){return ii.RN.register(u,t)}function Nh(u,t){return ii.AC.register(u,t)}function Th(u,t){return ii.wT.register(u,t)}function Mh(u,t){return ii.K7.register(u,t)}function Rh(u,t){return ii.zu.register(u,t)}function kh(u,t){return ii.mX.register(u,t)}function Ah(){return{register:qc,getLanguages:eh,onLanguage:ih,getEncodedLanguageId:th,setLanguageConfiguration:nh,setColorMap:rh,setTokensProvider:ah,setMonarchTokensProvider:lh,registerReferenceProvider:dh,registerRenameProvider:uh,registerCompletionItemProvider:Dh,registerSignatureHelpProvider:ch,registerHoverProvider:hh,registerDocumentSymbolProvider:fh,registerDocumentHighlightProvider:gh,registerLinkedEditingRangeProvider:mh,registerDefinitionProvider:ph,registerImplementationProvider:_h,registerTypeDefinitionProvider:vh,registerCodeLensProvider:Ch,registerCodeActionProvider:bh,registerDocumentFormattingEditProvider:wh,registerDocumentRangeFormattingEditProvider:Sh,registerOnTypeFormattingEditProvider:yh,registerLinkProvider:Lh,registerColorProvider:Eh,registerFoldingRangeProvider:Ih,registerDeclarationProvider:xh,registerSelectionRangeProvider:Nh,registerDocumentSemanticTokensProvider:Th,registerDocumentRangeSemanticTokensProvider:Mh,registerInlineCompletionsProvider:Rh,registerInlayHintsProvider:kh,DocumentHighlightKind:f,CompletionItemKind:C,CompletionItemTag:V,CompletionItemInsertTextRule:m,SymbolKind:te,SymbolTag:me,IndentAction:T,CompletionTriggerKind:r,SignatureHelpTriggerKind:B,InlayHintKind:W,InlineCompletionTriggerKind:K,FoldingRangeKind:ii.AD}}var Oh=c(93761),wd;g.BH.wrappingIndent.defaultValue=0,g.BH.glyphMargin.defaultValue=!1,g.BH.autoIndent.defaultValue=3,g.BH.overviewRulerLanes.defaultValue=2,Oh.xC.setFormatterSelector((u,t,i)=>Promise.resolve(u[0]));const xr=ht();xr.editor=jc(),xr.languages=Ah();const Ph=xr.CancellationTokenSource,Fh=xr.Emitter,Bh=xr.KeyCode,Wh=xr.KeyMod,Vh=xr.Position,Hh=xr.Range,zh=xr.Selection,Uh=xr.SelectionDirection,$h=xr.MarkerSeverity,Kh=xr.MarkerTag,jh=xr.Uri,Gh=xr.Token,Zh=xr.editor,Yh=xr.languages;(!((wd=Xi.li.MonacoEnvironment)===null||wd===void 0)&&wd.globalAPI||typeof define=="function"&&c.amdO)&&(self.monaco=xr),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},61460:function(Yt,Ue,c){"use strict";c.d(Ue,{Mj:function(){return g.languages},Q5:function(){return g.Emitter},Sf:function(){return g.Uri},ZL:function(){return g.MarkerSeverity},e6:function(){return g.Range},j6:function(){return g.editor}});var g=c(50048)},40605:function(Yt,Ue,c){"use strict";c.r(Ue),c.d(Ue,{cssDefaults:function(){return J},lessDefaults:function(){return P},scssDefaults:function(){return k}});var g=c(50048),Y=c(61460),Q=function(){function I(m,C,V){this._onDidChange=new Y.Q5,this._languageId=m,this.setOptions(C),this.setModeConfiguration(V)}return Object.defineProperty(I.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"diagnosticsOptions",{get:function(){return this.options},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),I.prototype.setOptions=function(m){this._options=m||Object.create(null),this._onDidChange.fire(this)},I.prototype.setDiagnosticsOptions=function(m){this.setOptions(m)},I.prototype.setModeConfiguration=function(m){this._modeConfiguration=m||Object.create(null),this._onDidChange.fire(this)},I}(),O={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},y={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},J=new Q("css",O,y),k=new Q("scss",O,y),P=new Q("less",O,y);Y.Mj.css={cssDefaults:J,lessDefaults:P,scssDefaults:k};function s(){return c.e(990).then(c.bind(c,44990))}Y.Mj.onLanguage("less",function(){s().then(function(I){return I.setupMode(P)})}),Y.Mj.onLanguage("scss",function(){s().then(function(I){return I.setupMode(k)})}),Y.Mj.onLanguage("css",function(){s().then(function(I){return I.setupMode(J)})})},47650:function(Yt,Ue,c){"use strict";c.d(Ue,{Mj:function(){return g.languages},Q5:function(){return g.Emitter},Sf:function(){return g.Uri},e6:function(){return g.Range},j6:function(){return g.editor}});var g=c(50048)},68423:function(Yt,Ue,c){"use strict";c.r(Ue),c.d(Ue,{handlebarDefaults:function(){return x},handlebarLanguageService:function(){return r},htmlDefaults:function(){return V},htmlLanguageService:function(){return C},razorDefaults:function(){return D},razorLanguageService:function(){return w},registerHTMLLanguageService:function(){return v}});var g=c(50048),Y=c(47650),Q=function(L,h,R,T){function W(K){return K instanceof R?K:new R(function(ie){ie(K)})}return new(R||(R=Promise))(function(K,ie){function ce(De){try{ve(T.next(De))}catch(le){ie(le)}}function _e(De){try{ve(T.throw(De))}catch(le){ie(le)}}function ve(De){De.done?K(De.value):W(De.value).then(ce,_e)}ve((T=T.apply(L,h||[])).next())})},O=function(L,h){var R={label:0,sent:function(){if(K[0]&1)throw K[1];return K[1]},trys:[],ops:[]},T,W,K,ie;return ie={next:ce(0),throw:ce(1),return:ce(2)},typeof Symbol=="function"&&(ie[Symbol.iterator]=function(){return this}),ie;function ce(ve){return function(De){return _e([ve,De])}}function _e(ve){if(T)throw new TypeError("Generator is already executing.");for(;R;)try{if(T=1,W&&(K=ve[0]&2?W.return:ve[0]?W.throw||((K=W.return)&&K.call(W),0):W.next)&&!(K=K.call(W,ve[1])).done)return K;switch(W=0,K&&(ve=[ve[0]&2,K.value]),ve[0]){case 0:case 1:K=ve;break;case 4:return R.label++,{value:ve[1],done:!1};case 5:R.label++,W=ve[1],ve=[0];continue;case 7:ve=R.ops.pop(),R.trys.pop();continue;default:if(K=R.trys,!(K=K.length>0&&K[K.length-1])&&(ve[0]===6||ve[0]===2)){R=0;continue}if(ve[0]===3&&(!K||ve[1]>K[0]&&ve[1]<K[3])){R.label=ve[1];break}if(ve[0]===6&&R.label<K[1]){R.label=K[1],K=ve;break}if(K&&R.label<K[2]){R.label=K[2],R.ops.push(ve);break}K[2]&&R.ops.pop(),R.trys.pop();continue}ve=h.call(L,R)}catch(De){ve=[6,De],W=0}finally{T=K=0}if(ve[0]&5)throw ve[1];return{value:ve[0]?ve[1]:void 0,done:!0}}},y=function(){function L(h,R,T){this._onDidChange=new Y.Q5,this._languageId=h,this.setOptions(R),this.setModeConfiguration(T)}return Object.defineProperty(L.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),L.prototype.setOptions=function(h){this._options=h||Object.create(null),this._onDidChange.fire(this)},L.prototype.setModeConfiguration=function(h){this._modeConfiguration=h||Object.create(null),this._onDidChange.fire(this)},L}(),J={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},k={format:J,suggest:{},data:{useDefaultDataProvider:!0}};function P(L){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:L===s,documentFormattingEdits:L===s,documentRangeFormattingEdits:L===s}}var s="html",I="handlebars",m="razor",C=v(s,k,P(s)),V=C.defaults,r=v(I,k,P(I)),x=r.defaults,w=v(m,k,P(m)),D=w.defaults;Y.Mj.html={htmlDefaults:V,razorDefaults:D,handlebarDefaults:x,htmlLanguageService:C,handlebarLanguageService:r,razorLanguageService:w,registerHTMLLanguageService:v};function f(){return c.e(570).then(c.bind(c,47570))}function v(L,h,R){var T=this;h===void 0&&(h=k),R===void 0&&(R=P(L));var W=new y(L,h,R),K,ie=Y.Mj.onLanguage(L,function(){return Q(T,void 0,void 0,function(){return O(this,function(ce){switch(ce.label){case 0:return[4,f()];case 1:return K=ce.sent().setupMode(W),[2]}})})});return{defaults:W,dispose:function(){ie.dispose(),K==null||K.dispose(),K=void 0}}}},61174:function(Yt,Ue,c){"use strict";c.d(Ue,{Mj:function(){return g.languages},Q5:function(){return g.Emitter},ZL:function(){return g.MarkerSeverity},e6:function(){return g.Range},j6:function(){return g.editor}});var g=c(50048)},72323:function(Yt,Ue,c){"use strict";c.r(Ue),c.d(Ue,{jsonDefaults:function(){return J}});var g=c(50048),Y=c(61174),Q=function(){function P(s,I,m){this._onDidChange=new Y.Q5,this._languageId=s,this.setDiagnosticsOptions(I),this.setModeConfiguration(m)}return Object.defineProperty(P.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),P.prototype.setDiagnosticsOptions=function(s){this._diagnosticsOptions=s||Object.create(null),this._onDidChange.fire(this)},P.prototype.setModeConfiguration=function(s){this._modeConfiguration=s||Object.create(null),this._onDidChange.fire(this)},P}(),O={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},y={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},J=new Q("json",O,y);Y.Mj.json={jsonDefaults:J};function k(){return c.e(603).then(c.bind(c,36603))}Y.Mj.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),Y.Mj.onLanguage("json",function(){k().then(function(P){return P.setupMode(J)})})},91429:function(Yt,Ue,c){"use strict";c.d(Ue,{Mj:function(){return g.languages},Q5:function(){return g.Emitter},Sf:function(){return g.Uri},ZL:function(){return g.MarkerSeverity},e6:function(){return g.Range},eB:function(){return g.MarkerTag},j6:function(){return g.editor}});var g=c(50048)},15422:function(Yt,Ue,c){"use strict";c.r(Ue),c.d(Ue,{JsxEmit:function(){return y},ModuleKind:function(){return O},ModuleResolutionKind:function(){return P},NewLineKind:function(){return J},ScriptTarget:function(){return k},getJavaScriptWorker:function(){return r},getTypeScriptWorker:function(){return V},javascriptDefaults:function(){return C},typescriptDefaults:function(){return m},typescriptVersion:function(){return I}});var g=c(50048),Y="4.4.4",Q=c(91429),O;(function(w){w[w.None=0]="None",w[w.CommonJS=1]="CommonJS",w[w.AMD=2]="AMD",w[w.UMD=3]="UMD",w[w.System=4]="System",w[w.ES2015=5]="ES2015",w[w.ESNext=99]="ESNext"})(O||(O={}));var y;(function(w){w[w.None=0]="None",w[w.Preserve=1]="Preserve",w[w.React=2]="React",w[w.ReactNative=3]="ReactNative",w[w.ReactJSX=4]="ReactJSX",w[w.ReactJSXDev=5]="ReactJSXDev"})(y||(y={}));var J;(function(w){w[w.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",w[w.LineFeed=1]="LineFeed"})(J||(J={}));var k;(function(w){w[w.ES3=0]="ES3",w[w.ES5=1]="ES5",w[w.ES2015=2]="ES2015",w[w.ES2016=3]="ES2016",w[w.ES2017=4]="ES2017",w[w.ES2018=5]="ES2018",w[w.ES2019=6]="ES2019",w[w.ES2020=7]="ES2020",w[w.ESNext=99]="ESNext",w[w.JSON=100]="JSON",w[w.Latest=99]="Latest"})(k||(k={}));var P;(function(w){w[w.Classic=1]="Classic",w[w.NodeJs=2]="NodeJs"})(P||(P={}));var s=function(){function w(D,f,v,L){this._onDidChange=new Q.Q5,this._onDidExtraLibsChange=new Q.Q5,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(D),this.setDiagnosticsOptions(f),this.setWorkerOptions(v),this.setInlayHintsOptions(L),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(w.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"inlayHintsOptions",{get:function(){return this._inlayHintsOptions},enumerable:!1,configurable:!0}),w.prototype.getExtraLibs=function(){return this._extraLibs},w.prototype.addExtraLib=function(D,f){var v=this,L;if(typeof f=="undefined"?L="ts:extralib-"+Math.random().toString(36).substring(2,15):L=f,this._extraLibs[L]&&this._extraLibs[L].content===D)return{dispose:function(){}};var h=1;return this._removedExtraLibs[L]&&(h=this._removedExtraLibs[L]+1),this._extraLibs[L]&&(h=this._extraLibs[L].version+1),this._extraLibs[L]={content:D,version:h},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var R=v._extraLibs[L];R&&R.version===h&&(delete v._extraLibs[L],v._removedExtraLibs[L]=h,v._fireOnDidExtraLibsChangeSoon())}}},w.prototype.setExtraLibs=function(D){for(var f in this._extraLibs)this._removedExtraLibs[f]=this._extraLibs[f].version;if(this._extraLibs=Object.create(null),D&&D.length>0)for(var v=0,L=D;v<L.length;v++){var h=L[v],f=h.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),R=h.content,T=1;this._removedExtraLibs[f]&&(T=this._removedExtraLibs[f]+1),this._extraLibs[f]={content:R,version:T}}this._fireOnDidExtraLibsChangeSoon()},w.prototype._fireOnDidExtraLibsChangeSoon=function(){var D=this;this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(function(){D._onDidExtraLibsChangeTimeout=-1,D._onDidExtraLibsChange.fire(void 0)},0))},w.prototype.getCompilerOptions=function(){return this._compilerOptions},w.prototype.setCompilerOptions=function(D){this._compilerOptions=D||Object.create(null),this._onDidChange.fire(void 0)},w.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},w.prototype.setDiagnosticsOptions=function(D){this._diagnosticsOptions=D||Object.create(null),this._onDidChange.fire(void 0)},w.prototype.setWorkerOptions=function(D){this._workerOptions=D||Object.create(null),this._onDidChange.fire(void 0)},w.prototype.setInlayHintsOptions=function(D){this._inlayHintsOptions=D||Object.create(null),this._onDidChange.fire(void 0)},w.prototype.setMaximumWorkerIdleTime=function(D){},w.prototype.setEagerModelSync=function(D){this._eagerModelSync=D},w.prototype.getEagerModelSync=function(){return this._eagerModelSync},w}(),I=Y,m=new s({allowNonTsExtensions:!0,target:k.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),C=new s({allowNonTsExtensions:!0,allowJs:!0,target:k.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),V=function(){return x().then(function(w){return w.getTypeScriptWorker()})},r=function(){return x().then(function(w){return w.getJavaScriptWorker()})};Q.Mj.typescript={ModuleKind:O,JsxEmit:y,NewLineKind:J,ScriptTarget:k,ModuleResolutionKind:P,typescriptVersion:I,typescriptDefaults:m,javascriptDefaults:C,getTypeScriptWorker:V,getJavaScriptWorker:r};function x(){return c.e(597).then(c.bind(c,81597))}Q.Mj.onLanguage("typescript",function(){return x().then(function(w){return w.setupTypeScript(m)})}),Q.Mj.onLanguage("javascript",function(){return x().then(function(w){return w.setupJavaScript(C)})})},63580:function(Yt,Ue,c){"use strict";c.d(Ue,{N:function(){return Y}});function g(Q,O){let y;return O.length===0?y=Q:y=Q.replace(/\{(\d+)\}/g,function(J,k){const P=k[0];return typeof O[P]!="undefined"?O[P]:J}),y}function Y(Q,O,...y){return g(O,y)}},31106:function(Yt,Ue,c){"use strict";c.d(Ue,{F:function(){return Q},U:function(){return O}});var g=c(38819),Y=c(72065);const Q=(0,Y.yh)("accessibilityService"),O=new g.uy("accessibilityModeEnabled",!1)},42499:function(Yt,Ue,c){"use strict";c.d(Ue,{Mm:function(){return _e},Id:function(){return le},vr:function(){return K}});var g=c(65321),Y=c(59069),Q=c(76033),O=c(10553),y=c(74741),J=c(4669);class k extends y.Wi{constructor($,G){super(),this._onDidChangeVisibility=this._register(new J.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,g.R3)($,(0,g.$)(".monaco-dropdown")),this._label=(0,g.R3)(this._element,(0,g.$)(".dropdown-label"));let q=G.labelRenderer;q||(q=S=>(S.textContent=G.label||"",null));for(const S of[g.tw.CLICK,g.tw.MOUSE_DOWN,O.t.Tap])this._register((0,g.nm)(this.element,S,B=>g.zB.stop(B,!0)));for(const S of[g.tw.MOUSE_DOWN,O.t.Tap])this._register((0,g.nm)(this._label,S,B=>{B instanceof MouseEvent&&B.detail>1||(this.visible?this.hide():this.show())}));this._register((0,g.nm)(this._label,g.tw.KEY_UP,S=>{const B=new Y.y(S);(B.equals(3)||B.equals(10))&&(g.zB.stop(S,!0),this.visible?this.hide():this.show())}));const p=q(this._label);p&&this._register(p),this._register(O.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class P extends k{constructor($,G){super($,G),this._actions=[],this._contextMenuProvider=G.contextMenuProvider,this.actions=G.actions||[],this.actionProvider=G.actionProvider,this.menuClassName=G.menuClassName||"",this.menuAsChild=!!G.menuAsChild}set menuOptions($){this._menuOptions=$}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions($){this._actions=$}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:$=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider($):void 0,getKeyBinding:$=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding($):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class s extends Q.Y{constructor($,G,q,p=Object.create(null)){super(null,$,p),this.actionItem=null,this._onDidChangeVisibility=this._register(new J.Q5),this.menuActionsOrProvider=G,this.contextMenuProvider=q,this.options=p,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render($){this.actionItem=$;const G=S=>{this.element=(0,g.R3)(S,(0,g.$)("a.action-label"));let B=[];return typeof this.options.classNames=="string"?B=this.options.classNames.split(/\s+/g).filter(te=>!!te):this.options.classNames&&(B=this.options.classNames),B.find(te=>te==="icon")||B.push("codicon"),this.element.classList.add(...B),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},q=Array.isArray(this.menuActionsOrProvider),p={contextMenuProvider:this.contextMenuProvider,labelRenderer:G,menuAsChild:this.options.menuAsChild,actions:q?this.menuActionsOrProvider:void 0,actionProvider:q?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new P($,p)),this._register(this.dropdownMenu.onDidChangeVisibility(S=>{var B;(B=this.element)===null||B===void 0||B.setAttribute("aria-expanded",`${S}`),this._onDidChangeVisibility.fire(S)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const S=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return S.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext($){super.setActionContext($),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=$:this.dropdownMenu.menuOptions={context:$})}updateEnabled(){var $,G;const q=!this.getAction().enabled;($=this.actionItem)===null||$===void 0||$.classList.toggle("disabled",q),(G=this.element)===null||G===void 0||G.classList.toggle("disabled",q)}}var I=c(8030),m=c(5976),C=c(1432),V=c(63580),r=c(84144),x=c(38819),w=c(5606),D=c(72065),f=c(91847),v=c(59422),L=c(87060),h=c(97781),R=function(Z,$,G,q){var p=arguments.length,S=p<3?$:q===null?q=Object.getOwnPropertyDescriptor($,G):q,B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(Z,$,G,q);else for(var te=Z.length-1;te>=0;te--)(B=Z[te])&&(S=(p<3?B(S):p>3?B($,G,S):B($,G))||S);return p>3&&S&&Object.defineProperty($,G,S),S},T=function(Z,$){return function(G,q){$(G,q,Z)}},W=function(Z,$,G,q){function p(S){return S instanceof G?S:new G(function(B){B(S)})}return new(G||(G=Promise))(function(S,B){function te(Pe){try{de(q.next(Pe))}catch(Me){B(Me)}}function me(Pe){try{de(q.throw(Pe))}catch(Me){B(Me)}}function de(Pe){Pe.done?S(Pe.value):p(Pe.value).then(te,me)}de((q=q.apply(Z,$||[])).next())})};function K(Z,$,G,q,p,S,B){const te=Z.getActions($);return ce(te,G,!1,typeof q=="string"?de=>de===q:q,p,S,B),ie(te)}function ie(Z){const $=new m.SL;for(const[,G]of Z)for(const q of G)$.add(q);return $}function ce(Z,$,G,q=te=>te==="navigation",p=Number.MAX_SAFE_INTEGER,S=()=>!1,B=!1){let te,me;Array.isArray($)?(te=$,me=$):(te=$.primary,me=$.secondary);const de=new Set;for(const[Pe,Me]of Z){let nt;q(Pe)?(nt=te,nt.length>0&&B&&nt.push(new y.Z0)):(nt=me,nt.length>0&&nt.push(new y.Z0));for(let It of Me){G&&(It=It instanceof r.U8&&It.alt?It.alt:It);const ht=nt.push(It);It instanceof y.wY&&de.add({group:Pe,action:It,index:ht-1})}}for(const{group:Pe,action:Me,index:nt}of de){const It=q(Pe)?te:me,ht=Me.actions;(ht.length<=1||It.length+ht.length-2<=p)&&S(Me,Pe,It.length)&&It.splice(nt,1,...ht)}if(te!==me&&te.length>p){const Pe=te.splice(p,te.length-p);me.unshift(...Pe,new y.Z0)}}let _e=class extends Q.g{constructor($,G,q,p,S){super(void 0,$,{icon:!!($.class||$.item.icon),label:!$.class&&!$.item.icon,draggable:G==null?void 0:G.draggable}),this._keybindingService=q,this._notificationService=p,this._contextKeyService=S,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new m.XK),this._altKey=g._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick($){return W(this,void 0,void 0,function*(){$.preventDefault(),$.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(G){this._notificationService.error(G)}})}render($){super.render($),$.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let G=!1,q=this._altKey.keyStatus.altKey||(C.ED||C.IJ)&&this._altKey.keyStatus.shiftKey;const p=()=>{const S=G&&q;S!==this._wantsAltCommand&&(this._wantsAltCommand=S,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(S=>{q=S.altKey||(C.ED||C.IJ)&&S.shiftKey,p()})),this._register((0,g.nm)($,"mouseleave",S=>{G=!1,p()})),this._register((0,g.nm)($,"mouseenter",S=>{G=!0,p()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const $=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),G=$&&$.getLabel(),q=this._commandAction.tooltip||this._commandAction.label;let p=G?(0,V.N)("titleAndKb","{0} ({1})",q,G):q;if(!this._wantsAltCommand&&this._menuItemAction.alt){const S=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,B=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),te=B&&B.getLabel(),me=te?(0,V.N)("titleAndKb","{0} ({1})",S,te):S;p+=`
[${I.xo.modifierLabels[C.OS].altKey}] ${me}`}this.label.title=p}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass($){var G;this._itemClassDispose.value=void 0;const{element:q,label:p}=this;if(!q||!p)return;const S=this._commandAction.checked&&(!((G=$.toggled)===null||G===void 0)&&G.icon)?$.toggled.icon:$.icon;if(S)if(h.kS.isThemeIcon(S)){const B=h.kS.asClassNameArray(S);p.classList.add(...B),this._itemClassDispose.value=(0,m.OF)(()=>{p.classList.remove(...B)})}else S.light&&p.style.setProperty("--menu-entry-icon-light",(0,g.wY)(S.light)),S.dark&&p.style.setProperty("--menu-entry-icon-dark",(0,g.wY)(S.dark)),p.classList.add("icon"),this._itemClassDispose.value=(0,m.OF)(()=>{p.classList.remove("icon"),p.style.removeProperty("--menu-entry-icon-light"),p.style.removeProperty("--menu-entry-icon-dark")})}};_e=R([T(2,f.d),T(3,v.lT),T(4,x.i6)],_e);let ve=class extends s{constructor($,G,q){var p,S;const B=Object.assign({},G!=null?G:Object.create(null),{menuAsChild:(p=G==null?void 0:G.menuAsChild)!==null&&p!==void 0?p:!1,classNames:(S=G==null?void 0:G.classNames)!==null&&S!==void 0?S:h.kS.isThemeIcon($.item.icon)?h.kS.asClassName($.item.icon):void 0});super($,{getActions:()=>$.actions},q,B)}render($){if(super.render($),this.element){$.classList.add("menu-entry");const{icon:G}=this._action.item;G&&!h.kS.isThemeIcon(G)&&(this.element.classList.add("icon"),G.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,g.wY)(G.light)),G.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,g.wY)(G.dark)))}}};ve=R([T(2,w.i)],ve);let De=class extends Q.Y{constructor($,G,q,p,S,B,te,me){var de,Pe,Me;super(null,$),this._keybindingService=q,this._notificationService=p,this._contextMenuService=S,this._menuService=B,this._instaService=te,this._storageService=me,this._container=null,this._storageKey=`${$.item.submenu._debugName}_lastActionId`;let nt,It=me.get(this._storageKey,1);It&&(nt=$.actions.find(Mt=>It===Mt.id)),nt||(nt=$.actions[0]),this._defaultAction=this._instaService.createInstance(_e,nt,void 0);const ht=Object.assign({},G!=null?G:Object.create(null),{menuAsChild:(de=G==null?void 0:G.menuAsChild)!==null&&de!==void 0?de:!0,classNames:(Pe=G==null?void 0:G.classNames)!==null&&Pe!==void 0?Pe:["codicon","codicon-chevron-down"],actionRunner:(Me=G==null?void 0:G.actionRunner)!==null&&Me!==void 0?Me:new y.Wi});this._dropdown=new s($,$.actions,this._contextMenuService,ht),this._dropdown.actionRunner.onDidRun(Mt=>{Mt.action instanceof r.U8&&this.update(Mt.action)})}update($){this._storageService.store(this._storageKey,$.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(_e,$,void 0),this._defaultAction.actionRunner=new class extends y.Wi{runAction(G,q){return W(this,void 0,void 0,function*(){yield G.run(void 0)})}},this._container&&this._defaultAction.render((0,g.Ce)(this._container,(0,g.$)(".action-container")))}setActionContext($){super.setActionContext($),this._defaultAction.setActionContext($),this._dropdown.setActionContext($)}render($){this._container=$,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const G=(0,g.$)(".action-container");this._defaultAction.render((0,g.R3)(this._container,G)),this._register((0,g.nm)(G,g.tw.KEY_DOWN,p=>{const S=new Y.y(p);S.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),S.stopPropagation())}));const q=(0,g.$)(".dropdown-action-container");this._dropdown.render((0,g.R3)(this._container,q)),this._register((0,g.nm)(q,g.tw.KEY_DOWN,p=>{var S;const B=new Y.y(p);B.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(S=this._defaultAction.element)===null||S===void 0||S.focus(),B.stopPropagation())}))}focus($){$?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable($){$?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};De=R([T(2,f.d),T(3,v.lT),T(4,w.i),T(5,r.co),T(6,D.TG),T(7,L.Uy)],De);function le(Z,$,G){return $ instanceof r.U8?Z.createInstance(_e,$,void 0):$ instanceof r.NZ?$.item.rememberDefaultAction?Z.createInstance(De,$,G):Z.createInstance(ve,$,G):void 0}},84144:function(Yt,Ue,c){"use strict";c.d(Ue,{BH:function(){return w},NZ:function(){return D},U8:function(){return f},co:function(){return x},eH:function(){return r},vr:function(){return V}});var g=c(74741),Y=c(73046),Q=c(4669),O=c(56899),y=c(5976),J=c(91741),k=c(94565),P=c(38819),s=c(72065),I=c(97781),m=function(v,L,h,R){var T=arguments.length,W=T<3?L:R===null?R=Object.getOwnPropertyDescriptor(L,h):R,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(v,L,h,R);else for(var ie=v.length-1;ie>=0;ie--)(K=v[ie])&&(W=(T<3?K(W):T>3?K(L,h,W):K(L,h))||W);return T>3&&W&&Object.defineProperty(L,h,W),W},C=function(v,L){return function(h,R){L(h,R,v)}};function V(v){return v.command!==void 0}class r{constructor(L){this.id=r._idPool++,this._debugName=L}}r._idPool=0,r.CommandPalette=new r("CommandPalette"),r.EditorContext=new r("EditorContext"),r.SimpleEditorContext=new r("SimpleEditorContext"),r.EditorContextCopy=new r("EditorContextCopy"),r.EditorContextPeek=new r("EditorContextPeek"),r.MenubarEditMenu=new r("MenubarEditMenu"),r.MenubarCopy=new r("MenubarCopy"),r.MenubarGoMenu=new r("MenubarGoMenu"),r.MenubarSelectionMenu=new r("MenubarSelectionMenu"),r.InlineCompletionsActions=new r("InlineCompletionsActions");const x=(0,s.yh)("menuService"),w=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Q.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:v=>v===r.CommandPalette}}addCommand(v){return this.addCommands(O.$.single(v))}addCommands(v){for(const L of v)this._commands.set(L.id,L);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,y.OF)(()=>{let L=!1;for(const h of v)L=this._commands.delete(h.id)||L;L&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(v){return this._commands.get(v)}getCommands(){const v=new Map;return this._commands.forEach((L,h)=>v.set(h,L)),v}appendMenuItem(v,L){return this.appendMenuItems(O.$.single({id:v,item:L}))}appendMenuItems(v){const L=new Set,h=new J.S;for(const{id:R,item:T}of v){let W=this._menuItems.get(R);W||(W=new J.S,this._menuItems.set(R,W)),h.push(W.push(T)),L.add(R)}return this._onDidChangeMenu.fire(L),(0,y.OF)(()=>{if(h.size>0){for(let R of h)R();this._onDidChangeMenu.fire(L),h.clear()}})}getMenuItems(v){let L;return this._menuItems.has(v)?L=[...this._menuItems.get(v)]:L=[],v===r.CommandPalette&&this._appendImplicitItems(L),L}_appendImplicitItems(v){const L=new Set;for(const h of v)V(h)&&(L.add(h.command.id),h.alt&&L.add(h.alt.id));this._commands.forEach((h,R)=>{L.has(R)||v.push({command:h})})}};class D extends g.wY{constructor(L,h,R,T){super(`submenuitem.${L.submenu.id}`,typeof L.title=="string"?L.title:L.title.value,[],"submenu"),this.item=L,this._menuService=h,this._contextKeyService=R,this._options=T}get actions(){const L=[],h=this._menuService.createMenu(this.item.submenu,this._contextKeyService),R=h.getActions(this._options);h.dispose();for(const[,T]of R)T.length>0&&(L.push(...T),L.push(new g.Z0));return L.length&&L.pop(),L}}let f=class ku{constructor(L,h,R,T,W){var K,ie;if(this._commandService=W,this.id=L.id,this.label=R!=null&&R.renderShortTitle&&L.shortTitle?typeof L.shortTitle=="string"?L.shortTitle:L.shortTitle.value:typeof L.title=="string"?L.title:L.title.value,this.tooltip=(ie=typeof L.tooltip=="string"?L.tooltip:(K=L.tooltip)===null||K===void 0?void 0:K.value)!==null&&ie!==void 0?ie:"",this.enabled=!L.precondition||T.contextMatchesRules(L.precondition),this.checked=void 0,L.toggled){const ce=L.toggled.condition?L.toggled:{condition:L.toggled};this.checked=T.contextMatchesRules(ce.condition),this.checked&&ce.tooltip&&(this.tooltip=typeof ce.tooltip=="string"?ce.tooltip:ce.tooltip.value),ce.title&&(this.label=typeof ce.title=="string"?ce.title:ce.title.value)}this.item=L,this.alt=h?new ku(h,void 0,R,T,W):void 0,this._options=R,I.kS.isThemeIcon(L.icon)&&(this.class=Y.dT.asClassName(L.icon))}dispose(){}run(...L){var h,R;let T=[];return!((h=this._options)===null||h===void 0)&&h.arg&&(T=[...T,this._options.arg]),!((R=this._options)===null||R===void 0)&&R.shouldForwardArgs&&(T=[...T,...L]),this._commandService.executeCommand(this.id,...T)}};f=m([C(3,P.i6),C(4,k.H)],f)},84972:function(Yt,Ue,c){"use strict";c.d(Ue,{p:function(){return Y}});var g=c(72065);const Y=(0,g.yh)("clipboardService")},94565:function(Yt,Ue,c){"use strict";c.d(Ue,{H:function(){return k},P:function(){return P}});var g=c(4669),Y=c(56899),Q=c(5976),O=c(91741),y=c(98401),J=c(72065);const k=(0,J.yh)("commandService"),P=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new g.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(s,I){if(!s)throw new Error("invalid command");if(typeof s=="string"){if(!I)throw new Error("invalid command");return this.registerCommand({id:s,handler:I})}if(s.description){const x=[];for(let D of s.description.args)x.push(D.constraint);const w=s.handler;s.handler=function(D,...f){return(0,y.D8)(f,x),w(D,...f)}}const{id:m}=s;let C=this._commands.get(m);C||(C=new O.S,this._commands.set(m,C));let V=C.unshift(s),r=(0,Q.OF)(()=>{V();const x=this._commands.get(m);x!=null&&x.isEmpty()&&this._commands.delete(m)});return this._onDidRegisterCommand.fire(m),r}registerCommandAlias(s,I){return P.registerCommand(s,(m,...C)=>m.get(k).executeCommand(I,...C))}getCommand(s){const I=this._commands.get(s);if(!(!I||I.isEmpty()))return Y.$.first(I)}getCommands(){const s=new Map;for(const I of this._commands.keys()){const m=this.getCommand(I);m&&s.set(I,m)}return s}};P.registerCommand("noop",()=>{})},33108:function(Yt,Ue,c){"use strict";c.d(Ue,{KV:function(){return J},MR:function(){return I},Mt:function(){return s},O4:function(){return m},Od:function(){return y},Ui:function(){return O},xL:function(){return k}});var g=c(23193),Y=c(72065),Q=c(89872);const O=(0,Y.yh)("configurationService");function y(C,V){const r=Object.create(null);for(let x in C)J(r,x,C[x],V);return r}function J(C,V,r,x){const w=V.split("."),D=w.pop();let f=C;for(let v=0;v<w.length;v++){let L=w[v],h=f[L];switch(typeof h){case"undefined":h=f[L]=Object.create(null);break;case"object":break;default:x(`Ignoring ${V} as ${w.slice(0,v+1).join(".")} is ${JSON.stringify(h)}`);return}f=h}if(typeof f=="object"&&f!==null)try{f[D]=r}catch(v){x(`Ignoring ${V} as ${w.join(".")} is ${JSON.stringify(f)}`)}else x(`Ignoring ${V} as ${w.join(".")} is ${JSON.stringify(f)}`)}function k(C,V){const r=V.split(".");P(C,r)}function P(C,V){const r=V.shift();if(V.length===0){delete C[r];return}if(Object.keys(C).indexOf(r)!==-1){const x=C[r];typeof x=="object"&&!Array.isArray(x)&&(P(x,V),Object.keys(x).length===0&&delete C[r])}}function s(C,V,r){function x(f,v){let L=f;for(const h of v){if(typeof L!="object"||L===null)return;L=L[h]}return L}const w=V.split("."),D=x(C,w);return typeof D=="undefined"?r:D}function I(){const C=Q.B.as(g.IP.Configuration).getConfigurationProperties();return Object.keys(C)}function m(){const C=Object.create(null),V=Q.B.as(g.IP.Configuration).getConfigurationProperties();for(let r in V){let x=V[r].default;J(C,r,x,w=>console.error(`Conflict in default settings: ${w}`))}return C}},23193:function(Yt,Ue,c){"use strict";c.d(Ue,{G1:function(){return D},IP:function(){return J},Uh:function(){return f}});var g=c(4669),Y=c(98401),Q=c(63580),O=c(81294),y=c(89872);const J={Configuration:"base.contributions.configuration"},k={properties:{},patternProperties:{}},P={properties:{},patternProperties:{}},s={properties:{},patternProperties:{}},I={properties:{},patternProperties:{}},m={properties:{},patternProperties:{}},C={properties:{},patternProperties:{}},V="vscode://schemas/settings/resourceLanguage",r=y.B.as(O.I.JSONContribution);class x{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new g.Q5,this._onDidUpdateConfiguration=new g.Q5,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:Q.N("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},r.registerSchema(V,this.resourceLanguageSettingsSchema)}registerConfiguration(T,W=!0){this.registerConfigurations([T],W)}registerConfigurations(T,W=!0){const K=this.doRegisterConfigurations(T,W);r.registerSchema(V,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(K)}registerOverrideIdentifiers(T){for(const W of T)this.overrideIdentifiers.add(W);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(T,W){const K=[];return T.forEach(ie=>{K.push(...this.validateAndRegisterProperties(ie,W,ie.extensionInfo)),this.configurationContributors.push(ie),this.registerJSONConfiguration(ie)}),K}validateAndRegisterProperties(T,W=!0,K,ie=3){var ce;ie=Y.Jp(T.scope)?ie:T.scope;let _e=[],ve=T.properties;if(ve)for(let le in ve){if(W&&h(le)){delete ve[le];continue}const Z=ve[le];if(this.updatePropertyDefaultValue(le,Z),D.test(le)?Z.scope=void 0:(Z.scope=Y.Jp(Z.scope)?ie:Z.scope,Z.restricted=Y.Jp(Z.restricted)?!!(!((ce=K==null?void 0:K.restrictedConfigurations)===null||ce===void 0)&&ce.includes(le)):Z.restricted),ve[le].hasOwnProperty("included")&&!ve[le].included){this.excludedConfigurationProperties[le]=ve[le],delete ve[le];continue}else this.configurationProperties[le]=ve[le];!ve[le].deprecationMessage&&ve[le].markdownDeprecationMessage&&(ve[le].deprecationMessage=ve[le].markdownDeprecationMessage),_e.push(le)}let De=T.allOf;if(De)for(let le of De)_e.push(...this.validateAndRegisterProperties(le,W,K,ie));return _e}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(T){const W=K=>{let ie=K.properties;if(ie)for(const _e in ie)this.updateSchema(_e,ie[_e]);let ce=K.allOf;ce&&ce.forEach(W)};W(T)}updateSchema(T,W){switch(k.properties[T]=W,W.scope){case 1:P.properties[T]=W;break;case 2:s.properties[T]=W;break;case 6:I.properties[T]=W;break;case 3:m.properties[T]=W;break;case 4:C.properties[T]=W;break;case 5:C.properties[T]=W,this.resourceLanguageSettingsSchema.properties[T]=W;break}}updateOverridePropertyPatternKey(){for(const T of this.overrideIdentifiers.values()){const W=`[${T}]`,K={type:"object",description:Q.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:Q.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:V};this.updatePropertyDefaultValue(W,K),k.properties[W]=K,P.properties[W]=K,s.properties[W]=K,I.properties[W]=K,m.properties[W]=K,C.properties[W]=K}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(T,W){let K=this.defaultValues[T];Y.o8(K)&&(K=W.default),Y.o8(K)&&(K=v(W.type)),W.default=K}}const w="\\[.*\\]$",D=new RegExp(w);function f(R){return R.substring(1,R.length-1)}function v(R){switch(Array.isArray(R)?R[0]:R){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const L=new x;y.B.add(J.Configuration,L);function h(R){return R.trim()?D.test(R)?Q.N("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",R):L.getConfigurationProperties()[R]!==void 0?Q.N("config.property.duplicate","Cannot register '{0}'. This property is already registered.",R):null:Q.N("config.property.empty","Cannot register an empty property")}},38819:function(Yt,Ue,c){"use strict";c.d(Ue,{Ao:function(){return k},Eq:function(){return De},Fb:function(){return P},K8:function(){return $},i6:function(){return ve},uy:function(){return _e}});var g=c(1432),Y=c(97295),Q=c(72065);let O=g.WE||"";const y=new Map;y.set("false",!1),y.set("true",!0),y.set("isMac",g.dz),y.set("isLinux",g.IJ),y.set("isWindows",g.ED),y.set("isWeb",g.$L),y.set("isMacNative",g.dz&&!g.$L),y.set("isEdge",O.indexOf("Edg/")>=0),y.set("isFirefox",O.indexOf("Firefox")>=0),y.set("isChrome",O.indexOf("Chrome")>=0),y.set("isSafari",O.indexOf("Safari")>=0);const J=Object.prototype.hasOwnProperty;class k{static has(p){return C.create(p)}static equals(p,S){return V.create(p,S)}static regex(p,S){return T.create(p,S)}static not(p){return D.create(p)}static and(...p){return ie.create(p,null)}static or(...p){return ce.create(p,null,!0)}static deserialize(p,S=!1){if(p)return this._deserializeOrExpression(p,S)}static _deserializeOrExpression(p,S){let B=p.split("||");return ce.create(B.map(te=>this._deserializeAndExpression(te,S)),null,!0)}static _deserializeAndExpression(p,S){let B=p.split("&&");return ie.create(B.map(te=>this._deserializeOne(te,S)),null)}static _deserializeOne(p,S){if(p=p.trim(),p.indexOf("!=")>=0){let B=p.split("!=");return w.create(B[0].trim(),this._deserializeValue(B[1],S))}if(p.indexOf("==")>=0){let B=p.split("==");return V.create(B[0].trim(),this._deserializeValue(B[1],S))}if(p.indexOf("=~")>=0){let B=p.split("=~");return T.create(B[0].trim(),this._deserializeRegexValue(B[1],S))}if(p.indexOf(" in ")>=0){let B=p.split(" in ");return r.create(B[0].trim(),B[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(p)){const B=p.split(">=");return L.create(B[0].trim(),B[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(p)){const B=p.split(">");return v.create(B[0].trim(),B[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(p)){const B=p.split("<=");return R.create(B[0].trim(),B[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(p)){const B=p.split("<");return h.create(B[0].trim(),B[1].trim())}return/^\!\s*/.test(p)?D.create(p.substr(1).trim()):C.create(p)}static _deserializeValue(p,S){if(p=p.trim(),p==="true")return!0;if(p==="false")return!1;let B=/^'([^']*)'$/.exec(p);return B?B[1].trim():p}static _deserializeRegexValue(p,S){if((0,Y.m5)(p)){if(S)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let B=p.indexOf("/"),te=p.lastIndexOf("/");if(B===te||B<0){if(S)throw new Error(`bad regexp-value '${p}', missing /-enclosure`);return console.warn(`bad regexp-value '${p}', missing /-enclosure`),null}let me=p.slice(B+1,te),de=p[te+1]==="i"?"i":"";try{return new RegExp(me,de)}catch(Pe){if(S)throw new Error(`bad regexp-value '${p}', parse error: ${Pe}`);return console.warn(`bad regexp-value '${p}', parse error: ${Pe}`),null}}}function P(q,p){const S=q?q.substituteConstants():void 0,B=p?p.substituteConstants():void 0;return!S&&!B?!0:!S||!B?!1:S.equals(B)}function s(q,p){return q.cmp(p)}class I{constructor(){this.type=0}cmp(p){return this.type-p.type}equals(p){return p.type===this.type}substituteConstants(){return this}evaluate(p){return!1}serialize(){return"false"}keys(){return[]}negate(){return m.INSTANCE}}I.INSTANCE=new I;class m{constructor(){this.type=1}cmp(p){return this.type-p.type}equals(p){return p.type===this.type}substituteConstants(){return this}evaluate(p){return!0}serialize(){return"true"}keys(){return[]}negate(){return I.INSTANCE}}m.INSTANCE=new m;class C{constructor(p,S){this.key=p,this.negated=S,this.type=2}static create(p,S=null){const B=y.get(p);return typeof B=="boolean"?B?m.INSTANCE:I.INSTANCE:new C(p,S)}cmp(p){return p.type!==this.type?this.type-p.type:le(this.key,p.key)}equals(p){return p.type===this.type?this.key===p.key:!1}substituteConstants(){const p=y.get(this.key);return typeof p=="boolean"?p?m.INSTANCE:I.INSTANCE:this}evaluate(p){return!!p.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=D.create(this.key,this)),this.negated}}class V{constructor(p,S,B){this.key=p,this.value=S,this.negated=B,this.type=4}static create(p,S,B=null){if(typeof S=="boolean")return S?C.create(p,B):D.create(p,B);const te=y.get(p);return typeof te=="boolean"?S===(te?"true":"false")?m.INSTANCE:I.INSTANCE:new V(p,S,B)}cmp(p){return p.type!==this.type?this.type-p.type:Z(this.key,this.value,p.key,p.value)}equals(p){return p.type===this.type?this.key===p.key&&this.value===p.value:!1}substituteConstants(){const p=y.get(this.key);if(typeof p=="boolean"){const S=p?"true":"false";return this.value===S?m.INSTANCE:I.INSTANCE}return this}evaluate(p){return p.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=w.create(this.key,this.value,this)),this.negated}}class r{constructor(p,S){this.key=p,this.valueKey=S,this.type=10,this.negated=null}static create(p,S){return new r(p,S)}cmp(p){return p.type!==this.type?this.type-p.type:Z(this.key,this.valueKey,p.key,p.valueKey)}equals(p){return p.type===this.type?this.key===p.key&&this.valueKey===p.valueKey:!1}substituteConstants(){return this}evaluate(p){const S=p.getValue(this.valueKey),B=p.getValue(this.key);return Array.isArray(S)?S.indexOf(B)>=0:typeof B=="string"&&typeof S=="object"&&S!==null?J.call(S,B):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=x.create(this)),this.negated}}class x{constructor(p){this._actual=p,this.type=11}static create(p){return new x(p)}cmp(p){return p.type!==this.type?this.type-p.type:this._actual.cmp(p._actual)}equals(p){return p.type===this.type?this._actual.equals(p._actual):!1}substituteConstants(){return this}evaluate(p){return!this._actual.evaluate(p)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class w{constructor(p,S,B){this.key=p,this.value=S,this.negated=B,this.type=5}static create(p,S,B=null){if(typeof S=="boolean")return S?D.create(p,B):C.create(p,B);const te=y.get(p);return typeof te=="boolean"?S===(te?"true":"false")?I.INSTANCE:m.INSTANCE:new w(p,S,B)}cmp(p){return p.type!==this.type?this.type-p.type:Z(this.key,this.value,p.key,p.value)}equals(p){return p.type===this.type?this.key===p.key&&this.value===p.value:!1}substituteConstants(){const p=y.get(this.key);if(typeof p=="boolean"){const S=p?"true":"false";return this.value===S?I.INSTANCE:m.INSTANCE}return this}evaluate(p){return p.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=V.create(this.key,this.value,this)),this.negated}}class D{constructor(p,S){this.key=p,this.negated=S,this.type=3}static create(p,S=null){const B=y.get(p);return typeof B=="boolean"?B?I.INSTANCE:m.INSTANCE:new D(p,S)}cmp(p){return p.type!==this.type?this.type-p.type:le(this.key,p.key)}equals(p){return p.type===this.type?this.key===p.key:!1}substituteConstants(){const p=y.get(this.key);return typeof p=="boolean"?p?I.INSTANCE:m.INSTANCE:this}evaluate(p){return!p.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=C.create(this.key,this)),this.negated}}function f(q,p){if(typeof q=="string"){const S=parseFloat(q);isNaN(S)||(q=S)}return typeof q=="string"||typeof q=="number"?p(q):I.INSTANCE}class v{constructor(p,S,B){this.key=p,this.value=S,this.negated=B,this.type=12}static create(p,S,B=null){return f(S,te=>new v(p,te,B))}cmp(p){return p.type!==this.type?this.type-p.type:Z(this.key,this.value,p.key,p.value)}equals(p){return p.type===this.type?this.key===p.key&&this.value===p.value:!1}substituteConstants(){return this}evaluate(p){return typeof this.value=="string"?!1:parseFloat(p.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=R.create(this.key,this.value,this)),this.negated}}class L{constructor(p,S,B){this.key=p,this.value=S,this.negated=B,this.type=13}static create(p,S,B=null){return f(S,te=>new L(p,te,B))}cmp(p){return p.type!==this.type?this.type-p.type:Z(this.key,this.value,p.key,p.value)}equals(p){return p.type===this.type?this.key===p.key&&this.value===p.value:!1}substituteConstants(){return this}evaluate(p){return typeof this.value=="string"?!1:parseFloat(p.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=h.create(this.key,this.value,this)),this.negated}}class h{constructor(p,S,B){this.key=p,this.value=S,this.negated=B,this.type=14}static create(p,S,B=null){return f(S,te=>new h(p,te,B))}cmp(p){return p.type!==this.type?this.type-p.type:Z(this.key,this.value,p.key,p.value)}equals(p){return p.type===this.type?this.key===p.key&&this.value===p.value:!1}substituteConstants(){return this}evaluate(p){return typeof this.value=="string"?!1:parseFloat(p.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=L.create(this.key,this.value,this)),this.negated}}class R{constructor(p,S,B){this.key=p,this.value=S,this.negated=B,this.type=15}static create(p,S,B=null){return f(S,te=>new R(p,te,B))}cmp(p){return p.type!==this.type?this.type-p.type:Z(this.key,this.value,p.key,p.value)}equals(p){return p.type===this.type?this.key===p.key&&this.value===p.value:!1}substituteConstants(){return this}evaluate(p){return typeof this.value=="string"?!1:parseFloat(p.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=v.create(this.key,this.value,this)),this.negated}}class T{constructor(p,S){this.key=p,this.regexp=S,this.type=7,this.negated=null}static create(p,S){return new T(p,S)}cmp(p){if(p.type!==this.type)return this.type-p.type;if(this.key<p.key)return-1;if(this.key>p.key)return 1;const S=this.regexp?this.regexp.source:"",B=p.regexp?p.regexp.source:"";return S<B?-1:S>B?1:0}equals(p){if(p.type===this.type){const S=this.regexp?this.regexp.source:"",B=p.regexp?p.regexp.source:"";return this.key===p.key&&S===B}return!1}substituteConstants(){return this}evaluate(p){let S=p.getValue(this.key);return this.regexp?this.regexp.test(S):!1}serialize(){const p=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${p}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=W.create(this)),this.negated}}class W{constructor(p){this._actual=p,this.type=8}static create(p){return new W(p)}cmp(p){return p.type!==this.type?this.type-p.type:this._actual.cmp(p._actual)}equals(p){return p.type===this.type?this._actual.equals(p._actual):!1}substituteConstants(){return this}evaluate(p){return!this._actual.evaluate(p)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function K(q){let p=null;for(let S=0,B=q.length;S<B;S++){const te=q[S].substituteConstants();if(q[S]!==te&&p===null){p=[];for(let me=0;me<S;me++)p[me]=q[me]}p!==null&&(p[S]=te)}return p===null?q:p}class ie{constructor(p,S){this.expr=p,this.negated=S,this.type=6}static create(p,S){return ie._normalizeArr(p,S)}cmp(p){if(p.type!==this.type)return this.type-p.type;if(this.expr.length<p.expr.length)return-1;if(this.expr.length>p.expr.length)return 1;for(let S=0,B=this.expr.length;S<B;S++){const te=s(this.expr[S],p.expr[S]);if(te!==0)return te}return 0}equals(p){if(p.type===this.type){if(this.expr.length!==p.expr.length)return!1;for(let S=0,B=this.expr.length;S<B;S++)if(!this.expr[S].equals(p.expr[S]))return!1;return!0}return!1}substituteConstants(){const p=K(this.expr);return p===this.expr?this:ie.create(p,this.negated)}evaluate(p){for(let S=0,B=this.expr.length;S<B;S++)if(!this.expr[S].evaluate(p))return!1;return!0}static _normalizeArr(p,S){const B=[];let te=!1;for(const me of p)if(me){if(me.type===1){te=!0;continue}if(me.type===0)return I.INSTANCE;if(me.type===6){B.push(...me.expr);continue}B.push(me)}if(B.length===0&&te)return m.INSTANCE;if(B.length!==0){if(B.length===1)return B[0];B.sort(s);for(let me=1;me<B.length;me++)B[me-1].equals(B[me])&&(B.splice(me,1),me--);if(B.length===1)return B[0];for(;B.length>1;){const me=B[B.length-1];if(me.type!==9)break;B.pop();const de=B.pop(),Pe=B.length===0,Me=ce.create(me.expr.map(nt=>ie.create([nt,de],null)),null,Pe);Me&&(B.push(Me),B.sort(s))}return B.length===1?B[0]:new ie(B,S)}}serialize(){return this.expr.map(p=>p.serialize()).join(" && ")}keys(){const p=[];for(let S of this.expr)p.push(...S.keys());return p}negate(){if(!this.negated){const p=[];for(let S of this.expr)p.push(S.negate());this.negated=ce.create(p,this,!0)}return this.negated}}class ce{constructor(p,S){this.expr=p,this.negated=S,this.type=9}static create(p,S,B){return ce._normalizeArr(p,S,B)}cmp(p){if(p.type!==this.type)return this.type-p.type;if(this.expr.length<p.expr.length)return-1;if(this.expr.length>p.expr.length)return 1;for(let S=0,B=this.expr.length;S<B;S++){const te=s(this.expr[S],p.expr[S]);if(te!==0)return te}return 0}equals(p){if(p.type===this.type){if(this.expr.length!==p.expr.length)return!1;for(let S=0,B=this.expr.length;S<B;S++)if(!this.expr[S].equals(p.expr[S]))return!1;return!0}return!1}substituteConstants(){const p=K(this.expr);return p===this.expr?this:ce.create(p,this.negated,!1)}evaluate(p){for(let S=0,B=this.expr.length;S<B;S++)if(this.expr[S].evaluate(p))return!0;return!1}static _normalizeArr(p,S,B){let te=[],me=!1;if(p){for(let de=0,Pe=p.length;de<Pe;de++){const Me=p[de];if(Me){if(Me.type===0){me=!0;continue}if(Me.type===1)return m.INSTANCE;if(Me.type===9){te=te.concat(Me.expr);continue}te.push(Me)}}if(te.length===0&&me)return I.INSTANCE;te.sort(s)}if(te.length!==0){if(te.length===1)return te[0];for(let de=1;de<te.length;de++)te[de-1].equals(te[de])&&(te.splice(de,1),de--);if(te.length===1)return te[0];if(B){for(let de=0;de<te.length;de++)for(let Pe=de+1;Pe<te.length;Pe++)$(te[de],te[Pe])&&(te.splice(Pe,1),Pe--);if(te.length===1)return te[0]}return new ce(te,S)}}serialize(){return this.expr.map(p=>p.serialize()).join(" || ")}keys(){const p=[];for(let S of this.expr)p.push(...S.keys());return p}negate(){if(!this.negated){let p=[];for(let S of this.expr)p.push(S.negate());for(;p.length>1;){const S=p.shift(),B=p.shift(),te=[];for(const de of G(S))for(const Pe of G(B))te.push(ie.create([de,Pe],null));const me=p.length===0;p.unshift(ce.create(te,null,me))}this.negated=p[0]}return this.negated}}class _e extends C{constructor(p,S,B){super(p,null),this._defaultValue=S,typeof B=="object"?_e._info.push(Object.assign(Object.assign({},B),{key:p})):B!==!0&&_e._info.push({key:p,description:B,type:S!=null?typeof S:void 0})}static all(){return _e._info.values()}bindTo(p){return p.createKey(this.key,this._defaultValue)}getValue(p){return p.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(p){return V.create(this.key,p)}}_e._info=[];const ve=(0,Q.yh)("contextKeyService"),De="setContext";function le(q,p){return q<p?-1:q>p?1:0}function Z(q,p,S,B){return q<S?-1:q>S?1:p<B?-1:p>B?1:0}function $(q,p){if(p.type===6&&q.type!==9&&q.type!==6){for(const te of p.expr)if(q.equals(te))return!0}const S=q.negate(),B=G(S).concat(G(p));B.sort(s);for(let te=0;te<B.length;te++){const de=B[te].negate();for(let Pe=te+1;Pe<B.length;Pe++){const Me=B[Pe];if(de.equals(Me))return!0}}return!1}function G(q){return q.type===9?q.expr:[q]}},5606:function(Yt,Ue,c){"use strict";c.d(Ue,{i:function(){return Q},u:function(){return Y}});var g=c(72065);const Y=(0,g.yh)("contextViewService"),Q=(0,g.yh)("contextMenuService")},97108:function(Yt,Ue,c){"use strict";c.d(Ue,{M:function(){return g}});class g{constructor(Q,O=[],y=!1){this.ctor=Q,this.staticArguments=O,this.supportsDelayedInstantiation=y}}},65026:function(Yt,Ue,c){"use strict";c.d(Ue,{d:function(){return O},z:function(){return Q}});var g=c(97108);const Y=[];function Q(y,J,k){J instanceof g.M||(J=new g.M(J,[],k)),Y.push([y,J])}function O(){return Y}},72065:function(Yt,Ue,c){"use strict";c.d(Ue,{I8:function(){return g},TG:function(){return Y},jt:function(){return y},yh:function(){return O}});var g;(function(J){J.serviceIds=new Map,J.DI_TARGET="$di$target",J.DI_DEPENDENCIES="$di$dependencies";function k(P){return P[J.DI_DEPENDENCIES]||[]}J.getServiceDependencies=k})(g||(g={}));const Y=O("instantiationService");function Q(J,k,P,s){k[g.DI_TARGET]===k?k[g.DI_DEPENDENCIES].push({id:J,index:P,optional:s}):(k[g.DI_DEPENDENCIES]=[{id:J,index:P,optional:s}],k[g.DI_TARGET]=k)}function O(J){if(g.serviceIds.has(J))return g.serviceIds.get(J);const k=function(P,s,I){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Q(k,P,I,!1)};return k.toString=()=>J,g.serviceIds.set(J,k),k}function y(J){return function(k,P,s){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");Q(J,k,s,!0)}}},60972:function(Yt,Ue,c){"use strict";c.d(Ue,{y:function(){return g}});class g{constructor(...Q){this._entries=new Map;for(let[O,y]of Q)this.set(O,y)}set(Q,O){const y=this._entries.get(Q);return this._entries.set(Q,O),y}has(Q){return this._entries.has(Q)}get(Q){return this._entries.get(Q)}}},81294:function(Yt,Ue,c){"use strict";c.d(Ue,{I:function(){return Q}});var g=c(4669),Y=c(89872);const Q={JSONContribution:"base.contributions.json"};function O(k){return k.length>0&&k.charAt(k.length-1)==="#"?k.substring(0,k.length-1):k}class y{constructor(){this._onDidChangeSchema=new g.Q5,this.schemasById={}}registerSchema(P,s){this.schemasById[O(P)]=s,this._onDidChangeSchema.fire(P)}notifySchemaChanged(P){this._onDidChangeSchema.fire(P)}}const J=new y;Y.B.add(Q.JSONContribution,J)},91847:function(Yt,Ue,c){"use strict";c.d(Ue,{d:function(){return Y}});var g=c(72065);const Y=(0,g.yh)("keybindingService")},49989:function(Yt,Ue,c){"use strict";c.d(Ue,{W:function(){return J}});var g=c(8313),Y=c(1432),Q=c(94565),O=c(89872);class y{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(I){if(Y.OS===1){if(I&&I.win)return I.win}else if(Y.OS===2){if(I&&I.mac)return I.mac}else if(I&&I.linux)return I.linux;return I}registerKeybindingRule(I){const m=y.bindToCurrentPlatform(I);if(m&&m.primary){const C=(0,g.gm)(m.primary,Y.OS);C&&this._registerDefaultKeybinding(C,I.id,I.args,I.weight,0,I.when)}if(m&&Array.isArray(m.secondary))for(let C=0,V=m.secondary.length;C<V;C++){const r=m.secondary[C],x=(0,g.gm)(r,Y.OS);x&&this._registerDefaultKeybinding(x,I.id,I.args,I.weight,-C-1,I.when)}}registerCommandAndKeybindingRule(I){this.registerKeybindingRule(I),Q.P.registerCommand(I)}static _mightProduceChar(I){return I>=21&&I<=30||I>=31&&I<=56?!0:I===80||I===81||I===82||I===83||I===84||I===85||I===86||I===110||I===111||I===87||I===88||I===89||I===90||I===91||I===92}_assertNoCtrlAlt(I,m){I.ctrlKey&&I.altKey&&!I.metaKey&&y._mightProduceChar(I.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",I," for ",m)}_registerDefaultKeybinding(I,m,C,V,r,x){Y.OS===1&&this._assertNoCtrlAlt(I.parts[0],m),this._coreKeybindings.push({keybinding:I.parts,command:m,commandArgs:C,when:x,weight1:V,weight2:r,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(P)),this._cachedMergedKeybindings.slice(0)}}const J=new y,k={EditorModes:"platform.keybindingsRegistry"};O.B.add(k.EditorModes,J);function P(s,I){return s.weight1!==I.weight1?s.weight1-I.weight1:s.command<I.command?-1:s.command>I.command?1:s.weight2-I.weight2}},44349:function(Yt,Ue,c){"use strict";c.d(Ue,{e:function(){return Y}});var g=c(72065);const Y=(0,g.yh)("labelService")},38097:function(Yt,Ue,c){"use strict";c.d(Ue,{Lw:function(){return pi},XN:function(){return Cn},ls:function(){return Li},ev:function(){return rs},CQ:function(){return vs}});var g=c(65321),Y=c(9488),Q=c(71050),O=c(4669),y=c(5976),J=c(5520),k=c(69047);class P{constructor(F,re){this.renderer=F,this.modelProvider=re}get templateId(){return this.renderer.templateId}renderTemplate(F){return{data:this.renderer.renderTemplate(F),disposable:y.JT.None}}renderElement(F,re,Se,Fe){if(Se.disposable&&Se.disposable.dispose(),!Se.data)return;const lt=this.modelProvider();if(lt.isResolved(F))return this.renderer.renderElement(lt.get(F),F,Se.data,Fe);const Ot=new Q.A,Zt=lt.resolve(F,Ot.token);Se.disposable={dispose:()=>Ot.cancel()},this.renderer.renderPlaceholder(F,Se.data),Zt.then(di=>this.renderer.renderElement(di,F,Se.data,Fe))}disposeTemplate(F){F.disposable&&(F.disposable.dispose(),F.disposable=void 0),F.data&&(this.renderer.disposeTemplate(F.data),F.data=void 0)}}class s{constructor(F,re){this.modelProvider=F,this.accessibilityProvider=re}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(F){const re=this.modelProvider();return re.isResolved(F)?this.accessibilityProvider.getAriaLabel(re.get(F)):null}}function I(Rt,F){return Object.assign(Object.assign({},F),{accessibilityProvider:F.accessibilityProvider&&new s(Rt,F.accessibilityProvider)})}class m{constructor(F,re,Se,Fe,lt={}){const Ot=()=>this.model,Zt=Fe.map(di=>new P(di,Ot));this.list=new k.aV(F,re,Se,Zt,I(Ot,lt))}updateOptions(F){this.list.updateOptions(F)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return O.ju.map(this.list.onMouseDblClick,({element:F,index:re,browserEvent:Se})=>({element:F===void 0?void 0:this._model.get(F),index:re,browserEvent:Se}))}get onPointer(){return O.ju.map(this.list.onPointer,({element:F,index:re,browserEvent:Se})=>({element:F===void 0?void 0:this._model.get(F),index:re,browserEvent:Se}))}get onDidChangeSelection(){return O.ju.map(this.list.onDidChangeSelection,({elements:F,indexes:re,browserEvent:Se})=>({elements:F.map(Fe=>this._model.get(Fe)),indexes:re,browserEvent:Se}))}get model(){return this._model}set model(F){this._model=F,this.list.splice(0,this.list.length,(0,Y.w6)(F.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(F=>this.model.get(F))}style(F){this.list.style(F)}dispose(){this.list.dispose()}}var C=c(33225);class V{constructor(F,re,Se){this.columns=F,this.getColumnSize=Se,this.templateId=V.TemplateId,this.renderedTemplates=new Set;const Fe=new Map(re.map(lt=>[lt.templateId,lt]));this.renderers=[];for(const lt of F){const Ot=Fe.get(lt.templateId);if(!Ot)throw new Error(`Table cell renderer for template id ${lt.templateId} not found.`);this.renderers.push(Ot)}}renderTemplate(F){const re=(0,g.R3)(F,(0,g.$)(".monaco-table-tr")),Se=[],Fe=[];for(let Ot=0;Ot<this.columns.length;Ot++){const Zt=this.renderers[Ot],di=(0,g.R3)(re,(0,g.$)(".monaco-table-td",{"data-col-index":Ot}));di.style.width=`${this.getColumnSize(Ot)}px`,Se.push(di),Fe.push(Zt.renderTemplate(di))}const lt={container:F,cellContainers:Se,cellTemplateData:Fe};return this.renderedTemplates.add(lt),lt}renderElement(F,re,Se,Fe){for(let lt=0;lt<this.columns.length;lt++){const Zt=this.columns[lt].project(F);this.renderers[lt].renderElement(Zt,re,Se.cellTemplateData[lt],Fe)}}disposeElement(F,re,Se,Fe){for(let lt=0;lt<this.columns.length;lt++){const Ot=this.renderers[lt];if(Ot.disposeElement){const di=this.columns[lt].project(F);Ot.disposeElement(di,re,Se.cellTemplateData[lt],Fe)}}}disposeTemplate(F){for(let re=0;re<this.columns.length;re++)this.renderers[re].disposeTemplate(F.cellTemplateData[re]);(0,g.PO)(F.container),this.renderedTemplates.delete(F)}layoutColumn(F,re){for(const{cellContainers:Se}of this.renderedTemplates)Se[F].style.width=`${re}px`}}V.TemplateId="row";function r(Rt){return{getHeight(F){return Rt.getHeight(F)},getTemplateId(){return V.TemplateId}}}class x{constructor(F,re){this.column=F,this.index=re,this._onDidLayout=new O.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,g.$)(".monaco-table-th",{"data-col-index":re,title:F.tooltip},F.label)}get minimumSize(){var F;return(F=this.column.minimumWidth)!==null&&F!==void 0?F:120}get maximumSize(){var F;return(F=this.column.maximumWidth)!==null&&F!==void 0?F:Number.POSITIVE_INFINITY}get onDidChange(){var F;return(F=this.column.onDidChangeWidthConstraints)!==null&&F!==void 0?F:O.ju.None}layout(F){this._onDidLayout.fire([this.index,F])}}class w{constructor(F,re,Se,Fe,lt,Ot){this.virtualDelegate=Se,this.domId=`table_id_${++w.InstanceCount}`,this.cachedHeight=0,this.domNode=(0,g.R3)(re,(0,g.$)(`.monaco-table.${this.domId}`));const Zt=Fe.map((li,Oi)=>new x(li,Oi)),di={size:Zt.reduce((li,Oi)=>li+Oi.column.weight,0),views:Zt.map(li=>({size:li.column.weight,view:li}))};this.splitview=new C.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:di}),this.splitview.el.style.height=`${Se.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${Se.headerRowHeight}px`;const Ei=new V(Fe,lt,li=>this.splitview.getViewSize(li));this.list=new k.aV(F,this.domNode,r(Se),[Ei],Ot),this.columnLayoutDisposable=O.ju.any(...Zt.map(li=>li.onDidLayout))(([li,Oi])=>Ei.layoutColumn(li,Oi)),this.styleElement=(0,g.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(F){this.list.updateOptions(F)}splice(F,re,Se=[]){this.list.splice(F,re,Se)}getHTMLElement(){return this.domNode}style(F){const re=[];re.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=re.join(`
`),this.list.style(F)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}w.InstanceCount=0;var D=c(72010),f=c(23547),v=c(4850),L=c(59069),h;(function(Rt){Rt[Rt.Unknown=0]="Unknown",Rt[Rt.Twistie=1]="Twistie",Rt[Rt.Element=2]="Element"})(h||(h={}));class R extends Error{constructor(F,re){super(`TreeError [${F}] ${re}`)}}class T{constructor(F){this.fn=F,this._map=new WeakMap}map(F){let re=this._map.get(F);return re||(re=this.fn(F),this._map.set(F,re)),re}}var W=c(22571),K=c(56899);function ie(Rt){return typeof Rt=="object"&&"visibility"in Rt&&"data"in Rt}function ce(Rt){switch(Rt){case!0:return 1;case!1:return 0;default:return Rt}}function _e(Rt){return typeof Rt.collapsible=="boolean"}class ve{constructor(F,re,Se,Fe={}){this.user=F,this.list=re,this.rootRef=[],this.eventBufferer=new O.E7,this._onDidChangeCollapseState=new O.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new O.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new O.Q5,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof Fe.collapseByDefault=="undefined"?!1:Fe.collapseByDefault,this.filter=Fe.filter,this.autoExpandSingleChildren=typeof Fe.autoExpandSingleChildren=="undefined"?!1:Fe.autoExpandSingleChildren,this.root={parent:void 0,element:Se,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(F,re,Se=K.$.empty(),Fe={}){if(F.length===0)throw new R(this.user,"Invalid tree location");Fe.diffIdentityProvider?this.spliceSmart(Fe.diffIdentityProvider,F,re,Se,Fe):this.spliceSimple(F,re,Se,Fe)}spliceSmart(F,re,Se,Fe,lt,Ot){var Zt;Fe===void 0&&(Fe=K.$.empty()),Ot===void 0&&(Ot=(Zt=lt.diffDepth)!==null&&Zt!==void 0?Zt:0);const{parentNode:di}=this.getParentNodeWithListIndex(re);if(!di.lastDiffIds)return this.spliceSimple(re,Se,Fe,lt);const Ei=[...Fe],li=re[re.length-1],Oi=new W.Hs({getElements:()=>di.lastDiffIds},{getElements:()=>[...di.children.slice(0,li),...Ei,...di.children.slice(li+Se)].map(Sn=>F.getId(Sn.element).toString())}).ComputeDiff(!1);if(Oi.quitEarly)return di.lastDiffIds=void 0,this.spliceSimple(re,Se,Ei,lt);const tn=re.slice(0,-1),yi=(Sn,ns,Ms)=>{if(Ot>0)for(let Dn=0;Dn<Ms;Dn++)Sn--,ns--,this.spliceSmart(F,[...tn,Sn,0],Number.MAX_SAFE_INTEGER,Ei[ns].children,lt,Ot-1)};let nn=Math.min(di.children.length,li+Se),Qi=Ei.length;for(const Sn of Oi.changes.sort((ns,Ms)=>Ms.originalStart-ns.originalStart))yi(nn,Qi,nn-(Sn.originalStart+Sn.originalLength)),nn=Sn.originalStart,Qi=Sn.modifiedStart-li,this.spliceSimple([...tn,nn],Sn.originalLength,K.$.slice(Ei,Qi,Qi+Sn.modifiedLength),lt);yi(nn,Qi,nn)}spliceSimple(F,re,Se=K.$.empty(),{onDidCreateNode:Fe,onDidDeleteNode:lt,diffIdentityProvider:Ot}){const{parentNode:Zt,listIndex:di,revealed:Ei,visible:li}=this.getParentNodeWithListIndex(F),Oi=[],tn=K.$.map(Se,Ke=>this.createTreeNode(Ke,Zt,Zt.visible?1:0,Ei,Oi,Fe)),yi=F[F.length-1],nn=Zt.children.length>0;let Qi=0;for(let Ke=yi;Ke>=0&&Ke<Zt.children.length;Ke--){const _t=Zt.children[Ke];if(_t.visible){Qi=_t.visibleChildIndex;break}}const Sn=[];let ns=0,Ms=0;for(const Ke of tn)Sn.push(Ke),Ms+=Ke.renderNodeCount,Ke.visible&&(Ke.visibleChildIndex=Qi+ns++);const Dn=(0,Y.db)(Zt.children,yi,re,Sn);Ot?Zt.lastDiffIds?(0,Y.db)(Zt.lastDiffIds,yi,re,Sn.map(Ke=>Ot.getId(Ke.element).toString())):Zt.lastDiffIds=Zt.children.map(Ke=>Ot.getId(Ke.element).toString()):Zt.lastDiffIds=void 0;let Ut=0;for(const Ke of Dn)Ke.visible&&Ut++;if(Ut!==0)for(let Ke=yi+Sn.length;Ke<Zt.children.length;Ke++){const _t=Zt.children[Ke];_t.visible&&(_t.visibleChildIndex-=Ut)}if(Zt.visibleChildrenCount+=ns-Ut,Ei&&li){const Ke=Dn.reduce((_t,bt)=>_t+(bt.visible?bt.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(Zt,Ms-Ke),this.list.splice(di,Ke,Oi)}if(Dn.length>0&&lt){const Ke=_t=>{lt(_t),_t.children.forEach(Ke)};Dn.forEach(Ke)}const pe=Zt.children.length>0;nn!==pe&&this.setCollapsible(F.slice(0,-1),pe),this._onDidSplice.fire({insertedNodes:Sn,deletedNodes:Dn});let Re=Zt;for(;Re;){if(Re.visibility===2){this.refilter();break}Re=Re.parent}}rerender(F){if(F.length===0)throw new R(this.user,"Invalid tree location");const{node:re,listIndex:Se,revealed:Fe}=this.getTreeNodeWithListIndex(F);re.visible&&Fe&&this.list.splice(Se,1,[re])}has(F){return this.hasTreeNode(F)}getListIndex(F){const{listIndex:re,visible:Se,revealed:Fe}=this.getTreeNodeWithListIndex(F);return Se&&Fe?re:-1}getListRenderCount(F){return this.getTreeNode(F).renderNodeCount}isCollapsible(F){return this.getTreeNode(F).collapsible}setCollapsible(F,re){const Se=this.getTreeNode(F);typeof re=="undefined"&&(re=!Se.collapsible);const Fe={collapsible:re};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(F,Fe))}isCollapsed(F){return this.getTreeNode(F).collapsed}setCollapsed(F,re,Se){const Fe=this.getTreeNode(F);typeof re=="undefined"&&(re=!Fe.collapsed);const lt={collapsed:re,recursive:Se||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(F,lt))}_setCollapseState(F,re){const{node:Se,listIndex:Fe,revealed:lt}=this.getTreeNodeWithListIndex(F),Ot=this._setListNodeCollapseState(Se,Fe,lt,re);if(Se!==this.root&&this.autoExpandSingleChildren&&Ot&&!_e(re)&&Se.collapsible&&!Se.collapsed&&!re.recursive){let Zt=-1;for(let di=0;di<Se.children.length;di++)if(Se.children[di].visible)if(Zt>-1){Zt=-1;break}else Zt=di;Zt>-1&&this._setCollapseState([...F,Zt],re)}return Ot}_setListNodeCollapseState(F,re,Se,Fe){const lt=this._setNodeCollapseState(F,Fe,!1);if(!Se||!F.visible||!lt)return lt;const Ot=F.renderNodeCount,Zt=this.updateNodeAfterCollapseChange(F),di=Ot-(re===-1?0:1);return this.list.splice(re+1,di,Zt.slice(1)),lt}_setNodeCollapseState(F,re,Se){let Fe;if(F===this.root?Fe=!1:(_e(re)?(Fe=F.collapsible!==re.collapsible,F.collapsible=re.collapsible):F.collapsible?(Fe=F.collapsed!==re.collapsed,F.collapsed=re.collapsed):Fe=!1,Fe&&this._onDidChangeCollapseState.fire({node:F,deep:Se})),!_e(re)&&re.recursive)for(const lt of F.children)Fe=this._setNodeCollapseState(lt,re,!0)||Fe;return Fe}expandTo(F){this.eventBufferer.bufferEvents(()=>{let re=this.getTreeNode(F);for(;re.parent;)re=re.parent,F=F.slice(0,F.length-1),re.collapsed&&this._setCollapseState(F,{collapsed:!1,recursive:!1})})}refilter(){const F=this.root.renderNodeCount,re=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,F,re)}createTreeNode(F,re,Se,Fe,lt,Ot){const Zt={parent:re,element:F.element,children:[],depth:re.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof F.collapsible=="boolean"?F.collapsible:typeof F.collapsed!="undefined",collapsed:typeof F.collapsed=="undefined"?this.collapseByDefault:F.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},di=this._filterNode(Zt,Se);Zt.visibility=di,Fe&&lt.push(Zt);const Ei=F.children||K.$.empty(),li=Fe&&di!==0&&!Zt.collapsed,Oi=K.$.map(Ei,nn=>this.createTreeNode(nn,Zt,di,li,lt,Ot));let tn=0,yi=1;for(const nn of Oi)Zt.children.push(nn),yi+=nn.renderNodeCount,nn.visible&&(nn.visibleChildIndex=tn++);return Zt.collapsible=Zt.collapsible||Zt.children.length>0,Zt.visibleChildrenCount=tn,Zt.visible=di===2?tn>0:di===1,Zt.visible?Zt.collapsed||(Zt.renderNodeCount=yi):(Zt.renderNodeCount=0,Fe&&lt.pop()),Ot&&Ot(Zt),Zt}updateNodeAfterCollapseChange(F){const re=F.renderNodeCount,Se=[];return this._updateNodeAfterCollapseChange(F,Se),this._updateAncestorsRenderNodeCount(F.parent,Se.length-re),Se}_updateNodeAfterCollapseChange(F,re){if(F.visible===!1)return 0;if(re.push(F),F.renderNodeCount=1,!F.collapsed)for(const Se of F.children)F.renderNodeCount+=this._updateNodeAfterCollapseChange(Se,re);return this._onDidChangeRenderNodeCount.fire(F),F.renderNodeCount}updateNodeAfterFilterChange(F){const re=F.renderNodeCount,Se=[];return this._updateNodeAfterFilterChange(F,F.visible?1:0,Se),this._updateAncestorsRenderNodeCount(F.parent,Se.length-re),Se}_updateNodeAfterFilterChange(F,re,Se,Fe=!0){let lt;if(F!==this.root){if(lt=this._filterNode(F,re),lt===0)return F.visible=!1,F.renderNodeCount=0,!1;Fe&&Se.push(F)}const Ot=Se.length;F.renderNodeCount=F===this.root?0:1;let Zt=!1;if(!F.collapsed||lt!==0){let di=0;for(const Ei of F.children)Zt=this._updateNodeAfterFilterChange(Ei,lt,Se,Fe&&!F.collapsed)||Zt,Ei.visible&&(Ei.visibleChildIndex=di++);F.visibleChildrenCount=di}else F.visibleChildrenCount=0;return F!==this.root&&(F.visible=lt===2?Zt:lt===1,F.visibility=lt),F.visible?F.collapsed||(F.renderNodeCount+=Se.length-Ot):(F.renderNodeCount=0,Fe&&Se.pop()),this._onDidChangeRenderNodeCount.fire(F),F.visible}_updateAncestorsRenderNodeCount(F,re){if(re!==0)for(;F;)F.renderNodeCount+=re,this._onDidChangeRenderNodeCount.fire(F),F=F.parent}_filterNode(F,re){const Se=this.filter?this.filter.filter(F.element,re):1;return typeof Se=="boolean"?(F.filterData=void 0,Se?1:0):ie(Se)?(F.filterData=Se.data,ce(Se.visibility)):(F.filterData=void 0,ce(Se))}hasTreeNode(F,re=this.root){if(!F||F.length===0)return!0;const[Se,...Fe]=F;return Se<0||Se>re.children.length?!1:this.hasTreeNode(Fe,re.children[Se])}getTreeNode(F,re=this.root){if(!F||F.length===0)return re;const[Se,...Fe]=F;if(Se<0||Se>re.children.length)throw new R(this.user,"Invalid tree location");return this.getTreeNode(Fe,re.children[Se])}getTreeNodeWithListIndex(F){if(F.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:re,listIndex:Se,revealed:Fe,visible:lt}=this.getParentNodeWithListIndex(F),Ot=F[F.length-1];if(Ot<0||Ot>re.children.length)throw new R(this.user,"Invalid tree location");const Zt=re.children[Ot];return{node:Zt,listIndex:Se,revealed:Fe,visible:lt&&Zt.visible}}getParentNodeWithListIndex(F,re=this.root,Se=0,Fe=!0,lt=!0){const[Ot,...Zt]=F;if(Ot<0||Ot>re.children.length)throw new R(this.user,"Invalid tree location");for(let di=0;di<Ot;di++)Se+=re.children[di].renderNodeCount;return Fe=Fe&&!re.collapsed,lt=lt&&re.visible,Zt.length===0?{parentNode:re,listIndex:Se,revealed:Fe,visible:lt}:this.getParentNodeWithListIndex(Zt,re.children[Ot],Se+1,Fe,lt)}getNode(F=[]){return this.getTreeNode(F)}getNodeLocation(F){const re=[];let Se=F;for(;Se.parent;)re.push(Se.parent.children.indexOf(Se)),Se=Se.parent;return re.reverse()}getParentNodeLocation(F){if(F.length!==0)return F.length===1?[]:(0,Y.JH)(F)[0]}}var De=c(73046);const le=(0,De.CM)("tree-item-expanded",De.lA.chevronDown),Z=(0,De.CM)("tree-filter-on-type-on",De.lA.listFilter),$=(0,De.CM)("tree-filter-on-type-off",De.lA.listSelection),G=(0,De.CM)("tree-filter-clear",De.lA.close),q=(0,De.CM)("tree-item-loading",De.lA.loading);var p=c(15393),S=c(6626),B=c(75392),te=c(59870),me=c(1432),de=c(63580);class Pe extends D.kX{constructor(F){super(F.elements.map(re=>re.element)),this.data=F}}function Me(Rt){return Rt instanceof D.kX?new Pe(Rt):Rt}class nt{constructor(F,re){this.modelProvider=F,this.dnd=re,this.autoExpandDisposable=y.JT.None}getDragURI(F){return this.dnd.getDragURI(F.element)}getDragLabel(F,re){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(F.map(Se=>Se.element),re)}onDragStart(F,re){this.dnd.onDragStart&&this.dnd.onDragStart(Me(F),re)}onDragOver(F,re,Se,Fe,lt=!0){const Ot=this.dnd.onDragOver(Me(F),re&&re.element,Se,Fe),Zt=this.autoExpandNode!==re;if(Zt&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=re),typeof re=="undefined")return Ot;if(Zt&&typeof Ot!="boolean"&&Ot.autoExpand&&(this.autoExpandDisposable=(0,p.Vg)(()=>{const tn=this.modelProvider(),yi=tn.getNodeLocation(re);tn.isCollapsed(yi)&&tn.setCollapsed(yi,!1),this.autoExpandNode=void 0},500)),typeof Ot=="boolean"||!Ot.accept||typeof Ot.bubble=="undefined"||Ot.feedback){if(!lt){const tn=typeof Ot=="boolean"?Ot:Ot.accept,yi=typeof Ot=="boolean"?void 0:Ot.effect;return{accept:tn,effect:yi,feedback:[Se]}}return Ot}if(Ot.bubble===1){const tn=this.modelProvider(),yi=tn.getNodeLocation(re),nn=tn.getParentNodeLocation(yi),Qi=tn.getNode(nn),Sn=nn&&tn.getListIndex(nn);return this.onDragOver(F,Qi,Sn,Fe,!1)}const di=this.modelProvider(),Ei=di.getNodeLocation(re),li=di.getListIndex(Ei),Oi=di.getListRenderCount(Ei);return Object.assign(Object.assign({},Ot),{feedback:(0,Y.w6)(li,li+Oi)})}drop(F,re,Se,Fe){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(Me(F),re&&re.element,Se,Fe)}onDragEnd(F){this.dnd.onDragEnd&&this.dnd.onDragEnd(F)}}function It(Rt,F){return F&&Object.assign(Object.assign({},F),{identityProvider:F.identityProvider&&{getId(re){return F.identityProvider.getId(re.element)}},dnd:F.dnd&&new nt(Rt,F.dnd),multipleSelectionController:F.multipleSelectionController&&{isSelectionSingleChangeEvent(re){return F.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},re),{element:re.element}))},isSelectionRangeChangeEvent(re){return F.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},re),{element:re.element}))}},accessibilityProvider:F.accessibilityProvider&&Object.assign(Object.assign({},F.accessibilityProvider),{getSetSize(re){const Se=Rt(),Fe=Se.getNodeLocation(re),lt=Se.getParentNodeLocation(Fe);return Se.getNode(lt).visibleChildrenCount},getPosInSet(re){return re.visibleChildIndex+1},isChecked:F.accessibilityProvider&&F.accessibilityProvider.isChecked?re=>F.accessibilityProvider.isChecked(re.element):void 0,getRole:F.accessibilityProvider&&F.accessibilityProvider.getRole?re=>F.accessibilityProvider.getRole(re.element):()=>"treeitem",getAriaLabel(re){return F.accessibilityProvider.getAriaLabel(re.element)},getWidgetAriaLabel(){return F.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:F.accessibilityProvider&&F.accessibilityProvider.getWidgetRole?()=>F.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:F.accessibilityProvider&&F.accessibilityProvider.getAriaLevel?re=>F.accessibilityProvider.getAriaLevel(re.element):re=>re.depth,getActiveDescendantId:F.accessibilityProvider.getActiveDescendantId&&(re=>F.accessibilityProvider.getActiveDescendantId(re.element))}),keyboardNavigationLabelProvider:F.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},F.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(re){return F.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(re.element)}}),enableKeyboardNavigation:F.simpleKeyboardNavigation})}class ht{constructor(F){this.delegate=F}getHeight(F){return this.delegate.getHeight(F.element)}getTemplateId(F){return this.delegate.getTemplateId(F.element)}hasDynamicHeight(F){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(F.element)}setDynamicHeight(F,re){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(F.element,re)}}var Mt;(function(Rt){Rt.None="none",Rt.OnHover="onHover",Rt.Always="always"})(Mt||(Mt={}));class it{constructor(F,re=[]){this._elements=re,this.onDidChange=O.ju.forEach(F,Se=>this._elements=Se)}get elements(){return this._elements}}class kt{constructor(F,re,Se,Fe,lt={}){this.renderer=F,this.modelProvider=re,this.activeNodes=Fe,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=kt.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new S.r,this.activeIndentNodes=new Set,this.indentGuidesDisposable=y.JT.None,this.disposables=new y.SL,this.templateId=F.templateId,this.updateOptions(lt),O.ju.map(Se,Ot=>Ot.node)(this.onDidChangeNodeTwistieState,this,this.disposables),F.onDidChangeTwistieState&&F.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(F={}){if(typeof F.indent!="undefined"&&(this.indent=(0,te.u)(F.indent,0,40)),typeof F.renderIndentGuides!="undefined"){const re=F.renderIndentGuides!==Mt.None;if(re!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=re,this.indentGuidesDisposable.dispose(),re)){const Se=new y.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Se),this.indentGuidesDisposable=Se,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof F.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=F.hideTwistiesOfChildlessElements)}renderTemplate(F){const re=(0,g.R3)(F,(0,g.$)(".monaco-tl-row")),Se=(0,g.R3)(re,(0,g.$)(".monaco-tl-indent")),Fe=(0,g.R3)(re,(0,g.$)(".monaco-tl-twistie")),lt=(0,g.R3)(re,(0,g.$)(".monaco-tl-contents")),Ot=this.renderer.renderTemplate(lt);return{container:F,indent:Se,twistie:Fe,indentGuidesDisposable:y.JT.None,templateData:Ot}}renderElement(F,re,Se,Fe){typeof Fe=="number"&&(this.renderedNodes.set(F,{templateData:Se,height:Fe}),this.renderedElements.set(F.element,F));const lt=kt.DefaultIndent+(F.depth-1)*this.indent;Se.twistie.style.paddingLeft=`${lt}px`,Se.indent.style.width=`${lt+this.indent-16}px`,this.renderTwistie(F,Se),typeof Fe=="number"&&this.renderIndentGuides(F,Se),this.renderer.renderElement(F,re,Se.templateData,Fe)}disposeElement(F,re,Se,Fe){Se.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(F,re,Se.templateData,Fe),typeof Fe=="number"&&(this.renderedNodes.delete(F),this.renderedElements.delete(F.element))}disposeTemplate(F){this.renderer.disposeTemplate(F.templateData)}onDidChangeTwistieState(F){const re=this.renderedElements.get(F);re&&this.onDidChangeNodeTwistieState(re)}onDidChangeNodeTwistieState(F){const re=this.renderedNodes.get(F);re&&(this.renderTwistie(F,re.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(F,re.templateData))}renderTwistie(F,re){re.twistie.classList.remove(...le.classNamesArray);let Se=!1;this.renderer.renderTwistie&&(Se=this.renderer.renderTwistie(F.element,re.twistie)),F.collapsible&&(!this.hideTwistiesOfChildlessElements||F.visibleChildrenCount>0)?(Se||re.twistie.classList.add(...le.classNamesArray),re.twistie.classList.add("collapsible"),re.twistie.classList.toggle("collapsed",F.collapsed)):re.twistie.classList.remove("collapsible","collapsed"),F.collapsible?re.container.setAttribute("aria-expanded",String(!F.collapsed)):re.container.removeAttribute("aria-expanded")}renderIndentGuides(F,re){if((0,g.PO)(re.indent),re.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const Se=new y.SL,Fe=this.modelProvider();let lt=F;for(;;){const Ot=Fe.getNodeLocation(lt),Zt=Fe.getParentNodeLocation(Ot);if(!Zt)break;const di=Fe.getNode(Zt),Ei=(0,g.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(di)&&Ei.classList.add("active"),re.indent.childElementCount===0?re.indent.appendChild(Ei):re.indent.insertBefore(Ei,re.indent.firstElementChild),this.renderedIndentGuides.add(di,Ei),Se.add((0,y.OF)(()=>this.renderedIndentGuides.delete(di,Ei))),lt=di}re.indentGuidesDisposable=Se}_onDidChangeActiveNodes(F){if(!this.shouldRenderIndentGuides)return;const re=new Set,Se=this.modelProvider();F.forEach(Fe=>{const lt=Se.getNodeLocation(Fe);try{const Ot=Se.getParentNodeLocation(lt);Fe.collapsible&&Fe.children.length>0&&!Fe.collapsed?re.add(Fe):Ot&&re.add(Se.getNode(Ot))}catch(Ot){}}),this.activeIndentNodes.forEach(Fe=>{re.has(Fe)||this.renderedIndentGuides.forEach(Fe,lt=>lt.classList.remove("active"))}),re.forEach(Fe=>{this.activeIndentNodes.has(Fe)||this.renderedIndentGuides.forEach(Fe,lt=>lt.classList.add("active"))}),this.activeIndentNodes=re}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,y.B9)(this.disposables)}}kt.DefaultIndent=8;class ze{constructor(F,re,Se){this.tree=F,this.keyboardNavigationLabelProvider=re,this._filter=Se,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new y.SL,F.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(F){this._pattern=F,this._lowercasePattern=F.toLowerCase()}filter(F,re){if(this._filter){const lt=this._filter.filter(F,re);if(this.tree.options.simpleKeyboardNavigation)return lt;let Ot;if(typeof lt=="boolean"?Ot=lt?1:0:ie(lt)?Ot=ce(lt.visibility):Ot=lt,Ot===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:B.CL.Default,visibility:!0};const Se=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(F),Fe=Array.isArray(Se)?Se:[Se];for(const lt of Fe){const Ot=lt&&lt.toString();if(typeof Ot=="undefined")return{data:B.CL.Default,visibility:!0};const Zt=(0,B.EW)(this._pattern,this._lowercasePattern,0,Ot,Ot.toLowerCase(),0,!0);if(Zt)return this._matchCount++,Fe.length===1?{data:Zt,visibility:!0}:{data:{label:Ot,score:Zt},visibility:!0}}return this.tree.options.filterOnType?2:{data:B.CL.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,y.B9)(this.disposables)}}class he{constructor(F,re,Se,Fe,lt){this.tree=F,this.view=Se,this.filter=Fe,this.keyboardNavigationDelegate=lt,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new O.Q5,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new O.Q5,this.enabledDisposables=new y.SL,this.disposables=new y.SL,this.domNode=(0,g.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,g.nm)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,g.R3)(Se.getHTMLElement(),(0,g.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,g.R3)(this.domNode,(0,g.$)("span.label"));const Ot=(0,g.R3)(this.domNode,(0,g.$)(".controls"));this._filterOnType=!!F.options.filterOnType,this.filterOnTypeDomNode=(0,g.R3)(Ot,(0,g.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,g.nm)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,g.R3)(Ot,(0,g.$)("button.clear"+G.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,de.N)("clear","Clear"),this.keyboardNavigationEventFilter=F.options.keyboardNavigationEventFilter,re.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(F.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(F){F.simpleKeyboardNavigation?this.disable():this.enable(),typeof F.filterOnType!="undefined"&&(this._filterOnType=!!F.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof F.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=F.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const F=this.enabledDisposables.add(new v.Y(this.view.getHTMLElement(),"keydown")),re=O.ju.chain(F.event).filter(Fe=>!(0,k.cK)(Fe.target)||Fe.target===this.filterOnTypeDomNode).filter(Fe=>Fe.key!=="Dead"&&!/^Media/.test(Fe.key)).map(Fe=>new L.y(Fe)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(Fe=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(Fe)&&!(Fe.keyCode===18||Fe.keyCode===16||Fe.keyCode===15||Fe.keyCode===17)||(this.pattern.length>0||this.triggered)&&(Fe.keyCode===9||Fe.keyCode===1)&&!Fe.altKey&&!Fe.ctrlKey&&!Fe.metaKey||Fe.keyCode===1&&(me.dz?Fe.altKey&&!Fe.metaKey:Fe.ctrlKey)&&!Fe.shiftKey).forEach(Fe=>{Fe.stopPropagation(),Fe.preventDefault()}).event,Se=this.enabledDisposables.add(new v.Y(this.clearDomNode,"click"));O.ju.chain(O.ju.any(re,Se.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(F){typeof F=="string"?this.onInput(F):F instanceof MouseEvent||F.keyCode===9||F.keyCode===1&&(me.dz?F.altKey:F.ctrlKey)?this.onInput(""):F.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+F.browserEvent.key)}onInput(F){const re=this.view.getHTMLElement();F&&!this.domNode.parentElement?re.append(this.domNode):!F&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=F,this._onDidChangePattern.fire(F),this.filter.pattern=F,this.tree.refilter(),F&&this.tree.focusNext(0,!0,void 0,Fe=>!B.CL.isDefault(Fe.filterData));const Se=this.tree.getFocus();if(Se.length>0){const Fe=Se[0];this.tree.getRelativeTop(Fe)===null&&this.tree.reveal(Fe,.5)}this.render(),F||(this.triggered=!1)}onDragStart(){const F=this.view.getHTMLElement(),{left:re}=(0,g.i)(F),Se=F.clientWidth,Fe=Se/2,lt=this.domNode.clientWidth,Ot=new y.SL;let Zt=this.positionClassName;const di=()=>{switch(Zt){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${Se-lt-6}px`;break}},Ei=Oi=>{Oi.preventDefault();const tn=Oi.clientX-re;Oi.dataTransfer&&(Oi.dataTransfer.dropEffect="none"),tn<Fe?Zt="nw":Zt="ne",di()},li=()=>{this.positionClassName=Zt,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,y.B9)(Ot)};di(),this.domNode.classList.remove(Zt),this.domNode.classList.add("dragging"),Ot.add((0,y.OF)(()=>this.domNode.classList.remove("dragging"))),Ot.add((0,g.nm)(document,"dragover",Oi=>Ei(Oi))),Ot.add((0,g.nm)(this.domNode,"dragend",()=>li())),f.P$.CurrentDragAndDropData=new f.TN("vscode-ui"),Ot.add((0,y.OF)(()=>f.P$.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...$.classNamesArray),this.filterOnTypeDomNode.classList.add(...Z.classNamesArray),this.filterOnTypeDomNode.title=(0,de.N)("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...Z.classNamesArray),this.filterOnTypeDomNode.classList.add(...$.classNamesArray),this.filterOnTypeDomNode.title=(0,de.N)("enable filter on type","Enable Filter on Type"))}render(){const F=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&F?(this.messageDomNode.textContent=(0,de.N)("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",F),this.domNode.title=(0,de.N)("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(F){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!B.CL.isDefault(F.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,y.B9)(this.disposables)}}function ke(Rt){let F=h.Unknown;return(0,g.uU)(Rt.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?F=h.Twistie:(0,g.uU)(Rt.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(F=h.Element),{browserEvent:Rt.browserEvent,element:Rt.element?Rt.element.element:null,target:F}}function et(Rt,F){F(Rt),Rt.children.forEach(re=>et(re,F))}class at{constructor(F,re){this.getFirstViewElementWithTrait=F,this.identityProvider=re,this.nodes=[],this._onDidChange=new O.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(F,re){var Se;!(!((Se=re)===null||Se===void 0)&&Se.__forceEvent)&&(0,Y.fS)(this.nodes,F)||this._set(F,!1,re)}_set(F,re,Se){if(this.nodes=[...F],this.elements=void 0,this._nodeSet=void 0,!re){const Fe=this;this._onDidChange.fire({get elements(){return Fe.get()},browserEvent:Se})}}get(){return this.elements||(this.elements=this.nodes.map(F=>F.element)),[...this.elements]}getNodes(){return this.nodes}has(F){return this.nodeSet.has(F)}onDidModelSplice({insertedNodes:F,deletedNodes:re}){if(!this.identityProvider){const di=this.createNodeSet(),Ei=li=>di.delete(li);re.forEach(li=>et(li,Ei)),this.set([...di.values()]);return}const Se=new Set,Fe=di=>Se.add(this.identityProvider.getId(di.element).toString());re.forEach(di=>et(di,Fe));const lt=new Map,Ot=di=>lt.set(this.identityProvider.getId(di.element).toString(),di);F.forEach(di=>et(di,Ot));const Zt=[];for(const di of this.nodes){const Ei=this.identityProvider.getId(di.element).toString();if(!Se.has(Ei))Zt.push(di);else{const Oi=lt.get(Ei);Oi&&Zt.push(Oi)}}if(this.nodes.length>0&&Zt.length===0){const di=this.getFirstViewElementWithTrait();di&&Zt.push(di)}this._set(Zt,!0)}createNodeSet(){const F=new Set;for(const re of this.nodes)F.add(re);return F}}class rt extends k.sx{constructor(F,re){super(F),this.tree=re}onViewPointer(F){if((0,k.cK)(F.browserEvent.target)||(0,k.hD)(F.browserEvent.target))return;const re=F.element;if(!re)return super.onViewPointer(F);if(this.isSelectionRangeChangeEvent(F)||this.isSelectionSingleChangeEvent(F))return super.onViewPointer(F);const Se=F.browserEvent.target,Fe=Se.classList.contains("monaco-tl-twistie")||Se.classList.contains("monaco-icon-label")&&Se.classList.contains("folder-icon")&&F.browserEvent.offsetX<16;let lt=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?lt=this.tree.expandOnlyOnTwistieClick(re.element):lt=!!this.tree.expandOnlyOnTwistieClick,lt&&!Fe&&F.browserEvent.detail!==2)return super.onViewPointer(F);if(!this.tree.expandOnDoubleClick&&F.browserEvent.detail===2)return super.onViewPointer(F);if(re.collapsible){const Ot=this.tree.model,Zt=Ot.getNodeLocation(re),di=F.browserEvent.altKey;if(this.tree.setFocus([Zt]),Ot.setCollapsed(Zt,void 0,di),lt&&Fe)return}super.onViewPointer(F)}onDoubleClick(F){F.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(F)}}class Ne extends k.aV{constructor(F,re,Se,Fe,lt,Ot,Zt,di){super(F,re,Se,Fe,di),this.focusTrait=lt,this.selectionTrait=Ot,this.anchorTrait=Zt}createMouseController(F){return new rt(this,F.tree)}splice(F,re,Se=[]){if(super.splice(F,re,Se),Se.length===0)return;const Fe=[],lt=[];let Ot;Se.forEach((Zt,di)=>{this.focusTrait.has(Zt)&&Fe.push(F+di),this.selectionTrait.has(Zt)&&lt.push(F+di),this.anchorTrait.has(Zt)&&(Ot=F+di)}),Fe.length>0&&super.setFocus((0,Y.EB)([...super.getFocus(),...Fe])),lt.length>0&&super.setSelection((0,Y.EB)([...super.getSelection(),...lt])),typeof Ot=="number"&&super.setAnchor(Ot)}setFocus(F,re,Se=!1){super.setFocus(F,re),Se||this.focusTrait.set(F.map(Fe=>this.element(Fe)),re)}setSelection(F,re,Se=!1){super.setSelection(F,re),Se||this.selectionTrait.set(F.map(Fe=>this.element(Fe)),re)}setAnchor(F,re=!1){super.setAnchor(F),re||(typeof F=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(F)]))}}class Oe{constructor(F,re,Se,Fe,lt={}){this._options=lt,this.eventBufferer=new O.E7,this.disposables=new y.SL,this._onWillRefilter=new O.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new O.Q5;const Ot=new ht(Se),Zt=new O.ZD,di=new O.ZD,Ei=new it(di.event);this.renderers=Fe.map(tn=>new kt(tn,()=>this.model,Zt.event,Ei,lt));for(let tn of this.renderers)this.disposables.add(tn);let li;lt.keyboardNavigationLabelProvider&&(li=new ze(this,lt.keyboardNavigationLabelProvider,lt.filter),lt=Object.assign(Object.assign({},lt),{filter:li}),this.disposables.add(li)),this.focus=new at(()=>this.view.getFocusedElements()[0],lt.identityProvider),this.selection=new at(()=>this.view.getSelectedElements()[0],lt.identityProvider),this.anchor=new at(()=>this.view.getAnchorElement(),lt.identityProvider),this.view=new Ne(F,re,Ot,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},It(()=>this.model,lt)),{tree:this})),this.model=this.createModel(F,this.view,lt),Zt.input=this.model.onDidChangeCollapseState;const Oi=O.ju.forEach(this.model.onDidSplice,tn=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(tn),this.selection.onDidModelSplice(tn)})});if(Oi(()=>null,null,this.disposables),di.input=O.ju.chain(O.ju.any(Oi,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const tn=new Set;for(const yi of this.focus.getNodes())tn.add(yi);for(const yi of this.selection.getNodes())tn.add(yi);return[...tn.values()]}).event,lt.keyboardSupport!==!1){const tn=O.ju.chain(this.view.onKeyDown).filter(yi=>!(0,k.cK)(yi.target)).map(yi=>new L.y(yi));tn.filter(yi=>yi.keyCode===15).on(this.onLeftArrow,this,this.disposables),tn.filter(yi=>yi.keyCode===17).on(this.onRightArrow,this,this.disposables),tn.filter(yi=>yi.keyCode===10).on(this.onSpace,this,this.disposables)}if(lt.keyboardNavigationLabelProvider){const tn=lt.keyboardNavigationDelegate||k.WK;this.typeFilterController=new he(this,this.model,this.view,li,tn),this.focusNavigationFilter=yi=>this.typeFilterController.shouldAllowFocus(yi),this.disposables.add(this.typeFilterController)}this.styleElement=(0,g.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Mt.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return O.ju.map(this.view.onMouseDblClick,ke)}get onPointer(){return O.ju.map(this.view.onPointer,ke)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(F={}){this._options=Object.assign(Object.assign({},this._options),F);for(const re of this.renderers)re.updateOptions(F);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Mt.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(F){this.view.scrollTop=F}domFocus(){this.view.domFocus()}layout(F,re){this.view.layout(F,re)}style(F){const re=`.${this.view.domId}`,Se=[];F.treeIndentGuidesStroke&&(Se.push(`.monaco-list${re}:hover .monaco-tl-indent > .indent-guide, .monaco-list${re}.always .monaco-tl-indent > .indent-guide  { border-color: ${F.treeIndentGuidesStroke.transparent(.4)}; }`),Se.push(`.monaco-list${re} .monaco-tl-indent > .indent-guide.active { border-color: ${F.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=Se.join(`
`),this.view.style(F)}collapse(F,re=!1){return this.model.setCollapsed(F,!0,re)}expand(F,re=!1){return this.model.setCollapsed(F,!1,re)}isCollapsible(F){return this.model.isCollapsible(F)}setCollapsible(F,re){return this.model.setCollapsible(F,re)}isCollapsed(F){return this.model.isCollapsed(F)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(F,re){const Se=F.map(lt=>this.model.getNode(lt));this.selection.set(Se,re);const Fe=F.map(lt=>this.model.getListIndex(lt)).filter(lt=>lt>-1);this.view.setSelection(Fe,re,!0)}getSelection(){return this.selection.get()}setFocus(F,re){const Se=F.map(lt=>this.model.getNode(lt));this.focus.set(Se,re);const Fe=F.map(lt=>this.model.getListIndex(lt)).filter(lt=>lt>-1);this.view.setFocus(Fe,re,!0)}focusNext(F=1,re=!1,Se,Fe=this.focusNavigationFilter){this.view.focusNext(F,re,Se,Fe)}getFocus(){return this.focus.get()}reveal(F,re){this.model.expandTo(F);const Se=this.model.getListIndex(F);Se!==-1&&this.view.reveal(Se,re)}getRelativeTop(F){const re=this.model.getListIndex(F);return re===-1?null:this.view.getRelativeTop(re)}onLeftArrow(F){F.preventDefault(),F.stopPropagation();const re=this.view.getFocusedElements();if(re.length===0)return;const Se=re[0],Fe=this.model.getNodeLocation(Se);if(!this.model.setCollapsed(Fe,!0)){const Ot=this.model.getParentNodeLocation(Fe);if(!Ot)return;const Zt=this.model.getListIndex(Ot);this.view.reveal(Zt),this.view.setFocus([Zt])}}onRightArrow(F){F.preventDefault(),F.stopPropagation();const re=this.view.getFocusedElements();if(re.length===0)return;const Se=re[0],Fe=this.model.getNodeLocation(Se);if(!this.model.setCollapsed(Fe,!1)){if(!Se.children.some(di=>di.visible))return;const[Ot]=this.view.getFocus(),Zt=Ot+1;this.view.reveal(Zt),this.view.setFocus([Zt])}}onSpace(F){F.preventDefault(),F.stopPropagation();const re=this.view.getFocusedElements();if(re.length===0)return;const Se=re[0],Fe=this.model.getNodeLocation(Se),lt=F.browserEvent.altKey;this.model.setCollapsed(Fe,void 0,lt)}dispose(){(0,y.B9)(this.disposables),this.view.dispose()}}class we{constructor(F,re,Se={}){this.user=F,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new ve(F,re,null,Se),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,Se.sorter&&(this.sorter={compare(Fe,lt){return Se.sorter.compare(Fe.element,lt.element)}}),this.identityProvider=Se.identityProvider}setChildren(F,re=K.$.empty(),Se={}){const Fe=this.getElementLocation(F);this._setChildren(Fe,this.preserveCollapseState(re),Se)}_setChildren(F,re=K.$.empty(),Se){const Fe=new Set,lt=new Set,Ot=di=>{var Ei;if(di.element===null)return;const li=di;if(Fe.add(li.element),this.nodes.set(li.element,li),this.identityProvider){const Oi=this.identityProvider.getId(li.element).toString();lt.add(Oi),this.nodesByIdentity.set(Oi,li)}(Ei=Se.onDidCreateNode)===null||Ei===void 0||Ei.call(Se,li)},Zt=di=>{var Ei;if(di.element===null)return;const li=di;if(Fe.has(li.element)||this.nodes.delete(li.element),this.identityProvider){const Oi=this.identityProvider.getId(li.element).toString();lt.has(Oi)||this.nodesByIdentity.delete(Oi)}(Ei=Se.onDidDeleteNode)===null||Ei===void 0||Ei.call(Se,li)};this.model.splice([...F,0],Number.MAX_VALUE,re,Object.assign(Object.assign({},Se),{onDidCreateNode:Ot,onDidDeleteNode:Zt}))}preserveCollapseState(F=K.$.empty()){return this.sorter&&(F=[...F].sort(this.sorter.compare.bind(this.sorter))),K.$.map(F,re=>{let Se=this.nodes.get(re.element);if(!Se&&this.identityProvider){const Ot=this.identityProvider.getId(re.element).toString();Se=this.nodesByIdentity.get(Ot)}if(!Se)return Object.assign(Object.assign({},re),{children:this.preserveCollapseState(re.children)});const Fe=typeof re.collapsible=="boolean"?re.collapsible:Se.collapsible,lt=typeof re.collapsed!="undefined"?re.collapsed:Se.collapsed;return Object.assign(Object.assign({},re),{collapsible:Fe,collapsed:lt,children:this.preserveCollapseState(re.children)})})}rerender(F){const re=this.getElementLocation(F);this.model.rerender(re)}has(F){return this.nodes.has(F)}getListIndex(F){const re=this.getElementLocation(F);return this.model.getListIndex(re)}getListRenderCount(F){const re=this.getElementLocation(F);return this.model.getListRenderCount(re)}isCollapsible(F){const re=this.getElementLocation(F);return this.model.isCollapsible(re)}setCollapsible(F,re){const Se=this.getElementLocation(F);return this.model.setCollapsible(Se,re)}isCollapsed(F){const re=this.getElementLocation(F);return this.model.isCollapsed(re)}setCollapsed(F,re,Se){const Fe=this.getElementLocation(F);return this.model.setCollapsed(Fe,re,Se)}expandTo(F){const re=this.getElementLocation(F);this.model.expandTo(re)}refilter(){this.model.refilter()}getNode(F=null){if(F===null)return this.model.getNode(this.model.rootRef);const re=this.nodes.get(F);if(!re)throw new R(this.user,`Tree element not found: ${F}`);return re}getNodeLocation(F){return F.element}getParentNodeLocation(F){if(F===null)throw new R(this.user,"Invalid getParentNodeLocation call");const re=this.nodes.get(F);if(!re)throw new R(this.user,`Tree element not found: ${F}`);const Se=this.model.getNodeLocation(re),Fe=this.model.getParentNodeLocation(Se);return this.model.getNode(Fe).element}getElementLocation(F){if(F===null)return[];const re=this.nodes.get(F);if(!re)throw new R(this.user,`Tree element not found: ${F}`);return this.model.getNodeLocation(re)}}function Ye(Rt){const F=[Rt.element],re=Rt.incompressible||!1;return{element:{elements:F,incompressible:re},children:K.$.map(K.$.from(Rt.children),Ye),collapsible:Rt.collapsible,collapsed:Rt.collapsed}}function st(Rt){const F=[Rt.element],re=Rt.incompressible||!1;let Se,Fe;for(;[Fe,Se]=K.$.consume(K.$.from(Rt.children),2),!(Fe.length!==1||Fe[0].incompressible);)Rt=Fe[0],F.push(Rt.element);return{element:{elements:F,incompressible:re},children:K.$.map(K.$.concat(Fe,Se),st),collapsible:Rt.collapsible,collapsed:Rt.collapsed}}function Pt(Rt,F=0){let re;return F<Rt.element.elements.length-1?re=[Pt(Rt,F+1)]:re=K.$.map(K.$.from(Rt.children),Se=>Pt(Se,0)),F===0&&Rt.element.incompressible?{element:Rt.element.elements[F],children:re,incompressible:!0,collapsible:Rt.collapsible,collapsed:Rt.collapsed}:{element:Rt.element.elements[F],children:re,collapsible:Rt.collapsible,collapsed:Rt.collapsed}}function Qt(Rt){return Pt(Rt,0)}function ci(Rt,F,re){return Rt.element===F?Object.assign(Object.assign({},Rt),{children:re}):Object.assign(Object.assign({},Rt),{children:K.$.map(K.$.from(Rt.children),Se=>ci(Se,F,re))})}const Gt=Rt=>({getId(F){return F.elements.map(re=>Rt.getId(re).toString()).join("\0")}});class Lt{constructor(F,re,Se={}){this.user=F,this.rootRef=null,this.nodes=new Map,this.model=new we(F,re,Se),this.enabled=typeof Se.compressionEnabled=="undefined"?!0:Se.compressionEnabled,this.identityProvider=Se.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(F,re=K.$.empty(),Se){const Fe=Se.diffIdentityProvider&&Gt(Se.diffIdentityProvider);if(F===null){const yi=K.$.map(re,this.enabled?st:Ye);this._setChildren(null,yi,{diffIdentityProvider:Fe,diffDepth:1/0});return}const lt=this.nodes.get(F);if(!lt)throw new Error("Unknown compressed tree node");const Ot=this.model.getNode(lt),Zt=this.model.getParentNodeLocation(lt),di=this.model.getNode(Zt),Ei=Qt(Ot),li=ci(Ei,F,re),Oi=(this.enabled?st:Ye)(li),tn=di.children.map(yi=>yi===Ot?Oi:yi);this._setChildren(di.element,tn,{diffIdentityProvider:Fe,diffDepth:Ot.depth-di.depth})}setCompressionEnabled(F){if(F===this.enabled)return;this.enabled=F;const Se=this.model.getNode().children,Fe=K.$.map(Se,Qt),lt=K.$.map(Fe,F?st:Ye);this._setChildren(null,lt,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(F,re,Se){const Fe=new Set,lt=Zt=>{for(const di of Zt.element.elements)Fe.add(di),this.nodes.set(di,Zt.element)},Ot=Zt=>{for(const di of Zt.element.elements)Fe.has(di)||this.nodes.delete(di)};this.model.setChildren(F,re,Object.assign(Object.assign({},Se),{onDidCreateNode:lt,onDidDeleteNode:Ot}))}has(F){return this.nodes.has(F)}getListIndex(F){const re=this.getCompressedNode(F);return this.model.getListIndex(re)}getListRenderCount(F){const re=this.getCompressedNode(F);return this.model.getListRenderCount(re)}getNode(F){if(typeof F=="undefined")return this.model.getNode();const re=this.getCompressedNode(F);return this.model.getNode(re)}getNodeLocation(F){const re=this.model.getNodeLocation(F);return re===null?null:re.elements[re.elements.length-1]}getParentNodeLocation(F){const re=this.getCompressedNode(F),Se=this.model.getParentNodeLocation(re);return Se===null?null:Se.elements[Se.elements.length-1]}isCollapsible(F){const re=this.getCompressedNode(F);return this.model.isCollapsible(re)}setCollapsible(F,re){const Se=this.getCompressedNode(F);return this.model.setCollapsible(Se,re)}isCollapsed(F){const re=this.getCompressedNode(F);return this.model.isCollapsed(re)}setCollapsed(F,re,Se){const Fe=this.getCompressedNode(F);return this.model.setCollapsed(Fe,re,Se)}expandTo(F){const re=this.getCompressedNode(F);this.model.expandTo(re)}rerender(F){const re=this.getCompressedNode(F);this.model.rerender(re)}refilter(){this.model.refilter()}getCompressedNode(F){if(F===null)return null;const re=this.nodes.get(F);if(!re)throw new R(this.user,`Tree element not found: ${F}`);return re}}const Ai=Rt=>Rt[Rt.length-1];class oi{constructor(F,re){this.unwrapper=F,this.node=re}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(F=>new oi(this.unwrapper,F))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function $e(Rt,F){return{splice(re,Se,Fe){F.splice(re,Se,Fe.map(lt=>Rt.map(lt)))},updateElementHeight(re,Se){F.updateElementHeight(re,Se)}}}function Xe(Rt,F){return Object.assign(Object.assign({},F),{identityProvider:F.identityProvider&&{getId(re){return F.identityProvider.getId(Rt(re))}},sorter:F.sorter&&{compare(re,Se){return F.sorter.compare(re.elements[0],Se.elements[0])}},filter:F.filter&&{filter(re,Se){return F.filter.filter(Rt(re),Se)}}})}class wi{constructor(F,re,Se={}){this.rootRef=null,this.elementMapper=Se.elementMapper||Ai;const Fe=lt=>this.elementMapper(lt.elements);this.nodeMapper=new T(lt=>new oi(Fe,lt)),this.model=new Lt(F,$e(this.nodeMapper,re),Xe(Fe,Se))}get onDidSplice(){return O.ju.map(this.model.onDidSplice,({insertedNodes:F,deletedNodes:re})=>({insertedNodes:F.map(Se=>this.nodeMapper.map(Se)),deletedNodes:re.map(Se=>this.nodeMapper.map(Se))}))}get onDidChangeCollapseState(){return O.ju.map(this.model.onDidChangeCollapseState,({node:F,deep:re})=>({node:this.nodeMapper.map(F),deep:re}))}get onDidChangeRenderNodeCount(){return O.ju.map(this.model.onDidChangeRenderNodeCount,F=>this.nodeMapper.map(F))}setChildren(F,re=K.$.empty(),Se={}){this.model.setChildren(F,re,Se)}setCompressionEnabled(F){this.model.setCompressionEnabled(F)}has(F){return this.model.has(F)}getListIndex(F){return this.model.getListIndex(F)}getListRenderCount(F){return this.model.getListRenderCount(F)}getNode(F){return this.nodeMapper.map(this.model.getNode(F))}getNodeLocation(F){return F.element}getParentNodeLocation(F){return this.model.getParentNodeLocation(F)}isCollapsible(F){return this.model.isCollapsible(F)}setCollapsible(F,re){return this.model.setCollapsible(F,re)}isCollapsed(F){return this.model.isCollapsed(F)}setCollapsed(F,re,Se){return this.model.setCollapsed(F,re,Se)}expandTo(F){return this.model.expandTo(F)}rerender(F){return this.model.rerender(F)}refilter(){return this.model.refilter()}getCompressedTreeNode(F=null){return this.model.getNode(F)}}var ii=c(49898),Ui=function(Rt,F,re,Se){var Fe=arguments.length,lt=Fe<3?F:Se===null?Se=Object.getOwnPropertyDescriptor(F,re):Se,Ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(Rt,F,re,Se);else for(var Zt=Rt.length-1;Zt>=0;Zt--)(Ot=Rt[Zt])&&(lt=(Fe<3?Ot(lt):Fe>3?Ot(F,re,lt):Ot(F,re))||lt);return Fe>3&&lt&&Object.defineProperty(F,re,lt),lt};class Mn extends Oe{constructor(F,re,Se,Fe,lt={}){super(F,re,Se,Fe,lt)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(F,re=K.$.empty(),Se){this.model.setChildren(F,re,Se)}rerender(F){if(F===void 0){this.view.rerender();return}this.model.rerender(F)}hasElement(F){return this.model.has(F)}createModel(F,re,Se){return new we(F,re,Se)}}class Ri{constructor(F,re){this._compressedTreeNodeProvider=F,this.renderer=re,this.templateId=re.templateId,re.onDidChangeTwistieState&&(this.onDidChangeTwistieState=re.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(F){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(F)}}renderElement(F,re,Se,Fe){const lt=this.compressedTreeNodeProvider.getCompressedTreeNode(F.element);lt.element.elements.length===1?(Se.compressedTreeNode=void 0,this.renderer.renderElement(F,re,Se.data,Fe)):(Se.compressedTreeNode=lt,this.renderer.renderCompressedElements(lt,re,Se.data,Fe))}disposeElement(F,re,Se,Fe){Se.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(Se.compressedTreeNode,re,Se.data,Fe):this.renderer.disposeElement&&this.renderer.disposeElement(F,re,Se.data,Fe)}disposeTemplate(F){this.renderer.disposeTemplate(F.data)}renderTwistie(F,re){return this.renderer.renderTwistie?this.renderer.renderTwistie(F,re):!1}}Ui([ii.H],Ri.prototype,"compressedTreeNodeProvider",null);function ps(Rt,F){return F&&Object.assign(Object.assign({},F),{keyboardNavigationLabelProvider:F.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(re){let Se;try{Se=Rt().getCompressedTreeNode(re)}catch(Fe){return F.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(re)}return Se.element.elements.length===1?F.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(re):F.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Se.element.elements)}}})}class Zn extends Mn{constructor(F,re,Se,Fe,lt={}){const Ot=()=>this,Zt=Fe.map(di=>new Ri(Ot,di));super(F,re,Se,Zt,ps(Ot,lt))}setChildren(F,re=K.$.empty(),Se){this.model.setChildren(F,re,Se)}createModel(F,re,Se){return new wi(F,re,Se)}updateOptions(F={}){super.updateOptions(F),typeof F.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(F.compressionEnabled)}getCompressedTreeNode(F=null){return this.model.getCompressedTreeNode(F)}}var Bn=c(17301),Xi=function(Rt,F,re,Se){function Fe(lt){return lt instanceof re?lt:new re(function(Ot){Ot(lt)})}return new(re||(re=Promise))(function(lt,Ot){function Zt(li){try{Ei(Se.next(li))}catch(Oi){Ot(Oi)}}function di(li){try{Ei(Se.throw(li))}catch(Oi){Ot(Oi)}}function Ei(li){li.done?lt(li.value):Fe(li.value).then(Zt,di)}Ei((Se=Se.apply(Rt,F||[])).next())})};function Vn(Rt){return Object.assign(Object.assign({},Rt),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function qi(Rt,F){return F.parent?F.parent===Rt?!0:qi(Rt,F.parent):!1}function je(Rt,F){return Rt===F||qi(Rt,F)||qi(F,Rt)}class Tt{constructor(F){this.node=F}get element(){return this.node.element.element}get children(){return this.node.children.map(F=>new Tt(F))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class St{constructor(F,re,Se){this.renderer=F,this.nodeMapper=re,this.onDidChangeTwistieState=Se,this.renderedNodes=new Map,this.templateId=F.templateId}renderTemplate(F){return{templateData:this.renderer.renderTemplate(F)}}renderElement(F,re,Se,Fe){this.renderer.renderElement(this.nodeMapper.map(F),re,Se.templateData,Fe)}renderTwistie(F,re){return F.slow?(re.classList.add(...q.classNamesArray),!0):(re.classList.remove(...q.classNamesArray),!1)}disposeElement(F,re,Se,Fe){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(F),re,Se.templateData,Fe)}disposeTemplate(F){this.renderer.disposeTemplate(F.templateData)}dispose(){this.renderedNodes.clear()}}function Ze(Rt){return{browserEvent:Rt.browserEvent,elements:Rt.elements.map(F=>F.element)}}function Je(Rt){return{browserEvent:Rt.browserEvent,element:Rt.element&&Rt.element.element,target:Rt.target}}class xt extends D.kX{constructor(F){super(F.elements.map(re=>re.element)),this.data=F}}function yt(Rt){return Rt instanceof D.kX?new xt(Rt):Rt}class Xt{constructor(F){this.dnd=F}getDragURI(F){return this.dnd.getDragURI(F.element)}getDragLabel(F,re){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(F.map(Se=>Se.element),re)}onDragStart(F,re){this.dnd.onDragStart&&this.dnd.onDragStart(yt(F),re)}onDragOver(F,re,Se,Fe,lt=!0){return this.dnd.onDragOver(yt(F),re&&re.element,Se,Fe)}drop(F,re,Se,Fe){this.dnd.drop(yt(F),re&&re.element,Se,Fe)}onDragEnd(F){this.dnd.onDragEnd&&this.dnd.onDragEnd(F)}}function ni(Rt){return Rt&&Object.assign(Object.assign({},Rt),{collapseByDefault:!0,identityProvider:Rt.identityProvider&&{getId(F){return Rt.identityProvider.getId(F.element)}},dnd:Rt.dnd&&new Xt(Rt.dnd),multipleSelectionController:Rt.multipleSelectionController&&{isSelectionSingleChangeEvent(F){return Rt.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},F),{element:F.element}))},isSelectionRangeChangeEvent(F){return Rt.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},F),{element:F.element}))}},accessibilityProvider:Rt.accessibilityProvider&&Object.assign(Object.assign({},Rt.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:Rt.accessibilityProvider.getRole?F=>Rt.accessibilityProvider.getRole(F.element):()=>"treeitem",isChecked:Rt.accessibilityProvider.isChecked?F=>{var re;return!!(!((re=Rt.accessibilityProvider)===null||re===void 0)&&re.isChecked(F.element))}:void 0,getAriaLabel(F){return Rt.accessibilityProvider.getAriaLabel(F.element)},getWidgetAriaLabel(){return Rt.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:Rt.accessibilityProvider.getWidgetRole?()=>Rt.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:Rt.accessibilityProvider.getAriaLevel&&(F=>Rt.accessibilityProvider.getAriaLevel(F.element)),getActiveDescendantId:Rt.accessibilityProvider.getActiveDescendantId&&(F=>Rt.accessibilityProvider.getActiveDescendantId(F.element))}),filter:Rt.filter&&{filter(F,re){return Rt.filter.filter(F.element,re)}},keyboardNavigationLabelProvider:Rt.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},Rt.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(F){return Rt.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(F.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof Rt.expandOnlyOnTwistieClick=="undefined"?void 0:typeof Rt.expandOnlyOnTwistieClick!="function"?Rt.expandOnlyOnTwistieClick:F=>Rt.expandOnlyOnTwistieClick(F.element),additionalScrollHeight:Rt.additionalScrollHeight})}function gi(Rt,F){F(Rt),Rt.children.forEach(re=>gi(re,F))}class Gi{constructor(F,re,Se,Fe,lt,Ot={}){this.user=F,this.dataSource=lt,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new O.Q5,this._onDidChangeNodeSlowState=new O.Q5,this.nodeMapper=new T(Zt=>new Tt(Zt)),this.disposables=new y.SL,this.identityProvider=Ot.identityProvider,this.autoExpandSingleChildren=typeof Ot.autoExpandSingleChildren=="undefined"?!1:Ot.autoExpandSingleChildren,this.sorter=Ot.sorter,this.collapseByDefault=Ot.collapseByDefault,this.tree=this.createTree(F,re,Se,Fe,Ot),this.root=Vn({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return O.ju.map(this.tree.onDidChangeFocus,Ze)}get onDidChangeSelection(){return O.ju.map(this.tree.onDidChangeSelection,Ze)}get onMouseDblClick(){return O.ju.map(this.tree.onMouseDblClick,Je)}get onPointer(){return O.ju.map(this.tree.onPointer,Je)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(F,re,Se,Fe,lt){const Ot=new ht(Se),Zt=Fe.map(Ei=>new St(Ei,this.nodeMapper,this._onDidChangeNodeSlowState.event)),di=ni(lt)||{};return new Mn(F,re,Ot,Zt,di)}updateOptions(F={}){this.tree.updateOptions(F)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(F){this.tree.scrollTop=F}domFocus(){this.tree.domFocus()}layout(F,re){this.tree.layout(F,re)}style(F){this.tree.style(F)}getInput(){return this.root.element}setInput(F,re){return Xi(this,void 0,void 0,function*(){this.refreshPromises.forEach(Fe=>Fe.cancel()),this.refreshPromises.clear(),this.root.element=F;const Se=re&&{viewState:re,focus:[],selection:[]};yield this._updateChildren(F,!0,!1,Se),Se&&(this.tree.setFocus(Se.focus),this.tree.setSelection(Se.selection)),re&&typeof re.scrollTop=="number"&&(this.scrollTop=re.scrollTop)})}_updateChildren(F=this.root.element,re=!0,Se=!1,Fe,lt){return Xi(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new R(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield O.ju.toPromise(this._onDidRender.event));const Ot=this.getDataNode(F);if(yield this.refreshAndRenderNode(Ot,re,Fe,lt),Se)try{this.tree.rerender(Ot)}catch(Zt){}})}rerender(F){if(F===void 0||F===this.root.element){this.tree.rerender();return}const re=this.getDataNode(F);this.tree.rerender(re)}collapse(F,re=!1){const Se=this.getDataNode(F);return this.tree.collapse(Se===this.root?null:Se,re)}expand(F,re=!1){return Xi(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new R(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield O.ju.toPromise(this._onDidRender.event));const Se=this.getDataNode(F);if(this.tree.hasElement(Se)&&!this.tree.isCollapsible(Se)||(Se.refreshPromise&&(yield this.root.refreshPromise,yield O.ju.toPromise(this._onDidRender.event)),Se!==this.root&&!Se.refreshPromise&&!this.tree.isCollapsed(Se)))return!1;const Fe=this.tree.expand(Se===this.root?null:Se,re);return Se.refreshPromise&&(yield this.root.refreshPromise,yield O.ju.toPromise(this._onDidRender.event)),Fe})}setSelection(F,re){const Se=F.map(Fe=>this.getDataNode(Fe));this.tree.setSelection(Se,re)}getSelection(){return this.tree.getSelection().map(re=>re.element)}setFocus(F,re){const Se=F.map(Fe=>this.getDataNode(Fe));this.tree.setFocus(Se,re)}getFocus(){return this.tree.getFocus().map(re=>re.element)}reveal(F,re){this.tree.reveal(this.getDataNode(F),re)}getDataNode(F){const re=this.nodes.get(F===this.root.element?null:F);if(!re)throw new R(this.user,`Data tree node not found: ${F}`);return re}refreshAndRenderNode(F,re,Se,Fe){return Xi(this,void 0,void 0,function*(){yield this.refreshNode(F,re,Se),this.render(F,Se,Fe)})}refreshNode(F,re,Se){return Xi(this,void 0,void 0,function*(){let Fe;return this.subTreeRefreshPromises.forEach((lt,Ot)=>{!Fe&&je(Ot,F)&&(Fe=lt.then(()=>this.refreshNode(F,re,Se)))}),Fe||this.doRefreshSubTree(F,re,Se)})}doRefreshSubTree(F,re,Se){return Xi(this,void 0,void 0,function*(){let Fe;F.refreshPromise=new Promise(lt=>Fe=lt),this.subTreeRefreshPromises.set(F,F.refreshPromise),F.refreshPromise.finally(()=>{F.refreshPromise=void 0,this.subTreeRefreshPromises.delete(F)});try{const lt=yield this.doRefreshNode(F,re,Se);F.stale=!1,yield p.jT.settled(lt.map(Ot=>this.doRefreshSubTree(Ot,re,Se)))}finally{Fe()}})}doRefreshNode(F,re,Se){return Xi(this,void 0,void 0,function*(){F.hasChildren=!!this.dataSource.hasChildren(F.element);let Fe;if(!F.hasChildren)Fe=Promise.resolve(K.$.empty());else{const lt=(0,p.Vs)(800);lt.then(()=>{F.slow=!0,this._onDidChangeNodeSlowState.fire(F)},Ot=>null),Fe=this.doGetChildren(F).finally(()=>lt.cancel())}try{const lt=yield Fe;return this.setChildren(F,lt,re,Se)}catch(lt){if(F!==this.root&&this.tree.hasElement(F)&&this.tree.collapse(F),(0,Bn.VV)(lt))return[];throw lt}finally{F.slow&&(F.slow=!1,this._onDidChangeNodeSlowState.fire(F))}})}doGetChildren(F){let re=this.refreshPromises.get(F);return re||(re=(0,p.PG)(()=>Xi(this,void 0,void 0,function*(){const Se=yield this.dataSource.getChildren(F.element);return this.processChildren(Se)})),this.refreshPromises.set(F,re),re.finally(()=>{this.refreshPromises.delete(F)}))}_onDidChangeCollapseState({node:F,deep:re}){F.element!==null&&!F.collapsed&&F.element.stale&&(re?this.collapse(F.element.element):this.refreshAndRenderNode(F.element,!1).catch(Bn.dL))}setChildren(F,re,Se,Fe){const lt=[...re];if(F.children.length===0&&lt.length===0)return[];const Ot=new Map,Zt=new Map;for(const li of F.children)if(Ot.set(li.element,li),this.identityProvider){const Oi=this.tree.isCollapsed(li);Zt.set(li.id,{node:li,collapsed:Oi})}const di=[],Ei=lt.map(li=>{const Oi=!!this.dataSource.hasChildren(li);if(!this.identityProvider){const Qi=Vn({element:li,parent:F,hasChildren:Oi});return Oi&&this.collapseByDefault&&!this.collapseByDefault(li)&&(Qi.collapsedByDefault=!1,di.push(Qi)),Qi}const tn=this.identityProvider.getId(li).toString(),yi=Zt.get(tn);if(yi){const Qi=yi.node;return Ot.delete(Qi.element),this.nodes.delete(Qi.element),this.nodes.set(li,Qi),Qi.element=li,Qi.hasChildren=Oi,Se?yi.collapsed?(Qi.children.forEach(Sn=>gi(Sn,ns=>this.nodes.delete(ns.element))),Qi.children.splice(0,Qi.children.length),Qi.stale=!0):di.push(Qi):Oi&&this.collapseByDefault&&!this.collapseByDefault(li)&&(Qi.collapsedByDefault=!1,di.push(Qi)),Qi}const nn=Vn({element:li,parent:F,id:tn,hasChildren:Oi});return Fe&&Fe.viewState.focus&&Fe.viewState.focus.indexOf(tn)>-1&&Fe.focus.push(nn),Fe&&Fe.viewState.selection&&Fe.viewState.selection.indexOf(tn)>-1&&Fe.selection.push(nn),Fe&&Fe.viewState.expanded&&Fe.viewState.expanded.indexOf(tn)>-1?di.push(nn):Oi&&this.collapseByDefault&&!this.collapseByDefault(li)&&(nn.collapsedByDefault=!1,di.push(nn)),nn});for(const li of Ot.values())gi(li,Oi=>this.nodes.delete(Oi.element));for(const li of Ei)this.nodes.set(li.element,li);return F.children.splice(0,F.children.length,...Ei),F!==this.root&&this.autoExpandSingleChildren&&Ei.length===1&&di.length===0&&(Ei[0].collapsedByDefault=!1,di.push(Ei[0])),di}render(F,re,Se){const Fe=F.children.map(Ot=>this.asTreeElement(Ot,re)),lt=Se&&Object.assign(Object.assign({},Se),{diffIdentityProvider:Se.diffIdentityProvider&&{getId(Ot){return Se.diffIdentityProvider.getId(Ot.element)}}});this.tree.setChildren(F===this.root?null:F,Fe,lt),F!==this.root&&this.tree.setCollapsible(F,F.hasChildren),this._onDidRender.fire()}asTreeElement(F,re){if(F.stale)return{element:F,collapsible:F.hasChildren,collapsed:!0};let Se;return re&&re.viewState.expanded&&F.id&&re.viewState.expanded.indexOf(F.id)>-1?Se=!1:Se=F.collapsedByDefault,F.collapsedByDefault=void 0,{element:F,children:F.hasChildren?K.$.map(F.children,Fe=>this.asTreeElement(Fe,re)):[],collapsible:F.hasChildren,collapsed:Se}}processChildren(F){return this.sorter&&(F=[...F].sort(this.sorter.compare.bind(this.sorter))),F}dispose(){this.disposables.dispose()}}class ji{constructor(F){this.node=F}get element(){return{elements:this.node.element.elements.map(F=>F.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(F=>new ji(F))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class is{constructor(F,re,Se,Fe){this.renderer=F,this.nodeMapper=re,this.compressibleNodeMapperProvider=Se,this.onDidChangeTwistieState=Fe,this.renderedNodes=new Map,this.disposables=[],this.templateId=F.templateId}renderTemplate(F){return{templateData:this.renderer.renderTemplate(F)}}renderElement(F,re,Se,Fe){this.renderer.renderElement(this.nodeMapper.map(F),re,Se.templateData,Fe)}renderCompressedElements(F,re,Se,Fe){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(F),re,Se.templateData,Fe)}renderTwistie(F,re){return F.slow?(re.classList.add(...q.classNamesArray),!0):(re.classList.remove(...q.classNamesArray),!1)}disposeElement(F,re,Se,Fe){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(F),re,Se.templateData,Fe)}disposeCompressedElements(F,re,Se,Fe){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(F),re,Se.templateData,Fe)}disposeTemplate(F){this.renderer.disposeTemplate(F.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,y.B9)(this.disposables)}}function Hi(Rt){const F=Rt&&ni(Rt);return F&&Object.assign(Object.assign({},F),{keyboardNavigationLabelProvider:F.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},F.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(re){return Rt.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(re.map(Se=>Se.element))}})})}class hn extends Gi{constructor(F,re,Se,Fe,lt,Ot,Zt={}){super(F,re,Se,lt,Ot,Zt),this.compressionDelegate=Fe,this.compressibleNodeMapper=new T(di=>new ji(di)),this.filter=Zt.filter}createTree(F,re,Se,Fe,lt){const Ot=new ht(Se),Zt=Fe.map(Ei=>new is(Ei,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),di=Hi(lt)||{};return new Zn(F,re,Ot,Zt,di)}asTreeElement(F,re){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(F.element)},super.asTreeElement(F,re))}updateOptions(F={}){this.tree.updateOptions(F)}render(F,re){if(!this.identityProvider)return super.render(F,re);const Se=tn=>this.identityProvider.getId(tn).toString(),Fe=tn=>{const yi=new Set;for(const nn of tn){const Qi=this.tree.getCompressedTreeNode(nn===this.root?null:nn);if(Qi.element)for(const Sn of Qi.element.elements)yi.add(Se(Sn.element))}return yi},lt=Fe(this.tree.getSelection()),Ot=Fe(this.tree.getFocus());super.render(F,re);const Zt=this.getSelection();let di=!1;const Ei=this.getFocus();let li=!1;const Oi=tn=>{const yi=tn.element;if(yi)for(let nn=0;nn<yi.elements.length;nn++){const Qi=Se(yi.elements[nn].element),Sn=yi.elements[yi.elements.length-1].element;lt.has(Qi)&&Zt.indexOf(Sn)===-1&&(Zt.push(Sn),di=!0),Ot.has(Qi)&&Ei.indexOf(Sn)===-1&&(Ei.push(Sn),li=!0)}tn.children.forEach(Oi)};Oi(this.tree.getCompressedTreeNode(F===this.root?null:F)),di&&this.setSelection(Zt),li&&this.setFocus(Ei)}processChildren(F){return this.filter&&(F=K.$.filter(F,re=>{const Se=this.filter.filter(re,1),Fe=vt(Se);if(Fe===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return Fe===1})),super.processChildren(F)}}function vt(Rt){return typeof Rt=="boolean"?Rt?1:0:ie(Rt)?ce(Rt.visibility):ce(Rt)}class mt extends Oe{constructor(F,re,Se,Fe,lt,Ot={}){super(F,re,Se,Fe,Ot),this.user=F,this.dataSource=lt,this.identityProvider=Ot.identityProvider}createModel(F,re,Se){return new we(F,re,Se)}}var Nt=c(31106),He=c(33108),Qe=c(23193),ft=c(38819);const ct=new ft.uy("isWindows",me.ED,(0,de.N)("isWindows","Whether the operating system is Windows")),ei="inputFocus";var Vi=c(72065),fi=c(91847),Di=c(89872),zi=c(88810),dn=c(97781),gn=function(Rt,F,re,Se){var Fe=arguments.length,lt=Fe<3?F:Se===null?Se=Object.getOwnPropertyDescriptor(F,re):Se,Ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(Rt,F,re,Se);else for(var Zt=Rt.length-1;Zt>=0;Zt--)(Ot=Rt[Zt])&&(lt=(Fe<3?Ot(lt):Fe>3?Ot(F,re,lt):Ot(F,re))||lt);return Fe>3&&lt&&Object.defineProperty(F,re,lt),lt},Mi=function(Rt,F){return function(re,Se){F(re,Se,Rt)}};const pi=(0,Vi.yh)("listService");let Cn=class{constructor(F){this._themeService=F,this.disposables=new y.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(F,re){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const Fe=new k.wD((0,g.dS)(),"");this.disposables.add((0,zi.Jl)(Fe,this._themeService))}if(this.lists.some(Fe=>Fe.widget===F))throw new Error("Cannot register the same widget multiple times");const Se={widget:F,extraContextKeys:re};return this.lists.push(Se),F.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=F),(0,y.F8)(F.onDidFocus(()=>this._lastFocusedWidget=F),(0,y.OF)(()=>this.lists.splice(this.lists.indexOf(Se),1)),F.onDidDispose(()=>{this.lists=this.lists.filter(Fe=>Fe!==Se),this._lastFocusedWidget===F&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};Cn=gn([Mi(0,dn.XE)],Cn);const En=new ft.uy("listFocus",!0),Yn=new ft.uy("listSupportsMultiselect",!0),vs=ft.Ao.and(En,ft.Ao.not(ei)),ds=new ft.uy("listHasSelectionOrFocus",!1),Is=new ft.uy("listDoubleSelection",!1),Fo=new ft.uy("listMultiSelection",!1),no=new ft.uy("listSelectionNavigation",!1),Ls="listAutomaticKeyboardNavigation";function Io(Rt,F){const re=Rt.createScoped(F.getHTMLElement());return En.bindTo(re),re}const Xs="workbench.list.multiSelectModifier",So="workbench.list.openMode",Hs="workbench.list.horizontalScrolling",zs="workbench.list.keyboardNavigation",uo="workbench.list.automaticKeyboardNavigation",xo="workbench.tree.indent",to="workbench.tree.renderIndentGuides",so="workbench.list.smoothScrolling",Oo="workbench.list.mouseWheelScrollSensitivity",us="workbench.list.fastScrollSensitivity",Eo="workbench.tree.expandMode";function hs(Rt){return Rt.getValue(Xs)==="alt"}class os extends y.JT{constructor(F){super(),this.configurationService=F,this.useAltAsMultipleSelectionModifier=hs(F),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(F=>{F.affectsConfiguration(Xs)&&(this.useAltAsMultipleSelectionModifier=hs(this.configurationService))}))}isSelectionSingleChangeEvent(F){return this.useAltAsMultipleSelectionModifier?F.browserEvent.altKey:(0,k.Zo)(F)}isSelectionRangeChangeEvent(F){return(0,k.wn)(F)}}function vo(Rt,F,re){var Se;const Fe=new y.SL;return[Object.assign(Object.assign({},Rt),{keyboardNavigationDelegate:{mightProducePrintableCharacter(Ot){return re.mightProducePrintableCharacter(Ot)}},smoothScrolling:!!F.getValue(so),mouseWheelScrollSensitivity:F.getValue(Oo),fastScrollSensitivity:F.getValue(us),multipleSelectionController:(Se=Rt.multipleSelectionController)!==null&&Se!==void 0?Se:Fe.add(new os(F))}),Fe]}let rs=class extends k.aV{constructor(F,re,Se,Fe,lt,Ot,Zt,di,Ei,li){const Oi=typeof lt.horizontalScrolling!="undefined"?lt.horizontalScrolling:!!Ei.getValue(Hs),[tn,yi]=vo(lt,Ei,li);super(F,re,Se,Fe,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,zi.o)(di.getColorTheme(),zi.O2)),tn),{horizontalScrolling:Oi})),this.disposables.add(yi),this.contextKeyService=Io(Ot,this),this.themeService=di,this.listSupportsMultiSelect=Yn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(lt.multipleSelectionSupport!==!1),no.bindTo(this.contextKeyService).set(!!lt.selectionNavigation),this.listHasSelectionOrFocus=ds.bindTo(this.contextKeyService),this.listDoubleSelection=Is.bindTo(this.contextKeyService),this.listMultiSelection=Fo.bindTo(this.contextKeyService),this.horizontalScrolling=lt.horizontalScrolling,this._useAltAsMultipleSelectionModifier=hs(Ei),this.disposables.add(this.contextKeyService),this.disposables.add(Zt.register(this)),lt.overrideStyles&&this.updateStyles(lt.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Qi=this.getSelection(),Sn=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Qi.length>0||Sn.length>0),this.listMultiSelection.set(Qi.length>1),this.listDoubleSelection.set(Qi.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Qi=this.getSelection(),Sn=this.getFocus();this.listHasSelectionOrFocus.set(Qi.length>0||Sn.length>0)})),this.disposables.add(Ei.onDidChangeConfiguration(Qi=>{Qi.affectsConfiguration(Xs)&&(this._useAltAsMultipleSelectionModifier=hs(Ei));let Sn={};if(Qi.affectsConfiguration(Hs)&&this.horizontalScrolling===void 0){const ns=!!Ei.getValue(Hs);Sn=Object.assign(Object.assign({},Sn),{horizontalScrolling:ns})}if(Qi.affectsConfiguration(so)){const ns=!!Ei.getValue(so);Sn=Object.assign(Object.assign({},Sn),{smoothScrolling:ns})}if(Qi.affectsConfiguration(Oo)){const ns=Ei.getValue(Oo);Sn=Object.assign(Object.assign({},Sn),{mouseWheelScrollSensitivity:ns})}if(Qi.affectsConfiguration(us)){const ns=Ei.getValue(us);Sn=Object.assign(Object.assign({},Sn),{fastScrollSensitivity:ns})}Object.keys(Sn).length>0&&this.updateOptions(Sn)})),this.navigator=new hi(this,Object.assign({configurationService:Ei},lt)),this.disposables.add(this.navigator)}updateOptions(F){super.updateOptions(F),F.overrideStyles&&this.updateStyles(F.overrideStyles),F.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!F.multipleSelectionSupport)}updateStyles(F){var re;(re=this._styler)===null||re===void 0||re.dispose(),this._styler=(0,zi.Jl)(this,this.themeService,F)}dispose(){var F;(F=this._styler)===null||F===void 0||F.dispose(),super.dispose()}};rs=gn([Mi(5,ft.i6),Mi(6,pi),Mi(7,dn.XE),Mi(8,He.Ui),Mi(9,fi.d)],rs);let co=class extends m{constructor(F,re,Se,Fe,lt,Ot,Zt,di,Ei,li){const Oi=typeof lt.horizontalScrolling!="undefined"?lt.horizontalScrolling:!!Ei.getValue(Hs),[tn,yi]=vo(lt,Ei,li);super(F,re,Se,Fe,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,zi.o)(di.getColorTheme(),zi.O2)),tn),{horizontalScrolling:Oi})),this.disposables=new y.SL,this.disposables.add(yi),this.contextKeyService=Io(Ot,this),this.themeService=di,this.horizontalScrolling=lt.horizontalScrolling,this.listSupportsMultiSelect=Yn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(lt.multipleSelectionSupport!==!1),no.bindTo(this.contextKeyService).set(!!lt.selectionNavigation),this._useAltAsMultipleSelectionModifier=hs(Ei),this.disposables.add(this.contextKeyService),this.disposables.add(Zt.register(this)),lt.overrideStyles&&this.updateStyles(lt.overrideStyles),lt.overrideStyles&&this.disposables.add((0,zi.Jl)(this,di,lt.overrideStyles)),this.disposables.add(Ei.onDidChangeConfiguration(Qi=>{Qi.affectsConfiguration(Xs)&&(this._useAltAsMultipleSelectionModifier=hs(Ei));let Sn={};if(Qi.affectsConfiguration(Hs)&&this.horizontalScrolling===void 0){const ns=!!Ei.getValue(Hs);Sn=Object.assign(Object.assign({},Sn),{horizontalScrolling:ns})}if(Qi.affectsConfiguration(so)){const ns=!!Ei.getValue(so);Sn=Object.assign(Object.assign({},Sn),{smoothScrolling:ns})}if(Qi.affectsConfiguration(Oo)){const ns=Ei.getValue(Oo);Sn=Object.assign(Object.assign({},Sn),{mouseWheelScrollSensitivity:ns})}if(Qi.affectsConfiguration(us)){const ns=Ei.getValue(us);Sn=Object.assign(Object.assign({},Sn),{fastScrollSensitivity:ns})}Object.keys(Sn).length>0&&this.updateOptions(Sn)})),this.navigator=new hi(this,Object.assign({configurationService:Ei},lt)),this.disposables.add(this.navigator)}updateOptions(F){super.updateOptions(F),F.overrideStyles&&this.updateStyles(F.overrideStyles),F.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!F.multipleSelectionSupport)}updateStyles(F){var re;(re=this._styler)===null||re===void 0||re.dispose(),this._styler=(0,zi.Jl)(this,this.themeService,F)}dispose(){var F;(F=this._styler)===null||F===void 0||F.dispose(),this.disposables.dispose(),super.dispose()}};co=gn([Mi(5,ft.i6),Mi(6,pi),Mi(7,dn.XE),Mi(8,He.Ui),Mi(9,fi.d)],co);let Ws=class extends w{constructor(F,re,Se,Fe,lt,Ot,Zt,di,Ei,li,Oi){const tn=typeof Ot.horizontalScrolling!="undefined"?Ot.horizontalScrolling:!!li.getValue(Hs),[yi,nn]=vo(Ot,li,Oi);super(F,re,Se,Fe,lt,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,zi.o)(Ei.getColorTheme(),zi.O2)),yi),{horizontalScrolling:tn})),this.disposables=new y.SL,this.disposables.add(nn),this.contextKeyService=Io(Zt,this),this.themeService=Ei,this.listSupportsMultiSelect=Yn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ot.multipleSelectionSupport!==!1),no.bindTo(this.contextKeyService).set(!!Ot.selectionNavigation),this.listHasSelectionOrFocus=ds.bindTo(this.contextKeyService),this.listDoubleSelection=Is.bindTo(this.contextKeyService),this.listMultiSelection=Fo.bindTo(this.contextKeyService),this.horizontalScrolling=Ot.horizontalScrolling,this._useAltAsMultipleSelectionModifier=hs(li),this.disposables.add(this.contextKeyService),this.disposables.add(di.register(this)),Ot.overrideStyles&&this.updateStyles(Ot.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Sn=this.getSelection(),ns=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Sn.length>0||ns.length>0),this.listMultiSelection.set(Sn.length>1),this.listDoubleSelection.set(Sn.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Sn=this.getSelection(),ns=this.getFocus();this.listHasSelectionOrFocus.set(Sn.length>0||ns.length>0)})),this.disposables.add(li.onDidChangeConfiguration(Sn=>{Sn.affectsConfiguration(Xs)&&(this._useAltAsMultipleSelectionModifier=hs(li));let ns={};if(Sn.affectsConfiguration(Hs)&&this.horizontalScrolling===void 0){const Ms=!!li.getValue(Hs);ns=Object.assign(Object.assign({},ns),{horizontalScrolling:Ms})}if(Sn.affectsConfiguration(so)){const Ms=!!li.getValue(so);ns=Object.assign(Object.assign({},ns),{smoothScrolling:Ms})}if(Sn.affectsConfiguration(Oo)){const Ms=li.getValue(Oo);ns=Object.assign(Object.assign({},ns),{mouseWheelScrollSensitivity:Ms})}if(Sn.affectsConfiguration(us)){const Ms=li.getValue(us);ns=Object.assign(Object.assign({},ns),{fastScrollSensitivity:Ms})}Object.keys(ns).length>0&&this.updateOptions(ns)})),this.navigator=new ge(this,Object.assign({configurationService:li},Ot)),this.disposables.add(this.navigator)}updateOptions(F){super.updateOptions(F),F.overrideStyles&&this.updateStyles(F.overrideStyles),F.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!F.multipleSelectionSupport)}updateStyles(F){var re;(re=this._styler)===null||re===void 0||re.dispose(),this._styler=(0,zi.Jl)(this,this.themeService,F)}dispose(){var F;(F=this._styler)===null||F===void 0||F.dispose(),this.disposables.dispose(),super.dispose()}};Ws=gn([Mi(6,ft.i6),Mi(7,pi),Mi(8,dn.XE),Mi(9,He.Ui),Mi(10,fi.d)],Ws);class ho extends y.JT{constructor(F,re){var Se;super(),this.widget=F,this._onDidOpen=this._register(new O.Q5),this.onDidOpen=this._onDidOpen.event,this._register(O.ju.filter(this.widget.onDidChangeSelection,Fe=>Fe.browserEvent instanceof KeyboardEvent)(Fe=>this.onSelectionFromKeyboard(Fe))),this._register(this.widget.onPointer(Fe=>this.onPointer(Fe.element,Fe.browserEvent))),this._register(this.widget.onMouseDblClick(Fe=>this.onMouseDblClick(Fe.element,Fe.browserEvent))),typeof(re==null?void 0:re.openOnSingleClick)!="boolean"&&(re!=null&&re.configurationService)?(this.openOnSingleClick=(re==null?void 0:re.configurationService.getValue(So))!=="doubleClick",this._register(re==null?void 0:re.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(re==null?void 0:re.configurationService.getValue(So))!=="doubleClick"}))):this.openOnSingleClick=(Se=re==null?void 0:re.openOnSingleClick)!==null&&Se!==void 0?Se:!0}onSelectionFromKeyboard(F){if(F.elements.length!==1)return;const re=F.browserEvent,Se=typeof re.preserveFocus=="boolean"?re.preserveFocus:!0,Fe=typeof re.pinned=="boolean"?re.pinned:!Se;this._open(this.getSelectedElement(),Se,Fe,!1,F.browserEvent)}onPointer(F,re){if(!this.openOnSingleClick||re.detail===2)return;const Fe=re.button===1,lt=!0,Ot=Fe,Zt=re.ctrlKey||re.metaKey||re.altKey;this._open(F,lt,Ot,Zt,re)}onMouseDblClick(F,re){if(!re)return;const Se=re.target;if(Se.classList.contains("monaco-tl-twistie")||Se.classList.contains("monaco-icon-label")&&Se.classList.contains("folder-icon")&&re.offsetX<16)return;const lt=!1,Ot=!0,Zt=re.ctrlKey||re.metaKey||re.altKey;this._open(F,lt,Ot,Zt,re)}_open(F,re,Se,Fe,lt){F&&this._onDidOpen.fire({editorOptions:{preserveFocus:re,pinned:Se,revealIfVisible:!0},sideBySide:Fe,element:F,browserEvent:lt})}}class hi extends ho{constructor(F,re){super(F,re),this.widget=F}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ge extends ho{constructor(F,re){super(F,re)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ut extends ho{constructor(F,re){super(F,re)}getSelectedElement(){var F;return(F=this.widget.getSelection()[0])!==null&&F!==void 0?F:void 0}}function gt(Rt,F){let re=!1;return Se=>{if(re)return re=!1,!1;const Fe=F.softDispatch(Se,Rt);return Fe&&Fe.enterChord?(re=!0,!1):(re=!1,!0)}}let Bt=class extends Mn{constructor(F,re,Se,Fe,lt,Ot,Zt,di,Ei,li,Oi){const{options:tn,getAutomaticKeyboardNavigation:yi,disposable:nn}=un(re,lt,Ot,Ei,li,Oi);super(F,re,Se,Fe,tn),this.disposables.add(nn),this.internals=new Bi(this,lt,yi,lt.overrideStyles,Ot,Zt,di,Ei,Oi),this.disposables.add(this.internals)}updateOptions(F){super.updateOptions(F),this.internals.updateOptions(F)}};Bt=gn([Mi(5,ft.i6),Mi(6,pi),Mi(7,dn.XE),Mi(8,He.Ui),Mi(9,fi.d),Mi(10,Nt.F)],Bt);let qt=class extends Zn{constructor(F,re,Se,Fe,lt,Ot,Zt,di,Ei,li,Oi){const{options:tn,getAutomaticKeyboardNavigation:yi,disposable:nn}=un(re,lt,Ot,Ei,li,Oi);super(F,re,Se,Fe,tn),this.disposables.add(nn),this.internals=new Bi(this,lt,yi,lt.overrideStyles,Ot,Zt,di,Ei,Oi),this.disposables.add(this.internals)}updateOptions(F={}){super.updateOptions(F),F.overrideStyles&&this.internals.updateStyleOverrides(F.overrideStyles),this.internals.updateOptions(F)}};qt=gn([Mi(5,ft.i6),Mi(6,pi),Mi(7,dn.XE),Mi(8,He.Ui),Mi(9,fi.d),Mi(10,Nt.F)],qt);let vi=class extends mt{constructor(F,re,Se,Fe,lt,Ot,Zt,di,Ei,li,Oi,tn){const{options:yi,getAutomaticKeyboardNavigation:nn,disposable:Qi}=un(re,Ot,Zt,li,Oi,tn);super(F,re,Se,Fe,lt,yi),this.disposables.add(Qi),this.internals=new Bi(this,Ot,nn,Ot.overrideStyles,Zt,di,Ei,li,tn),this.disposables.add(this.internals)}updateOptions(F={}){super.updateOptions(F),F.overrideStyles&&this.internals.updateStyleOverrides(F.overrideStyles),this.internals.updateOptions(F)}};vi=gn([Mi(6,ft.i6),Mi(7,pi),Mi(8,dn.XE),Mi(9,He.Ui),Mi(10,fi.d),Mi(11,Nt.F)],vi);let Li=class extends Gi{constructor(F,re,Se,Fe,lt,Ot,Zt,di,Ei,li,Oi,tn){const{options:yi,getAutomaticKeyboardNavigation:nn,disposable:Qi}=un(re,Ot,Zt,li,Oi,tn);super(F,re,Se,Fe,lt,yi),this.disposables.add(Qi),this.internals=new Bi(this,Ot,nn,Ot.overrideStyles,Zt,di,Ei,li,tn),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(F={}){super.updateOptions(F),F.overrideStyles&&this.internals.updateStyleOverrides(F.overrideStyles),this.internals.updateOptions(F)}};Li=gn([Mi(6,ft.i6),Mi(7,pi),Mi(8,dn.XE),Mi(9,He.Ui),Mi(10,fi.d),Mi(11,Nt.F)],Li);let mi=class extends hn{constructor(F,re,Se,Fe,lt,Ot,Zt,di,Ei,li,Oi,tn,yi){const{options:nn,getAutomaticKeyboardNavigation:Qi,disposable:Sn}=un(re,Zt,di,Oi,tn,yi);super(F,re,Se,Fe,lt,Ot,nn),this.disposables.add(Sn),this.internals=new Bi(this,Zt,Qi,Zt.overrideStyles,di,Ei,li,Oi,yi),this.disposables.add(this.internals)}updateOptions(F){super.updateOptions(F),this.internals.updateOptions(F)}};mi=gn([Mi(7,ft.i6),Mi(8,pi),Mi(9,dn.XE),Mi(10,He.Ui),Mi(11,fi.d),Mi(12,Nt.F)],mi);function un(Rt,F,re,Se,Fe,lt){var Ot;const Zt=()=>{let nn=!!re.getContextKeyValue(Ls);return nn&&(nn=!!Se.getValue(uo)),nn},di=lt.isScreenReaderOptimized(),Ei=F.simpleKeyboardNavigation||di?"simple":Se.getValue(zs),li=F.horizontalScrolling!==void 0?F.horizontalScrolling:!!Se.getValue(Hs),[Oi,tn]=vo(F,Se,Fe),yi=F.additionalScrollHeight;return{getAutomaticKeyboardNavigation:Zt,disposable:tn,options:Object.assign(Object.assign({keyboardSupport:!1},Oi),{indent:typeof Se.getValue(xo)=="number"?Se.getValue(xo):void 0,renderIndentGuides:Se.getValue(to),smoothScrolling:!!Se.getValue(so),automaticKeyboardNavigation:Zt(),simpleKeyboardNavigation:Ei==="simple",filterOnType:Ei==="filter",horizontalScrolling:li,keyboardNavigationEventFilter:gt(Rt,Fe),additionalScrollHeight:yi,hideTwistiesOfChildlessElements:F.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(Ot=F.expandOnlyOnTwistieClick)!==null&&Ot!==void 0?Ot:Se.getValue(Eo)==="doubleClick"})}}let Bi=class{constructor(F,re,Se,Fe,lt,Ot,Zt,di,Ei){this.tree=F,this.themeService=Zt,this.disposables=[],this.contextKeyService=Io(lt,F),this.listSupportsMultiSelect=Yn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(re.multipleSelectionSupport!==!1),no.bindTo(this.contextKeyService).set(!!re.selectionNavigation),this.hasSelectionOrFocus=ds.bindTo(this.contextKeyService),this.hasDoubleSelection=Is.bindTo(this.contextKeyService),this.hasMultiSelection=Fo.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=hs(di);const Oi=new Set;Oi.add(Ls);const tn=()=>{const nn=Ei.isScreenReaderOptimized()?"simple":di.getValue(zs);F.updateOptions({simpleKeyboardNavigation:nn==="simple",filterOnType:nn==="filter"})};this.updateStyleOverrides(Fe),this.disposables.push(this.contextKeyService,Ot.register(F),F.onDidChangeSelection(()=>{const yi=F.getSelection(),nn=F.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(yi.length>0||nn.length>0),this.hasMultiSelection.set(yi.length>1),this.hasDoubleSelection.set(yi.length===2)})}),F.onDidChangeFocus(()=>{const yi=F.getSelection(),nn=F.getFocus();this.hasSelectionOrFocus.set(yi.length>0||nn.length>0)}),di.onDidChangeConfiguration(yi=>{let nn={};if(yi.affectsConfiguration(Xs)&&(this._useAltAsMultipleSelectionModifier=hs(di)),yi.affectsConfiguration(xo)){const Qi=di.getValue(xo);nn=Object.assign(Object.assign({},nn),{indent:Qi})}if(yi.affectsConfiguration(to)){const Qi=di.getValue(to);nn=Object.assign(Object.assign({},nn),{renderIndentGuides:Qi})}if(yi.affectsConfiguration(so)){const Qi=!!di.getValue(so);nn=Object.assign(Object.assign({},nn),{smoothScrolling:Qi})}if(yi.affectsConfiguration(zs)&&tn(),yi.affectsConfiguration(uo)&&(nn=Object.assign(Object.assign({},nn),{automaticKeyboardNavigation:Se()})),yi.affectsConfiguration(Hs)&&re.horizontalScrolling===void 0){const Qi=!!di.getValue(Hs);nn=Object.assign(Object.assign({},nn),{horizontalScrolling:Qi})}if(yi.affectsConfiguration(Eo)&&re.expandOnlyOnTwistieClick===void 0&&(nn=Object.assign(Object.assign({},nn),{expandOnlyOnTwistieClick:di.getValue(Eo)==="doubleClick"})),yi.affectsConfiguration(Oo)){const Qi=di.getValue(Oo);nn=Object.assign(Object.assign({},nn),{mouseWheelScrollSensitivity:Qi})}if(yi.affectsConfiguration(us)){const Qi=di.getValue(us);nn=Object.assign(Object.assign({},nn),{fastScrollSensitivity:Qi})}Object.keys(nn).length>0&&F.updateOptions(nn)}),this.contextKeyService.onDidChangeContext(yi=>{yi.affectsSome(Oi)&&F.updateOptions({automaticKeyboardNavigation:Se()})}),Ei.onDidChangeScreenReaderOptimized(()=>tn())),this.navigator=new ut(F,Object.assign({configurationService:di},re)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(F){F.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!F.multipleSelectionSupport)}updateStyleOverrides(F){(0,y.B9)(this.styler),this.styler=F?(0,zi.Jl)(this.tree,this.themeService,F):y.JT.None}dispose(){this.disposables=(0,y.B9)(this.disposables),(0,y.B9)(this.styler),this.styler=void 0}};Bi=gn([Mi(4,ft.i6),Mi(5,pi),Mi(6,dn.XE),Mi(7,He.Ui),Mi(8,Nt.F)],Bi),Di.B.as(Qe.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,de.N)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Xs]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,de.N)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,de.N)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,de.N)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[So]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,de.N)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Hs]:{type:"boolean",default:!1,description:(0,de.N)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[xo]:{type:"number",default:8,minimum:0,maximum:40,description:(0,de.N)("tree indent setting","Controls tree indentation in pixels.")},[to]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,de.N)("render tree indent guides","Controls whether the tree should render indent guides.")},[so]:{type:"boolean",default:!1,description:(0,de.N)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Oo]:{type:"number",default:1,description:(0,de.N)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[us]:{type:"number",default:5,description:(0,de.N)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[zs]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,de.N)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,de.N)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,de.N)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,de.N)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[uo]:{type:"boolean",default:!0,markdownDescription:(0,de.N)("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[Eo]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,de.N)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},43557:function(Yt,Ue,c){"use strict";c.d(Ue,{$V:function(){return s},VZ:function(){return O},in:function(){return y},kw:function(){return P}});var g=c(4669),Y=c(5976),Q=c(72065);const O=(0,Q.yh)("logService");var y;(function(I){I[I.Trace=0]="Trace",I[I.Debug=1]="Debug",I[I.Info=2]="Info",I[I.Warning=3]="Warning",I[I.Error=4]="Error",I[I.Critical=5]="Critical",I[I.Off=6]="Off"})(y||(y={}));const J=y.Info;class k extends Y.JT{constructor(){super(...arguments),this.level=J,this._onDidChangeLogLevel=this._register(new g.Q5)}setLevel(m){this.level!==m&&(this.level=m,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class P extends k{constructor(m=J){super(),this.setLevel(m)}trace(m,...C){this.getLevel()<=y.Trace&&console.log("%cTRACE","color: #888",m,...C)}debug(m,...C){this.getLevel()<=y.Debug&&console.log("%cDEBUG","background: #eee; color: #888",m,...C)}info(m,...C){this.getLevel()<=y.Info&&console.log("%c INFO","color: #33f",m,...C)}error(m,...C){this.getLevel()<=y.Error&&console.log("%c  ERR","color: #f33",m,...C)}dispose(){}}class s extends Y.JT{constructor(m){super(),this.logger=m,this._register(m)}getLevel(){return this.logger.getLevel()}trace(m,...C){this.logger.trace(m,...C)}debug(m,...C){this.logger.debug(m,...C)}info(m,...C){this.logger.info(m,...C)}error(m,...C){this.logger.error(m,...C)}}},98674:function(Yt,Ue,c){"use strict";c.d(Ue,{H0:function(){return y},ZL:function(){return O},lT:function(){return J}});var g=c(14603),Y=c(63580),Q=c(72065),O;(function(k){k[k.Hint=1]="Hint",k[k.Info=2]="Info",k[k.Warning=4]="Warning",k[k.Error=8]="Error"})(O||(O={})),function(k){function P(V,r){return r-V}k.compare=P;const s=Object.create(null);s[k.Error]=(0,Y.N)("sev.error","Error"),s[k.Warning]=(0,Y.N)("sev.warning","Warning"),s[k.Info]=(0,Y.N)("sev.info","Info");function I(V){return s[V]||""}k.toString=I;function m(V){switch(V){case g.Z.Error:return k.Error;case g.Z.Warning:return k.Warning;case g.Z.Info:return k.Info;case g.Z.Ignore:return k.Hint}}k.fromSeverity=m;function C(V){switch(V){case k.Error:return g.Z.Error;case k.Warning:return g.Z.Warning;case k.Info:return g.Z.Info;case k.Hint:return g.Z.Ignore}}k.toSeverity=C}(O||(O={}));var y;(function(k){const P="";function s(m){return I(m,!0)}k.makeKey=s;function I(m,C){let V=[P];return m.source?V.push(m.source.replace("\xA6","\\\xA6")):V.push(P),m.code?typeof m.code=="string"?V.push(m.code.replace("\xA6","\\\xA6")):V.push(m.code.value.replace("\xA6","\\\xA6")):V.push(P),m.severity!==void 0&&m.severity!==null?V.push(O.toString(m.severity)):V.push(P),m.message&&C?V.push(m.message.replace("\xA6","\\\xA6")):V.push(P),m.startLineNumber!==void 0&&m.startLineNumber!==null?V.push(m.startLineNumber.toString()):V.push(P),m.startColumn!==void 0&&m.startColumn!==null?V.push(m.startColumn.toString()):V.push(P),m.endLineNumber!==void 0&&m.endLineNumber!==null?V.push(m.endLineNumber.toString()):V.push(P),m.endColumn!==void 0&&m.endColumn!==null?V.push(m.endColumn.toString()):V.push(P),V.push(P),V.join("\xA6")}k.makeKeyOptionalMessage=I})(y||(y={}));const J=(0,Q.yh)("markerService")},59422:function(Yt,Ue,c){"use strict";c.d(Ue,{EO:function(){return y},lT:function(){return O}});var g=c(14603),Y=c(72065),Q=null;const O=(0,Y.yh)("notificationService");class y{}},50988:function(Yt,Ue,c){"use strict";c.d(Ue,{SW:function(){return k},v4:function(){return J},xn:function(){return P}});var g=c(5976),Y=c(97295),Q=c(70666),O=c(72065),y=function(s,I,m,C){function V(r){return r instanceof m?r:new m(function(x){x(r)})}return new(m||(m=Promise))(function(r,x){function w(v){try{f(C.next(v))}catch(L){x(L)}}function D(v){try{f(C.throw(v))}catch(L){x(L)}}function f(v){v.done?r(v.value):V(v.value).then(w,D)}f((C=C.apply(s,I||[])).next())})};const J=(0,O.yh)("openerService"),k=Object.freeze({_serviceBrand:void 0,registerOpener(){return g.JT.None},registerValidator(){return g.JT.None},registerExternalUriResolver(){return g.JT.None},setDefaultExternalOpener(){},registerExternalOpener(){return g.JT.None},open(){return y(this,void 0,void 0,function*(){return!1})},resolveExternalUri(s){return y(this,void 0,void 0,function*(){return{resolved:s,dispose(){}}})}});function P(s,I){return Q.o.isUri(s)?(0,Y.qq)(s.scheme,I):(0,Y.ok)(s,I+":")}},90535:function(Yt,Ue,c){"use strict";c.d(Ue,{E:function(){return Y},e:function(){return Q}});var g=c(72065);class Y{constructor(y){this.callback=y}report(y){this._value=y,this.callback(this._value)}}Y.None=Object.freeze({report(){}});const Q=(0,g.yh)("editorProgressService")},89872:function(Yt,Ue,c){"use strict";c.d(Ue,{B:function(){return O}});var g=c(35146),Y=c(98401);class Q{constructor(){this.data=new Map}add(J,k){g.ok(Y.HD(J)),g.ok(Y.Kn(k)),g.ok(!this.data.has(J),"There is already an extension with this id"),this.data.set(J,k)}as(J){return this.data.get(J)||null}}const O=new Q},87060:function(Yt,Ue,c){"use strict";c.d(Ue,{Uy:function(){return m},vm:function(){return r},fk:function(){return C}});var g=c(4669),Y=c(5976),Q=c(98401),O=c(15393),y=function(x,w,D,f){function v(L){return L instanceof D?L:new D(function(h){h(L)})}return new(D||(D=Promise))(function(L,h){function R(K){try{W(f.next(K))}catch(ie){h(ie)}}function T(K){try{W(f.throw(K))}catch(ie){h(ie)}}function W(K){K.done?L(K.value):v(K.value).then(R,T)}W((f=f.apply(x,w||[])).next())})},J;(function(x){x[x.None=0]="None",x[x.Initialized=1]="Initialized",x[x.Closed=2]="Closed"})(J||(J={}));class k extends Y.JT{constructor(w,D=Object.create(null)){super(),this.database=w,this.options=D,this._onDidChangeStorage=this._register(new g.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=J.None,this.cache=new Map,this.flushDelayer=new O.rH(k.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(w=>this.onDidChangeItemsExternal(w)))}onDidChangeItemsExternal(w){var D,f;(D=w.changed)===null||D===void 0||D.forEach((v,L)=>this.accept(L,v)),(f=w.deleted)===null||f===void 0||f.forEach(v=>this.accept(v,void 0))}accept(w,D){if(this.state===J.Closed)return;let f=!1;(0,Q.Jp)(D)?f=this.cache.delete(w):this.cache.get(w)!==D&&(this.cache.set(w,D),f=!0),f&&this._onDidChangeStorage.fire(w)}get(w,D){const f=this.cache.get(w);return(0,Q.Jp)(f)?D:f}getBoolean(w,D){const f=this.get(w);return(0,Q.Jp)(f)?D:f==="true"}getNumber(w,D){const f=this.get(w);return(0,Q.Jp)(f)?D:parseInt(f,10)}set(w,D){return y(this,void 0,void 0,function*(){if(this.state===J.Closed)return;if((0,Q.Jp)(D))return this.delete(w);const f=String(D);if(this.cache.get(w)!==f)return this.cache.set(w,f),this.pendingInserts.set(w,f),this.pendingDeletes.delete(w),this._onDidChangeStorage.fire(w),this.flushDelayer.trigger(()=>this.flushPending())})}delete(w){return y(this,void 0,void 0,function*(){if(!(this.state===J.Closed||!this.cache.delete(w)))return this.pendingDeletes.has(w)||this.pendingDeletes.add(w),this.pendingInserts.delete(w),this._onDidChangeStorage.fire(w),this.flushDelayer.trigger(()=>this.flushPending())})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return y(this,void 0,void 0,function*(){if(!this.hasPending)return;const w={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(w).finally(()=>{var D;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(D=this.whenFlushedCallbacks.pop())===null||D===void 0||D()})})}dispose(){this.flushDelayer.dispose(),super.dispose()}}k.DEFAULT_FLUSH_DELAY=100;class P{constructor(){this.onDidChangeItemsExternal=g.ju.None,this.items=new Map}updateItems(w){return y(this,void 0,void 0,function*(){w.insert&&w.insert.forEach((D,f)=>this.items.set(f,D)),w.delete&&w.delete.forEach(D=>this.items.delete(D))})}}var s=c(72065);const I="__$__targetStorageMarker",m=(0,s.yh)("storageService");var C;(function(x){x[x.NONE=0]="NONE",x[x.SHUTDOWN=1]="SHUTDOWN"})(C||(C={}));class V extends Y.JT{constructor(w={flushInterval:V.DEFAULT_FLUSH_INTERVAL}){super(),this.options=w,this._onDidChangeValue=this._register(new g.K3),this._onDidChangeTarget=this._register(new g.K3),this._onWillSaveState=this._register(new g.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(w,D){D===I?(w===0?this._globalKeyTargets=void 0:w===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:w})):this._onDidChangeValue.fire({scope:w,key:D,target:this.getKeyTargets(w)[D]})}get(w,D,f){var v;return(v=this.getStorage(D))===null||v===void 0?void 0:v.get(w,f)}getBoolean(w,D,f){var v;return(v=this.getStorage(D))===null||v===void 0?void 0:v.getBoolean(w,f)}getNumber(w,D,f){var v;return(v=this.getStorage(D))===null||v===void 0?void 0:v.getNumber(w,f)}store(w,D,f,v){if((0,Q.Jp)(D)){this.remove(w,f);return}this.withPausedEmitters(()=>{var L;this.updateKeyTarget(w,f,v),(L=this.getStorage(f))===null||L===void 0||L.set(w,D)})}remove(w,D){this.withPausedEmitters(()=>{var f;this.updateKeyTarget(w,D,void 0),(f=this.getStorage(D))===null||f===void 0||f.delete(w)})}withPausedEmitters(w){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{w()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(w,D,f){var v,L;const h=this.getKeyTargets(D);typeof f=="number"?h[w]!==f&&(h[w]=f,(v=this.getStorage(D))===null||v===void 0||v.set(I,JSON.stringify(h))):typeof h[w]=="number"&&(delete h[w],(L=this.getStorage(D))===null||L===void 0||L.set(I,JSON.stringify(h)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(w){return w===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(w){const D=this.get(I,w);if(D)try{return JSON.parse(D)}catch(f){}return Object.create(null)}}V.DEFAULT_FLUSH_INTERVAL=60*1e3;class r extends V{constructor(){super(),this.globalStorage=this._register(new k(new P)),this.workspaceStorage=this._register(new k(new P)),this._register(this.workspaceStorage.onDidChangeStorage(w=>this.emitDidChangeValue(1,w))),this._register(this.globalStorage.onDidChangeStorage(w=>this.emitDidChangeValue(0,w)))}getStorage(w){return w===0?this.globalStorage:this.workspaceStorage}}},10829:function(Yt,Ue,c){"use strict";c.d(Ue,{b:function(){return Y}});var g=c(72065);const Y=(0,g.yh)("telemetryService")},73910:function(Yt,Ue,c){"use strict";c.d(Ue,{$D:function(){return co},$d:function(){return Ls},A2:function(){return kt},AB:function(){return ht},AS:function(){return Io},AW:function(){return Mn},BO:function(){return Ot},C3:function(){return $},CA:function(){return re},CN:function(){return ni},Cd:function(){return hs},Cz:function(){return Qe},D0:function(){return Qt},D1:function(){return Gt},DE:function(){return os},Du:function(){return we},E3:function(){return Ws},EP:function(){return De},ES:function(){return Bn},Ei:function(){return Ze},F3:function(){return Fo},Fm:function(){return qt},Fu:function(){return Nt},GO:function(){return de},Gj:function(){return Bi},Gw:function(){return Xs},Hf:function(){return ci},Hz:function(){return vo},I1:function(){return gt},IP:function(){return P},Id:function(){return V},It:function(){return F},Iv:function(){return ts},Jp:function(){return lt},K1:function(){return Ri},KT:function(){return Li},LL:function(){return Di},L_:function(){return zi},Lo:function(){return gi},M6:function(){return Cn},MU:function(){return je},NO:function(){return Pt},NP:function(){return Oo},Ng:function(){return Lt},OL:function(){return Zt},OZ:function(){return p},Oo:function(){return Mi},P4:function(){return ei},P6:function(){return m},PR:function(){return K},PX:function(){return So},Pk:function(){return ut},Pv:function(){return ce},R8:function(){return x},RV:function(){return le},Rz:function(){return Xi},S:function(){return uo},SU:function(){return Z},Sb:function(){return Xt},Sn:function(){return Qi},Sw:function(){return L},T8:function(){return Oe},Tn:function(){return En},U6:function(){return Bt},Un:function(){return xo},Vq:function(){return Eo},XE:function(){return ie},XL:function(){return Vi},XZ:function(){return r},Xy:function(){return Se},YI:function(){return ve},ZG:function(){return ho},Zn:function(){return Oi},_2:function(){return gn},_Y:function(){return Gi},_b:function(){return dn},_l:function(){return _e},_t:function(){return q},_w:function(){return nt},b6:function(){return he},b7:function(){return me},br:function(){return Fe},c6:function(){return Ne},cb:function(){return us},cv:function(){return st},dC:function(){return pi},dR:function(){return C},dt:function(){return W},et:function(){return It},fE:function(){return Ye},fe:function(){return rt},g8:function(){return Pe},gk:function(){return Je},gp:function(){return ke},hE:function(){return ps},j5:function(){return te},jU:function(){return Tt},jb:function(){return rs},kJ:function(){return Xe},kV:function(){return Rt},ke:function(){return ft},kv:function(){return ds},kw:function(){return tn},lR:function(){return w},lU:function(){return hi},lW:function(){return Ui},lX:function(){return ze},lo:function(){return $e},mH:function(){return fi},mV:function(){return no},ny:function(){return qi},oQ:function(){return ii},oS:function(){return zs},op:function(){return wi},ov:function(){return un},p:function(){return G},pW:function(){return at},pn:function(){return St},pt:function(){return xt},qe:function(){return Me},rg:function(){return Yn},rh:function(){return h},s$:function(){return Is},sE:function(){return R},sK:function(){return He},sg:function(){return v},tZ:function(){return oi},u2:function(){return ge},uo:function(){return et},ur:function(){return f},ux:function(){return to},vG:function(){return Hs},xL:function(){return D},yJ:function(){return yt},yb:function(){return Zn},yn:function(){return Mt},yp:function(){return ct},yt:function(){return vs},zJ:function(){return T},zK:function(){return Ai},zR:function(){return it}});var g=c(15393),Y=c(41264),Q=c(4669),O=c(98401),y=c(63580),J=c(81294),k=c(89872);const P={ColorContribution:"base.contributions.colors"};class s{constructor(){this._onDidChangeSchema=new Q.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(Ut,pe,Re,Ke=!1,_t){let bt={id:Ut,description:Re,defaults:pe,needsTransparency:Ke,deprecationMessage:_t};this.colorsById[Ut]=bt;let ti={type:"string",description:Re,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return _t&&(ti.deprecationMessage=_t),this.colorSchema.properties[Ut]=ti,this.colorReferenceSchema.enum.push(Ut),this.colorReferenceSchema.enumDescriptions.push(Re),this._onDidChangeSchema.fire(),Ut}resolveDefaultColor(Ut,pe){const Re=this.colorsById[Ut];if(Re&&Re.defaults){const Ke=Re.defaults[pe.type];return Qi(Ke,pe)}}getColorSchema(){return this.colorSchema}toString(){let Ut=(pe,Re)=>{let Ke=pe.indexOf(".")===-1?0:1,_t=Re.indexOf(".")===-1?0:1;return Ke!==_t?Ke-_t:pe.localeCompare(Re)};return Object.keys(this.colorsById).sort(Ut).map(pe=>`- \`${pe}\`: ${this.colorsById[pe].description}`).join(`
`)}}const I=new s;k.B.add(P.ColorContribution,I);function m(Dn,Ut,pe,Re,Ke){return I.registerColor(Dn,Ut,pe,Re,Ke)}const C=m("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},y.N("foreground","Overall foreground color. This color is only used if not overridden by a component.")),V=m("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},y.N("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),r=m("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},y.N("iconForeground","The default color for icons in the workbench.")),x=m("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},y.N("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),w=m("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},y.N("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),D=m("contrastActiveBorder",{light:null,dark:null,hc:x},y.N("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),f=m("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},y.N("textLinkForeground","Foreground color for links in text.")),v=m("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},y.N("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),L=m("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:Y.Il.black},y.N("textCodeBlockBackground","Background color for code blocks in text.")),h=m("widget.shadow",{dark:Oi(Y.Il.black,.36),light:Oi(Y.Il.black,.16),hc:null},y.N("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),R=m("input.background",{dark:"#3C3C3C",light:Y.Il.white,hc:Y.Il.black},y.N("inputBoxBackground","Input box background.")),T=m("input.foreground",{dark:C,light:C,hc:C},y.N("inputBoxForeground","Input box foreground.")),W=m("input.border",{dark:null,light:null,hc:w},y.N("inputBoxBorder","Input box border.")),K=m("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:w},y.N("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),ie=m("inputOption.activeBackground",{dark:Oi(x,.4),light:Oi(x,.2),hc:Y.Il.transparent},y.N("inputOption.activeBackground","Background color of activated options in input fields.")),ce=m("inputOption.activeForeground",{dark:Y.Il.white,light:Y.Il.black,hc:null},y.N("inputOption.activeForeground","Foreground color of activated options in input fields.")),_e=m("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:Y.Il.black},y.N("inputValidationInfoBackground","Input validation background color for information severity.")),ve=m("inputValidation.infoForeground",{dark:null,light:null,hc:null},y.N("inputValidationInfoForeground","Input validation foreground color for information severity.")),De=m("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:w},y.N("inputValidationInfoBorder","Input validation border color for information severity.")),le=m("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:Y.Il.black},y.N("inputValidationWarningBackground","Input validation background color for warning severity.")),Z=m("inputValidation.warningForeground",{dark:null,light:null,hc:null},y.N("inputValidationWarningForeground","Input validation foreground color for warning severity.")),$=m("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:w},y.N("inputValidationWarningBorder","Input validation border color for warning severity.")),G=m("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:Y.Il.black},y.N("inputValidationErrorBackground","Input validation background color for error severity.")),q=m("inputValidation.errorForeground",{dark:null,light:null,hc:null},y.N("inputValidationErrorForeground","Input validation foreground color for error severity.")),p=m("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:w},y.N("inputValidationErrorBorder","Input validation border color for error severity.")),S=m("dropdown.background",{dark:"#3C3C3C",light:Y.Il.white,hc:Y.Il.black},y.N("dropdownBackground","Dropdown background.")),B=m("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:Y.Il.white},y.N("dropdownForeground","Dropdown foreground.")),te=m("button.foreground",{dark:Y.Il.white,light:Y.Il.white,hc:Y.Il.white},y.N("buttonForeground","Button foreground color.")),me=m("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},y.N("buttonBackground","Button background color.")),de=m("button.hoverBackground",{dark:li(me,.2),light:Ei(me,.2),hc:null},y.N("buttonHoverBackground","Button background color when hovering.")),Pe=m("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:Y.Il.black},y.N("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Me=m("badge.foreground",{dark:Y.Il.white,light:"#333",hc:Y.Il.white},y.N("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),nt=m("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},y.N("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),It=m("scrollbarSlider.background",{dark:Y.Il.fromHex("#797979").transparent(.4),light:Y.Il.fromHex("#646464").transparent(.4),hc:Oi(w,.6)},y.N("scrollbarSliderBackground","Scrollbar slider background color.")),ht=m("scrollbarSlider.hoverBackground",{dark:Y.Il.fromHex("#646464").transparent(.7),light:Y.Il.fromHex("#646464").transparent(.7),hc:Oi(w,.8)},y.N("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Mt=m("scrollbarSlider.activeBackground",{dark:Y.Il.fromHex("#BFBFBF").transparent(.4),light:Y.Il.fromHex("#000000").transparent(.6),hc:w},y.N("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),it=m("progressBar.background",{dark:Y.Il.fromHex("#0E70C0"),light:Y.Il.fromHex("#0E70C0"),hc:w},y.N("progressBarBackground","Background color of the progress bar that can show for long running operations.")),kt=m("editorError.background",{dark:null,light:null,hc:null},y.N("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),ze=m("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},y.N("editorError.foreground","Foreground color of error squigglies in the editor.")),he=m("editorError.border",{dark:null,light:null,hc:Y.Il.fromHex("#E47777").transparent(.8)},y.N("errorBorder","Border color of error boxes in the editor.")),ke=m("editorWarning.background",{dark:null,light:null,hc:null},y.N("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),et=m("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},y.N("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),at=m("editorWarning.border",{dark:null,light:null,hc:Y.Il.fromHex("#FFCC00").transparent(.8)},y.N("warningBorder","Border color of warning boxes in the editor.")),rt=m("editorInfo.background",{dark:null,light:null,hc:null},y.N("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ne=m("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},y.N("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Oe=m("editorInfo.border",{dark:null,light:null,hc:Y.Il.fromHex("#3794FF").transparent(.8)},y.N("infoBorder","Border color of info boxes in the editor.")),we=m("editorHint.foreground",{dark:Y.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},y.N("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Ye=m("editorHint.border",{dark:null,light:null,hc:Y.Il.fromHex("#eeeeee").transparent(.8)},y.N("hintBorder","Border color of hint boxes in the editor.")),st=m("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:Y.Il.black},y.N("editorBackground","Editor background color.")),Pt=m("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:Y.Il.white},y.N("editorForeground","Editor default foreground color.")),Qt=m("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},y.N("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),ci=m("editorWidget.foreground",{dark:C,light:C,hc:C},y.N("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Gt=m("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:w},y.N("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Lt=m("editorWidget.resizeBorder",{light:null,dark:null,hc:null},y.N("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Ai=m("quickInput.background",{dark:Qt,light:Qt,hc:Qt},y.N("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),oi=m("quickInput.foreground",{dark:ci,light:ci,hc:ci},y.N("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),$e=m("quickInputTitle.background",{dark:new Y.Il(new Y.VS(255,255,255,.105)),light:new Y.Il(new Y.VS(0,0,0,.06)),hc:"#000000"},y.N("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Xe=m("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:Y.Il.white},y.N("pickerGroupForeground","Quick picker color for grouping labels.")),wi=m("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:Y.Il.white},y.N("pickerGroupBorder","Quick picker color for grouping borders.")),ii=m("keybindingLabel.background",{dark:new Y.Il(new Y.VS(128,128,128,.17)),light:new Y.Il(new Y.VS(221,221,221,.4)),hc:Y.Il.transparent},y.N("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Ui=m("keybindingLabel.foreground",{dark:Y.Il.fromHex("#CCCCCC"),light:Y.Il.fromHex("#555555"),hc:Y.Il.white},y.N("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Mn=m("keybindingLabel.border",{dark:new Y.Il(new Y.VS(51,51,51,.6)),light:new Y.Il(new Y.VS(204,204,204,.4)),hc:new Y.Il(new Y.VS(111,195,223))},y.N("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Ri=m("keybindingLabel.bottomBorder",{dark:new Y.Il(new Y.VS(68,68,68,.6)),light:new Y.Il(new Y.VS(187,187,187,.4)),hc:new Y.Il(new Y.VS(111,195,223))},y.N("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),ps=m("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},y.N("editorSelectionBackground","Color of the editor selection.")),Zn=m("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},y.N("editorSelectionForeground","Color of the selected text for high contrast.")),Bn=m("editor.inactiveSelectionBackground",{light:Oi(ps,.5),dark:Oi(ps,.5),hc:Oi(ps,.5)},y.N("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Xi=m("editor.selectionHighlightBackground",{light:nn(ps,st,.3,.6),dark:nn(ps,st,.3,.6),hc:null},y.N("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Vn=m("editor.selectionHighlightBorder",{light:null,dark:null,hc:D},y.N("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),qi=m("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},y.N("editorFindMatch","Color of the current search match.")),je=m("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},y.N("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Tt=m("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},y.N("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),St=m("editor.findMatchBorder",{light:null,dark:null,hc:D},y.N("editorFindMatchBorder","Border color of the current search match.")),Ze=m("editor.findMatchHighlightBorder",{light:null,dark:null,hc:D},y.N("findMatchHighlightBorder","Border color of the other search matches.")),Je=m("editor.findRangeHighlightBorder",{dark:null,light:null,hc:Oi(D,.4)},y.N("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),xt=m("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},y.N("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),yt=m("editorHoverWidget.background",{light:Qt,dark:Qt,hc:Qt},y.N("hoverBackground","Background color of the editor hover.")),Xt=m("editorHoverWidget.foreground",{light:ci,dark:ci,hc:ci},y.N("hoverForeground","Foreground color of the editor hover.")),ni=m("editorHoverWidget.border",{light:Gt,dark:Gt,hc:Gt},y.N("hoverBorder","Border color of the editor hover.")),gi=m("editorHoverWidget.statusBarBackground",{dark:li(yt,.2),light:Ei(yt,.05),hc:Qt},y.N("statusBarBackground","Background color of the editor hover status bar.")),Gi=m("editorLink.activeForeground",{dark:"#4E94CE",light:Y.Il.blue,hc:Y.Il.cyan},y.N("activeLinkForeground","Color of active links.")),ji=m("editorInlayHint.foreground",{dark:Oi(Me,.8),light:Oi(Me,.8),hc:Me},y.N("editorInlayHintForeground","Foreground color of inline hints")),is=m("editorInlayHint.background",{dark:Oi(Pe,.6),light:Oi(Pe,.3),hc:Pe},y.N("editorInlayHintBackground","Background color of inline hints")),Hi=m("editorInlayHint.typeForeground",{dark:ji,light:ji,hc:ji},y.N("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),hn=m("editorInlayHint.typeBackground",{dark:is,light:is,hc:is},y.N("editorInlayHintBackgroundTypes","Background color of inline hints for types")),vt=m("editorInlayHint.parameterForeground",{dark:ji,light:ji,hc:ji},y.N("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),mt=m("editorInlayHint.parameterBackground",{dark:is,light:is,hc:is},y.N("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Nt=m("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},y.N("editorLightBulbForeground","The color used for the lightbulb actions icon.")),He=m("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},y.N("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),Qe=new Y.Il(new Y.VS(155,185,85,.2)),ft=new Y.Il(new Y.VS(255,0,0,.2)),ct=m("diffEditor.insertedTextBackground",{dark:Qe,light:Qe,hc:null},y.N("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),ei=m("diffEditor.removedTextBackground",{dark:ft,light:ft,hc:null},y.N("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Vi=m("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},y.N("diffEditorInsertedOutline","Outline color for the text that got inserted.")),fi=m("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},y.N("diffEditorRemovedOutline","Outline color for text that got removed.")),Di=m("diffEditor.border",{dark:null,light:null,hc:w},y.N("diffEditorBorder","Border color between the two text editors.")),zi=m("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},y.N("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),dn=m("list.focusBackground",{dark:null,light:null,hc:null},y.N("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),gn=m("list.focusForeground",{dark:null,light:null,hc:null},y.N("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Mi=m("list.focusOutline",{dark:x,light:x,hc:D},y.N("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),pi=m("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},y.N("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Cn=m("list.activeSelectionForeground",{dark:Y.Il.white,light:Y.Il.white,hc:null},y.N("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),En=m("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},y.N("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Yn=m("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},y.N("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),vs=m("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},y.N("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ds=m("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},y.N("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Is=m("list.inactiveFocusBackground",{dark:null,light:null,hc:null},y.N("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Fo=m("list.inactiveFocusOutline",{dark:null,light:null,hc:null},y.N("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),no=m("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},y.N("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Ls=m("list.hoverForeground",{dark:null,light:null,hc:null},y.N("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Io=m("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},y.N("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Xs=m("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:x},y.N("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),So=m("list.focusHighlightForeground",{dark:Xs,light:yi(pi,Xs,"#9DDDFF"),hc:Xs},y.N("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),Hs=m("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:Y.Il.black},y.N("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),zs=m("listFilterWidget.outline",{dark:Y.Il.transparent,light:Y.Il.transparent,hc:"#f38518"},y.N("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),uo=m("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:w},y.N("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),xo=m("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},y.N("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),to=m("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},y.N("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),so=m("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,y.N("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),Oo=m("quickInputList.focusForeground",{dark:Cn,light:Cn,hc:Cn},y.N("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),us=m("quickInputList.focusIconForeground",{dark:En,light:En,hc:En},y.N("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Eo=m("quickInputList.focusBackground",{dark:tn(so,pi),light:tn(so,pi),hc:null},y.N("quickInput.listFocusBackground","Quick picker background color for the focused item.")),hs=m("menu.border",{dark:null,light:null,hc:w},y.N("menuBorder","Border color of menus.")),os=m("menu.foreground",{dark:B,light:C,hc:B},y.N("menuForeground","Foreground color of menu items.")),vo=m("menu.background",{dark:S,light:S,hc:S},y.N("menuBackground","Background color of menu items.")),rs=m("menu.selectionForeground",{dark:Cn,light:Cn,hc:Cn},y.N("menuSelectionForeground","Foreground color of the selected menu item in menus.")),co=m("menu.selectionBackground",{dark:pi,light:pi,hc:pi},y.N("menuSelectionBackground","Background color of the selected menu item in menus.")),Ws=m("menu.selectionBorder",{dark:null,light:null,hc:D},y.N("menuSelectionBorder","Border color of the selected menu item in menus.")),ho=m("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:w},y.N("menuSeparatorBackground","Color of a separator menu item in menus.")),hi=m("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},y.N("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),ge=m("editor.snippetTabstopHighlightBackground",{dark:new Y.Il(new Y.VS(124,124,124,.3)),light:new Y.Il(new Y.VS(10,50,100,.2)),hc:new Y.Il(new Y.VS(124,124,124,.3))},y.N("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),ut=m("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},y.N("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),gt=m("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},y.N("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),Bt=m("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new Y.Il(new Y.VS(10,50,100,.5)),hc:"#525252"},y.N("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),qt=m("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},y.N("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),vi=m("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},y.N("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Li=m("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},y.N("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),mi=m("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},y.N("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),un=m("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},y.N("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Bi=m("minimap.errorHighlight",{dark:new Y.Il(new Y.VS(255,18,18,.7)),light:new Y.Il(new Y.VS(255,18,18,.7)),hc:new Y.Il(new Y.VS(255,50,50,1))},y.N("minimapError","Minimap marker color for errors.")),ts=m("minimap.warningHighlight",{dark:et,light:et,hc:at},y.N("overviewRuleWarning","Minimap marker color for warnings.")),Rt=m("minimap.background",{dark:null,light:null,hc:null},y.N("minimapBackground","Minimap background color.")),F=m("minimap.foregroundOpacity",{dark:Y.Il.fromHex("#000f"),light:Y.Il.fromHex("#000f"),hc:Y.Il.fromHex("#000f")},y.N("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),re=m("minimapSlider.background",{light:Oi(It,.5),dark:Oi(It,.5),hc:Oi(It,.5)},y.N("minimapSliderBackground","Minimap slider background color.")),Se=m("minimapSlider.hoverBackground",{light:Oi(ht,.5),dark:Oi(ht,.5),hc:Oi(ht,.5)},y.N("minimapSliderHoverBackground","Minimap slider background color when hovering.")),Fe=m("minimapSlider.activeBackground",{light:Oi(Mt,.5),dark:Oi(Mt,.5),hc:Oi(Mt,.5)},y.N("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),lt=m("problemsErrorIcon.foreground",{dark:ze,light:ze,hc:ze},y.N("problemsErrorIconForeground","The color used for the problems error icon.")),Ot=m("problemsWarningIcon.foreground",{dark:et,light:et,hc:et},y.N("problemsWarningIconForeground","The color used for the problems warning icon.")),Zt=m("problemsInfoIcon.foreground",{dark:Ne,light:Ne,hc:Ne},y.N("problemsInfoIconForeground","The color used for the problems info icon."));function di(Dn,Ut){var pe,Re,Ke;switch(Dn.op){case 0:return(pe=Qi(Dn.value,Ut))===null||pe===void 0?void 0:pe.darken(Dn.factor);case 1:return(Re=Qi(Dn.value,Ut))===null||Re===void 0?void 0:Re.lighten(Dn.factor);case 2:return(Ke=Qi(Dn.value,Ut))===null||Ke===void 0?void 0:Ke.transparent(Dn.factor);case 3:for(const ti of Dn.values){const Jt=Qi(ti,Ut);if(Jt)return Jt}return;case 5:return Qi(Ut.defines(Dn.if)?Dn.then:Dn.else,Ut);case 4:const _t=Qi(Dn.value,Ut);if(!_t)return;const bt=Qi(Dn.background,Ut);return bt?_t.isDarkerThan(bt)?Y.Il.getLighterColor(_t,bt,Dn.factor).transparent(Dn.transparency):Y.Il.getDarkerColor(_t,bt,Dn.factor).transparent(Dn.transparency):_t.transparent(Dn.factor*Dn.transparency);default:throw(0,O.vE)(Dn)}}function Ei(Dn,Ut){return{op:0,value:Dn,factor:Ut}}function li(Dn,Ut){return{op:1,value:Dn,factor:Ut}}function Oi(Dn,Ut){return{op:2,value:Dn,factor:Ut}}function tn(...Dn){return{op:3,values:Dn}}function yi(Dn,Ut,pe){return{op:5,if:Dn,then:Ut,else:pe}}function nn(Dn,Ut,pe,Re){return{op:4,value:Dn,background:Ut,factor:pe,transparency:Re}}function Qi(Dn,Ut){if(Dn!==null){if(typeof Dn=="string")return Dn[0]==="#"?Y.Il.fromHex(Dn):Ut.getColor(Dn);if(Dn instanceof Y.Il)return Dn;if(typeof Dn=="object")return di(Dn,Ut)}}const Sn="vscode://schemas/workbench-colors";let ns=k.B.as(J.I.JSONContribution);ns.registerSchema(Sn,I.getColorSchema());const Ms=new g.pY(()=>ns.notifySchemaChanged(Sn),200);I.onDidChangeSchema(()=>{Ms.isScheduled()||Ms.schedule()})},59554:function(Yt,Ue,c){"use strict";c.d(Ue,{Ks:function(){return C},q5:function(){return m},s_:function(){return D}});var g=c(15393),Y=c(73046),Q=c(4669),O=c(63580),y=c(81294),J=c(89872),k=c(97781);const P={IconContribution:"base.contributions.icons"};class s{constructor(){this._onDidChange=new Q.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,O.N)("iconDefintion.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,O.N)("iconDefintion.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${Y.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(v,L,h,R){const T=this.iconsById[v];if(T){if(h&&!T.description){T.description=h,this.iconSchema.properties[v].markdownDescription=`${h} $(${v})`;const ie=this.iconReferenceSchema.enum.indexOf(v);ie!==-1&&(this.iconReferenceSchema.enumDescriptions[ie]=h),this._onDidChange.fire()}return T}let W={id:v,description:h,defaults:L,deprecationMessage:R};this.iconsById[v]=W;let K={$ref:"#/definitions/icons"};return R&&(K.deprecationMessage=R),h&&(K.markdownDescription=`${h}: $(${v})`),this.iconSchema.properties[v]=K,this.iconReferenceSchema.enum.push(v),this.iconReferenceSchema.enumDescriptions.push(h||""),this._onDidChange.fire(),{id:v}}getIcons(){return Object.keys(this.iconsById).map(v=>this.iconsById[v])}getIcon(v){return this.iconsById[v]}getIconSchema(){return this.iconSchema}getIconFont(v){return this.iconFontsById[v]}toString(){const v=(T,W)=>T.id.localeCompare(W.id),L=T=>{for(;k.kS.isThemeIcon(T.defaults);)T=this.iconsById[T.defaults.id];return`codicon codicon-${T?T.id:""}`};let h=[];h.push("| preview     | identifier                        | default codicon ID                | description"),h.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const R=Object.keys(this.iconsById).map(T=>this.iconsById[T]);for(const T of R.filter(W=>!!W.description).sort(v))h.push(`|<i class="${L(T)}"></i>|${T.id}|${k.kS.isThemeIcon(T.defaults)?T.defaults.id:T.id}|${T.description||""}|`);h.push("| preview     | identifier                        "),h.push("| ----------- | --------------------------------- |");for(const T of R.filter(W=>!k.kS.isThemeIcon(W.defaults)).sort(v))h.push(`|<i class="${L(T)}"></i>|${T.id}|`);return h.join(`
`)}}const I=new s;J.B.add(P.IconContribution,I);function m(f,v,L,h){return I.registerIcon(f,v,L,h)}function C(){return I}function V(){for(const f of Y.fK.all)I.registerIcon(f.id,f.definition,f.description);Y.fK.onDidRegister(f=>I.registerIcon(f.id,f.definition,f.description))}V();const r="vscode://schemas/icons";let x=J.B.as(y.I.JSONContribution);x.registerSchema(r,I.getIconSchema());const w=new g.pY(()=>x.notifySchemaChanged(r),200);I.onDidChange(()=>{w.isScheduled()||w.schedule()});const D=m("widget-close",Y.lA.close,(0,O.N)("widgetClose","Icon for the close action in widgets."))},88810:function(Yt,Ue,c){"use strict";c.d(Ue,{Jl:function(){return y},O2:function(){return J},WZ:function(){return O},o:function(){return Y},tj:function(){return P}});var g=c(73910);function Y(s,I){const m=Object.create(null);for(let C in I){const V=I[C];V&&(m[C]=(0,g.Sn)(V,s))}return m}function Q(s,I,m){function C(){const V=Y(s.getColorTheme(),I);typeof m=="function"?m(V):m.style(V)}return C(),s.onDidColorThemeChange(C)}function O(s,I,m){return Q(I,{badgeBackground:(m==null?void 0:m.badgeBackground)||g.g8,badgeForeground:(m==null?void 0:m.badgeForeground)||g.qe,badgeBorder:g.lR},s)}function y(s,I,m){return Q(I,Object.assign(Object.assign({},J),m||{}),s)}const J={listFocusBackground:g._b,listFocusForeground:g._2,listFocusOutline:g.Oo,listActiveSelectionBackground:g.dC,listActiveSelectionForeground:g.M6,listActiveSelectionIconForeground:g.Tn,listFocusAndSelectionBackground:g.dC,listFocusAndSelectionForeground:g.M6,listInactiveSelectionBackground:g.rg,listInactiveSelectionIconForeground:g.kv,listInactiveSelectionForeground:g.yt,listInactiveFocusBackground:g.s$,listInactiveFocusOutline:g.F3,listHoverBackground:g.mV,listHoverForeground:g.$d,listDropBackground:g.AS,listSelectionOutline:g.xL,listHoverOutline:g.xL,listFilterWidgetBackground:g.vG,listFilterWidgetOutline:g.oS,listFilterWidgetNoMatchesOutline:g.S,listMatchesShadow:g.rh,treeIndentGuidesStroke:g.Un,tableColumnsBorder:g.ux},k={shadowColor:g.rh,borderColor:g.Cd,foregroundColor:g.DE,backgroundColor:g.Hz,selectionForegroundColor:g.jb,selectionBackgroundColor:g.$D,selectionBorderColor:g.E3,separatorColor:g.ZG};function P(s,I,m){return Q(I,Object.assign(Object.assign({},k),m),s)}},92321:function(Yt,Ue,c){"use strict";c.d(Ue,{e:function(){return g}});var g;(function(Y){Y.DARK="dark",Y.LIGHT="light",Y.HIGH_CONTRAST="hc"})(g||(g={}))},97781:function(Yt,Ue,c){"use strict";c.d(Ue,{EN:function(){return s},IP:function(){return C},Ic:function(){return x},XE:function(){return k},bB:function(){return w},kS:function(){return I},m6:function(){return m}});var g=c(73046),Y=c(4669),Q=c(5976),O=c(72065),y=c(89872),J=c(92321);const k=(0,O.yh)("themeService");var P;(function(D){function f(v){return v&&typeof v=="object"&&typeof v.id=="string"}D.isThemeColor=f})(P||(P={}));function s(D){return{id:D}}var I;(function(D){function f(W){return W&&typeof W=="object"&&typeof W.id=="string"&&(typeof W.color=="undefined"||P.isThemeColor(W.color))}D.isThemeIcon=f;const v=new RegExp(`^\\$\\((${g.dT.iconNameExpression}(?:${g.dT.iconModifierExpression})?)\\)$`);function L(W){const K=v.exec(W);if(!K)return;let[,ie]=K;return{id:ie}}D.fromString=L;function h(W,K){let ie=W.id;const ce=ie.lastIndexOf("~");return ce!==-1&&(ie=ie.substring(0,ce)),K&&(ie=`${ie}~${K}`),{id:ie}}D.modify=h;function R(W,K){var ie,ce;return W.id===K.id&&((ie=W.color)===null||ie===void 0?void 0:ie.id)===((ce=K.color)===null||ce===void 0?void 0:ce.id)}D.isEqual=R;function T(W,K){return{id:W.id,color:K?s(K):void 0}}D.asThemeIcon=T,D.asClassNameArray=g.dT.asClassNameArray,D.asClassName=g.dT.asClassName,D.asCSSSelector=g.dT.asCSSSelector})(I||(I={}));function m(D){switch(D){case J.e.DARK:return"vs-dark";case J.e.HIGH_CONTRAST:return"hc-black";default:return"vs"}}const C={ThemingContribution:"base.contributions.theming"};class V{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new Y.Q5}onColorThemeChange(f){return this.themingParticipants.push(f),this.onThemingParticipantAddedEmitter.fire(f),(0,Q.OF)(()=>{const v=this.themingParticipants.indexOf(f);this.themingParticipants.splice(v,1)})}getThemingParticipants(){return this.themingParticipants}}let r=new V;y.B.add(C.ThemingContribution,r);function x(D){return r.onColorThemeChange(D)}class w extends Q.JT{constructor(f){super(),this.themeService=f,this.theme=f.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(v=>this.onThemeChange(v)))}onThemeChange(f){this.theme=f,this.updateStyles()}updateStyles(){}}},64862:function(Yt,Ue,c){"use strict";c.d(Ue,{Xt:function(){return O},YO:function(){return Q},gJ:function(){return y},tJ:function(){return Y}});var g=c(72065);const Y=(0,g.yh)("undoRedoService");class Q{constructor(k,P){this.resource=k,this.elements=P}}class O{constructor(){this.id=O._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}O._ID=0,O.None=new O;class y{constructor(){this.id=y._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}y._ID=0,y.None=new y},40382:function(Yt,Ue,c){"use strict";c.d(Ue,{ec:function(){return Q},md:function(){return y}});var g=c(43702),Y=c(72065);const Q=(0,Y.yh)("contextService");class O{constructor(k,P,s,I,m){this._id=k,this._transient=s,this._configuration=I,this._ignorePathCasing=m,this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing),this.folders=P}get folders(){return this._folders}set folders(k){this._folders=k,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(k){this._configuration=k}getFolder(k){return k&&this._foldersMap.findSubstr(k.with({scheme:k.scheme,authority:k.authority,path:k.path}))||null}updateFoldersMap(){this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing);for(const k of this.folders)this._foldersMap.set(k.uri,k)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class y{constructor(k,P){this.raw=P,this.uri=k.uri,this.index=k.index,this.name=k.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}},81626:function(Yt,Ue){"use strict";var c={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"};Ue.Z=c},87718:function(Yt,Ue,c){"use strict";c.d(Ue,{Z:function(){return ze}});var g=c(87462),Y=c(71002),Q=c(1413),O=c(4942),y=c(97685),J=c(91),k=c(93967),P=c.n(k),s=c(48555),I=c(56790),m=c(8410),C=c(67294),V=c(73935),r=C.forwardRef(function(he,ke){var et=he.height,at=he.offsetY,rt=he.offsetX,Ne=he.children,Oe=he.prefixCls,we=he.onInnerResize,Ye=he.innerProps,st=he.rtl,Pt=he.extra,Qt={},ci={display:"flex",flexDirection:"column"};return at!==void 0&&(Qt={height:et,position:"relative",overflow:"hidden"},ci=(0,Q.Z)((0,Q.Z)({},ci),{},(0,O.Z)((0,O.Z)((0,O.Z)((0,O.Z)((0,O.Z)({transform:"translateY(".concat(at,"px)")},st?"marginRight":"marginLeft",-rt),"position","absolute"),"left",0),"right",0),"top",0))),C.createElement("div",{style:Qt},C.createElement(s.Z,{onResize:function(Lt){var Ai=Lt.offsetHeight;Ai&&we&&we()}},C.createElement("div",(0,g.Z)({style:ci,className:P()((0,O.Z)({},"".concat(Oe,"-holder-inner"),Oe)),ref:ke},Ye),Ne,Pt)))});r.displayName="Filler";var x=r;function w(he){var ke=he.children,et=he.setRef,at=C.useCallback(function(rt){et(rt)},[]);return C.cloneElement(ke,{ref:at})}function D(he,ke,et,at,rt,Ne,Oe,we){var Ye=we.getKey;return he.slice(ke,et+1).map(function(st,Pt){var Qt=ke+Pt,ci=Oe(st,Qt,{style:{width:at},offsetX:rt}),Gt=Ye(st);return C.createElement(w,{key:Gt,setRef:function(Ai){return Ne(st,Ai)}},ci)})}function f(he,ke,et,at){var rt=et-he,Ne=ke-et,Oe=Math.min(rt,Ne)*2;if(at<=Oe){var we=Math.floor(at/2);return at%2?et+we+1:et-we}return rt>Ne?et-(at-Ne):et+(at-rt)}function v(he,ke,et){var at=he.length,rt=ke.length,Ne,Oe;if(at===0&&rt===0)return null;at<rt?(Ne=he,Oe=ke):(Ne=ke,Oe=he);var we={__EMPTY_ITEM__:!0};function Ye(Lt){return Lt!==void 0?et(Lt):we}for(var st=null,Pt=Math.abs(at-rt)!==1,Qt=0;Qt<Oe.length;Qt+=1){var ci=Ye(Ne[Qt]),Gt=Ye(Oe[Qt]);if(ci!==Gt){st=Qt,Pt=Pt||ci!==Ye(Oe[Qt+1]);break}}return st===null?null:{index:st,multiple:Pt}}function L(he,ke,et){var at=C.useState(he),rt=(0,y.Z)(at,2),Ne=rt[0],Oe=rt[1],we=C.useState(null),Ye=(0,y.Z)(we,2),st=Ye[0],Pt=Ye[1];return C.useEffect(function(){var Qt=v(Ne||[],he||[],ke);(Qt==null?void 0:Qt.index)!==void 0&&(et==null||et(Qt.index),Pt(he[Qt.index])),Oe(he)},[he]),[st]}var h=c(75164),R=(typeof navigator=="undefined"?"undefined":(0,Y.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),T=R,W=function(he,ke,et,at){var rt=(0,C.useRef)(!1),Ne=(0,C.useRef)(null);function Oe(){clearTimeout(Ne.current),rt.current=!0,Ne.current=setTimeout(function(){rt.current=!1},50)}var we=(0,C.useRef)({top:he,bottom:ke,left:et,right:at});return we.current.top=he,we.current.bottom=ke,we.current.left=et,we.current.right=at,function(Ye,st){var Pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Qt=Ye?st<0&&we.current.left||st>0&&we.current.right:st<0&&we.current.top||st>0&&we.current.bottom;return Pt&&Qt?(clearTimeout(Ne.current),rt.current=!1):(!Qt||rt.current)&&Oe(),!rt.current&&Qt}};function K(he,ke,et,at,rt,Ne,Oe){var we=(0,C.useRef)(0),Ye=(0,C.useRef)(null),st=(0,C.useRef)(null),Pt=(0,C.useRef)(!1),Qt=W(ke,et,at,rt);function ci(Xe,wi){if(h.Z.cancel(Ye.current),!Qt(!1,wi)){var ii=Xe;if(!ii._virtualHandled)ii._virtualHandled=!0;else return;we.current+=wi,st.current=wi,T||ii.preventDefault(),Ye.current=(0,h.Z)(function(){var Ui=Pt.current?10:1;Oe(we.current*Ui,!1),we.current=0})}}function Gt(Xe,wi){Oe(wi,!0),T||Xe.preventDefault()}var Lt=(0,C.useRef)(null),Ai=(0,C.useRef)(null);function oi(Xe){if(he){h.Z.cancel(Ai.current),Ai.current=(0,h.Z)(function(){Lt.current=null},2);var wi=Xe.deltaX,ii=Xe.deltaY,Ui=Xe.shiftKey,Mn=wi,Ri=ii;(Lt.current==="sx"||!Lt.current&&Ui&&ii&&!wi)&&(Mn=ii,Ri=0,Lt.current="sx");var ps=Math.abs(Mn),Zn=Math.abs(Ri);Lt.current===null&&(Lt.current=Ne&&ps>Zn?"x":"y"),Lt.current==="y"?ci(Xe,Ri):Gt(Xe,Mn)}}function $e(Xe){he&&(Pt.current=Xe.detail===st.current)}return[oi,$e]}function ie(he,ke,et,at){var rt=C.useMemo(function(){return[new Map,[]]},[he,et.id,at]),Ne=(0,y.Z)(rt,2),Oe=Ne[0],we=Ne[1],Ye=function(Pt){var Qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pt,ci=Oe.get(Pt),Gt=Oe.get(Qt);if(ci===void 0||Gt===void 0)for(var Lt=he.length,Ai=we.length;Ai<Lt;Ai+=1){var oi,$e=he[Ai],Xe=ke($e);Oe.set(Xe,Ai);var wi=(oi=et.get(Xe))!==null&&oi!==void 0?oi:at;if(we[Ai]=(we[Ai-1]||0)+wi,Xe===Pt&&(ci=Ai),Xe===Qt&&(Gt=Ai),ci!==void 0&&Gt!==void 0)break}return{top:we[ci-1]||0,bottom:we[Gt]}};return Ye}var ce=c(15671),_e=c(43144),ve=function(){function he(){(0,ce.Z)(this,he),(0,O.Z)(this,"maps",void 0),(0,O.Z)(this,"id",0),(0,O.Z)(this,"diffRecords",new Map),this.maps=Object.create(null)}return(0,_e.Z)(he,[{key:"set",value:function(et,at){this.diffRecords.set(et,this.maps[et]),this.maps[et]=at,this.id+=1}},{key:"get",value:function(et){return this.maps[et]}},{key:"resetRecord",value:function(){this.diffRecords.clear()}},{key:"getRecord",value:function(){return this.diffRecords}}]),he}(),De=ve;function le(he){var ke=parseFloat(he);return isNaN(ke)?0:ke}function Z(he,ke,et){var at=C.useState(0),rt=(0,y.Z)(at,2),Ne=rt[0],Oe=rt[1],we=(0,C.useRef)(new Map),Ye=(0,C.useRef)(new De),st=(0,C.useRef)(0);function Pt(){st.current+=1}function Qt(){var Gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Pt();var Lt=function(){var $e=!1;we.current.forEach(function(Xe,wi){if(Xe&&Xe.offsetParent){var ii=Xe.offsetHeight,Ui=getComputedStyle(Xe),Mn=Ui.marginTop,Ri=Ui.marginBottom,ps=le(Mn),Zn=le(Ri),Bn=ii+ps+Zn;Ye.current.get(wi)!==Bn&&(Ye.current.set(wi,Bn),$e=!0)}}),$e&&Oe(function(Xe){return Xe+1})};if(Gt)Lt();else{st.current+=1;var Ai=st.current;Promise.resolve().then(function(){Ai===st.current&&Lt()})}}function ci(Gt,Lt){var Ai=he(Gt),oi=we.current.get(Ai);Lt?(we.current.set(Ai,Lt),Qt()):we.current.delete(Ai),!oi!=!Lt&&(Lt?ke==null||ke(Gt):et==null||et(Gt))}return(0,C.useEffect)(function(){return Pt},[]),[ci,Qt,Ye.current,Ne]}var $=14/15;function G(he,ke,et){var at=(0,C.useRef)(!1),rt=(0,C.useRef)(0),Ne=(0,C.useRef)(0),Oe=(0,C.useRef)(null),we=(0,C.useRef)(null),Ye,st=function(Gt){if(at.current){var Lt=Math.ceil(Gt.touches[0].pageX),Ai=Math.ceil(Gt.touches[0].pageY),oi=rt.current-Lt,$e=Ne.current-Ai,Xe=Math.abs(oi)>Math.abs($e);Xe?rt.current=Lt:Ne.current=Ai;var wi=et(Xe,Xe?oi:$e,!1,Gt);wi&&Gt.preventDefault(),clearInterval(we.current),wi&&(we.current=setInterval(function(){Xe?oi*=$:$e*=$;var ii=Math.floor(Xe?oi:$e);(!et(Xe,ii,!0)||Math.abs(ii)<=.1)&&clearInterval(we.current)},16))}},Pt=function(){at.current=!1,Ye()},Qt=function(Gt){Ye(),Gt.touches.length===1&&!at.current&&(at.current=!0,rt.current=Math.ceil(Gt.touches[0].pageX),Ne.current=Math.ceil(Gt.touches[0].pageY),Oe.current=Gt.target,Oe.current.addEventListener("touchmove",st,{passive:!1}),Oe.current.addEventListener("touchend",Pt,{passive:!0}))};Ye=function(){Oe.current&&(Oe.current.removeEventListener("touchmove",st),Oe.current.removeEventListener("touchend",Pt))},(0,m.Z)(function(){return he&&ke.current.addEventListener("touchstart",Qt,{passive:!0}),function(){var ci;(ci=ke.current)===null||ci===void 0||ci.removeEventListener("touchstart",Qt),Ye(),clearInterval(we.current)}},[he])}function q(he){return Math.floor(Math.pow(he,.5))}function p(he,ke){var et="touches"in he?he.touches[0]:he;return et[ke?"pageX":"pageY"]-window[ke?"scrollX":"scrollY"]}function S(he,ke,et){C.useEffect(function(){var at=ke.current;if(he&&at){var rt=!1,Ne,Oe,we=function(){h.Z.cancel(Ne)},Ye=function ci(){we(),Ne=(0,h.Z)(function(){et(Oe),ci()})},st=function(Gt){if(!(Gt.target.draggable||Gt.button!==0)){var Lt=Gt;Lt._virtualHandled||(Lt._virtualHandled=!0,rt=!0)}},Pt=function(){rt=!1,we()},Qt=function(Gt){if(rt){var Lt=p(Gt,!1),Ai=at.getBoundingClientRect(),oi=Ai.top,$e=Ai.bottom;if(Lt<=oi){var Xe=oi-Lt;Oe=-q(Xe),Ye()}else if(Lt>=$e){var wi=Lt-$e;Oe=q(wi),Ye()}else we()}};return at.addEventListener("mousedown",st),at.ownerDocument.addEventListener("mouseup",Pt),at.ownerDocument.addEventListener("mousemove",Qt),function(){at.removeEventListener("mousedown",st),at.ownerDocument.removeEventListener("mouseup",Pt),at.ownerDocument.removeEventListener("mousemove",Qt),we()}}},[he])}var B=10;function te(he,ke,et,at,rt,Ne,Oe,we){var Ye=C.useRef(),st=C.useState(null),Pt=(0,y.Z)(st,2),Qt=Pt[0],ci=Pt[1];return(0,m.Z)(function(){if(Qt&&Qt.times<B){if(!he.current){ci(function(xt){return(0,Q.Z)({},xt)});return}Ne();var Gt=Qt.targetAlign,Lt=Qt.originAlign,Ai=Qt.index,oi=Qt.offset,$e=he.current.clientHeight,Xe=!1,wi=Gt,ii=null;if($e){for(var Ui=Gt||Lt,Mn=0,Ri=0,ps=0,Zn=Math.min(ke.length-1,Ai),Bn=0;Bn<=Zn;Bn+=1){var Xi=rt(ke[Bn]);Ri=Mn;var Vn=et.get(Xi);ps=Ri+(Vn===void 0?at:Vn),Mn=ps}for(var qi=Ui==="top"?oi:$e-oi,je=Zn;je>=0;je-=1){var Tt=rt(ke[je]),St=et.get(Tt);if(St===void 0){Xe=!0;break}if(qi-=St,qi<=0)break}switch(Ui){case"top":ii=Ri-oi;break;case"bottom":ii=ps-$e+oi;break;default:{var Ze=he.current.scrollTop,Je=Ze+$e;Ri<Ze?wi="top":ps>Je&&(wi="bottom")}}ii!==null&&Oe(ii),ii!==Qt.lastTop&&(Xe=!0)}Xe&&ci((0,Q.Z)((0,Q.Z)({},Qt),{},{times:Qt.times+1,targetAlign:wi,lastTop:ii}))}},[Qt,he.current]),function(Gt){if(Gt==null){we();return}if(h.Z.cancel(Ye.current),typeof Gt=="number")Oe(Gt);else if(Gt&&(0,Y.Z)(Gt)==="object"){var Lt,Ai=Gt.align;"index"in Gt?Lt=Gt.index:Lt=ke.findIndex(function(Xe){return rt(Xe)===Gt.key});var oi=Gt.offset,$e=oi===void 0?0:oi;ci({times:0,index:Lt,offset:$e,originAlign:Ai})}}}var me=C.forwardRef(function(he,ke){var et=he.prefixCls,at=he.rtl,rt=he.scrollOffset,Ne=he.scrollRange,Oe=he.onStartMove,we=he.onStopMove,Ye=he.onScroll,st=he.horizontal,Pt=he.spinSize,Qt=he.containerSize,ci=he.style,Gt=he.thumbStyle,Lt=he.showScrollBar,Ai=C.useState(!1),oi=(0,y.Z)(Ai,2),$e=oi[0],Xe=oi[1],wi=C.useState(null),ii=(0,y.Z)(wi,2),Ui=ii[0],Mn=ii[1],Ri=C.useState(null),ps=(0,y.Z)(Ri,2),Zn=ps[0],Bn=ps[1],Xi=!at,Vn=C.useRef(),qi=C.useRef(),je=C.useState(Lt),Tt=(0,y.Z)(je,2),St=Tt[0],Ze=Tt[1],Je=C.useRef(),xt=function(){Lt===!0||Lt===!1||(clearTimeout(Je.current),Ze(!0),Je.current=setTimeout(function(){Ze(!1)},3e3))},yt=Ne-Qt||0,Xt=Qt-Pt||0,ni=C.useMemo(function(){if(rt===0||yt===0)return 0;var Nt=rt/yt;return Nt*Xt},[rt,yt,Xt]),gi=function(He){He.stopPropagation(),He.preventDefault()},Gi=C.useRef({top:ni,dragging:$e,pageY:Ui,startTop:Zn});Gi.current={top:ni,dragging:$e,pageY:Ui,startTop:Zn};var ji=function(He){Xe(!0),Mn(p(He,st)),Bn(Gi.current.top),Oe(),He.stopPropagation(),He.preventDefault()};C.useEffect(function(){var Nt=function(ct){ct.preventDefault()},He=Vn.current,Qe=qi.current;return He.addEventListener("touchstart",Nt,{passive:!1}),Qe.addEventListener("touchstart",ji,{passive:!1}),function(){He.removeEventListener("touchstart",Nt),Qe.removeEventListener("touchstart",ji)}},[]);var is=C.useRef();is.current=yt;var Hi=C.useRef();Hi.current=Xt,C.useEffect(function(){if($e){var Nt,He=function(ct){var ei=Gi.current,Vi=ei.dragging,fi=ei.pageY,Di=ei.startTop;h.Z.cancel(Nt);var zi=Vn.current.getBoundingClientRect(),dn=Qt/(st?zi.width:zi.height);if(Vi){var gn=(p(ct,st)-fi)*dn,Mi=Di;!Xi&&st?Mi-=gn:Mi+=gn;var pi=is.current,Cn=Hi.current,En=Cn?Mi/Cn:0,Yn=Math.ceil(En*pi);Yn=Math.max(Yn,0),Yn=Math.min(Yn,pi),Nt=(0,h.Z)(function(){Ye(Yn,st)})}},Qe=function(){Xe(!1),we()};return window.addEventListener("mousemove",He,{passive:!0}),window.addEventListener("touchmove",He,{passive:!0}),window.addEventListener("mouseup",Qe,{passive:!0}),window.addEventListener("touchend",Qe,{passive:!0}),function(){window.removeEventListener("mousemove",He),window.removeEventListener("touchmove",He),window.removeEventListener("mouseup",Qe),window.removeEventListener("touchend",Qe),h.Z.cancel(Nt)}}},[$e]),C.useEffect(function(){return xt(),function(){clearTimeout(Je.current)}},[rt]),C.useImperativeHandle(ke,function(){return{delayHidden:xt}});var hn="".concat(et,"-scrollbar"),vt={position:"absolute",visibility:St?null:"hidden"},mt={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return st?(vt.height=8,vt.left=0,vt.right=0,vt.bottom=0,mt.height="100%",mt.width=Pt,Xi?mt.left=ni:mt.right=ni):(vt.width=8,vt.top=0,vt.bottom=0,Xi?vt.right=0:vt.left=0,mt.width="100%",mt.height=Pt,mt.top=ni),C.createElement("div",{ref:Vn,className:P()(hn,(0,O.Z)((0,O.Z)((0,O.Z)({},"".concat(hn,"-horizontal"),st),"".concat(hn,"-vertical"),!st),"".concat(hn,"-visible"),St)),style:(0,Q.Z)((0,Q.Z)({},vt),ci),onMouseDown:gi,onMouseMove:xt},C.createElement("div",{ref:qi,className:P()("".concat(hn,"-thumb"),(0,O.Z)({},"".concat(hn,"-thumb-moving"),$e)),style:(0,Q.Z)((0,Q.Z)({},mt),Gt),onMouseDown:ji}))}),de=me,Pe=20;function Me(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,et=he/ke*he;return isNaN(et)&&(et=0),et=Math.max(et,Pe),Math.floor(et)}var nt=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],It=[],ht={overflowY:"auto",overflowAnchor:"none"};function Mt(he,ke){var et=he.prefixCls,at=et===void 0?"rc-virtual-list":et,rt=he.className,Ne=he.height,Oe=he.itemHeight,we=he.fullHeight,Ye=we===void 0?!0:we,st=he.style,Pt=he.data,Qt=he.children,ci=he.itemKey,Gt=he.virtual,Lt=he.direction,Ai=he.scrollWidth,oi=he.component,$e=oi===void 0?"div":oi,Xe=he.onScroll,wi=he.onVirtualScroll,ii=he.onVisibleChange,Ui=he.innerProps,Mn=he.extraRender,Ri=he.styles,ps=he.showScrollBar,Zn=ps===void 0?"optional":ps,Bn=(0,J.Z)(he,nt),Xi=C.useCallback(function(Se){return typeof ci=="function"?ci(Se):Se==null?void 0:Se[ci]},[ci]),Vn=Z(Xi,null,null),qi=(0,y.Z)(Vn,4),je=qi[0],Tt=qi[1],St=qi[2],Ze=qi[3],Je=!!(Gt!==!1&&Ne&&Oe),xt=C.useMemo(function(){return Object.values(St.maps).reduce(function(Se,Fe){return Se+Fe},0)},[St.id,St.maps]),yt=Je&&Pt&&(Math.max(Oe*Pt.length,xt)>Ne||!!Ai),Xt=Lt==="rtl",ni=P()(at,(0,O.Z)({},"".concat(at,"-rtl"),Xt),rt),gi=Pt||It,Gi=(0,C.useRef)(),ji=(0,C.useRef)(),is=(0,C.useRef)(),Hi=(0,C.useState)(0),hn=(0,y.Z)(Hi,2),vt=hn[0],mt=hn[1],Nt=(0,C.useState)(0),He=(0,y.Z)(Nt,2),Qe=He[0],ft=He[1],ct=(0,C.useState)(!1),ei=(0,y.Z)(ct,2),Vi=ei[0],fi=ei[1],Di=function(){fi(!0)},zi=function(){fi(!1)},dn={getKey:Xi};function gn(Se){mt(function(Fe){var lt;typeof Se=="function"?lt=Se(Fe):lt=Se;var Ot=us(lt);return Gi.current.scrollTop=Ot,Ot})}var Mi=(0,C.useRef)({start:0,end:gi.length}),pi=(0,C.useRef)(),Cn=L(gi,Xi),En=(0,y.Z)(Cn,1),Yn=En[0];pi.current=Yn;var vs=C.useMemo(function(){if(!Je)return{scrollHeight:void 0,start:0,end:gi.length-1,offset:void 0};if(!yt){var Se;return{scrollHeight:((Se=ji.current)===null||Se===void 0?void 0:Se.offsetHeight)||0,start:0,end:gi.length-1,offset:void 0}}for(var Fe=0,lt,Ot,Zt,di=gi.length,Ei=0;Ei<di;Ei+=1){var li=gi[Ei],Oi=Xi(li),tn=St.get(Oi),yi=Fe+(tn===void 0?Oe:tn);yi>=vt&&lt===void 0&&(lt=Ei,Ot=Fe),yi>vt+Ne&&Zt===void 0&&(Zt=Ei),Fe=yi}return lt===void 0&&(lt=0,Ot=0,Zt=Math.ceil(Ne/Oe)),Zt===void 0&&(Zt=gi.length-1),Zt=Math.min(Zt+1,gi.length-1),{scrollHeight:Fe,start:lt,end:Zt,offset:Ot}},[yt,Je,vt,gi,Ze,Ne]),ds=vs.scrollHeight,Is=vs.start,Fo=vs.end,no=vs.offset;Mi.current.start=Is,Mi.current.end=Fo,C.useLayoutEffect(function(){var Se=St.getRecord();if(Se.size===1){var Fe=Array.from(Se.keys())[0],lt=Se.get(Fe),Ot=gi[Is];if(Ot&&lt===void 0){var Zt=Xi(Ot);if(Zt===Fe){var di=St.get(Fe),Ei=di-Oe;gn(function(li){return li+Ei})}}}St.resetRecord()},[ds]);var Ls=C.useState({width:0,height:Ne}),Io=(0,y.Z)(Ls,2),Xs=Io[0],So=Io[1],Hs=function(Fe){So({width:Fe.offsetWidth,height:Fe.offsetHeight})},zs=(0,C.useRef)(),uo=(0,C.useRef)(),xo=C.useMemo(function(){return Me(Xs.width,Ai)},[Xs.width,Ai]),to=C.useMemo(function(){return Me(Xs.height,ds)},[Xs.height,ds]),so=ds-Ne,Oo=(0,C.useRef)(so);Oo.current=so;function us(Se){var Fe=Se;return Number.isNaN(Oo.current)||(Fe=Math.min(Fe,Oo.current)),Fe=Math.max(Fe,0),Fe}var Eo=vt<=0,hs=vt>=so,os=Qe<=0,vo=Qe>=Ai,rs=W(Eo,hs,os,vo),co=function(){return{x:Xt?-Qe:Qe,y:vt}},Ws=(0,C.useRef)(co()),ho=(0,I.zX)(function(Se){if(wi){var Fe=(0,Q.Z)((0,Q.Z)({},co()),Se);(Ws.current.x!==Fe.x||Ws.current.y!==Fe.y)&&(wi(Fe),Ws.current=Fe)}});function hi(Se,Fe){var lt=Se;Fe?((0,V.flushSync)(function(){ft(lt)}),ho()):gn(lt)}function ge(Se){var Fe=Se.currentTarget.scrollTop;Fe!==vt&&gn(Fe),Xe==null||Xe(Se),ho()}var ut=function(Fe){var lt=Fe,Ot=Ai?Ai-Xs.width:0;return lt=Math.max(lt,0),lt=Math.min(lt,Ot),lt},gt=(0,I.zX)(function(Se,Fe){Fe?((0,V.flushSync)(function(){ft(function(lt){var Ot=lt+(Xt?-Se:Se);return ut(Ot)})}),ho()):gn(function(lt){var Ot=lt+Se;return Ot})}),Bt=K(Je,Eo,hs,os,vo,!!Ai,gt),qt=(0,y.Z)(Bt,2),vi=qt[0],Li=qt[1];G(Je,Gi,function(Se,Fe,lt,Ot){var Zt=Ot;return rs(Se,Fe,lt)?!1:!Zt||!Zt._virtualHandled?(Zt&&(Zt._virtualHandled=!0),vi({preventDefault:function(){},deltaX:Se?Fe:0,deltaY:Se?0:Fe}),!0):!1}),S(yt,Gi,function(Se){gn(function(Fe){return Fe+Se})}),(0,m.Z)(function(){function Se(lt){var Ot=Eo&&lt.detail<0,Zt=hs&&lt.detail>0;Je&&!Ot&&!Zt&&lt.preventDefault()}var Fe=Gi.current;return Fe.addEventListener("wheel",vi,{passive:!1}),Fe.addEventListener("DOMMouseScroll",Li,{passive:!0}),Fe.addEventListener("MozMousePixelScroll",Se,{passive:!1}),function(){Fe.removeEventListener("wheel",vi),Fe.removeEventListener("DOMMouseScroll",Li),Fe.removeEventListener("MozMousePixelScroll",Se)}},[Je,Eo,hs]),(0,m.Z)(function(){if(Ai){var Se=ut(Qe);ft(Se),ho({x:Se})}},[Xs.width,Ai]);var mi=function(){var Fe,lt;(Fe=zs.current)===null||Fe===void 0||Fe.delayHidden(),(lt=uo.current)===null||lt===void 0||lt.delayHidden()},un=te(Gi,gi,St,Oe,Xi,function(){return Tt(!0)},gn,mi);C.useImperativeHandle(ke,function(){return{nativeElement:is.current,getScrollInfo:co,scrollTo:function(Fe){function lt(Ot){return Ot&&(0,Y.Z)(Ot)==="object"&&("left"in Ot||"top"in Ot)}lt(Fe)?(Fe.left!==void 0&&ft(ut(Fe.left)),un(Fe.top)):un(Fe)}}}),(0,m.Z)(function(){if(ii){var Se=gi.slice(Is,Fo+1);ii(Se,gi)}},[Is,Fo,gi]);var Bi=ie(gi,Xi,St,Oe),ts=Mn==null?void 0:Mn({start:Is,end:Fo,virtual:yt,offsetX:Qe,offsetY:no,rtl:Xt,getSize:Bi}),Rt=D(gi,Is,Fo,Ai,Qe,je,Qt,dn),F=null;Ne&&(F=(0,Q.Z)((0,O.Z)({},Ye?"height":"maxHeight",Ne),ht),Je&&(F.overflowY="hidden",Ai&&(F.overflowX="hidden"),Vi&&(F.pointerEvents="none")));var re={};return Xt&&(re.dir="rtl"),C.createElement("div",(0,g.Z)({ref:is,style:(0,Q.Z)((0,Q.Z)({},st),{},{position:"relative"}),className:ni},re,Bn),C.createElement(s.Z,{onResize:Hs},C.createElement($e,{className:"".concat(at,"-holder"),style:F,ref:Gi,onScroll:ge,onMouseEnter:mi},C.createElement(x,{prefixCls:at,height:ds,offsetX:Qe,offsetY:no,scrollWidth:Ai,onInnerResize:Tt,ref:ji,innerProps:Ui,rtl:Xt,extra:ts},Rt))),yt&&ds>Ne&&C.createElement(de,{ref:zs,prefixCls:at,scrollOffset:vt,scrollRange:ds,rtl:Xt,onScroll:hi,onStartMove:Di,onStopMove:zi,spinSize:to,containerSize:Xs.height,style:Ri==null?void 0:Ri.verticalScrollBar,thumbStyle:Ri==null?void 0:Ri.verticalScrollBarThumb,showScrollBar:Zn}),yt&&Ai>Xs.width&&C.createElement(de,{ref:uo,prefixCls:at,scrollOffset:Qe,scrollRange:Ai,rtl:Xt,onScroll:hi,onStartMove:Di,onStopMove:zi,spinSize:xo,containerSize:Xs.width,horizontal:!0,style:Ri==null?void 0:Ri.horizontalScrollBar,thumbStyle:Ri==null?void 0:Ri.horizontalScrollBarThumb,showScrollBar:Zn}))}var it=C.forwardRef(Mt);it.displayName="List";var kt=it,ze=kt}}]);
}());