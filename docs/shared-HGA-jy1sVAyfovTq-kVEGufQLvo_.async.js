var Sd=(Qt,He)=>(He=Symbol[Qt])?He:Symbol.for("Symbol."+Qt),Jh=Qt=>{throw TypeError(Qt)};var qh=function(Qt,He){this[0]=Qt,this[1]=He};var Ka=Qt=>{var He=Qt[Sd("asyncIterator")],c=!1,E,O={};return He==null?(He=Qt[Sd("iterator")](),E=Q=>O[Q]=P=>He[Q](P)):(He=He.call(Qt),E=Q=>O[Q]=P=>{if(c){if(c=!1,Q==="throw")throw P;return P}return c=!0,{done:!1,value:new qh(new Promise(y=>{var X=He[Q](P);X instanceof Object||Jh("Object expected"),y(X)}),1)}}),O[Sd("iterator")]=()=>O,E("next"),"throw"in He?E("throw"):O.throw=Q=>{throw Q},"return"in He&&E("return"),O};(self.webpackChunk=self.webpackChunk||[]).push([[54],{80882:function(Qt,He,c){"use strict";c.d(He,{Z:function(){return B}});var E=c(97460),O=c(67294),Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},P=Q,y=c(92578),X=function(N,g){return O.createElement(y.Z,(0,E.Z)({},N,{ref:g,icon:P}))},R=O.forwardRef(X),B=R},68795:function(Qt,He,c){"use strict";c.d(He,{Z:function(){return B}});var E=c(97460),O=c(67294),Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},P=Q,y=c(92578),X=function(N,g){return O.createElement(y.Z,(0,E.Z)({},N,{ref:g,icon:P}))},R=O.forwardRef(X),B=R},49312:function(Qt,He,c){"use strict";c.d(He,{Z:function(){return x}});var E=c(42122),O=c.n(E),Q=c(67294),P=c(50048);function y(f){return/^\d+$/.test(f)?"".concat(f,"px"):f}function X(){}var R=function(){return R=Object.assign||function(f){for(var p,S=1,h=arguments.length;S<h;S++){p=arguments[S];for(var L in p)Object.prototype.hasOwnProperty.call(p,L)&&(f[L]=p[L])}return f},R.apply(this,arguments)};function B(f){var p=f.width,S=f.height,h=f.value,L=f.defaultValue,v=f.language,V=f.theme,$=f.options,ee=f.overrideServices,de=f.editorWillMount,pe=f.editorDidMount,ve=f.editorWillUnmount,xe=f.onChange,le=f.className,Y=f.original,j=f.originalUri,G=f.modifiedUri,q=(0,Q.useRef)(null),m=(0,Q.useRef)(null),b=(0,Q.useRef)(null),F=(0,Q.useRef)(null),te=y(p),me=y(S),ue=(0,Q.useMemo)(function(){return{width:te,height:me}},[te,me]),Oe=function(){var ht=de(P);return ht||{}},Re=function(){pe(m.current,P);var ht=m.current.getModel().modified;b.current=ht.onDidChangeContent(function(Mt){F.current||xe(ht.getValue(),Mt)})},et=function(){ve(m.current,P)},Dt=function(){var ht=h!=null?h:L,Mt=j==null?void 0:j(P),Je=G==null?void 0:G(P),tt=Mt&&P.editor.getModel(Mt),ke=Je&&P.editor.getModel(Je);tt?(tt.setValue(Y),P.editor.setModelLanguage(tt,v)):tt=P.editor.createModel(ht,v,Mt),ke?(tt.setValue(ht),P.editor.setModelLanguage(ke,v)):ke=P.editor.createModel(ht,v,Je),m.current.setModel({original:tt,modified:ke})};return(0,Q.useEffect)(function(){q.current&&(Oe(),m.current=P.editor.createDiffEditor(q.current,R(R(R({},le?{extraEditorClassName:le}:{}),$),V?{theme:V}:{}),ee),Dt(),Re())},[]),(0,Q.useEffect)(function(){m.current&&m.current.updateOptions(R(R({},le?{extraEditorClassName:le}:{}),$))},[le,$]),(0,Q.useEffect)(function(){m.current&&m.current.layout()},[p,S]),(0,Q.useEffect)(function(){if(m.current){var ht=m.current.getModel(),Mt=ht.original,Je=ht.modified;P.editor.setModelLanguage(Mt,v),P.editor.setModelLanguage(Je,v)}},[v]),(0,Q.useEffect)(function(){if(m.current){var ht=m.current.getModel().modified;F.current=!0,m.current.getModifiedEditor().pushUndoStop(),ht.pushEditOperations([],[{range:ht.getFullModelRange(),text:h}]),m.current.getModifiedEditor().pushUndoStop(),F.current=!1}},[h]),(0,Q.useEffect)(function(){P.editor.setTheme(V)},[V]),(0,Q.useEffect)(function(){if(m.current){var ht=m.current.getModel().original;Y!==ht.getValue()&&ht.setValue(Y)}},[Y]),(0,Q.useEffect)(function(){return function(){if(m.current){et(),m.current.dispose();var ht=m.current.getModel(),Mt=ht.original,Je=ht.modified;Mt&&Mt.dispose(),Je&&Je.dispose()}b.current&&b.current.dispose()}},[]),Q.createElement("div",{ref:q,style:ue,className:"react-monaco-editor-container"})}B.defaultProps={width:"100%",height:"100%",original:null,value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorWillMount:X,editorDidMount:X,editorWillUnmount:X,onChange:X,className:null},B.displayName="MonacoDiffEditor";var s=null,N=function(){return N=Object.assign||function(f){for(var p,S=1,h=arguments.length;S<h;S++){p=arguments[S];for(var L in p)Object.prototype.hasOwnProperty.call(p,L)&&(f[L]=p[L])}return f},N.apply(this,arguments)},g=function(f,p){var S={};for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&p.indexOf(h)<0&&(S[h]=f[h]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,h=Object.getOwnPropertySymbols(f);L<h.length;L++)p.indexOf(h[L])<0&&Object.prototype.propertyIsEnumerable.call(f,h[L])&&(S[h[L]]=f[h[L]]);return S};function D(f){var p=f.width,S=f.height,h=f.value,L=f.defaultValue,v=f.language,V=f.theme,$=f.options,ee=f.overrideServices,de=f.editorWillMount,pe=f.editorDidMount,ve=f.editorWillUnmount,xe=f.onChange,le=f.className,Y=f.uri,j=(0,Q.useRef)(null),G=(0,Q.useRef)(null),q=(0,Q.useRef)(null),m=(0,Q.useRef)(null),b=y(p),F=y(S),te=(0,Q.useMemo)(function(){return{width:b,height:F}},[b,F]),me=function(){var et=de(P);return et||{}},ue=function(){pe(G.current,P),q.current=G.current.onDidChangeModelContent(function(et){m.current||xe(G.current.getValue(),et)})},Oe=function(){ve(G.current,P)},Re=function(){var et=h!==null?h:L;if(j.current){var Dt=N(N({},$),me()),ht=Y==null?void 0:Y(P),Mt=ht&&P.editor.getModel(ht);Mt?(Mt.setValue(et),P.editor.setModelLanguage(Mt,v)):Mt=P.editor.createModel(et,v,ht),G.current=P.editor.create(j.current,N(N(N({model:Mt},le?{extraEditorClassName:le}:{}),Dt),V?{theme:V}:{}),ee),ue()}};return(0,Q.useEffect)(Re,[]),(0,Q.useEffect)(function(){if(G.current){if(h===G.current.getValue())return;var et=G.current.getModel();m.current=!0,G.current.pushUndoStop(),et.pushEditOperations([],[{range:et.getFullModelRange(),text:h}],void 0),G.current.pushUndoStop(),m.current=!1}},[h]),(0,Q.useEffect)(function(){if(G.current){var et=G.current.getModel();P.editor.setModelLanguage(et,v)}},[v]),(0,Q.useEffect)(function(){if(G.current){var et=$.model,Dt=g($,["model"]);G.current.updateOptions(N(N({},le?{extraEditorClassName:le}:{}),Dt))}},[le,$]),(0,Q.useEffect)(function(){G.current&&G.current.layout()},[p,S]),(0,Q.useEffect)(function(){P.editor.setTheme(V)},[V]),(0,Q.useEffect)(function(){return function(){G.current&&(Oe(),G.current.dispose()),q.current&&q.current.dispose()}},[]),Q.createElement("div",{ref:j,style:te,className:"react-monaco-editor-container"})}D.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorWillMount:X,editorDidMount:X,editorWillUnmount:X,onChange:X,className:null},D.displayName="MonacoEditor";var H=D,r={BiuCodeEditor:"BiuCodeEditor___OXbWR"},T=c(85893),w=function(p){var S=p.editorOption,h=S===void 0?{}:S,L=p.language,v=L===void 0?"javascript":L,V=p.theme,$=V===void 0?"vs-light":V,ee=p.code,de=ee===void 0?"":ee,pe=p.onChange,ve=pe===void 0?function(){}:pe,xe=O()({selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!0,folding:!0,codeLens:!0},h),le=function(j){j.focus()};return(0,T.jsx)("div",{className:r.BiuCodeEditor,children:(0,T.jsx)(H,{width:"100%",height:"100%",theme:$,language:v,value:de,options:xe,onChange:function(j){return ve(j)},editorDidMount:le})})},x=w},31285:function(){"use strict"},5520:function(){"use strict"},9708:function(Qt,He,c){"use strict";c.d(He,{F:function(){return y},Z:function(){return P}});var E=c(94184),O=c.n(E);const Q=null;function P(X,R,B){return O()({[`${X}-status-success`]:R==="success",[`${X}-status-warning`]:R==="warning",[`${X}-status-error`]:R==="error",[`${X}-status-validating`]:R==="validating",[`${X}-has-feedback`]:B})}const y=(X,R)=>R||X},88258:function(Qt,He,c){"use strict";var E=c(67294),O=c(53124),Q=c(32983);const P=y=>{const{componentName:X}=y,{getPrefixCls:R}=(0,E.useContext)(O.E_),B=R("empty");switch(X){case"Table":case"List":return E.createElement(Q.Z,{image:Q.Z.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return E.createElement(Q.Z,{image:Q.Z.PRESENTED_IMAGE_SIMPLE,className:`${B}-small`});default:return E.createElement(Q.Z,null)}};He.Z=P},32983:function(Qt,He,c){"use strict";c.d(He,{Z:function(){return S}});var E=c(94184),O=c.n(E),Q=c(67294),P=c(53124),y=c(10110),X=c(10274),R=c(29691),s=()=>{const[,h]=(0,R.Z)(),v=new X.C(h.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return Q.createElement("svg",{style:v,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("g",{fill:"none",fillRule:"evenodd"},Q.createElement("g",{transform:"translate(24 31.67)"},Q.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),Q.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),Q.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),Q.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),Q.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),Q.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),Q.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},Q.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),Q.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},g=()=>{const[,h]=(0,R.Z)(),{colorFill:L,colorFillTertiary:v,colorFillQuaternary:V,colorBgContainer:$}=h,{borderColor:ee,shadowColor:de,contentColor:pe}=(0,Q.useMemo)(()=>({borderColor:new X.C(L).onBackground($).toHexShortString(),shadowColor:new X.C(v).onBackground($).toHexShortString(),contentColor:new X.C(V).onBackground($).toHexShortString()}),[L,v,V,$]);return Q.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},Q.createElement("ellipse",{fill:de,cx:"32",cy:"33",rx:"32",ry:"7"}),Q.createElement("g",{fillRule:"nonzero",stroke:ee},Q.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),Q.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:pe}))))},D=c(67968),H=c(45503);const r=h=>{const{componentCls:L,margin:v,marginXS:V,marginXL:$,fontSize:ee,lineHeight:de}=h;return{[L]:{marginInline:V,fontSize:ee,lineHeight:de,textAlign:"center",[`${L}-image`]:{height:h.emptyImgHeight,marginBottom:V,opacity:h.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${L}-description`]:{color:h.colorText},[`${L}-footer`]:{marginTop:v},"&-normal":{marginBlock:$,color:h.colorTextDisabled,[`${L}-description`]:{color:h.colorTextDisabled},[`${L}-image`]:{height:h.emptyImgHeightMD}},"&-small":{marginBlock:V,color:h.colorTextDisabled,[`${L}-image`]:{height:h.emptyImgHeightSM}}}}};var T=(0,D.Z)("Empty",h=>{const{componentCls:L,controlHeightLG:v}=h,V=(0,H.TS)(h,{emptyImgCls:`${L}-img`,emptyImgHeight:v*2.5,emptyImgHeightMD:v,emptyImgHeightSM:v*.875});return[r(V)]}),w=function(h,L){var v={};for(var V in h)Object.prototype.hasOwnProperty.call(h,V)&&L.indexOf(V)<0&&(v[V]=h[V]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $=0,V=Object.getOwnPropertySymbols(h);$<V.length;$++)L.indexOf(V[$])<0&&Object.prototype.propertyIsEnumerable.call(h,V[$])&&(v[V[$]]=h[V[$]]);return v};const x=Q.createElement(s,null),f=Q.createElement(g,null),p=h=>{var{className:L,rootClassName:v,prefixCls:V,image:$=x,description:ee,children:de,imageStyle:pe,style:ve}=h,xe=w(h,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:le,direction:Y,empty:j}=Q.useContext(P.E_),G=le("empty",V),[q,m]=T(G),[b]=(0,y.Z)("Empty"),F=typeof ee!="undefined"?ee:b==null?void 0:b.description,te=typeof F=="string"?F:"empty";let me=null;return typeof $=="string"?me=Q.createElement("img",{alt:te,src:$}):me=$,q(Q.createElement("div",Object.assign({className:O()(m,G,j==null?void 0:j.className,{[`${G}-normal`]:$===f,[`${G}-rtl`]:Y==="rtl"},L,v),style:Object.assign(Object.assign({},j==null?void 0:j.style),ve)},xe),Q.createElement("div",{className:`${G}-image`,style:pe},me),F&&Q.createElement("div",{className:`${G}-description`},F),de&&Q.createElement("div",{className:`${G}-footer`},de)))};p.PRESENTED_IMAGE_DEFAULT=x,p.PRESENTED_IMAGE_SIMPLE=f;var S=p},47673:function(Qt,He,c){"use strict";c.d(He,{TM:function(){return h},e5:function(){return S},ik:function(){return D},x0:function(){return N}});var E=c(14747),O=c(80110),Q=c(45503),P=c(67968);const y=L=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:L,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),X=L=>({borderColor:L.hoverBorderColor,backgroundColor:L.hoverBg}),R=L=>({borderColor:L.activeBorderColor,boxShadow:L.activeShadow,outline:0,backgroundColor:L.activeBg}),B=L=>({color:L.colorTextDisabled,backgroundColor:L.colorBgContainerDisabled,borderColor:L.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":Object.assign({},X((0,Q.TS)(L,{hoverBorderColor:L.colorBorder,hoverBg:L.colorBgContainerDisabled})))}),s=L=>{const{paddingBlockLG:v,fontSizeLG:V,lineHeightLG:$,borderRadiusLG:ee,paddingInlineLG:de}=L;return{padding:`${v}px ${de}px`,fontSize:V,lineHeight:$,borderRadius:ee}},N=L=>({padding:`${L.paddingBlockSM}px ${L.paddingInlineSM}px`,borderRadius:L.borderRadiusSM}),g=(L,v)=>{const{componentCls:V,colorError:$,colorWarning:ee,errorActiveShadow:de,warningActiveShadow:pe,colorErrorBorderHover:ve,colorWarningBorderHover:xe}=L;return{[`&-status-error:not(${v}-disabled):not(${v}-borderless)${v}`]:{borderColor:$,"&:hover":{borderColor:ve},"&:focus, &:focus-within":Object.assign({},R((0,Q.TS)(L,{activeBorderColor:$,activeShadow:de}))),[`${V}-prefix, ${V}-suffix`]:{color:$}},[`&-status-warning:not(${v}-disabled):not(${v}-borderless)${v}`]:{borderColor:ee,"&:hover":{borderColor:xe},"&:focus, &:focus-within":Object.assign({},R((0,Q.TS)(L,{activeBorderColor:ee,activeShadow:pe}))),[`${V}-prefix, ${V}-suffix`]:{color:ee}}}},D=L=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${L.paddingBlock}px ${L.paddingInline}px`,color:L.colorText,fontSize:L.fontSize,lineHeight:L.lineHeight,backgroundColor:L.colorBgContainer,backgroundImage:"none",borderWidth:L.lineWidth,borderStyle:L.lineType,borderColor:L.colorBorder,borderRadius:L.borderRadius,transition:`all ${L.motionDurationMid}`},y(L.colorTextPlaceholder)),{"&:hover":Object.assign({},X(L)),"&:focus, &:focus-within":Object.assign({},R(L)),"&-disabled, &[disabled]":Object.assign({},B(L)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:L.controlHeight,lineHeight:L.lineHeight,verticalAlign:"bottom",transition:`all ${L.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},s(L)),"&-sm":Object.assign({},N(L)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),H=L=>{const{componentCls:v,antCls:V}=L;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:L.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${v}, &-lg > ${v}-group-addon`]:Object.assign({},s(L)),[`&-sm ${v}, &-sm > ${v}-group-addon`]:Object.assign({},N(L)),[`&-lg ${V}-select-single ${V}-select-selector`]:{height:L.controlHeightLG},[`&-sm ${V}-select-single ${V}-select-selector`]:{height:L.controlHeightSM},[`> ${v}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${v}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${L.paddingInline}px`,color:L.colorText,fontWeight:"normal",fontSize:L.fontSize,textAlign:"center",backgroundColor:L.addonBg,border:`${L.lineWidth}px ${L.lineType} ${L.colorBorder}`,borderRadius:L.borderRadius,transition:`all ${L.motionDurationSlow}`,lineHeight:1,[`${V}-select`]:{margin:`-${L.paddingBlock+1}px -${L.paddingInline}px`,[`&${V}-select-single:not(${V}-select-customize-input):not(${V}-pagination-size-changer)`]:{[`${V}-select-selector`]:{backgroundColor:"inherit",border:`${L.lineWidth}px ${L.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${V}-select-selector`]:{color:L.colorPrimary}}},[`${V}-cascader-picker`]:{margin:`-9px -${L.paddingInline}px`,backgroundColor:"transparent",[`${V}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}},[`${v}`]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${v}-search-with-button &`]:{zIndex:0}}},[`> ${v}:first-child, ${v}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${V}-select ${V}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${v}-affix-wrapper`]:{[`&:not(:first-child) ${v}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${v}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${v}:last-child, ${v}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${V}-select ${V}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${v}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${v}-search &`]:{borderStartStartRadius:L.borderRadius,borderEndStartRadius:L.borderRadius}},[`&:not(:first-child), ${v}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${v}-group-compact`]:Object.assign(Object.assign({display:"block"},(0,E.dF)()),{[`${v}-group-addon, ${v}-group-wrap, > ${v}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:L.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${v}-affix-wrapper,
        & > ${v}-number-affix-wrapper,
        & > ${V}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:-L.lineWidth,borderInlineEndWidth:L.lineWidth},[`${v}`]:{float:"none"},[`& > ${V}-select > ${V}-select-selector,
      & > ${V}-select-auto-complete ${v},
      & > ${V}-cascader-picker ${v},
      & > ${v}-group-wrapper ${v}`]:{borderInlineEndWidth:L.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${V}-select-focused`]:{zIndex:1},[`& > ${V}-select > ${V}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${V}-select:first-child > ${V}-select-selector,
      & > ${V}-select-auto-complete:first-child ${v},
      & > ${V}-cascader-picker:first-child ${v}`]:{borderStartStartRadius:L.borderRadius,borderEndStartRadius:L.borderRadius},[`& > *:last-child,
      & > ${V}-select:last-child > ${V}-select-selector,
      & > ${V}-cascader-picker:last-child ${v},
      & > ${V}-cascader-picker-focused:last-child ${v}`]:{borderInlineEndWidth:L.lineWidth,borderStartEndRadius:L.borderRadius,borderEndEndRadius:L.borderRadius},[`& > ${V}-select-auto-complete ${v}`]:{verticalAlign:"top"},[`${v}-group-wrapper + ${v}-group-wrapper`]:{marginInlineStart:-L.lineWidth,[`${v}-affix-wrapper`]:{borderRadius:0}},[`${v}-group-wrapper:not(:last-child)`]:{[`&${v}-search > ${v}-group`]:{[`& > ${v}-group-addon > ${v}-search-button`]:{borderRadius:0},[`& > ${v}`]:{borderStartStartRadius:L.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:L.borderRadius}}}})}},r=L=>{const{componentCls:v,controlHeightSM:V,lineWidth:$}=L,de=(V-$*2-16)/2;return{[v]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,E.Wf)(L)),D(L)),g(L,v)),{'&[type="color"]':{height:L.controlHeight,[`&${v}-lg`]:{height:L.controlHeightLG},[`&${v}-sm`]:{height:V,paddingTop:de,paddingBottom:de}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},T=L=>{const{componentCls:v}=L;return{[`${v}-clear-icon`]:{margin:0,color:L.colorTextQuaternary,fontSize:L.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${L.motionDurationSlow}`,"&:hover":{color:L.colorTextTertiary},"&:active":{color:L.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${L.inputAffixPadding}px`}}}},w=L=>{const{componentCls:v,inputAffixPadding:V,colorTextDescription:$,motionDurationSlow:ee,colorIcon:de,colorIconHover:pe,iconCls:ve}=L;return{[`${v}-affix-wrapper`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},D(L)),{display:"inline-flex",[`&:not(${v}-affix-wrapper-disabled):hover`]:{zIndex:1,[`${v}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${v}[disabled]`]:{background:"transparent"}},[`> input${v}`]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${v}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:L.paddingXS}},"&-show-count-suffix":{color:$},"&-show-count-has-suffix":{marginInlineEnd:L.paddingXXS},"&-prefix":{marginInlineEnd:V},"&-suffix":{marginInlineStart:V}}}),T(L)),{[`${ve}${v}-password-icon`]:{color:de,cursor:"pointer",transition:`all ${ee}`,"&:hover":{color:pe}}}),g(L,`${v}-affix-wrapper`))}},x=L=>{const{componentCls:v,colorError:V,colorWarning:$,borderRadiusLG:ee,borderRadiusSM:de}=L;return{[`${v}-group`]:Object.assign(Object.assign(Object.assign({},(0,E.Wf)(L)),H(L)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${v}-group-addon`]:{borderRadius:ee,fontSize:L.fontSizeLG}},"&-sm":{[`${v}-group-addon`]:{borderRadius:de}},"&-status-error":{[`${v}-group-addon`]:{color:V,borderColor:V}},"&-status-warning":{[`${v}-group-addon`]:{color:$,borderColor:$}},"&-disabled":{[`${v}-group-addon`]:Object.assign({},B(L))},[`&:not(${v}-compact-first-item):not(${v}-compact-last-item)${v}-compact-item`]:{[`${v}, ${v}-group-addon`]:{borderRadius:0}},[`&:not(${v}-compact-last-item)${v}-compact-first-item`]:{[`${v}, ${v}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${v}-compact-first-item)${v}-compact-last-item`]:{[`${v}, ${v}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}})}},f=L=>{const{componentCls:v,antCls:V}=L,$=`${v}-search`;return{[$]:{[`${v}`]:{"&:hover, &:focus":{borderColor:L.colorPrimaryHover,[`+ ${v}-group-addon ${$}-button:not(${V}-btn-primary)`]:{borderInlineStartColor:L.colorPrimaryHover}}},[`${v}-affix-wrapper`]:{borderRadius:0},[`${v}-lg`]:{lineHeight:L.lineHeightLG-2e-4},[`> ${v}-group`]:{[`> ${v}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${$}-button`]:{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:L.borderRadius,borderEndEndRadius:L.borderRadius,borderEndStartRadius:0,boxShadow:"none"},[`${$}-button:not(${V}-btn-primary)`]:{color:L.colorTextDescription,"&:hover":{color:L.colorPrimaryHover},"&:active":{color:L.colorPrimaryActive},[`&${V}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${$}-button`]:{height:L.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${$}-button`]:{height:L.controlHeightLG},[`&-small ${$}-button`]:{height:L.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${v}-compact-item`]:{[`&:not(${v}-compact-last-item)`]:{[`${v}-group-addon`]:{[`${v}-search-button`]:{marginInlineEnd:-L.lineWidth,borderRadius:0}}},[`&:not(${v}-compact-first-item)`]:{[`${v},${v}-affix-wrapper`]:{borderRadius:0}},[`> ${v}-group-addon ${v}-search-button,
        > ${v},
        ${v}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${v}-affix-wrapper-focused`]:{zIndex:2}}}}},p=L=>{const{componentCls:v,paddingLG:V}=L,$=`${v}-textarea`;return{[$]:{position:"relative","&-show-count":{[`> ${v}`]:{height:"100%"},[`${v}-data-count`]:{position:"absolute",bottom:-L.fontSize*L.lineHeight,insetInlineEnd:0,color:L.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},"&-allow-clear":{[`> ${v}`]:{paddingInlineEnd:V}},[`&-affix-wrapper${$}-has-feedback`]:{[`${v}`]:{paddingInlineEnd:V}},[`&-affix-wrapper${v}-affix-wrapper`]:{padding:0,[`> textarea${v}`]:{fontSize:"inherit",border:"none",outline:"none","&:focus":{boxShadow:"none !important"}},[`${v}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${v}-clear-icon`]:{position:"absolute",insetInlineEnd:L.paddingXS,insetBlockStart:L.paddingXS},[`${$}-suffix`]:{position:"absolute",top:0,insetInlineEnd:L.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}}}}};function S(L){return(0,Q.TS)(L,{inputAffixPadding:L.paddingXXS})}const h=L=>{const{controlHeight:v,fontSize:V,lineHeight:$,lineWidth:ee,controlHeightSM:de,controlHeightLG:pe,fontSizeLG:ve,lineHeightLG:xe,paddingSM:le,controlPaddingHorizontalSM:Y,controlPaddingHorizontal:j,colorFillAlter:G,colorPrimaryHover:q,colorPrimary:m}=L;return{paddingBlock:Math.max(Math.round((v-V*$)/2*10)/10-ee,0),paddingBlockSM:Math.max(Math.round((de-V*$)/2*10)/10-ee,0),paddingBlockLG:Math.ceil((pe-ve*xe)/2*10)/10-ee,paddingInline:le-ee,paddingInlineSM:Y-ee,paddingInlineLG:j-ee,addonBg:G,activeBorderColor:m,hoverBorderColor:q,activeShadow:"none",errorActiveShadow:"none",warningActiveShadow:"none",hoverBg:"transparent",activeBg:"transparent"}};He.ZP=(0,P.Z)("Input",L=>{const v=(0,Q.TS)(L,S(L));return[r(v),p(v),w(v),x(v),f(v),(0,O.c)(v)]},h)},10110:function(Qt,He,c){"use strict";var E=c(67294),O=c(76745),Q=c(88526);const P=(y,X)=>{const R=E.useContext(O.Z),B=E.useMemo(()=>{var N;const g=X||Q.Z[y],D=(N=R==null?void 0:R[y])!==null&&N!==void 0?N:{};return Object.assign(Object.assign({},typeof g=="function"?g():g),D||{})},[y,X,R]),s=E.useMemo(()=>{const N=R==null?void 0:R.locale;return R!=null&&R.exist&&!N?Q.Z.locale:N},[R]);return[B,s]};He.Z=P},56864:function(Qt,He,c){"use strict";c.d(He,{Z:function(){return li}});var E=c(97460),O=c(67294),Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},P=Q,y=c(92578),X=function(we,dt){return O.createElement(y.Z,(0,E.Z)({},we,{ref:dt,icon:P}))},R=O.forwardRef(X),B=R,s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},N=s,g=function(we,dt){return O.createElement(y.Z,(0,E.Z)({},we,{ref:dt,icon:N}))},D=O.forwardRef(g),H=D,r=c(6171),T=c(90814),w=c(94184),x=c.n(w),f=c(87462),p=c(4942),S=c(1413),h=c(15671),L=c(43144),v=c(32531),V=c(73568),$=c(64217),ee={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},de=ee,pe=c(81626),ve=function(ae){(0,v.Z)(dt,ae);var we=(0,V.Z)(dt);function dt(){var pt;(0,h.Z)(this,dt);for(var rt=arguments.length,Ut=new Array(rt),ni=0;ni<rt;ni++)Ut[ni]=arguments[ni];return pt=we.call.apply(we,[this].concat(Ut)),pt.state={goInputText:""},pt.getValidValue=function(){var zt=pt.state.goInputText;return!zt||Number.isNaN(zt)?void 0:Number(zt)},pt.buildOptionText=function(zt){return"".concat(zt," ").concat(pt.props.locale.items_per_page)},pt.changeSize=function(zt){pt.props.changeSize(Number(zt))},pt.handleChange=function(zt){pt.setState({goInputText:zt.target.value})},pt.handleBlur=function(zt){var Ri=pt.props,Ci=Ri.goButton,Ei=Ri.quickGo,wi=Ri.rootPrefixCls,bn=pt.state.goInputText;Ci||bn===""||(pt.setState({goInputText:""}),!(zt.relatedTarget&&(zt.relatedTarget.className.indexOf("".concat(wi,"-item-link"))>=0||zt.relatedTarget.className.indexOf("".concat(wi,"-item"))>=0))&&Ei(pt.getValidValue()))},pt.go=function(zt){var Ri=pt.state.goInputText;Ri!==""&&(zt.keyCode===de.ENTER||zt.type==="click")&&(pt.setState({goInputText:""}),pt.props.quickGo(pt.getValidValue()))},pt}return(0,L.Z)(dt,[{key:"getPageSizeOptions",value:function(){var rt=this.props,Ut=rt.pageSize,ni=rt.pageSizeOptions;return ni.some(function(zt){return zt.toString()===Ut.toString()})?ni:ni.concat([Ut.toString()]).sort(function(zt,Ri){var Ci=Number.isNaN(Number(zt))?0:Number(zt),Ei=Number.isNaN(Number(Ri))?0:Number(Ri);return Ci-Ei})}},{key:"render",value:function(){var rt=this,Ut=this.props,ni=Ut.pageSize,zt=Ut.locale,Ri=Ut.rootPrefixCls,Ci=Ut.changeSize,Ei=Ut.quickGo,wi=Ut.goButton,bn=Ut.selectComponentClass,ji=Ut.buildOptionText,gn=Ut.selectPrefixCls,Wn=Ut.disabled,zn=this.state.goInputText,Vn="".concat(Ri,"-options"),qn=bn,ws=null,Us=null,Bs=null;if(!Ci&&!Ei)return null;var cs=this.getPageSizeOptions();if(Ci&&qn){var Ws=cs.map(function(vs,ss){return O.createElement(qn.Option,{key:ss,value:vs.toString()},(ji||rt.buildOptionText)(vs))});ws=O.createElement(qn,{disabled:Wn,prefixCls:gn,showSearch:!1,className:"".concat(Vn,"-size-changer"),optionLabelProp:"children",popupMatchSelectWidth:!1,value:(ni||cs[0]).toString(),onChange:this.changeSize,getPopupContainer:function(ss){return ss.parentNode},"aria-label":zt.page_size,defaultOpen:!1},Ws)}return Ei&&(wi&&(Bs=typeof wi=="boolean"?O.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:Wn,className:"".concat(Vn,"-quick-jumper-button")},zt.jump_to_confirm):O.createElement("span",{onClick:this.go,onKeyUp:this.go},wi)),Us=O.createElement("div",{className:"".concat(Vn,"-quick-jumper")},zt.jump_to,O.createElement("input",{disabled:Wn,type:"text",value:zn,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":zt.page}),zt.page,Bs)),O.createElement("li",{className:"".concat(Vn)},ws,Us)}}]),dt}(O.Component);ve.defaultProps={pageSizeOptions:["10","20","50","100"]};var xe=ve,le=function(we){var dt,pt=we.rootPrefixCls,rt=we.page,Ut=we.active,ni=we.className,zt=we.showTitle,Ri=we.onClick,Ci=we.onKeyPress,Ei=we.itemRender,wi="".concat(pt,"-item"),bn=x()(wi,"".concat(wi,"-").concat(rt),(dt={},(0,p.Z)(dt,"".concat(wi,"-active"),Ut),(0,p.Z)(dt,"".concat(wi,"-disabled"),!rt),(0,p.Z)(dt,we.className,ni),dt)),ji=function(){Ri(rt)},gn=function(Vn){Ci(Vn,Ri,rt)},Wn=Ei(rt,"page",O.createElement("a",{rel:"nofollow"},rt));return Wn?O.createElement("li",{title:zt?rt.toString():null,className:bn,onClick:ji,onKeyPress:gn,tabIndex:0},Wn):null},Y=le;function j(){}function G(ae){var we=Number(ae);return typeof we=="number"&&!Number.isNaN(we)&&isFinite(we)&&Math.floor(we)===we}var q=function(we,dt,pt){return pt};function m(ae,we,dt){var pt=typeof ae=="undefined"?we.pageSize:ae;return Math.floor((dt.total-1)/pt)+1}var b=function(ae){(0,v.Z)(dt,ae);var we=(0,V.Z)(dt);function dt(pt){var rt;(0,h.Z)(this,dt),rt=we.call(this,pt),rt.paginationNode=O.createRef(),rt.getJumpPrevPage=function(){return Math.max(1,rt.state.current-(rt.props.showLessItems?3:5))},rt.getJumpNextPage=function(){return Math.min(m(void 0,rt.state,rt.props),rt.state.current+(rt.props.showLessItems?3:5))},rt.getItemIcon=function(Ci,Ei){var wi=rt.props.prefixCls,bn=Ci||O.createElement("button",{type:"button","aria-label":Ei,className:"".concat(wi,"-item-link")});return typeof Ci=="function"&&(bn=O.createElement(Ci,(0,S.Z)({},rt.props))),bn},rt.isValid=function(Ci){var Ei=rt.props.total;return G(Ci)&&Ci!==rt.state.current&&G(Ei)&&Ei>0},rt.shouldDisplayQuickJumper=function(){var Ci=rt.props,Ei=Ci.showQuickJumper,wi=Ci.total,bn=rt.state.pageSize;return wi<=bn?!1:Ei},rt.handleKeyDown=function(Ci){(Ci.keyCode===de.ARROW_UP||Ci.keyCode===de.ARROW_DOWN)&&Ci.preventDefault()},rt.handleKeyUp=function(Ci){var Ei=rt.getValidValue(Ci),wi=rt.state.currentInputValue;Ei!==wi&&rt.setState({currentInputValue:Ei}),Ci.keyCode===de.ENTER?rt.handleChange(Ei):Ci.keyCode===de.ARROW_UP?rt.handleChange(Ei-1):Ci.keyCode===de.ARROW_DOWN&&rt.handleChange(Ei+1)},rt.handleBlur=function(Ci){var Ei=rt.getValidValue(Ci);rt.handleChange(Ei)},rt.changePageSize=function(Ci){var Ei=rt.state.current,wi=m(Ci,rt.state,rt.props);Ei=Ei>wi?wi:Ei,wi===0&&(Ei=rt.state.current),typeof Ci=="number"&&("pageSize"in rt.props||rt.setState({pageSize:Ci}),"current"in rt.props||rt.setState({current:Ei,currentInputValue:Ei})),rt.props.onShowSizeChange(Ei,Ci),"onChange"in rt.props&&rt.props.onChange&&rt.props.onChange(Ei,Ci)},rt.handleChange=function(Ci){var Ei=rt.props,wi=Ei.disabled,bn=Ei.onChange,ji=rt.state,gn=ji.pageSize,Wn=ji.current,zn=ji.currentInputValue;if(rt.isValid(Ci)&&!wi){var Vn=m(void 0,rt.state,rt.props),qn=Ci;return Ci>Vn?qn=Vn:Ci<1&&(qn=1),"current"in rt.props||rt.setState({current:qn}),qn!==zn&&rt.setState({currentInputValue:qn}),bn(qn,gn),qn}return Wn},rt.prev=function(){rt.hasPrev()&&rt.handleChange(rt.state.current-1)},rt.next=function(){rt.hasNext()&&rt.handleChange(rt.state.current+1)},rt.jumpPrev=function(){rt.handleChange(rt.getJumpPrevPage())},rt.jumpNext=function(){rt.handleChange(rt.getJumpNextPage())},rt.hasPrev=function(){return rt.state.current>1},rt.hasNext=function(){return rt.state.current<m(void 0,rt.state,rt.props)},rt.runIfEnter=function(Ci,Ei){if(Ci.key==="Enter"||Ci.charCode===13){for(var wi=arguments.length,bn=new Array(wi>2?wi-2:0),ji=2;ji<wi;ji++)bn[ji-2]=arguments[ji];Ei.apply(void 0,bn)}},rt.runIfEnterPrev=function(Ci){rt.runIfEnter(Ci,rt.prev)},rt.runIfEnterNext=function(Ci){rt.runIfEnter(Ci,rt.next)},rt.runIfEnterJumpPrev=function(Ci){rt.runIfEnter(Ci,rt.jumpPrev)},rt.runIfEnterJumpNext=function(Ci){rt.runIfEnter(Ci,rt.jumpNext)},rt.handleGoTO=function(Ci){(Ci.keyCode===de.ENTER||Ci.type==="click")&&rt.handleChange(rt.state.currentInputValue)},rt.renderPrev=function(Ci){var Ei=rt.props,wi=Ei.prevIcon,bn=Ei.itemRender,ji=bn(Ci,"prev",rt.getItemIcon(wi,"prev page")),gn=!rt.hasPrev();return(0,O.isValidElement)(ji)?(0,O.cloneElement)(ji,{disabled:gn}):ji},rt.renderNext=function(Ci){var Ei=rt.props,wi=Ei.nextIcon,bn=Ei.itemRender,ji=bn(Ci,"next",rt.getItemIcon(wi,"next page")),gn=!rt.hasNext();return(0,O.isValidElement)(ji)?(0,O.cloneElement)(ji,{disabled:gn}):ji};var Ut=pt.onChange!==j,ni="current"in pt;ni&&!Ut&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var zt=pt.defaultCurrent;"current"in pt&&(zt=pt.current);var Ri=pt.defaultPageSize;return"pageSize"in pt&&(Ri=pt.pageSize),zt=Math.min(zt,m(Ri,void 0,pt)),rt.state={current:zt,currentInputValue:zt,pageSize:Ri},rt}return(0,L.Z)(dt,[{key:"componentDidUpdate",value:function(rt,Ut){var ni=this.props.prefixCls;if(Ut.current!==this.state.current&&this.paginationNode.current){var zt=this.paginationNode.current.querySelector(".".concat(ni,"-item-").concat(Ut.current));if(zt&&document.activeElement===zt){var Ri;zt==null||(Ri=zt.blur)===null||Ri===void 0||Ri.call(zt)}}}},{key:"getValidValue",value:function(rt){var Ut=rt.target.value,ni=m(void 0,this.state,this.props),zt=this.state.currentInputValue,Ri;return Ut===""?Ri=Ut:Number.isNaN(Number(Ut))?Ri=zt:Ut>=ni?Ri=ni:Ri=Number(Ut),Ri}},{key:"getShowSizeChanger",value:function(){var rt=this.props,Ut=rt.showSizeChanger,ni=rt.total,zt=rt.totalBoundaryShowSizeChanger;return typeof Ut!="undefined"?Ut:ni>zt}},{key:"render",value:function(){var rt=this.props,Ut=rt.prefixCls,ni=rt.className,zt=rt.style,Ri=rt.disabled,Ci=rt.hideOnSinglePage,Ei=rt.total,wi=rt.locale,bn=rt.showQuickJumper,ji=rt.showLessItems,gn=rt.showTitle,Wn=rt.showTotal,zn=rt.simple,Vn=rt.itemRender,qn=rt.showPrevNextJumpers,ws=rt.jumpPrevIcon,Us=rt.jumpNextIcon,Bs=rt.selectComponentClass,cs=rt.selectPrefixCls,Ws=rt.pageSizeOptions,vs=this.state,ss=vs.current,Ms=vs.pageSize,uo=vs.currentInputValue;if(Ci===!0&&Ei<=Ms)return null;var An=m(void 0,this.state,this.props),Vs=[],Gs=null,Js=null,ms=null,ps=null,Ss=null,Is=bn&&bn.goButton,Lo=ji?1:2,So=ss-1>0?ss-1:0,bo=ss+1<An?ss+1:An,zo=(0,$.Z)(this.props,{aria:!0,data:!0}),lo=Wn&&O.createElement("li",{className:"".concat(Ut,"-total-text")},Wn(Ei,[Ei===0?0:(ss-1)*Ms+1,ss*Ms>Ei?Ei:ss*Ms]));if(zn){Is&&(typeof Is=="boolean"?Ss=O.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},wi.jump_to_confirm):Ss=O.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},Is),Ss=O.createElement("li",{title:gn?"".concat(wi.jump_to).concat(ss,"/").concat(An):null,className:"".concat(Ut,"-simple-pager")},Ss));var Do=this.renderPrev(So);return O.createElement("ul",(0,f.Z)({className:x()(Ut,"".concat(Ut,"-simple"),(0,p.Z)({},"".concat(Ut,"-disabled"),Ri),ni),style:zt,ref:this.paginationNode},zo),lo,Do?O.createElement("li",{title:gn?wi.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:x()("".concat(Ut,"-prev"),(0,p.Z)({},"".concat(Ut,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},Do):null,O.createElement("li",{title:gn?"".concat(ss,"/").concat(An):null,className:"".concat(Ut,"-simple-pager")},O.createElement("input",{type:"text",value:uo,disabled:Ri,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:3}),O.createElement("span",{className:"".concat(Ut,"-slash")},"/"),An),O.createElement("li",{title:gn?wi.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:x()("".concat(Ut,"-next"),(0,p.Z)({},"".concat(Ut,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(bo)),Ss)}if(An<=3+Lo*2){var Jo={locale:wi,rootPrefixCls:Ut,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:gn,itemRender:Vn};An||Vs.push(O.createElement(Y,(0,f.Z)({},Jo,{key:"noPager",page:1,className:"".concat(Ut,"-item-disabled")})));for(var Cs=1;Cs<=An;Cs+=1){var ns=ss===Cs;Vs.push(O.createElement(Y,(0,f.Z)({},Jo,{key:Cs,page:Cs,active:ns})))}}else{var ys=ji?wi.prev_3:wi.prev_5,hs=ji?wi.next_3:wi.next_5,ks=Vn(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(ws,"prev page")),As=Vn(this.getJumpNextPage(),"jump-next",this.getItemIcon(Us,"next page"));qn&&(Gs=ks?O.createElement("li",{title:gn?ys:null,key:"prev",onClick:this.jumpPrev,tabIndex:0,onKeyPress:this.runIfEnterJumpPrev,className:x()("".concat(Ut,"-jump-prev"),(0,p.Z)({},"".concat(Ut,"-jump-prev-custom-icon"),!!ws))},ks):null,Js=As?O.createElement("li",{title:gn?hs:null,key:"next",tabIndex:0,onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:x()("".concat(Ut,"-jump-next"),(0,p.Z)({},"".concat(Ut,"-jump-next-custom-icon"),!!Us))},As):null),ps=O.createElement(Y,{locale:wi,last:!0,rootPrefixCls:Ut,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:An,page:An,active:!1,showTitle:gn,itemRender:Vn}),ms=O.createElement(Y,{locale:wi,rootPrefixCls:Ut,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:gn,itemRender:Vn});var bs=Math.max(1,ss-Lo),un=Math.min(ss+Lo,An);ss-1<=Lo&&(un=1+Lo*2),An-ss<=Lo&&(bs=An-Lo*2);for(var fs=bs;fs<=un;fs+=1){var co=ss===fs;Vs.push(O.createElement(Y,{locale:wi,rootPrefixCls:Ut,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:fs,page:fs,active:co,showTitle:gn,itemRender:Vn}))}ss-1>=Lo*2&&ss!==3&&(Vs[0]=(0,O.cloneElement)(Vs[0],{className:"".concat(Ut,"-item-after-jump-prev")}),Vs.unshift(Gs)),An-ss>=Lo*2&&ss!==An-2&&(Vs[Vs.length-1]=(0,O.cloneElement)(Vs[Vs.length-1],{className:"".concat(Ut,"-item-before-jump-next")}),Vs.push(Js)),bs!==1&&Vs.unshift(ms),un!==An&&Vs.push(ps)}var fo=!this.hasPrev()||!An,xo=!this.hasNext()||!An,To=this.renderPrev(So),ko=this.renderNext(bo);return O.createElement("ul",(0,f.Z)({className:x()(Ut,ni,(0,p.Z)({},"".concat(Ut,"-disabled"),Ri)),style:zt,ref:this.paginationNode},zo),lo,To?O.createElement("li",{title:gn?wi.prev_page:null,onClick:this.prev,tabIndex:fo?null:0,onKeyPress:this.runIfEnterPrev,className:x()("".concat(Ut,"-prev"),(0,p.Z)({},"".concat(Ut,"-disabled"),fo)),"aria-disabled":fo},To):null,Vs,ko?O.createElement("li",{title:gn?wi.next_page:null,onClick:this.next,tabIndex:xo?null:0,onKeyPress:this.runIfEnterNext,className:x()("".concat(Ut,"-next"),(0,p.Z)({},"".concat(Ut,"-disabled"),xo)),"aria-disabled":xo},ko):null,O.createElement(xe,{disabled:Ri,locale:wi,rootPrefixCls:Ut,selectComponentClass:Bs,selectPrefixCls:cs,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:ss,pageSize:Ms,pageSizeOptions:Ws,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:Is}))}}],[{key:"getDerivedStateFromProps",value:function(rt,Ut){var ni={};if("current"in rt&&(ni.current=rt.current,rt.current!==Ut.current&&(ni.currentInputValue=ni.current)),"pageSize"in rt&&rt.pageSize!==Ut.pageSize){var zt=Ut.current,Ri=m(rt.pageSize,Ut,rt);zt=zt>Ri?Ri:zt,"current"in rt||(ni.current=zt,ni.currentInputValue=zt),ni.pageSize=rt.pageSize}return ni}}]),dt}(O.Component);b.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:j,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:j,locale:pe.Z,style:{},itemRender:q,totalBoundaryShowSizeChanger:50};var F=b,te=c(62906),me=c(53124),ue=c(98675),Oe=c(25378),Re=c(10110),et=c(74902),Dt=c(97685),ht=c(91),Mt=c(71002),Je=c(21770),tt=c(80334),ke=c(8410),fe=c(31131),Ie=c(15105),nt=c(42550),at=function(we){var dt=we.className,pt=we.customizeIcon,rt=we.customizeIconProps,Ut=we.onMouseDown,ni=we.onClick,zt=we.children,Ri;return typeof pt=="function"?Ri=pt(rt):Ri=pt,O.createElement("span",{className:dt,onMouseDown:function(Ei){Ei.preventDefault(),Ut&&Ut(Ei)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:ni,"aria-hidden":!0},Ri!==void 0?Ri:O.createElement("span",{className:x()(dt.split(/\s+/).map(function(Ci){return"".concat(Ci,"-icon")}))},zt))},ot=at;function Ne(ae,we,dt,pt,rt){var Ut=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,ni=arguments.length>6?arguments[6]:void 0,zt=arguments.length>7?arguments[7]:void 0,Ri=O.useMemo(function(){if((0,Mt.Z)(pt)==="object")return pt.clearIcon;if(rt)return rt},[pt,rt]),Ci=O.useMemo(function(){return!!(!Ut&&pt&&(dt.length||ni)&&!(zt==="combobox"&&ni===""))},[pt,Ut,dt.length,ni,zt]);return{allowClear:Ci,clearIcon:O.createElement(ot,{className:"".concat(ae,"-clear"),onMouseDown:we,customizeIcon:Ri},"\xD7")}}var Pe=O.createContext(null);function ye(){return O.useContext(Pe)}function Ze(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,we=O.useState(!1),dt=(0,Dt.Z)(we,2),pt=dt[0],rt=dt[1],Ut=O.useRef(null),ni=function(){window.clearTimeout(Ut.current)};O.useEffect(function(){return ni},[]);var zt=function(Ci,Ei){ni(),Ut.current=window.setTimeout(function(){rt(Ci),Ei&&Ei()},ae)};return[pt,zt,ni]}function it(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,we=O.useRef(null),dt=O.useRef(null);O.useEffect(function(){return function(){window.clearTimeout(dt.current)}},[]);function pt(rt){(rt||we.current===null)&&(we.current=rt),window.clearTimeout(dt.current),dt.current=window.setTimeout(function(){we.current=null},ae)}return[function(){return we.current},pt]}function Ft(ae,we,dt,pt){var rt=O.useRef(null);rt.current={open:we,triggerOpen:dt,customizedTrigger:pt},O.useEffect(function(){function Ut(ni){var zt;if(!((zt=rt.current)!==null&&zt!==void 0&&zt.customizedTrigger)){var Ri=ni.target;Ri.shadowRoot&&ni.composed&&(Ri=ni.composedPath()[0]||Ri),rt.current.open&&ae().filter(function(Ci){return Ci}).every(function(Ci){return!Ci.contains(Ri)&&Ci!==Ri})&&rt.current.triggerOpen(!1)}}return window.addEventListener("mousedown",Ut),function(){return window.removeEventListener("mousedown",Ut)}},[])}var ei=c(39983),bi=function(we,dt){var pt,rt,Ut=we.prefixCls,ni=we.id,zt=we.inputElement,Ri=we.disabled,Ci=we.tabIndex,Ei=we.autoFocus,wi=we.autoComplete,bn=we.editable,ji=we.activeDescendantId,gn=we.value,Wn=we.maxLength,zn=we.onKeyDown,Vn=we.onMouseDown,qn=we.onChange,ws=we.onPaste,Us=we.onCompositionStart,Bs=we.onCompositionEnd,cs=we.open,Ws=we.attrs,vs=zt||O.createElement("input",null),ss=vs,Ms=ss.ref,uo=ss.props,An=uo.onKeyDown,Vs=uo.onChange,Gs=uo.onMouseDown,Js=uo.onCompositionStart,ms=uo.onCompositionEnd,ps=uo.style;return(0,tt.Kp)(!("maxLength"in vs.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),vs=O.cloneElement(vs,(0,S.Z)((0,S.Z)((0,S.Z)({type:"search"},uo),{},{id:ni,ref:(0,nt.sQ)(dt,Ms),disabled:Ri,tabIndex:Ci,autoComplete:wi||"off",autoFocus:Ei,className:x()("".concat(Ut,"-selection-search-input"),(pt=vs)===null||pt===void 0||(rt=pt.props)===null||rt===void 0?void 0:rt.className),role:"combobox","aria-label":"Search","aria-expanded":cs||!1,"aria-haspopup":"listbox","aria-owns":"".concat(ni,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(ni,"_list"),"aria-activedescendant":cs?ji:void 0},Ws),{},{value:bn?gn:"",maxLength:Wn,readOnly:!bn,unselectable:bn?null:"on",style:(0,S.Z)((0,S.Z)({},ps),{},{opacity:bn?null:0}),onKeyDown:function(Is){zn(Is),An&&An(Is)},onMouseDown:function(Is){Vn(Is),Gs&&Gs(Is)},onChange:function(Is){qn(Is),Vs&&Vs(Is)},onCompositionStart:function(Is){Us(Is),Js&&Js(Is)},onCompositionEnd:function(Is){Bs(Is),ms&&ms(Is)},onPaste:ws})),vs},ii=O.forwardRef(bi);ii.displayName="Input";var Ot=ii;function en(ae){return Array.isArray(ae)?ae:ae!==void 0?[ae]:[]}var ui=typeof window!="undefined"&&window.document&&window.document.documentElement,Ke=ui;function st(ae){return ae!=null}function Mi(ae){return!ae&&ae!==0}function ci(ae){return["string","number"].includes((0,Mt.Z)(ae))}function zi(ae){var we=void 0;return ae&&(ci(ae.title)?we=ae.title.toString():ci(ae.label)&&(we=ae.label.toString())),we}function kn(ae,we){Ke?O.useLayoutEffect(ae,we):O.useEffect(ae,we)}function Ki(ae){var we;return(we=ae.key)!==null&&we!==void 0?we:ae.value}var ls=function(we){we.preventDefault(),we.stopPropagation()},Bn=function(we){var dt=we.id,pt=we.prefixCls,rt=we.values,Ut=we.open,ni=we.searchValue,zt=we.autoClearSearchValue,Ri=we.inputRef,Ci=we.placeholder,Ei=we.disabled,wi=we.mode,bn=we.showSearch,ji=we.autoFocus,gn=we.autoComplete,Wn=we.activeDescendantId,zn=we.tabIndex,Vn=we.removeIcon,qn=we.maxTagCount,ws=we.maxTagTextLength,Us=we.maxTagPlaceholder,Bs=Us===void 0?function(bs){return"+ ".concat(bs.length," ...")}:Us,cs=we.tagRender,Ws=we.onToggleOpen,vs=we.onRemove,ss=we.onInputChange,Ms=we.onInputPaste,uo=we.onInputKeyDown,An=we.onInputMouseDown,Vs=we.onInputCompositionStart,Gs=we.onInputCompositionEnd,Js=O.useRef(null),ms=(0,O.useState)(0),ps=(0,Dt.Z)(ms,2),Ss=ps[0],Is=ps[1],Lo=(0,O.useState)(!1),So=(0,Dt.Z)(Lo,2),bo=So[0],zo=So[1],lo="".concat(pt,"-selection"),Do=Ut||wi==="multiple"&&zt===!1||wi==="tags"?ni:"",Jo=wi==="tags"||wi==="multiple"&&zt===!1||bn&&(Ut||bo);kn(function(){Is(Js.current.scrollWidth)},[Do]);function Cs(bs,un,fs,co,fo){return O.createElement("span",{className:x()("".concat(lo,"-item"),(0,p.Z)({},"".concat(lo,"-item-disabled"),fs)),title:zi(bs)},O.createElement("span",{className:"".concat(lo,"-item-content")},un),co&&O.createElement(ot,{className:"".concat(lo,"-item-remove"),onMouseDown:ls,onClick:fo,customizeIcon:Vn},"\xD7"))}function ns(bs,un,fs,co,fo){var xo=function(ko){ls(ko),Ws(!Ut)};return O.createElement("span",{onMouseDown:xo},cs({label:un,value:bs,disabled:fs,closable:co,onClose:fo}))}function ys(bs){var un=bs.disabled,fs=bs.label,co=bs.value,fo=!Ei&&!un,xo=fs;if(typeof ws=="number"&&(typeof fs=="string"||typeof fs=="number")){var To=String(xo);To.length>ws&&(xo="".concat(To.slice(0,ws),"..."))}var ko=function(Yo){Yo&&Yo.stopPropagation(),vs(bs)};return typeof cs=="function"?ns(co,xo,un,fo,ko):Cs(bs,xo,un,fo,ko)}function hs(bs){var un=typeof Bs=="function"?Bs(bs):Bs;return Cs({title:un},un,!1)}var ks=O.createElement("div",{className:"".concat(lo,"-search"),style:{width:Ss},onFocus:function(){zo(!0)},onBlur:function(){zo(!1)}},O.createElement(Ot,{ref:Ri,open:Ut,prefixCls:pt,id:dt,inputElement:null,disabled:Ei,autoFocus:ji,autoComplete:gn,editable:Jo,activeDescendantId:Wn,value:Do,onKeyDown:uo,onMouseDown:An,onChange:ss,onPaste:Ms,onCompositionStart:Vs,onCompositionEnd:Gs,tabIndex:zn,attrs:(0,$.Z)(we,!0)}),O.createElement("span",{ref:Js,className:"".concat(lo,"-search-mirror"),"aria-hidden":!0},Do,"\xA0")),As=O.createElement(ei.Z,{prefixCls:"".concat(lo,"-overflow"),data:rt,renderItem:ys,renderRest:hs,suffix:ks,itemKey:Ki,maxCount:qn});return O.createElement(O.Fragment,null,As,!rt.length&&!Do&&O.createElement("span",{className:"".concat(lo,"-placeholder")},Ci))},On=Bn,Zi=function(we){var dt=we.inputElement,pt=we.prefixCls,rt=we.id,Ut=we.inputRef,ni=we.disabled,zt=we.autoFocus,Ri=we.autoComplete,Ci=we.activeDescendantId,Ei=we.mode,wi=we.open,bn=we.values,ji=we.placeholder,gn=we.tabIndex,Wn=we.showSearch,zn=we.searchValue,Vn=we.activeValue,qn=we.maxLength,ws=we.onInputKeyDown,Us=we.onInputMouseDown,Bs=we.onInputChange,cs=we.onInputPaste,Ws=we.onInputCompositionStart,vs=we.onInputCompositionEnd,ss=we.title,Ms=O.useState(!1),uo=(0,Dt.Z)(Ms,2),An=uo[0],Vs=uo[1],Gs=Ei==="combobox",Js=Gs||Wn,ms=bn[0],ps=zn||"";Gs&&Vn&&!An&&(ps=Vn),O.useEffect(function(){Gs&&Vs(!1)},[Gs,Vn]);var Ss=Ei!=="combobox"&&!wi&&!Wn?!1:!!ps,Is=ss===void 0?zi(ms):ss,Lo=function(){if(ms)return null;var bo=Ss?{visibility:"hidden"}:void 0;return O.createElement("span",{className:"".concat(pt,"-selection-placeholder"),style:bo},ji)};return O.createElement(O.Fragment,null,O.createElement("span",{className:"".concat(pt,"-selection-search")},O.createElement(Ot,{ref:Ut,prefixCls:pt,id:rt,open:wi,inputElement:dt,disabled:ni,autoFocus:zt,autoComplete:Ri,editable:Js,activeDescendantId:Ci,value:ps,onKeyDown:ws,onMouseDown:Us,onChange:function(bo){Vs(!0),Bs(bo)},onPaste:cs,onCompositionStart:Ws,onCompositionEnd:vs,tabIndex:gn,attrs:(0,$.Z)(we,!0),maxLength:Gs?qn:void 0})),!Gs&&ms?O.createElement("span",{className:"".concat(pt,"-selection-item"),title:Is,style:Ss?{visibility:"hidden"}:void 0},ms.label):null,Lo())},Mn=Zi;function an(ae){return![Ie.Z.ESC,Ie.Z.SHIFT,Ie.Z.BACKSPACE,Ie.Z.TAB,Ie.Z.WIN_KEY,Ie.Z.ALT,Ie.Z.META,Ie.Z.WIN_KEY_RIGHT,Ie.Z.CTRL,Ie.Z.SEMICOLON,Ie.Z.EQUALS,Ie.Z.CAPS_LOCK,Ie.Z.CONTEXT_MENU,Ie.Z.F1,Ie.Z.F2,Ie.Z.F3,Ie.Z.F4,Ie.Z.F5,Ie.Z.F6,Ie.Z.F7,Ie.Z.F8,Ie.Z.F9,Ie.Z.F10,Ie.Z.F11,Ie.Z.F12].includes(ae)}var $e=function(we,dt){var pt=(0,O.useRef)(null),rt=(0,O.useRef)(!1),Ut=we.prefixCls,ni=we.open,zt=we.mode,Ri=we.showSearch,Ci=we.tokenWithEnter,Ei=we.autoClearSearchValue,wi=we.onSearch,bn=we.onSearchSubmit,ji=we.onToggleOpen,gn=we.onInputKeyDown,Wn=we.domRef;O.useImperativeHandle(dt,function(){return{focus:function(){pt.current.focus()},blur:function(){pt.current.blur()}}});var zn=it(0),Vn=(0,Dt.Z)(zn,2),qn=Vn[0],ws=Vn[1],Us=function(ps){var Ss=ps.which;(Ss===Ie.Z.UP||Ss===Ie.Z.DOWN)&&ps.preventDefault(),gn&&gn(ps),Ss===Ie.Z.ENTER&&zt==="tags"&&!rt.current&&!ni&&(bn==null||bn(ps.target.value)),an(Ss)&&ji(!0)},Bs=function(){ws(!0)},cs=(0,O.useRef)(null),Ws=function(ps){wi(ps,!0,rt.current)!==!1&&ji(!0)},vs=function(){rt.current=!0},ss=function(ps){rt.current=!1,zt!=="combobox"&&Ws(ps.target.value)},Ms=function(ps){var Ss=ps.target.value;if(Ci&&cs.current&&/[\r\n]/.test(cs.current)){var Is=cs.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");Ss=Ss.replace(Is,cs.current)}cs.current=null,Ws(Ss)},uo=function(ps){var Ss=ps.clipboardData,Is=Ss.getData("text");cs.current=Is},An=function(ps){var Ss=ps.target;if(Ss!==pt.current){var Is=document.body.style.msTouchAction!==void 0;Is?setTimeout(function(){pt.current.focus()}):pt.current.focus()}},Vs=function(ps){var Ss=qn();ps.target!==pt.current&&!Ss&&zt!=="combobox"&&ps.preventDefault(),(zt!=="combobox"&&(!Ri||!Ss)||!ni)&&(ni&&Ei!==!1&&wi("",!0,!1),ji())},Gs={inputRef:pt,onInputKeyDown:Us,onInputMouseDown:Bs,onInputChange:Ms,onInputPaste:uo,onInputCompositionStart:vs,onInputCompositionEnd:ss},Js=zt==="multiple"||zt==="tags"?O.createElement(On,(0,f.Z)({},we,Gs)):O.createElement(Mn,(0,f.Z)({},we,Gs));return O.createElement("div",{ref:Wn,className:"".concat(Ut,"-selector"),onClick:An,onMouseDown:Vs},Js)},Tt=O.forwardRef($e);Tt.displayName="Selector";var It=Tt,Ge=c(40228),Xe=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],kt=function(we){var dt=we===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:dt,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:dt,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:dt,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:dt,adjustY:1},htmlRegion:"scroll"}}},At=function(we,dt){var pt=we.prefixCls,rt=we.disabled,Ut=we.visible,ni=we.children,zt=we.popupElement,Ri=we.animation,Ci=we.transitionName,Ei=we.dropdownStyle,wi=we.dropdownClassName,bn=we.direction,ji=bn===void 0?"ltr":bn,gn=we.placement,Wn=we.builtinPlacements,zn=we.dropdownMatchSelectWidth,Vn=we.dropdownRender,qn=we.dropdownAlign,ws=we.getPopupContainer,Us=we.empty,Bs=we.getTriggerDOMNode,cs=we.onPopupVisibleChange,Ws=we.onPopupMouseEnter,vs=(0,ht.Z)(we,Xe),ss="".concat(pt,"-dropdown"),Ms=zt;Vn&&(Ms=Vn(zt));var uo=O.useMemo(function(){return Wn||kt(zn)},[Wn,zn]),An=Ri?"".concat(ss,"-").concat(Ri):Ci,Vs=typeof zn=="number",Gs=O.useMemo(function(){return Vs?null:zn===!1?"minWidth":"width"},[zn,Vs]),Js=Ei;Vs&&(Js=(0,S.Z)((0,S.Z)({},Js),{},{width:zn}));var ms=O.useRef(null);return O.useImperativeHandle(dt,function(){return{getPopupElement:function(){return ms.current}}}),O.createElement(Ge.Z,(0,f.Z)({},vs,{showAction:cs?["click"]:[],hideAction:cs?["click"]:[],popupPlacement:gn||(ji==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:uo,prefixCls:ss,popupTransitionName:An,popup:O.createElement("div",{ref:ms,onMouseEnter:Ws},Ms),stretch:Gs,popupAlign:qn,popupVisible:Ut,getPopupContainer:ws,popupClassName:x()(wi,(0,p.Z)({},"".concat(ss,"-empty"),Us)),popupStyle:Js,getTriggerDOMNode:Bs,onPopupVisibleChange:cs}),ni)},Jt=O.forwardRef(At);Jt.displayName="SelectTrigger";var ai=Jt,yi=c(84506);function sn(ae,we){var dt=ae.key,pt;return"value"in ae&&(pt=ae.value),dt!=null?dt:pt!==void 0?pt:"rc-index-key-".concat(we)}function Ji(ae,we){var dt=ae||{},pt=dt.label,rt=dt.value,Ut=dt.options,ni=dt.groupLabel,zt=pt||(we?"children":"label");return{label:zt,value:rt||"value",options:Ut||"options",groupLabel:ni||zt}}function Qn(ae){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},dt=we.fieldNames,pt=we.childrenAsData,rt=[],Ut=Ji(dt,!1),ni=Ut.label,zt=Ut.value,Ri=Ut.options,Ci=Ut.groupLabel;function Ei(wi,bn){wi.forEach(function(ji){if(bn||!(Ri in ji)){var gn=ji[zt];rt.push({key:sn(ji,rt.length),groupOption:bn,data:ji,label:ji[ni],value:gn})}else{var Wn=ji[Ci];Wn===void 0&&pt&&(Wn=ji.label),rt.push({key:sn(ji,rt.length),group:!0,data:ji,label:Wn}),Ei(ji[Ri],!0)}})}return Ei(ae,!1),rt}function Ui(ae){var we=(0,S.Z)({},ae);return"props"in we||Object.defineProperty(we,"props",{get:function(){return(0,tt.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),we}}),we}function on(ae,we){if(!we||!we.length)return null;var dt=!1;function pt(Ut,ni){var zt=(0,yi.Z)(ni),Ri=zt[0],Ci=zt.slice(1);if(!Ri)return[Ut];var Ei=Ut.split(Ri);return dt=dt||Ei.length>1,Ei.reduce(function(wi,bn){return[].concat((0,et.Z)(wi),(0,et.Z)(pt(bn,Ci)))},[]).filter(function(wi){return wi})}var rt=pt(ae,we);return dt?rt:null}var wt=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],ft=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function xt(ae){return ae==="tags"||ae==="multiple"}var Ve=O.forwardRef(function(ae,we){var dt,pt,rt=ae.id,Ut=ae.prefixCls,ni=ae.className,zt=ae.showSearch,Ri=ae.tagRender,Ci=ae.direction,Ei=ae.omitDomProps,wi=ae.displayValues,bn=ae.onDisplayValuesChange,ji=ae.emptyOptions,gn=ae.notFoundContent,Wn=gn===void 0?"Not Found":gn,zn=ae.onClear,Vn=ae.mode,qn=ae.disabled,ws=ae.loading,Us=ae.getInputElement,Bs=ae.getRawInputElement,cs=ae.open,Ws=ae.defaultOpen,vs=ae.onDropdownVisibleChange,ss=ae.activeValue,Ms=ae.onActiveValueChange,uo=ae.activeDescendantId,An=ae.searchValue,Vs=ae.autoClearSearchValue,Gs=ae.onSearch,Js=ae.onSearchSplit,ms=ae.tokenSeparators,ps=ae.allowClear,Ss=ae.suffixIcon,Is=ae.clearIcon,Lo=ae.OptionList,So=ae.animation,bo=ae.transitionName,zo=ae.dropdownStyle,lo=ae.dropdownClassName,Do=ae.dropdownMatchSelectWidth,Jo=ae.dropdownRender,Cs=ae.dropdownAlign,ns=ae.placement,ys=ae.builtinPlacements,hs=ae.getPopupContainer,ks=ae.showAction,As=ks===void 0?[]:ks,bs=ae.onFocus,un=ae.onBlur,fs=ae.onKeyUp,co=ae.onKeyDown,fo=ae.onMouseDown,xo=(0,ht.Z)(ae,wt),To=xt(Vn),ko=(zt!==void 0?zt:To)||Vn==="combobox",_o=(0,S.Z)({},xo);ft.forEach(function(Yi){delete _o[Yi]}),Ei==null||Ei.forEach(function(Yi){delete _o[Yi]});var Yo=O.useState(!1),$o=(0,Dt.Z)(Yo,2),Qo=$o[0],Bo=$o[1];O.useEffect(function(){Bo((0,fe.Z)())},[]);var Uo=O.useRef(null),Ko=O.useRef(null),Ao=O.useRef(null),qo=O.useRef(null),tr=O.useRef(null),er=O.useRef(!1),xr=Ze(),jo=(0,Dt.Z)(xr,3),yr=jo[0],rr=jo[1],hr=jo[2];O.useImperativeHandle(we,function(){var Yi,Pi;return{focus:(Yi=qo.current)===null||Yi===void 0?void 0:Yi.focus,blur:(Pi=qo.current)===null||Pi===void 0?void 0:Pi.blur,scrollTo:function(vn){var Qi;return(Qi=tr.current)===null||Qi===void 0?void 0:Qi.scrollTo(vn)}}});var Io=O.useMemo(function(){var Yi;if(Vn!=="combobox")return An;var Pi=(Yi=wi[0])===null||Yi===void 0?void 0:Yi.value;return typeof Pi=="string"||typeof Pi=="number"?String(Pi):""},[An,Vn,wi]),pr=Vn==="combobox"&&typeof Us=="function"&&Us()||null,ar=typeof Bs=="function"&&Bs(),dr=(0,nt.x1)(Ko,ar==null||(dt=ar.props)===null||dt===void 0?void 0:dt.ref),fr=O.useState(!1),ur=(0,Dt.Z)(fr,2),Ar=ur[0],Ir=ur[1];(0,ke.Z)(function(){Ir(!0)},[]);var ir=(0,Je.Z)(!1,{defaultValue:Ws,value:cs}),Cr=(0,Dt.Z)(ir,2),lr=Cr[0],Ns=Cr[1],Zn=Ar?lr:!1,rs=!Wn&&ji;(qn||rs&&Zn&&Vn==="combobox")&&(Zn=!1);var Os=rs?!1:Zn,Hs=O.useCallback(function(Yi){var Pi=Yi!==void 0?Yi:!Zn;qn||(Ns(Pi),Zn!==Pi&&(vs==null||vs(Pi)))},[qn,Zn,Ns,vs]),vo=O.useMemo(function(){return(ms||[]).some(function(Yi){return[`
`,`\r
`].includes(Yi)})},[ms]),nr=function(Pi,Dn,vn){var Qi=!0,mn=Pi;Ms==null||Ms(null);var Sn=vn?null:on(Pi,ms);return Vn!=="combobox"&&Sn&&(mn="",Js==null||Js(Sn),Hs(!1),Qi=!1),Gs&&Io!==mn&&Gs(mn,{source:Dn?"typing":"effect"}),Qi},Vo=function(Pi){!Pi||!Pi.trim()||Gs(Pi,{source:"submit"})};O.useEffect(function(){!Zn&&!To&&Vn!=="combobox"&&nr("",!1,!1)},[Zn]),O.useEffect(function(){lr&&qn&&Ns(!1),qn&&!er.current&&rr(!1)},[qn]);var Xo=it(),to=(0,Dt.Z)(Xo,2),Go=to[0],Vr=to[1],Nr=function(Pi){var Dn=Go(),vn=Pi.which;if(vn===Ie.Z.ENTER&&(Vn!=="combobox"&&Pi.preventDefault(),Zn||Hs(!0)),Vr(!!Io),vn===Ie.Z.BACKSPACE&&!Dn&&To&&!Io&&wi.length){for(var Qi=(0,et.Z)(wi),mn=null,Sn=Qi.length-1;Sn>=0;Sn-=1){var Un=Qi[Sn];if(!Un.disabled){Qi.splice(Sn,1),mn=Un;break}}mn&&bn(Qi,{type:"remove",values:[mn]})}for(var Qs=arguments.length,no=new Array(Qs>1?Qs-1:0),Ks=1;Ks<Qs;Ks++)no[Ks-1]=arguments[Ks];if(Zn&&tr.current){var Ps;(Ps=tr.current).onKeyDown.apply(Ps,[Pi].concat(no))}co==null||co.apply(void 0,[Pi].concat(no))},Or=function(Pi){for(var Dn=arguments.length,vn=new Array(Dn>1?Dn-1:0),Qi=1;Qi<Dn;Qi++)vn[Qi-1]=arguments[Qi];if(Zn&&tr.current){var mn;(mn=tr.current).onKeyUp.apply(mn,[Pi].concat(vn))}fs==null||fs.apply(void 0,[Pi].concat(vn))},Tr=function(Pi){var Dn=wi.filter(function(vn){return vn!==Pi});bn(Dn,{type:"remove",values:[Pi]})},Eo=O.useRef(!1),Ct=function(){rr(!0),qn||(bs&&!Eo.current&&bs.apply(void 0,arguments),As.includes("focus")&&Hs(!0)),Eo.current=!0},e=function(){er.current=!0,rr(!1,function(){Eo.current=!1,er.current=!1,Hs(!1)}),!qn&&(Io&&(Vn==="tags"?Gs(Io,{source:"submit"}):Vn==="multiple"&&Gs("",{source:"blur"})),un&&un.apply(void 0,arguments))},n=[];O.useEffect(function(){return function(){n.forEach(function(Yi){return clearTimeout(Yi)}),n.splice(0,n.length)}},[]);var l=function(Pi){var Dn,vn=Pi.target,Qi=(Dn=Ao.current)===null||Dn===void 0?void 0:Dn.getPopupElement();if(Qi&&Qi.contains(vn)){var mn=setTimeout(function(){var no=n.indexOf(mn);if(no!==-1&&n.splice(no,1),hr(),!Qo&&!Qi.contains(document.activeElement)){var Ks;(Ks=qo.current)===null||Ks===void 0||Ks.focus()}});n.push(mn)}for(var Sn=arguments.length,Un=new Array(Sn>1?Sn-1:0),Qs=1;Qs<Sn;Qs++)Un[Qs-1]=arguments[Qs];fo==null||fo.apply(void 0,[Pi].concat(Un))},C=O.useState({}),k=(0,Dt.Z)(C,2),Z=k[1];function ie(){Z({})}var ce;ar&&(ce=function(Pi){Hs(Pi)}),Ft(function(){var Yi;return[Uo.current,(Yi=Ao.current)===null||Yi===void 0?void 0:Yi.getPopupElement()]},Os,Hs,!!ar);var De=O.useMemo(function(){return(0,S.Z)((0,S.Z)({},ae),{},{notFoundContent:Wn,open:Zn,triggerOpen:Os,id:rt,showSearch:ko,multiple:To,toggleOpen:Hs})},[ae,Wn,Os,Zn,rt,ko,To,Hs]),Ae=!!Ss||ws,Ue;Ae&&(Ue=O.createElement(ot,{className:x()("".concat(Ut,"-arrow"),(0,p.Z)({},"".concat(Ut,"-arrow-loading"),ws)),customizeIcon:Ss,customizeIconProps:{loading:ws,searchValue:Io,open:Zn,focused:yr,showSearch:ko}}));var Lt=function(){var Pi;zn==null||zn(),(Pi=qo.current)===null||Pi===void 0||Pi.focus(),bn([],{type:"clear",values:wi}),nr("",!1,!1)},_t=Ne(Ut,Lt,wi,ps,Is,qn,Io,Vn),Bt=_t.allowClear,Xt=_t.clearIcon,fi=O.createElement(Lo,{ref:tr}),Di=x()(Ut,ni,(pt={},(0,p.Z)(pt,"".concat(Ut,"-focused"),yr),(0,p.Z)(pt,"".concat(Ut,"-multiple"),To),(0,p.Z)(pt,"".concat(Ut,"-single"),!To),(0,p.Z)(pt,"".concat(Ut,"-allow-clear"),ps),(0,p.Z)(pt,"".concat(Ut,"-show-arrow"),Ae),(0,p.Z)(pt,"".concat(Ut,"-disabled"),qn),(0,p.Z)(pt,"".concat(Ut,"-loading"),ws),(0,p.Z)(pt,"".concat(Ut,"-open"),Zn),(0,p.Z)(pt,"".concat(Ut,"-customize-input"),pr),(0,p.Z)(pt,"".concat(Ut,"-show-search"),ko),pt)),Wi=O.createElement(ai,{ref:Ao,disabled:qn,prefixCls:Ut,visible:Os,popupElement:fi,animation:So,transitionName:bo,dropdownStyle:zo,dropdownClassName:lo,direction:Ci,dropdownMatchSelectWidth:Do,dropdownRender:Jo,dropdownAlign:Cs,placement:ns,builtinPlacements:ys,getPopupContainer:hs,empty:ji,getTriggerDOMNode:function(){return Ko.current},onPopupVisibleChange:ce,onPopupMouseEnter:ie},ar?O.cloneElement(ar,{ref:dr}):O.createElement(It,(0,f.Z)({},ae,{domRef:Ko,prefixCls:Ut,inputElement:pr,ref:qo,id:rt,showSearch:ko,autoClearSearchValue:Vs,mode:Vn,activeDescendantId:uo,tagRender:Ri,values:wi,open:Zn,onToggleOpen:Hs,activeValue:ss,searchValue:Io,onSearch:nr,onSearchSubmit:Vo,onRemove:Tr,tokenWithEnter:vo}))),Ti;return ar?Ti=Wi:Ti=O.createElement("div",(0,f.Z)({className:Di},_o,{ref:Uo,onMouseDown:l,onKeyDown:Nr,onKeyUp:Or,onFocus:Ct,onBlur:e}),yr&&!Zn&&O.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(wi.map(function(Yi){var Pi=Yi.label,Dn=Yi.value;return["number","string"].includes((0,Mt.Z)(Pi))?Pi:Dn}).join(", "))),Wi,Ue,Bt&&Xt),O.createElement(Pe.Provider,{value:De},Ti)}),qe=Ve,mt=function(ae,we){var dt=O.useRef({values:new Map,options:new Map}),pt=O.useMemo(function(){var Ut=dt.current,ni=Ut.values,zt=Ut.options,Ri=ae.map(function(wi){if(wi.label===void 0){var bn;return(0,S.Z)((0,S.Z)({},wi),{},{label:(bn=ni.get(wi.value))===null||bn===void 0?void 0:bn.label})}return wi}),Ci=new Map,Ei=new Map;return Ri.forEach(function(wi){Ci.set(wi.value,wi),Ei.set(wi.value,we.get(wi.value)||zt.get(wi.value))}),dt.current.values=Ci,dt.current.options=Ei,Ri},[ae,we]),rt=O.useCallback(function(Ut){return we.get(Ut)||dt.current.options.get(Ut)},[we]);return[pt,rt]};function ut(ae,we){return en(ae).join("").toUpperCase().includes(we)}var ri=function(ae,we,dt,pt,rt){return O.useMemo(function(){if(!dt||pt===!1)return ae;var Ut=we.options,ni=we.label,zt=we.value,Ri=[],Ci=typeof pt=="function",Ei=dt.toUpperCase(),wi=Ci?pt:function(ji,gn){return rt?ut(gn[rt],Ei):gn[Ut]?ut(gn[ni!=="children"?ni:"label"],Ei):ut(gn[zt],Ei)},bn=Ci?function(ji){return Ui(ji)}:function(ji){return ji};return ae.forEach(function(ji){if(ji[Ut]){var gn=wi(dt,bn(ji));if(gn)Ri.push(ji);else{var Wn=ji[Ut].filter(function(zn){return wi(dt,bn(zn))});Wn.length&&Ri.push((0,S.Z)((0,S.Z)({},ji),{},(0,p.Z)({},Ut,Wn)))}return}wi(dt,bn(ji))&&Ri.push(ji)}),Ri},[ae,pt,rt,dt,we])},$i=c(98924),_i=0,Ni=(0,$i.Z)();function Gi(){var ae;return Ni?(ae=_i,_i+=1):ae="TEST_OR_SSR",ae}function hn(ae){var we=O.useState(),dt=(0,Dt.Z)(we,2),pt=dt[0],rt=dt[1];return O.useEffect(function(){rt("rc_select_".concat(Gi()))},[]),ae||pt}var pn=c(50344),Ai=["children","value"],pi=["children"];function _n(ae){var we=ae,dt=we.key,pt=we.props,rt=pt.children,Ut=pt.value,ni=(0,ht.Z)(pt,Ai);return(0,S.Z)({key:dt,value:Ut!==void 0?Ut:dt,children:rt},ni)}function En(ae){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(0,pn.Z)(ae).map(function(dt,pt){if(!O.isValidElement(dt)||!dt.type)return null;var rt=dt,Ut=rt.type.isSelectOptGroup,ni=rt.key,zt=rt.props,Ri=zt.children,Ci=(0,ht.Z)(zt,pi);return we||!Ut?_n(dt):(0,S.Z)((0,S.Z)({key:"__RC_SELECT_GRP__".concat(ni===null?pt:ni,"__"),label:ni},Ci),{},{options:En(Ri)})}).filter(function(dt){return dt})}function is(ae,we,dt,pt,rt){return O.useMemo(function(){var Ut=ae,ni=!ae;ni&&(Ut=En(we));var zt=new Map,Ri=new Map,Ci=function(bn,ji,gn){gn&&typeof gn=="string"&&bn.set(ji[gn],ji)};function Ei(wi){for(var bn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ji=0;ji<wi.length;ji+=1){var gn=wi[ji];!gn[dt.options]||bn?(zt.set(gn[dt.value],gn),Ci(Ri,gn,dt.label),Ci(Ri,gn,pt),Ci(Ri,gn,rt)):Ei(gn[dt.options],!0)}}return Ei(Ut),{options:Ut,valueOptions:zt,labelOptions:Ri}},[ae,we,dt,pt,rt])}function ds(ae){var we=O.useRef();we.current=ae;var dt=O.useCallback(function(){return we.current.apply(we,arguments)},[]);return dt}var Xn=function(){return null};Xn.isSelectOptGroup=!0;var Rs=Xn,Co=function(){return null};Co.isSelectOption=!0;var js=Co,_s=c(56982),ho=c(98423),oo=c(85344),qs=O.createContext(null),Es=qs;function Fs(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var Xs=["disabled","title","children","style","className"];function ro(ae){return typeof ae=="string"||typeof ae=="number"}var Ys=function(we,dt){var pt=ye(),rt=pt.prefixCls,Ut=pt.id,ni=pt.open,zt=pt.multiple,Ri=pt.mode,Ci=pt.searchValue,Ei=pt.toggleOpen,wi=pt.notFoundContent,bn=pt.onPopupScroll,ji=O.useContext(Es),gn=ji.flattenOptions,Wn=ji.onActiveValue,zn=ji.defaultActiveFirstOption,Vn=ji.onSelect,qn=ji.menuItemSelectedIcon,ws=ji.rawValues,Us=ji.fieldNames,Bs=ji.virtual,cs=ji.direction,Ws=ji.listHeight,vs=ji.listItemHeight,ss="".concat(rt,"-item"),Ms=(0,_s.Z)(function(){return gn},[ni,gn],function(Cs,ns){return ns[0]&&Cs[1]!==ns[1]}),uo=O.useRef(null),An=function(ns){ns.preventDefault()},Vs=function(ns){uo.current&&uo.current.scrollTo(typeof ns=="number"?{index:ns}:ns)},Gs=function(ns){for(var ys=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,hs=Ms.length,ks=0;ks<hs;ks+=1){var As=(ns+ks*ys+hs)%hs,bs=Ms[As],un=bs.group,fs=bs.data;if(!un&&!fs.disabled)return As}return-1},Js=O.useState(function(){return Gs(0)}),ms=(0,Dt.Z)(Js,2),ps=ms[0],Ss=ms[1],Is=function(ns){var ys=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Ss(ns);var hs={source:ys?"keyboard":"mouse"},ks=Ms[ns];if(!ks){Wn(null,-1,hs);return}Wn(ks.value,ns,hs)};(0,O.useEffect)(function(){Is(zn!==!1?Gs(0):-1)},[Ms.length,Ci]);var Lo=O.useCallback(function(Cs){return ws.has(Cs)&&Ri!=="combobox"},[Ri,(0,et.Z)(ws).toString(),ws.size]);(0,O.useEffect)(function(){var Cs=setTimeout(function(){if(!zt&&ni&&ws.size===1){var ys=Array.from(ws)[0],hs=Ms.findIndex(function(ks){var As=ks.data;return As.value===ys});hs!==-1&&(Is(hs),Vs(hs))}});if(ni){var ns;(ns=uo.current)===null||ns===void 0||ns.scrollTo(void 0)}return function(){return clearTimeout(Cs)}},[ni,Ci,gn.length]);var So=function(ns){ns!==void 0&&Vn(ns,{selected:!ws.has(ns)}),zt||Ei(!1)};if(O.useImperativeHandle(dt,function(){return{onKeyDown:function(ns){var ys=ns.which,hs=ns.ctrlKey;switch(ys){case Ie.Z.N:case Ie.Z.P:case Ie.Z.UP:case Ie.Z.DOWN:{var ks=0;if(ys===Ie.Z.UP?ks=-1:ys===Ie.Z.DOWN?ks=1:Fs()&&hs&&(ys===Ie.Z.N?ks=1:ys===Ie.Z.P&&(ks=-1)),ks!==0){var As=Gs(ps+ks,ks);Vs(As),Is(As,!0)}break}case Ie.Z.ENTER:{var bs=Ms[ps];bs&&!bs.data.disabled?So(bs.value):So(void 0),ni&&ns.preventDefault();break}case Ie.Z.ESC:Ei(!1),ni&&ns.stopPropagation()}},onKeyUp:function(){},scrollTo:function(ns){Vs(ns)}}}),Ms.length===0)return O.createElement("div",{role:"listbox",id:"".concat(Ut,"_list"),className:"".concat(ss,"-empty"),onMouseDown:An},wi);var bo=Object.keys(Us).map(function(Cs){return Us[Cs]}),zo=function(ns){return ns.label};function lo(Cs,ns){var ys=Cs.group;return{role:ys?"presentation":"option",id:"".concat(Ut,"_list_").concat(ns)}}var Do=function(ns){var ys=Ms[ns];if(!ys)return null;var hs=ys.data||{},ks=hs.value,As=ys.group,bs=(0,$.Z)(hs,!0),un=zo(ys);return ys?O.createElement("div",(0,f.Z)({"aria-label":typeof un=="string"&&!As?un:null},bs,{key:ns},lo(ys,ns),{"aria-selected":Lo(ks)}),ks):null},Jo={role:"listbox",id:"".concat(Ut,"_list")};return O.createElement(O.Fragment,null,Bs&&O.createElement("div",(0,f.Z)({},Jo,{style:{height:0,width:0,overflow:"hidden"}}),Do(ps-1),Do(ps),Do(ps+1)),O.createElement(oo.Z,{itemKey:"key",ref:uo,data:Ms,height:Ws,itemHeight:vs,fullHeight:!1,onMouseDown:An,onScroll:bn,virtual:Bs,direction:cs,innerProps:Bs?null:Jo},function(Cs,ns){var ys,hs=Cs.group,ks=Cs.groupOption,As=Cs.data,bs=Cs.label,un=Cs.value,fs=As.key;if(hs){var co,fo=(co=As.title)!==null&&co!==void 0?co:ro(bs)?bs.toString():void 0;return O.createElement("div",{className:x()(ss,"".concat(ss,"-group")),title:fo},bs!==void 0?bs:fs)}var xo=As.disabled,To=As.title,ko=As.children,_o=As.style,Yo=As.className,$o=(0,ht.Z)(As,Xs),Qo=(0,ho.Z)($o,bo),Bo=Lo(un),Uo="".concat(ss,"-option"),Ko=x()(ss,Uo,Yo,(ys={},(0,p.Z)(ys,"".concat(Uo,"-grouped"),ks),(0,p.Z)(ys,"".concat(Uo,"-active"),ps===ns&&!xo),(0,p.Z)(ys,"".concat(Uo,"-disabled"),xo),(0,p.Z)(ys,"".concat(Uo,"-selected"),Bo),ys)),Ao=zo(Cs),qo=!qn||typeof qn=="function"||Bo,tr=typeof Ao=="number"?Ao:Ao||un,er=ro(tr)?tr.toString():void 0;return To!==void 0&&(er=To),O.createElement("div",(0,f.Z)({},(0,$.Z)(Qo),Bs?{}:lo(Cs,ns),{"aria-selected":Bo,className:Ko,title:er,onMouseMove:function(){ps===ns||xo||Is(ns)},onClick:function(){xo||So(un)},style:_o}),O.createElement("div",{className:"".concat(Uo,"-content")},tr),O.isValidElement(qn)||Bo,qo&&O.createElement(ot,{className:"".concat(ss,"-option-state"),customizeIcon:qn,customizeIconProps:{value:un,disabled:xo,isSelected:Bo}},Bo?"\u2713":null))}))},$s=O.forwardRef(Ys);$s.displayName="OptionList";var mo=$s;function Jn(ae){var we=ae.mode,dt=ae.options,pt=ae.children,rt=ae.backfill,Ut=ae.allowClear,ni=ae.placeholder,zt=ae.getInputElement,Ri=ae.showSearch,Ci=ae.onSearch,Ei=ae.defaultOpen,wi=ae.autoFocus,bn=ae.labelInValue,ji=ae.value,gn=ae.inputValue,Wn=ae.optionLabelProp,zn=isMultiple(we),Vn=Ri!==void 0?Ri:zn||we==="combobox",qn=dt||convertChildrenToData(pt);if(warning(we!=="tags"||qn.every(function(cs){return!cs.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),we==="tags"||we==="combobox"){var ws=qn.some(function(cs){return cs.options?cs.options.some(function(Ws){return typeof("value"in Ws?Ws.value:Ws.key)=="number"}):typeof("value"in cs?cs.value:cs.key)=="number"});warning(!ws,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(warning(we!=="combobox"||!Wn,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),warning(we==="combobox"||!rt,"`backfill` only works with `combobox` mode."),warning(we==="combobox"||!zt,"`getInputElement` only work with `combobox` mode."),noteOnce(we!=="combobox"||!zt||!Ut||!ni,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),Ci&&!Vn&&we!=="combobox"&&we!=="tags"&&warning(!1,"`onSearch` should work with `showSearch` instead of use alone."),noteOnce(!Ei||wi,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),ji!=null){var Us=toArray(ji);warning(!bn||Us.every(function(cs){return _typeof(cs)==="object"&&("key"in cs||"value"in cs)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),warning(!zn||Array.isArray(ji),"`value` should be array when `mode` is `multiple` or `tags`")}if(pt){var Bs=null;toNodeArray(pt).some(function(cs){if(!React.isValidElement(cs)||!cs.type)return!1;var Ws=cs,vs=Ws.type;if(vs.isSelectOption)return!1;if(vs.isSelectOptGroup){var ss=toNodeArray(cs.props.children).every(function(Ms){return!React.isValidElement(Ms)||!cs.type||Ms.type.isSelectOption?!0:(Bs=Ms.type,!1)});return!ss}return Bs=vs,!0}),Bs&&warning(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(Bs.displayName||Bs.name||Bs,"`.")),warning(gn===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}function po(ae,we){if(ae){var dt=function pt(rt){for(var Ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ni=0;ni<rt.length;ni++){var zt=rt[ni];if(zt[we==null?void 0:we.value]===null)return warning(!1,"`value` in Select options should not be `null`."),!0;if(!Ut&&Array.isArray(zt[we==null?void 0:we.options])&&pt(zt[we==null?void 0:we.options],!0))break}};dt(ae)}}var os=null,jn=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],ao=["inputValue"];function es(ae){return!ae||(0,Mt.Z)(ae)!=="object"}var eo=O.forwardRef(function(ae,we){var dt=ae.id,pt=ae.mode,rt=ae.prefixCls,Ut=rt===void 0?"rc-select":rt,ni=ae.backfill,zt=ae.fieldNames,Ri=ae.inputValue,Ci=ae.searchValue,Ei=ae.onSearch,wi=ae.autoClearSearchValue,bn=wi===void 0?!0:wi,ji=ae.onSelect,gn=ae.onDeselect,Wn=ae.dropdownMatchSelectWidth,zn=Wn===void 0?!0:Wn,Vn=ae.filterOption,qn=ae.filterSort,ws=ae.optionFilterProp,Us=ae.optionLabelProp,Bs=ae.options,cs=ae.children,Ws=ae.defaultActiveFirstOption,vs=ae.menuItemSelectedIcon,ss=ae.virtual,Ms=ae.direction,uo=ae.listHeight,An=uo===void 0?200:uo,Vs=ae.listItemHeight,Gs=Vs===void 0?20:Vs,Js=ae.value,ms=ae.defaultValue,ps=ae.labelInValue,Ss=ae.onChange,Is=(0,ht.Z)(ae,jn),Lo=hn(dt),So=xt(pt),bo=!!(!Bs&&cs),zo=O.useMemo(function(){return Vn===void 0&&pt==="combobox"?!1:Vn},[Vn,pt]),lo=O.useMemo(function(){return Ji(zt,bo)},[JSON.stringify(zt),bo]),Do=(0,Je.Z)("",{value:Ci!==void 0?Ci:Ri,postState:function(Zn){return Zn||""}}),Jo=(0,Dt.Z)(Do,2),Cs=Jo[0],ns=Jo[1],ys=is(Bs,cs,lo,ws,Us),hs=ys.valueOptions,ks=ys.labelOptions,As=ys.options,bs=O.useCallback(function(Ns){var Zn=en(Ns);return Zn.map(function(rs){var Os,Hs,vo,nr,Vo;if(es(rs))Os=rs;else{var Xo;vo=rs.key,Hs=rs.label,Os=(Xo=rs.value)!==null&&Xo!==void 0?Xo:vo}var to=hs.get(Os);if(to){var Go;if(Hs===void 0&&(Hs=to==null?void 0:to[Us||lo.label]),vo===void 0&&(vo=(Go=to==null?void 0:to.key)!==null&&Go!==void 0?Go:Os),nr=to==null?void 0:to.disabled,Vo=to==null?void 0:to.title,0)var Vr}return{label:Hs,value:Os,key:vo,disabled:nr,title:Vo}})},[lo,Us,hs]),un=(0,Je.Z)(ms,{value:Js}),fs=(0,Dt.Z)(un,2),co=fs[0],fo=fs[1],xo=O.useMemo(function(){var Ns,Zn=bs(co);return pt==="combobox"&&Mi((Ns=Zn[0])===null||Ns===void 0?void 0:Ns.value)?[]:Zn},[co,bs,pt]),To=mt(xo,hs),ko=(0,Dt.Z)(To,2),_o=ko[0],Yo=ko[1],$o=O.useMemo(function(){if(!pt&&_o.length===1){var Ns=_o[0];if(Ns.value===null&&(Ns.label===null||Ns.label===void 0))return[]}return _o.map(function(Zn){var rs;return(0,S.Z)((0,S.Z)({},Zn),{},{label:(rs=Zn.label)!==null&&rs!==void 0?rs:Zn.value})})},[pt,_o]),Qo=O.useMemo(function(){return new Set(_o.map(function(Ns){return Ns.value}))},[_o]);O.useEffect(function(){if(pt==="combobox"){var Ns,Zn=(Ns=_o[0])===null||Ns===void 0?void 0:Ns.value;ns(st(Zn)?String(Zn):"")}},[_o]);var Bo=ds(function(Ns,Zn){var rs,Os=Zn!=null?Zn:Ns;return rs={},(0,p.Z)(rs,lo.value,Ns),(0,p.Z)(rs,lo.label,Os),rs}),Uo=O.useMemo(function(){if(pt!=="tags")return As;var Ns=(0,et.Z)(As),Zn=function(Os){return hs.has(Os)};return(0,et.Z)(_o).sort(function(rs,Os){return rs.value<Os.value?-1:1}).forEach(function(rs){var Os=rs.value;Zn(Os)||Ns.push(Bo(Os,rs.label))}),Ns},[Bo,As,hs,_o,pt]),Ko=ri(Uo,lo,Cs,zo,ws),Ao=O.useMemo(function(){return pt!=="tags"||!Cs||Ko.some(function(Ns){return Ns[ws||"value"]===Cs})||Ko.some(function(Ns){return Ns[lo.value]===Cs})?Ko:[Bo(Cs)].concat((0,et.Z)(Ko))},[Bo,ws,pt,Ko,Cs,lo]),qo=O.useMemo(function(){return qn?(0,et.Z)(Ao).sort(function(Ns,Zn){return qn(Ns,Zn)}):Ao},[Ao,qn]),tr=O.useMemo(function(){return Qn(qo,{fieldNames:lo,childrenAsData:bo})},[qo,lo,bo]),er=function(Zn){var rs=bs(Zn);if(fo(rs),Ss&&(rs.length!==_o.length||rs.some(function(vo,nr){var Vo;return((Vo=_o[nr])===null||Vo===void 0?void 0:Vo.value)!==(vo==null?void 0:vo.value)}))){var Os=ps?rs:rs.map(function(vo){return vo.value}),Hs=rs.map(function(vo){return Ui(Yo(vo.value))});Ss(So?Os:Os[0],So?Hs:Hs[0])}},xr=O.useState(null),jo=(0,Dt.Z)(xr,2),yr=jo[0],rr=jo[1],hr=O.useState(0),Io=(0,Dt.Z)(hr,2),pr=Io[0],ar=Io[1],dr=Ws!==void 0?Ws:pt!=="combobox",fr=O.useCallback(function(Ns,Zn){var rs=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Os=rs.source,Hs=Os===void 0?"keyboard":Os;ar(Zn),ni&&pt==="combobox"&&Ns!==null&&Hs==="keyboard"&&rr(String(Ns))},[ni,pt]),ur=function(Zn,rs,Os){var Hs=function(){var Tr,Eo=Yo(Zn);return[ps?{label:Eo==null?void 0:Eo[lo.label],value:Zn,key:(Tr=Eo==null?void 0:Eo.key)!==null&&Tr!==void 0?Tr:Zn}:Zn,Ui(Eo)]};if(rs&&ji){var vo=Hs(),nr=(0,Dt.Z)(vo,2),Vo=nr[0],Xo=nr[1];ji(Vo,Xo)}else if(!rs&&gn&&Os!=="clear"){var to=Hs(),Go=(0,Dt.Z)(to,2),Vr=Go[0],Nr=Go[1];gn(Vr,Nr)}},Ar=ds(function(Ns,Zn){var rs,Os=So?Zn.selected:!0;Os?rs=So?[].concat((0,et.Z)(_o),[Ns]):[Ns]:rs=_o.filter(function(Hs){return Hs.value!==Ns}),er(rs),ur(Ns,Os),pt==="combobox"?rr(""):(!xt||bn)&&(ns(""),rr(""))}),Ir=function(Zn,rs){er(Zn);var Os=rs.type,Hs=rs.values;(Os==="remove"||Os==="clear")&&Hs.forEach(function(vo){ur(vo.value,!1,Os)})},ir=function(Zn,rs){if(ns(Zn),rr(null),rs.source==="submit"){var Os=(Zn||"").trim();if(Os){var Hs=Array.from(new Set([].concat((0,et.Z)(Qo),[Os])));er(Hs),ur(Os,!0),ns("")}return}rs.source!=="blur"&&(pt==="combobox"&&er(Zn),Ei==null||Ei(Zn))},Cr=function(Zn){var rs=Zn;pt!=="tags"&&(rs=Zn.map(function(Hs){var vo=ks.get(Hs);return vo==null?void 0:vo.value}).filter(function(Hs){return Hs!==void 0}));var Os=Array.from(new Set([].concat((0,et.Z)(Qo),(0,et.Z)(rs))));er(Os),Os.forEach(function(Hs){ur(Hs,!0)})},lr=O.useMemo(function(){var Ns=ss!==!1&&zn!==!1;return(0,S.Z)((0,S.Z)({},ys),{},{flattenOptions:tr,onActiveValue:fr,defaultActiveFirstOption:dr,onSelect:Ar,menuItemSelectedIcon:vs,rawValues:Qo,fieldNames:lo,virtual:Ns,direction:Ms,listHeight:An,listItemHeight:Gs,childrenAsData:bo})},[ys,tr,fr,dr,Ar,vs,Qo,lo,ss,zn,An,Gs,bo]);return O.createElement(Es.Provider,{value:lr},O.createElement(qe,(0,f.Z)({},Is,{id:Lo,prefixCls:Ut,ref:we,omitDomProps:ao,mode:pt,displayValues:$o,onDisplayValuesChange:Ir,direction:Ms,searchValue:Cs,onSearch:ir,autoClearSearchValue:bn,onSearchSplit:Cr,dropdownMatchSelectWidth:zn,OptionList:mo,emptyOptions:!tr.length,activeValue:yr,activeDescendantId:"".concat(Lo,"_list_").concat(pr)})))}),xs=eo;xs.Option=js,xs.OptGroup=Rs;var io=xs,mi=io,ge=c(33603),ct=c(8745),gt=c(9708),Wt=c(88258),ti=c(98866),Si=c(45091),hi=c(4173),Yt=c(14747),Vi=c(80110),Li=c(45503),Pn=c(67968),Nt=c(67771),W=c(33297);const re=ae=>{const{optionHeight:we,optionFontSize:dt,optionLineHeight:pt,optionPadding:rt}=ae;return{position:"relative",display:"block",minHeight:we,padding:rt,color:ae.colorText,fontWeight:"normal",fontSize:dt,lineHeight:pt,boxSizing:"border-box"}};var Ye=ae=>{const{antCls:we,componentCls:dt}=ae,pt=`${dt}-item`,rt=`&${we}-slide-up-enter${we}-slide-up-enter-active`,Ut=`&${we}-slide-up-appear${we}-slide-up-appear-active`,ni=`&${we}-slide-up-leave${we}-slide-up-leave-active`,zt=`${dt}-dropdown-placement-`;return[{[`${dt}-dropdown`]:Object.assign(Object.assign({},(0,Yt.Wf)(ae)),{position:"absolute",top:-9999,zIndex:ae.zIndexPopup,boxSizing:"border-box",padding:ae.paddingXXS,overflow:"hidden",fontSize:ae.fontSize,fontVariant:"initial",backgroundColor:ae.colorBgElevated,borderRadius:ae.borderRadiusLG,outline:"none",boxShadow:ae.boxShadowSecondary,[`
          ${rt}${zt}bottomLeft,
          ${Ut}${zt}bottomLeft
        `]:{animationName:Nt.fJ},[`
          ${rt}${zt}topLeft,
          ${Ut}${zt}topLeft,
          ${rt}${zt}topRight,
          ${Ut}${zt}topRight
        `]:{animationName:Nt.Qt},[`${ni}${zt}bottomLeft`]:{animationName:Nt.Uw},[`
          ${ni}${zt}topLeft,
          ${ni}${zt}topRight
        `]:{animationName:Nt.ly},"&-hidden":{display:"none"},[`${pt}`]:Object.assign(Object.assign({},re(ae)),{cursor:"pointer",transition:`background ${ae.motionDurationSlow} ease`,borderRadius:ae.borderRadiusSM,"&-group":{color:ae.colorTextDescription,fontSize:ae.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},Yt.vS),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${pt}-option-disabled)`]:{backgroundColor:ae.optionActiveBg},[`&-selected:not(${pt}-option-disabled)`]:{color:ae.optionSelectedColor,fontWeight:ae.optionSelectedFontWeight,backgroundColor:ae.optionSelectedBg,[`${pt}-option-state`]:{color:ae.colorPrimary}},"&-disabled":{[`&${pt}-option-selected`]:{backgroundColor:ae.colorBgContainerDisabled},color:ae.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:ae.controlPaddingHorizontal*2}}}),"&-rtl":{direction:"rtl"}})},(0,Nt.oN)(ae,"slide-up"),(0,Nt.oN)(ae,"slide-down"),(0,W.Fm)(ae,"move-up"),(0,W.Fm)(ae,"move-down")]};const bt=2,$t=ae=>{let{multipleSelectItemHeight:we,selectHeight:dt,lineWidth:pt}=ae;const rt=(dt-we)/2-pt,Ut=Math.ceil(rt/2);return[rt,Ut]};function si(ae,we){const{componentCls:dt,iconCls:pt}=ae,rt=`${dt}-selection-overflow`,Ut=ae.multipleSelectItemHeight,[ni]=$t(ae),zt=we?`${dt}-${we}`:"";return{[`${dt}-multiple${zt}`]:{fontSize:ae.fontSize,[rt]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${dt}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",padding:`${ni-bt}px ${bt*2}px`,borderRadius:ae.borderRadius,[`${dt}-show-search&`]:{cursor:"text"},[`${dt}-disabled&`]:{background:ae.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${bt}px 0`,lineHeight:`${Ut}px`,visibility:"hidden",content:'"\\a0"'}},[`
        &${dt}-show-arrow ${dt}-selector,
        &${dt}-allow-clear ${dt}-selector
      `]:{paddingInlineEnd:ae.fontSizeIcon+ae.controlPaddingHorizontal},[`${dt}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:Ut,marginTop:bt,marginBottom:bt,lineHeight:`${Ut-ae.lineWidth*2}px`,background:ae.multipleItemBg,border:`${ae.lineWidth}px ${ae.lineType} ${ae.multipleItemBorderColor}`,borderRadius:ae.borderRadiusSM,cursor:"default",transition:`font-size ${ae.motionDurationSlow}, line-height ${ae.motionDurationSlow}, height ${ae.motionDurationSlow}`,marginInlineEnd:bt*2,paddingInlineStart:ae.paddingXS,paddingInlineEnd:ae.paddingXS/2,[`${dt}-disabled&`]:{color:ae.multipleItemColorDisabled,borderColor:ae.multipleItemBorderColorDisabled,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:ae.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},(0,Yt.Ro)()),{display:"inline-flex",alignItems:"center",color:ae.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${pt}`]:{verticalAlign:"-0.2em"},"&:hover":{color:ae.colorIconHover}})},[`${rt}-item + ${rt}-item`]:{[`${dt}-selection-search`]:{marginInlineStart:0}},[`${rt}-item-suffix`]:{height:"100%"},[`${dt}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:ae.inputPaddingHorizontalBase-ni,"\n          &-input,\n          &-mirror\n        ":{height:Ut,fontFamily:ae.fontFamily,lineHeight:`${Ut}px`,transition:`all ${ae.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${dt}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:ae.inputPaddingHorizontalBase,insetInlineEnd:ae.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${ae.motionDurationSlow}`}}}}var Oi=ae=>{const{componentCls:we}=ae,dt=(0,Li.TS)(ae,{selectHeight:ae.controlHeightSM,multipleSelectItemHeight:ae.controlHeightXS,borderRadius:ae.borderRadiusSM,borderRadiusSM:ae.borderRadiusXS}),pt=(0,Li.TS)(ae,{fontSize:ae.fontSizeLG,selectHeight:ae.controlHeightLG,multipleSelectItemHeight:ae.multipleItemHeightLG,borderRadius:ae.borderRadiusLG,borderRadiusSM:ae.borderRadius}),[,rt]=$t(ae);return[si(ae),si(dt,"sm"),{[`${we}-multiple${we}-sm`]:{[`${we}-selection-placeholder`]:{insetInline:ae.controlPaddingHorizontalSM-ae.lineWidth},[`${we}-selection-search`]:{marginInlineStart:rt}}},si(pt,"lg")]};function xi(ae,we){const{componentCls:dt,inputPaddingHorizontalBase:pt,borderRadius:rt}=ae,Ut=ae.controlHeight-ae.lineWidth*2,ni=Math.ceil(ae.fontSize*1.25),zt=we?`${dt}-${we}`:"";return{[`${dt}-single${zt}`]:{fontSize:ae.fontSize,height:ae.controlHeight,[`${dt}-selector`]:Object.assign(Object.assign({},(0,Yt.Wf)(ae,!0)),{display:"flex",borderRadius:rt,[`${dt}-selection-search`]:{position:"absolute",top:0,insetInlineStart:pt,insetInlineEnd:pt,bottom:0,"&-input":{width:"100%"}},[`
          ${dt}-selection-item,
          ${dt}-selection-placeholder
        `]:{padding:0,lineHeight:`${Ut}px`,transition:`all ${ae.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${dt}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${dt}-selection-item:empty:after`,`${dt}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${dt}-show-arrow ${dt}-selection-item,
        &${dt}-show-arrow ${dt}-selection-placeholder
      `]:{paddingInlineEnd:ni},[`&${dt}-open ${dt}-selection-item`]:{color:ae.colorTextPlaceholder},[`&:not(${dt}-customize-input)`]:{[`${dt}-selector`]:{width:"100%",height:"100%",padding:`0 ${pt}px`,[`${dt}-selection-search-input`]:{height:Ut},"&:after":{lineHeight:`${Ut}px`}}},[`&${dt}-customize-input`]:{[`${dt}-selector`]:{"&:after":{display:"none"},[`${dt}-selection-search`]:{position:"static",width:"100%"},[`${dt}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${pt}px`,"&:after":{display:"none"}}}}}}}function Hi(ae){const{componentCls:we}=ae,dt=ae.controlPaddingHorizontalSM-ae.lineWidth;return[xi(ae),xi((0,Li.TS)(ae,{controlHeight:ae.controlHeightSM,borderRadius:ae.borderRadiusSM}),"sm"),{[`${we}-single${we}-sm`]:{[`&:not(${we}-customize-input)`]:{[`${we}-selection-search`]:{insetInlineStart:dt,insetInlineEnd:dt},[`${we}-selector`]:{padding:`0 ${dt}px`},[`&${we}-show-arrow ${we}-selection-search`]:{insetInlineEnd:dt+ae.fontSize*1.5},[`
            &${we}-show-arrow ${we}-selection-item,
            &${we}-show-arrow ${we}-selection-placeholder
          `]:{paddingInlineEnd:ae.fontSize*1.5}}}},xi((0,Li.TS)(ae,{controlHeight:ae.singleItemHeightLG,fontSize:ae.fontSizeLG,borderRadius:ae.borderRadiusLG}),"lg")]}const cn=ae=>{const{componentCls:we,selectorBg:dt}=ae;return{position:"relative",backgroundColor:dt,border:`${ae.lineWidth}px ${ae.lineType} ${ae.colorBorder}`,transition:`all ${ae.motionDurationMid} ${ae.motionEaseInOut}`,input:{cursor:"pointer"},[`${we}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${we}-disabled&`]:{color:ae.colorTextDisabled,background:ae.colorBgContainerDisabled,cursor:"not-allowed",[`${we}-multiple&`]:{background:ae.multipleSelectorBgDisabled},input:{cursor:"not-allowed"}}}},Ii=function(ae,we){let dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{componentCls:pt,borderHoverColor:rt,antCls:Ut,borderActiveColor:ni}=we,zt=dt?{[`${pt}-selector`]:{borderColor:ni}}:{};return{[ae]:{[`&:not(${pt}-disabled):not(${pt}-customize-input):not(${Ut}-pagination-size-changer)`]:Object.assign(Object.assign({},zt),{[`&:hover ${pt}-selector`]:{borderColor:rt},[`${pt}-focused& ${pt}-selector`]:{borderColor:ni,outline:0}})}}},ln=ae=>{const{componentCls:we}=ae;return{[`${we}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},nn=ae=>{const{antCls:we,componentCls:dt,inputPaddingHorizontalBase:pt,iconCls:rt}=ae;return{[dt]:Object.assign(Object.assign({},(0,Yt.Wf)(ae)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${dt}-customize-input) ${dt}-selector`]:Object.assign(Object.assign({},cn(ae)),ln(ae)),[`${dt}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},Yt.vS),{[`> ${we}-typography`]:{display:"inline"}}),[`${dt}-selection-placeholder`]:Object.assign(Object.assign({},Yt.vS),{flex:1,color:ae.colorTextPlaceholder,pointerEvents:"none"}),[`${dt}-arrow`]:Object.assign(Object.assign({},(0,Yt.Ro)()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:pt,height:ae.fontSizeIcon,marginTop:-ae.fontSizeIcon/2,color:ae.colorTextQuaternary,fontSize:ae.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[rt]:{verticalAlign:"top",transition:`transform ${ae.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${dt}-suffix)`]:{pointerEvents:"auto"}},[`${dt}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${dt}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:pt,zIndex:1,display:"inline-block",width:ae.fontSizeIcon,height:ae.fontSizeIcon,marginTop:-ae.fontSizeIcon/2,color:ae.colorTextQuaternary,fontSize:ae.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:ae.clearBg,cursor:"pointer",opacity:0,transition:`color ${ae.motionDurationMid} ease, opacity ${ae.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:ae.colorTextTertiary}},"&:hover":{[`${dt}-clear`]:{opacity:1}}}),[`${dt}-has-feedback`]:{[`${dt}-clear`]:{insetInlineEnd:pt+ae.fontSize+ae.paddingXS}}}},wn=ae=>{const{componentCls:we}=ae;return[{[we]:{[`&-borderless ${we}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${we}-in-form-item`]:{width:"100%"}}},nn(ae),Hi(ae),Oi(ae),Ye(ae),{[`${we}-rtl`]:{direction:"rtl"}},Ii(we,(0,Li.TS)(ae,{borderHoverColor:ae.colorPrimaryHover,borderActiveColor:ae.colorPrimary})),Ii(`${we}-status-error`,(0,Li.TS)(ae,{borderHoverColor:ae.colorErrorHover,borderActiveColor:ae.colorError}),!0),Ii(`${we}-status-warning`,(0,Li.TS)(ae,{borderHoverColor:ae.colorWarningHover,borderActiveColor:ae.colorWarning}),!0),(0,Vi.c)(ae,{borderElCls:`${we}-selector`,focusElCls:`${we}-focused`})]};var Gn=(0,Pn.Z)("Select",(ae,we)=>{let{rootPrefixCls:dt}=we;const pt=(0,Li.TS)(ae,{rootPrefixCls:dt,inputPaddingHorizontalBase:ae.paddingSM-1,multipleSelectItemHeight:ae.multipleItemHeight,selectHeight:ae.controlHeight});return[wn(pt)]},ae=>{const{fontSize:we,lineHeight:dt,controlHeight:pt,controlPaddingHorizontal:rt,zIndexPopupBase:Ut,colorText:ni,fontWeightStrong:zt,controlItemBgActive:Ri,controlItemBgHover:Ci,colorBgContainer:Ei,colorFillSecondary:wi,controlHeightLG:bn,controlHeightSM:ji,colorBgContainerDisabled:gn,colorTextDisabled:Wn}=ae;return{zIndexPopup:Ut+50,optionSelectedColor:ni,optionSelectedFontWeight:zt,optionSelectedBg:Ri,optionActiveBg:Ci,optionPadding:`${(pt-we*dt)/2}px ${rt}px`,optionFontSize:we,optionLineHeight:dt,optionHeight:pt,selectorBg:Ei,clearBg:Ei,singleItemHeightLG:bn,multipleItemBg:wi,multipleItemBorderColor:"transparent",multipleItemHeight:ji,multipleItemHeightLG:pt,multipleSelectorBgDisabled:gn,multipleItemColorDisabled:Wn,multipleItemBorderColorDisabled:"transparent"}});const Ts=ae=>{const dt={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:ae==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},dt),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},dt),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},dt),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},dt),{points:["br","tr"],offset:[0,-4]})}};function Ln(ae,we){return ae||Ts(we)}function jt(ae,we){return we!==void 0?we:ae!==null}var _e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},Me=_e,ze=function(we,dt){return O.createElement(y.Z,(0,E.Z)({},we,{ref:dt,icon:Me}))},vt=O.forwardRef(ze),yt=vt,oi=c(4340),qt=c(97937),fn=c(80882),Tn=c(50888),Bi=c(68795);function dn(ae){let{suffixIcon:we,clearIcon:dt,menuItemSelectedIcon:pt,removeIcon:rt,loading:Ut,multiple:ni,hasFeedback:zt,prefixCls:Ri,showSuffixIcon:Ci,feedbackIcon:Ei,showArrow:wi,componentName:bn}=ae;const ji=dt!=null?dt:O.createElement(oi.Z,null),gn=qn=>we===null&&!zt&&!wi?null:O.createElement(O.Fragment,null,Ci!==!1&&qn,zt&&Ei);let Wn=null;if(we!==void 0)Wn=gn(we);else if(Ut)Wn=gn(O.createElement(Tn.Z,{spin:!0}));else{const qn=`${Ri}-suffix`;Wn=ws=>{let{open:Us,showSearch:Bs}=ws;return gn(Us&&Bs?O.createElement(Bi.Z,{className:qn}):O.createElement(fn.Z,{className:qn}))}}let zn=null;pt!==void 0?zn=pt:ni?zn=O.createElement(yt,null):zn=null;let Vn=null;return rt!==void 0?Vn=rt:Vn=O.createElement(qt.Z,null),{clearIcon:ji,suffixIcon:Wn,itemIcon:zn,removeIcon:Vn}}var yn=function(ae,we){var dt={};for(var pt in ae)Object.prototype.hasOwnProperty.call(ae,pt)&&we.indexOf(pt)<0&&(dt[pt]=ae[pt]);if(ae!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,pt=Object.getOwnPropertySymbols(ae);rt<pt.length;rt++)we.indexOf(pt[rt])<0&&Object.prototype.propertyIsEnumerable.call(ae,pt[rt])&&(dt[pt[rt]]=ae[pt[rt]]);return dt};const tn="SECRET_COMBOBOX_MODE_DO_NOT_USE",Zt=(ae,we)=>{var dt,{prefixCls:pt,bordered:rt=!0,className:Ut,rootClassName:ni,getPopupContainer:zt,popupClassName:Ri,dropdownClassName:Ci,listHeight:Ei=256,placement:wi,listItemHeight:bn=24,size:ji,disabled:gn,notFoundContent:Wn,status:zn,builtinPlacements:Vn,dropdownMatchSelectWidth:qn,popupMatchSelectWidth:ws,direction:Us,style:Bs,allowClear:cs}=ae,Ws=yn(ae,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear"]);const{getPopupContainer:vs,getPrefixCls:ss,renderEmpty:Ms,direction:uo,virtual:An,popupMatchSelectWidth:Vs,popupOverflow:Gs,select:Js}=O.useContext(me.E_),ms=ss("select",pt),ps=ss(),Ss=Us!=null?Us:uo,{compactSize:Is,compactItemClassnames:Lo}=(0,hi.ri)(ms,Ss),[So,bo]=Gn(ms),zo=O.useMemo(()=>{const{mode:Uo}=Ws;if(Uo!=="combobox")return Uo===tn?"combobox":Uo},[Ws.mode]),lo=zo==="multiple"||zo==="tags",Do=jt(Ws.suffixIcon,Ws.showArrow),Jo=(dt=ws!=null?ws:qn)!==null&&dt!==void 0?dt:Vs,{status:Cs,hasFeedback:ns,isFormItemInput:ys,feedbackIcon:hs}=O.useContext(Si.aM),ks=(0,gt.F)(Cs,zn);let As;Wn!==void 0?As=Wn:zo==="combobox"?As=null:As=(Ms==null?void 0:Ms("Select"))||O.createElement(Wt.Z,{componentName:"Select"});const{suffixIcon:bs,itemIcon:un,removeIcon:fs,clearIcon:co}=dn(Object.assign(Object.assign({},Ws),{multiple:lo,hasFeedback:ns,feedbackIcon:hs,showSuffixIcon:Do,prefixCls:ms,showArrow:Ws.showArrow,componentName:"Select"})),fo=cs===!0?{clearIcon:co}:cs,xo=(0,ho.Z)(Ws,["suffixIcon","itemIcon"]),To=x()(Ri||Ci,{[`${ms}-dropdown-${Ss}`]:Ss==="rtl"},ni,bo),ko=(0,ue.Z)(Uo=>{var Ko;return(Ko=ji!=null?ji:Is)!==null&&Ko!==void 0?Ko:Uo}),_o=O.useContext(ti.Z),Yo=gn!=null?gn:_o,$o=x()({[`${ms}-lg`]:ko==="large",[`${ms}-sm`]:ko==="small",[`${ms}-rtl`]:Ss==="rtl",[`${ms}-borderless`]:!rt,[`${ms}-in-form-item`]:ys},(0,gt.Z)(ms,ks,ns),Lo,Js==null?void 0:Js.className,Ut,ni,bo),Qo=O.useMemo(()=>wi!==void 0?wi:Ss==="rtl"?"bottomRight":"bottomLeft",[wi,Ss]),Bo=Ln(Vn,Gs);return So(O.createElement(mi,Object.assign({ref:we,virtual:An,showSearch:Js==null?void 0:Js.showSearch},xo,{style:Object.assign(Object.assign({},Js==null?void 0:Js.style),Bs),dropdownMatchSelectWidth:Jo,builtinPlacements:Bo,transitionName:(0,ge.m)(ps,"slide-up",Ws.transitionName),listHeight:Ei,listItemHeight:bn,mode:zo,prefixCls:ms,placement:Qo,direction:Ss,suffixIcon:bs,menuItemSelectedIcon:un,removeIcon:fs,allowClear:fo,notFoundContent:As,className:$o,getPopupContainer:zt||vs,dropdownClassName:To,disabled:Yo})))},vi=O.forwardRef(Zt),Xi=(0,ct.Z)(vi);vi.SECRET_COMBOBOX_MODE_DO_NOT_USE=tn,vi.Option=js,vi.OptGroup=Rs,vi._InternalPanelDoNotUseOrYouWillBeFired=Xi;var ts=vi;const us=ae=>O.createElement(ts,Object.assign({},ae,{showSearch:!0,size:"small"})),Ls=ae=>O.createElement(ts,Object.assign({},ae,{showSearch:!0,size:"middle"}));us.Option=ts.Option,Ls.Option=ts.Option;var Be=c(47673);const d=ae=>{const{componentCls:we}=ae;return{[`${we}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${we}-item-link`]:{color:ae.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${we}-item-link`]:{color:ae.colorTextDisabled,cursor:"not-allowed"}}},[`&${we}-disabled`]:{cursor:"not-allowed",[`${we}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:ae.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:ae.colorBorder,backgroundColor:ae.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:ae.itemActiveBgDisabled},a:{color:ae.itemActiveColorDisabled}}},[`${we}-item-link`]:{color:ae.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${we}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${we}-simple-pager`]:{color:ae.colorTextDisabled},[`${we}-jump-prev, ${we}-jump-next`]:{[`${we}-item-link-icon`]:{opacity:0},[`${we}-item-ellipsis`]:{opacity:1}}},[`&${we}-simple`]:{[`${we}-prev, ${we}-next`]:{[`&${we}-disabled ${we}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},M=ae=>{const{componentCls:we}=ae;return{[`&${we}-mini ${we}-total-text, &${we}-mini ${we}-simple-pager`]:{height:ae.itemSizeSM,lineHeight:`${ae.itemSizeSM}px`},[`&${we}-mini ${we}-item`]:{minWidth:ae.itemSizeSM,height:ae.itemSizeSM,margin:0,lineHeight:`${ae.itemSizeSM-2}px`},[`&${we}-mini:not(${we}-disabled) ${we}-item:not(${we}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:ae.colorBgTextHover},"&:active":{backgroundColor:ae.colorBgTextActive}},[`&${we}-mini ${we}-prev, &${we}-mini ${we}-next`]:{minWidth:ae.itemSizeSM,height:ae.itemSizeSM,margin:0,lineHeight:`${ae.itemSizeSM}px`},[`&${we}-mini:not(${we}-disabled)`]:{[`${we}-prev, ${we}-next`]:{[`&:hover ${we}-item-link`]:{backgroundColor:ae.colorBgTextHover},[`&:active ${we}-item-link`]:{backgroundColor:ae.colorBgTextActive},[`&${we}-disabled:hover ${we}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${we}-mini ${we}-prev ${we}-item-link,
    &${we}-mini ${we}-next ${we}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:ae.itemSizeSM,lineHeight:`${ae.itemSizeSM}px`}},[`&${we}-mini ${we}-jump-prev, &${we}-mini ${we}-jump-next`]:{height:ae.itemSizeSM,marginInlineEnd:0,lineHeight:`${ae.itemSizeSM}px`},[`&${we}-mini ${we}-options`]:{marginInlineStart:ae.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:ae.miniOptionsSizeChangerTop},"&-quick-jumper":{height:ae.itemSizeSM,lineHeight:`${ae.itemSizeSM}px`,input:Object.assign(Object.assign({},(0,Be.x0)(ae)),{width:ae.paginationMiniQuickJumperInputWidth,height:ae.controlHeightSM})}}}},U=ae=>{const{componentCls:we}=ae;return{[`
    &${we}-simple ${we}-prev,
    &${we}-simple ${we}-next
    `]:{height:ae.itemSizeSM,lineHeight:`${ae.itemSizeSM}px`,verticalAlign:"top",[`${we}-item-link`]:{height:ae.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:ae.colorBgTextHover},"&:active":{backgroundColor:ae.colorBgTextActive},"&::after":{height:ae.itemSizeSM,lineHeight:`${ae.itemSizeSM}px`}}},[`&${we}-simple ${we}-simple-pager`]:{display:"inline-block",height:ae.itemSizeSM,marginInlineEnd:ae.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:ae.marginXS,padding:`0 ${ae.paginationItemPaddingInline}px`,textAlign:"center",backgroundColor:ae.itemInputBg,border:`${ae.lineWidth}px ${ae.lineType} ${ae.colorBorder}`,borderRadius:ae.borderRadius,outline:"none",transition:`border-color ${ae.motionDurationMid}`,color:"inherit","&:hover":{borderColor:ae.colorPrimary},"&:focus":{borderColor:ae.colorPrimaryHover,boxShadow:`${ae.inputOutlineOffset}px 0 ${ae.controlOutlineWidth}px ${ae.controlOutline}`},"&[disabled]":{color:ae.colorTextDisabled,backgroundColor:ae.colorBgContainerDisabled,borderColor:ae.colorBorder,cursor:"not-allowed"}}}}},oe=ae=>{const{componentCls:we}=ae;return{[`${we}-jump-prev, ${we}-jump-next`]:{outline:0,[`${we}-item-container`]:{position:"relative",[`${we}-item-link-icon`]:{color:ae.colorPrimary,fontSize:ae.fontSizeSM,opacity:0,transition:`all ${ae.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${we}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:ae.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:ae.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:ae.paginationEllipsisTextIndent,opacity:1,transition:`all ${ae.motionDurationMid}`}},"&:hover":{[`${we}-item-link-icon`]:{opacity:1},[`${we}-item-ellipsis`]:{opacity:0}}},[`
    ${we}-prev,
    ${we}-jump-prev,
    ${we}-jump-next
    `]:{marginInlineEnd:ae.marginXS},[`
    ${we}-prev,
    ${we}-next,
    ${we}-jump-prev,
    ${we}-jump-next
    `]:{display:"inline-block",minWidth:ae.itemSize,height:ae.itemSize,color:ae.colorText,fontFamily:ae.fontFamily,lineHeight:`${ae.itemSize}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:ae.borderRadius,cursor:"pointer",transition:`all ${ae.motionDurationMid}`},[`${we}-prev, ${we}-next`]:{fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:ae.colorText,cursor:"pointer",userSelect:"none"},[`${we}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:ae.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${ae.lineWidth}px ${ae.lineType} transparent`,borderRadius:ae.borderRadius,outline:"none",transition:`all ${ae.motionDurationMid}`},[`&:hover ${we}-item-link`]:{backgroundColor:ae.colorBgTextHover},[`&:active ${we}-item-link`]:{backgroundColor:ae.colorBgTextActive},[`&${we}-disabled:hover`]:{[`${we}-item-link`]:{backgroundColor:"transparent"}}},[`${we}-slash`]:{marginInlineEnd:ae.paginationSlashMarginInlineEnd,marginInlineStart:ae.paginationSlashMarginInlineStart},[`${we}-options`]:{display:"inline-block",marginInlineStart:ae.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:ae.controlHeight,marginInlineStart:ae.marginXS,lineHeight:`${ae.controlHeight}px`,verticalAlign:"top",input:Object.assign(Object.assign({},(0,Be.ik)(ae)),{width:ae.controlHeightLG*1.25,height:ae.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:ae.marginXS,marginInlineEnd:ae.marginXS})}}}},he=ae=>{const{componentCls:we}=ae;return{[`${we}-item`]:{display:"inline-block",minWidth:ae.itemSize,height:ae.itemSize,marginInlineEnd:ae.marginXS,fontFamily:ae.fontFamily,lineHeight:`${ae.itemSize-2}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:`${ae.lineWidth}px ${ae.lineType} transparent`,borderRadius:ae.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${ae.paginationItemPaddingInline}px`,color:ae.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${we}-item-active)`]:{"&:hover":{transition:`all ${ae.motionDurationMid}`,backgroundColor:ae.colorBgTextHover},"&:active":{backgroundColor:ae.colorBgTextActive}},"&-active":{fontWeight:ae.fontWeightStrong,backgroundColor:ae.itemActiveBg,borderColor:ae.colorPrimary,a:{color:ae.colorPrimary},"&:hover":{borderColor:ae.colorPrimaryHover},"&:hover a":{color:ae.colorPrimaryHover}}}}},Le=ae=>{const{componentCls:we}=ae;return{[we]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Yt.Wf)(ae)),{"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${we}-total-text`]:{display:"inline-block",height:ae.itemSize,marginInlineEnd:ae.marginXS,lineHeight:`${ae.itemSize-2}px`,verticalAlign:"middle"}}),he(ae)),oe(ae)),U(ae)),M(ae)),d(ae)),{[`@media only screen and (max-width: ${ae.screenLG}px)`]:{[`${we}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${ae.screenSM}px)`]:{[`${we}-options`]:{display:"none"}}}),[`&${ae.componentCls}-rtl`]:{direction:"rtl"}}},We=ae=>{const{componentCls:we}=ae;return{[`${we}${we}-disabled:not(${we}-mini)`]:{"&, &:hover":{[`${we}-item-link`]:{borderColor:ae.colorBorder}},"&:focus-visible":{[`${we}-item-link`]:{borderColor:ae.colorBorder}},[`${we}-item, ${we}-item-link`]:{backgroundColor:ae.colorBgContainerDisabled,borderColor:ae.colorBorder,[`&:hover:not(${we}-item-active)`]:{backgroundColor:ae.colorBgContainerDisabled,borderColor:ae.colorBorder,a:{color:ae.colorTextDisabled}},[`&${we}-item-active`]:{backgroundColor:ae.itemActiveBgDisabled}},[`${we}-prev, ${we}-next`]:{"&:hover button":{backgroundColor:ae.colorBgContainerDisabled,borderColor:ae.colorBorder,color:ae.colorTextDisabled},[`${we}-item-link`]:{backgroundColor:ae.colorBgContainerDisabled,borderColor:ae.colorBorder}}},[`${we}:not(${we}-mini)`]:{[`${we}-prev, ${we}-next`]:{"&:hover button":{borderColor:ae.colorPrimaryHover,backgroundColor:ae.itemBg},[`${we}-item-link`]:{backgroundColor:ae.itemLinkBg,borderColor:ae.colorBorder},[`&:hover ${we}-item-link`]:{borderColor:ae.colorPrimary,backgroundColor:ae.itemBg,color:ae.colorPrimary},[`&${we}-disabled`]:{[`${we}-item-link`]:{borderColor:ae.colorBorder,color:ae.colorTextDisabled}}},[`${we}-item`]:{backgroundColor:ae.itemBg,border:`${ae.lineWidth}px ${ae.lineType} ${ae.colorBorder}`,[`&:hover:not(${we}-item-active)`]:{borderColor:ae.colorPrimary,backgroundColor:ae.itemBg,a:{color:ae.colorPrimary}},"&-active":{borderColor:ae.colorPrimary}}}}},lt=ae=>{const{componentCls:we}=ae;return{[`${we}:not(${we}-disabled)`]:{[`${we}-item`]:Object.assign({},(0,Yt.Qy)(ae)),[`${we}-jump-prev, ${we}-jump-next`]:{"&:focus-visible":Object.assign({[`${we}-item-link-icon`]:{opacity:1},[`${we}-item-ellipsis`]:{opacity:0}},(0,Yt.oN)(ae))},[`${we}-prev, ${we}-next`]:{[`&:focus-visible ${we}-item-link`]:Object.assign({},(0,Yt.oN)(ae))}}}};var Pt=(0,Pn.Z)("Pagination",ae=>{const we=(0,Li.TS)(ae,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:ae.marginXXS/2,paginationMiniQuickJumperInputWidth:ae.controlHeightLG*1.1,paginationItemPaddingInline:ae.marginXXS*1.5,paginationEllipsisLetterSpacing:ae.marginXXS/2,paginationSlashMarginInlineStart:ae.marginXXS,paginationSlashMarginInlineEnd:ae.marginSM,paginationEllipsisTextIndent:"0.13em"},(0,Be.e5)(ae),(0,Be.TM)(ae));return[Le(we),lt(we),ae.wireframe&&We(we)]},ae=>({itemBg:ae.colorBgContainer,itemSize:ae.controlHeight,itemSizeSM:ae.controlHeightSM,itemActiveBg:ae.colorBgContainer,itemLinkBg:ae.colorBgContainer,itemActiveColorDisabled:ae.colorTextDisabled,itemActiveBgDisabled:ae.controlItemBgActiveDisabled,itemInputBg:ae.colorBgContainer,miniOptionsSizeChangerTop:0})),St=function(ae,we){var dt={};for(var pt in ae)Object.prototype.hasOwnProperty.call(ae,pt)&&we.indexOf(pt)<0&&(dt[pt]=ae[pt]);if(ae!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,pt=Object.getOwnPropertySymbols(ae);rt<pt.length;rt++)we.indexOf(pt[rt])<0&&Object.prototype.propertyIsEnumerable.call(ae,pt[rt])&&(dt[pt[rt]]=ae[pt[rt]]);return dt},Gt=ae=>{const{prefixCls:we,selectPrefixCls:dt,className:pt,rootClassName:rt,style:Ut,size:ni,locale:zt,selectComponentClass:Ri,responsive:Ci,showSizeChanger:Ei}=ae,wi=St(ae,["prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","selectComponentClass","responsive","showSizeChanger"]),{xs:bn}=(0,Oe.Z)(Ci),{getPrefixCls:ji,direction:gn,pagination:Wn={}}=O.useContext(me.E_),zn=ji("pagination",we),[Vn,qn]=Pt(zn),ws=Ei!=null?Ei:Wn.showSizeChanger,Us=O.useMemo(()=>{const An=O.createElement("span",{className:`${zn}-item-ellipsis`},"\u2022\u2022\u2022"),Vs=O.createElement("button",{className:`${zn}-item-link`,type:"button",tabIndex:-1},gn==="rtl"?O.createElement(T.Z,null):O.createElement(r.Z,null)),Gs=O.createElement("button",{className:`${zn}-item-link`,type:"button",tabIndex:-1},gn==="rtl"?O.createElement(r.Z,null):O.createElement(T.Z,null)),Js=O.createElement("a",{className:`${zn}-item-link`},O.createElement("div",{className:`${zn}-item-container`},gn==="rtl"?O.createElement(H,{className:`${zn}-item-link-icon`}):O.createElement(B,{className:`${zn}-item-link-icon`}),An)),ms=O.createElement("a",{className:`${zn}-item-link`},O.createElement("div",{className:`${zn}-item-container`},gn==="rtl"?O.createElement(B,{className:`${zn}-item-link-icon`}):O.createElement(H,{className:`${zn}-item-link-icon`}),An));return{prevIcon:Vs,nextIcon:Gs,jumpPrevIcon:Js,jumpNextIcon:ms}},[gn,zn]),[Bs]=(0,Re.Z)("Pagination",te.Z),cs=Object.assign(Object.assign({},Bs),zt),Ws=(0,ue.Z)(ni),vs=Ws==="small"||!!(bn&&!Ws&&Ci),ss=ji("select",dt),Ms=x()({[`${zn}-mini`]:vs,[`${zn}-rtl`]:gn==="rtl"},Wn==null?void 0:Wn.className,pt,rt,qn),uo=Object.assign(Object.assign({},Wn==null?void 0:Wn.style),Ut);return Vn(O.createElement(F,Object.assign({},Us,wi,{style:uo,prefixCls:zn,selectPrefixCls:ss,className:Ms,selectComponentClass:Ri||(vs?us:Ls),locale:cs,showSizeChanger:ws})))},li=Gt},50048:function(Qt,He,c){self.MonacoEnvironment=function(E){function O(Q){return Q.replace(/\/$/,"")}return{globalAPI:!1,getWorkerUrl:function(Q,P){var y=c.p,X=(y?O(y)+"/":"")+E[P];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(X)){var R=String(window.location),B=R.substr(0,R.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(X.substring(0,B.length)!==B){/^(\/\/)/.test(X)&&(X=window.location.protocol+X);var s="/*"+P+'*/importScripts("'+X+'");',N=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(N)}}return X}}}({editorWorkerService:"editor.worker.js",typescript:"ts.worker.js",json:"json.worker.js",html:"html.worker.js",css:"css.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"}),c(89495),c(40539),c(44818),c(5697),c(5964),c(22860),c(73707),c(17369),Qt.exports=c(96480),c(43763),c(88307),c(15422),c(72323),c(40902),c(68423),c(56292),c(40605)},16268:function(Qt,He,c){"use strict";c.d(He,{$W:function(){return T},Dt:function(){return r},G6:function(){return D},MG:function(){return H},Pf:function(){return N},WP:function(){return P},fX:function(){return y},i7:function(){return g},ie:function(){return X},mX:function(){return R},px:function(){return Q},vU:function(){return s}});var E=c(4669);class O{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new E.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let x=document.createElement("canvas").getContext("2d"),f=window.devicePixelRatio||1,p=x.webkitBackingStorePixelRatio||x.mozBackingStorePixelRatio||x.msBackingStorePixelRatio||x.oBackingStorePixelRatio||x.backingStorePixelRatio||1;return f/p}}O.INSTANCE=new O;function Q(){return O.INSTANCE.getZoomLevel()}function P(){return O.INSTANCE.getTimeSinceLastZoomLevelChanged()}function y(w){return O.INSTANCE.onDidChangeZoomLevel(w)}function X(){return O.INSTANCE.getZoomFactor()}function R(){return O.INSTANCE.getPixelRatio()}const B=navigator.userAgent,s=B.indexOf("Firefox")>=0,N=B.indexOf("AppleWebKit")>=0,g=B.indexOf("Chrome")>=0,D=!g&&B.indexOf("Safari")>=0,H=!g&&!D&&N,r=B.indexOf("Android")>=0,T=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches},10161:function(Qt,He,c){"use strict";c.d(He,{D:function(){return Q}});var E=c(16268),O=c(1432);const Q={clipboard:{writeText:O.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:O.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:O.tY||E.$W?0:navigator.keyboard||E.G6?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},23547:function(Qt,He,c){"use strict";c.d(He,{P$:function(){return P},TN:function(){return Q},go:function(){return O}});var E=c(81170);const O={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:E.vW.text,TERMINALS:"Terminals"};class Q{constructor(X){this.data=X}update(){}getData(){return this.data}}const P={CurrentDragAndDropData:void 0}},65321:function(Qt,He,c){"use strict";c.d(He,{$:function(){return Mi},$Z:function(){return ci},Ay:function(){return tt},Ce:function(){return Ot},Cp:function(){return zi},D6:function(){return j},DI:function(){return te},Dx:function(){return Y},FK:function(){return ue},Fx:function(){return Dt},Gw:function(){return f},H$:function(){return kn},If:function(){return Oe},Lo:function(){return p},OO:function(){return Je},PO:function(){return g},R3:function(){return ii},RE:function(){return L},Re:function(){return Pe},Ro:function(){return q},Uh:function(){return Ki},Uw:function(){return D},V3:function(){return ls},Y_:function(){return le},_0:function(){return Ft},_h:function(){return Zi},_q:function(){return Mn},dS:function(){return fe},dp:function(){return b},fk:function(){return ot},go:function(){return bi},i:function(){return F},jL:function(){return ee},j_:function(){return h},jg:function(){return et},jt:function(){return Bn},lI:function(){return $},mc:function(){return en},mu:function(){return x},nm:function(){return r},qV:function(){return S},tw:function(){return ye},uB:function(){return an},uN:function(){return Ne},uU:function(){return ht},vL:function(){return it},vY:function(){return ke},w:function(){return me},wY:function(){return On},wn:function(){return Re},xQ:function(){return m},zB:function(){return Ze}});var E=c(16268),O=c(10161),Q=c(59069),P=c(23938),y=c(15393),X=c(17301),R=c(4669),B=c(5976),s=c(66663),N=c(1432);function g($e){for(;$e.firstChild;)$e.firstChild.remove()}function D($e){var Tt;return(Tt=$e==null?void 0:$e.isConnected)!==null&&Tt!==void 0?Tt:!1}class H{constructor(Tt,It,Ge,Xe){this._node=Tt,this._type=It,this._handler=Ge,this._options=Xe||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function r($e,Tt,It,Ge){return new H($e,Tt,It,Ge)}function T($e){return function(Tt){return $e(new P.n(Tt))}}function w($e){return function(Tt){return $e(new Q.y(Tt))}}let x=function(Tt,It,Ge,Xe){let kt=Ge;return It==="click"||It==="mousedown"?kt=T(Ge):(It==="keydown"||It==="keypress"||It==="keyup")&&(kt=w(Ge)),r(Tt,It,kt,Xe)},f=function(Tt,It,Ge){let Xe=T(It);return p(Tt,Xe,Ge)};function p($e,Tt,It){return r($e,N.gn&&O.D.pointerEvents?ye.POINTER_DOWN:ye.MOUSE_DOWN,Tt,It)}function S($e,Tt,It){return r($e,N.gn&&O.D.pointerEvents?ye.POINTER_UP:ye.MOUSE_UP,Tt,It)}function h($e,Tt){return r($e,"mouseout",It=>{let Ge=It.relatedTarget;for(;Ge&&Ge!==$e;)Ge=Ge.parentNode;Ge!==$e&&Tt(It)})}function L($e,Tt){return r($e,"pointerout",It=>{let Ge=It.relatedTarget;for(;Ge&&Ge!==$e;)Ge=Ge.parentNode;Ge!==$e&&Tt(It)})}let v=null;function V($e){if(!v){const Tt=It=>setTimeout(()=>It(new Date().getTime()),0);v=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||Tt}return v.call(self,$e)}let $,ee;class de{constructor(Tt,It=0){this._runner=Tt,this.priority=It,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Tt){(0,X.dL)(Tt)}}static sort(Tt,It){return It.priority-Tt.priority}}(function(){let $e=[],Tt=null,It=!1,Ge=!1,Xe=()=>{for(It=!1,Tt=$e,$e=[],Ge=!0;Tt.length>0;)Tt.sort(de.sort),Tt.shift().execute();Ge=!1};ee=(kt,At=0)=>{let Jt=new de(kt,At);return $e.push(Jt),It||(It=!0,V(Xe)),Jt},$=(kt,At)=>{if(Ge){let Jt=new de(kt,At);return Tt.push(Jt),Jt}else return ee(kt,At)}})();const pe=8,ve=function($e,Tt){return Tt};class xe extends B.JT{constructor(Tt,It,Ge,Xe=ve,kt=pe){super();let At=null,Jt=0,ai=this._register(new y._F),yi=()=>{Jt=new Date().getTime(),Ge(At),At=null};this._register(r(Tt,It,sn=>{At=Xe(At,sn);let Ji=new Date().getTime()-Jt;Ji>=kt?(ai.cancel(),yi()):ai.setIfNotSet(yi,kt-Ji)}))}}function le($e,Tt,It,Ge,Xe){return new xe($e,Tt,It,Ge,Xe)}function Y($e){return document.defaultView.getComputedStyle($e,null)}function j($e){if($e!==document.body)return new q($e.clientWidth,$e.clientHeight);if(N.gn&&window.visualViewport)return new q(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new q(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new q(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new q(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class G{static convertToPixels(Tt,It){return parseFloat(It)||0}static getDimension(Tt,It,Ge){let Xe=Y(Tt),kt="0";return Xe&&(Xe.getPropertyValue?kt=Xe.getPropertyValue(It):kt=Xe.getAttribute(Ge)),G.convertToPixels(Tt,kt)}static getBorderLeftWidth(Tt){return G.getDimension(Tt,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Tt){return G.getDimension(Tt,"border-right-width","borderRightWidth")}static getBorderTopWidth(Tt){return G.getDimension(Tt,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Tt){return G.getDimension(Tt,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Tt){return G.getDimension(Tt,"padding-left","paddingLeft")}static getPaddingRight(Tt){return G.getDimension(Tt,"padding-right","paddingRight")}static getPaddingTop(Tt){return G.getDimension(Tt,"padding-top","paddingTop")}static getPaddingBottom(Tt){return G.getDimension(Tt,"padding-bottom","paddingBottom")}static getMarginLeft(Tt){return G.getDimension(Tt,"margin-left","marginLeft")}static getMarginTop(Tt){return G.getDimension(Tt,"margin-top","marginTop")}static getMarginRight(Tt){return G.getDimension(Tt,"margin-right","marginRight")}static getMarginBottom(Tt){return G.getDimension(Tt,"margin-bottom","marginBottom")}}class q{constructor(Tt,It){this.width=Tt,this.height=It}with(Tt=this.width,It=this.height){return Tt!==this.width||It!==this.height?new q(Tt,It):this}static is(Tt){return typeof Tt=="object"&&typeof Tt.height=="number"&&typeof Tt.width=="number"}static lift(Tt){return Tt instanceof q?Tt:new q(Tt.width,Tt.height)}static equals(Tt,It){return Tt===It?!0:!Tt||!It?!1:Tt.width===It.width&&Tt.height===It.height}}function m($e){let Tt=$e.offsetParent,It=$e.offsetTop,Ge=$e.offsetLeft;for(;($e=$e.parentNode)!==null&&$e!==document.body&&$e!==document.documentElement;){It-=$e.scrollTop;const Xe=Mt($e)?null:Y($e);Xe&&(Ge-=Xe.direction!=="rtl"?$e.scrollLeft:-$e.scrollLeft),$e===Tt&&(Ge+=G.getBorderLeftWidth($e),It+=G.getBorderTopWidth($e),It+=$e.offsetTop,Ge+=$e.offsetLeft,Tt=$e.offsetParent)}return{left:Ge,top:It}}function b($e,Tt,It){typeof Tt=="number"&&($e.style.width=`${Tt}px`),typeof It=="number"&&($e.style.height=`${It}px`)}function F($e){let Tt=$e.getBoundingClientRect();return{left:Tt.left+te.scrollX,top:Tt.top+te.scrollY,width:Tt.width,height:Tt.height}}const te=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function me($e){let Tt=G.getMarginLeft($e)+G.getMarginRight($e);return $e.offsetWidth+Tt}function ue($e){let Tt=G.getBorderLeftWidth($e)+G.getBorderRightWidth($e),It=G.getPaddingLeft($e)+G.getPaddingRight($e);return $e.offsetWidth-Tt-It}function Oe($e){let Tt=G.getBorderTopWidth($e)+G.getBorderBottomWidth($e),It=G.getPaddingTop($e)+G.getPaddingBottom($e);return $e.offsetHeight-Tt-It}function Re($e){let Tt=G.getMarginTop($e)+G.getMarginBottom($e);return $e.offsetHeight+Tt}function et($e,Tt){for(;$e;){if($e===Tt)return!0;$e=$e.parentNode}return!1}function Dt($e,Tt,It){for(;$e&&$e.nodeType===$e.ELEMENT_NODE;){if($e.classList.contains(Tt))return $e;if(It){if(typeof It=="string"){if($e.classList.contains(It))return null}else if($e===It)return null}$e=$e.parentNode}return null}function ht($e,Tt,It){return!!Dt($e,Tt,It)}function Mt($e){return $e&&!!$e.host&&!!$e.mode}function Je($e){return!!tt($e)}function tt($e){for(;$e.parentNode;){if($e===document.body)return null;$e=$e.parentNode}return Mt($e)?$e:null}function ke(){let $e=document.activeElement;for(;$e!=null&&$e.shadowRoot;)$e=$e.shadowRoot.activeElement;return $e}function fe($e=document.getElementsByTagName("head")[0]){let Tt=document.createElement("style");return Tt.type="text/css",Tt.media="screen",$e.appendChild(Tt),Tt}let Ie=null;function nt(){return Ie||(Ie=fe()),Ie}function at($e){var Tt,It;return!((Tt=$e==null?void 0:$e.sheet)===null||Tt===void 0)&&Tt.rules?$e.sheet.rules:!((It=$e==null?void 0:$e.sheet)===null||It===void 0)&&It.cssRules?$e.sheet.cssRules:[]}function ot($e,Tt,It=nt()){!It||!Tt||It.sheet.insertRule($e+"{"+Tt+"}",0)}function Ne($e,Tt=nt()){if(!Tt)return;let It=at(Tt),Ge=[];for(let Xe=0;Xe<It.length;Xe++)It[Xe].selectorText.indexOf($e)!==-1&&Ge.push(Xe);for(let Xe=Ge.length-1;Xe>=0;Xe--)Tt.sheet.deleteRule(Ge[Xe])}function Pe($e){return typeof HTMLElement=="object"?$e instanceof HTMLElement:$e&&typeof $e=="object"&&$e.nodeType===1&&typeof $e.nodeName=="string"}const ye={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:E.Pf?"webkitAnimationStart":"animationstart",ANIMATION_END:E.Pf?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:E.Pf?"webkitAnimationIteration":"animationiteration"},Ze={stop:function($e,Tt){$e.preventDefault?$e.preventDefault():$e.returnValue=!1,Tt&&($e.stopPropagation?$e.stopPropagation():$e.cancelBubble=!0)}};function it($e){let Tt=[];for(let It=0;$e&&$e.nodeType===$e.ELEMENT_NODE;It++)Tt[It]=$e.scrollTop,$e=$e.parentNode;return Tt}function Ft($e,Tt){for(let It=0;$e&&$e.nodeType===$e.ELEMENT_NODE;It++)$e.scrollTop!==Tt[It]&&($e.scrollTop=Tt[It]),$e=$e.parentNode}class ei extends B.JT{constructor(Tt){super(),this._onDidFocus=this._register(new R.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new R.Q5),this.onDidBlur=this._onDidBlur.event;let It=et(document.activeElement,Tt),Ge=!1;const Xe=()=>{Ge=!1,It||(It=!0,this._onDidFocus.fire())},kt=()=>{It&&(Ge=!0,window.setTimeout(()=>{Ge&&(Ge=!1,It=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{et(document.activeElement,Tt)!==It&&(It?kt():Xe())},this._register(r(Tt,ye.FOCUS,Xe,!0)),this._register(r(Tt,ye.BLUR,kt,!0))}}function bi($e){return new ei($e)}function ii($e,...Tt){if($e.append(...Tt),Tt.length===1&&typeof Tt[0]!="string")return Tt[0]}function Ot($e,Tt){return $e.insertBefore(Tt,$e.firstChild),Tt}function en($e,...Tt){$e.innerText="",ii($e,...Tt)}const ui=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Ke;(function($e){$e.HTML="http://www.w3.org/1999/xhtml",$e.SVG="http://www.w3.org/2000/svg"})(Ke||(Ke={}));function st($e,Tt,It,...Ge){let Xe=ui.exec(Tt);if(!Xe)throw new Error("Bad use of emmet");It=Object.assign({},It||{});let kt=Xe[1]||"div",At;return $e!==Ke.HTML?At=document.createElementNS($e,kt):At=document.createElement(kt),Xe[3]&&(At.id=Xe[3]),Xe[4]&&(At.className=Xe[4].replace(/\./g," ").trim()),Object.keys(It).forEach(Jt=>{const ai=It[Jt];typeof ai!="undefined"&&(/^on\w+$/.test(Jt)?At[Jt]=ai:Jt==="selected"?ai&&At.setAttribute(Jt,"true"):At.setAttribute(Jt,ai))}),At.append(...Ge),At}function Mi($e,Tt,...It){return st(Ke.HTML,$e,Tt,...It)}Mi.SVG=function($e,Tt,...It){return st(Ke.SVG,$e,Tt,...It)};function ci(...$e){for(let Tt of $e)Tt.style.display="",Tt.removeAttribute("aria-hidden")}function zi(...$e){for(let Tt of $e)Tt.style.display="none",Tt.setAttribute("aria-hidden","true")}function kn($e){return Array.prototype.slice.call(document.getElementsByTagName($e),0)}function Ki($e){const Tt=window.devicePixelRatio*$e;return Math.max(1,Math.floor(Tt))/window.devicePixelRatio}function ls($e){window.open($e,"_blank","noopener")}function Bn($e){const Tt=()=>{$e(),It=ee(Tt)};let It=ee(Tt);return(0,B.OF)(()=>It.dispose())}s.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function On($e){return $e?`url('${s.Gi.asBrowserUri($e).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Zi($e){return`'${$e.replace(/'/g,"%27")}'`}class Mn extends R.Q5{constructor(){super(),this._subscriptions=new B.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(r(window,"keydown",Tt=>{if(Tt.defaultPrevented)return;const It=new Q.y(Tt);if(!(It.keyCode===6&&Tt.repeat)){if(Tt.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Tt.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Tt.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Tt.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(It.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=Tt.altKey,this._keyStatus.ctrlKey=Tt.ctrlKey,this._keyStatus.metaKey=Tt.metaKey,this._keyStatus.shiftKey=Tt.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Tt,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(r(window,"keyup",Tt=>{Tt.defaultPrevented||(!Tt.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!Tt.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!Tt.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!Tt.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Tt.altKey,this._keyStatus.ctrlKey=Tt.ctrlKey,this._keyStatus.metaKey=Tt.metaKey,this._keyStatus.shiftKey=Tt.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Tt,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(r(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(r(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(r(document.body,"mousemove",Tt=>{Tt.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(r(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Mn.instance||(Mn.instance=new Mn),Mn.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function an($e,Tt){const It=window.matchMedia($e);typeof It.addEventListener=="function"?It.addEventListener("change",Tt):It.addListener(Tt)}},4850:function(Qt,He,c){"use strict";c.d(He,{Y:function(){return O},p:function(){return Q}});var E=c(4669);class O{constructor(y,X,R){const B=s=>this.emitter.fire(s);this.emitter=new E.Q5({onFirstListenerAdd:()=>y.addEventListener(X,B,R),onLastListenerRemove:()=>y.removeEventListener(X,B,R)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function Q(P){return P.preventDefault(),P.stopPropagation(),P}},38626:function(Qt,He,c){"use strict";c.d(He,{X:function(){return O},Z:function(){return E}});class E{constructor(P){this.domNode=P,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(P){this._maxWidth!==P&&(this._maxWidth=P,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(P){this._width!==P&&(this._width=P,this.domNode.style.width=this._width+"px")}setHeight(P){this._height!==P&&(this._height=P,this.domNode.style.height=this._height+"px")}setTop(P){this._top!==P&&(this._top=P,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(P){this._left!==P&&(this._left=P,this.domNode.style.left=this._left+"px")}setBottom(P){this._bottom!==P&&(this._bottom=P,this.domNode.style.bottom=this._bottom+"px")}setRight(P){this._right!==P&&(this._right=P,this.domNode.style.right=this._right+"px")}setFontFamily(P){this._fontFamily!==P&&(this._fontFamily=P,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(P){this._fontWeight!==P&&(this._fontWeight=P,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(P){this._fontSize!==P&&(this._fontSize=P,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(P){this._fontFeatureSettings!==P&&(this._fontFeatureSettings=P,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(P){this._lineHeight!==P&&(this._lineHeight=P,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(P){this._letterSpacing!==P&&(this._letterSpacing=P,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(P){this._className!==P&&(this._className=P,this.domNode.className=this._className)}toggleClassName(P,y){this.domNode.classList.toggle(P,y),this._className=this.domNode.className}setDisplay(P){this._display!==P&&(this._display=P,this.domNode.style.display=this._display)}setPosition(P){this._position!==P&&(this._position=P,this.domNode.style.position=this._position)}setVisibility(P){this._visibility!==P&&(this._visibility=P,this.domNode.style.visibility=this._visibility)}setBackgroundColor(P){this._backgroundColor!==P&&(this._backgroundColor=P,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(P){this._layerHint!==P&&(this._layerHint=P,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(P){this._boxShadow!==P&&(this._boxShadow=P,this.domNode.style.boxShadow=P)}setContain(P){this._contain!==P&&(this._contain=P,this.domNode.style.contain=this._contain)}setAttribute(P,y){this.domNode.setAttribute(P,y)}removeAttribute(P){this.domNode.removeAttribute(P)}appendChild(P){this.domNode.appendChild(P.domNode)}removeChild(P){this.domNode.removeChild(P.domNode)}}function O(Q){return new E(Q)}},94079:function(Qt,He,c){"use strict";c.d(He,{BO:function(){return Q},IY:function(){return O},az:function(){return P}});var E=c(65321);function O(N,g={}){const D=P(g);return D.textContent=N,D}function Q(N,g={}){const D=P(g);return X(D,R(N,!!g.renderCodeSegments),g.actionHandler,g.renderCodeSegments),D}function P(N){const g=N.inline?"span":"div",D=document.createElement(g);return N.className&&(D.className=N.className),D}class y{constructor(g){this.source=g,this.index=0}eos(){return this.index>=this.source.length}next(){const g=this.peek();return this.advance(),g}peek(){return this.source[this.index]}advance(){this.index++}}function X(N,g,D,H){let r;if(g.type===2)r=document.createTextNode(g.content||"");else if(g.type===3)r=document.createElement("b");else if(g.type===4)r=document.createElement("i");else if(g.type===7&&H)r=document.createElement("code");else if(g.type===5&&D){const T=document.createElement("a");T.href="#",D.disposables.add(E.mu(T,"click",w=>{D.callback(String(g.index),w)})),r=T}else g.type===8?r=document.createElement("br"):g.type===1&&(r=N);r&&N!==r&&N.appendChild(r),r&&Array.isArray(g.children)&&g.children.forEach(T=>{X(r,T,D,H)})}function R(N,g){const D={type:1,children:[]};let H=0,r=D;const T=[],w=new y(N);for(;!w.eos();){let x=w.next();const f=x==="\\"&&s(w.peek(),g)!==0;if(f&&(x=w.next()),!f&&B(x,g)&&x===w.peek()){w.advance(),r.type===2&&(r=T.pop());const p=s(x,g);if(r.type===p||r.type===5&&p===6)r=T.pop();else{const S={type:p,children:[]};p===5&&(S.index=H,H++),r.children.push(S),T.push(r),r=S}}else if(x===`
`)r.type===2&&(r=T.pop()),r.children.push({type:8});else if(r.type!==2){const p={type:2,content:x};r.children.push(p),T.push(r),r=p}else r.content+=x}return r.type===2&&(r=T.pop()),T.length,D}function B(N,g){return s(N,g)!==0}function s(N,g){switch(N){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return g?7:0;default:return 0}}},57974:function(Qt,He,c){"use strict";c.d(He,{Z:function(){return R},e:function(){return X}});var E=c(65321),O=c(70262),Q=c(23938),P=c(5976),y=c(1432);function X(B,s){let N=new Q.n(s);return N.preventDefault(),{leftButton:N.leftButton,buttons:N.buttons,posx:N.posx,posy:N.posy}}class R{constructor(){this._hooks=new P.SL,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(s,N){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const g=this._onStopCallback;this._onStopCallback=null,s&&g&&g(N)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(s,N,g,D,H){if(this.isMonitoring())return;this._mouseMoveEventMerger=g,this._mouseMoveCallback=D,this._onStopCallback=H;const r=O.E.getSameOriginWindowChain(),T=y.gn?"pointermove":"mousemove",w="mouseup",x=r.map(p=>p.window.document),f=E.Ay(s);f&&x.unshift(f);for(const p of x)this._hooks.add(E.Y_(p,T,S=>{if(S.buttons!==N){this.stopMonitoring(!0);return}this._mouseMoveCallback(S)},(S,h)=>this._mouseMoveEventMerger(S,h))),this._hooks.add(E.nm(p,w,S=>this.stopMonitoring(!0)));if(O.E.hasDifferentOriginAncestor()){let p=r[r.length-1];this._hooks.add(E.nm(p.window.document,"mouseout",S=>{new Q.n(S).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(E.nm(p.window.document,"mouseover",S=>{new Q.n(S).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(E.nm(p.window.document.body,"mouseleave",S=>{this.stopMonitoring(!0)}))}}}},70262:function(Qt,He,c){"use strict";c.d(He,{E:function(){return P}});let E=!1,O=null;function Q(y){if(!y.parent||y.parent===y)return null;try{let X=y.location,R=y.parent.location;if(X.origin!=="null"&&R.origin!=="null"&&X.origin!==R.origin)return E=!0,null}catch(X){return E=!0,null}return y.parent}class P{static getSameOriginWindowChain(){if(!O){O=[];let X=window,R;do R=Q(X),R?O.push({window:X,iframeElement:X.frameElement||null}):O.push({window:X,iframeElement:null}),X=R;while(X)}return O.slice(0)}static hasDifferentOriginAncestor(){return O||this.getSameOriginWindowChain(),E}static getPositionOfChildWindowRelativeToAncestorWindow(X,R){if(!R||X===R)return{top:0,left:0};let B=0,s=0,N=this.getSameOriginWindowChain();for(const g of N){if(B+=g.window.scrollY,s+=g.window.scrollX,g.window===R||!g.iframeElement)break;let D=g.iframeElement.getBoundingClientRect();B+=D.top,s+=D.left}return{top:B,left:s}}}},59069:function(Qt,He,c){"use strict";c.d(He,{y:function(){return N}});var E=c(16268),O=c(22258),Q=c(8313),P=c(1432);function y(g){if(g.charCode){let H=String.fromCharCode(g.charCode).toUpperCase();return O.kL.fromString(H)}const D=g.keyCode;if(D===3)return 7;if(E.vU){if(D===59)return 80;if(D===107)return 81;if(D===109)return 83;if(P.dz&&D===224)return 57}else if(E.Pf){if(D===91)return 57;if(P.dz&&D===93)return 57;if(!P.dz&&D===92)return 57}return O.H_[D]||0}const X=P.dz?256:2048,R=512,B=1024,s=P.dz?2048:256;class N{constructor(D){this._standardKeyboardEventBrand=!0;let H=D;this.browserEvent=H,this.target=H.target,this.ctrlKey=H.ctrlKey,this.shiftKey=H.shiftKey,this.altKey=H.altKey,this.metaKey=H.metaKey,this.keyCode=y(H),this.code=H.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(D){return this._asKeybinding===D}_computeKeybinding(){let D=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(D=this.keyCode);let H=0;return this.ctrlKey&&(H|=X),this.altKey&&(H|=R),this.shiftKey&&(H|=B),this.metaKey&&(H|=s),H|=D,H}_computeRuntimeKeybinding(){let D=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(D=this.keyCode),new Q.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,D)}}},23938:function(Qt,He,c){"use strict";c.d(He,{n:function(){return P},q:function(){return y}});var E=c(16268),O=c(70262),Q=c(1432);class P{constructor(R){this.timestamp=Date.now(),this.browserEvent=R,this.leftButton=R.button===0,this.middleButton=R.button===1,this.rightButton=R.button===2,this.buttons=R.buttons,this.target=R.target,this.detail=R.detail||1,R.type==="dblclick"&&(this.detail=2),this.ctrlKey=R.ctrlKey,this.shiftKey=R.shiftKey,this.altKey=R.altKey,this.metaKey=R.metaKey,typeof R.pageX=="number"?(this.posx=R.pageX,this.posy=R.pageY):(this.posx=R.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=R.clientY+document.body.scrollTop+document.documentElement.scrollTop);let B=O.E.getPositionOfChildWindowRelativeToAncestorWindow(self,R.view);this.posx-=B.left,this.posy-=B.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class y{constructor(R,B=0,s=0){if(this.browserEvent=R||null,this.target=R?R.target||R.targetNode||R.srcElement:null,this.deltaY=s,this.deltaX=B,R){let N=R,g=R;if(typeof N.wheelDeltaY!="undefined")this.deltaY=N.wheelDeltaY/120;else if(typeof g.VERTICAL_AXIS!="undefined"&&g.axis===g.VERTICAL_AXIS)this.deltaY=-g.detail/3;else if(R.type==="wheel"){const D=R;D.deltaMode===D.DOM_DELTA_LINE?E.vU&&!Q.dz?this.deltaY=-R.deltaY/3:this.deltaY=-R.deltaY:this.deltaY=-R.deltaY/40}if(typeof N.wheelDeltaX!="undefined")E.G6&&Q.ED?this.deltaX=-(N.wheelDeltaX/120):this.deltaX=N.wheelDeltaX/120;else if(typeof g.HORIZONTAL_AXIS!="undefined"&&g.axis===g.HORIZONTAL_AXIS)this.deltaX=-R.detail/3;else if(R.type==="wheel"){const D=R;D.deltaMode===D.DOM_DELTA_LINE?E.vU&&!Q.dz?this.deltaX=-R.deltaX/3:this.deltaX=-R.deltaX:this.deltaX=-R.deltaX/40}this.deltaY===0&&this.deltaX===0&&R.wheelDelta&&(this.deltaY=R.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},10553:function(Qt,He,c){"use strict";c.d(He,{o:function(){return R},t:function(){return X}});var E=c(65321),O=c(9488),Q=c(49898),P=c(5976),y=function(B,s,N,g){var D=arguments.length,H=D<3?s:g===null?g=Object.getOwnPropertyDescriptor(s,N):g,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(B,s,N,g);else for(var T=B.length-1;T>=0;T--)(r=B[T])&&(H=(D<3?r(H):D>3?r(s,N,H):r(s,N))||H);return D>3&&H&&Object.defineProperty(s,N,H),H},X;(function(B){B.Tap="-monaco-gesturetap",B.Change="-monaco-gesturechange",B.Start="-monaco-gesturestart",B.End="-monaco-gesturesend",B.Contextmenu="-monaco-gesturecontextmenu"})(X||(X={}));class R extends P.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(E.nm(document,"touchstart",s=>this.onTouchStart(s),{passive:!1})),this._register(E.nm(document,"touchend",s=>this.onTouchEnd(s))),this._register(E.nm(document,"touchmove",s=>this.onTouchMove(s),{passive:!1}))}static addTarget(s){return R.isTouchDevice()?(R.INSTANCE||(R.INSTANCE=new R),R.INSTANCE.targets.push(s),{dispose:()=>{R.INSTANCE.targets=R.INSTANCE.targets.filter(N=>N!==s)}}):P.JT.None}static ignoreTarget(s){return R.isTouchDevice()?(R.INSTANCE||(R.INSTANCE=new R),R.INSTANCE.ignoreTargets.push(s),{dispose:()=>{R.INSTANCE.ignoreTargets=R.INSTANCE.ignoreTargets.filter(N=>N!==s)}}):P.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(s){let N=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let g=0,D=s.targetTouches.length;g<D;g++){let H=s.targetTouches.item(g);this.activeTouches[H.identifier]={id:H.identifier,initialTarget:H.target,initialTimeStamp:N,initialPageX:H.pageX,initialPageY:H.pageY,rollingTimestamps:[N],rollingPageX:[H.pageX],rollingPageY:[H.pageY]};let r=this.newGestureEvent(X.Start,H.target);r.pageX=H.pageX,r.pageY=H.pageY,this.dispatchEvent(r)}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}onTouchEnd(s){let N=Date.now(),g=Object.keys(this.activeTouches).length;for(let D=0,H=s.changedTouches.length;D<H;D++){let r=s.changedTouches.item(D);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("move of an UNKNOWN touch",r);continue}let T=this.activeTouches[r.identifier],w=Date.now()-T.initialTimeStamp;if(w<R.HOLD_DELAY&&Math.abs(T.initialPageX-O.Gb(T.rollingPageX))<30&&Math.abs(T.initialPageY-O.Gb(T.rollingPageY))<30){let x=this.newGestureEvent(X.Tap,T.initialTarget);x.pageX=O.Gb(T.rollingPageX),x.pageY=O.Gb(T.rollingPageY),this.dispatchEvent(x)}else if(w>=R.HOLD_DELAY&&Math.abs(T.initialPageX-O.Gb(T.rollingPageX))<30&&Math.abs(T.initialPageY-O.Gb(T.rollingPageY))<30){let x=this.newGestureEvent(X.Contextmenu,T.initialTarget);x.pageX=O.Gb(T.rollingPageX),x.pageY=O.Gb(T.rollingPageY),this.dispatchEvent(x)}else if(g===1){let x=O.Gb(T.rollingPageX),f=O.Gb(T.rollingPageY),p=O.Gb(T.rollingTimestamps)-T.rollingTimestamps[0],S=x-T.rollingPageX[0],h=f-T.rollingPageY[0];const L=this.targets.filter(v=>T.initialTarget instanceof Node&&v.contains(T.initialTarget));this.inertia(L,N,Math.abs(S)/p,S>0?1:-1,x,Math.abs(h)/p,h>0?1:-1,f)}this.dispatchEvent(this.newGestureEvent(X.End,T.initialTarget)),delete this.activeTouches[r.identifier]}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}newGestureEvent(s,N){let g=document.createEvent("CustomEvent");return g.initEvent(s,!1,!0),g.initialTarget=N,g.tapCount=0,g}dispatchEvent(s){if(s.type===X.Tap){const N=new Date().getTime();let g=0;N-this._lastSetTapCountTime>R.CLEAR_TAP_COUNT_TIME?g=1:g=2,this._lastSetTapCountTime=N,s.tapCount=g}else(s.type===X.Change||s.type===X.Contextmenu)&&(this._lastSetTapCountTime=0);for(let N=0;N<this.ignoreTargets.length;N++)if(s.initialTarget instanceof Node&&this.ignoreTargets[N].contains(s.initialTarget))return;this.targets.forEach(N=>{s.initialTarget instanceof Node&&N.contains(s.initialTarget)&&(N.dispatchEvent(s),this.dispatched=!0)})}inertia(s,N,g,D,H,r,T,w){this.handle=E.jL(()=>{let x=Date.now(),f=x-N,p=0,S=0,h=!0;g+=R.SCROLL_FRICTION*f,r+=R.SCROLL_FRICTION*f,g>0&&(h=!1,p=D*g*f),r>0&&(h=!1,S=T*r*f);let L=this.newGestureEvent(X.Change);L.translationX=p,L.translationY=S,s.forEach(v=>v.dispatchEvent(L)),h||this.inertia(s,x,g,D,H+p,r,T,w+S)})}onTouchMove(s){let N=Date.now();for(let g=0,D=s.changedTouches.length;g<D;g++){let H=s.changedTouches.item(g);if(!this.activeTouches.hasOwnProperty(String(H.identifier))){console.warn("end of an UNKNOWN touch",H);continue}let r=this.activeTouches[H.identifier],T=this.newGestureEvent(X.Change,r.initialTarget);T.translationX=H.pageX-O.Gb(r.rollingPageX),T.translationY=H.pageY-O.Gb(r.rollingPageY),T.pageX=H.pageX,T.pageY=H.pageY,this.dispatchEvent(T),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(H.pageX),r.rollingPageY.push(H.pageY),r.rollingTimestamps.push(N)}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}}R.SCROLL_FRICTION=-.005,R.HOLD_DELAY=700,R.CLEAR_TAP_COUNT_TIME=400,y([Q.H],R,"isTouchDevice",null)},76033:function(Qt,He,c){"use strict";c.d(He,{Y:function(){return g},g:function(){return D}});var E=c(16268),O=c(23547),Q=c(65321),P=c(10553),y=c(74741),X=c(5976),R=c(1432),B=c(98401),s=c(31285),N=c(63580);class g extends X.JT{constructor(r,T,w={}){super(),this.options=w,this._context=r||this,this._action=T,T instanceof y.aU&&this._register(T.onDidChange(x=>{this.element&&this.handleActionChangeEvent(x)}))}handleActionChangeEvent(r){r.enabled!==void 0&&this.updateEnabled(),r.checked!==void 0&&this.updateChecked(),r.class!==void 0&&this.updateClass(),r.label!==void 0&&(this.updateLabel(),this.updateTooltip()),r.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new y.Wi)),this._actionRunner}set actionRunner(r){this._actionRunner=r}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(r){this._context=r}render(r){const T=this.element=r;this._register(P.o.addTarget(r));const w=this.options&&this.options.draggable;w&&(r.draggable=!0,E.vU&&this._register((0,Q.nm)(r,Q.tw.DRAG_START,x=>{var f;return(f=x.dataTransfer)===null||f===void 0?void 0:f.setData(O.go.TEXT,this._action.label)}))),this._register((0,Q.nm)(T,P.t.Tap,x=>this.onClick(x,!0))),this._register((0,Q.nm)(T,Q.tw.MOUSE_DOWN,x=>{w||Q.zB.stop(x,!0),this._action.enabled&&x.button===0&&T.classList.add("active")})),R.dz&&this._register((0,Q.nm)(T,Q.tw.CONTEXT_MENU,x=>{x.button===0&&x.ctrlKey===!0&&this.onClick(x)})),this._register((0,Q.nm)(T,Q.tw.CLICK,x=>{Q.zB.stop(x,!0),this.options&&this.options.isMenu||this.onClick(x)})),this._register((0,Q.nm)(T,Q.tw.DBLCLICK,x=>{Q.zB.stop(x,!0)})),[Q.tw.MOUSE_UP,Q.tw.MOUSE_OUT].forEach(x=>{this._register((0,Q.nm)(T,x,f=>{Q.zB.stop(f),T.classList.remove("active")}))})}onClick(r,T=!1){var w;Q.zB.stop(r,!0);const x=B.Jp(this._context)?!((w=this.options)===null||w===void 0)&&w.useEventAsContext?r:{preserveFocus:T}:this._context;this.actionRunner.run(this._action,x)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(r){this.element&&(this.element.tabIndex=r?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class D extends g{constructor(r,T,w={}){super(r,T,w),this.options=w,this.options.icon=w.icon!==void 0?w.icon:!1,this.options.label=w.label!==void 0?w.label:!0,this.cssClass=""}render(r){super.render(r),this.element&&(this.label=(0,Q.R3)(this.element,(0,Q.$)("a.action-label"))),this.label&&(this._action.id===y.Z0.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,Q.R3)(this.element,(0,Q.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(r){this.label&&(this.label.tabIndex=r?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let r=null;this.getAction().tooltip?r=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(r=this.getAction().label,this.options.keybinding&&(r=N.N({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",r,this.options.keybinding))),r&&this.label&&(this.label.title=r)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},90317:function(Qt,He,c){"use strict";c.d(He,{o:function(){return N}});var E=c(65321),O=c(59069),Q=c(76033),P=c(74741),y=c(4669),X=c(5976),R=c(98401),B=c(31285),s=function(g,D,H,r){function T(w){return w instanceof H?w:new H(function(x){x(w)})}return new(H||(H=Promise))(function(w,x){function f(h){try{S(r.next(h))}catch(L){x(L)}}function p(h){try{S(r.throw(h))}catch(L){x(L)}}function S(h){h.done?w(h.value):T(h.value).then(f,p)}S((r=r.apply(g,D||[])).next())})};class N extends X.JT{constructor(D,H={}){var r,T,w,x,f,p;super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new y.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new y.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new y.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new y.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=H,this._context=(r=H.context)!==null&&r!==void 0?r:null,this._orientation=(T=this.options.orientation)!==null&&T!==void 0?T:0,this._triggerKeys={keyDown:(x=(w=this.options.triggerKeys)===null||w===void 0?void 0:w.keyDown)!==null&&x!==void 0?x:!1,keys:(p=(f=this.options.triggerKeys)===null||f===void 0?void 0:f.keys)!==null&&p!==void 0?p:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new P.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(L=>this._onDidRun.fire(L))),this._register(this._actionRunner.onBeforeRun(L=>this._onBeforeRun.fire(L))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",H.animated!==!1&&this.domNode.classList.add("animated");let S,h;switch(this._orientation){case 0:S=[15],h=[17];break;case 1:S=[16],h=[18],this.domNode.className+=" vertical";break}this._register(E.nm(this.domNode,E.tw.KEY_DOWN,L=>{const v=new O.y(L);let V=!0;const $=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;S&&(v.equals(S[0])||v.equals(S[1]))?V=this.focusPrevious():h&&(v.equals(h[0])||v.equals(h[1]))?V=this.focusNext():v.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():v.equals(14)?V=this.focusFirst():v.equals(13)?V=this.focusLast():v.equals(2)&&$ instanceof Q.Y&&$.trapsArrowNavigation?V=this.focusNext():this.isTriggerKeyEvent(v)?this._triggerKeys.keyDown?this.doTrigger(v):this.triggerKeyDown=!0:V=!1,V&&(v.preventDefault(),v.stopPropagation())})),this._register(E.nm(this.domNode,E.tw.KEY_UP,L=>{const v=new O.y(L);this.isTriggerKeyEvent(v)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(v)),v.preventDefault(),v.stopPropagation()):(v.equals(2)||v.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(E.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(E.vY()===this.domNode||!E.jg(E.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),D.appendChild(this.domNode)}isTriggerKeyEvent(D){let H=!1;return this._triggerKeys.keys.forEach(r=>{H=H||D.equals(r)}),H}updateFocusedItem(){for(let D=0;D<this.actionsList.children.length;D++){const H=this.actionsList.children[D];if(E.jg(E.vY(),H)){this.focusedItem=D;break}}}get context(){return this._context}set context(D){this._context=D,this.viewItems.forEach(H=>H.setActionContext(D))}get actionRunner(){return this._actionRunner}set actionRunner(D){D&&(this._actionRunner=D,this.viewItems.forEach(H=>H.actionRunner=D))}getContainer(){return this.domNode}push(D,H={}){const r=Array.isArray(D)?D:[D];let T=R.hj(H.index)?H.index:null;r.forEach(w=>{const x=document.createElement("li");x.className="action-item",x.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(E.nm(x,E.tw.CONTEXT_MENU,p=>{E.zB.stop(p,!0)}));let f;this.options.actionViewItemProvider&&(f=this.options.actionViewItemProvider(w)),f||(f=new Q.g(this.context,w,H)),f.actionRunner=this._actionRunner,f.setActionContext(this.context),f.render(x),this.focusable&&f instanceof Q.Y&&this.viewItems.length===0&&f.setFocusable(!0),T===null||T<0||T>=this.actionsList.children.length?(this.actionsList.appendChild(x),this.viewItems.push(f),this._actionIds.push(w.id)):(this.actionsList.insertBefore(x,this.actionsList.children[T]),this.viewItems.splice(T,0,f),this._actionIds.splice(T,0,w.id),T++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){(0,X.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],E.PO(this.actionsList)}length(){return this.viewItems.length}focus(D){let H=!1,r;if(D===void 0?H=!0:typeof D=="number"?r=D:typeof D=="boolean"&&(H=D),H&&typeof this.focusedItem=="undefined"){const T=this.viewItems.findIndex(w=>w.isEnabled());this.focusedItem=T===-1?void 0:T,this.updateFocus()}else r!==void 0&&(this.focusedItem=r),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const D=this.focusedItem;let H;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=D,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,H=this.viewItems[this.focusedItem]}while(this.focusedItem!==D&&this.options.focusOnlyEnabledItems&&!H.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const D=this.focusedItem;let H;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=D,!1;this.focusedItem=this.viewItems.length-1}H=this.viewItems[this.focusedItem]}while(this.focusedItem!==D&&this.options.focusOnlyEnabledItems&&!H.isEnabled());return this.updateFocus(!0),!0}updateFocus(D,H){typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:H});for(let r=0;r<this.viewItems.length;r++){const T=this.viewItems[r],w=T;if(r===this.focusedItem){let x=!0;R.mf(w.focus)||(x=!1),this.options.focusOnlyEnabledItems&&R.mf(T.isEnabled)&&!T.isEnabled()&&(x=!1),x?w.focus(D):this.actionsList.focus({preventScroll:H})}else R.mf(w.blur)&&w.blur()}}doTrigger(D){if(typeof this.focusedItem=="undefined")return;const H=this.viewItems[this.focusedItem];if(H instanceof Q.Y){const r=H._context===null||H._context===void 0?D:H._context;this.run(H._action,r)}}run(D,H){return s(this,void 0,void 0,function*(){yield this._actionRunner.run(D,H)})}dispose(){(0,X.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},35996:function(Qt,He,c){"use strict";c.d(He,{Z9:function(){return N},wW:function(){return s},i7:function(){return g}});var E=c(65321),O=c(1432);const Q=2e4;let P,y,X,R,B;function s(H){P=document.createElement("div"),P.className="monaco-aria-container";const r=()=>{const w=document.createElement("div");return w.className="monaco-alert",w.setAttribute("role","alert"),w.setAttribute("aria-atomic","true"),P.appendChild(w),w};y=r(),X=r();const T=()=>{const w=document.createElement("div");return w.className="monaco-status",w.setAttribute("role","complementary"),w.setAttribute("aria-live","polite"),w.setAttribute("aria-atomic","true"),P.appendChild(w),w};R=T(),B=T(),H.appendChild(P)}function N(H){P&&(y.textContent!==H?(E.PO(X),D(y,H)):(E.PO(y),D(X,H)))}function g(H){P&&(O.dz?N(H):R.textContent!==H?(E.PO(B),D(R,H)):(E.PO(R),D(B,H)))}function D(H,r){E.PO(H),r.length>Q&&(r=r.substr(0,Q)),H.textContent=r,H.style.visibility="hidden",H.style.visibility="visible"}},15375:function(Qt,He,c){"use strict";c.d(He,{a:function(){return O}});var E=c(73046);function O(Q){let P=Q.definition;for(;P instanceof E.lA;)P=P.definition;return`.codicon-${Q.id}:before { content: '${P.fontCharacter}'; }`}},85207:function(Qt,He,c){"use strict";c.d(He,{Z:function(){return X}});var E=c(65321),O=c(41264),Q=c(36248),P=c(97295);const y={badgeBackground:O.Il.fromHex("#4D4D4D"),badgeForeground:O.Il.fromHex("#FFFFFF")};class X{constructor(B,s){this.count=0,this.options=s||Object.create(null),(0,Q.jB)(this.options,y,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,E.R3)(B,(0,E.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(B){this.count=B,this.render()}setTitleFormat(B){this.titleFormat=B,this.render()}render(){this.element.textContent=(0,P.WU)(this.countFormat,this.count),this.element.title=(0,P.WU)(this.titleFormat,this.count),this.applyStyles()}style(B){this.badgeBackground=B.badgeBackground,this.badgeForeground=B.badgeForeground,this.badgeBorder=B.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const B=this.badgeBackground?this.badgeBackground.toString():"",s=this.badgeForeground?this.badgeForeground.toString():"",N=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=B,this.element.style.color=s,this.element.style.borderWidth=N?"1px":"",this.element.style.borderStyle=N?"solid":"",this.element.style.borderColor=N}}}},34650:function(Qt,He,c){"use strict";c.d(He,{q:function(){return P}});var E=c(65321),O=c(56811),Q=c(36248);class P{constructor(X,R){this.supportIcons=R,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",X.appendChild(this.domNode)}get element(){return this.domNode}set(X,R=[],B="",s){X||(X=""),s&&(X=P.escapeNewLines(X,R)),!(this.didEverRender&&this.text===X&&this.title===B&&Q.fS(this.highlights,R))&&(this.text=X,this.title=B,this.highlights=R,this.render())}render(){const X=[];let R=0;for(const B of this.highlights){if(B.end===B.start)continue;if(R<B.start){const g=this.text.substring(R,B.start);X.push(E.$("span",void 0,...this.supportIcons?(0,O.T)(g):[g])),R=B.end}const s=this.text.substring(B.start,B.end),N=E.$("span.highlight",void 0,...this.supportIcons?(0,O.T)(s):[s]);B.extraClasses&&N.classList.add(B.extraClasses),X.push(N),R=B.end}if(R<this.text.length){const B=this.text.substring(R);X.push(E.$("span",void 0,...this.supportIcons?(0,O.T)(B):[B]))}E.mc(this.domNode,...X),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(X,R){let B=0,s=0;return X.replace(/\r\n|\r|\n/g,(N,g)=>{s=N===`\r
`?-1:0,g+=B;for(const D of R)D.end<=g||(D.start>=g&&(D.start+=s),D.end>=g&&(D.end+=s));return B+=s,"\u23CE"})}}},26974:function(Qt,He,c){"use strict";c.d(He,{g:function(){return w}});var E=c(65321),O=c(34650),Q=c(15393),P=c(71050),y=c(59365),X=c(5976),R=c(98401),B=c(63580),s=function(S,h,L,v){function V($){return $ instanceof L?$:new L(function(ee){ee($)})}return new(L||(L=Promise))(function($,ee){function de(xe){try{ve(v.next(xe))}catch(le){ee(le)}}function pe(xe){try{ve(v.throw(xe))}catch(le){ee(le)}}function ve(xe){xe.done?$(xe.value):V(xe.value).then(de,pe)}ve((v=v.apply(S,h||[])).next())})};function N(S,h){(0,R.HD)(h)?S.title=h:h!=null&&h.markdownNotSupportedFallback?S.title=h.markdownNotSupportedFallback:S.removeAttribute("title")}class g{constructor(h,L,v){this.hoverDelegate=h,this.target=L,this.fadeInAnimation=v}update(h,L){var v;return s(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let V;if(h===void 0||(0,R.HD)(h)||h instanceof HTMLElement)V=h;else if(!(0,R.mf)(h.markdown))V=(v=h.markdown)!==null&&v!==void 0?v:h.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,B.N)("iconLabel.loading","Loading..."),L),this._cancellationTokenSource=new P.A;const $=this._cancellationTokenSource.token;if(V=yield h.markdown($),this.isDisposed||$.isCancellationRequested)return}this.show(V,L)})}show(h,L){const v=this._hoverWidget;if(this.hasContent(h)){const V={content:h,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!v};this._hoverWidget=this.hoverDelegate.showHover(V,L)}v==null||v.dispose()}hasContent(h){return h?(0,y.Fr)(h)?!!h.value:!0:!1}get isDisposed(){var h;return(h=this._hoverWidget)===null||h===void 0?void 0:h.isDisposed}dispose(){var h,L;(h=this._hoverWidget)===null||h===void 0||h.dispose(),(L=this._cancellationTokenSource)===null||L===void 0||L.dispose(!0),this._cancellationTokenSource=void 0}}function D(S,h,L){let v,V;const $=(xe,le)=>{var Y;xe&&(V==null||V.dispose(),V=void 0),le&&(v==null||v.dispose(),v=void 0),(Y=S.onDidHideHover)===null||Y===void 0||Y.call(S)},ee=(xe,le,Y)=>new Q._F(()=>s(this,void 0,void 0,function*(){(!V||V.isDisposed)&&(V=new g(S,Y||h,xe>0),yield V.update(L,le))}),xe),de=()=>{if(v)return;const xe=new X.SL,le=G=>$(!1,G.fromElement===h);xe.add(E.nm(h,E.tw.MOUSE_LEAVE,le,!0));const Y=()=>$(!0,!0);xe.add(E.nm(h,E.tw.MOUSE_DOWN,Y,!0));const j={targetElements:[h],dispose:()=>{}};if(S.placement===void 0||S.placement==="mouse"){const G=q=>j.x=q.x+10;xe.add(E.nm(h,E.tw.MOUSE_MOVE,G,!0))}xe.add(ee(S.delay,!1,j)),v=xe},pe=E.nm(h,E.tw.MOUSE_OVER,de,!0);return{show:xe=>{$(!1,!0),ee(0,xe)},hide:()=>{$(!0,!0)},update:xe=>s(this,void 0,void 0,function*(){L=xe,yield V==null?void 0:V.update(L)}),dispose:()=>{pe.dispose(),$(!0,!0)}}}var H=c(36248),r=c(61134);class T{constructor(h){this._element=h}get element(){return this._element}set textContent(h){this.disposed||h===this._textContent||(this._textContent=h,this._element.textContent=h)}set className(h){this.disposed||h===this._className||(this._className=h,this._element.className=h)}set empty(h){this.disposed||h===this._empty||(this._empty=h,this._element.style.marginLeft=h?"0":"")}dispose(){this.disposed=!0}}class w extends X.JT{constructor(h,L){super(),this.customHovers=new Map,this.domNode=this._register(new T(E.R3(h,E.$(".monaco-icon-label")))),this.labelContainer=E.R3(this.domNode.element,E.$(".monaco-icon-label-container"));const v=E.R3(this.labelContainer,E.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new T(E.R3(this.labelContainer,E.$("span.monaco-icon-description-container")))),L!=null&&L.supportHighlights||L!=null&&L.supportIcons?this.nameNode=new p(v,!!L.supportIcons):this.nameNode=new x(v),L!=null&&L.supportDescriptionHighlights?this.descriptionNodeFactory=()=>new O.q(E.R3(this.descriptionContainer.element,E.$("span.label-description")),!!L.supportIcons):this.descriptionNodeFactory=()=>this._register(new T(E.R3(this.descriptionContainer.element,E.$("span.label-description")))),this.hoverDelegate=L==null?void 0:L.hoverDelegate}get element(){return this.domNode.element}setLabel(h,L,v){const V=["monaco-icon-label"];v&&(v.extraClasses&&V.push(...v.extraClasses),v.italic&&V.push("italic"),v.strikethrough&&V.push("strikethrough")),this.domNode.className=V.join(" "),this.setupHover(v!=null&&v.descriptionTitle?this.labelContainer:this.element,v==null?void 0:v.title),this.nameNode.setLabel(h,v),(L||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof O.q?(this.descriptionNode.set(L||"",v?v.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,v==null?void 0:v.descriptionTitle)):(this.descriptionNode.textContent=L||"",this.setupHover(this.descriptionNode.element,(v==null?void 0:v.descriptionTitle)||""),this.descriptionNode.empty=!L))}setupHover(h,L){const v=this.customHovers.get(h);if(v&&(v.dispose(),this.customHovers.delete(h)),!L){h.removeAttribute("title");return}if(!this.hoverDelegate)N(h,L);else{const V=D(this.hoverDelegate,h,L);V&&this.customHovers.set(h,V)}}dispose(){super.dispose();for(const h of this.customHovers.values())h.dispose();this.customHovers.clear()}}class x{constructor(h){this.container=h,this.label=void 0,this.singleLabel=void 0}setLabel(h,L){if(!(this.label===h&&(0,H.fS)(this.options,L)))if(this.label=h,this.options=L,typeof h=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=E.R3(this.container,E.$("a.label-name",{id:L==null?void 0:L.domId}))),this.singleLabel.textContent=h;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let v=0;v<h.length;v++){const V=h[v],$=(L==null?void 0:L.domId)&&`${L==null?void 0:L.domId}_${v}`;E.R3(this.container,E.$("a.label-name",{id:$,"data-icon-label-count":h.length,"data-icon-label-index":v,role:"treeitem"},V)),v<h.length-1&&E.R3(this.container,E.$("span.label-separator",void 0,(L==null?void 0:L.separator)||"/"))}}}}function f(S,h,L){if(!L)return;let v=0;return S.map(V=>{const $={start:v,end:v+V.length},ee=L.map(de=>r.e.intersect($,de)).filter(de=>!r.e.isEmpty(de)).map(({start:de,end:pe})=>({start:de-v,end:pe-v}));return v=$.end+h.length,ee})}class p{constructor(h,L){this.container=h,this.supportIcons=L,this.label=void 0,this.singleLabel=void 0}setLabel(h,L){if(!(this.label===h&&(0,H.fS)(this.options,L)))if(this.label=h,this.options=L,typeof h=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new O.q(E.R3(this.container,E.$("a.label-name",{id:L==null?void 0:L.domId})),this.supportIcons)),this.singleLabel.set(h,L==null?void 0:L.matches,void 0,L==null?void 0:L.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const v=(L==null?void 0:L.separator)||"/",V=f(h,v,L==null?void 0:L.matches);for(let $=0;$<h.length;$++){const ee=h[$],de=V?V[$]:void 0,pe=(L==null?void 0:L.domId)&&`${L==null?void 0:L.domId}_${$}`,ve=E.$("a.label-name",{id:pe,"data-icon-label-count":h.length,"data-icon-label-index":$,role:"treeitem"});new O.q(E.R3(this.container,ve),this.supportIcons).set(ee,de,void 0,L==null?void 0:L.labelEscapeNewLines),$<h.length-1&&E.R3(ve,E.$("span.label-separator",void 0,v))}}}}},56811:function(Qt,He,c){"use strict";c.d(He,{T:function(){return P}});var E=c(65321),O=c(73046);const Q=new RegExp(`(\\\\)?\\$\\((${O.dT.iconNameExpression}(?:${O.dT.iconModifierExpression})?)\\)`,"g");function P(X){const R=new Array;let B,s=0,N=0;for(;(B=Q.exec(X))!==null;){N=B.index||0,R.push(X.substring(s,N)),s=(B.index||0)+B[0].length;const[,g,D]=B;R.push(g?`$(${D})`:y({id:D}))}return s<X.length&&R.push(X.substring(s)),R}function y(X){const R=E.$("span");return R.classList.add(...O.dT.asClassNameArray(X)),R}},97862:function(Qt,He,c){"use strict";c.d(He,{p:function(){return x},W:function(){return w}});var E=c(65321),O=c(4850),Q=c(94079),P=c(90317),y=c(35996),X=c(13433),R=c(93794),B=c(41264),s=c(4669);class N{constructor(p,S=0,h=p.length,L=S-1){this.items=p,this.start=S,this.end=h,this.index=L}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class g{constructor(p=[],S=10){this._initialize(p),this._limit=S,this._onChange()}getHistory(){return this._elements}add(p){this._history.delete(p),this._history.add(p),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(p){return this._history.has(p)}_onChange(){this._reduceToLimit();const p=this._elements;this._navigator=new N(p,0,p.length,p.length)}_reduceToLimit(){const p=this._elements;p.length>this._limit&&this._initialize(p.slice(p.length-this._limit))}_currentPosition(){const p=this._navigator.current();return p?this._elements.indexOf(p):-1}_initialize(p){this._history=new Set;for(const S of p)this._history.add(S)}get _elements(){const p=[];return this._history.forEach(S=>p.push(S)),p}}var D=c(36248),H=c(63580);const r=E.$,T={inputBackground:B.Il.fromHex("#3C3C3C"),inputForeground:B.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:B.Il.fromHex("#55AAFF"),inputValidationInfoBackground:B.Il.fromHex("#063B49"),inputValidationWarningBorder:B.Il.fromHex("#B89500"),inputValidationWarningBackground:B.Il.fromHex("#352A05"),inputValidationErrorBorder:B.Il.fromHex("#BE1100"),inputValidationErrorBackground:B.Il.fromHex("#5A1D1D")};class w extends R.${constructor(p,S,h){var L;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new s.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new s.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=S,this.options=h||Object.create(null),(0,D.jB)(this.options,T,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(L=this.options.tooltip)!==null&&L!==void 0?L:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=E.R3(p,r(".monaco-inputbox.idle"));let v=this.options.flexibleHeight?"textarea":"input",V=E.R3(this.element,r(".ibwrapper"));if(this.input=E.R3(V,r(v+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=E.R3(V,r("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new X.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),E.R3(p,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(de=>this.input.scrollTop=de.scrollTop));const $=this._register(new O.Y(document,"selectionchange")),ee=s.ju.filter($.event,()=>{const de=document.getSelection();return(de==null?void 0:de.anchorNode)===V});this._register(ee(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new P.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(p){this.placeholder=p,this.input.setAttribute("placeholder",p)}setTooltip(p){this.tooltip=p,this.input.title=p}setAriaLabel(p){this.ariaLabel=p,p?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(p){this.input.value!==p&&(this.input.value=p,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:E.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(p=null){this.input.select(),p&&(this.input.setSelectionRange(p.start,p.end),p.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return E.w(this.input)}set width(p){if(this.options.flexibleHeight&&this.options.flexibleWidth){let S=0;if(this.mirror){const h=parseFloat(this.mirror.style.paddingLeft||"")||0,L=parseFloat(this.mirror.style.paddingRight||"")||0;S=h+L}this.input.style.width=p-S+"px"}else this.input.style.width=p+"px";this.mirror&&(this.mirror.style.width=p+"px")}set paddingRight(p){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${p}px)`:this.input.style.paddingRight=p+"px",this.mirror&&(this.mirror.style.paddingRight=p+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const p=this.cachedContentHeight,S=this.cachedHeight,h=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:p,height:S}),this.scrollableElement.setScrollPosition({scrollTop:h})}showMessage(p,S){this.message=p,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(p.type));const h=this.stylesForType(this.message.type);this.element.style.border=h.border?`1px solid ${h.border}`:"",(this.hasFocus()||S)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let p=null;return this.validation&&(p=this.validation(this.value),p?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(p)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),p==null?void 0:p.type}stylesForType(p){switch(p){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(p){switch(p){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let p,S=()=>p.style.width=E.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:L=>{if(!this.message)return null;p=E.R3(L,r(".monaco-inputbox-container")),S();const v={inline:!0,className:"monaco-inputbox-message"},V=this.message.formatContent?(0,Q.BO)(this.message.content,v):(0,Q.IY)(this.message.content,v);V.classList.add(this.classForType(this.message.type));const $=this.stylesForType(this.message.type);return V.style.backgroundColor=$.background?$.background.toString():"",V.style.color=$.foreground?$.foreground.toString():"",V.style.border=$.border?`1px solid ${$.border}`:"",E.R3(p,V),null},onHide:()=>{this.state="closed"},layout:S});let h;this.message.type===3?h=H.N("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?h=H.N("alertWarningMessage","Warning: {0}",this.message.content):h=H.N("alertInfoMessage","Info: {0}",this.message.content),y.Z9(h),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const p=this.value,h=p.charCodeAt(p.length-1)===10?" ":"";(p+h).replace(/\u000c/g,"")?this.mirror.textContent=p+h:this.mirror.innerText="\xA0",this.layout()}style(p){this.inputBackground=p.inputBackground,this.inputForeground=p.inputForeground,this.inputBorder=p.inputBorder,this.inputValidationInfoBackground=p.inputValidationInfoBackground,this.inputValidationInfoForeground=p.inputValidationInfoForeground,this.inputValidationInfoBorder=p.inputValidationInfoBorder,this.inputValidationWarningBackground=p.inputValidationWarningBackground,this.inputValidationWarningForeground=p.inputValidationWarningForeground,this.inputValidationWarningBorder=p.inputValidationWarningBorder,this.inputValidationErrorBackground=p.inputValidationErrorBackground,this.inputValidationErrorForeground=p.inputValidationErrorForeground,this.inputValidationErrorBorder=p.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const p=this.inputBackground?this.inputBackground.toString():"",S=this.inputForeground?this.inputForeground.toString():"",h=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=p,this.element.style.color=S,this.input.style.backgroundColor="inherit",this.input.style.color=S,this.element.style.borderWidth=h?"1px":"",this.element.style.borderStyle=h?"solid":"",this.element.style.borderColor=h}layout(){if(!this.mirror)return;const p=this.cachedContentHeight;this.cachedContentHeight=E.wn(this.mirror),p!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(p){const S=this.inputElement,h=S.selectionStart,L=S.selectionEnd,v=S.value;h!==null&&L!==null&&(this.value=v.substr(0,h)+p+v.substr(L),S.setSelectionRange(h+1,h+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class x extends w{constructor(p,S,h){const L=H.N({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),v=` or \u21C5 ${L}`,V=` (\u21C5 ${L})`;super(p,S,h),this.history=new g(h.history,100);const $=()=>{if(h.showHistoryHint&&h.showHistoryHint()&&!this.placeholder.endsWith(v)&&!this.placeholder.endsWith(V)&&this.history.getHistory().length){const ee=this.placeholder.endsWith(")")?v:V,de=this.placeholder+ee;h.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=de:this.setPlaceHolder(de)}};this.observer=new MutationObserver((ee,de)=>{ee.forEach(pe=>{pe.target.textContent||$()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>$()),this.onblur(this.input,()=>{const ee=de=>{if(this.placeholder.endsWith(de)){const pe=this.placeholder.slice(0,this.placeholder.length-de.length);return h.showPlaceholderOnFocus?this.placeholder=pe:this.setPlaceHolder(pe),!0}else return!1};ee(V)||ee(v)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let p=this.getNextValue();p&&(p=p===this.value?this.getNextValue():p),p&&(this.value=p,y.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let p=this.getPreviousValue();p&&(p=p===this.value?this.getPreviousValue():p),p&&(this.value=p,y.i7(this.value))}getCurrentValue(){let p=this.history.current();return p||(p=this.history.last(),this.history.next()),p}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},72010:function(Qt,He,c){"use strict";c.d(He,{kX:function(){return V},Bv:function(){return ve}});var E=c(16268),O=c(23547),Q=c(65321),P=c(4850),y=c(10553),X=c(13433),R=c(9488),B=c(15393),s=c(49898),N=c(4669),g=c(5976),D=c(36248),H=c(61134),r=c(76633);function T(xe,le){const Y=[];for(let j of le){if(xe.start>=j.range.end)continue;if(xe.end<j.range.start)break;const G=H.e.intersect(xe,j.range);H.e.isEmpty(G)||Y.push({range:G,size:j.size})}return Y}function w({start:xe,end:le},Y){return{start:xe+Y,end:le+Y}}function x(xe){const le=[];let Y=null;for(let j of xe){const G=j.range.start,q=j.range.end,m=j.size;if(Y&&m===Y.size){Y.range.end=q;continue}Y={range:{start:G,end:q},size:m},le.push(Y)}return le}function f(...xe){return x(xe.reduce((le,Y)=>le.concat(Y),[]))}class p{constructor(){this.groups=[],this._size=0}splice(le,Y,j=[]){const G=j.length-Y,q=T({start:0,end:le},this.groups),m=T({start:le+Y,end:Number.POSITIVE_INFINITY},this.groups).map(F=>({range:w(F.range,G),size:F.size})),b=j.map((F,te)=>({range:{start:le+te,end:le+te+1},size:F.size}));this.groups=f(q,b,m),this._size=this.groups.reduce((F,te)=>F+te.size*(te.range.end-te.range.start),0)}get count(){const le=this.groups.length;return le?this.groups[le-1].range.end:0}get size(){return this._size}indexAt(le){if(le<0)return-1;let Y=0,j=0;for(let G of this.groups){const q=G.range.end-G.range.start,m=j+q*G.size;if(le<m)return Y+Math.floor((le-j)/G.size);Y+=q,j=m}return Y}indexAfter(le){return Math.min(this.indexAt(le)+1,this.count)}positionAt(le){if(le<0)return-1;let Y=0,j=0;for(let G of this.groups){const q=G.range.end-G.range.start,m=j+q;if(le<m)return Y+(le-j)*G.size;Y+=q*G.size,j=m}return-1}}function S(xe){try{xe.parentElement&&xe.parentElement.removeChild(xe)}catch(le){}}class h{constructor(le){this.renderers=le,this.cache=new Map}alloc(le){let Y=this.getTemplateCache(le).pop();if(!Y){const j=(0,Q.$)(".monaco-list-row"),q=this.getRenderer(le).renderTemplate(j);Y={domNode:j,templateId:le,templateData:q}}return Y}release(le){le&&this.releaseRow(le)}releaseRow(le){const{domNode:Y,templateId:j}=le;Y&&(Y.classList.remove("scrolling"),S(Y)),this.getTemplateCache(j).push(le)}getTemplateCache(le){let Y=this.cache.get(le);return Y||(Y=[],this.cache.set(le,Y)),Y}dispose(){this.cache.forEach((le,Y)=>{for(const j of le)this.getRenderer(Y).disposeTemplate(j.templateData),j.templateData=null}),this.cache.clear()}getRenderer(le){const Y=this.renderers.get(le);if(!Y)throw new Error(`No renderer found for ${le}`);return Y}}var L=function(xe,le,Y,j){var G=arguments.length,q=G<3?le:j===null?j=Object.getOwnPropertyDescriptor(le,Y):j,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(xe,le,Y,j);else for(var b=xe.length-1;b>=0;b--)(m=xe[b])&&(q=(G<3?m(q):G>3?m(le,Y,q):m(le,Y))||q);return G>3&&q&&Object.defineProperty(le,Y,q),q};const v={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(xe){return[xe]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class V{constructor(le){this.elements=le}update(){}getData(){return this.elements}}class ${constructor(le){this.elements=le}update(){}getData(){return this.elements}}class ee{constructor(){this.types=[],this.files=[]}update(le){if(le.types&&this.types.splice(0,this.types.length,...le.types),le.files){this.files.splice(0,this.files.length);for(let Y=0;Y<le.files.length;Y++){const j=le.files.item(Y);j&&(j.size||j.type)&&this.files.push(j)}}}getData(){return{types:this.types,files:this.files}}}function de(xe,le){return Array.isArray(xe)&&Array.isArray(le)?(0,R.fS)(xe,le):xe===le}class pe{constructor(le){le!=null&&le.getSetSize?this.getSetSize=le.getSetSize.bind(le):this.getSetSize=(Y,j,G)=>G,le!=null&&le.getPosInSet?this.getPosInSet=le.getPosInSet.bind(le):this.getPosInSet=(Y,j)=>j+1,le!=null&&le.getRole?this.getRole=le.getRole.bind(le):this.getRole=Y=>"listitem",le!=null&&le.isChecked?this.isChecked=le.isChecked.bind(le):this.isChecked=Y=>{}}}class ve{constructor(le,Y,j,G=v){if(this.virtualDelegate=Y,this.domId=`list_id_${++ve.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new B.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=g.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=g.JT.None,this.onDragLeaveTimeout=g.JT.None,this.disposables=new g.SL,this._onDidChangeContentHeight=new N.Q5,this._horizontalScrolling=!1,G.horizontalScrolling&&G.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new p;for(const m of j)this.renderers.set(m.templateId,m);this.cache=this.disposables.add(new h(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof G.mouseSupport=="boolean"?G.mouseSupport:!0),this._horizontalScrolling=(0,D.CJ)(G,m=>m.horizontalScrolling,v.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof G.additionalScrollHeight=="undefined"?0:G.additionalScrollHeight,this.accessibilityProvider=new pe(G.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,D.CJ)(G,m=>m.transformOptimization,v.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(y.o.addTarget(this.rowsContainer)),this.scrollable=new r.Rm((0,D.CJ)(G,m=>m.smoothScrolling,!1)?125:0,m=>(0,Q.jL)(m)),this.scrollableElement=this.disposables.add(new X.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(0,D.CJ)(G,m=>m.alwaysConsumeMouseWheel,v.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,D.CJ)(G,m=>m.verticalScrollMode,v.verticalScrollMode),useShadows:(0,D.CJ)(G,m=>m.useShadows,v.useShadows),mouseWheelScrollSensitivity:G.mouseWheelScrollSensitivity,fastScrollSensitivity:G.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),le.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,Q.nm)(this.rowsContainer,y.t.Change,m=>this.onTouchChange(m))),this.disposables.add((0,Q.nm)(this.scrollableElement.getDomNode(),"scroll",m=>m.target.scrollTop=0)),this.disposables.add((0,Q.nm)(this.domNode,"dragover",m=>this.onDragOver(this.toDragEvent(m)))),this.disposables.add((0,Q.nm)(this.domNode,"drop",m=>this.onDrop(this.toDragEvent(m)))),this.disposables.add((0,Q.nm)(this.domNode,"dragleave",m=>this.onDragLeave(this.toDragEvent(m)))),this.disposables.add((0,Q.nm)(this.domNode,"dragend",m=>this.onDragEnd(m))),this.setRowLineHeight=(0,D.CJ)(G,m=>m.setRowLineHeight,v.setRowLineHeight),this.setRowHeight=(0,D.CJ)(G,m=>m.setRowHeight,v.setRowHeight),this.supportDynamicHeights=(0,D.CJ)(G,m=>m.supportDynamicHeights,v.supportDynamicHeights),this.dnd=(0,D.CJ)(G,m=>m.dnd,v.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(le){if(le!==this._horizontalScrolling){if(le&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=le,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const Y of this.items)this.measureItemWidth(Y);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,Q.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(le){le.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=le.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),le.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(le.smoothScrolling?125:0),le.horizontalScrolling!==void 0&&(this.horizontalScrolling=le.horizontalScrolling),le.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:le.mouseWheelScrollSensitivity}),le.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:le.fastScrollSensitivity})}splice(le,Y,j=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(le,Y,j)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(le,Y,j=[]){const G=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),q={start:le,end:le+Y},m=H.e.intersect(G,q),b=new Map;for(let Ie=m.start;Ie<m.end;Ie++){const nt=this.items[Ie];if(nt.dragStartDisposable.dispose(),nt.row){let at=b.get(nt.templateId);at||(at=[],b.set(nt.templateId,at));const ot=this.renderers.get(nt.templateId);ot&&ot.disposeElement&&ot.disposeElement(nt.element,Ie,nt.row.templateData,nt.size),at.push(nt.row)}nt.row=null}const F={start:le+Y,end:this.items.length},te=H.e.intersect(F,G),me=H.e.relativeComplement(F,G),ue=j.map(Ie=>({id:String(this.itemId++),element:Ie,templateId:this.virtualDelegate.getTemplateId(Ie),size:this.virtualDelegate.getHeight(Ie),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Ie),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:g.JT.None}));let Oe;le===0&&Y>=this.items.length?(this.rangeMap=new p,this.rangeMap.splice(0,0,ue),Oe=this.items,this.items=ue):(this.rangeMap.splice(le,Y,ue),Oe=this.items.splice(le,Y,...ue));const Re=j.length-Y,et=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),Dt=w(te,Re),ht=H.e.intersect(et,Dt);for(let Ie=ht.start;Ie<ht.end;Ie++)this.updateItemInDOM(this.items[Ie],Ie);const Mt=H.e.relativeComplement(Dt,et);for(const Ie of Mt)for(let nt=Ie.start;nt<Ie.end;nt++)this.removeItemFromDOM(nt);const Je=me.map(Ie=>w(Ie,Re)),ke=[{start:le,end:le+j.length},...Je].map(Ie=>H.e.intersect(et,Ie)),fe=this.getNextToLastElement(ke);for(const Ie of ke)for(let nt=Ie.start;nt<Ie.end;nt++){const at=this.items[nt],ot=b.get(at.templateId),Ne=ot==null?void 0:ot.pop();this.insertItemInDOM(nt,fe,Ne)}for(const Ie of b.values())for(const nt of Ie)this.cache.release(nt);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),Oe.map(Ie=>Ie.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,Q.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let le=0;for(const Y of this.items)typeof Y.width!="undefined"&&(le=Math.max(le,Y.width));this.scrollWidth=le,this.scrollableElement.setScrollDimensions({scrollWidth:le===0?0:le+10})}rerender(){if(this.supportDynamicHeights){for(const le of this.items)le.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(le){return this.items[le].element}domElement(le){const Y=this.items[le].row;return Y&&Y.domNode}elementHeight(le){return this.items[le].size}elementTop(le){return this.rangeMap.positionAt(le)}indexAt(le){return this.rangeMap.indexAt(le)}indexAfter(le){return this.rangeMap.indexAfter(le)}layout(le,Y){let j={height:typeof le=="number"?le:(0,Q.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,j.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(j),typeof Y!="undefined"&&(this.renderWidth=Y,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof Y=="number"?Y:(0,Q.FK)(this.domNode)})}render(le,Y,j,G,q,m=!1){const b=this.getRenderRange(Y,j),F=H.e.relativeComplement(b,le),te=H.e.relativeComplement(le,b),me=this.getNextToLastElement(F);if(m){const ue=H.e.intersect(le,b);for(let Oe=ue.start;Oe<ue.end;Oe++)this.updateItemInDOM(this.items[Oe],Oe)}for(const ue of F)for(let Oe=ue.start;Oe<ue.end;Oe++)this.insertItemInDOM(Oe,me);for(const ue of te)for(let Oe=ue.start;Oe<ue.end;Oe++)this.removeItemFromDOM(Oe);G!==void 0&&(this.rowsContainer.style.left=`-${G}px`),this.rowsContainer.style.top=`-${Y}px`,this.horizontalScrolling&&q!==void 0&&(this.rowsContainer.style.width=`${Math.max(q,this.renderWidth)}px`),this.lastRenderTop=Y,this.lastRenderHeight=j}insertItemInDOM(le,Y,j){const G=this.items[le];G.row||(G.row=j!=null?j:this.cache.alloc(G.templateId));const q=this.accessibilityProvider.getRole(G.element)||"listitem";G.row.domNode.setAttribute("role",q);const m=this.accessibilityProvider.isChecked(G.element);typeof m!="undefined"&&G.row.domNode.setAttribute("aria-checked",String(!!m)),G.row.domNode.parentElement||(Y?this.rowsContainer.insertBefore(G.row.domNode,Y):this.rowsContainer.appendChild(G.row.domNode)),this.updateItemInDOM(G,le);const b=this.renderers.get(G.templateId);if(!b)throw new Error(`No renderer found for template id ${G.templateId}`);b&&b.renderElement(G.element,le,G.row.templateData,G.size);const F=this.dnd.getDragURI(G.element);G.dragStartDisposable.dispose(),G.row.domNode.draggable=!!F,F&&(G.dragStartDisposable=(0,Q.nm)(G.row.domNode,"dragstart",te=>this.onDragStart(G.element,F,te))),this.horizontalScrolling&&(this.measureItemWidth(G),this.eventuallyUpdateScrollWidth())}measureItemWidth(le){if(!le.row||!le.row.domNode)return;le.row.domNode.style.width=E.vU?"-moz-fit-content":"fit-content",le.width=(0,Q.FK)(le.row.domNode);const Y=window.getComputedStyle(le.row.domNode);Y.paddingLeft&&(le.width+=parseFloat(Y.paddingLeft)),Y.paddingRight&&(le.width+=parseFloat(Y.paddingRight)),le.row.domNode.style.width=""}updateItemInDOM(le,Y){le.row.domNode.style.top=`${this.elementTop(Y)}px`,this.setRowHeight&&(le.row.domNode.style.height=`${le.size}px`),this.setRowLineHeight&&(le.row.domNode.style.lineHeight=`${le.size}px`),le.row.domNode.setAttribute("data-index",`${Y}`),le.row.domNode.setAttribute("data-last-element",Y===this.length-1?"true":"false"),le.row.domNode.setAttribute("data-parity",Y%2===0?"even":"odd"),le.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(le.element,Y,this.length))),le.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(le.element,Y))),le.row.domNode.setAttribute("id",this.getElementDomId(Y)),le.row.domNode.classList.toggle("drop-target",le.dropTarget)}removeItemFromDOM(le){const Y=this.items[le];if(Y.dragStartDisposable.dispose(),Y.row){const j=this.renderers.get(Y.templateId);j&&j.disposeElement&&j.disposeElement(Y.element,le,Y.row.templateData,Y.size),this.cache.release(Y.row),Y.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(le,Y){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:le,reuseAnimation:Y})}get scrollTop(){return this.getScrollTop()}set scrollTop(le){this.setScrollTop(le)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return N.ju.map(this.disposables.add(new P.Y(this.domNode,"click")).event,le=>this.toMouseEvent(le))}get onMouseDblClick(){return N.ju.map(this.disposables.add(new P.Y(this.domNode,"dblclick")).event,le=>this.toMouseEvent(le))}get onMouseMiddleClick(){return N.ju.filter(N.ju.map(this.disposables.add(new P.Y(this.domNode,"auxclick")).event,le=>this.toMouseEvent(le)),le=>le.browserEvent.button===1)}get onMouseDown(){return N.ju.map(this.disposables.add(new P.Y(this.domNode,"mousedown")).event,le=>this.toMouseEvent(le))}get onContextMenu(){return N.ju.any(N.ju.map(this.disposables.add(new P.Y(this.domNode,"contextmenu")).event,le=>this.toMouseEvent(le)),N.ju.map(this.disposables.add(new P.Y(this.domNode,y.t.Contextmenu)).event,le=>this.toGestureEvent(le)))}get onTouchStart(){return N.ju.map(this.disposables.add(new P.Y(this.domNode,"touchstart")).event,le=>this.toTouchEvent(le))}get onTap(){return N.ju.map(this.disposables.add(new P.Y(this.rowsContainer,y.t.Tap)).event,le=>this.toGestureEvent(le))}toMouseEvent(le){const Y=this.getItemIndexFromEventTarget(le.target||null),j=typeof Y=="undefined"?void 0:this.items[Y],G=j&&j.element;return{browserEvent:le,index:Y,element:G}}toTouchEvent(le){const Y=this.getItemIndexFromEventTarget(le.target||null),j=typeof Y=="undefined"?void 0:this.items[Y],G=j&&j.element;return{browserEvent:le,index:Y,element:G}}toGestureEvent(le){const Y=this.getItemIndexFromEventTarget(le.initialTarget||null),j=typeof Y=="undefined"?void 0:this.items[Y],G=j&&j.element;return{browserEvent:le,index:Y,element:G}}toDragEvent(le){const Y=this.getItemIndexFromEventTarget(le.target||null),j=typeof Y=="undefined"?void 0:this.items[Y],G=j&&j.element;return{browserEvent:le,index:Y,element:G}}onScroll(le){try{const Y=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(Y,le.scrollTop,le.height,le.scrollLeft,le.scrollWidth),this.supportDynamicHeights&&this._rerender(le.scrollTop,le.height,le.inSmoothScrolling)}catch(Y){throw console.error("Got bad scroll event:",le),Y}}onTouchChange(le){le.preventDefault(),le.stopPropagation(),this.scrollTop-=le.translationY}onDragStart(le,Y,j){if(!j.dataTransfer)return;const G=this.dnd.getDragElements(le);if(j.dataTransfer.effectAllowed="copyMove",j.dataTransfer.setData(O.go.TEXT,Y),j.dataTransfer.setDragImage){let q;this.dnd.getDragLabel&&(q=this.dnd.getDragLabel(G,j)),typeof q=="undefined"&&(q=String(G.length));const m=(0,Q.$)(".monaco-drag-image");m.textContent=q,document.body.appendChild(m),j.dataTransfer.setDragImage(m,-10,-10),setTimeout(()=>document.body.removeChild(m),0)}this.currentDragData=new V(G),O.P$.CurrentDragAndDropData=new $(G),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,j)}onDragOver(le){if(le.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),O.P$.CurrentDragAndDropData&&O.P$.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(le.browserEvent),!le.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(O.P$.CurrentDragAndDropData)this.currentDragData=O.P$.CurrentDragAndDropData;else{if(!le.browserEvent.dataTransfer.types)return!1;this.currentDragData=new ee}const Y=this.dnd.onDragOver(this.currentDragData,le.element,le.index,le.browserEvent);if(this.canDrop=typeof Y=="boolean"?Y:Y.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;le.browserEvent.dataTransfer.dropEffect=typeof Y!="boolean"&&Y.effect===0?"copy":"move";let j;if(typeof Y!="boolean"&&Y.feedback?j=Y.feedback:typeof le.index=="undefined"?j=[-1]:j=[le.index],j=(0,R.EB)(j).filter(G=>G>=-1&&G<this.length).sort((G,q)=>G-q),j=j[0]===-1?[-1]:j,de(this.currentDragFeedback,j))return!0;if(this.currentDragFeedback=j,this.currentDragFeedbackDisposable.dispose(),j[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,g.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const G of j){const q=this.items[G];q.dropTarget=!0,q.row&&q.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,g.OF)(()=>{for(const G of j){const q=this.items[G];q.dropTarget=!1,q.row&&q.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(le){var Y,j;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,B.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((j=(Y=this.dnd).onDragLeave)===null||j===void 0||j.call(Y,this.currentDragData,le.element,le.index,le.browserEvent))}onDrop(le){if(!this.canDrop)return;const Y=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,O.P$.CurrentDragAndDropData=void 0,!(!Y||!le.browserEvent.dataTransfer)&&(le.browserEvent.preventDefault(),Y.update(le.browserEvent.dataTransfer),this.dnd.drop(Y,le.element,le.index,le.browserEvent))}onDragEnd(le){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,O.P$.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(le)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=g.JT.None}setupDragAndDropScrollTopAnimation(le){if(!this.dragOverAnimationDisposable){const Y=(0,Q.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,Q.jt)(this.animateDragAndDropScrollTop.bind(this,Y))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,B.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=le.pageY}animateDragAndDropScrollTop(le){if(this.dragOverMouseY===void 0)return;const Y=this.dragOverMouseY-le,j=this.renderHeight-35;Y<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(Y-35))):Y>j&&(this.scrollTop+=Math.min(14,Math.floor(.3*(Y-j))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(le){const Y=this.scrollableElement.getDomNode();let j=le;for(;j instanceof HTMLElement&&j!==this.rowsContainer&&Y.contains(j);){const G=j.getAttribute("data-index");if(G){const q=Number(G);if(!isNaN(q))return q}j=j.parentElement}}getRenderRange(le,Y){return{start:this.rangeMap.indexAt(le),end:this.rangeMap.indexAfter(le+Y-1)}}_rerender(le,Y,j){const G=this.getRenderRange(le,Y);let q,m;le===this.elementTop(G.start)?(q=G.start,m=0):G.end-G.start>1&&(q=G.start+1,m=this.elementTop(q)-le);let b=0;for(;;){const F=this.getRenderRange(le,Y);let te=!1;for(let me=F.start;me<F.end;me++){const ue=this.probeDynamicHeight(me);ue!==0&&this.rangeMap.splice(me,1,[this.items[me]]),b+=ue,te=te||ue!==0}if(!te){b!==0&&this.eventuallyUpdateScrollDimensions();const me=H.e.relativeComplement(G,F);for(const Oe of me)for(let Re=Oe.start;Re<Oe.end;Re++)this.items[Re].row&&this.removeItemFromDOM(Re);const ue=H.e.relativeComplement(F,G);for(const Oe of ue)for(let Re=Oe.start;Re<Oe.end;Re++){const et=Re+1,Dt=et<this.items.length?this.items[et].row:null,ht=Dt?Dt.domNode:null;this.insertItemInDOM(Re,ht)}for(let Oe=F.start;Oe<F.end;Oe++)this.items[Oe].row&&this.updateItemInDOM(this.items[Oe],Oe);if(typeof q=="number"){const Oe=this.scrollable.getFutureScrollPosition().scrollTop-le,Re=this.elementTop(q)-m+Oe;this.setScrollTop(Re,j)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(le){const Y=this.items[le];if(this.virtualDelegate.getDynamicHeight){const m=this.virtualDelegate.getDynamicHeight(Y.element);if(m!==null){const b=Y.size;return Y.size=m,Y.lastDynamicHeightWidth=this.renderWidth,m-b}}if(!Y.hasDynamicHeight||Y.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(Y.element))return 0;const j=Y.size;if(!this.setRowHeight&&Y.row){let m=Y.row.domNode.offsetHeight;return Y.size=m,Y.lastDynamicHeightWidth=this.renderWidth,m-j}const G=this.cache.alloc(Y.templateId);G.domNode.style.height="",this.rowsContainer.appendChild(G.domNode);const q=this.renderers.get(Y.templateId);return q&&(q.renderElement(Y.element,le,G.templateData,void 0),q.disposeElement&&q.disposeElement(Y.element,le,G.templateData,void 0)),Y.size=G.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(Y.element,Y.size),Y.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(G.domNode),this.cache.release(G),Y.size-j}getNextToLastElement(le){const Y=le[le.length-1];if(!Y)return null;const j=this.items[Y.end];return!j||!j.row?null:j.row.domNode}getElementDomId(le){return`${this.domId}_${le}`}dispose(){if(this.items){for(const le of this.items)if(le.row){const Y=this.renderers.get(le.row.templateId);Y&&(Y.disposeElement&&Y.disposeElement(le.element,-1,le.row.templateData,void 0),Y.disposeTemplate(le.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,g.B9)(this.disposables)}}ve.InstanceCount=0,L([s.H],ve.prototype,"onMouseClick",null),L([s.H],ve.prototype,"onMouseDblClick",null),L([s.H],ve.prototype,"onMouseMiddleClick",null),L([s.H],ve.prototype,"onMouseDown",null),L([s.H],ve.prototype,"onContextMenu",null),L([s.H],ve.prototype,"onTouchStart",null),L([s.H],ve.prototype,"onTap",null)},69047:function(Qt,He,c){"use strict";c.d(He,{WK:function(){return le},wD:function(){return te},aV:function(){return tt},sx:function(){return F},cK:function(){return de},hD:function(){return pe},wn:function(){return q},Zo:function(){return G}});var E=c(65321),O=c(4850),Q=c(59069),P=c(10553),y=c(35996);class X{constructor(fe){this.spliceables=fe}splice(fe,Ie,nt){this.spliceables.forEach(at=>at.splice(fe,Ie,nt))}}var R=c(9488),B=c(15393),s=c(41264),N=c(49898),g=c(4669),D=c(75392),H=c(5976),r=c(59870),T=c(36248),w=c(1432),x=c(98401),f=c(5520);class p extends Error{constructor(fe,Ie){super(`ListError [${fe}] ${Ie}`)}}var S=c(72010),h=function(ke,fe,Ie,nt){var at=arguments.length,ot=at<3?fe:nt===null?nt=Object.getOwnPropertyDescriptor(fe,Ie):nt,Ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ot=Reflect.decorate(ke,fe,Ie,nt);else for(var Pe=ke.length-1;Pe>=0;Pe--)(Ne=ke[Pe])&&(ot=(at<3?Ne(ot):at>3?Ne(fe,Ie,ot):Ne(fe,Ie))||ot);return at>3&&ot&&Object.defineProperty(fe,Ie,ot),ot},L=function(ke,fe,Ie,nt){function at(ot){return ot instanceof Ie?ot:new Ie(function(Ne){Ne(ot)})}return new(Ie||(Ie=Promise))(function(ot,Ne){function Pe(it){try{Ze(nt.next(it))}catch(Ft){Ne(Ft)}}function ye(it){try{Ze(nt.throw(it))}catch(Ft){Ne(Ft)}}function Ze(it){it.done?ot(it.value):at(it.value).then(Pe,ye)}Ze((nt=nt.apply(ke,fe||[])).next())})};class v{constructor(fe){this.trait=fe,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(fe){return fe}renderElement(fe,Ie,nt){const at=this.renderedElements.findIndex(ot=>ot.templateData===nt);if(at>=0){const ot=this.renderedElements[at];this.trait.unrender(nt),ot.index=Ie}else{const ot={index:Ie,templateData:nt};this.renderedElements.push(ot)}this.trait.renderIndex(Ie,nt)}splice(fe,Ie,nt){const at=[];for(const ot of this.renderedElements)ot.index<fe?at.push(ot):ot.index>=fe+Ie&&at.push({index:ot.index+nt-Ie,templateData:ot.templateData});this.renderedElements=at}renderIndexes(fe){for(const{index:Ie,templateData:nt}of this.renderedElements)fe.indexOf(Ie)>-1&&this.trait.renderIndex(Ie,nt)}disposeTemplate(fe){const Ie=this.renderedElements.findIndex(nt=>nt.templateData===fe);Ie<0||this.renderedElements.splice(Ie,1)}}class V{constructor(fe){this._trait=fe,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new g.Q5,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new v(this)}splice(fe,Ie,nt){var at;Ie=Math.max(0,Math.min(Ie,this.length-fe));const ot=nt.length-Ie,Ne=fe+Ie,Pe=[...this.sortedIndexes.filter(Ze=>Ze<fe),...nt.map((Ze,it)=>Ze?it+fe:-1).filter(Ze=>Ze!==-1),...this.sortedIndexes.filter(Ze=>Ze>=Ne).map(Ze=>Ze+ot)],ye=this.length+ot;if(this.sortedIndexes.length>0&&Pe.length===0&&ye>0){const Ze=(at=this.sortedIndexes.find(it=>it>=fe))!==null&&at!==void 0?at:ye-1;Pe.push(Math.min(Ze,ye-1))}this.renderer.splice(fe,Ie,nt.length),this._set(Pe,Pe),this.length=ye}renderIndex(fe,Ie){Ie.classList.toggle(this._trait,this.contains(fe))}unrender(fe){fe.classList.remove(this._trait)}set(fe,Ie){return this._set(fe,[...fe].sort(Dt),Ie)}_set(fe,Ie,nt){const at=this.indexes,ot=this.sortedIndexes;this.indexes=fe,this.sortedIndexes=Ie;const Ne=Re(ot,fe);return this.renderer.renderIndexes(Ne),this._onChange.fire({indexes:fe,browserEvent:nt}),at}get(){return this.indexes}contains(fe){return(0,R.ry)(this.sortedIndexes,fe,Dt)>=0}dispose(){(0,H.B9)(this._onChange)}}h([N.H],V.prototype,"renderer",null);class $ extends V{constructor(fe){super("selected"),this.setAriaSelected=fe}renderIndex(fe,Ie){super.renderIndex(fe,Ie),this.setAriaSelected&&(this.contains(fe)?Ie.setAttribute("aria-selected","true"):Ie.setAttribute("aria-selected","false"))}}class ee{constructor(fe,Ie,nt){this.trait=fe,this.view=Ie,this.identityProvider=nt}splice(fe,Ie,nt){if(!this.identityProvider)return this.trait.splice(fe,Ie,nt.map(()=>!1));const at=this.trait.get().map(Ne=>this.identityProvider.getId(this.view.element(Ne)).toString()),ot=nt.map(Ne=>at.indexOf(this.identityProvider.getId(Ne).toString())>-1);this.trait.splice(fe,Ie,ot)}}function de(ke){return ke.tagName==="INPUT"||ke.tagName==="TEXTAREA"}function pe(ke){return ke.classList.contains("monaco-editor")?!0:ke.classList.contains("monaco-list")||!ke.parentElement?!1:pe(ke.parentElement)}class ve{constructor(fe,Ie,nt){this.list=fe,this.view=Ie,this.disposables=new H.SL,this.multipleSelectionDisposables=new H.SL,this.onKeyDown.filter(at=>at.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(at=>at.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(at=>at.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(at=>at.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(at=>at.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(at=>at.keyCode===9).on(this.onEscape,this,this.disposables),nt.multipleSelectionSupport!==!1&&this.onKeyDown.filter(at=>(w.dz?at.metaKey:at.ctrlKey)&&at.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return g.ju.chain(this.disposables.add(new O.Y(this.view.domNode,"keydown")).event).filter(fe=>!de(fe.target)).map(fe=>new Q.y(fe))}updateOptions(fe){fe.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),fe.multipleSelectionSupport&&this.onKeyDown.filter(Ie=>(w.dz?Ie.metaKey:Ie.ctrlKey)&&Ie.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(fe){fe.preventDefault(),fe.stopPropagation(),this.list.setSelection(this.list.getFocus(),fe.browserEvent)}onUpArrow(fe){fe.preventDefault(),fe.stopPropagation(),this.list.focusPrevious(1,!1,fe.browserEvent);const Ie=this.list.getFocus()[0];this.list.setAnchor(Ie),this.list.reveal(Ie),this.view.domNode.focus()}onDownArrow(fe){fe.preventDefault(),fe.stopPropagation(),this.list.focusNext(1,!1,fe.browserEvent);const Ie=this.list.getFocus()[0];this.list.setAnchor(Ie),this.list.reveal(Ie),this.view.domNode.focus()}onPageUpArrow(fe){fe.preventDefault(),fe.stopPropagation(),this.list.focusPreviousPage(fe.browserEvent);const Ie=this.list.getFocus()[0];this.list.setAnchor(Ie),this.list.reveal(Ie),this.view.domNode.focus()}onPageDownArrow(fe){fe.preventDefault(),fe.stopPropagation(),this.list.focusNextPage(fe.browserEvent);const Ie=this.list.getFocus()[0];this.list.setAnchor(Ie),this.list.reveal(Ie),this.view.domNode.focus()}onCtrlA(fe){fe.preventDefault(),fe.stopPropagation(),this.list.setSelection((0,R.w6)(this.list.length),fe.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(fe){this.list.getSelection().length&&(fe.preventDefault(),fe.stopPropagation(),this.list.setSelection([],fe.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}h([N.H],ve.prototype,"onKeyDown",null);var xe;(function(ke){ke[ke.Idle=0]="Idle",ke[ke.Typing=1]="Typing"})(xe||(xe={}));const le=new class{mightProducePrintableCharacter(ke){return ke.ctrlKey||ke.metaKey||ke.altKey?!1:ke.keyCode>=31&&ke.keyCode<=56||ke.keyCode>=21&&ke.keyCode<=30||ke.keyCode>=93&&ke.keyCode<=102||ke.keyCode>=80&&ke.keyCode<=90}};class Y{constructor(fe,Ie,nt,at){this.list=fe,this.view=Ie,this.keyboardNavigationLabelProvider=nt,this.delegate=at,this.enabled=!1,this.state=xe.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new H.SL,this.disposables=new H.SL,this.updateOptions(fe.options)}updateOptions(fe){(typeof fe.enableKeyboardNavigation=="undefined"?!0:!!fe.enableKeyboardNavigation)?this.enable():this.disable(),typeof fe.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=fe.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const fe=g.ju.chain(this.enabledDisposables.add(new O.Y(this.view.domNode,"keydown")).event).filter(at=>!de(at.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(at=>new Q.y(at)).filter(at=>this.delegate.mightProducePrintableCharacter(at)).forEach(at=>{at.stopPropagation(),at.preventDefault()}).map(at=>at.browserEvent.key).event,Ie=g.ju.debounce(fe,()=>null,800);g.ju.reduce(g.ju.any(fe,Ie),(at,ot)=>ot===null?null:(at||"")+ot)(this.onInput,this,this.enabledDisposables),Ie(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var fe;const Ie=this.list.getFocus();if(Ie.length>0&&Ie[0]===this.previouslyFocused){const nt=(fe=this.list.options.accessibilityProvider)===null||fe===void 0?void 0:fe.getAriaLabel(this.list.element(Ie[0]));nt&&(0,y.Z9)(nt)}this.previouslyFocused=-1}onInput(fe){if(!fe){this.state=xe.Idle,this.triggered=!1;return}const Ie=this.list.getFocus(),nt=Ie.length>0?Ie[0]:0,at=this.state===xe.Idle?1:0;this.state=xe.Typing;for(let ot=0;ot<this.list.length;ot++){const Ne=(nt+ot+at)%this.list.length,Pe=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Ne)),ye=Pe&&Pe.toString();if(typeof ye=="undefined"||(0,D.Ji)(fe,ye)){this.previouslyFocused=nt,this.list.setFocus([Ne]),this.list.reveal(Ne);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class j{constructor(fe,Ie){this.list=fe,this.view=Ie,this.disposables=new H.SL,g.ju.chain(this.disposables.add(new O.Y(Ie.domNode,"keydown")).event).filter(at=>!de(at.target)).map(at=>new Q.y(at)).filter(at=>at.keyCode===2&&!at.ctrlKey&&!at.metaKey&&!at.shiftKey&&!at.altKey).on(this.onTab,this,this.disposables)}onTab(fe){if(fe.target!==this.view.domNode)return;const Ie=this.list.getFocus();if(Ie.length===0)return;const nt=this.view.domElement(Ie[0]);if(!nt)return;const at=nt.querySelector("[tabIndex]");if(!at||!(at instanceof HTMLElement)||at.tabIndex===-1)return;const ot=window.getComputedStyle(at);ot.visibility==="hidden"||ot.display==="none"||(fe.preventDefault(),fe.stopPropagation(),at.focus())}dispose(){this.disposables.dispose()}}function G(ke){return w.dz?ke.browserEvent.metaKey:ke.browserEvent.ctrlKey}function q(ke){return ke.browserEvent.shiftKey}function m(ke){return ke instanceof MouseEvent&&ke.button===2}const b={isSelectionSingleChangeEvent:G,isSelectionRangeChangeEvent:q};class F{constructor(fe){this.list=fe,this.disposables=new H.SL,this._onPointer=new g.Q5,this.onPointer=this._onPointer.event,fe.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||b),this.mouseSupport=typeof fe.options.mouseSupport=="undefined"||!!fe.options.mouseSupport,this.mouseSupport&&(fe.onMouseDown(this.onMouseDown,this,this.disposables),fe.onContextMenu(this.onContextMenu,this,this.disposables),fe.onMouseDblClick(this.onDoubleClick,this,this.disposables),fe.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(P.o.addTarget(fe.getHTMLElement()))),g.ju.any(fe.onMouseClick,fe.onMouseMiddleClick,fe.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(fe){fe.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,fe.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||b))}isSelectionSingleChangeEvent(fe){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(fe):!1}isSelectionRangeChangeEvent(fe){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(fe):!1}isSelectionChangeEvent(fe){return this.isSelectionSingleChangeEvent(fe)||this.isSelectionRangeChangeEvent(fe)}onMouseDown(fe){pe(fe.browserEvent.target)||document.activeElement!==fe.browserEvent.target&&this.list.domFocus()}onContextMenu(fe){if(pe(fe.browserEvent.target))return;const Ie=typeof fe.index=="undefined"?[]:[fe.index];this.list.setFocus(Ie,fe.browserEvent)}onViewPointer(fe){if(!this.mouseSupport||de(fe.browserEvent.target)||pe(fe.browserEvent.target))return;const Ie=fe.index;if(typeof Ie=="undefined"){this.list.setFocus([],fe.browserEvent),this.list.setSelection([],fe.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(fe))return this.changeSelection(fe);if(this.isSelectionChangeEvent(fe))return this.changeSelection(fe);this.list.setFocus([Ie],fe.browserEvent),this.list.setAnchor(Ie),m(fe.browserEvent)||this.list.setSelection([Ie],fe.browserEvent),this._onPointer.fire(fe)}onDoubleClick(fe){if(de(fe.browserEvent.target)||pe(fe.browserEvent.target)||this.isSelectionChangeEvent(fe))return;const Ie=this.list.getFocus();this.list.setSelection(Ie,fe.browserEvent)}changeSelection(fe){const Ie=fe.index;let nt=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(fe)){if(typeof nt=="undefined"){const it=this.list.getFocus()[0];nt=it!=null?it:Ie,this.list.setAnchor(nt)}const at=Math.min(nt,Ie),ot=Math.max(nt,Ie),Ne=(0,R.w6)(at,ot+1),Pe=this.list.getSelection(),ye=Oe(Re(Pe,[nt]),nt);if(ye.length===0)return;const Ze=Re(Ne,et(Pe,ye));this.list.setSelection(Ze,fe.browserEvent),this.list.setFocus([Ie],fe.browserEvent)}else if(this.isSelectionSingleChangeEvent(fe)){const at=this.list.getSelection(),ot=at.filter(Ne=>Ne!==Ie);this.list.setFocus([Ie]),this.list.setAnchor(Ie),at.length===ot.length?this.list.setSelection([...ot,Ie],fe.browserEvent):this.list.setSelection(ot,fe.browserEvent)}}dispose(){this.disposables.dispose()}}class te{constructor(fe,Ie){this.styleElement=fe,this.selectorSuffix=Ie}style(fe){const Ie=this.selectorSuffix&&`.${this.selectorSuffix}`,nt=[];fe.listBackground&&(fe.listBackground.isOpaque()?nt.push(`.monaco-list${Ie} .monaco-list-rows { background: ${fe.listBackground}; }`):w.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),fe.listFocusBackground&&(nt.push(`.monaco-list${Ie}:focus .monaco-list-row.focused { background-color: ${fe.listFocusBackground}; }`),nt.push(`.monaco-list${Ie}:focus .monaco-list-row.focused:hover { background-color: ${fe.listFocusBackground}; }`)),fe.listFocusForeground&&nt.push(`.monaco-list${Ie}:focus .monaco-list-row.focused { color: ${fe.listFocusForeground}; }`),fe.listActiveSelectionBackground&&(nt.push(`.monaco-list${Ie}:focus .monaco-list-row.selected { background-color: ${fe.listActiveSelectionBackground}; }`),nt.push(`.monaco-list${Ie}:focus .monaco-list-row.selected:hover { background-color: ${fe.listActiveSelectionBackground}; }`)),fe.listActiveSelectionForeground&&nt.push(`.monaco-list${Ie}:focus .monaco-list-row.selected { color: ${fe.listActiveSelectionForeground}; }`),fe.listActiveSelectionIconForeground&&nt.push(`.monaco-list${Ie}:focus .monaco-list-row.selected .codicon { color: ${fe.listActiveSelectionIconForeground}; }`),fe.listFocusAndSelectionBackground&&nt.push(`
				.monaco-drag-image,
				.monaco-list${Ie}:focus .monaco-list-row.selected.focused { background-color: ${fe.listFocusAndSelectionBackground}; }
			`),fe.listFocusAndSelectionForeground&&nt.push(`
				.monaco-drag-image,
				.monaco-list${Ie}:focus .monaco-list-row.selected.focused { color: ${fe.listFocusAndSelectionForeground}; }
			`),fe.listInactiveFocusForeground&&(nt.push(`.monaco-list${Ie} .monaco-list-row.focused { color:  ${fe.listInactiveFocusForeground}; }`),nt.push(`.monaco-list${Ie} .monaco-list-row.focused:hover { color:  ${fe.listInactiveFocusForeground}; }`)),fe.listInactiveSelectionIconForeground&&nt.push(`.monaco-list${Ie} .monaco-list-row.focused .codicon { color:  ${fe.listInactiveSelectionIconForeground}; }`),fe.listInactiveFocusBackground&&(nt.push(`.monaco-list${Ie} .monaco-list-row.focused { background-color:  ${fe.listInactiveFocusBackground}; }`),nt.push(`.monaco-list${Ie} .monaco-list-row.focused:hover { background-color:  ${fe.listInactiveFocusBackground}; }`)),fe.listInactiveSelectionBackground&&(nt.push(`.monaco-list${Ie} .monaco-list-row.selected { background-color:  ${fe.listInactiveSelectionBackground}; }`),nt.push(`.monaco-list${Ie} .monaco-list-row.selected:hover { background-color:  ${fe.listInactiveSelectionBackground}; }`)),fe.listInactiveSelectionForeground&&nt.push(`.monaco-list${Ie} .monaco-list-row.selected { color: ${fe.listInactiveSelectionForeground}; }`),fe.listHoverBackground&&nt.push(`.monaco-list${Ie}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${fe.listHoverBackground}; }`),fe.listHoverForeground&&nt.push(`.monaco-list${Ie} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${fe.listHoverForeground}; }`),fe.listSelectionOutline&&nt.push(`.monaco-list${Ie} .monaco-list-row.selected { outline: 1px dotted ${fe.listSelectionOutline}; outline-offset: -1px; }`),fe.listFocusOutline&&nt.push(`
				.monaco-drag-image,
				.monaco-list${Ie}:focus .monaco-list-row.focused { outline: 1px solid ${fe.listFocusOutline}; outline-offset: -1px; }
			`),fe.listInactiveFocusOutline&&nt.push(`.monaco-list${Ie} .monaco-list-row.focused { outline: 1px dotted ${fe.listInactiveFocusOutline}; outline-offset: -1px; }`),fe.listHoverOutline&&nt.push(`.monaco-list${Ie} .monaco-list-row:hover { outline: 1px dashed ${fe.listHoverOutline}; outline-offset: -1px; }`),fe.listDropBackground&&nt.push(`
				.monaco-list${Ie}.drop-target,
				.monaco-list${Ie} .monaco-list-rows.drop-target,
				.monaco-list${Ie} .monaco-list-row.drop-target { background-color: ${fe.listDropBackground} !important; color: inherit !important; }
			`),fe.listFilterWidgetBackground&&nt.push(`.monaco-list-type-filter { background-color: ${fe.listFilterWidgetBackground} }`),fe.listFilterWidgetOutline&&nt.push(`.monaco-list-type-filter { border: 1px solid ${fe.listFilterWidgetOutline}; }`),fe.listFilterWidgetNoMatchesOutline&&nt.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${fe.listFilterWidgetNoMatchesOutline}; }`),fe.listMatchesShadow&&nt.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${fe.listMatchesShadow}; }`),fe.tableColumnsBorder&&nt.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${fe.tableColumnsBorder};
			}`),this.styleElement.textContent=nt.join(`
`)}}const me={listFocusBackground:s.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:s.Il.fromHex("#0E639C"),listActiveSelectionForeground:s.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:s.Il.fromHex("#FFFFFF"),listFocusAndSelectionBackground:s.Il.fromHex("#094771"),listFocusAndSelectionForeground:s.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:s.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:s.Il.fromHex("#FFFFFF"),listHoverBackground:s.Il.fromHex("#2A2D2E"),listDropBackground:s.Il.fromHex("#383B3D"),treeIndentGuidesStroke:s.Il.fromHex("#a9a9a9"),tableColumnsBorder:s.Il.fromHex("#cccccc").transparent(.2)},ue={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function Oe(ke,fe){const Ie=ke.indexOf(fe);if(Ie===-1)return[];const nt=[];let at=Ie-1;for(;at>=0&&ke[at]===fe-(Ie-at);)nt.push(ke[at--]);for(nt.reverse(),at=Ie;at<ke.length&&ke[at]===fe+(at-Ie);)nt.push(ke[at++]);return nt}function Re(ke,fe){const Ie=[];let nt=0,at=0;for(;nt<ke.length||at<fe.length;)if(nt>=ke.length)Ie.push(fe[at++]);else if(at>=fe.length)Ie.push(ke[nt++]);else if(ke[nt]===fe[at]){Ie.push(ke[nt]),nt++,at++;continue}else ke[nt]<fe[at]?Ie.push(ke[nt++]):Ie.push(fe[at++]);return Ie}function et(ke,fe){const Ie=[];let nt=0,at=0;for(;nt<ke.length||at<fe.length;)if(nt>=ke.length)Ie.push(fe[at++]);else if(at>=fe.length)Ie.push(ke[nt++]);else if(ke[nt]===fe[at]){nt++,at++;continue}else ke[nt]<fe[at]?Ie.push(ke[nt++]):at++;return Ie}const Dt=(ke,fe)=>ke-fe;class ht{constructor(fe,Ie){this._templateId=fe,this.renderers=Ie}get templateId(){return this._templateId}renderTemplate(fe){return this.renderers.map(Ie=>Ie.renderTemplate(fe))}renderElement(fe,Ie,nt,at){let ot=0;for(const Ne of this.renderers)Ne.renderElement(fe,Ie,nt[ot++],at)}disposeElement(fe,Ie,nt,at){let ot=0;for(const Ne of this.renderers)Ne.disposeElement&&Ne.disposeElement(fe,Ie,nt[ot],at),ot+=1}disposeTemplate(fe){let Ie=0;for(const nt of this.renderers)nt.disposeTemplate(fe[Ie++])}}class Mt{constructor(fe){this.accessibilityProvider=fe,this.templateId="a18n"}renderTemplate(fe){return fe}renderElement(fe,Ie,nt){const at=this.accessibilityProvider.getAriaLabel(fe);at?nt.setAttribute("aria-label",at):nt.removeAttribute("aria-label");const ot=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(fe);typeof ot=="number"?nt.setAttribute("aria-level",`${ot}`):nt.removeAttribute("aria-level")}disposeTemplate(fe){}}class Je{constructor(fe,Ie){this.list=fe,this.dnd=Ie}getDragElements(fe){const Ie=this.list.getSelectedElements();return Ie.indexOf(fe)>-1?Ie:[fe]}getDragURI(fe){return this.dnd.getDragURI(fe)}getDragLabel(fe,Ie){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(fe,Ie)}onDragStart(fe,Ie){this.dnd.onDragStart&&this.dnd.onDragStart(fe,Ie)}onDragOver(fe,Ie,nt,at){return this.dnd.onDragOver(fe,Ie,nt,at)}onDragLeave(fe,Ie,nt,at){var ot,Ne;(Ne=(ot=this.dnd).onDragLeave)===null||Ne===void 0||Ne.call(ot,fe,Ie,nt,at)}onDragEnd(fe){this.dnd.onDragEnd&&this.dnd.onDragEnd(fe)}drop(fe,Ie,nt,at){this.dnd.drop(fe,Ie,nt,at)}}class tt{constructor(fe,Ie,nt,at,ot=ue){var Ne;this.user=fe,this._options=ot,this.focus=new V("focused"),this.anchor=new V("anchor"),this.eventBufferer=new g.E7,this._ariaLabel="",this.disposables=new H.SL,this._onDidDispose=new g.Q5,this.onDidDispose=this._onDidDispose.event;const Pe=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Ne=this._options.accessibilityProvider)===null||Ne===void 0?void 0:Ne.getWidgetRole():"list";this.selection=new $(Pe!=="listbox"),(0,T.jB)(ot,me,!1);const ye=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ot.accessibilityProvider,this.accessibilityProvider&&(ye.push(new Mt(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),at=at.map(it=>new ht(it.templateId,[...ye,it]));const Ze=Object.assign(Object.assign({},ot),{dnd:ot.dnd&&new Je(this,ot.dnd)});if(this.view=new S.Bv(Ie,nt,at,Ze),this.view.domNode.setAttribute("role",Pe),ot.styleController)this.styleController=ot.styleController(this.view.domId);else{const it=(0,E.dS)(this.view.domNode);this.styleController=new te(it,this.view.domId)}if(this.spliceable=new X([new ee(this.focus,this.view,ot.identityProvider),new ee(this.selection,this.view,ot.identityProvider),new ee(this.anchor,this.view,ot.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new j(this,this.view)),(typeof ot.keyboardSupport!="boolean"||ot.keyboardSupport)&&(this.keyboardController=new ve(this,this.view,ot),this.disposables.add(this.keyboardController)),ot.keyboardNavigationLabelProvider){const it=ot.keyboardNavigationDelegate||le;this.typeLabelController=new Y(this,this.view,ot.keyboardNavigationLabelProvider,it),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(ot),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return g.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),fe=>this.toListEvent(fe))}get onDidChangeSelection(){return g.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),fe=>this.toListEvent(fe))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let fe=!1;const Ie=g.ju.chain(this.disposables.add(new O.Y(this.view.domNode,"keydown")).event).map(ot=>new Q.y(ot)).filter(ot=>fe=ot.keyCode===58||ot.shiftKey&&ot.keyCode===68).map(O.p).filter(()=>!1).event,nt=g.ju.chain(this.disposables.add(new O.Y(this.view.domNode,"keyup")).event).forEach(()=>fe=!1).map(ot=>new Q.y(ot)).filter(ot=>ot.keyCode===58||ot.shiftKey&&ot.keyCode===68).map(O.p).map(({browserEvent:ot})=>{const Ne=this.getFocus(),Pe=Ne.length?Ne[0]:void 0,ye=typeof Pe!="undefined"?this.view.element(Pe):void 0,Ze=typeof Pe!="undefined"?this.view.domElement(Pe):this.view.domNode;return{index:Pe,element:ye,anchor:Ze,browserEvent:ot}}).event,at=g.ju.chain(this.view.onContextMenu).filter(ot=>!fe).map(({element:ot,index:Ne,browserEvent:Pe})=>({element:ot,index:Ne,anchor:{x:Pe.pageX+1,y:Pe.pageY},browserEvent:Pe})).event;return g.ju.any(Ie,nt,at)}get onKeyDown(){return this.disposables.add(new O.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return g.ju.signal(this.disposables.add(new O.Y(this.view.domNode,"focus",!0)).event)}createMouseController(fe){return new F(this)}updateOptions(fe={}){var Ie;this._options=Object.assign(Object.assign({},this._options),fe),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(fe),(Ie=this.keyboardController)===null||Ie===void 0||Ie.updateOptions(fe),this.view.updateOptions(fe)}get options(){return this._options}splice(fe,Ie,nt=[]){if(fe<0||fe>this.view.length)throw new p(this.user,`Invalid start index: ${fe}`);if(Ie<0)throw new p(this.user,`Invalid delete count: ${Ie}`);Ie===0&&nt.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(fe,Ie,nt))}rerender(){this.view.rerender()}element(fe){return this.view.element(fe)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(fe){this.view.setScrollTop(fe)}get ariaLabel(){return this._ariaLabel}set ariaLabel(fe){this._ariaLabel=fe,this.view.domNode.setAttribute("aria-label",fe)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(fe,Ie){this.view.layout(fe,Ie)}setSelection(fe,Ie){for(const nt of fe)if(nt<0||nt>=this.length)throw new p(this.user,`Invalid index ${nt}`);this.selection.set(fe,Ie)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(fe=>this.view.element(fe))}setAnchor(fe){if(typeof fe=="undefined"){this.anchor.set([]);return}if(fe<0||fe>=this.length)throw new p(this.user,`Invalid index ${fe}`);this.anchor.set([fe])}getAnchor(){return(0,R.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const fe=this.getAnchor();return typeof fe=="undefined"?void 0:this.element(fe)}setFocus(fe,Ie){for(const nt of fe)if(nt<0||nt>=this.length)throw new p(this.user,`Invalid index ${nt}`);this.focus.set(fe,Ie)}focusNext(fe=1,Ie=!1,nt,at){if(this.length===0)return;const ot=this.focus.get(),Ne=this.findNextIndex(ot.length>0?ot[0]+fe:0,Ie,at);Ne>-1&&this.setFocus([Ne],nt)}focusPrevious(fe=1,Ie=!1,nt,at){if(this.length===0)return;const ot=this.focus.get(),Ne=this.findPreviousIndex(ot.length>0?ot[0]-fe:0,Ie,at);Ne>-1&&this.setFocus([Ne],nt)}focusNextPage(fe,Ie){return L(this,void 0,void 0,function*(){let nt=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);nt=nt===0?0:nt-1;const at=this.view.element(nt),ot=this.getFocusedElements()[0];if(ot!==at){const Ne=this.findPreviousIndex(nt,!1,Ie);Ne>-1&&ot!==this.view.element(Ne)?this.setFocus([Ne],fe):this.setFocus([nt],fe)}else{const Ne=this.view.getScrollTop();this.view.setScrollTop(Ne+this.view.renderHeight-this.view.elementHeight(nt)),this.view.getScrollTop()!==Ne&&(this.setFocus([]),yield(0,B.Vs)(0),yield this.focusNextPage(fe,Ie))}})}focusPreviousPage(fe,Ie){return L(this,void 0,void 0,function*(){let nt;const at=this.view.getScrollTop();at===0?nt=this.view.indexAt(at):nt=this.view.indexAfter(at-1);const ot=this.view.element(nt),Ne=this.getFocusedElements()[0];if(Ne!==ot){const Pe=this.findNextIndex(nt,!1,Ie);Pe>-1&&Ne!==this.view.element(Pe)?this.setFocus([Pe],fe):this.setFocus([nt],fe)}else{const Pe=at;this.view.setScrollTop(at-this.view.renderHeight),this.view.getScrollTop()!==Pe&&(this.setFocus([]),yield(0,B.Vs)(0),yield this.focusPreviousPage(fe,Ie))}})}focusLast(fe,Ie){if(this.length===0)return;const nt=this.findPreviousIndex(this.length-1,!1,Ie);nt>-1&&this.setFocus([nt],fe)}focusFirst(fe,Ie){this.focusNth(0,fe,Ie)}focusNth(fe,Ie,nt){if(this.length===0)return;const at=this.findNextIndex(fe,!1,nt);at>-1&&this.setFocus([at],Ie)}findNextIndex(fe,Ie=!1,nt){for(let at=0;at<this.length;at++){if(fe>=this.length&&!Ie)return-1;if(fe=fe%this.length,!nt||nt(this.element(fe)))return fe;fe++}return-1}findPreviousIndex(fe,Ie=!1,nt){for(let at=0;at<this.length;at++){if(fe<0&&!Ie)return-1;if(fe=(this.length+fe%this.length)%this.length,!nt||nt(this.element(fe)))return fe;fe--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(fe=>this.view.element(fe))}reveal(fe,Ie){if(fe<0||fe>=this.length)throw new p(this.user,`Invalid index ${fe}`);const nt=this.view.getScrollTop(),at=this.view.elementTop(fe),ot=this.view.elementHeight(fe);if((0,x.hj)(Ie)){const Ne=ot-this.view.renderHeight;this.view.setScrollTop(Ne*(0,r.u)(Ie,0,1)+at)}else{const Ne=at+ot,Pe=nt+this.view.renderHeight;at<nt&&Ne>=Pe||(at<nt||Ne>=Pe&&ot>=this.view.renderHeight?this.view.setScrollTop(at):Ne>=Pe&&this.view.setScrollTop(Ne-this.view.renderHeight))}}getRelativeTop(fe){if(fe<0||fe>=this.length)throw new p(this.user,`Invalid index ${fe}`);const Ie=this.view.getScrollTop(),nt=this.view.elementTop(fe),at=this.view.elementHeight(fe);if(nt<Ie||nt+at>Ie+this.view.renderHeight)return null;const ot=at-this.view.renderHeight;return Math.abs((Ie-nt)/ot)}getHTMLElement(){return this.view.domNode}style(fe){this.styleController.style(fe)}toListEvent({indexes:fe,browserEvent:Ie}){return{indexes:fe,elements:fe.map(nt=>this.view.element(nt)),browserEvent:Ie}}_onFocusChange(){const fe=this.focus.get();this.view.domNode.classList.toggle("element-focused",fe.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var fe;const Ie=this.focus.get();if(Ie.length>0){let nt;!((fe=this.accessibilityProvider)===null||fe===void 0)&&fe.getActiveDescendantId&&(nt=this.accessibilityProvider.getActiveDescendantId(this.view.element(Ie[0]))),this.view.domNode.setAttribute("aria-activedescendant",nt||this.view.getElementDomId(Ie[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const fe=this.selection.get();this.view.domNode.classList.toggle("selection-none",fe.length===0),this.view.domNode.classList.toggle("selection-single",fe.length===1),this.view.domNode.classList.toggle("selection-multiple",fe.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}h([N.H],tt.prototype,"onDidChangeFocus",null),h([N.H],tt.prototype,"onDidChangeSelection",null),h([N.H],tt.prototype,"onContextMenu",null),h([N.H],tt.prototype,"onKeyDown",null),h([N.H],tt.prototype,"onDidFocus",null)},49335:function(Qt,He,c){"use strict";c.d(He,{S:function(){return E}});const E="monaco-mouse-cursor-text"},83080:function(Qt,He,c){"use strict";c.d(He,{l:function(){return g},g:function(){return p}});var E=c(65321),O=c(4850),Q=c(10553),P=c(15393),y=c(49898),X=c(4669),R=c(5976),B=c(1432),s=function(S,h,L,v){var V=arguments.length,$=V<3?h:v===null?v=Object.getOwnPropertyDescriptor(h,L):v,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(S,h,L,v);else for(var de=S.length-1;de>=0;de--)(ee=S[de])&&($=(V<3?ee($):V>3?ee(h,L,$):ee(h,L))||$);return V>3&&$&&Object.defineProperty(h,L,$),$};let N=!1;var g;(function(S){S.North="north",S.South="south",S.East="east",S.West="west"})(g||(g={}));let D=4;const H=new X.Q5;let r=300;const T=new X.Q5;class w{constructor(){this.disposables=new R.SL}get onPointerMove(){return this.disposables.add(new O.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new O.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}s([y.H],w.prototype,"onPointerMove",null),s([y.H],w.prototype,"onPointerUp",null);class x{constructor(h){this.el=h,this.disposables=new R.SL}get onPointerMove(){return this.disposables.add(new O.Y(this.el,Q.t.Change)).event}get onPointerUp(){return this.disposables.add(new O.Y(this.el,Q.t.End)).event}dispose(){this.disposables.dispose()}}s([y.H],x.prototype,"onPointerMove",null),s([y.H],x.prototype,"onPointerUp",null);class f{constructor(h){this.factory=h}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}s([y.H],f.prototype,"onPointerMove",null),s([y.H],f.prototype,"onPointerUp",null);class p extends R.JT{constructor(h,L,v){super(),this.hoverDelay=r,this.hoverDelayer=this._register(new P.vp(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new X.Q5),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new X.Q5),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new X.Q5),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new X.Q5),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new X.Q5),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new R.SL),this.orthogonalStartDragHandleDisposables=this._register(new R.SL),this.orthogonalEndSashDisposables=this._register(new R.SL),this.orthogonalEndDragHandleDisposables=this._register(new R.SL),this.el=(0,E.R3)(h,(0,E.$)(".monaco-sash")),v.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${v.orthogonalEdge}`),B.dz&&this.el.classList.add("mac");const V=this._register(new O.Y(this.el,"mousedown")).event;this._register(V(le=>this.onPointerStart(le,new w),this));const $=this._register(new O.Y(this.el,"dblclick")).event;this._register($(this.onPointerDoublePress,this));const ee=this._register(new O.Y(this.el,"mouseenter")).event;this._register(ee(()=>p.onMouseEnter(this)));const de=this._register(new O.Y(this.el,"mouseleave")).event;this._register(de(()=>p.onMouseLeave(this))),this._register(Q.o.addTarget(this.el));const pe=X.ju.map(this._register(new O.Y(this.el,Q.t.Start)).event,le=>{var Y;return Object.assign(Object.assign({},le),{target:(Y=le.initialTarget)!==null&&Y!==void 0?Y:null})});this._register(pe(le=>this.onPointerStart(le,new x(this.el)),this));const ve=this._register(new O.Y(this.el,Q.t.Tap)).event,xe=X.ju.map(X.ju.filter(X.ju.debounce(ve,(le,Y)=>{var j;return{event:Y,count:((j=le==null?void 0:le.count)!==null&&j!==void 0?j:0)+1}},250),({count:le})=>le===2),({event:le})=>{var Y;return Object.assign(Object.assign({},le),{target:(Y=le.initialTarget)!==null&&Y!==void 0?Y:null})});this._register(xe(this.onPointerDoublePress,this)),typeof v.size=="number"?(this.size=v.size,v.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=D,this._register(H.event(le=>{this.size=le,this.layout()}))),this._register(T.event(le=>this.hoverDelay=le)),this.hidden=!1,this.layoutProvider=L,this.orthogonalStartSash=v.orthogonalStartSash,this.orthogonalEndSash=v.orthogonalEndSash,this.orientation=v.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",N),this.layout()}get state(){return this._state}set state(h){this._state!==h&&(this.el.classList.toggle("disabled",h===0),this.el.classList.toggle("minimum",h===1),this.el.classList.toggle("maximum",h===2),this._state=h,this._onDidEnablementChange.fire(h))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(h){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),h){const L=v=>{this.orthogonalStartDragHandleDisposables.clear(),v!==0&&(this._orthogonalStartDragHandle=(0,E.R3)(this.el,(0,E.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,R.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new O.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>p.onMouseEnter(h),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new O.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>p.onMouseLeave(h),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(h.onDidEnablementChange(L,this)),L(h.state)}this._orthogonalStartSash=h}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(h){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),h){const L=v=>{this.orthogonalEndDragHandleDisposables.clear(),v!==0&&(this._orthogonalEndDragHandle=(0,E.R3)(this.el,(0,E.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,R.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new O.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>p.onMouseEnter(h),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new O.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>p.onMouseLeave(h),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(h.onDidEnablementChange(L,this)),L(h.state)}this._orthogonalEndSash=h}onPointerStart(h,L){E.zB.stop(h);let v=!1;if(!h.__orthogonalSashEvent){const G=this.getOrthogonalSash(h);G&&(v=!0,h.__orthogonalSashEvent=!0,G.onPointerStart(h,new f(L)))}if(this.linkedSash&&!h.__linkedSashEvent&&(h.__linkedSashEvent=!0,this.linkedSash.onPointerStart(h,new f(L))),!this.state)return;const V=(0,E.H$)("iframe");for(const G of V)G.style.pointerEvents="none";const $=h.pageX,ee=h.pageY,de=h.altKey,pe={startX:$,currentX:$,startY:ee,currentY:ee,altKey:de};this.el.classList.add("active"),this._onDidStart.fire(pe);const ve=(0,E.dS)(this.el),xe=()=>{let G="";v?G="all-scroll":this.orientation===1?this.state===1?G="s-resize":this.state===2?G="n-resize":G=B.dz?"row-resize":"ns-resize":this.state===1?G="e-resize":this.state===2?G="w-resize":G=B.dz?"col-resize":"ew-resize",ve.textContent=`* { cursor: ${G} !important; }`},le=new R.SL;xe(),v||this.onDidEnablementChange(xe,null,le);const Y=G=>{E.zB.stop(G,!1);const q={startX:$,currentX:G.pageX,startY:ee,currentY:G.pageY,altKey:de};this._onDidChange.fire(q)},j=G=>{E.zB.stop(G,!1),this.el.removeChild(ve),this.el.classList.remove("active"),this._onDidEnd.fire(),le.dispose();for(const q of V)q.style.pointerEvents="auto"};L.onPointerMove(Y,null,le),L.onPointerUp(j,null,le),le.add(L)}onPointerDoublePress(h){const L=this.getOrthogonalSash(h);L&&L._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(h,L=!1){h.el.classList.contains("active")?(h.hoverDelayer.cancel(),h.el.classList.add("hover")):h.hoverDelayer.trigger(()=>h.el.classList.add("hover"),h.hoverDelay).then(void 0,()=>{}),!L&&h.linkedSash&&p.onMouseEnter(h.linkedSash,!0)}static onMouseLeave(h,L=!1){h.hoverDelayer.cancel(),h.el.classList.remove("hover"),!L&&h.linkedSash&&p.onMouseLeave(h.linkedSash,!0)}clearSashHoverState(){p.onMouseLeave(this)}layout(){if(this.orientation===0){const h=this.layoutProvider;this.el.style.left=h.getVerticalSashLeft(this)-this.size/2+"px",h.getVerticalSashTop&&(this.el.style.top=h.getVerticalSashTop(this)+"px"),h.getVerticalSashHeight&&(this.el.style.height=h.getVerticalSashHeight(this)+"px")}else{const h=this.layoutProvider;this.el.style.top=h.getHorizontalSashTop(this)-this.size/2+"px",h.getHorizontalSashLeft&&(this.el.style.left=h.getHorizontalSashLeft(this)+"px"),h.getHorizontalSashWidth&&(this.el.style.width=h.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(h){if(!(!h.target||!(h.target instanceof HTMLElement))&&h.target.classList.contains("orthogonal-drag-handle"))return h.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},13433:function(Qt,He,c){"use strict";c.d(He,{s$:function(){return G},NB:function(){return Y},$Z:function(){return j}});var E=c(16268),O=c(65321),Q=c(38626),P=c(23938),y=c(57974),X=c(93794),R=c(15393);const B=11;class s extends X.${constructor(b){super(),this._onActivate=b.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=b.bgWidth+"px",this.bgDomNode.style.height=b.bgHeight+"px",typeof b.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof b.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof b.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof b.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=b.className,this.domNode.classList.add(...b.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=B+"px",this.domNode.style.height=B+"px",typeof b.top!="undefined"&&(this.domNode.style.top=b.top+"px"),typeof b.left!="undefined"&&(this.domNode.style.left=b.left+"px"),typeof b.bottom!="undefined"&&(this.domNode.style.bottom=b.bottom+"px"),typeof b.right!="undefined"&&(this.domNode.style.right=b.right+"px"),this._mouseMoveMonitor=this._register(new y.Z),this.onmousedown(this.bgDomNode,F=>this._arrowMouseDown(F)),this.onmousedown(this.domNode,F=>this._arrowMouseDown(F)),this._mousedownRepeatTimer=this._register(new R.zh),this._mousedownScheduleRepeatTimer=this._register(new R._F)}_arrowMouseDown(b){const F=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),41.666666666666664)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(F,200),this._mouseMoveMonitor.startMonitoring(b.target,b.buttons,y.e,te=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),b.preventDefault()}}var N=c(5976);class g extends N.JT{constructor(b,F,te){super(),this._visibility=b,this._visibleClassName=F,this._invisibleClassName=te,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new R._F)}setVisibility(b){this._visibility!==b&&(this._visibility=b,this._updateShouldBeVisible())}setShouldBeVisible(b){this._rawShouldBeVisible=b,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const b=this._applyVisibilitySetting();this._shouldBeVisible!==b&&(this._shouldBeVisible=b,this.ensureVisibility())}setIsNeeded(b){this._isNeeded!==b&&(this._isNeeded=b,this.ensureVisibility())}setDomNode(b){this._domNode=b,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(b){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(b?" fade":"")))}}var D=c(1432);const H=140;class r extends X.${constructor(b){super(),this._lazyRender=b.lazyRender,this._host=b.host,this._scrollable=b.scrollable,this._scrollByPage=b.scrollByPage,this._scrollbarState=b.scrollbarState,this._visibilityController=this._register(new g(b.visibility,"visible scrollbar "+b.extraScrollbarClassName,"invisible scrollbar "+b.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new y.Z),this._shouldRender=!0,this.domNode=(0,Q.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,F=>this._domNodeMouseDown(F))}_createArrow(b){const F=this._register(new s(b));this.domNode.domNode.appendChild(F.bgDomNode),this.domNode.domNode.appendChild(F.domNode)}_createSlider(b,F,te,me){this.slider=(0,Q.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(b),this.slider.setLeft(F),typeof te=="number"&&this.slider.setWidth(te),typeof me=="number"&&this.slider.setHeight(me),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,ue=>{ue.leftButton&&(ue.preventDefault(),this._sliderMouseDown(ue,()=>{}))}),this.onclick(this.slider.domNode,ue=>{ue.leftButton&&ue.stopPropagation()})}_onElementSize(b){return this._scrollbarState.setVisibleSize(b)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(b){return this._scrollbarState.setScrollSize(b)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(b){return this._scrollbarState.setScrollPosition(b)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(b){b.target===this.domNode.domNode&&this._onMouseDown(b)}delegateMouseDown(b){const F=this.domNode.domNode.getClientRects()[0].top,te=F+this._scrollbarState.getSliderPosition(),me=F+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),ue=this._sliderMousePosition(b);te<=ue&&ue<=me?b.leftButton&&(b.preventDefault(),this._sliderMouseDown(b,()=>{})):this._onMouseDown(b)}_onMouseDown(b){let F,te;if(b.target===this.domNode.domNode&&typeof b.browserEvent.offsetX=="number"&&typeof b.browserEvent.offsetY=="number")F=b.browserEvent.offsetX,te=b.browserEvent.offsetY;else{const ue=O.i(this.domNode.domNode);F=b.posx-ue.left,te=b.posy-ue.top}const me=this._mouseDownRelativePosition(F,te);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(me):this._scrollbarState.getDesiredScrollPositionFromOffset(me)),b.leftButton&&(b.preventDefault(),this._sliderMouseDown(b,()=>{}))}_sliderMouseDown(b,F){const te=this._sliderMousePosition(b),me=this._sliderOrthogonalMousePosition(b),ue=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(b.target,b.buttons,y.e,Oe=>{const Re=this._sliderOrthogonalMousePosition(Oe),et=Math.abs(Re-me);if(D.ED&&et>H){this._setDesiredScrollPositionNow(ue.getScrollPosition());return}const ht=this._sliderMousePosition(Oe)-te;this._setDesiredScrollPositionNow(ue.getDesiredScrollPositionFromDelta(ht))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),F()}),this._host.onDragStart()}_setDesiredScrollPositionNow(b){const F={};this.writeScrollPosition(F,b),this._scrollable.setScrollPositionNow(F)}updateScrollbarSize(b){this._updateScrollbarSize(b),this._scrollbarState.setScrollbarSize(b),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const T=20;class w{constructor(b,F,te,me,ue,Oe){this._scrollbarSize=Math.round(F),this._oppositeScrollbarSize=Math.round(te),this._arrowSize=Math.round(b),this._visibleSize=me,this._scrollSize=ue,this._scrollPosition=Oe,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new w(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(b){const F=Math.round(b);return this._visibleSize!==F?(this._visibleSize=F,this._refreshComputedValues(),!0):!1}setScrollSize(b){const F=Math.round(b);return this._scrollSize!==F?(this._scrollSize=F,this._refreshComputedValues(),!0):!1}setScrollPosition(b){const F=Math.round(b);return this._scrollPosition!==F?(this._scrollPosition=F,this._refreshComputedValues(),!0):!1}setScrollbarSize(b){this._scrollbarSize=Math.round(b)}setOppositeScrollbarSize(b){this._oppositeScrollbarSize=Math.round(b)}static _computeValues(b,F,te,me,ue){const Oe=Math.max(0,te-b),Re=Math.max(0,Oe-2*F),et=me>0&&me>te;if(!et)return{computedAvailableSize:Math.round(Oe),computedIsNeeded:et,computedSliderSize:Math.round(Re),computedSliderRatio:0,computedSliderPosition:0};const Dt=Math.round(Math.max(T,Math.floor(te*Re/me))),ht=(Re-Dt)/(me-te),Mt=ue*ht;return{computedAvailableSize:Math.round(Oe),computedIsNeeded:et,computedSliderSize:Math.round(Dt),computedSliderRatio:ht,computedSliderPosition:Math.round(Mt)}}_refreshComputedValues(){const b=w._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=b.computedAvailableSize,this._computedIsNeeded=b.computedIsNeeded,this._computedSliderSize=b.computedSliderSize,this._computedSliderRatio=b.computedSliderRatio,this._computedSliderPosition=b.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(b){if(!this._computedIsNeeded)return 0;const F=b-this._arrowSize-this._computedSliderSize/2;return Math.round(F/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(b){if(!this._computedIsNeeded)return 0;const F=b-this._arrowSize;let te=this._scrollPosition;return F<this._computedSliderPosition?te-=this._visibleSize:te+=this._visibleSize,te}getDesiredScrollPositionFromDelta(b){if(!this._computedIsNeeded)return 0;const F=this._computedSliderPosition+b;return Math.round(F/this._computedSliderRatio)}}var x=c(73046);const f=(0,x.CM)("scrollbar-button-left",x.lA.triangleLeft),p=(0,x.CM)("scrollbar-button-right",x.lA.triangleRight);class S extends r{constructor(b,F,te){const me=b.getScrollDimensions(),ue=b.getCurrentScrollPosition();if(super({lazyRender:F.lazyRender,host:te,scrollbarState:new w(F.horizontalHasArrows?F.arrowSize:0,F.horizontal===2?0:F.horizontalScrollbarSize,F.vertical===2?0:F.verticalScrollbarSize,me.width,me.scrollWidth,ue.scrollLeft),visibility:F.horizontal,extraScrollbarClassName:"horizontal",scrollable:b,scrollByPage:F.scrollByPage}),F.horizontalHasArrows){const Oe=(F.arrowSize-B)/2,Re=(F.horizontalScrollbarSize-B)/2;this._createArrow({className:"scra",icon:f,top:Re,left:Oe,bottom:void 0,right:void 0,bgWidth:F.arrowSize,bgHeight:F.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new P.q(null,1,0))}),this._createArrow({className:"scra",icon:p,top:Re,left:void 0,bottom:void 0,right:Oe,bgWidth:F.arrowSize,bgHeight:F.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new P.q(null,-1,0))})}this._createSlider(Math.floor((F.horizontalScrollbarSize-F.horizontalSliderSize)/2),0,void 0,F.horizontalSliderSize)}_updateSlider(b,F){this.slider.setWidth(b),this.slider.setLeft(F)}_renderDomNode(b,F){this.domNode.setWidth(b),this.domNode.setHeight(F),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(b){return this._shouldRender=this._onElementScrollSize(b.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(b.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(b.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(b,F){return b}_sliderMousePosition(b){return b.posx}_sliderOrthogonalMousePosition(b){return b.posy}_updateScrollbarSize(b){this.slider.setHeight(b)}writeScrollPosition(b,F){b.scrollLeft=F}updateOptions(b){this.updateScrollbarSize(b.horizontal===2?0:b.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(b.vertical===2?0:b.verticalScrollbarSize),this._visibilityController.setVisibility(b.horizontal),this._scrollByPage=b.scrollByPage}}const h=(0,x.CM)("scrollbar-button-up",x.lA.triangleUp),L=(0,x.CM)("scrollbar-button-down",x.lA.triangleDown);class v extends r{constructor(b,F,te){const me=b.getScrollDimensions(),ue=b.getCurrentScrollPosition();if(super({lazyRender:F.lazyRender,host:te,scrollbarState:new w(F.verticalHasArrows?F.arrowSize:0,F.vertical===2?0:F.verticalScrollbarSize,0,me.height,me.scrollHeight,ue.scrollTop),visibility:F.vertical,extraScrollbarClassName:"vertical",scrollable:b,scrollByPage:F.scrollByPage}),F.verticalHasArrows){const Oe=(F.arrowSize-B)/2,Re=(F.verticalScrollbarSize-B)/2;this._createArrow({className:"scra",icon:h,top:Oe,left:Re,bottom:void 0,right:void 0,bgWidth:F.verticalScrollbarSize,bgHeight:F.arrowSize,onActivate:()=>this._host.onMouseWheel(new P.q(null,0,1))}),this._createArrow({className:"scra",icon:L,top:void 0,left:Re,bottom:Oe,right:void 0,bgWidth:F.verticalScrollbarSize,bgHeight:F.arrowSize,onActivate:()=>this._host.onMouseWheel(new P.q(null,0,-1))})}this._createSlider(0,Math.floor((F.verticalScrollbarSize-F.verticalSliderSize)/2),F.verticalSliderSize,void 0)}_updateSlider(b,F){this.slider.setHeight(b),this.slider.setTop(F)}_renderDomNode(b,F){this.domNode.setWidth(F),this.domNode.setHeight(b),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(b){return this._shouldRender=this._onElementScrollSize(b.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(b.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(b.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(b,F){return F}_sliderMousePosition(b){return b.posy}_sliderOrthogonalMousePosition(b){return b.posx}_updateScrollbarSize(b){this.slider.setWidth(b)}writeScrollPosition(b,F){b.scrollTop=F}updateOptions(b){this.updateScrollbarSize(b.vertical===2?0:b.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(b.vertical),this._scrollByPage=b.scrollByPage}}var V=c(4669),$=c(76633);const ee=500,de=50,pe=!0;class ve{constructor(b,F,te){this.timestamp=b,this.deltaX=F,this.deltaY=te,this.score=0}}class xe{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let b=1,F=0,te=1,me=this._rear;do{const ue=me===this._front?b:Math.pow(2,-te);if(b-=ue,F+=this._memory[me].score*ue,me===this._front)break;me=(this._capacity+me-1)%this._capacity,te++}while(!0);return F<=.5}accept(b,F,te){const me=new ve(b,F,te);me.score=this._computeScore(me),this._front===-1&&this._rear===-1?(this._memory[0]=me,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=me)}_computeScore(b){if(Math.abs(b.deltaX)>0&&Math.abs(b.deltaY)>0)return 1;let F=.5;const te=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(b.deltaX)||!this._isAlmostInt(b.deltaY))&&(F+=.25),Math.min(Math.max(F,0),1)}_isAlmostInt(b){return Math.abs(Math.round(b)-b)<.01}}xe.INSTANCE=new xe;class le extends X.${constructor(b,F,te){super(),this._onScroll=this._register(new V.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new V.Q5),b.style.overflow="hidden",this._options=q(F),this._scrollable=te,this._register(this._scrollable.onScroll(ue=>{this._onWillScroll.fire(ue),this._onDidScroll(ue),this._onScroll.fire(ue)}));const me={onMouseWheel:ue=>this._onMouseWheel(ue),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new v(this._scrollable,this._options,me)),this._horizontalScrollbar=this._register(new S(this._scrollable,this._options,me)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(b),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,Q.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,Q.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,Q.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,ue=>this._onMouseOver(ue)),this.onnonbubblingmouseout(this._listenOnDomNode,ue=>this._onMouseOut(ue)),this._hideTimeout=this._register(new R._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,N.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(b){this._verticalScrollbar.delegateMouseDown(b)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(b){this._scrollable.setScrollDimensions(b,!1)}updateClassName(b){this._options.className=b,D.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(b){typeof b.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=b.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof b.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=b.mouseWheelScrollSensitivity),typeof b.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=b.fastScrollSensitivity),typeof b.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=b.scrollPredominantAxis),typeof b.horizontal!="undefined"&&(this._options.horizontal=b.horizontal),typeof b.vertical!="undefined"&&(this._options.vertical=b.vertical),typeof b.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=b.horizontalScrollbarSize),typeof b.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=b.verticalScrollbarSize),typeof b.scrollByPage!="undefined"&&(this._options.scrollByPage=b.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(b){if(this._mouseWheelToDispose.length>0!==b&&(this._mouseWheelToDispose=(0,N.B9)(this._mouseWheelToDispose),b)){const te=me=>{this._onMouseWheel(new P.q(me))};this._mouseWheelToDispose.push(O.nm(this._listenOnDomNode,O.tw.MOUSE_WHEEL,te,{passive:!1}))}}_onMouseWheel(b){const F=xe.INSTANCE;if(pe){const ue=window.devicePixelRatio/(0,E.ie)();D.ED||D.IJ?F.accept(Date.now(),b.deltaX/ue,b.deltaY/ue):F.accept(Date.now(),b.deltaX,b.deltaY)}let te=!1;if(b.deltaY||b.deltaX){let ue=b.deltaY*this._options.mouseWheelScrollSensitivity,Oe=b.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(ue)>=Math.abs(Oe)?Oe=0:ue=0),this._options.flipAxes&&([ue,Oe]=[Oe,ue]);const Re=!D.dz&&b.browserEvent&&b.browserEvent.shiftKey;(this._options.scrollYToX||Re)&&!Oe&&(Oe=ue,ue=0),b.browserEvent&&b.browserEvent.altKey&&(Oe=Oe*this._options.fastScrollSensitivity,ue=ue*this._options.fastScrollSensitivity);const et=this._scrollable.getFutureScrollPosition();let Dt={};if(ue){const ht=de*ue,Mt=et.scrollTop-(ht<0?Math.floor(ht):Math.ceil(ht));this._verticalScrollbar.writeScrollPosition(Dt,Mt)}if(Oe){const ht=de*Oe,Mt=et.scrollLeft-(ht<0?Math.floor(ht):Math.ceil(ht));this._horizontalScrollbar.writeScrollPosition(Dt,Mt)}Dt=this._scrollable.validateScrollPosition(Dt),(et.scrollLeft!==Dt.scrollLeft||et.scrollTop!==Dt.scrollTop)&&(pe&&this._options.mouseWheelSmoothScroll&&F.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(Dt):this._scrollable.setScrollPositionNow(Dt),te=!0)}let me=te;!me&&this._options.alwaysConsumeMouseWheel&&(me=!0),!me&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(me=!0),me&&(b.preventDefault(),b.stopPropagation())}_onDidScroll(b){this._shouldRender=this._horizontalScrollbar.onDidScroll(b)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(b)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const b=this._scrollable.getCurrentScrollPosition(),F=b.scrollTop>0,te=b.scrollLeft>0,me=te?" left":"",ue=F?" top":"",Oe=te||F?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${me}`),this._topShadowDomNode.setClassName(`shadow${ue}`),this._topLeftShadowDomNode.setClassName(`shadow${Oe}${ue}${me}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(b){this._mouseIsOver=!1,this._hide()}_onMouseOver(b){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),ee)}}class Y extends le{constructor(b,F){F=F||{},F.mouseWheelSmoothScroll=!1;const te=new $.Rm(0,me=>O.jL(me));super(b,F,te),this._register(te)}setScrollPosition(b){this._scrollable.setScrollPositionNow(b)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class j extends le{constructor(b,F,te){super(b,F,te)}setScrollPosition(b){b.reuseAnimation?this._scrollable.setScrollPositionSmooth(b,b.reuseAnimation):this._scrollable.setScrollPositionNow(b)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class G extends Y{constructor(b,F){super(b,F),this._element=b,this.onScroll(te=>{te.scrollTopChanged&&(this._element.scrollTop=te.scrollTop),te.scrollLeftChanged&&(this._element.scrollLeft=te.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function q(m){const b={lazyRender:typeof m.lazyRender!="undefined"?m.lazyRender:!1,className:typeof m.className!="undefined"?m.className:"",useShadows:typeof m.useShadows!="undefined"?m.useShadows:!0,handleMouseWheel:typeof m.handleMouseWheel!="undefined"?m.handleMouseWheel:!0,flipAxes:typeof m.flipAxes!="undefined"?m.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof m.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?m.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof m.alwaysConsumeMouseWheel!="undefined"?m.alwaysConsumeMouseWheel:!1,scrollYToX:typeof m.scrollYToX!="undefined"?m.scrollYToX:!1,mouseWheelScrollSensitivity:typeof m.mouseWheelScrollSensitivity!="undefined"?m.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof m.fastScrollSensitivity!="undefined"?m.fastScrollSensitivity:5,scrollPredominantAxis:typeof m.scrollPredominantAxis!="undefined"?m.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof m.mouseWheelSmoothScroll!="undefined"?m.mouseWheelSmoothScroll:!0,arrowSize:typeof m.arrowSize!="undefined"?m.arrowSize:11,listenOnDomNode:typeof m.listenOnDomNode!="undefined"?m.listenOnDomNode:null,horizontal:typeof m.horizontal!="undefined"?m.horizontal:1,horizontalScrollbarSize:typeof m.horizontalScrollbarSize!="undefined"?m.horizontalScrollbarSize:10,horizontalSliderSize:typeof m.horizontalSliderSize!="undefined"?m.horizontalSliderSize:0,horizontalHasArrows:typeof m.horizontalHasArrows!="undefined"?m.horizontalHasArrows:!1,vertical:typeof m.vertical!="undefined"?m.vertical:1,verticalScrollbarSize:typeof m.verticalScrollbarSize!="undefined"?m.verticalScrollbarSize:10,verticalHasArrows:typeof m.verticalHasArrows!="undefined"?m.verticalHasArrows:!1,verticalSliderSize:typeof m.verticalSliderSize!="undefined"?m.verticalSliderSize:0,scrollByPage:typeof m.scrollByPage!="undefined"?m.scrollByPage:!1};return b.horizontalSliderSize=typeof m.horizontalSliderSize!="undefined"?m.horizontalSliderSize:b.horizontalScrollbarSize,b.verticalSliderSize=typeof m.verticalSliderSize!="undefined"?m.verticalSliderSize:b.verticalScrollbarSize,D.dz&&(b.className+=" mac"),b}},33225:function(Qt,He,c){"use strict";c.d(He,{M:function(){return w},z:function(){return x}});var E=c(65321),O=c(83080),Q=c(13433),P=c(9488),y=c(41264),X=c(4669),R=c(5976),B=c(59870),s=c(76633),N=c(98401);const g={separatorBorder:y.Il.transparent};class D{constructor(p,S,h,L){this.container=p,this.view=S,this.disposable=L,this._cachedVisibleSize=void 0,typeof h=="number"?(this._size=h,this._cachedVisibleSize=void 0,p.classList.add("visible")):(this._size=0,this._cachedVisibleSize=h.cachedVisibleSize)}set size(p){this._size=p}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(p,S){p!==this.visible&&(p?(this.size=(0,B.u)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof S=="number"?S:this.size,this.size=0),this.container.classList.toggle("visible",p),this.view.setVisible&&this.view.setVisible(p))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(p){this.container.style.pointerEvents=p?"":"none"}layout(p,S){this.layoutContainer(p),this.view.layout(this.size,p,S)}dispose(){return this.disposable.dispose(),this.view}}class H extends D{layoutContainer(p){this.container.style.top=`${p}px`,this.container.style.height=`${this.size}px`}}class r extends D{layoutContainer(p){this.container.style.left=`${p}px`,this.container.style.width=`${this.size}px`}}var T;(function(f){f[f.Idle=0]="Idle",f[f.Busy=1]="Busy"})(T||(T={}));var w;(function(f){f.Distribute={type:"distribute"};function p(h){return{type:"split",index:h}}f.Split=p;function S(h){return{type:"invisible",cachedVisibleSize:h}}f.Invisible=S})(w||(w={}));class x extends R.JT{constructor(p,S={}){var h,L;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=T.Idle,this._onDidSashChange=this._register(new X.Q5),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new X.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=N.o8(S.orientation)?0:S.orientation,this.inverseAltBehavior=!!S.inverseAltBehavior,this.proportionalLayout=N.o8(S.proportionalLayout)?!0:!!S.proportionalLayout,this.getSashOrthogonalSize=S.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),p.appendChild(this.el),this.sashContainer=(0,E.R3)(this.el,(0,E.$)(".sash-container")),this.viewContainer=(0,E.$)(".split-view-container"),this.scrollable=new s.Rm(125,E.jL),this.scrollableElement=this._register(new Q.$Z(this.viewContainer,{vertical:this.orientation===0?(h=S.scrollbarVisibility)!==null&&h!==void 0?h:1:2,horizontal:this.orientation===1?(L=S.scrollbarVisibility)!==null&&L!==void 0?L:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(v=>{this.viewContainer.scrollTop=v.scrollTop,this.viewContainer.scrollLeft=v.scrollLeft})),(0,E.R3)(this.el,this.scrollableElement.getDomNode()),this.style(S.styles||g),S.descriptor&&(this.size=S.descriptor.size,S.descriptor.views.forEach((v,V)=>{const $=N.o8(v.visible)||v.visible?v.size:{type:"invisible",cachedVisibleSize:v.size},ee=v.view;this.doAddView(ee,$,V,!0)}),this.contentSize=this.viewItems.reduce((v,V)=>v+V.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(p){for(const S of this.sashItems)S.sash.orthogonalStartSash=p;this._orthogonalStartSash=p}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(p){for(const S of this.sashItems)S.sash.orthogonalEndSash=p;this._orthogonalEndSash=p}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(p){this._startSnappingEnabled!==p&&(this._startSnappingEnabled=p,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(p){this._endSnappingEnabled!==p&&(this._endSnappingEnabled=p,this.updateSashEnablement())}style(p){p.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",p.separatorBorder.toString()))}addView(p,S,h=this.viewItems.length,L){this.doAddView(p,S,h,L)}layout(p,S){const h=Math.max(this.size,this.contentSize);if(this.size=p,this.layoutContext=S,this.proportions)for(let L=0;L<this.viewItems.length;L++){const v=this.viewItems[L];v.size=(0,B.u)(Math.round(this.proportions[L]*p),v.minimumSize,v.maximumSize)}else{const L=(0,P.w6)(this.viewItems.length),v=L.filter($=>this.viewItems[$].priority===1),V=L.filter($=>this.viewItems[$].priority===2);this.resize(this.viewItems.length-1,p-h,void 0,v,V)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(p=>p.size/this.contentSize))}onSashStart({sash:p,start:S,alt:h}){for(const $ of this.viewItems)$.enabled=!1;const L=this.sashItems.findIndex($=>$.sash===p),v=(0,R.F8)((0,E.nm)(document.body,"keydown",$=>V(this.sashDragState.current,$.altKey)),(0,E.nm)(document.body,"keyup",()=>V(this.sashDragState.current,!1))),V=($,ee)=>{const de=this.viewItems.map(Y=>Y.size);let pe=Number.NEGATIVE_INFINITY,ve=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(ee=!ee),ee)if(L===this.sashItems.length-1){const j=this.viewItems[L];pe=(j.minimumSize-j.size)/2,ve=(j.maximumSize-j.size)/2}else{const j=this.viewItems[L+1];pe=(j.size-j.maximumSize)/2,ve=(j.size-j.minimumSize)/2}let xe,le;if(!ee){const Y=(0,P.w6)(L,-1),j=(0,P.w6)(L+1,this.viewItems.length),G=Y.reduce((Oe,Re)=>Oe+(this.viewItems[Re].minimumSize-de[Re]),0),q=Y.reduce((Oe,Re)=>Oe+(this.viewItems[Re].viewMaximumSize-de[Re]),0),m=j.length===0?Number.POSITIVE_INFINITY:j.reduce((Oe,Re)=>Oe+(de[Re]-this.viewItems[Re].minimumSize),0),b=j.length===0?Number.NEGATIVE_INFINITY:j.reduce((Oe,Re)=>Oe+(de[Re]-this.viewItems[Re].viewMaximumSize),0),F=Math.max(G,b),te=Math.min(m,q),me=this.findFirstSnapIndex(Y),ue=this.findFirstSnapIndex(j);if(typeof me=="number"){const Oe=this.viewItems[me],Re=Math.floor(Oe.viewMinimumSize/2);xe={index:me,limitDelta:Oe.visible?F-Re:F+Re,size:Oe.size}}if(typeof ue=="number"){const Oe=this.viewItems[ue],Re=Math.floor(Oe.viewMinimumSize/2);le={index:ue,limitDelta:Oe.visible?te+Re:te-Re,size:Oe.size}}}this.sashDragState={start:$,current:$,index:L,sizes:de,minDelta:pe,maxDelta:ve,alt:ee,snapBefore:xe,snapAfter:le,disposable:v}};V(S,h)}onSashChange({current:p}){const{index:S,start:h,sizes:L,alt:v,minDelta:V,maxDelta:$,snapBefore:ee,snapAfter:de}=this.sashDragState;this.sashDragState.current=p;const pe=p-h,ve=this.resize(S,pe,L,void 0,void 0,V,$,ee,de);if(v){const xe=S===this.sashItems.length-1,le=this.viewItems.map(b=>b.size),Y=xe?S:S+1,j=this.viewItems[Y],G=j.size-j.maximumSize,q=j.size-j.minimumSize,m=xe?S-1:S+1;this.resize(m,-ve,le,void 0,void 0,G,q)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(p){this._onDidSashChange.fire(p),this.sashDragState.disposable.dispose(),this.saveProportions();for(const S of this.viewItems)S.enabled=!0}onViewChange(p,S){const h=this.viewItems.indexOf(p);h<0||h>=this.viewItems.length||(S=typeof S=="number"?S:p.size,S=(0,B.u)(S,p.minimumSize,p.maximumSize),this.inverseAltBehavior&&h>0?(this.resize(h-1,Math.floor((p.size-S)/2)),this.distributeEmptySpace(),this.layoutViews()):(p.size=S,this.relayout([h],void 0)))}resizeView(p,S){if(this.state!==T.Idle)throw new Error("Cant modify splitview");if(this.state=T.Busy,p<0||p>=this.viewItems.length)return;const h=(0,P.w6)(this.viewItems.length).filter($=>$!==p),L=[...h.filter($=>this.viewItems[$].priority===1),p],v=h.filter($=>this.viewItems[$].priority===2),V=this.viewItems[p];S=Math.round(S),S=(0,B.u)(S,V.minimumSize,Math.min(V.maximumSize,this.size)),V.size=S,this.relayout(L,v),this.state=T.Idle}distributeViewSizes(){const p=[];let S=0;for(const $ of this.viewItems)$.maximumSize-$.minimumSize>0&&(p.push($),S+=$.size);const h=Math.floor(S/p.length);for(const $ of p)$.size=(0,B.u)(h,$.minimumSize,$.maximumSize);const L=(0,P.w6)(this.viewItems.length),v=L.filter($=>this.viewItems[$].priority===1),V=L.filter($=>this.viewItems[$].priority===2);this.relayout(v,V)}getViewSize(p){return p<0||p>=this.viewItems.length?-1:this.viewItems[p].size}doAddView(p,S,h=this.viewItems.length,L){if(this.state!==T.Idle)throw new Error("Cant modify splitview");this.state=T.Busy;const v=(0,E.$)(".split-view-view");h===this.viewItems.length?this.viewContainer.appendChild(v):this.viewContainer.insertBefore(v,this.viewContainer.children.item(h));const V=p.onDidChange(xe=>this.onViewChange(pe,xe)),$=(0,R.OF)(()=>this.viewContainer.removeChild(v)),ee=(0,R.F8)(V,$);let de;typeof S=="number"?de=S:S.type==="split"?de=this.getViewSize(S.index)/2:S.type==="invisible"?de={cachedVisibleSize:S.cachedVisibleSize}:de=p.minimumSize;const pe=this.orientation===0?new H(v,p,de,ee):new r(v,p,de,ee);if(this.viewItems.splice(h,0,pe),this.viewItems.length>1){let xe={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const le=this.orientation===0?new O.g(this.sashContainer,{getHorizontalSashTop:Oe=>this.getSashPosition(Oe),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},xe),{orientation:1})):new O.g(this.sashContainer,{getVerticalSashLeft:Oe=>this.getSashPosition(Oe),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},xe),{orientation:0})),Y=this.orientation===0?Oe=>({sash:le,start:Oe.startY,current:Oe.currentY,alt:Oe.altKey}):Oe=>({sash:le,start:Oe.startX,current:Oe.currentX,alt:Oe.altKey}),G=X.ju.map(le.onDidStart,Y)(this.onSashStart,this),m=X.ju.map(le.onDidChange,Y)(this.onSashChange,this),F=X.ju.map(le.onDidEnd,()=>this.sashItems.findIndex(Oe=>Oe.sash===le))(this.onSashEnd,this),te=le.onDidReset(()=>{const Oe=this.sashItems.findIndex(Mt=>Mt.sash===le),Re=(0,P.w6)(Oe,-1),et=(0,P.w6)(Oe+1,this.viewItems.length),Dt=this.findFirstSnapIndex(Re),ht=this.findFirstSnapIndex(et);typeof Dt=="number"&&!this.viewItems[Dt].visible||typeof ht=="number"&&!this.viewItems[ht].visible||this._onDidSashReset.fire(Oe)}),me=(0,R.F8)(G,m,F,te,le),ue={sash:le,disposable:me};this.sashItems.splice(h-1,0,ue)}v.appendChild(p.element);let ve;typeof S!="number"&&S.type==="split"&&(ve=[S.index]),L||this.relayout([h],ve),this.state=T.Idle,!L&&typeof S!="number"&&S.type==="distribute"&&this.distributeViewSizes()}relayout(p,S){const h=this.viewItems.reduce((L,v)=>L+v.size,0);this.resize(this.viewItems.length-1,this.size-h,void 0,p,S),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(p,S,h=this.viewItems.map(pe=>pe.size),L,v,V=Number.NEGATIVE_INFINITY,$=Number.POSITIVE_INFINITY,ee,de){if(p<0||p>=this.viewItems.length)return 0;const pe=(0,P.w6)(p,-1),ve=(0,P.w6)(p+1,this.viewItems.length);if(v)for(const ue of v)(0,P.zI)(pe,ue),(0,P.zI)(ve,ue);if(L)for(const ue of L)(0,P.al)(pe,ue),(0,P.al)(ve,ue);const xe=pe.map(ue=>this.viewItems[ue]),le=pe.map(ue=>h[ue]),Y=ve.map(ue=>this.viewItems[ue]),j=ve.map(ue=>h[ue]),G=pe.reduce((ue,Oe)=>ue+(this.viewItems[Oe].minimumSize-h[Oe]),0),q=pe.reduce((ue,Oe)=>ue+(this.viewItems[Oe].maximumSize-h[Oe]),0),m=ve.length===0?Number.POSITIVE_INFINITY:ve.reduce((ue,Oe)=>ue+(h[Oe]-this.viewItems[Oe].minimumSize),0),b=ve.length===0?Number.NEGATIVE_INFINITY:ve.reduce((ue,Oe)=>ue+(h[Oe]-this.viewItems[Oe].maximumSize),0),F=Math.max(G,b,V),te=Math.min(m,q,$);let me=!1;if(ee){const ue=this.viewItems[ee.index],Oe=S>=ee.limitDelta;me=Oe!==ue.visible,ue.setVisible(Oe,ee.size)}if(!me&&de){const ue=this.viewItems[de.index],Oe=S<de.limitDelta;me=Oe!==ue.visible,ue.setVisible(Oe,de.size)}if(me)return this.resize(p,S,h,L,v,V,$);S=(0,B.u)(S,F,te);for(let ue=0,Oe=S;ue<xe.length;ue++){const Re=xe[ue],et=(0,B.u)(le[ue]+Oe,Re.minimumSize,Re.maximumSize),Dt=et-le[ue];Oe-=Dt,Re.size=et}for(let ue=0,Oe=S;ue<Y.length;ue++){const Re=Y[ue],et=(0,B.u)(j[ue]-Oe,Re.minimumSize,Re.maximumSize),Dt=et-j[ue];Oe+=Dt,Re.size=et}return S}distributeEmptySpace(p){const S=this.viewItems.reduce(($,ee)=>$+ee.size,0);let h=this.size-S;const L=(0,P.w6)(this.viewItems.length-1,-1),v=L.filter($=>this.viewItems[$].priority===1),V=L.filter($=>this.viewItems[$].priority===2);for(const $ of V)(0,P.zI)(L,$);for(const $ of v)(0,P.al)(L,$);typeof p=="number"&&(0,P.al)(L,p);for(let $=0;h!==0&&$<L.length;$++){const ee=this.viewItems[L[$]],de=(0,B.u)(ee.size+h,ee.minimumSize,ee.maximumSize),pe=de-ee.size;h-=pe,ee.size=de}}layoutViews(){this.contentSize=this.viewItems.reduce((S,h)=>S+h.size,0);let p=0;for(const S of this.viewItems)S.layout(p,this.layoutContext),p+=S.size;this.sashItems.forEach(S=>S.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let p=!1;const S=this.viewItems.map(ee=>p=ee.size-ee.minimumSize>0||p);p=!1;const h=this.viewItems.map(ee=>p=ee.maximumSize-ee.size>0||p),L=[...this.viewItems].reverse();p=!1;const v=L.map(ee=>p=ee.size-ee.minimumSize>0||p).reverse();p=!1;const V=L.map(ee=>p=ee.maximumSize-ee.size>0||p).reverse();let $=0;for(let ee=0;ee<this.sashItems.length;ee++){const{sash:de}=this.sashItems[ee],pe=this.viewItems[ee];$+=pe.size;const ve=!(S[ee]&&V[ee+1]),xe=!(h[ee]&&v[ee+1]);if(ve&&xe){const le=(0,P.w6)(ee,-1),Y=(0,P.w6)(ee+1,this.viewItems.length),j=this.findFirstSnapIndex(le),G=this.findFirstSnapIndex(Y),q=typeof j=="number"&&!this.viewItems[j].visible,m=typeof G=="number"&&!this.viewItems[G].visible;q&&v[ee]&&($>0||this.startSnappingEnabled)?de.state=1:m&&S[ee]&&($<this.contentSize||this.endSnappingEnabled)?de.state=2:de.state=0}else ve&&!xe?de.state=1:!ve&&xe?de.state=2:de.state=3}}getSashPosition(p){let S=0;for(let h=0;h<this.sashItems.length;h++)if(S+=this.viewItems[h].size,this.sashItems[h].sash===p)return S;return 0}findFirstSnapIndex(p){for(const S of p){const h=this.viewItems[S];if(h.visible&&h.snap)return S}for(const S of p){const h=this.viewItems[S];if(h.visible&&h.maximumSize-h.minimumSize>0)return;if(!h.visible&&h.snap)return S}}dispose(){super.dispose(),this.viewItems.forEach(p=>p.dispose()),this.viewItems=[],this.sashItems.forEach(p=>p.disposable.dispose()),this.sashItems=[]}}},93794:function(Qt,He,c){"use strict";c.d(He,{$:function(){return X}});var E=c(65321),O=c(59069),Q=c(23938),P=c(10553),y=c(5976);class X extends y.JT{onclick(B,s){this._register(E.nm(B,E.tw.CLICK,N=>s(new Q.n(N))))}onmousedown(B,s){this._register(E.nm(B,E.tw.MOUSE_DOWN,N=>s(new Q.n(N))))}onmouseover(B,s){this._register(E.nm(B,E.tw.MOUSE_OVER,N=>s(new Q.n(N))))}onnonbubblingmouseout(B,s){this._register(E.j_(B,N=>s(new Q.n(N))))}onkeydown(B,s){this._register(E.nm(B,E.tw.KEY_DOWN,N=>s(new O.y(N))))}onkeyup(B,s){this._register(E.nm(B,E.tw.KEY_UP,N=>s(new O.y(N))))}oninput(B,s){this._register(E.nm(B,E.tw.INPUT,s))}onblur(B,s){this._register(E.nm(B,E.tw.BLUR,s))}onfocus(B,s){this._register(E.nm(B,E.tw.FOCUS,s))}ignoreGesture(B){P.o.ignoreTarget(B)}}},74741:function(Qt,He,c){"use strict";c.d(He,{Wi:function(){return X},Z0:function(){return R},aU:function(){return y},eZ:function(){return s},wY:function(){return B}});var E=c(4669),O=c(5976),Q=c(63580),P=function(N,g,D,H){function r(T){return T instanceof D?T:new D(function(w){w(T)})}return new(D||(D=Promise))(function(T,w){function x(S){try{p(H.next(S))}catch(h){w(h)}}function f(S){try{p(H.throw(S))}catch(h){w(h)}}function p(S){S.done?T(S.value):r(S.value).then(x,f)}p((H=H.apply(N,g||[])).next())})};class y extends O.JT{constructor(g,D="",H="",r=!0,T){super(),this._onDidChange=this._register(new E.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=g,this._label=D,this._cssClass=H,this._enabled=r,this._actionCallback=T}get id(){return this._id}get label(){return this._label}set label(g){this._setLabel(g)}_setLabel(g){this._label!==g&&(this._label=g,this._onDidChange.fire({label:g}))}get tooltip(){return this._tooltip||""}set tooltip(g){this._setTooltip(g)}_setTooltip(g){this._tooltip!==g&&(this._tooltip=g,this._onDidChange.fire({tooltip:g}))}get class(){return this._cssClass}set class(g){this._setClass(g)}_setClass(g){this._cssClass!==g&&(this._cssClass=g,this._onDidChange.fire({class:g}))}get enabled(){return this._enabled}set enabled(g){this._setEnabled(g)}_setEnabled(g){this._enabled!==g&&(this._enabled=g,this._onDidChange.fire({enabled:g}))}get checked(){return this._checked}set checked(g){this._setChecked(g)}_setChecked(g){this._checked!==g&&(this._checked=g,this._onDidChange.fire({checked:g}))}run(g,D){return P(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(g))})}}class X extends O.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new E.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new E.Q5),this.onDidRun=this._onDidRun.event}run(g,D){return P(this,void 0,void 0,function*(){if(!g.enabled)return;this._onBeforeRun.fire({action:g});let H;try{yield this.runAction(g,D)}catch(r){H=r}this._onDidRun.fire({action:g,error:H})})}runAction(g,D){return P(this,void 0,void 0,function*(){yield g.run(D)})}}class R extends y{constructor(g){super(R.ID,g,g?"separator text":"separator"),this.checked=!1,this.enabled=!1}}R.ID="vs.actions.separator";class B{constructor(g,D,H,r){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=g,this.label=D,this.class=r,this._actions=H}get actions(){return this._actions}dispose(){}run(){return P(this,void 0,void 0,function*(){})}}class s extends y{constructor(){super(s.ID,Q.N("submenu.empty","(empty)"),void 0,!1)}}s.ID="vs.actions.empty"},9488:function(Qt,He,c){"use strict";c.d(He,{EB:function(){return g},Gb:function(){return E},H9:function(){return V},HW:function(){return X},JH:function(){return O},Of:function(){return N},XY:function(){return s},Xh:function(){return r},Zv:function(){return x},_2:function(){return S},al:function(){return p},dF:function(){return D},db:function(){return L},fS:function(){return Q},kX:function(){return B},lG:function(){return y},ry:function(){return P},vM:function(){return R},w6:function(){return w},xH:function(){return T},zI:function(){return f}});function E($,ee=0){return $[$.length-(1+ee)]}function O($){if($.length===0)throw new Error("Invalid tail call");return[$.slice(0,$.length-1),$[$.length-1]]}function Q($,ee,de=(pe,ve)=>pe===ve){if($===ee)return!0;if(!$||!ee||$.length!==ee.length)return!1;for(let pe=0,ve=$.length;pe<ve;pe++)if(!de($[pe],ee[pe]))return!1;return!0}function P($,ee,de){let pe=0,ve=$.length-1;for(;pe<=ve;){const xe=(pe+ve)/2|0,le=de($[xe],ee);if(le<0)pe=xe+1;else if(le>0)ve=xe-1;else return xe}return-(pe+1)}function y($,ee){let de=0,pe=$.length;if(pe===0)return 0;for(;de<pe;){const ve=Math.floor((de+pe)/2);ee($[ve])?pe=ve:de=ve+1}return de}function X($,ee,de){if($=$|0,$>=ee.length)throw new TypeError("invalid index");let pe=ee[Math.floor(ee.length*Math.random())],ve=[],xe=[],le=[];for(let Y of ee){const j=de(Y,pe);j<0?ve.push(Y):j>0?xe.push(Y):le.push(Y)}return $<ve.length?X($,ve,de):$<ve.length+le.length?le[0]:X($-(ve.length+le.length),xe,de)}function R($,ee){const de=[];let pe;for(const ve of $.slice(0).sort(ee))!pe||ee(pe[0],ve)!==0?(pe=[ve],de.push(pe)):pe.push(ve);return de}function B($){return $.filter(ee=>!!ee)}function s($){return!Array.isArray($)||$.length===0}function N($){return Array.isArray($)&&$.length>0}function g($,ee=de=>de){const de=new Set;return $.filter(pe=>{const ve=ee(pe);return de.has(ve)?!1:(de.add(ve),!0)})}function D($,ee){const de=H($,ee);if(de!==-1)return $[de]}function H($,ee){for(let de=$.length-1;de>=0;de--){const pe=$[de];if(ee(pe))return de}return-1}function r($,ee){return $.length>0?$[0]:ee}function T($){return[].concat(...$)}function w($,ee){let de=typeof ee=="number"?$:0;typeof ee=="number"?de=$:(de=0,ee=$);const pe=[];if(de<=ee)for(let ve=de;ve<ee;ve++)pe.push(ve);else for(let ve=de;ve>ee;ve--)pe.push(ve);return pe}function x($,ee,de){const pe=$.slice(0,ee),ve=$.slice(ee);return pe.concat(de,ve)}function f($,ee){const de=$.indexOf(ee);de>-1&&($.splice(de,1),$.unshift(ee))}function p($,ee){const de=$.indexOf(ee);de>-1&&($.splice(de,1),$.push(ee))}function S($){return Array.isArray($)?$:[$]}function h($,ee,de){const pe=v($,ee),ve=$.length,xe=de.length;$.length=ve+xe;for(let le=ve-1;le>=pe;le--)$[le+xe]=$[le];for(let le=0;le<xe;le++)$[le+pe]=de[le]}function L($,ee,de,pe){const ve=v($,ee),xe=$.splice(ve,de);return h($,ve,pe),xe}function v($,ee){return ee<0?Math.max(ee+$.length,0):Math.min(ee,$.length)}class V{constructor(ee){this.items=ee,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(ee){let de=this.firstIdx;for(;de<this.items.length&&ee(this.items[de]);)de++;const pe=de===this.firstIdx?null:this.items.slice(this.firstIdx,de);return this.firstIdx=de,pe}takeFromEndWhile(ee){let de=this.lastIdx;for(;de>=0&&ee(this.items[de]);)de--;const pe=de===this.lastIdx?null:this.items.slice(de+1,this.lastIdx+1);return this.lastIdx=de,pe}peek(){return this.items[this.firstIdx]}}},35146:function(Qt,He,c){"use strict";c.d(He,{ok:function(){return E}});function E(O,Q){if(!O)throw new Error(Q?`Assertion failed (${Q})`:"Assertion Failed")}},15393:function(Qt,He,c){"use strict";c.d(He,{J8:function(){return y},PG:function(){return X},Ue:function(){return f},Vg:function(){return D},Vs:function(){return g},_F:function(){return r},eP:function(){return R},jT:function(){return p},pY:function(){return w},rH:function(){return N},vp:function(){return s},zh:function(){return T}});var E=c(71050),O=c(17301),Q=c(5976),P=function(S,h,L,v){function V($){return $ instanceof L?$:new L(function(ee){ee($)})}return new(L||(L=Promise))(function($,ee){function de(xe){try{ve(v.next(xe))}catch(le){ee(le)}}function pe(xe){try{ve(v.throw(xe))}catch(le){ee(le)}}function ve(xe){xe.done?$(xe.value):V(xe.value).then(de,pe)}ve((v=v.apply(S,h||[])).next())})};function y(S){return!!S&&typeof S.then=="function"}function X(S){const h=new E.A,L=S(h.token),v=new Promise((V,$)=>{const ee=h.token.onCancellationRequested(()=>{ee.dispose(),h.dispose(),$((0,O.F0)())});Promise.resolve(L).then(de=>{ee.dispose(),h.dispose(),V(de)},de=>{ee.dispose(),h.dispose(),$(de)})});return new class{cancel(){h.cancel()}then(V,$){return v.then(V,$)}catch(V){return this.then(void 0,V)}finally(V){return v.finally(V)}}}function R(S,h,L){return Promise.race([S,new Promise(v=>h.onCancellationRequested(()=>v(L)))])}class B{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(h){if(this.activePromise){if(this.queuedPromiseFactory=h,!this.queuedPromise){const L=()=>{this.queuedPromise=null;const v=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,v};this.queuedPromise=new Promise(v=>{this.activePromise.then(L,L).then(v)})}return new Promise((L,v)=>{this.queuedPromise.then(L,v)})}return this.activePromise=h(),new Promise((L,v)=>{this.activePromise.then(V=>{this.activePromise=null,L(V)},V=>{this.activePromise=null,v(V)})})}}class s{constructor(h){this.defaultDelay=h,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(h,L=this.defaultDelay){return this.task=h,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((v,V)=>{this.doResolve=v,this.doReject=V}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const v=this.task;return this.task=null,v()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},L),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,O.F0)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}class N{constructor(h){this.delayer=new s(h),this.throttler=new B}trigger(h,L){return this.delayer.trigger(()=>this.throttler.queue(h),L)}dispose(){this.delayer.dispose()}}function g(S,h){return h?new Promise((L,v)=>{const V=setTimeout(()=>{$.dispose(),L()},S),$=h.onCancellationRequested(()=>{clearTimeout(V),$.dispose(),v((0,O.F0)())})}):X(L=>g(S,L))}function D(S,h=0){const L=setTimeout(S,h);return(0,Q.OF)(()=>clearTimeout(L))}function H(S,h=v=>!!v,L=null){let v=0;const V=S.length,$=()=>{if(v>=V)return Promise.resolve(L);const ee=S[v++];return Promise.resolve(ee()).then(pe=>h(pe)?Promise.resolve(pe):$())};return $()}class r{constructor(h,L){this._token=-1,typeof h=="function"&&typeof L=="number"&&this.setIfNotSet(h,L)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(h,L){this.cancel(),this._token=setTimeout(()=>{this._token=-1,h()},L)}setIfNotSet(h,L){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,h()},L))}}class T{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(h,L){this.cancel(),this._token=setInterval(()=>{h()},L)}}class w{constructor(h,L){this.timeoutToken=-1,this.runner=h,this.timeout=L,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(h=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,h)}get delay(){return this.timeout}set delay(h){this.timeout=h}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let x;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?x=S=>{const h=setTimeout(()=>{const v=Date.now()+15;S(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,v-Date.now())}}))});let L=!1;return{dispose(){L||(L=!0,clearTimeout(h))}}}:x=(S,h)=>{const L=requestIdleCallback(S,typeof h=="number"?{timeout:h}:void 0);let v=!1;return{dispose(){v||(v=!0,cancelIdleCallback(L))}}}})();class f{constructor(h){this._didRun=!1,this._executor=()=>{try{this._value=h()}catch(L){this._error=L}finally{this._didRun=!0}},this._handle=x(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}var p;(function(S){function h(v){return P(this,void 0,void 0,function*(){let V;const $=yield Promise.all(v.map(ee=>ee.then(de=>de,de=>{V||(V=de)})));if(typeof V!="undefined")throw V;return $})}S.settled=h;function L(v){return new Promise((V,$)=>P(this,void 0,void 0,function*(){try{yield v(V,$)}catch(ee){$(ee)}}))}S.withAsyncBody=L})(p||(p={}))},53060:function(Qt,He,c){"use strict";c.d(He,{Ag:function(){return R},Cg:function(){return N},KN:function(){return P},Q$:function(){return s},T4:function(){return B},mP:function(){return y},oq:function(){return X}});var E=c(48764).lW;const O=typeof E!="undefined";let Q;class P{constructor(D){this.buffer=D,this.byteLength=this.buffer.byteLength}static wrap(D){return O&&!E.isBuffer(D)&&(D=E.from(D.buffer,D.byteOffset,D.byteLength)),new P(D)}toString(){return O?this.buffer.toString():(Q||(Q=new TextDecoder),Q.decode(this.buffer))}}function y(g,D){return g[D+0]<<0>>>0|g[D+1]<<8>>>0}function X(g,D,H){g[H+0]=D&255,D=D>>>8,g[H+1]=D&255}function R(g,D){return g[D]*Math.pow(2,24)+g[D+1]*Math.pow(2,16)+g[D+2]*Math.pow(2,8)+g[D+3]}function B(g,D,H){g[H+3]=D,D=D>>>8,g[H+2]=D,D=D>>>8,g[H+1]=D,D=D>>>8,g[H]=D}function s(g,D){return g[D]}function N(g,D,H){g[H]=D}},71050:function(Qt,He,c){"use strict";c.d(He,{A:function(){return y},T:function(){return Q}});var E=c(4669);const O=Object.freeze(function(X,R){const B=setTimeout(X.bind(R),0);return{dispose(){clearTimeout(B)}}});var Q;(function(X){function R(B){return B===X.None||B===X.Cancelled||B instanceof P?!0:!B||typeof B!="object"?!1:typeof B.isCancellationRequested=="boolean"&&typeof B.onCancellationRequested=="function"}X.isCancellationToken=R,X.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:E.ju.None}),X.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:O})})(Q||(Q={}));class P{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?O:(this._emitter||(this._emitter=new E.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class y{constructor(R){this._token=void 0,this._parentListener=void 0,this._parentListener=R&&R.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new P),this._token}cancel(){this._token?this._token instanceof P&&this._token.cancel():this._token=Q.Cancelled}dispose(R=!1){R&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof P&&this._token.dispose():this._token=Q.None}}},73046:function(Qt,He,c){"use strict";c.d(He,{CM:function(){return y},JL:function(){return X},dT:function(){return B},fK:function(){return P},lA:function(){return R}});var E=c(4669);class O{constructor(){this._icons=new Map,this._onDidRegister=new E.Q5}add(N){const g=this._icons.get(N.id);g?N.description?g.description=N.description:console.error(`Duplicate registration of codicon ${N.id}`):(this._icons.set(N.id,N),this._onDidRegister.fire(N))}get(N){return this._icons.get(N)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const Q=new O,P=Q;function y(s,N){return new R(s,N)}function X(s){return s?s.replace(/\$\((.*?)\)/g,(N,g)=>` ${g} `).trim():""}class R{constructor(N,g,D){this.id=N,this.definition=g,this.description=D,Q.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}var B;(function(s){s.iconNameSegment="[A-Za-z0-9]+",s.iconNameExpression="[A-Za-z0-9\\-]+",s.iconModifierExpression="~[A-Za-z]+";const N=new RegExp(`^(${s.iconNameExpression})(${s.iconModifierExpression})?$`);function g(r){if(r instanceof R)return["codicon","codicon-"+r.id];const T=N.exec(r.id);if(!T)return g(R.error);let[,w,x]=T;const f=["codicon","codicon-"+w];return x&&f.push("codicon-modifier-"+x.substr(1)),f}s.asClassNameArray=g;function D(r){return g(r).join(" ")}s.asClassName=D;function H(r){return"."+g(r).join(".")}s.asCSSSelector=H})(B||(B={})),function(s){s.add=new s("add",{fontCharacter:"\\ea60"}),s.plus=new s("plus",s.add.definition),s.gistNew=new s("gist-new",s.add.definition),s.repoCreate=new s("repo-create",s.add.definition),s.lightbulb=new s("lightbulb",{fontCharacter:"\\ea61"}),s.lightBulb=new s("light-bulb",{fontCharacter:"\\ea61"}),s.repo=new s("repo",{fontCharacter:"\\ea62"}),s.repoDelete=new s("repo-delete",{fontCharacter:"\\ea62"}),s.gistFork=new s("gist-fork",{fontCharacter:"\\ea63"}),s.repoForked=new s("repo-forked",{fontCharacter:"\\ea63"}),s.gitPullRequest=new s("git-pull-request",{fontCharacter:"\\ea64"}),s.gitPullRequestAbandoned=new s("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),s.recordKeys=new s("record-keys",{fontCharacter:"\\ea65"}),s.keyboard=new s("keyboard",{fontCharacter:"\\ea65"}),s.tag=new s("tag",{fontCharacter:"\\ea66"}),s.tagAdd=new s("tag-add",{fontCharacter:"\\ea66"}),s.tagRemove=new s("tag-remove",{fontCharacter:"\\ea66"}),s.person=new s("person",{fontCharacter:"\\ea67"}),s.personFollow=new s("person-follow",{fontCharacter:"\\ea67"}),s.personOutline=new s("person-outline",{fontCharacter:"\\ea67"}),s.personFilled=new s("person-filled",{fontCharacter:"\\ea67"}),s.gitBranch=new s("git-branch",{fontCharacter:"\\ea68"}),s.gitBranchCreate=new s("git-branch-create",{fontCharacter:"\\ea68"}),s.gitBranchDelete=new s("git-branch-delete",{fontCharacter:"\\ea68"}),s.sourceControl=new s("source-control",{fontCharacter:"\\ea68"}),s.mirror=new s("mirror",{fontCharacter:"\\ea69"}),s.mirrorPublic=new s("mirror-public",{fontCharacter:"\\ea69"}),s.star=new s("star",{fontCharacter:"\\ea6a"}),s.starAdd=new s("star-add",{fontCharacter:"\\ea6a"}),s.starDelete=new s("star-delete",{fontCharacter:"\\ea6a"}),s.starEmpty=new s("star-empty",{fontCharacter:"\\ea6a"}),s.comment=new s("comment",{fontCharacter:"\\ea6b"}),s.commentAdd=new s("comment-add",{fontCharacter:"\\ea6b"}),s.alert=new s("alert",{fontCharacter:"\\ea6c"}),s.warning=new s("warning",{fontCharacter:"\\ea6c"}),s.search=new s("search",{fontCharacter:"\\ea6d"}),s.searchSave=new s("search-save",{fontCharacter:"\\ea6d"}),s.logOut=new s("log-out",{fontCharacter:"\\ea6e"}),s.signOut=new s("sign-out",{fontCharacter:"\\ea6e"}),s.logIn=new s("log-in",{fontCharacter:"\\ea6f"}),s.signIn=new s("sign-in",{fontCharacter:"\\ea6f"}),s.eye=new s("eye",{fontCharacter:"\\ea70"}),s.eyeUnwatch=new s("eye-unwatch",{fontCharacter:"\\ea70"}),s.eyeWatch=new s("eye-watch",{fontCharacter:"\\ea70"}),s.circleFilled=new s("circle-filled",{fontCharacter:"\\ea71"}),s.primitiveDot=new s("primitive-dot",{fontCharacter:"\\ea71"}),s.closeDirty=new s("close-dirty",{fontCharacter:"\\ea71"}),s.debugBreakpoint=new s("debug-breakpoint",{fontCharacter:"\\ea71"}),s.debugBreakpointDisabled=new s("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),s.debugHint=new s("debug-hint",{fontCharacter:"\\ea71"}),s.primitiveSquare=new s("primitive-square",{fontCharacter:"\\ea72"}),s.edit=new s("edit",{fontCharacter:"\\ea73"}),s.pencil=new s("pencil",{fontCharacter:"\\ea73"}),s.info=new s("info",{fontCharacter:"\\ea74"}),s.issueOpened=new s("issue-opened",{fontCharacter:"\\ea74"}),s.gistPrivate=new s("gist-private",{fontCharacter:"\\ea75"}),s.gitForkPrivate=new s("git-fork-private",{fontCharacter:"\\ea75"}),s.lock=new s("lock",{fontCharacter:"\\ea75"}),s.mirrorPrivate=new s("mirror-private",{fontCharacter:"\\ea75"}),s.close=new s("close",{fontCharacter:"\\ea76"}),s.removeClose=new s("remove-close",{fontCharacter:"\\ea76"}),s.x=new s("x",{fontCharacter:"\\ea76"}),s.repoSync=new s("repo-sync",{fontCharacter:"\\ea77"}),s.sync=new s("sync",{fontCharacter:"\\ea77"}),s.clone=new s("clone",{fontCharacter:"\\ea78"}),s.desktopDownload=new s("desktop-download",{fontCharacter:"\\ea78"}),s.beaker=new s("beaker",{fontCharacter:"\\ea79"}),s.microscope=new s("microscope",{fontCharacter:"\\ea79"}),s.vm=new s("vm",{fontCharacter:"\\ea7a"}),s.deviceDesktop=new s("device-desktop",{fontCharacter:"\\ea7a"}),s.file=new s("file",{fontCharacter:"\\ea7b"}),s.fileText=new s("file-text",{fontCharacter:"\\ea7b"}),s.more=new s("more",{fontCharacter:"\\ea7c"}),s.ellipsis=new s("ellipsis",{fontCharacter:"\\ea7c"}),s.kebabHorizontal=new s("kebab-horizontal",{fontCharacter:"\\ea7c"}),s.mailReply=new s("mail-reply",{fontCharacter:"\\ea7d"}),s.reply=new s("reply",{fontCharacter:"\\ea7d"}),s.organization=new s("organization",{fontCharacter:"\\ea7e"}),s.organizationFilled=new s("organization-filled",{fontCharacter:"\\ea7e"}),s.organizationOutline=new s("organization-outline",{fontCharacter:"\\ea7e"}),s.newFile=new s("new-file",{fontCharacter:"\\ea7f"}),s.fileAdd=new s("file-add",{fontCharacter:"\\ea7f"}),s.newFolder=new s("new-folder",{fontCharacter:"\\ea80"}),s.fileDirectoryCreate=new s("file-directory-create",{fontCharacter:"\\ea80"}),s.trash=new s("trash",{fontCharacter:"\\ea81"}),s.trashcan=new s("trashcan",{fontCharacter:"\\ea81"}),s.history=new s("history",{fontCharacter:"\\ea82"}),s.clock=new s("clock",{fontCharacter:"\\ea82"}),s.folder=new s("folder",{fontCharacter:"\\ea83"}),s.fileDirectory=new s("file-directory",{fontCharacter:"\\ea83"}),s.symbolFolder=new s("symbol-folder",{fontCharacter:"\\ea83"}),s.logoGithub=new s("logo-github",{fontCharacter:"\\ea84"}),s.markGithub=new s("mark-github",{fontCharacter:"\\ea84"}),s.github=new s("github",{fontCharacter:"\\ea84"}),s.terminal=new s("terminal",{fontCharacter:"\\ea85"}),s.console=new s("console",{fontCharacter:"\\ea85"}),s.repl=new s("repl",{fontCharacter:"\\ea85"}),s.zap=new s("zap",{fontCharacter:"\\ea86"}),s.symbolEvent=new s("symbol-event",{fontCharacter:"\\ea86"}),s.error=new s("error",{fontCharacter:"\\ea87"}),s.stop=new s("stop",{fontCharacter:"\\ea87"}),s.variable=new s("variable",{fontCharacter:"\\ea88"}),s.symbolVariable=new s("symbol-variable",{fontCharacter:"\\ea88"}),s.array=new s("array",{fontCharacter:"\\ea8a"}),s.symbolArray=new s("symbol-array",{fontCharacter:"\\ea8a"}),s.symbolModule=new s("symbol-module",{fontCharacter:"\\ea8b"}),s.symbolPackage=new s("symbol-package",{fontCharacter:"\\ea8b"}),s.symbolNamespace=new s("symbol-namespace",{fontCharacter:"\\ea8b"}),s.symbolObject=new s("symbol-object",{fontCharacter:"\\ea8b"}),s.symbolMethod=new s("symbol-method",{fontCharacter:"\\ea8c"}),s.symbolFunction=new s("symbol-function",{fontCharacter:"\\ea8c"}),s.symbolConstructor=new s("symbol-constructor",{fontCharacter:"\\ea8c"}),s.symbolBoolean=new s("symbol-boolean",{fontCharacter:"\\ea8f"}),s.symbolNull=new s("symbol-null",{fontCharacter:"\\ea8f"}),s.symbolNumeric=new s("symbol-numeric",{fontCharacter:"\\ea90"}),s.symbolNumber=new s("symbol-number",{fontCharacter:"\\ea90"}),s.symbolStructure=new s("symbol-structure",{fontCharacter:"\\ea91"}),s.symbolStruct=new s("symbol-struct",{fontCharacter:"\\ea91"}),s.symbolParameter=new s("symbol-parameter",{fontCharacter:"\\ea92"}),s.symbolTypeParameter=new s("symbol-type-parameter",{fontCharacter:"\\ea92"}),s.symbolKey=new s("symbol-key",{fontCharacter:"\\ea93"}),s.symbolText=new s("symbol-text",{fontCharacter:"\\ea93"}),s.symbolReference=new s("symbol-reference",{fontCharacter:"\\ea94"}),s.goToFile=new s("go-to-file",{fontCharacter:"\\ea94"}),s.symbolEnum=new s("symbol-enum",{fontCharacter:"\\ea95"}),s.symbolValue=new s("symbol-value",{fontCharacter:"\\ea95"}),s.symbolRuler=new s("symbol-ruler",{fontCharacter:"\\ea96"}),s.symbolUnit=new s("symbol-unit",{fontCharacter:"\\ea96"}),s.activateBreakpoints=new s("activate-breakpoints",{fontCharacter:"\\ea97"}),s.archive=new s("archive",{fontCharacter:"\\ea98"}),s.arrowBoth=new s("arrow-both",{fontCharacter:"\\ea99"}),s.arrowDown=new s("arrow-down",{fontCharacter:"\\ea9a"}),s.arrowLeft=new s("arrow-left",{fontCharacter:"\\ea9b"}),s.arrowRight=new s("arrow-right",{fontCharacter:"\\ea9c"}),s.arrowSmallDown=new s("arrow-small-down",{fontCharacter:"\\ea9d"}),s.arrowSmallLeft=new s("arrow-small-left",{fontCharacter:"\\ea9e"}),s.arrowSmallRight=new s("arrow-small-right",{fontCharacter:"\\ea9f"}),s.arrowSmallUp=new s("arrow-small-up",{fontCharacter:"\\eaa0"}),s.arrowUp=new s("arrow-up",{fontCharacter:"\\eaa1"}),s.bell=new s("bell",{fontCharacter:"\\eaa2"}),s.bold=new s("bold",{fontCharacter:"\\eaa3"}),s.book=new s("book",{fontCharacter:"\\eaa4"}),s.bookmark=new s("bookmark",{fontCharacter:"\\eaa5"}),s.debugBreakpointConditionalUnverified=new s("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),s.debugBreakpointConditional=new s("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),s.debugBreakpointConditionalDisabled=new s("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),s.debugBreakpointDataUnverified=new s("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),s.debugBreakpointData=new s("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),s.debugBreakpointDataDisabled=new s("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),s.debugBreakpointLogUnverified=new s("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),s.debugBreakpointLog=new s("debug-breakpoint-log",{fontCharacter:"\\eaab"}),s.debugBreakpointLogDisabled=new s("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),s.briefcase=new s("briefcase",{fontCharacter:"\\eaac"}),s.broadcast=new s("broadcast",{fontCharacter:"\\eaad"}),s.browser=new s("browser",{fontCharacter:"\\eaae"}),s.bug=new s("bug",{fontCharacter:"\\eaaf"}),s.calendar=new s("calendar",{fontCharacter:"\\eab0"}),s.caseSensitive=new s("case-sensitive",{fontCharacter:"\\eab1"}),s.check=new s("check",{fontCharacter:"\\eab2"}),s.checklist=new s("checklist",{fontCharacter:"\\eab3"}),s.chevronDown=new s("chevron-down",{fontCharacter:"\\eab4"}),s.dropDownButton=new s("drop-down-button",s.chevronDown.definition),s.chevronLeft=new s("chevron-left",{fontCharacter:"\\eab5"}),s.chevronRight=new s("chevron-right",{fontCharacter:"\\eab6"}),s.chevronUp=new s("chevron-up",{fontCharacter:"\\eab7"}),s.chromeClose=new s("chrome-close",{fontCharacter:"\\eab8"}),s.chromeMaximize=new s("chrome-maximize",{fontCharacter:"\\eab9"}),s.chromeMinimize=new s("chrome-minimize",{fontCharacter:"\\eaba"}),s.chromeRestore=new s("chrome-restore",{fontCharacter:"\\eabb"}),s.circleOutline=new s("circle-outline",{fontCharacter:"\\eabc"}),s.debugBreakpointUnverified=new s("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),s.circleSlash=new s("circle-slash",{fontCharacter:"\\eabd"}),s.circuitBoard=new s("circuit-board",{fontCharacter:"\\eabe"}),s.clearAll=new s("clear-all",{fontCharacter:"\\eabf"}),s.clippy=new s("clippy",{fontCharacter:"\\eac0"}),s.closeAll=new s("close-all",{fontCharacter:"\\eac1"}),s.cloudDownload=new s("cloud-download",{fontCharacter:"\\eac2"}),s.cloudUpload=new s("cloud-upload",{fontCharacter:"\\eac3"}),s.code=new s("code",{fontCharacter:"\\eac4"}),s.collapseAll=new s("collapse-all",{fontCharacter:"\\eac5"}),s.colorMode=new s("color-mode",{fontCharacter:"\\eac6"}),s.commentDiscussion=new s("comment-discussion",{fontCharacter:"\\eac7"}),s.compareChanges=new s("compare-changes",{fontCharacter:"\\eafd"}),s.creditCard=new s("credit-card",{fontCharacter:"\\eac9"}),s.dash=new s("dash",{fontCharacter:"\\eacc"}),s.dashboard=new s("dashboard",{fontCharacter:"\\eacd"}),s.database=new s("database",{fontCharacter:"\\eace"}),s.debugContinue=new s("debug-continue",{fontCharacter:"\\eacf"}),s.debugDisconnect=new s("debug-disconnect",{fontCharacter:"\\ead0"}),s.debugPause=new s("debug-pause",{fontCharacter:"\\ead1"}),s.debugRestart=new s("debug-restart",{fontCharacter:"\\ead2"}),s.debugStart=new s("debug-start",{fontCharacter:"\\ead3"}),s.debugStepInto=new s("debug-step-into",{fontCharacter:"\\ead4"}),s.debugStepOut=new s("debug-step-out",{fontCharacter:"\\ead5"}),s.debugStepOver=new s("debug-step-over",{fontCharacter:"\\ead6"}),s.debugStop=new s("debug-stop",{fontCharacter:"\\ead7"}),s.debug=new s("debug",{fontCharacter:"\\ead8"}),s.deviceCameraVideo=new s("device-camera-video",{fontCharacter:"\\ead9"}),s.deviceCamera=new s("device-camera",{fontCharacter:"\\eada"}),s.deviceMobile=new s("device-mobile",{fontCharacter:"\\eadb"}),s.diffAdded=new s("diff-added",{fontCharacter:"\\eadc"}),s.diffIgnored=new s("diff-ignored",{fontCharacter:"\\eadd"}),s.diffModified=new s("diff-modified",{fontCharacter:"\\eade"}),s.diffRemoved=new s("diff-removed",{fontCharacter:"\\eadf"}),s.diffRenamed=new s("diff-renamed",{fontCharacter:"\\eae0"}),s.diff=new s("diff",{fontCharacter:"\\eae1"}),s.discard=new s("discard",{fontCharacter:"\\eae2"}),s.editorLayout=new s("editor-layout",{fontCharacter:"\\eae3"}),s.emptyWindow=new s("empty-window",{fontCharacter:"\\eae4"}),s.exclude=new s("exclude",{fontCharacter:"\\eae5"}),s.extensions=new s("extensions",{fontCharacter:"\\eae6"}),s.eyeClosed=new s("eye-closed",{fontCharacter:"\\eae7"}),s.fileBinary=new s("file-binary",{fontCharacter:"\\eae8"}),s.fileCode=new s("file-code",{fontCharacter:"\\eae9"}),s.fileMedia=new s("file-media",{fontCharacter:"\\eaea"}),s.filePdf=new s("file-pdf",{fontCharacter:"\\eaeb"}),s.fileSubmodule=new s("file-submodule",{fontCharacter:"\\eaec"}),s.fileSymlinkDirectory=new s("file-symlink-directory",{fontCharacter:"\\eaed"}),s.fileSymlinkFile=new s("file-symlink-file",{fontCharacter:"\\eaee"}),s.fileZip=new s("file-zip",{fontCharacter:"\\eaef"}),s.files=new s("files",{fontCharacter:"\\eaf0"}),s.filter=new s("filter",{fontCharacter:"\\eaf1"}),s.flame=new s("flame",{fontCharacter:"\\eaf2"}),s.foldDown=new s("fold-down",{fontCharacter:"\\eaf3"}),s.foldUp=new s("fold-up",{fontCharacter:"\\eaf4"}),s.fold=new s("fold",{fontCharacter:"\\eaf5"}),s.folderActive=new s("folder-active",{fontCharacter:"\\eaf6"}),s.folderOpened=new s("folder-opened",{fontCharacter:"\\eaf7"}),s.gear=new s("gear",{fontCharacter:"\\eaf8"}),s.gift=new s("gift",{fontCharacter:"\\eaf9"}),s.gistSecret=new s("gist-secret",{fontCharacter:"\\eafa"}),s.gist=new s("gist",{fontCharacter:"\\eafb"}),s.gitCommit=new s("git-commit",{fontCharacter:"\\eafc"}),s.gitCompare=new s("git-compare",{fontCharacter:"\\eafd"}),s.gitMerge=new s("git-merge",{fontCharacter:"\\eafe"}),s.githubAction=new s("github-action",{fontCharacter:"\\eaff"}),s.githubAlt=new s("github-alt",{fontCharacter:"\\eb00"}),s.globe=new s("globe",{fontCharacter:"\\eb01"}),s.grabber=new s("grabber",{fontCharacter:"\\eb02"}),s.graph=new s("graph",{fontCharacter:"\\eb03"}),s.gripper=new s("gripper",{fontCharacter:"\\eb04"}),s.heart=new s("heart",{fontCharacter:"\\eb05"}),s.home=new s("home",{fontCharacter:"\\eb06"}),s.horizontalRule=new s("horizontal-rule",{fontCharacter:"\\eb07"}),s.hubot=new s("hubot",{fontCharacter:"\\eb08"}),s.inbox=new s("inbox",{fontCharacter:"\\eb09"}),s.issueClosed=new s("issue-closed",{fontCharacter:"\\eba4"}),s.issueReopened=new s("issue-reopened",{fontCharacter:"\\eb0b"}),s.issues=new s("issues",{fontCharacter:"\\eb0c"}),s.italic=new s("italic",{fontCharacter:"\\eb0d"}),s.jersey=new s("jersey",{fontCharacter:"\\eb0e"}),s.json=new s("json",{fontCharacter:"\\eb0f"}),s.kebabVertical=new s("kebab-vertical",{fontCharacter:"\\eb10"}),s.key=new s("key",{fontCharacter:"\\eb11"}),s.law=new s("law",{fontCharacter:"\\eb12"}),s.lightbulbAutofix=new s("lightbulb-autofix",{fontCharacter:"\\eb13"}),s.linkExternal=new s("link-external",{fontCharacter:"\\eb14"}),s.link=new s("link",{fontCharacter:"\\eb15"}),s.listOrdered=new s("list-ordered",{fontCharacter:"\\eb16"}),s.listUnordered=new s("list-unordered",{fontCharacter:"\\eb17"}),s.liveShare=new s("live-share",{fontCharacter:"\\eb18"}),s.loading=new s("loading",{fontCharacter:"\\eb19"}),s.location=new s("location",{fontCharacter:"\\eb1a"}),s.mailRead=new s("mail-read",{fontCharacter:"\\eb1b"}),s.mail=new s("mail",{fontCharacter:"\\eb1c"}),s.markdown=new s("markdown",{fontCharacter:"\\eb1d"}),s.megaphone=new s("megaphone",{fontCharacter:"\\eb1e"}),s.mention=new s("mention",{fontCharacter:"\\eb1f"}),s.milestone=new s("milestone",{fontCharacter:"\\eb20"}),s.mortarBoard=new s("mortar-board",{fontCharacter:"\\eb21"}),s.move=new s("move",{fontCharacter:"\\eb22"}),s.multipleWindows=new s("multiple-windows",{fontCharacter:"\\eb23"}),s.mute=new s("mute",{fontCharacter:"\\eb24"}),s.noNewline=new s("no-newline",{fontCharacter:"\\eb25"}),s.note=new s("note",{fontCharacter:"\\eb26"}),s.octoface=new s("octoface",{fontCharacter:"\\eb27"}),s.openPreview=new s("open-preview",{fontCharacter:"\\eb28"}),s.package_=new s("package",{fontCharacter:"\\eb29"}),s.paintcan=new s("paintcan",{fontCharacter:"\\eb2a"}),s.pin=new s("pin",{fontCharacter:"\\eb2b"}),s.play=new s("play",{fontCharacter:"\\eb2c"}),s.run=new s("run",{fontCharacter:"\\eb2c"}),s.plug=new s("plug",{fontCharacter:"\\eb2d"}),s.preserveCase=new s("preserve-case",{fontCharacter:"\\eb2e"}),s.preview=new s("preview",{fontCharacter:"\\eb2f"}),s.project=new s("project",{fontCharacter:"\\eb30"}),s.pulse=new s("pulse",{fontCharacter:"\\eb31"}),s.question=new s("question",{fontCharacter:"\\eb32"}),s.quote=new s("quote",{fontCharacter:"\\eb33"}),s.radioTower=new s("radio-tower",{fontCharacter:"\\eb34"}),s.reactions=new s("reactions",{fontCharacter:"\\eb35"}),s.references=new s("references",{fontCharacter:"\\eb36"}),s.refresh=new s("refresh",{fontCharacter:"\\eb37"}),s.regex=new s("regex",{fontCharacter:"\\eb38"}),s.remoteExplorer=new s("remote-explorer",{fontCharacter:"\\eb39"}),s.remote=new s("remote",{fontCharacter:"\\eb3a"}),s.remove=new s("remove",{fontCharacter:"\\eb3b"}),s.replaceAll=new s("replace-all",{fontCharacter:"\\eb3c"}),s.replace=new s("replace",{fontCharacter:"\\eb3d"}),s.repoClone=new s("repo-clone",{fontCharacter:"\\eb3e"}),s.repoForcePush=new s("repo-force-push",{fontCharacter:"\\eb3f"}),s.repoPull=new s("repo-pull",{fontCharacter:"\\eb40"}),s.repoPush=new s("repo-push",{fontCharacter:"\\eb41"}),s.report=new s("report",{fontCharacter:"\\eb42"}),s.requestChanges=new s("request-changes",{fontCharacter:"\\eb43"}),s.rocket=new s("rocket",{fontCharacter:"\\eb44"}),s.rootFolderOpened=new s("root-folder-opened",{fontCharacter:"\\eb45"}),s.rootFolder=new s("root-folder",{fontCharacter:"\\eb46"}),s.rss=new s("rss",{fontCharacter:"\\eb47"}),s.ruby=new s("ruby",{fontCharacter:"\\eb48"}),s.saveAll=new s("save-all",{fontCharacter:"\\eb49"}),s.saveAs=new s("save-as",{fontCharacter:"\\eb4a"}),s.save=new s("save",{fontCharacter:"\\eb4b"}),s.screenFull=new s("screen-full",{fontCharacter:"\\eb4c"}),s.screenNormal=new s("screen-normal",{fontCharacter:"\\eb4d"}),s.searchStop=new s("search-stop",{fontCharacter:"\\eb4e"}),s.server=new s("server",{fontCharacter:"\\eb50"}),s.settingsGear=new s("settings-gear",{fontCharacter:"\\eb51"}),s.settings=new s("settings",{fontCharacter:"\\eb52"}),s.shield=new s("shield",{fontCharacter:"\\eb53"}),s.smiley=new s("smiley",{fontCharacter:"\\eb54"}),s.sortPrecedence=new s("sort-precedence",{fontCharacter:"\\eb55"}),s.splitHorizontal=new s("split-horizontal",{fontCharacter:"\\eb56"}),s.splitVertical=new s("split-vertical",{fontCharacter:"\\eb57"}),s.squirrel=new s("squirrel",{fontCharacter:"\\eb58"}),s.starFull=new s("star-full",{fontCharacter:"\\eb59"}),s.starHalf=new s("star-half",{fontCharacter:"\\eb5a"}),s.symbolClass=new s("symbol-class",{fontCharacter:"\\eb5b"}),s.symbolColor=new s("symbol-color",{fontCharacter:"\\eb5c"}),s.symbolConstant=new s("symbol-constant",{fontCharacter:"\\eb5d"}),s.symbolEnumMember=new s("symbol-enum-member",{fontCharacter:"\\eb5e"}),s.symbolField=new s("symbol-field",{fontCharacter:"\\eb5f"}),s.symbolFile=new s("symbol-file",{fontCharacter:"\\eb60"}),s.symbolInterface=new s("symbol-interface",{fontCharacter:"\\eb61"}),s.symbolKeyword=new s("symbol-keyword",{fontCharacter:"\\eb62"}),s.symbolMisc=new s("symbol-misc",{fontCharacter:"\\eb63"}),s.symbolOperator=new s("symbol-operator",{fontCharacter:"\\eb64"}),s.symbolProperty=new s("symbol-property",{fontCharacter:"\\eb65"}),s.wrench=new s("wrench",{fontCharacter:"\\eb65"}),s.wrenchSubaction=new s("wrench-subaction",{fontCharacter:"\\eb65"}),s.symbolSnippet=new s("symbol-snippet",{fontCharacter:"\\eb66"}),s.tasklist=new s("tasklist",{fontCharacter:"\\eb67"}),s.telescope=new s("telescope",{fontCharacter:"\\eb68"}),s.textSize=new s("text-size",{fontCharacter:"\\eb69"}),s.threeBars=new s("three-bars",{fontCharacter:"\\eb6a"}),s.thumbsdown=new s("thumbsdown",{fontCharacter:"\\eb6b"}),s.thumbsup=new s("thumbsup",{fontCharacter:"\\eb6c"}),s.tools=new s("tools",{fontCharacter:"\\eb6d"}),s.triangleDown=new s("triangle-down",{fontCharacter:"\\eb6e"}),s.triangleLeft=new s("triangle-left",{fontCharacter:"\\eb6f"}),s.triangleRight=new s("triangle-right",{fontCharacter:"\\eb70"}),s.triangleUp=new s("triangle-up",{fontCharacter:"\\eb71"}),s.twitter=new s("twitter",{fontCharacter:"\\eb72"}),s.unfold=new s("unfold",{fontCharacter:"\\eb73"}),s.unlock=new s("unlock",{fontCharacter:"\\eb74"}),s.unmute=new s("unmute",{fontCharacter:"\\eb75"}),s.unverified=new s("unverified",{fontCharacter:"\\eb76"}),s.verified=new s("verified",{fontCharacter:"\\eb77"}),s.versions=new s("versions",{fontCharacter:"\\eb78"}),s.vmActive=new s("vm-active",{fontCharacter:"\\eb79"}),s.vmOutline=new s("vm-outline",{fontCharacter:"\\eb7a"}),s.vmRunning=new s("vm-running",{fontCharacter:"\\eb7b"}),s.watch=new s("watch",{fontCharacter:"\\eb7c"}),s.whitespace=new s("whitespace",{fontCharacter:"\\eb7d"}),s.wholeWord=new s("whole-word",{fontCharacter:"\\eb7e"}),s.window=new s("window",{fontCharacter:"\\eb7f"}),s.wordWrap=new s("word-wrap",{fontCharacter:"\\eb80"}),s.zoomIn=new s("zoom-in",{fontCharacter:"\\eb81"}),s.zoomOut=new s("zoom-out",{fontCharacter:"\\eb82"}),s.listFilter=new s("list-filter",{fontCharacter:"\\eb83"}),s.listFlat=new s("list-flat",{fontCharacter:"\\eb84"}),s.listSelection=new s("list-selection",{fontCharacter:"\\eb85"}),s.selection=new s("selection",{fontCharacter:"\\eb85"}),s.listTree=new s("list-tree",{fontCharacter:"\\eb86"}),s.debugBreakpointFunctionUnverified=new s("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),s.debugBreakpointFunction=new s("debug-breakpoint-function",{fontCharacter:"\\eb88"}),s.debugBreakpointFunctionDisabled=new s("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),s.debugStackframeActive=new s("debug-stackframe-active",{fontCharacter:"\\eb89"}),s.debugStackframeDot=new s("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),s.debugStackframe=new s("debug-stackframe",{fontCharacter:"\\eb8b"}),s.debugStackframeFocused=new s("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),s.debugBreakpointUnsupported=new s("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),s.symbolString=new s("symbol-string",{fontCharacter:"\\eb8d"}),s.debugReverseContinue=new s("debug-reverse-continue",{fontCharacter:"\\eb8e"}),s.debugStepBack=new s("debug-step-back",{fontCharacter:"\\eb8f"}),s.debugRestartFrame=new s("debug-restart-frame",{fontCharacter:"\\eb90"}),s.callIncoming=new s("call-incoming",{fontCharacter:"\\eb92"}),s.callOutgoing=new s("call-outgoing",{fontCharacter:"\\eb93"}),s.menu=new s("menu",{fontCharacter:"\\eb94"}),s.expandAll=new s("expand-all",{fontCharacter:"\\eb95"}),s.feedback=new s("feedback",{fontCharacter:"\\eb96"}),s.groupByRefType=new s("group-by-ref-type",{fontCharacter:"\\eb97"}),s.ungroupByRefType=new s("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),s.account=new s("account",{fontCharacter:"\\eb99"}),s.bellDot=new s("bell-dot",{fontCharacter:"\\eb9a"}),s.debugConsole=new s("debug-console",{fontCharacter:"\\eb9b"}),s.library=new s("library",{fontCharacter:"\\eb9c"}),s.output=new s("output",{fontCharacter:"\\eb9d"}),s.runAll=new s("run-all",{fontCharacter:"\\eb9e"}),s.syncIgnored=new s("sync-ignored",{fontCharacter:"\\eb9f"}),s.pinned=new s("pinned",{fontCharacter:"\\eba0"}),s.githubInverted=new s("github-inverted",{fontCharacter:"\\eba1"}),s.debugAlt=new s("debug-alt",{fontCharacter:"\\eb91"}),s.serverProcess=new s("server-process",{fontCharacter:"\\eba2"}),s.serverEnvironment=new s("server-environment",{fontCharacter:"\\eba3"}),s.pass=new s("pass",{fontCharacter:"\\eba4"}),s.stopCircle=new s("stop-circle",{fontCharacter:"\\eba5"}),s.playCircle=new s("play-circle",{fontCharacter:"\\eba6"}),s.record=new s("record",{fontCharacter:"\\eba7"}),s.debugAltSmall=new s("debug-alt-small",{fontCharacter:"\\eba8"}),s.vmConnect=new s("vm-connect",{fontCharacter:"\\eba9"}),s.cloud=new s("cloud",{fontCharacter:"\\ebaa"}),s.merge=new s("merge",{fontCharacter:"\\ebab"}),s.exportIcon=new s("export",{fontCharacter:"\\ebac"}),s.graphLeft=new s("graph-left",{fontCharacter:"\\ebad"}),s.magnet=new s("magnet",{fontCharacter:"\\ebae"}),s.notebook=new s("notebook",{fontCharacter:"\\ebaf"}),s.redo=new s("redo",{fontCharacter:"\\ebb0"}),s.checkAll=new s("check-all",{fontCharacter:"\\ebb1"}),s.pinnedDirty=new s("pinned-dirty",{fontCharacter:"\\ebb2"}),s.passFilled=new s("pass-filled",{fontCharacter:"\\ebb3"}),s.circleLargeFilled=new s("circle-large-filled",{fontCharacter:"\\ebb4"}),s.circleLargeOutline=new s("circle-large-outline",{fontCharacter:"\\ebb5"}),s.combine=new s("combine",{fontCharacter:"\\ebb6"}),s.gather=new s("gather",{fontCharacter:"\\ebb6"}),s.table=new s("table",{fontCharacter:"\\ebb7"}),s.variableGroup=new s("variable-group",{fontCharacter:"\\ebb8"}),s.typeHierarchy=new s("type-hierarchy",{fontCharacter:"\\ebb9"}),s.typeHierarchySub=new s("type-hierarchy-sub",{fontCharacter:"\\ebba"}),s.typeHierarchySuper=new s("type-hierarchy-super",{fontCharacter:"\\ebbb"}),s.gitPullRequestCreate=new s("git-pull-request-create",{fontCharacter:"\\ebbc"}),s.runAbove=new s("run-above",{fontCharacter:"\\ebbd"}),s.runBelow=new s("run-below",{fontCharacter:"\\ebbe"}),s.notebookTemplate=new s("notebook-template",{fontCharacter:"\\ebbf"}),s.debugRerun=new s("debug-rerun",{fontCharacter:"\\ebc0"}),s.workspaceTrusted=new s("workspace-trusted",{fontCharacter:"\\ebc1"}),s.workspaceUntrusted=new s("workspace-untrusted",{fontCharacter:"\\ebc2"}),s.workspaceUnspecified=new s("workspace-unspecified",{fontCharacter:"\\ebc3"}),s.terminalCmd=new s("terminal-cmd",{fontCharacter:"\\ebc4"}),s.terminalDebian=new s("terminal-debian",{fontCharacter:"\\ebc5"}),s.terminalLinux=new s("terminal-linux",{fontCharacter:"\\ebc6"}),s.terminalPowershell=new s("terminal-powershell",{fontCharacter:"\\ebc7"}),s.terminalTmux=new s("terminal-tmux",{fontCharacter:"\\ebc8"}),s.terminalUbuntu=new s("terminal-ubuntu",{fontCharacter:"\\ebc9"}),s.terminalBash=new s("terminal-bash",{fontCharacter:"\\ebca"}),s.arrowSwap=new s("arrow-swap",{fontCharacter:"\\ebcb"}),s.copy=new s("copy",{fontCharacter:"\\ebcc"}),s.personAdd=new s("person-add",{fontCharacter:"\\ebcd"}),s.filterFilled=new s("filter-filled",{fontCharacter:"\\ebce"}),s.wand=new s("wand",{fontCharacter:"\\ebcf"}),s.debugLineByLine=new s("debug-line-by-line",{fontCharacter:"\\ebd0"}),s.inspect=new s("inspect",{fontCharacter:"\\ebd1"}),s.layers=new s("layers",{fontCharacter:"\\ebd2"}),s.layersDot=new s("layers-dot",{fontCharacter:"\\ebd3"}),s.layersActive=new s("layers-active",{fontCharacter:"\\ebd4"}),s.compass=new s("compass",{fontCharacter:"\\ebd5"}),s.compassDot=new s("compass-dot",{fontCharacter:"\\ebd6"}),s.compassActive=new s("compass-active",{fontCharacter:"\\ebd7"}),s.azure=new s("azure",{fontCharacter:"\\ebd8"}),s.issueDraft=new s("issue-draft",{fontCharacter:"\\ebd9"}),s.gitPullRequestClosed=new s("git-pull-request-closed",{fontCharacter:"\\ebda"}),s.gitPullRequestDraft=new s("git-pull-request-draft",{fontCharacter:"\\ebdb"}),s.debugAll=new s("debug-all",{fontCharacter:"\\ebdc"}),s.debugCoverage=new s("debug-coverage",{fontCharacter:"\\ebdd"}),s.runErrors=new s("run-errors",{fontCharacter:"\\ebde"}),s.folderLibrary=new s("folder-library",{fontCharacter:"\\ebdf"}),s.debugContinueSmall=new s("debug-continue-small",{fontCharacter:"\\ebe0"}),s.beakerStop=new s("beaker-stop",{fontCharacter:"\\ebe1"}),s.graphLine=new s("graph-line",{fontCharacter:"\\ebe2"}),s.graphScatter=new s("graph-scatter",{fontCharacter:"\\ebe3"}),s.pieChart=new s("pie-chart",{fontCharacter:"\\ebe4"}),s.bracket=new s("bracket",s.json.definition),s.bracketDot=new s("bracket-dot",{fontCharacter:"\\ebe5"}),s.bracketError=new s("bracket-error",{fontCharacter:"\\ebe6"}),s.lockSmall=new s("lock-small",{fontCharacter:"\\ebe7"}),s.azureDevops=new s("azure-devops",{fontCharacter:"\\ebe8"}),s.verifiedFilled=new s("verified-filled",{fontCharacter:"\\ebe9"})}(R||(R={}))},6626:function(Qt,He,c){"use strict";c.d(He,{E:function(){return O},r:function(){return Q}});const E=Object.prototype.hasOwnProperty;function O(P,y){for(let X in P)if(E.call(P,X)&&y({key:X,value:P[X]},function(){delete P[X]})===!1)return}class Q{constructor(){this.map=new Map}add(y,X){let R=this.map.get(y);R||(R=new Set,this.map.set(y,R)),R.add(X)}delete(y,X){const R=this.map.get(y);R&&(R.delete(X),R.size===0&&this.map.delete(y))}forEach(y,X){const R=this.map.get(y);R&&R.forEach(X)}}},41264:function(Qt,He,c){"use strict";c.d(He,{Il:function(){return y},VS:function(){return O},tx:function(){return P}});function E(X,R){const B=Math.pow(10,R);return Math.round(X*B)/B}class O{constructor(R,B,s,N=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,R))|0,this.g=Math.min(255,Math.max(0,B))|0,this.b=Math.min(255,Math.max(0,s))|0,this.a=E(Math.max(Math.min(1,N),0),3)}static equals(R,B){return R.r===B.r&&R.g===B.g&&R.b===B.b&&R.a===B.a}}class Q{constructor(R,B,s,N){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,R),0)|0,this.s=E(Math.max(Math.min(1,B),0),3),this.l=E(Math.max(Math.min(1,s),0),3),this.a=E(Math.max(Math.min(1,N),0),3)}static equals(R,B){return R.h===B.h&&R.s===B.s&&R.l===B.l&&R.a===B.a}static fromRGBA(R){const B=R.r/255,s=R.g/255,N=R.b/255,g=R.a,D=Math.max(B,s,N),H=Math.min(B,s,N);let r=0,T=0;const w=(H+D)/2,x=D-H;if(x>0){switch(T=Math.min(w<=.5?x/(2*w):x/(2-2*w),1),D){case B:r=(s-N)/x+(s<N?6:0);break;case s:r=(N-B)/x+2;break;case N:r=(B-s)/x+4;break}r*=60,r=Math.round(r)}return new Q(r,T,w,g)}static _hue2rgb(R,B,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?R+(B-R)*6*s:s<1/2?B:s<2/3?R+(B-R)*(2/3-s)*6:R}static toRGBA(R){const B=R.h/360,{s,l:N,a:g}=R;let D,H,r;if(s===0)D=H=r=N;else{const T=N<.5?N*(1+s):N+s-N*s,w=2*N-T;D=Q._hue2rgb(w,T,B+1/3),H=Q._hue2rgb(w,T,B),r=Q._hue2rgb(w,T,B-1/3)}return new O(Math.round(D*255),Math.round(H*255),Math.round(r*255),g)}}class P{constructor(R,B,s,N){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,R),0)|0,this.s=E(Math.max(Math.min(1,B),0),3),this.v=E(Math.max(Math.min(1,s),0),3),this.a=E(Math.max(Math.min(1,N),0),3)}static equals(R,B){return R.h===B.h&&R.s===B.s&&R.v===B.v&&R.a===B.a}static fromRGBA(R){const B=R.r/255,s=R.g/255,N=R.b/255,g=Math.max(B,s,N),D=Math.min(B,s,N),H=g-D,r=g===0?0:H/g;let T;return H===0?T=0:g===B?T=((s-N)/H%6+6)%6:g===s?T=(N-B)/H+2:T=(B-s)/H+4,new P(Math.round(T*60),r,g,R.a)}static toRGBA(R){const{h:B,s,v:N,a:g}=R,D=N*s,H=D*(1-Math.abs(B/60%2-1)),r=N-D;let[T,w,x]=[0,0,0];return B<60?(T=D,w=H):B<120?(T=H,w=D):B<180?(w=D,x=H):B<240?(w=H,x=D):B<300?(T=H,x=D):B<=360&&(T=D,x=H),T=Math.round((T+r)*255),w=Math.round((w+r)*255),x=Math.round((x+r)*255),new O(T,w,x,g)}}class y{constructor(R){if(R)if(R instanceof O)this.rgba=R;else if(R instanceof Q)this._hsla=R,this.rgba=Q.toRGBA(R);else if(R instanceof P)this._hsva=R,this.rgba=P.toRGBA(R);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(R){return y.Format.CSS.parseHex(R)||y.red}get hsla(){return this._hsla?this._hsla:Q.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:P.fromRGBA(this.rgba)}equals(R){return!!R&&O.equals(this.rgba,R.rgba)&&Q.equals(this.hsla,R.hsla)&&P.equals(this.hsva,R.hsva)}getRelativeLuminance(){const R=y._relativeLuminanceForComponent(this.rgba.r),B=y._relativeLuminanceForComponent(this.rgba.g),s=y._relativeLuminanceForComponent(this.rgba.b),N=.2126*R+.7152*B+.0722*s;return E(N,4)}static _relativeLuminanceForComponent(R){const B=R/255;return B<=.03928?B/12.92:Math.pow((B+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(R){const B=this.getRelativeLuminance(),s=R.getRelativeLuminance();return B>s}isDarkerThan(R){const B=this.getRelativeLuminance(),s=R.getRelativeLuminance();return B<s}lighten(R){return new y(new Q(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*R,this.hsla.a))}darken(R){return new y(new Q(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*R,this.hsla.a))}transparent(R){const{r:B,g:s,b:N,a:g}=this.rgba;return new y(new O(B,s,N,g*R))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new y(new O(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=y.Format.CSS.format(this)),this._toString}static getLighterColor(R,B,s){if(R.isLighterThan(B))return R;s=s||.5;const N=R.getRelativeLuminance(),g=B.getRelativeLuminance();return s=s*(g-N)/g,R.lighten(s)}static getDarkerColor(R,B,s){if(R.isDarkerThan(B))return R;s=s||.5;const N=R.getRelativeLuminance(),g=B.getRelativeLuminance();return s=s*(N-g)/N,R.darken(s)}}y.white=new y(new O(255,255,255,1)),y.black=new y(new O(0,0,0,1)),y.red=new y(new O(255,0,0,1)),y.blue=new y(new O(0,0,255,1)),y.cyan=new y(new O(0,255,255,1)),y.lightgrey=new y(new O(211,211,211,1)),y.transparent=new y(new O(0,0,0,0)),function(X){let R;(function(B){let s;(function(N){function g(h){return h.rgba.a===1?`rgb(${h.rgba.r}, ${h.rgba.g}, ${h.rgba.b})`:X.Format.CSS.formatRGBA(h)}N.formatRGB=g;function D(h){return`rgba(${h.rgba.r}, ${h.rgba.g}, ${h.rgba.b}, ${+h.rgba.a.toFixed(2)})`}N.formatRGBA=D;function H(h){return h.hsla.a===1?`hsl(${h.hsla.h}, ${(h.hsla.s*100).toFixed(2)}%, ${(h.hsla.l*100).toFixed(2)}%)`:X.Format.CSS.formatHSLA(h)}N.formatHSL=H;function r(h){return`hsla(${h.hsla.h}, ${(h.hsla.s*100).toFixed(2)}%, ${(h.hsla.l*100).toFixed(2)}%, ${h.hsla.a.toFixed(2)})`}N.formatHSLA=r;function T(h){const L=h.toString(16);return L.length!==2?"0"+L:L}function w(h){return`#${T(h.rgba.r)}${T(h.rgba.g)}${T(h.rgba.b)}`}N.formatHex=w;function x(h,L=!1){return L&&h.rgba.a===1?X.Format.CSS.formatHex(h):`#${T(h.rgba.r)}${T(h.rgba.g)}${T(h.rgba.b)}${T(Math.round(h.rgba.a*255))}`}N.formatHexA=x;function f(h){return h.isOpaque()?X.Format.CSS.formatHex(h):X.Format.CSS.formatRGBA(h)}N.format=f;function p(h){const L=h.length;if(L===0||h.charCodeAt(0)!==35)return null;if(L===7){const v=16*S(h.charCodeAt(1))+S(h.charCodeAt(2)),V=16*S(h.charCodeAt(3))+S(h.charCodeAt(4)),$=16*S(h.charCodeAt(5))+S(h.charCodeAt(6));return new X(new O(v,V,$,1))}if(L===9){const v=16*S(h.charCodeAt(1))+S(h.charCodeAt(2)),V=16*S(h.charCodeAt(3))+S(h.charCodeAt(4)),$=16*S(h.charCodeAt(5))+S(h.charCodeAt(6)),ee=16*S(h.charCodeAt(7))+S(h.charCodeAt(8));return new X(new O(v,V,$,ee/255))}if(L===4){const v=S(h.charCodeAt(1)),V=S(h.charCodeAt(2)),$=S(h.charCodeAt(3));return new X(new O(16*v+v,16*V+V,16*$+$))}if(L===5){const v=S(h.charCodeAt(1)),V=S(h.charCodeAt(2)),$=S(h.charCodeAt(3)),ee=S(h.charCodeAt(4));return new X(new O(16*v+v,16*V+V,16*$+$,(16*ee+ee)/255))}return null}N.parseHex=p;function S(h){switch(h){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(s=B.CSS||(B.CSS={}))})(R=X.Format||(X.Format={}))}(y||(y={}))},49898:function(Qt,He,c){"use strict";c.d(He,{H:function(){return E}});function E(O,Q,P){let y=null,X=null;if(typeof P.value=="function"?(y="value",X=P.value,X.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof P.get=="function"&&(y="get",X=P.get),!X)throw new Error("not supported");const R=`$memoize$${Q}`;P[y]=function(...B){return this.hasOwnProperty(R)||Object.defineProperty(this,R,{configurable:!1,enumerable:!1,writable:!1,value:X.apply(this,B)}),this[R]}}},22571:function(Qt,He,c){"use strict";c.d(He,{Hs:function(){return B},a$:function(){return P}});class E{constructor(N,g,D,H){this.originalStart=N,this.originalLength=g,this.modifiedStart=D,this.modifiedLength=H}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var O=c(89954);class Q{constructor(N){this.source=N}getElements(){const N=this.source,g=new Int32Array(N.length);for(let D=0,H=N.length;D<H;D++)g[D]=N.charCodeAt(D);return g}}function P(s,N,g){return new B(new Q(s),new Q(N)).ComputeDiff(g).changes}class y{static Assert(N,g){if(!N)throw new Error(g)}}class X{static Copy(N,g,D,H,r){for(let T=0;T<r;T++)D[H+T]=N[g+T]}static Copy2(N,g,D,H,r){for(let T=0;T<r;T++)D[H+T]=N[g+T]}}class R{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new E(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(N,g){this.m_originalStart=Math.min(this.m_originalStart,N),this.m_modifiedStart=Math.min(this.m_modifiedStart,g),this.m_originalCount++}AddModifiedElement(N,g){this.m_originalStart=Math.min(this.m_originalStart,N),this.m_modifiedStart=Math.min(this.m_modifiedStart,g),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class B{constructor(N,g,D=null){this.ContinueProcessingPredicate=D,this._originalSequence=N,this._modifiedSequence=g;const[H,r,T]=B._getElements(N),[w,x,f]=B._getElements(g);this._hasStrings=T&&f,this._originalStringElements=H,this._originalElementsOrHash=r,this._modifiedStringElements=w,this._modifiedElementsOrHash=x,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(N){return N.length>0&&typeof N[0]=="string"}static _getElements(N){const g=N.getElements();if(B._isStringArray(g)){const D=new Int32Array(g.length);for(let H=0,r=g.length;H<r;H++)D[H]=(0,O.Cv)(g[H],0);return[g,D,!0]}return g instanceof Int32Array?[[],g,!1]:[[],new Int32Array(g),!1]}ElementsAreEqual(N,g){return this._originalElementsOrHash[N]!==this._modifiedElementsOrHash[g]?!1:this._hasStrings?this._originalStringElements[N]===this._modifiedStringElements[g]:!0}ElementsAreStrictEqual(N,g){if(!this.ElementsAreEqual(N,g))return!1;const D=B._getStrictElement(this._originalSequence,N),H=B._getStrictElement(this._modifiedSequence,g);return D===H}static _getStrictElement(N,g){return typeof N.getStrictElement=="function"?N.getStrictElement(g):null}OriginalElementsAreEqual(N,g){return this._originalElementsOrHash[N]!==this._originalElementsOrHash[g]?!1:this._hasStrings?this._originalStringElements[N]===this._originalStringElements[g]:!0}ModifiedElementsAreEqual(N,g){return this._modifiedElementsOrHash[N]!==this._modifiedElementsOrHash[g]?!1:this._hasStrings?this._modifiedStringElements[N]===this._modifiedStringElements[g]:!0}ComputeDiff(N){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,N)}_ComputeDiff(N,g,D,H,r){const T=[!1];let w=this.ComputeDiffRecursive(N,g,D,H,T);return r&&(w=this.PrettifyChanges(w)),{quitEarly:T[0],changes:w}}ComputeDiffRecursive(N,g,D,H,r){for(r[0]=!1;N<=g&&D<=H&&this.ElementsAreEqual(N,D);)N++,D++;for(;g>=N&&H>=D&&this.ElementsAreEqual(g,H);)g--,H--;if(N>g||D>H){let S;return D<=H?(y.Assert(N===g+1,"originalStart should only be one more than originalEnd"),S=[new E(N,0,D,H-D+1)]):N<=g?(y.Assert(D===H+1,"modifiedStart should only be one more than modifiedEnd"),S=[new E(N,g-N+1,D,0)]):(y.Assert(N===g+1,"originalStart should only be one more than originalEnd"),y.Assert(D===H+1,"modifiedStart should only be one more than modifiedEnd"),S=[]),S}const T=[0],w=[0],x=this.ComputeRecursionPoint(N,g,D,H,T,w,r),f=T[0],p=w[0];if(x!==null)return x;if(!r[0]){const S=this.ComputeDiffRecursive(N,f,D,p,r);let h=[];return r[0]?h=[new E(f+1,g-(f+1)+1,p+1,H-(p+1)+1)]:h=this.ComputeDiffRecursive(f+1,g,p+1,H,r),this.ConcatenateChanges(S,h)}return[new E(N,g-N+1,D,H-D+1)]}WALKTRACE(N,g,D,H,r,T,w,x,f,p,S,h,L,v,V,$,ee,de){let pe=null,ve=null,xe=new R,le=g,Y=D,j=L[0]-$[0]-H,G=-1073741824,q=this.m_forwardHistory.length-1;do{const m=j+N;m===le||m<Y&&f[m-1]<f[m+1]?(S=f[m+1],v=S-j-H,S<G&&xe.MarkNextChange(),G=S,xe.AddModifiedElement(S+1,v),j=m+1-N):(S=f[m-1]+1,v=S-j-H,S<G&&xe.MarkNextChange(),G=S-1,xe.AddOriginalElement(S,v+1),j=m-1-N),q>=0&&(f=this.m_forwardHistory[q],N=f[0],le=1,Y=f.length-1)}while(--q>=-1);if(pe=xe.getReverseChanges(),de[0]){let m=L[0]+1,b=$[0]+1;if(pe!==null&&pe.length>0){const F=pe[pe.length-1];m=Math.max(m,F.getOriginalEnd()),b=Math.max(b,F.getModifiedEnd())}ve=[new E(m,h-m+1,b,V-b+1)]}else{xe=new R,le=T,Y=w,j=L[0]-$[0]-x,G=1073741824,q=ee?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const m=j+r;m===le||m<Y&&p[m-1]>=p[m+1]?(S=p[m+1]-1,v=S-j-x,S>G&&xe.MarkNextChange(),G=S+1,xe.AddOriginalElement(S+1,v+1),j=m+1-r):(S=p[m-1],v=S-j-x,S>G&&xe.MarkNextChange(),G=S,xe.AddModifiedElement(S+1,v+1),j=m-1-r),q>=0&&(p=this.m_reverseHistory[q],r=p[0],le=1,Y=p.length-1)}while(--q>=-1);ve=xe.getChanges()}return this.ConcatenateChanges(pe,ve)}ComputeRecursionPoint(N,g,D,H,r,T,w){let x=0,f=0,p=0,S=0,h=0,L=0;N--,D--,r[0]=0,T[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const v=g-N+(H-D),V=v+1,$=new Int32Array(V),ee=new Int32Array(V),de=H-D,pe=g-N,ve=N-D,xe=g-H,Y=(pe-de)%2===0;$[de]=N,ee[pe]=g,w[0]=!1;for(let j=1;j<=v/2+1;j++){let G=0,q=0;p=this.ClipDiagonalBound(de-j,j,de,V),S=this.ClipDiagonalBound(de+j,j,de,V);for(let b=p;b<=S;b+=2){b===p||b<S&&$[b-1]<$[b+1]?x=$[b+1]:x=$[b-1]+1,f=x-(b-de)-ve;const F=x;for(;x<g&&f<H&&this.ElementsAreEqual(x+1,f+1);)x++,f++;if($[b]=x,x+f>G+q&&(G=x,q=f),!Y&&Math.abs(b-pe)<=j-1&&x>=ee[b])return r[0]=x,T[0]=f,F<=ee[b]&&j<=1448?this.WALKTRACE(de,p,S,ve,pe,h,L,xe,$,ee,x,g,r,f,H,T,Y,w):null}const m=(G-N+(q-D)-j)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(G,m))return w[0]=!0,r[0]=G,T[0]=q,m>0&&j<=1448?this.WALKTRACE(de,p,S,ve,pe,h,L,xe,$,ee,x,g,r,f,H,T,Y,w):(N++,D++,[new E(N,g-N+1,D,H-D+1)]);h=this.ClipDiagonalBound(pe-j,j,pe,V),L=this.ClipDiagonalBound(pe+j,j,pe,V);for(let b=h;b<=L;b+=2){b===h||b<L&&ee[b-1]>=ee[b+1]?x=ee[b+1]-1:x=ee[b-1],f=x-(b-pe)-xe;const F=x;for(;x>N&&f>D&&this.ElementsAreEqual(x,f);)x--,f--;if(ee[b]=x,Y&&Math.abs(b-de)<=j&&x<=$[b])return r[0]=x,T[0]=f,F>=$[b]&&j<=1448?this.WALKTRACE(de,p,S,ve,pe,h,L,xe,$,ee,x,g,r,f,H,T,Y,w):null}if(j<=1447){let b=new Int32Array(S-p+2);b[0]=de-p+1,X.Copy2($,p,b,1,S-p+1),this.m_forwardHistory.push(b),b=new Int32Array(L-h+2),b[0]=pe-h+1,X.Copy2(ee,h,b,1,L-h+1),this.m_reverseHistory.push(b)}}return this.WALKTRACE(de,p,S,ve,pe,h,L,xe,$,ee,x,g,r,f,H,T,Y,w)}PrettifyChanges(N){for(let g=0;g<N.length;g++){const D=N[g],H=g<N.length-1?N[g+1].originalStart:this._originalElementsOrHash.length,r=g<N.length-1?N[g+1].modifiedStart:this._modifiedElementsOrHash.length,T=D.originalLength>0,w=D.modifiedLength>0;for(;D.originalStart+D.originalLength<H&&D.modifiedStart+D.modifiedLength<r&&(!T||this.OriginalElementsAreEqual(D.originalStart,D.originalStart+D.originalLength))&&(!w||this.ModifiedElementsAreEqual(D.modifiedStart,D.modifiedStart+D.modifiedLength));){const f=this.ElementsAreStrictEqual(D.originalStart,D.modifiedStart);if(this.ElementsAreStrictEqual(D.originalStart+D.originalLength,D.modifiedStart+D.modifiedLength)&&!f)break;D.originalStart++,D.modifiedStart++}let x=[null];if(g<N.length-1&&this.ChangesOverlap(N[g],N[g+1],x)){N[g]=x[0],N.splice(g+1,1),g--;continue}}for(let g=N.length-1;g>=0;g--){const D=N[g];let H=0,r=0;if(g>0){const S=N[g-1];H=S.originalStart+S.originalLength,r=S.modifiedStart+S.modifiedLength}const T=D.originalLength>0,w=D.modifiedLength>0;let x=0,f=this._boundaryScore(D.originalStart,D.originalLength,D.modifiedStart,D.modifiedLength);for(let S=1;;S++){const h=D.originalStart-S,L=D.modifiedStart-S;if(h<H||L<r||T&&!this.OriginalElementsAreEqual(h,h+D.originalLength)||w&&!this.ModifiedElementsAreEqual(L,L+D.modifiedLength))break;const V=(h===H&&L===r?5:0)+this._boundaryScore(h,D.originalLength,L,D.modifiedLength);V>f&&(f=V,x=S)}D.originalStart-=x,D.modifiedStart-=x;const p=[null];if(g>0&&this.ChangesOverlap(N[g-1],N[g],p)){N[g-1]=p[0],N.splice(g,1),g++;continue}}if(this._hasStrings)for(let g=1,D=N.length;g<D;g++){const H=N[g-1],r=N[g],T=r.originalStart-H.originalStart-H.originalLength,w=H.originalStart,x=r.originalStart+r.originalLength,f=x-w,p=H.modifiedStart,S=r.modifiedStart+r.modifiedLength,h=S-p;if(T<5&&f<20&&h<20){const L=this._findBetterContiguousSequence(w,f,p,h,T);if(L){const[v,V]=L;(v!==H.originalStart+H.originalLength||V!==H.modifiedStart+H.modifiedLength)&&(H.originalLength=v-H.originalStart,H.modifiedLength=V-H.modifiedStart,r.originalStart=v+T,r.modifiedStart=V+T,r.originalLength=x-r.originalStart,r.modifiedLength=S-r.modifiedStart)}}}return N}_findBetterContiguousSequence(N,g,D,H,r){if(g<r||H<r)return null;const T=N+g-r+1,w=D+H-r+1;let x=0,f=0,p=0;for(let S=N;S<T;S++)for(let h=D;h<w;h++){const L=this._contiguousSequenceScore(S,h,r);L>0&&L>x&&(x=L,f=S,p=h)}return x>0?[f,p]:null}_contiguousSequenceScore(N,g,D){let H=0;for(let r=0;r<D;r++){if(!this.ElementsAreEqual(N+r,g+r))return 0;H+=this._originalStringElements[N+r].length}return H}_OriginalIsBoundary(N){return N<=0||N>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[N])}_OriginalRegionIsBoundary(N,g){if(this._OriginalIsBoundary(N)||this._OriginalIsBoundary(N-1))return!0;if(g>0){const D=N+g;if(this._OriginalIsBoundary(D-1)||this._OriginalIsBoundary(D))return!0}return!1}_ModifiedIsBoundary(N){return N<=0||N>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[N])}_ModifiedRegionIsBoundary(N,g){if(this._ModifiedIsBoundary(N)||this._ModifiedIsBoundary(N-1))return!0;if(g>0){const D=N+g;if(this._ModifiedIsBoundary(D-1)||this._ModifiedIsBoundary(D))return!0}return!1}_boundaryScore(N,g,D,H){const r=this._OriginalRegionIsBoundary(N,g)?1:0,T=this._ModifiedRegionIsBoundary(D,H)?1:0;return r+T}ConcatenateChanges(N,g){let D=[];if(N.length===0||g.length===0)return g.length>0?g:N;if(this.ChangesOverlap(N[N.length-1],g[0],D)){const H=new Array(N.length+g.length-1);return X.Copy(N,0,H,0,N.length-1),H[N.length-1]=D[0],X.Copy(g,1,H,N.length,g.length-1),H}else{const H=new Array(N.length+g.length);return X.Copy(N,0,H,0,N.length),X.Copy(g,0,H,N.length,g.length),H}}ChangesOverlap(N,g,D){if(y.Assert(N.originalStart<=g.originalStart,"Left change is not less than or equal to right change"),y.Assert(N.modifiedStart<=g.modifiedStart,"Left change is not less than or equal to right change"),N.originalStart+N.originalLength>=g.originalStart||N.modifiedStart+N.modifiedLength>=g.modifiedStart){const H=N.originalStart;let r=N.originalLength;const T=N.modifiedStart;let w=N.modifiedLength;return N.originalStart+N.originalLength>=g.originalStart&&(r=g.originalStart+g.originalLength-N.originalStart),N.modifiedStart+N.modifiedLength>=g.modifiedStart&&(w=g.modifiedStart+g.modifiedLength-N.modifiedStart),D[0]=new E(H,r,T,w),!0}else return D[0]=null,!1}ClipDiagonalBound(N,g,D,H){if(N>=0&&N<H)return N;const r=D,T=H-D-1,w=g%2===0;if(N<0){const x=r%2===0;return w===x?0:1}else{const x=T%2===0;return w===x?H-1:H-2}}}},17301:function(Qt,He,c){"use strict";c.d(He,{B8:function(){return g},Cp:function(){return P},F0:function(){return B},L6:function(){return N},VV:function(){return R},b1:function(){return s},dL:function(){return Q},ri:function(){return y}});class E{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(H){setTimeout(()=>{throw H.stack?new Error(H.message+`

`+H.stack):H},0)}}emit(H){this.listeners.forEach(r=>{r(H)})}onUnexpectedError(H){this.unexpectedErrorHandler(H),this.emit(H)}onUnexpectedExternalError(H){this.unexpectedErrorHandler(H)}}const O=new E;function Q(D){R(D)||O.onUnexpectedError(D)}function P(D){R(D)||O.onUnexpectedExternalError(D)}function y(D){if(D instanceof Error){let{name:H,message:r}=D;const T=D.stacktrace||D.stack;return{$isError:!0,name:H,message:r,stack:T}}return D}const X="Canceled";function R(D){return D instanceof Error&&D.name===X&&D.message===X}function B(){const D=new Error(X);return D.name=D.message,D}function s(D){return D?new Error(`Illegal argument: ${D}`):new Error("Illegal argument")}function N(D){return D?new Error(`Illegal state: ${D}`):new Error("Illegal state")}class g extends Error{constructor(H){super("NotSupported"),H&&(this.message=H)}}},4669:function(Qt,He,c){"use strict";c.d(He,{D0:function(){return g},E7:function(){return D},K3:function(){return N},Q5:function(){return s},ZD:function(){return H},ju:function(){return y}});var E=c(17301),O=c(5976),Q=c(91741),P=c(84013),y;(function(r){r.None=()=>O.JT.None;function T(Y){return(j,G=null,q)=>{let m=!1,b;return b=Y(F=>{if(!m)return b?b.dispose():m=!0,j.call(G,F)},null,q),m&&b.dispose(),b}}r.once=T;function w(Y,j){return L((G,q=null,m)=>Y(b=>G.call(q,j(b)),null,m))}r.map=w;function x(Y,j){return L((G,q=null,m)=>Y(b=>{j(b),G.call(q,b)},null,m))}r.forEach=x;function f(Y,j){return L((G,q=null,m)=>Y(b=>j(b)&&G.call(q,b),null,m))}r.filter=f;function p(Y){return Y}r.signal=p;function S(...Y){return(j,G=null,q)=>(0,O.F8)(...Y.map(m=>m(b=>j.call(G,b),null,q)))}r.any=S;function h(Y,j,G){let q=G;return w(Y,m=>(q=j(q,m),q))}r.reduce=h;function L(Y){let j;const G=new s({onFirstListenerAdd(){j=Y(G.fire,G)},onLastListenerRemove(){j.dispose()}});return G.event}function v(Y,j,G=100,q=!1,m){let b,F,te,me=0;const ue=new s({leakWarningThreshold:m,onFirstListenerAdd(){b=Y(Oe=>{me++,F=j(F,Oe),q&&!te&&(ue.fire(F),F=void 0),clearTimeout(te),te=setTimeout(()=>{const Re=F;F=void 0,te=void 0,(!q||me>1)&&ue.fire(Re),me=0},G)})},onLastListenerRemove(){b.dispose()}});return ue.event}r.debounce=v;function V(Y,j=(G,q)=>G===q){let G=!0,q;return f(Y,m=>{const b=G||!j(m,q);return G=!1,q=m,b})}r.latch=V;function $(Y,j){return[r.filter(Y,j),r.filter(Y,G=>!j(G))]}r.split=$;function ee(Y,j=!1,G=[]){let q=G.slice(),m=Y(te=>{q?q.push(te):F.fire(te)});const b=()=>{q&&q.forEach(te=>F.fire(te)),q=null},F=new s({onFirstListenerAdd(){m||(m=Y(te=>F.fire(te)))},onFirstListenerDidAdd(){q&&(j?setTimeout(b):b())},onLastListenerRemove(){m&&m.dispose(),m=null}});return F.event}r.buffer=ee;class de{constructor(j){this.event=j}map(j){return new de(w(this.event,j))}forEach(j){return new de(x(this.event,j))}filter(j){return new de(f(this.event,j))}reduce(j,G){return new de(h(this.event,j,G))}latch(){return new de(V(this.event))}debounce(j,G=100,q=!1,m){return new de(v(this.event,j,G,q,m))}on(j,G,q){return this.event(j,G,q)}once(j,G,q){return T(this.event)(j,G,q)}}function pe(Y){return new de(Y)}r.chain=pe;function ve(Y,j,G=q=>q){const q=(...te)=>F.fire(G(...te)),m=()=>Y.on(j,q),b=()=>Y.removeListener(j,q),F=new s({onFirstListenerAdd:m,onLastListenerRemove:b});return F.event}r.fromNodeEventEmitter=ve;function xe(Y,j,G=q=>q){const q=(...te)=>F.fire(G(...te)),m=()=>Y.addEventListener(j,q),b=()=>Y.removeEventListener(j,q),F=new s({onFirstListenerAdd:m,onLastListenerRemove:b});return F.event}r.fromDOMEventEmitter=xe;function le(Y){return new Promise(j=>T(Y)(j))}r.toPromise=le})(y||(y={}));class X{constructor(T){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${T}_${X._idPool++}`}start(T){this._stopWatch=new P.G(!0),this._listenerCount=T}stop(){if(this._stopWatch){const T=this._stopWatch.elapsed();this._elapsedOverall+=T,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${T.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}X._idPool=0;let R=-1;class B{constructor(T,w=Math.random().toString(18).slice(2,5)){this.customThreshold=T,this.name=w,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(T){let w=R;if(typeof this.customThreshold=="number"&&(w=this.customThreshold),w<=0||T<w)return;this._stacks||(this._stacks=new Map);const x=new Error().stack.split(`
`).slice(3).join(`
`),f=this._stacks.get(x)||0;if(this._stacks.set(x,f+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=w*.5;let p,S=0;for(const[h,L]of this._stacks)(!p||S<L)&&(p=h,S=L);console.warn(`[${this.name}] potential listener LEAK detected, having ${T} listeners already. MOST frequent listener (${S}):`),console.warn(p)}return()=>{const p=this._stacks.get(x)||0;this._stacks.set(x,p-1)}}}class s{constructor(T){var w;this._disposed=!1,this._options=T,this._leakageMon=R>0?new B(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=!((w=this._options)===null||w===void 0)&&w._profName?new X(this._options._profName):void 0}get event(){return this._event||(this._event=(T,w,x)=>{var f;this._listeners||(this._listeners=new Q.S);const p=this._listeners.isEmpty();p&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const S=this._listeners.push(w?[T,w]:T);p&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,T,w);const h=(f=this._leakageMon)===null||f===void 0?void 0:f.check(this._listeners.size),L=(0,O.OF)(()=>{h&&h(),this._disposed||(S(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return x instanceof O.SL?x.add(L):Array.isArray(x)&&x.push(L),L}),this._event}fire(T){var w,x;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new Q.S);for(let f of this._listeners)this._deliveryQueue.push([f,T]);for((w=this._perfMon)===null||w===void 0||w.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[f,p]=this._deliveryQueue.shift();try{typeof f=="function"?f.call(void 0,p):f[0].call(f[1],p)}catch(S){(0,E.dL)(S)}}(x=this._perfMon)===null||x===void 0||x.stop()}}dispose(){var T,w,x,f,p;this._disposed||(this._disposed=!0,(T=this._listeners)===null||T===void 0||T.clear(),(w=this._deliveryQueue)===null||w===void 0||w.clear(),(f=(x=this._options)===null||x===void 0?void 0:x.onLastListenerRemove)===null||f===void 0||f.call(x),(p=this._leakageMon)===null||p===void 0||p.dispose())}}class N extends s{constructor(T){super(T),this._isPaused=0,this._eventQueue=new Q.S,this._mergeFn=T==null?void 0:T.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){const T=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(T))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(T){this._listeners&&(this._isPaused!==0?this._eventQueue.push(T):super.fire(T))}}class g extends N{constructor(T){var w;super(T),this._delay=(w=T.delay)!==null&&w!==void 0?w:100}fire(T){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(T)}}class D{constructor(){this.buffers=[]}wrapEvent(T){return(w,x,f)=>T(p=>{const S=this.buffers[this.buffers.length-1];S?S.push(()=>w.call(x,p)):w.call(x,p)},void 0,f)}bufferEvents(T){const w=[];this.buffers.push(w);const x=T();return this.buffers.pop(),w.forEach(f=>f()),x}}class H{constructor(){this.listening=!1,this.inputEvent=y.None,this.inputEventListener=O.JT.None,this.emitter=new s({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(T){this.inputEvent=T,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=T(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},15527:function(Qt,He,c){"use strict";c.d(He,{KM:function(){return X},fn:function(){return y},oP:function(){return s},vY:function(){return B}});var E=c(55336),O=c(1432),Q=c(97295);function P(N){return N.replace(/[\\/]/g,E.KR.sep)}function y(N){return N.indexOf("/")===-1&&(N=P(N)),/^[a-zA-Z]:(\/|$)/.test(N)&&(N="/"+N),N}function X(N,g,D,H=E.ir){if(N===g)return!0;if(!N||!g||g.length>N.length)return!1;if(D){if(!(0,Q.ok)(N,g))return!1;if(g.length===N.length)return!0;let T=g.length;return g.charAt(g.length-1)===H&&T--,N.charAt(T)===H}return g.charAt(g.length-1)!==H&&(g+=H),N.indexOf(g)===0}function R(N){return N>=65&&N<=90||N>=97&&N<=122}function B(N){const g=(0,E.Fv)(N);return O.ED?N.length>3?!1:s(g)&&(N.length===2||g.charCodeAt(2)===92):g===E.KR.sep}function s(N){return O.ED?R(N.charCodeAt(0))&&N.charCodeAt(1)===58:!1}},75392:function(Qt,He,c){"use strict";c.d(He,{CL:function(){return tt},EW:function(){return ke},Ji:function(){return P},Oh:function(){return le},jB:function(){return Y},l7:function(){return nt},mB:function(){return j}});var E=c(43702),O=c(97295);function Q(...Ne){return function(Pe,ye){for(let Ze=0,it=Ne.length;Ze<it;Ze++){const Ft=Ne[Ze](Pe,ye);if(Ft)return Ft}return null}}const P=y.bind(void 0,!0);function y(Ne,Pe,ye){if(!ye||ye.length<Pe.length)return null;let Ze;return Ne?Ze=O.ok(ye,Pe):Ze=ye.indexOf(Pe)===0,Ze?Pe.length>0?[{start:0,end:Pe.length}]:[]:null}function X(Ne,Pe){const ye=Pe.toLowerCase().indexOf(Ne.toLowerCase());return ye===-1?null:[{start:ye,end:ye+Ne.length}]}function R(Ne,Pe){return B(Ne.toLowerCase(),Pe.toLowerCase(),0,0)}function B(Ne,Pe,ye,Ze){if(ye===Ne.length)return[];if(Ze===Pe.length)return null;if(Ne[ye]===Pe[Ze]){let it=null;return(it=B(Ne,Pe,ye+1,Ze+1))?x({start:Ze,end:Ze+1},it):null}return B(Ne,Pe,ye,Ze+1)}function s(Ne){return 97<=Ne&&Ne<=122}function N(Ne){return 65<=Ne&&Ne<=90}function g(Ne){return 48<=Ne&&Ne<=57}function D(Ne){return Ne===32||Ne===9||Ne===10||Ne===13}const H=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(Ne=>H.add(Ne.charCodeAt(0)));function r(Ne){return D(Ne)||H.has(Ne)}function T(Ne,Pe){return Ne===Pe||r(Ne)&&r(Pe)}function w(Ne){return s(Ne)||N(Ne)||g(Ne)}function x(Ne,Pe){return Pe.length===0?Pe=[Ne]:Ne.end===Pe[0].start?Pe[0].start=Ne.start:Pe.unshift(Ne),Pe}function f(Ne,Pe){for(let ye=Pe;ye<Ne.length;ye++){const Ze=Ne.charCodeAt(ye);if(N(Ze)||g(Ze)||ye>0&&!w(Ne.charCodeAt(ye-1)))return ye}return Ne.length}function p(Ne,Pe,ye,Ze){if(ye===Ne.length)return[];if(Ze===Pe.length)return null;if(Ne[ye]!==Pe[Ze].toLowerCase())return null;{let it=null,Ft=Ze+1;for(it=p(Ne,Pe,ye+1,Ze+1);!it&&(Ft=f(Pe,Ft))<Pe.length;)it=p(Ne,Pe,ye+1,Ft),Ft++;return it===null?null:x({start:Ze,end:Ze+1},it)}}function S(Ne){let Pe=0,ye=0,Ze=0,it=0,Ft=0;for(let en=0;en<Ne.length;en++)Ft=Ne.charCodeAt(en),N(Ft)&&Pe++,s(Ft)&&ye++,w(Ft)&&Ze++,g(Ft)&&it++;const ei=Pe/Ne.length,bi=ye/Ne.length,ii=Ze/Ne.length,Ot=it/Ne.length;return{upperPercent:ei,lowerPercent:bi,alphaPercent:ii,numericPercent:Ot}}function h(Ne){const{upperPercent:Pe,lowerPercent:ye}=Ne;return ye===0&&Pe>.6}function L(Ne){const{upperPercent:Pe,lowerPercent:ye,alphaPercent:Ze,numericPercent:it}=Ne;return ye>.2&&Pe<.8&&Ze>.6&&it<.2}function v(Ne){let Pe=0,ye=0,Ze=0,it=0;for(let Ft=0;Ft<Ne.length;Ft++)Ze=Ne.charCodeAt(Ft),N(Ze)&&Pe++,s(Ze)&&ye++,D(Ze)&&it++;return(Pe===0||ye===0)&&it===0?Ne.length<=30:Pe<=5}function V(Ne,Pe){if(!Pe||(Pe=Pe.trim(),Pe.length===0)||!v(Ne)||Pe.length>60)return null;const ye=S(Pe);if(!L(ye)){if(!h(ye))return null;Pe=Pe.toLowerCase()}let Ze=null,it=0;for(Ne=Ne.toLowerCase();it<Pe.length&&(Ze=p(Ne,Pe,0,it))===null;)it=f(Pe,it+1);return Ze}function $(Ne,Pe,ye=!1){if(!Pe||Pe.length===0)return null;let Ze=null,it=0;for(Ne=Ne.toLowerCase(),Pe=Pe.toLowerCase();it<Pe.length&&(Ze=ee(Ne,Pe,0,it,ye))===null;)it=de(Pe,it+1);return Ze}function ee(Ne,Pe,ye,Ze,it){if(ye===Ne.length)return[];if(Ze===Pe.length)return null;if(T(Ne.charCodeAt(ye),Pe.charCodeAt(Ze))){let Ft=null,ei=Ze+1;if(Ft=ee(Ne,Pe,ye+1,Ze+1,it),!it)for(;!Ft&&(ei=de(Pe,ei))<Pe.length;)Ft=ee(Ne,Pe,ye+1,ei,it),ei++;return Ft===null?null:x({start:Ze,end:Ze+1},Ft)}else return null}function de(Ne,Pe){for(let ye=Pe;ye<Ne.length;ye++)if(r(Ne.charCodeAt(ye))||ye>0&&r(Ne.charCodeAt(ye-1)))return ye;return Ne.length}const pe=Q(P,V,X),ve=Q(P,V,R),xe=new E.z6(1e4);function le(Ne,Pe,ye=!1){if(typeof Ne!="string"||typeof Pe!="string")return null;let Ze=xe.get(Ne);Ze||(Ze=new RegExp(O.un(Ne),"i"),xe.set(Ne,Ze));const it=Ze.exec(Pe);return it?[{start:it.index,end:it.index+it[0].length}]:ye?ve(Ne,Pe):pe(Ne,Pe)}function Y(Ne,Pe,ye,Ze,it,Ft){const ei=Math.min(13,Ne.length);for(;ye<ei;ye++){const bi=ke(Ne,Pe,ye,Ze,it,Ft,!1);if(bi)return bi}return[0,Ft]}function j(Ne){if(typeof Ne=="undefined")return[];const Pe=[],ye=Ne[1];for(let Ze=Ne.length-1;Ze>1;Ze--){const it=Ne[Ze]+ye,Ft=Pe[Pe.length-1];Ft&&Ft.end===it?Ft.end=it+1:Pe.push({start:it,end:it+1})}return Pe}const G=128;function q(){const Ne=[],Pe=[];for(let ye=0;ye<=G;ye++)Pe[ye]=0;for(let ye=0;ye<=G;ye++)Ne.push(Pe.slice(0));return Ne}function m(Ne){const Pe=[];for(let ye=0;ye<=Ne;ye++)Pe[ye]=0;return Pe}const b=m(2*G),F=m(2*G),te=q(),me=q(),ue=q(),Oe=!1;function Re(Ne,Pe,ye,Ze,it){function Ft(bi,ii,Ot=" "){for(;bi.length<ii;)bi=Ot+bi;return bi}let ei=` |   |${Ze.split("").map(bi=>Ft(bi,3)).join("|")}
`;for(let bi=0;bi<=ye;bi++)bi===0?ei+=" |":ei+=`${Pe[bi-1]}|`,ei+=Ne[bi].slice(0,it+1).map(ii=>Ft(ii.toString(),3)).join("|")+`
`;return ei}function et(Ne,Pe,ye,Ze){Ne=Ne.substr(Pe),ye=ye.substr(Ze),console.log(Re(me,Ne,Ne.length,ye,ye.length)),console.log(Re(ue,Ne,Ne.length,ye,ye.length)),console.log(Re(te,Ne,Ne.length,ye,ye.length))}function Dt(Ne,Pe){if(Pe<0||Pe>=Ne.length)return!1;const ye=Ne.codePointAt(Pe);switch(ye){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!O.C8(ye)}}function ht(Ne,Pe){if(Pe<0||Pe>=Ne.length)return!1;switch(Ne.charCodeAt(Pe)){case 32:case 9:return!0;default:return!1}}function Mt(Ne,Pe,ye){return Pe[Ne]!==ye[Ne]}function Je(Ne,Pe,ye,Ze,it,Ft,ei=!1){for(;Pe<ye&&it<Ft;)Ne[Pe]===Ze[it]&&(ei&&(b[Pe]=it),Pe+=1),it+=1;return Pe===ye}var tt;(function(Ne){Ne.Default=[-100,0];function Pe(ye){return!ye||ye.length===2&&ye[0]===-100&&ye[1]===0}Ne.isDefault=Pe})(tt||(tt={}));function ke(Ne,Pe,ye,Ze,it,Ft,ei){const bi=Ne.length>G?G:Ne.length,ii=Ze.length>G?G:Ze.length;if(ye>=bi||Ft>=ii||bi-ye>ii-Ft||!Je(Pe,ye,bi,it,Ft,ii,!0))return;fe(bi,ii,ye,Ft,Pe,it);let Ot=1,en=1,ui=ye,Ke=Ft;const st=[!1];for(Ot=1,ui=ye;ui<bi;Ot++,ui++){const Ki=b[ui],ls=F[ui],Bn=ui+1<bi?F[ui+1]:ii;for(en=Ki-Ft+1,Ke=Ki;Ke<Bn;en++,Ke++){let On=Number.MIN_SAFE_INTEGER,Zi=!1;Ke<=ls&&(On=Ie(Ne,Pe,ui,ye,Ze,it,Ke,ii,Ft,te[Ot-1][en-1]===0,st));let Mn=0;On!==Number.MAX_SAFE_INTEGER&&(Zi=!0,Mn=On+me[Ot-1][en-1]);const an=Ke>Ki,$e=an?me[Ot][en-1]+(te[Ot][en-1]>0?-5:0):0,Tt=Ke>Ki+1&&te[Ot][en-1]>0,It=Tt?me[Ot][en-2]+(te[Ot][en-2]>0?-5:0):0;if(Tt&&(!an||It>=$e)&&(!Zi||It>=Mn))me[Ot][en]=It,ue[Ot][en]=3,te[Ot][en]=0;else if(an&&(!Zi||$e>=Mn))me[Ot][en]=$e,ue[Ot][en]=2,te[Ot][en]=0;else if(Zi)me[Ot][en]=Mn,ue[Ot][en]=1,te[Ot][en]=te[Ot-1][en-1]+1;else throw new Error("not possible")}}if(Oe&&et(Ne,ye,Ze,Ft),!st[0]&&!ei)return;Ot--,en--;const Mi=[me[Ot][en],Ft];let ci=0,zi=0;for(;Ot>=1;){let Ki=en;do{const ls=ue[Ot][Ki];if(ls===3)Ki=Ki-2;else if(ls===2)Ki=Ki-1;else break}while(Ki>=1);ci>1&&Pe[ye+Ot-1]===it[Ft+en-1]&&!Mt(Ki+Ft-1,Ze,it)&&ci+1>te[Ot][Ki]&&(Ki=en),Ki===en?ci++:ci=1,zi||(zi=Ki),Ot--,en=Ki-1,Mi.push(en)}ii===bi&&(Mi[0]+=2);const kn=zi-bi;return Mi[0]-=kn,Mi}function fe(Ne,Pe,ye,Ze,it,Ft){let ei=Ne-1,bi=Pe-1;for(;ei>=ye&&bi>=Ze;)it[ei]===Ft[bi]&&(F[ei]=bi,ei--),bi--}function Ie(Ne,Pe,ye,Ze,it,Ft,ei,bi,ii,Ot,en){if(Pe[ye]!==Ft[ei])return Number.MIN_SAFE_INTEGER;let ui=1,Ke=!1;return ei===ye-Ze?ui=Ne[ye]===it[ei]?7:5:Mt(ei,it,Ft)&&(ei===0||!Mt(ei-1,it,Ft))?(ui=Ne[ye]===it[ei]?7:5,Ke=!0):Dt(Ft,ei)&&(ei===0||!Dt(Ft,ei-1))?ui=5:(Dt(Ft,ei-1)||ht(Ft,ei-1))&&(ui=5,Ke=!0),ui>1&&ye===Ze&&(en[0]=!0),Ke||(Ke=Mt(ei,it,Ft)||Dt(Ft,ei-1)||ht(Ft,ei-1)),ye===Ze?ei>ii&&(ui-=Ke?3:5):Ot?ui+=Ke?2:0:ui+=Ke?0:1,ei+1===bi&&(ui-=Ke?3:5),ui}function nt(Ne,Pe,ye,Ze,it,Ft,ei){return at(Ne,Pe,ye,Ze,it,Ft,!0,ei)}function at(Ne,Pe,ye,Ze,it,Ft,ei,bi){let ii=ke(Ne,Pe,ye,Ze,it,Ft,bi);if(ii&&!ei)return ii;if(Ne.length>=3){const Ot=Math.min(7,Ne.length-1);for(let en=ye+1;en<Ot;en++){const ui=ot(Ne,en);if(ui){const Ke=ke(ui,ui.toLowerCase(),ye,Ze,it,Ft,bi);Ke&&(Ke[0]-=3,(!ii||Ke[0]>ii[0])&&(ii=Ke))}}}return ii}function ot(Ne,Pe){if(Pe+1>=Ne.length)return;const ye=Ne[Pe],Ze=Ne[Pe+1];if(ye!==Ze)return Ne.slice(0,Pe)+Ze+ye+Ne.slice(Pe+2)}},88289:function(Qt,He,c){"use strict";c.d(He,{I:function(){return E}});function E(O){const Q=this;let P=!1,y;return function(){return P||(P=!0,y=O.apply(Q,arguments)),y}}},14118:function(Qt,He,c){"use strict";c.d(He,{EQ:function(){return xe},Qc:function(){return le}});var E=c(15393),O=c(15527),Q=c(43702),P=c(55336),y=c(97295);const X="**",R="/",B="[/\\\\]",s="[^/\\\\]",N=/\//g;function g(m){switch(m){case 0:return"";case 1:return`${s}*?`;default:return`(?:${B}|${s}+${B}|${B}${s}+)*?`}}function D(m,b){if(!m)return[];const F=[];let te=!1,me=!1,ue="";for(const Oe of m){switch(Oe){case b:if(!te&&!me){F.push(ue),ue="";continue}break;case"{":te=!0;break;case"}":te=!1;break;case"[":me=!0;break;case"]":me=!1;break}ue+=Oe}return ue&&F.push(ue),F}function H(m){if(!m)return"";let b="";const F=D(m,R);if(F.every(te=>te===X))b=".*";else{let te=!1;F.forEach((me,ue)=>{if(me===X){te||(b+=g(2),te=!0);return}let Oe=!1,Re="",et=!1,Dt="";for(const ht of me){if(ht!=="}"&&Oe){Re+=ht;continue}if(et&&(ht!=="]"||!Dt)){let Mt;ht==="-"?Mt=ht:(ht==="^"||ht==="!")&&!Dt?Mt="^":ht===R?Mt="":Mt=y.ec(ht),Dt+=Mt;continue}switch(ht){case"{":Oe=!0;continue;case"[":et=!0;continue;case"}":const Je=`(?:${D(Re,",").map(tt=>H(tt)).join("|")})`;b+=Je,Oe=!1,Re="";break;case"]":b+="["+Dt+"]",et=!1,Dt="";break;case"?":b+=s;continue;case"*":b+=g(1);continue;default:b+=y.ec(ht)}}ue<F.length-1&&(F[ue+1]!==X||ue+2<F.length)&&(b+=B),te=!1})}return b}const r=/^\*\*\/\*\.[\w\.-]+$/,T=/^\*\*\/([\w\.-]+)\/?$/,w=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,x=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,f=/^\*\*((\/[\w\.-]+)+)\/?$/,p=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,S=new Q.z6(1e4),h=function(){return!1},L=function(){return null};function v(m,b){if(!m)return L;let F;typeof m!="string"?F=m.pattern:F=m,F=F.trim();const te=`${F}_${!!b.trimForExclusions}`;let me=S.get(te);if(me)return V(me,m);let ue;if(r.test(F)){const Oe=F.substr(4);me=function(Re,et){return typeof Re=="string"&&Re.endsWith(Oe)?F:null}}else(ue=T.exec($(F,b)))?me=ee(ue[1],F):(b.trimForExclusions?x:w).test(F)?me=de(F,b):(ue=f.exec($(F,b)))?me=pe(ue[1].substr(1),F,!0):(ue=p.exec($(F,b)))?me=pe(ue[1],F,!1):me=ve(F);return S.set(te,me),V(me,m)}function V(m,b){return typeof b=="string"?m:function(F,te){return O.KM(F,b.base)?m(P.Gf(b.base,F),te):null}}function $(m,b){return b.trimForExclusions&&m.endsWith("/**")?m.substr(0,m.length-2):m}function ee(m,b){const F=`/${m}`,te=`\\${m}`,me=function(Oe,Re){return typeof Oe!="string"?null:Re?Re===m?b:null:Oe===m||Oe.endsWith(F)||Oe.endsWith(te)?b:null},ue=[m];return me.basenames=ue,me.patterns=[b],me.allBasenames=ue,me}function de(m,b){const F=q(m.slice(1,-1).split(",").map(Re=>v(Re,b)).filter(Re=>Re!==L),m),te=F.length;if(!te)return L;if(te===1)return F[0];const me=function(Re,et){for(let Dt=0,ht=F.length;Dt<ht;Dt++)if(F[Dt](Re,et))return m;return null},ue=F.find(Re=>!!Re.allBasenames);ue&&(me.allBasenames=ue.allBasenames);const Oe=F.reduce((Re,et)=>et.allPaths?Re.concat(et.allPaths):Re,[]);return Oe.length&&(me.allPaths=Oe),me}function pe(m,b,F){const te=P.ir===P.KR.sep,me=te?m:m.replace(N,P.ir),ue=P.ir+me,Oe=P.KR.sep+m,Re=F?function(et,Dt){return typeof et=="string"&&(et===me||et.endsWith(ue)||!te&&(et===m||et.endsWith(Oe)))?b:null}:function(et,Dt){return typeof et=="string"&&(et===me||!te&&et===m)?b:null};return Re.allPaths=[(F?"*/":"./")+m],Re}function ve(m){try{const b=new RegExp(`^${H(m)}$`);return function(F){return b.lastIndex=0,typeof F=="string"&&b.test(F)?m:null}}catch(b){return L}}function xe(m,b,F){return!m||typeof b!="string"?!1:le(m)(b,void 0,F)}function le(m,b={}){if(!m)return h;if(typeof m=="string"||Y(m)){const F=v(m,b);if(F===L)return h;const te=function(me,ue){return!!F(me,ue)};return F.allBasenames&&(te.allBasenames=F.allBasenames),F.allPaths&&(te.allPaths=F.allPaths),te}return j(m,b)}function Y(m){const b=m;return b&&typeof b.base=="string"&&typeof b.pattern=="string"}function j(m,b){const F=q(Object.getOwnPropertyNames(m).map(Re=>G(Re,m[Re],b)).filter(Re=>Re!==L)),te=F.length;if(!te)return L;if(!F.some(Re=>!!Re.requiresSiblings)){if(te===1)return F[0];const Re=function(ht,Mt){for(let Je=0,tt=F.length;Je<tt;Je++){const ke=F[Je](ht,Mt);if(ke)return ke}return null},et=F.find(ht=>!!ht.allBasenames);et&&(Re.allBasenames=et.allBasenames);const Dt=F.reduce((ht,Mt)=>Mt.allPaths?ht.concat(Mt.allPaths):ht,[]);return Dt.length&&(Re.allPaths=Dt),Re}const me=function(Re,et,Dt){let ht;for(let Mt=0,Je=F.length;Mt<Je;Mt++){const tt=F[Mt];tt.requiresSiblings&&Dt&&(et||(et=P.EZ(Re)),ht||(ht=et.substr(0,et.length-P.DZ(Re).length)));const ke=tt(Re,et,ht,Dt);if(ke)return ke}return null},ue=F.find(Re=>!!Re.allBasenames);ue&&(me.allBasenames=ue.allBasenames);const Oe=F.reduce((Re,et)=>et.allPaths?Re.concat(et.allPaths):Re,[]);return Oe.length&&(me.allPaths=Oe),me}function G(m,b,F){if(b===!1)return L;const te=v(m,F);if(te===L)return L;if(typeof b=="boolean")return te;if(b){const me=b.when;if(typeof me=="string"){const ue=(Oe,Re,et,Dt)=>{if(!Dt||!te(Oe,Re))return null;const ht=me.replace("$(basename)",et),Mt=Dt(ht);return(0,E.J8)(Mt)?Mt.then(Je=>Je?m:null):Mt?m:null};return ue.requiresSiblings=!0,ue}}return te}function q(m,b){const F=m.filter(Re=>!!Re.basenames);if(F.length<2)return m;const te=F.reduce((Re,et)=>{const Dt=et.basenames;return Dt?Re.concat(Dt):Re},[]);let me;if(b){me=[];for(let Re=0,et=te.length;Re<et;Re++)me.push(b)}else me=F.reduce((Re,et)=>{const Dt=et.patterns;return Dt?Re.concat(Dt):Re},[]);const ue=function(Re,et){if(typeof Re!="string")return null;if(!et){let ht;for(ht=Re.length;ht>0;ht--){const Mt=Re.charCodeAt(ht-1);if(Mt===47||Mt===92)break}et=Re.substr(ht)}const Dt=te.indexOf(et);return Dt!==-1?me[Dt]:null};ue.basenames=te,ue.patterns=me,ue.allBasenames=te;const Oe=m.filter(Re=>!Re.basenames);return Oe.push(ue),Oe}},89954:function(Qt,He,c){"use strict";c.d(He,{Cv:function(){return X},vp:function(){return O},yP:function(){return H}});var E=c(97295);function O(r){return Q(r,0)}function Q(r,T){switch(typeof r){case"object":return r===null?P(349,T):Array.isArray(r)?R(r,T):B(r,T);case"string":return X(r,T);case"boolean":return y(r,T);case"number":return P(r,T);case"undefined":return P(937,T);default:return P(617,T)}}function P(r,T){return(T<<5)-T+r|0}function y(r,T){return P(r?433:863,T)}function X(r,T){T=P(149417,T);for(let w=0,x=r.length;w<x;w++)T=P(r.charCodeAt(w),T);return T}function R(r,T){return T=P(104579,T),r.reduce((w,x)=>Q(x,w),T)}function B(r,T){return T=P(181387,T),Object.keys(r).sort().reduce((w,x)=>(w=X(x,w),Q(r[x],w)),T)}function s(r,T,w=32){const x=w-T,f=~((1<<x)-1);return(r<<T|(f&r)>>>x)>>>0}function N(r,T=0,w=r.byteLength,x=0){for(let f=0;f<w;f++)r[T+f]=x}function g(r,T,w="0"){for(;r.length<T;)r=w+r;return r}function D(r,T=32){return r instanceof ArrayBuffer?Array.from(new Uint8Array(r)).map(w=>w.toString(16).padStart(2,"0")).join(""):g((r>>>0).toString(16),T/4)}class H{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(T){const w=T.length;if(w===0)return;const x=this._buff;let f=this._buffLen,p=this._leftoverHighSurrogate,S,h;for(p!==0?(S=p,h=-1,p=0):(S=T.charCodeAt(0),h=0);;){let L=S;if(E.ZG(S))if(h+1<w){const v=T.charCodeAt(h+1);E.YK(v)?(h++,L=E.rL(S,v)):L=65533}else{p=S;break}else E.YK(S)&&(L=65533);if(f=this._push(x,f,L),h++,h<w)S=T.charCodeAt(h);else break}this._buffLen=f,this._leftoverHighSurrogate=p}_push(T,w,x){return x<128?T[w++]=x:x<2048?(T[w++]=192|(x&1984)>>>6,T[w++]=128|(x&63)>>>0):x<65536?(T[w++]=224|(x&61440)>>>12,T[w++]=128|(x&4032)>>>6,T[w++]=128|(x&63)>>>0):(T[w++]=240|(x&1835008)>>>18,T[w++]=128|(x&258048)>>>12,T[w++]=128|(x&4032)>>>6,T[w++]=128|(x&63)>>>0),w>=64&&(this._step(),w-=64,this._totalLen+=64,T[0]=T[64],T[1]=T[65],T[2]=T[66]),w}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),D(this._h0)+D(this._h1)+D(this._h2)+D(this._h3)+D(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,N(this._buff,this._buffLen),this._buffLen>56&&(this._step(),N(this._buff));const T=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(T/4294967296),!1),this._buffDV.setUint32(60,T%4294967296,!1),this._step()}_step(){const T=H._bigBlock32,w=this._buffDV;for(let $=0;$<64;$+=4)T.setUint32($,w.getUint32($,!1),!1);for(let $=64;$<320;$+=4)T.setUint32($,s(T.getUint32($-12,!1)^T.getUint32($-32,!1)^T.getUint32($-56,!1)^T.getUint32($-64,!1),1),!1);let x=this._h0,f=this._h1,p=this._h2,S=this._h3,h=this._h4,L,v,V;for(let $=0;$<80;$++)$<20?(L=f&p|~f&S,v=1518500249):$<40?(L=f^p^S,v=1859775393):$<60?(L=f&p|f&S|p&S,v=2400959708):(L=f^p^S,v=3395469782),V=s(x,5)+L+h+v+T.getUint32($*4,!1)&4294967295,h=S,S=p,p=s(f,30),f=x,x=V;this._h0=this._h0+x&4294967295,this._h1=this._h1+f&4294967295,this._h2=this._h2+p&4294967295,this._h3=this._h3+S&4294967295,this._h4=this._h4+h&4294967295}}H._bigBlock32=new DataView(new ArrayBuffer(320))},59365:function(Qt,He,c){"use strict";c.d(He,{CP:function(){return P},Fr:function(){return y},W5:function(){return Q},oR:function(){return R},v1:function(){return B}});var E=c(17301),O=c(21212);class Q{constructor(N="",g=!1){var D,H,r;if(this.value=N,typeof this.value!="string")throw(0,E.b1)("value");typeof g=="boolean"?(this.isTrusted=g,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(D=g.isTrusted)!==null&&D!==void 0?D:void 0,this.supportThemeIcons=(H=g.supportThemeIcons)!==null&&H!==void 0?H:!1,this.supportHtml=(r=g.supportHtml)!==null&&r!==void 0?r:!1)}appendText(N,g=0){return this.value+=X(this.supportThemeIcons?(0,O.Qo)(N):N).replace(/([ \t]+)/g,(D,H)=>"&nbsp;".repeat(H.length)).replace(/\>/gm,"\\>").replace(/\n/g,g===1?`\\
`:`

`),this}appendMarkdown(N){return this.value+=N,this}appendCodeblock(N,g){return this.value+="\n```",this.value+=N,this.value+=`
`,this.value+=g,this.value+="\n```\n",this}}function P(s){return y(s)?!s.value:Array.isArray(s)?s.every(P):!0}function y(s){return s instanceof Q?!0:s&&typeof s=="object"?typeof s.value=="string"&&(typeof s.isTrusted=="boolean"||s.isTrusted===void 0)&&(typeof s.supportThemeIcons=="boolean"||s.supportThemeIcons===void 0):!1}function X(s){return s.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}function R(s){return s&&s.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function B(s){const N=[],g=s.split("|").map(H=>H.trim());s=g[0];const D=g[1];if(D){const H=/height=(\d+)/.exec(D),r=/width=(\d+)/.exec(D),T=H?H[1]:"",w=r?r[1]:"",x=isFinite(parseInt(w)),f=isFinite(parseInt(T));x&&N.push(`width="${w}"`),f&&N.push(`height="${T}"`)}return{href:s,dimensions:N}}},21212:function(Qt,He,c){"use strict";c.d(He,{Gt:function(){return r},Ho:function(){return D},Qo:function(){return R},f$:function(){return s},x$:function(){return g}});var E=c(73046),O=c(75392),Q=c(97295);const P="$(",y=new RegExp(`\\$\\(${E.dT.iconNameExpression}(?:${E.dT.iconModifierExpression})?\\)`,"g"),X=new RegExp(`(\\\\)?${y.source}`,"g");function R(T){return T.replace(X,(w,x)=>x?w:`\\${w}`)}const B=new RegExp(`\\\\${y.source}`,"g");function s(T){return T.replace(B,w=>`\\${w}`)}const N=new RegExp(`(\\s)?(\\\\)?${y.source}(\\s)?`,"g");function g(T){return T.indexOf(P)===-1?T:T.replace(N,(w,x,f,p)=>f?w:x||p||"")}function D(T){const w=T.indexOf(P);return w===-1?{text:T}:H(T,w)}function H(T,w){const x=[];let f="";function p(de){if(de){f+=de;for(const pe of de)x.push(L)}}let S=-1,h="",L=0,v,V,$=w;const ee=T.length;for(p(T.substr(0,w));$<ee;){if(v=T[$],V=T[$+1],v===P[0]&&V===P[1])S=$,p(h),h=P,$++;else if(v===")"&&S!==-1){const de=$-S+1;L+=de,S=-1,h=""}else S!==-1?/^[a-z0-9\-]$/i.test(v)?h+=v:(p(h),S=-1,h=""):p(v);$++}return p(h),{text:f,iconOffsets:x}}function r(T,w,x=!1){const{text:f,iconOffsets:p}=w;if(!p||p.length===0)return(0,O.Oh)(T,f,x);const S=(0,Q.j3)(f," "),h=f.length-S.length,L=(0,O.Oh)(T,S,x);if(L)for(const v of L){const V=p[v.start+h]+h;v.start+=V,v.end+=V}return L}},44742:function(Qt,He,c){"use strict";c.d(He,{R:function(){return E},a:function(){return O}});class E{constructor(P){this._prefix=P,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const O=new E("id#")},56899:function(Qt,He,c){"use strict";c.d(He,{$:function(){return E}});var E;(function(O){function Q(S){return S&&typeof S=="object"&&typeof S[Symbol.iterator]=="function"}O.is=Q;const P=Object.freeze([]);function y(){return P}O.empty=y;function*X(S){yield S}O.single=X;function R(S){return S||P}O.from=R;function B(S){return!S||S[Symbol.iterator]().next().done===!0}O.isEmpty=B;function s(S){return S[Symbol.iterator]().next().value}O.first=s;function N(S,h){for(const L of S)if(h(L))return!0;return!1}O.some=N;function g(S,h){for(const L of S)if(h(L))return L}O.find=g;function*D(S,h){for(const L of S)h(L)&&(yield L)}O.filter=D;function*H(S,h){let L=0;for(const v of S)yield h(v,L++)}O.map=H;function*r(...S){for(const h of S)for(const L of h)yield L}O.concat=r;function*T(S){for(const h of S)for(const L of h)yield L}O.concatNested=T;function w(S,h,L){let v=L;for(const V of S)v=h(v,V);return v}O.reduce=w;function*x(S,h,L=S.length){for(h<0&&(h+=S.length),L<0?L+=S.length:L>S.length&&(L=S.length);h<L;h++)yield S[h]}O.slice=x;function f(S,h=Number.POSITIVE_INFINITY){const L=[];if(h===0)return[L,S];const v=S[Symbol.iterator]();for(let V=0;V<h;V++){const $=v.next();if($.done)return[L,O.empty()];L.push($.value)}return[L,{[Symbol.iterator](){return v}}]}O.consume=f;function p(S,h,L=(v,V)=>v===V){const v=S[Symbol.iterator](),V=h[Symbol.iterator]();for(;;){const $=v.next(),ee=V.next();if($.done!==ee.done)return!1;if($.done)return!0;if(!L($.value,ee.value))return!1}}O.equals=p})(E||(E={}))},22258:function(Qt,He,c){"use strict";c.d(He,{H_:function(){return y},Vd:function(){return N},gx:function(){return H},kL:function(){return D}});class E{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(T,w){this._keyCodeToStr[T]=w,this._strToKeyCode[w.toLowerCase()]=T}keyCodeToStr(T){return this._keyCodeToStr[T]}strToKeyCode(T){return this._strToKeyCode[T.toLowerCase()]||0}}const O=new E,Q=new E,P=new E,y=new Array(230),X={},R=[],B=Object.create(null),s=Object.create(null),N=[],g=[];for(let r=0;r<=193;r++)N[r]=-1;for(let r=0;r<=126;r++)g[r]=-1;(function(){const r="",T=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",r,r],[0,1,1,"Hyper",0,r,0,r,r,r],[0,1,2,"Super",0,r,0,r,r,r],[0,1,3,"Fn",0,r,0,r,r,r],[0,1,4,"FnLock",0,r,0,r,r,r],[0,1,5,"Suspend",0,r,0,r,r,r],[0,1,6,"Resume",0,r,0,r,r,r],[0,1,7,"Turbo",0,r,0,r,r,r],[0,1,8,"Sleep",0,r,0,"VK_SLEEP",r,r],[0,1,9,"WakeUp",0,r,0,r,r,r],[31,0,10,"KeyA",31,"A",65,"VK_A",r,r],[32,0,11,"KeyB",32,"B",66,"VK_B",r,r],[33,0,12,"KeyC",33,"C",67,"VK_C",r,r],[34,0,13,"KeyD",34,"D",68,"VK_D",r,r],[35,0,14,"KeyE",35,"E",69,"VK_E",r,r],[36,0,15,"KeyF",36,"F",70,"VK_F",r,r],[37,0,16,"KeyG",37,"G",71,"VK_G",r,r],[38,0,17,"KeyH",38,"H",72,"VK_H",r,r],[39,0,18,"KeyI",39,"I",73,"VK_I",r,r],[40,0,19,"KeyJ",40,"J",74,"VK_J",r,r],[41,0,20,"KeyK",41,"K",75,"VK_K",r,r],[42,0,21,"KeyL",42,"L",76,"VK_L",r,r],[43,0,22,"KeyM",43,"M",77,"VK_M",r,r],[44,0,23,"KeyN",44,"N",78,"VK_N",r,r],[45,0,24,"KeyO",45,"O",79,"VK_O",r,r],[46,0,25,"KeyP",46,"P",80,"VK_P",r,r],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",r,r],[48,0,27,"KeyR",48,"R",82,"VK_R",r,r],[49,0,28,"KeyS",49,"S",83,"VK_S",r,r],[50,0,29,"KeyT",50,"T",84,"VK_T",r,r],[51,0,30,"KeyU",51,"U",85,"VK_U",r,r],[52,0,31,"KeyV",52,"V",86,"VK_V",r,r],[53,0,32,"KeyW",53,"W",87,"VK_W",r,r],[54,0,33,"KeyX",54,"X",88,"VK_X",r,r],[55,0,34,"KeyY",55,"Y",89,"VK_Y",r,r],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",r,r],[22,0,36,"Digit1",22,"1",49,"VK_1",r,r],[23,0,37,"Digit2",23,"2",50,"VK_2",r,r],[24,0,38,"Digit3",24,"3",51,"VK_3",r,r],[25,0,39,"Digit4",25,"4",52,"VK_4",r,r],[26,0,40,"Digit5",26,"5",53,"VK_5",r,r],[27,0,41,"Digit6",27,"6",54,"VK_6",r,r],[28,0,42,"Digit7",28,"7",55,"VK_7",r,r],[29,0,43,"Digit8",29,"8",56,"VK_8",r,r],[30,0,44,"Digit9",30,"9",57,"VK_9",r,r],[21,0,45,"Digit0",21,"0",48,"VK_0",r,r],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",r,r],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",r,r],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",r,r],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",r,r],[10,1,50,"Space",10,"Space",32,"VK_SPACE",r,r],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,r,0,r,r,r],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",r,r],[59,1,64,"F1",59,"F1",112,"VK_F1",r,r],[60,1,65,"F2",60,"F2",113,"VK_F2",r,r],[61,1,66,"F3",61,"F3",114,"VK_F3",r,r],[62,1,67,"F4",62,"F4",115,"VK_F4",r,r],[63,1,68,"F5",63,"F5",116,"VK_F5",r,r],[64,1,69,"F6",64,"F6",117,"VK_F6",r,r],[65,1,70,"F7",65,"F7",118,"VK_F7",r,r],[66,1,71,"F8",66,"F8",119,"VK_F8",r,r],[67,1,72,"F9",67,"F9",120,"VK_F9",r,r],[68,1,73,"F10",68,"F10",121,"VK_F10",r,r],[69,1,74,"F11",69,"F11",122,"VK_F11",r,r],[70,1,75,"F12",70,"F12",123,"VK_F12",r,r],[0,1,76,"PrintScreen",0,r,0,r,r,r],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",r,r],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",r,r],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",r,r],[14,1,80,"Home",14,"Home",36,"VK_HOME",r,r],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",r,r],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",r,r],[13,1,83,"End",13,"End",35,"VK_END",r,r],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",r,r],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",r],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",r],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",r],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",r],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",r,r],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",r,r],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",r,r],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",r,r],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",r,r],[3,1,94,"NumpadEnter",3,r,0,r,r,r],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",r,r],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",r,r],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",r,r],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",r,r],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",r,r],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",r,r],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",r,r],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",r,r],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",r,r],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",r,r],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",r,r],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",r,r],[58,1,107,"ContextMenu",58,"ContextMenu",93,r,r,r],[0,1,108,"Power",0,r,0,r,r,r],[0,1,109,"NumpadEqual",0,r,0,r,r,r],[71,1,110,"F13",71,"F13",124,"VK_F13",r,r],[72,1,111,"F14",72,"F14",125,"VK_F14",r,r],[73,1,112,"F15",73,"F15",126,"VK_F15",r,r],[74,1,113,"F16",74,"F16",127,"VK_F16",r,r],[75,1,114,"F17",75,"F17",128,"VK_F17",r,r],[76,1,115,"F18",76,"F18",129,"VK_F18",r,r],[77,1,116,"F19",77,"F19",130,"VK_F19",r,r],[0,1,117,"F20",0,r,0,"VK_F20",r,r],[0,1,118,"F21",0,r,0,"VK_F21",r,r],[0,1,119,"F22",0,r,0,"VK_F22",r,r],[0,1,120,"F23",0,r,0,"VK_F23",r,r],[0,1,121,"F24",0,r,0,"VK_F24",r,r],[0,1,122,"Open",0,r,0,r,r,r],[0,1,123,"Help",0,r,0,r,r,r],[0,1,124,"Select",0,r,0,r,r,r],[0,1,125,"Again",0,r,0,r,r,r],[0,1,126,"Undo",0,r,0,r,r,r],[0,1,127,"Cut",0,r,0,r,r,r],[0,1,128,"Copy",0,r,0,r,r,r],[0,1,129,"Paste",0,r,0,r,r,r],[0,1,130,"Find",0,r,0,r,r,r],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",r,r],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",r,r],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",r,r],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",r,r],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",r,r],[0,1,136,"KanaMode",0,r,0,r,r,r],[0,0,137,"IntlYen",0,r,0,r,r,r],[0,1,138,"Convert",0,r,0,r,r,r],[0,1,139,"NonConvert",0,r,0,r,r,r],[0,1,140,"Lang1",0,r,0,r,r,r],[0,1,141,"Lang2",0,r,0,r,r,r],[0,1,142,"Lang3",0,r,0,r,r,r],[0,1,143,"Lang4",0,r,0,r,r,r],[0,1,144,"Lang5",0,r,0,r,r,r],[0,1,145,"Abort",0,r,0,r,r,r],[0,1,146,"Props",0,r,0,r,r,r],[0,1,147,"NumpadParenLeft",0,r,0,r,r,r],[0,1,148,"NumpadParenRight",0,r,0,r,r,r],[0,1,149,"NumpadBackspace",0,r,0,r,r,r],[0,1,150,"NumpadMemoryStore",0,r,0,r,r,r],[0,1,151,"NumpadMemoryRecall",0,r,0,r,r,r],[0,1,152,"NumpadMemoryClear",0,r,0,r,r,r],[0,1,153,"NumpadMemoryAdd",0,r,0,r,r,r],[0,1,154,"NumpadMemorySubtract",0,r,0,r,r,r],[0,1,155,"NumpadClear",0,r,0,r,r,r],[0,1,156,"NumpadClearEntry",0,r,0,r,r,r],[5,1,0,r,5,"Ctrl",17,"VK_CONTROL",r,r],[4,1,0,r,4,"Shift",16,"VK_SHIFT",r,r],[6,1,0,r,6,"Alt",18,"VK_MENU",r,r],[57,1,0,r,57,"Meta",0,"VK_COMMAND",r,r],[5,1,157,"ControlLeft",5,r,0,"VK_LCONTROL",r,r],[4,1,158,"ShiftLeft",4,r,0,"VK_LSHIFT",r,r],[6,1,159,"AltLeft",6,r,0,"VK_LMENU",r,r],[57,1,160,"MetaLeft",57,r,0,"VK_LWIN",r,r],[5,1,161,"ControlRight",5,r,0,"VK_RCONTROL",r,r],[4,1,162,"ShiftRight",4,r,0,"VK_RSHIFT",r,r],[6,1,163,"AltRight",6,r,0,"VK_RMENU",r,r],[57,1,164,"MetaRight",57,r,0,"VK_RWIN",r,r],[0,1,165,"BrightnessUp",0,r,0,r,r,r],[0,1,166,"BrightnessDown",0,r,0,r,r,r],[0,1,167,"MediaPlay",0,r,0,r,r,r],[0,1,168,"MediaRecord",0,r,0,r,r,r],[0,1,169,"MediaFastForward",0,r,0,r,r,r],[0,1,170,"MediaRewind",0,r,0,r,r,r],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",r,r],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",r,r],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",r,r],[0,1,174,"Eject",0,r,0,r,r,r],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",r,r],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",r,r],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",r,r],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",r,r],[0,1,179,"LaunchApp1",0,r,0,"VK_MEDIA_LAUNCH_APP1",r,r],[0,1,180,"SelectTask",0,r,0,r,r,r],[0,1,181,"LaunchScreenSaver",0,r,0,r,r,r],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",r,r],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",r,r],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",r,r],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",r,r],[0,1,186,"BrowserStop",0,r,0,"VK_BROWSER_STOP",r,r],[0,1,187,"BrowserRefresh",0,r,0,"VK_BROWSER_REFRESH",r,r],[0,1,188,"BrowserFavorites",0,r,0,"VK_BROWSER_FAVORITES",r,r],[0,1,189,"ZoomToggle",0,r,0,r,r,r],[0,1,190,"MailReply",0,r,0,r,r,r],[0,1,191,"MailForward",0,r,0,r,r,r],[0,1,192,"MailSend",0,r,0,r,r,r],[109,1,0,r,109,"KeyInComposition",229,r,r,r],[111,1,0,r,111,"ABNT_C2",194,"VK_ABNT_C2",r,r],[91,1,0,r,91,"OEM_8",223,"VK_OEM_8",r,r],[0,1,0,r,0,r,0,"VK_CLEAR",r,r],[0,1,0,r,0,r,0,"VK_KANA",r,r],[0,1,0,r,0,r,0,"VK_HANGUL",r,r],[0,1,0,r,0,r,0,"VK_JUNJA",r,r],[0,1,0,r,0,r,0,"VK_FINAL",r,r],[0,1,0,r,0,r,0,"VK_HANJA",r,r],[0,1,0,r,0,r,0,"VK_KANJI",r,r],[0,1,0,r,0,r,0,"VK_CONVERT",r,r],[0,1,0,r,0,r,0,"VK_NONCONVERT",r,r],[0,1,0,r,0,r,0,"VK_ACCEPT",r,r],[0,1,0,r,0,r,0,"VK_MODECHANGE",r,r],[0,1,0,r,0,r,0,"VK_SELECT",r,r],[0,1,0,r,0,r,0,"VK_PRINT",r,r],[0,1,0,r,0,r,0,"VK_EXECUTE",r,r],[0,1,0,r,0,r,0,"VK_SNAPSHOT",r,r],[0,1,0,r,0,r,0,"VK_HELP",r,r],[0,1,0,r,0,r,0,"VK_APPS",r,r],[0,1,0,r,0,r,0,"VK_PROCESSKEY",r,r],[0,1,0,r,0,r,0,"VK_PACKET",r,r],[0,1,0,r,0,r,0,"VK_DBE_SBCSCHAR",r,r],[0,1,0,r,0,r,0,"VK_DBE_DBCSCHAR",r,r],[0,1,0,r,0,r,0,"VK_ATTN",r,r],[0,1,0,r,0,r,0,"VK_CRSEL",r,r],[0,1,0,r,0,r,0,"VK_EXSEL",r,r],[0,1,0,r,0,r,0,"VK_EREOF",r,r],[0,1,0,r,0,r,0,"VK_PLAY",r,r],[0,1,0,r,0,r,0,"VK_ZOOM",r,r],[0,1,0,r,0,r,0,"VK_NONAME",r,r],[0,1,0,r,0,r,0,"VK_PA1",r,r],[0,1,0,r,0,r,0,"VK_OEM_CLEAR",r,r]];let w=[],x=[];for(const f of T){const[p,S,h,L,v,V,$,ee,de,pe]=f;if(x[h]||(x[h]=!0,R[h]=L,B[L]=h,s[L.toLowerCase()]=h,S&&(N[h]=v,v!==0&&v!==3&&v!==5&&v!==4&&v!==6&&v!==57&&(g[v]=h))),!w[v]){if(w[v]=!0,!V)throw new Error(`String representation missing for key code ${v} around scan code ${L}`);O.define(v,V),Q.define(v,de||V),P.define(v,pe||de||V)}$&&(y[$]=v),ee&&(X[ee]=v)}g[3]=46})();var D;(function(r){function T(h){return O.keyCodeToStr(h)}r.toString=T;function w(h){return O.strToKeyCode(h)}r.fromString=w;function x(h){return Q.keyCodeToStr(h)}r.toUserSettingsUS=x;function f(h){return P.keyCodeToStr(h)}r.toUserSettingsGeneral=f;function p(h){return Q.strToKeyCode(h)||P.strToKeyCode(h)}r.fromUserSettings=p;function S(h){if(h>=93&&h<=108)return null;switch(h){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return O.keyCodeToStr(h)}r.toElectronAccelerator=S})(D||(D={}));function H(r,T){const w=(T&65535)<<16>>>0;return(r|w)>>>0}},8030:function(Qt,He,c){"use strict";c.d(He,{X4:function(){return P},jC:function(){return y},xo:function(){return Q}});var E=c(63580);class O{constructor(B,s,N=s){this.modifierLabels=[null],this.modifierLabels[2]=B,this.modifierLabels[1]=s,this.modifierLabels[3]=N}toLabel(B,s,N){if(s.length===0)return null;const g=[];for(let D=0,H=s.length;D<H;D++){const r=s[D],T=N(r);if(T===null)return null;g[D]=X(r,T,this.modifierLabels[B])}return g.join(" ")}}const Q=new O({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:E.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:E.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:E.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:E.N({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:E.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:E.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:E.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:E.N({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),P=new O({ctrlKey:E.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:E.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:E.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:E.N({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:E.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:E.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:E.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:E.N({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:E.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:E.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:E.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:E.N({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),y=new O({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function X(R,B,s){if(B===null)return"";const N=[];return R.ctrlKey&&N.push(s.ctrlKey),R.shiftKey&&N.push(s.shiftKey),R.altKey&&N.push(s.altKey),R.metaKey&&N.push(s.metaKey),B!==""&&N.push(B),N.join(s.separator)}},8313:function(Qt,He,c){"use strict";c.d(He,{BQ:function(){return R},QC:function(){return P},X_:function(){return y},f1:function(){return B},gm:function(){return O}});var E=c(17301);function O(s,N){if(s===0)return null;const g=(s&65535)>>>0,D=(s&4294901760)>>>16;return D!==0?new y([Q(g,N),Q(D,N)]):new y([Q(g,N)])}function Q(s,N){const g=!!(s&2048),D=!!(s&256),H=N===2?D:g,r=!!(s&1024),T=!!(s&512),w=N===2?g:D,x=s&255;return new P(H,r,T,w,x)}class P{constructor(N,g,D,H,r){this.ctrlKey=N,this.shiftKey=g,this.altKey=D,this.metaKey=H,this.keyCode=r}equals(N){return this.ctrlKey===N.ctrlKey&&this.shiftKey===N.shiftKey&&this.altKey===N.altKey&&this.metaKey===N.metaKey&&this.keyCode===N.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new y([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class y{constructor(N){if(N.length===0)throw(0,E.b1)("parts");this.parts=N}}class X{constructor(N,g,D,H,r){this.ctrlKey=N,this.shiftKey=g,this.altKey=D,this.metaKey=H,this.scanCode=r}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}class R{constructor(N,g,D,H,r,T){this.ctrlKey=N,this.shiftKey=g,this.altKey=D,this.metaKey=H,this.keyLabel=r,this.keyAriaLabel=T}}class B{}},68843:function(Qt,He,c){"use strict";c.d(He,{D:function(){return R},p:function(){return X}});var E=c(15527),O=c(66663),Q=c(1432),P=c(95935),y=c(70666);function X(B){if(!B)return;typeof B=="string"&&(B=y.o.file(B));const s=(0,P.EZ)(B)||(B.scheme===O.lg.file?B.fsPath:B.path);return Q.ED&&(0,E.vY)(s)?R(s):s}function R(B){return(0,E.oP)(B)?B.charAt(0).toUpperCase()+B.slice(1):B}},5976:function(Qt,He,c){"use strict";c.d(He,{B9:function(){return H},F8:function(){return r},JT:function(){return x},Jz:function(){return p},OF:function(){return T},SL:function(){return w},Wf:function(){return D},XK:function(){return f},dk:function(){return N}});var E=c(88289),O=c(56899);const Q=!1;let P=null;function y(S){P=S}if(Q){const S="__is_disposable_tracked__";y(new class{trackDisposable(h){const L=new Error("Potentially leaked disposable").stack;setTimeout(()=>{h[S]||console.log(L)},3e3)}setParent(h,L){if(h&&h!==x.None)try{h[S]=!0}catch(v){}}markAsDisposed(h){if(h&&h!==x.None)try{h[S]=!0}catch(L){}}markAsSingleton(h){}})}function X(S){return P==null||P.trackDisposable(S),S}function R(S){P==null||P.markAsDisposed(S)}function B(S,h){P==null||P.setParent(S,h)}function s(S,h){if(P)for(const L of S)P.setParent(L,h)}function N(S){return P==null||P.markAsSingleton(S),S}class g extends Error{constructor(h){super(`Encountered errors while disposing of store. Errors: [${h.join(", ")}]`),this.errors=h}}function D(S){return typeof S.dispose=="function"&&S.dispose.length===0}function H(S){if(O.$.is(S)){let h=[];for(const L of S)if(L)try{L.dispose()}catch(v){h.push(v)}if(h.length===1)throw h[0];if(h.length>1)throw new g(h);return Array.isArray(S)?[]:S}else if(S)return S.dispose(),S}function r(...S){const h=T(()=>H(S));return s(S,h),h}function T(S){const h=X({dispose:(0,E.I)(()=>{R(h),S()})});return h}class w{constructor(){this._toDispose=new Set,this._isDisposed=!1,X(this)}dispose(){this._isDisposed||(R(this),this._isDisposed=!0,this.clear())}clear(){try{H(this._toDispose.values())}finally{this._toDispose.clear()}}add(h){if(!h)return h;if(h===this)throw new Error("Cannot register a disposable on itself!");return B(h,this),this._isDisposed?w.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(h),h}}w.DISABLE_DISPOSED_WARNING=!1;class x{constructor(){this._store=new w,X(this),B(this._store,this)}dispose(){R(this),this._store.dispose()}_register(h){if(h===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(h)}}x.None=Object.freeze({dispose(){}});class f{constructor(){this._isDisposed=!1,X(this)}get value(){return this._isDisposed?void 0:this._value}set value(h){var L;this._isDisposed||h===this._value||((L=this._value)===null||L===void 0||L.dispose(),h&&B(h,this),this._value=h)}clear(){this.value=void 0}dispose(){var h;this._isDisposed=!0,R(this),(h=this._value)===null||h===void 0||h.dispose(),this._value=void 0}clearAndLeak(){const h=this._value;return this._value=void 0,h&&B(h,null),h}}class p{constructor(h){this.object=h}dispose(){}}},91741:function(Qt,He,c){"use strict";c.d(He,{S:function(){return O}});class E{constructor(P){this.element=P,this.next=E.Undefined,this.prev=E.Undefined}}E.Undefined=new E(void 0);class O{constructor(){this._first=E.Undefined,this._last=E.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===E.Undefined}clear(){let P=this._first;for(;P!==E.Undefined;){const y=P.next;P.prev=E.Undefined,P.next=E.Undefined,P=y}this._first=E.Undefined,this._last=E.Undefined,this._size=0}unshift(P){return this._insert(P,!1)}push(P){return this._insert(P,!0)}_insert(P,y){const X=new E(P);if(this._first===E.Undefined)this._first=X,this._last=X;else if(y){const B=this._last;this._last=X,X.prev=B,B.next=X}else{const B=this._first;this._first=X,X.next=B,B.prev=X}this._size+=1;let R=!1;return()=>{R||(R=!0,this._remove(X))}}shift(){if(this._first!==E.Undefined){const P=this._first.element;return this._remove(this._first),P}}pop(){if(this._last!==E.Undefined){const P=this._last.element;return this._remove(this._last),P}}_remove(P){if(P.prev!==E.Undefined&&P.next!==E.Undefined){const y=P.prev;y.next=P.next,P.next.prev=y}else P.prev===E.Undefined&&P.next===E.Undefined?(this._first=E.Undefined,this._last=E.Undefined):P.next===E.Undefined?(this._last=this._last.prev,this._last.next=E.Undefined):P.prev===E.Undefined&&(this._first=this._first.next,this._first.prev=E.Undefined);this._size-=1}*[Symbol.iterator](){let P=this._first;for(;P!==E.Undefined;)yield P.element,P=P.next}}},43702:function(Qt,He,c){"use strict";c.d(He,{Id:function(){return s},Y9:function(){return g},z6:function(){return H}});var E=c(97295),O,Q;class P{constructor(){this._value="",this._pos=0}reset(T){return this._value=T,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(T){const w=T.charCodeAt(0),x=this._value.charCodeAt(this._pos);return w-x}value(){return this._value[this._pos]}}class y{constructor(T=!0){this._caseSensitive=T}reset(T){return this._value=T,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let T=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(T)this._from++;else break;else T=!1;return this}cmp(T){return this._caseSensitive?(0,E.TT)(T,this._value,0,T.length,this._from,this._to):(0,E.j_)(T,this._value,0,T.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class X{constructor(T=!0,w=!0){this._splitOnBackslash=T,this._caseSensitive=w}reset(T){return this._value=T.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let T=!0;for(;this._to<this._value.length;this._to++){const w=this._value.charCodeAt(this._to);if(w===47||this._splitOnBackslash&&w===92)if(T)this._from++;else break;else T=!1}return this}cmp(T){return this._caseSensitive?(0,E.TT)(T,this._value,0,T.length,this._from,this._to):(0,E.j_)(T,this._value,0,T.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class R{constructor(T){this._ignorePathCasing=T,this._states=[],this._stateIdx=0}reset(T){return this._value=T,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new X(!1,!this._ignorePathCasing(T)),this._pathIterator.reset(T.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(T){if(this._states[this._stateIdx]===1)return(0,E.zY)(T,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,E.zY)(T,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(T);if(this._states[this._stateIdx]===4)return(0,E.qu)(T,this._value.query);if(this._states[this._stateIdx]===5)return(0,E.qu)(T,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class B{constructor(){this.height=1}rotateLeft(){const T=this.right;return this.right=T.left,T.left=this,this.updateHeight(),T.updateHeight(),T}rotateRight(){const T=this.left;return this.left=T.right,T.right=this,this.updateHeight(),T.updateHeight(),T}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var T,w;return(w=(T=this.left)===null||T===void 0?void 0:T.height)!==null&&w!==void 0?w:0}get heightRight(){var T,w;return(w=(T=this.right)===null||T===void 0?void 0:T.height)!==null&&w!==void 0?w:0}}class s{constructor(T){this._iter=T}static forUris(T=()=>!1){return new s(new R(T))}static forStrings(){return new s(new P)}static forConfigKeys(){return new s(new y)}clear(){this._root=void 0}set(T,w){const x=this._iter.reset(T);let f;this._root||(this._root=new B,this._root.segment=x.value());const p=[];for(f=this._root;;){const h=x.cmp(f.segment);if(h>0)f.left||(f.left=new B,f.left.segment=x.value()),p.push([-1,f]),f=f.left;else if(h<0)f.right||(f.right=new B,f.right.segment=x.value()),p.push([1,f]),f=f.right;else if(x.hasNext())x.next(),f.mid||(f.mid=new B,f.mid.segment=x.value()),p.push([0,f]),f=f.mid;else break}const S=f.value;f.value=w,f.key=T;for(let h=p.length-1;h>=0;h--){const L=p[h][1];L.updateHeight();const v=L.balanceFactor();if(v<-1||v>1){const V=p[h][0],$=p[h+1][0];if(V===1&&$===1)p[h][1]=L.rotateLeft();else if(V===-1&&$===-1)p[h][1]=L.rotateRight();else if(V===1&&$===-1)L.right=p[h+1][1]=p[h+1][1].rotateRight(),p[h][1]=L.rotateLeft();else if(V===-1&&$===1)L.left=p[h+1][1]=p[h+1][1].rotateLeft(),p[h][1]=L.rotateRight();else throw new Error;if(h>0)switch(p[h-1][0]){case-1:p[h-1][1].left=p[h][1];break;case 1:p[h-1][1].right=p[h][1];break;case 0:p[h-1][1].mid=p[h][1];break}else this._root=p[0][1]}}return S}get(T){var w;return(w=this._getNode(T))===null||w===void 0?void 0:w.value}_getNode(T){const w=this._iter.reset(T);let x=this._root;for(;x;){const f=w.cmp(x.segment);if(f>0)x=x.left;else if(f<0)x=x.right;else if(w.hasNext())w.next(),x=x.mid;else break}return x}has(T){const w=this._getNode(T);return!((w==null?void 0:w.value)===void 0&&(w==null?void 0:w.mid)===void 0)}delete(T){return this._delete(T,!1)}deleteSuperstr(T){return this._delete(T,!0)}_delete(T,w){var x;const f=this._iter.reset(T),p=[];let S=this._root;for(;S;){const h=f.cmp(S.segment);if(h>0)p.push([-1,S]),S=S.left;else if(h<0)p.push([1,S]),S=S.right;else if(f.hasNext())f.next(),p.push([0,S]),S=S.mid;else break}if(S){if(w?(S.left=void 0,S.mid=void 0,S.right=void 0,S.height=1):(S.key=void 0,S.value=void 0),!S.mid&&!S.value)if(S.left&&S.right){const h=this._min(S.right),{key:L,value:v,segment:V}=h;this._delete(h.key,!1),S.key=L,S.value=v,S.segment=V}else{const h=(x=S.left)!==null&&x!==void 0?x:S.right;if(p.length>0){const[L,v]=p[p.length-1];switch(L){case-1:v.left=h;break;case 0:v.mid=h;break;case 1:v.right=h;break}}else this._root=h}for(let h=p.length-1;h>=0;h--){const L=p[h][1];L.updateHeight();const v=L.balanceFactor();if(v>1?(L.right.balanceFactor()>=0||(L.right=p[h+1][1]=p[h+1][1].rotateRight()),p[h][1]=L.rotateLeft()):v<-1&&(L.left.balanceFactor()<=0||(L.left=p[h+1][1]=p[h+1][1].rotateLeft()),p[h][1]=L.rotateRight()),h>0)switch(p[h-1][0]){case-1:p[h-1][1].left=p[h][1];break;case 1:p[h-1][1].right=p[h][1];break;case 0:p[h-1][1].mid=p[h][1];break}else this._root=p[0][1]}}}_min(T){for(;T.left;)T=T.left;return T}findSubstr(T){const w=this._iter.reset(T);let x=this._root,f;for(;x;){const p=w.cmp(x.segment);if(p>0)x=x.left;else if(p<0)x=x.right;else if(w.hasNext())w.next(),f=x.value||f,x=x.mid;else break}return x&&x.value||f}findSuperstr(T){const w=this._iter.reset(T);let x=this._root;for(;x;){const f=w.cmp(x.segment);if(f>0)x=x.left;else if(f<0)x=x.right;else if(w.hasNext())w.next(),x=x.mid;else return x.mid?this._entries(x.mid):void 0}}forEach(T){for(const[w,x]of this)T(x,w)}*[Symbol.iterator](){yield*Ka(this._entries(this._root))}*_entries(T){T&&(T.left&&(yield*Ka(this._entries(T.left))),T.value&&(yield[T.key,T.value]),T.mid&&(yield*Ka(this._entries(T.mid))),T.right&&(yield*Ka(this._entries(T.right))))}}class N{constructor(T,w){this.uri=T,this.value=w}}class g{constructor(T,w){this[O]="ResourceMap",T instanceof g?(this.map=new Map(T.map),this.toKey=w!=null?w:g.defaultToKey):(this.map=new Map,this.toKey=T!=null?T:g.defaultToKey)}set(T,w){return this.map.set(this.toKey(T),new N(T,w)),this}get(T){var w;return(w=this.map.get(this.toKey(T)))===null||w===void 0?void 0:w.value}has(T){return this.map.has(this.toKey(T))}get size(){return this.map.size}clear(){this.map.clear()}delete(T){return this.map.delete(this.toKey(T))}forEach(T,w){typeof w!="undefined"&&(T=T.bind(w));for(let[x,f]of this.map)T(f.value,f.uri,this)}*values(){for(let T of this.map.values())yield T.value}*keys(){for(let T of this.map.values())yield T.uri}*entries(){for(let T of this.map.values())yield[T.uri,T.value]}*[(O=Symbol.toStringTag,Symbol.iterator)](){for(let[,T]of this.map)yield[T.uri,T.value]}}g.defaultToKey=r=>r.toString();class D{constructor(){this[Q]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var T;return(T=this._head)===null||T===void 0?void 0:T.value}get last(){var T;return(T=this._tail)===null||T===void 0?void 0:T.value}has(T){return this._map.has(T)}get(T,w=0){const x=this._map.get(T);if(x)return w!==0&&this.touch(x,w),x.value}set(T,w,x=0){let f=this._map.get(T);if(f)f.value=w,x!==0&&this.touch(f,x);else{switch(f={key:T,value:w,next:void 0,previous:void 0},x){case 0:this.addItemLast(f);break;case 1:this.addItemFirst(f);break;case 2:this.addItemLast(f);break;default:this.addItemLast(f);break}this._map.set(T,f),this._size++}return this}delete(T){return!!this.remove(T)}remove(T){const w=this._map.get(T);if(w)return this._map.delete(T),this.removeItem(w),this._size--,w.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const T=this._head;return this._map.delete(T.key),this.removeItem(T),this._size--,T.value}forEach(T,w){const x=this._state;let f=this._head;for(;f;){if(w?T.bind(w)(f.value,f.key,this):T(f.value,f.key,this),this._state!==x)throw new Error("LinkedMap got modified during iteration.");f=f.next}}keys(){const T=this,w=this._state;let x=this._head;const f={[Symbol.iterator](){return f},next(){if(T._state!==w)throw new Error("LinkedMap got modified during iteration.");if(x){const p={value:x.key,done:!1};return x=x.next,p}else return{value:void 0,done:!0}}};return f}values(){const T=this,w=this._state;let x=this._head;const f={[Symbol.iterator](){return f},next(){if(T._state!==w)throw new Error("LinkedMap got modified during iteration.");if(x){const p={value:x.value,done:!1};return x=x.next,p}else return{value:void 0,done:!0}}};return f}entries(){const T=this,w=this._state;let x=this._head;const f={[Symbol.iterator](){return f},next(){if(T._state!==w)throw new Error("LinkedMap got modified during iteration.");if(x){const p={value:[x.key,x.value],done:!1};return x=x.next,p}else return{value:void 0,done:!0}}};return f}[(Q=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(T){if(T>=this.size)return;if(T===0){this.clear();return}let w=this._head,x=this.size;for(;w&&x>T;)this._map.delete(w.key),w=w.next,x--;this._head=w,this._size=x,w&&(w.previous=void 0),this._state++}addItemFirst(T){if(!this._head&&!this._tail)this._tail=T;else if(this._head)T.next=this._head,this._head.previous=T;else throw new Error("Invalid list");this._head=T,this._state++}addItemLast(T){if(!this._head&&!this._tail)this._head=T;else if(this._tail)T.previous=this._tail,this._tail.next=T;else throw new Error("Invalid list");this._tail=T,this._state++}removeItem(T){if(T===this._head&&T===this._tail)this._head=void 0,this._tail=void 0;else if(T===this._head){if(!T.next)throw new Error("Invalid list");T.next.previous=void 0,this._head=T.next}else if(T===this._tail){if(!T.previous)throw new Error("Invalid list");T.previous.next=void 0,this._tail=T.previous}else{const w=T.next,x=T.previous;if(!w||!x)throw new Error("Invalid list");w.previous=x,x.next=w}T.next=void 0,T.previous=void 0,this._state++}touch(T,w){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(w!==1&&w!==2)){if(w===1){if(T===this._head)return;const x=T.next,f=T.previous;T===this._tail?(f.next=void 0,this._tail=f):(x.previous=f,f.next=x),T.previous=void 0,T.next=this._head,this._head.previous=T,this._head=T,this._state++}else if(w===2){if(T===this._tail)return;const x=T.next,f=T.previous;T===this._head?(x.previous=void 0,this._head=x):(x.previous=f,f.next=x),T.next=void 0,T.previous=this._tail,this._tail.next=T,this._tail=T,this._state++}}}toJSON(){const T=[];return this.forEach((w,x)=>{T.push([x,w])}),T}fromJSON(T){this.clear();for(const[w,x]of T)this.set(w,x)}}class H extends D{constructor(T,w=1){super(),this._limit=T,this._ratio=Math.min(Math.max(0,w),1)}get limit(){return this._limit}set limit(T){this._limit=T,this.checkTrim()}get(T,w=2){return super.get(T,w)}peek(T){return super.get(T,0)}set(T,w){return super.set(T,w,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},33720:function(Qt,He,c){"use strict";c.d(He,{Qc:function(){return g},Th:function(){return y}}),Qt=c.hmd(Qt);let E;(function(){function D(H){E=H()}D.amd=!0,function(H,r){typeof exports=="object"?Qt.exports=r():typeof D=="function"&&D.amd?D(r):(H=typeof globalThis!="undefined"?globalThis:H||self,H.marked=r())}(this,function(){"use strict";function H(wt,ft){for(var xt=0;xt<ft.length;xt++){var Ve=ft[xt];Ve.enumerable=Ve.enumerable||!1,Ve.configurable=!0,"value"in Ve&&(Ve.writable=!0),Object.defineProperty(wt,Ve.key,Ve)}}function r(wt,ft,xt){return ft&&H(wt.prototype,ft),xt&&H(wt,xt),wt}function T(wt,ft){if(wt){if(typeof wt=="string")return w(wt,ft);var xt=Object.prototype.toString.call(wt).slice(8,-1);if(xt==="Object"&&wt.constructor&&(xt=wt.constructor.name),xt==="Map"||xt==="Set")return Array.from(wt);if(xt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xt))return w(wt,ft)}}function w(wt,ft){(ft==null||ft>wt.length)&&(ft=wt.length);for(var xt=0,Ve=new Array(ft);xt<ft;xt++)Ve[xt]=wt[xt];return Ve}function x(wt,ft){var xt=typeof Symbol!="undefined"&&wt[Symbol.iterator]||wt["@@iterator"];if(xt)return(xt=xt.call(wt)).next.bind(xt);if(Array.isArray(wt)||(xt=T(wt))||ft&&wt&&typeof wt.length=="number"){xt&&(wt=xt);var Ve=0;return function(){return Ve>=wt.length?{done:!0}:{done:!1,value:wt[Ve++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f={exports:{}};function p(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function S(wt){f.exports.defaults=wt}f.exports={defaults:p(),getDefaults:p,changeDefaults:S};var h=/[&<>"']/,L=/[&<>"']/g,v=/[<>"']|&(?!#?\w+;)/,V=/[<>"']|&(?!#?\w+;)/g,$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ee=function(ft){return $[ft]};function de(wt,ft){if(ft){if(h.test(wt))return wt.replace(L,ee)}else if(v.test(wt))return wt.replace(V,ee);return wt}var pe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ve(wt){return wt.replace(pe,function(ft,xt){return xt=xt.toLowerCase(),xt==="colon"?":":xt.charAt(0)==="#"?xt.charAt(1)==="x"?String.fromCharCode(parseInt(xt.substring(2),16)):String.fromCharCode(+xt.substring(1)):""})}var xe=/(^|[^\[])\^/g;function le(wt,ft){wt=wt.source||wt,ft=ft||"";var xt={replace:function(qe,mt){return mt=mt.source||mt,mt=mt.replace(xe,"$1"),wt=wt.replace(qe,mt),xt},getRegex:function(){return new RegExp(wt,ft)}};return xt}var Y=/[^\w:]/g,j=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function G(wt,ft,xt){if(wt){var Ve;try{Ve=decodeURIComponent(ve(xt)).replace(Y,"").toLowerCase()}catch(qe){return null}if(Ve.indexOf("javascript:")===0||Ve.indexOf("vbscript:")===0||Ve.indexOf("data:")===0)return null}ft&&!j.test(xt)&&(xt=te(ft,xt));try{xt=encodeURI(xt).replace(/%25/g,"%")}catch(qe){return null}return xt}var q={},m=/^[^:]+:\/*[^/]*$/,b=/^([^:]+:)[\s\S]*$/,F=/^([^:]+:\/*[^/]*)[\s\S]*$/;function te(wt,ft){q[" "+wt]||(m.test(wt)?q[" "+wt]=wt+"/":q[" "+wt]=Re(wt,"/",!0)),wt=q[" "+wt];var xt=wt.indexOf(":")===-1;return ft.substring(0,2)==="//"?xt?ft:wt.replace(b,"$1")+ft:ft.charAt(0)==="/"?xt?ft:wt.replace(F,"$1")+ft:wt+ft}var me={exec:function(){}};function ue(wt){for(var ft=1,xt,Ve;ft<arguments.length;ft++){xt=arguments[ft];for(Ve in xt)Object.prototype.hasOwnProperty.call(xt,Ve)&&(wt[Ve]=xt[Ve])}return wt}function Oe(wt,ft){var xt=wt.replace(/\|/g,function(mt,ut,ri){for(var $i=!1,_i=ut;--_i>=0&&ri[_i]==="\\";)$i=!$i;return $i?"|":" |"}),Ve=xt.split(/ \|/),qe=0;if(Ve[0].trim()||Ve.shift(),Ve[Ve.length-1].trim()||Ve.pop(),Ve.length>ft)Ve.splice(ft);else for(;Ve.length<ft;)Ve.push("");for(;qe<Ve.length;qe++)Ve[qe]=Ve[qe].trim().replace(/\\\|/g,"|");return Ve}function Re(wt,ft,xt){var Ve=wt.length;if(Ve===0)return"";for(var qe=0;qe<Ve;){var mt=wt.charAt(Ve-qe-1);if(mt===ft&&!xt)qe++;else if(mt!==ft&&xt)qe++;else break}return wt.substr(0,Ve-qe)}function et(wt,ft){if(wt.indexOf(ft[1])===-1)return-1;for(var xt=wt.length,Ve=0,qe=0;qe<xt;qe++)if(wt[qe]==="\\")qe++;else if(wt[qe]===ft[0])Ve++;else if(wt[qe]===ft[1]&&(Ve--,Ve<0))return qe;return-1}function Dt(wt){wt&&wt.sanitize&&!wt.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function ht(wt,ft){if(ft<1)return"";for(var xt="";ft>1;)ft&1&&(xt+=wt),ft>>=1,wt+=wt;return xt+wt}var Mt={escape:de,unescape:ve,edit:le,cleanUrl:G,resolveUrl:te,noopTest:me,merge:ue,splitCells:Oe,rtrim:Re,findClosingBracket:et,checkSanitizeDeprecation:Dt,repeatString:ht},Je=f.exports.defaults,tt=Mt.rtrim,ke=Mt.splitCells,fe=Mt.escape,Ie=Mt.findClosingBracket;function nt(wt,ft,xt,Ve){var qe=ft.href,mt=ft.title?fe(ft.title):null,ut=wt[1].replace(/\\([\[\]])/g,"$1");if(wt[0].charAt(0)!=="!"){Ve.state.inLink=!0;var ri={type:"link",raw:xt,href:qe,title:mt,text:ut,tokens:Ve.inlineTokens(ut,[])};return Ve.state.inLink=!1,ri}else return{type:"image",raw:xt,href:qe,title:mt,text:fe(ut)}}function at(wt,ft){var xt=wt.match(/^(\s+)(?:```)/);if(xt===null)return ft;var Ve=xt[1];return ft.split(`
`).map(function(qe){var mt=qe.match(/^\s+/);if(mt===null)return qe;var ut=mt[0];return ut.length>=Ve.length?qe.slice(Ve.length):qe}).join(`
`)}var ot=function(){function wt(xt){this.options=xt||Je}var ft=wt.prototype;return ft.space=function(Ve){var qe=this.rules.block.newline.exec(Ve);if(qe)return qe[0].length>1?{type:"space",raw:qe[0]}:{raw:`
`}},ft.code=function(Ve){var qe=this.rules.block.code.exec(Ve);if(qe){var mt=qe[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:qe[0],codeBlockStyle:"indented",text:this.options.pedantic?mt:tt(mt,`
`)}}},ft.fences=function(Ve){var qe=this.rules.block.fences.exec(Ve);if(qe){var mt=qe[0],ut=at(mt,qe[3]||"");return{type:"code",raw:mt,lang:qe[2]?qe[2].trim():qe[2],text:ut}}},ft.heading=function(Ve){var qe=this.rules.block.heading.exec(Ve);if(qe){var mt=qe[2].trim();if(/#$/.test(mt)){var ut=tt(mt,"#");(this.options.pedantic||!ut||/ $/.test(ut))&&(mt=ut.trim())}var ri={type:"heading",raw:qe[0],depth:qe[1].length,text:mt,tokens:[]};return this.lexer.inline(ri.text,ri.tokens),ri}},ft.hr=function(Ve){var qe=this.rules.block.hr.exec(Ve);if(qe)return{type:"hr",raw:qe[0]}},ft.blockquote=function(Ve){var qe=this.rules.block.blockquote.exec(Ve);if(qe){var mt=qe[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:qe[0],tokens:this.lexer.blockTokens(mt,[]),text:mt}}},ft.list=function(Ve){var qe=this.rules.block.list.exec(Ve);if(qe){var mt,ut,ri,$i,_i,Ni,Gi,hn,pn,Ai,pi=qe[1].trim(),_n=pi.length>1,En={type:"list",raw:"",ordered:_n,start:_n?+pi.slice(0,-1):"",loose:!1,items:[]};pi=_n?"\\d{1,9}\\"+pi.slice(-1):"\\"+pi,this.options.pedantic&&(pi=_n?pi:"[*+-]");for(var is=new RegExp("^( {0,3}"+pi+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");Ve&&!(this.rules.block.hr.test(Ve)||!(qe=is.exec(Ve)));){pn=qe[2].split(`
`),this.options.pedantic?($i=2,Ai=pn[0].trimLeft()):($i=qe[2].search(/[^ ]/),$i=qe[1].length+($i>4?1:$i),Ai=pn[0].slice($i-qe[1].length)),Ni=!1,mt=qe[0],!pn[0]&&/^ *$/.test(pn[1])&&(mt=qe[1]+pn.slice(0,2).join(`
`)+`
`,En.loose=!0,pn=[]);var ds=new RegExp("^ {0,"+Math.min(3,$i-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(_i=1;_i<pn.length;_i++){if(hn=pn[_i],this.options.pedantic&&(hn=hn.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),ds.test(hn)){mt=qe[1]+pn.slice(0,_i).join(`
`)+`
`;break}if(!Ni){hn.trim()||(Ni=!0),hn.search(/[^ ]/)>=$i?Ai+=`
`+hn.slice($i):Ai+=`
`+hn;continue}if(hn.search(/[^ ]/)>=$i||!hn.trim()){Ai+=`
`+hn.slice($i);continue}else{mt=qe[1]+pn.slice(0,_i).join(`
`)+`
`;break}}En.loose||(Gi?En.loose=!0:/\n *\n *$/.test(mt)&&(Gi=!0)),this.options.gfm&&(ut=/^\[[ xX]\] /.exec(Ai),ut&&(ri=ut[0]!=="[ ] ",Ai=Ai.replace(/^\[[ xX]\] +/,""))),En.items.push({type:"list_item",raw:mt,task:!!ut,checked:ri,loose:!1,text:Ai}),En.raw+=mt,Ve=Ve.slice(mt.length)}En.items[En.items.length-1].raw=mt.trimRight(),En.items[En.items.length-1].text=Ai.trimRight(),En.raw=En.raw.trimRight();var Xn=En.items.length;for(_i=0;_i<Xn;_i++)this.lexer.state.top=!1,En.items[_i].tokens=this.lexer.blockTokens(En.items[_i].text,[]),En.items[_i].tokens.some(function(Rs){return Rs.type==="space"})&&(En.loose=!0,En.items[_i].loose=!0);return En}},ft.html=function(Ve){var qe=this.rules.block.html.exec(Ve);if(qe){var mt={type:"html",raw:qe[0],pre:!this.options.sanitizer&&(qe[1]==="pre"||qe[1]==="script"||qe[1]==="style"),text:qe[0]};return this.options.sanitize&&(mt.type="paragraph",mt.text=this.options.sanitizer?this.options.sanitizer(qe[0]):fe(qe[0]),mt.tokens=[],this.lexer.inline(mt.text,mt.tokens)),mt}},ft.def=function(Ve){var qe=this.rules.block.def.exec(Ve);if(qe){qe[3]&&(qe[3]=qe[3].substring(1,qe[3].length-1));var mt=qe[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:mt,raw:qe[0],href:qe[2],title:qe[3]}}},ft.table=function(Ve){var qe=this.rules.block.table.exec(Ve);if(qe){var mt={type:"table",header:ke(qe[1]).map(function(Gi){return{text:Gi}}),align:qe[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:qe[3]?qe[3].replace(/\n$/,"").split(`
`):[]};if(mt.header.length===mt.align.length){mt.raw=qe[0];var ut=mt.align.length,ri,$i,_i,Ni;for(ri=0;ri<ut;ri++)/^ *-+: *$/.test(mt.align[ri])?mt.align[ri]="right":/^ *:-+: *$/.test(mt.align[ri])?mt.align[ri]="center":/^ *:-+ *$/.test(mt.align[ri])?mt.align[ri]="left":mt.align[ri]=null;for(ut=mt.rows.length,ri=0;ri<ut;ri++)mt.rows[ri]=ke(mt.rows[ri],mt.header.length).map(function(Gi){return{text:Gi}});for(ut=mt.header.length,$i=0;$i<ut;$i++)mt.header[$i].tokens=[],this.lexer.inlineTokens(mt.header[$i].text,mt.header[$i].tokens);for(ut=mt.rows.length,$i=0;$i<ut;$i++)for(Ni=mt.rows[$i],_i=0;_i<Ni.length;_i++)Ni[_i].tokens=[],this.lexer.inlineTokens(Ni[_i].text,Ni[_i].tokens);return mt}}},ft.lheading=function(Ve){var qe=this.rules.block.lheading.exec(Ve);if(qe){var mt={type:"heading",raw:qe[0],depth:qe[2].charAt(0)==="="?1:2,text:qe[1],tokens:[]};return this.lexer.inline(mt.text,mt.tokens),mt}},ft.paragraph=function(Ve){var qe=this.rules.block.paragraph.exec(Ve);if(qe){var mt={type:"paragraph",raw:qe[0],text:qe[1].charAt(qe[1].length-1)===`
`?qe[1].slice(0,-1):qe[1],tokens:[]};return this.lexer.inline(mt.text,mt.tokens),mt}},ft.text=function(Ve){var qe=this.rules.block.text.exec(Ve);if(qe){var mt={type:"text",raw:qe[0],text:qe[0],tokens:[]};return this.lexer.inline(mt.text,mt.tokens),mt}},ft.escape=function(Ve){var qe=this.rules.inline.escape.exec(Ve);if(qe)return{type:"escape",raw:qe[0],text:fe(qe[1])}},ft.tag=function(Ve){var qe=this.rules.inline.tag.exec(Ve);if(qe)return!this.lexer.state.inLink&&/^<a /i.test(qe[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(qe[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(qe[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(qe[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:qe[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(qe[0]):fe(qe[0]):qe[0]}},ft.link=function(Ve){var qe=this.rules.inline.link.exec(Ve);if(qe){var mt=qe[2].trim();if(!this.options.pedantic&&/^</.test(mt)){if(!/>$/.test(mt))return;var ut=tt(mt.slice(0,-1),"\\");if((mt.length-ut.length)%2===0)return}else{var ri=Ie(qe[2],"()");if(ri>-1){var $i=qe[0].indexOf("!")===0?5:4,_i=$i+qe[1].length+ri;qe[2]=qe[2].substring(0,ri),qe[0]=qe[0].substring(0,_i).trim(),qe[3]=""}}var Ni=qe[2],Gi="";if(this.options.pedantic){var hn=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ni);hn&&(Ni=hn[1],Gi=hn[3])}else Gi=qe[3]?qe[3].slice(1,-1):"";return Ni=Ni.trim(),/^</.test(Ni)&&(this.options.pedantic&&!/>$/.test(mt)?Ni=Ni.slice(1):Ni=Ni.slice(1,-1)),nt(qe,{href:Ni&&Ni.replace(this.rules.inline._escapes,"$1"),title:Gi&&Gi.replace(this.rules.inline._escapes,"$1")},qe[0],this.lexer)}},ft.reflink=function(Ve,qe){var mt;if((mt=this.rules.inline.reflink.exec(Ve))||(mt=this.rules.inline.nolink.exec(Ve))){var ut=(mt[2]||mt[1]).replace(/\s+/g," ");if(ut=qe[ut.toLowerCase()],!ut||!ut.href){var ri=mt[0].charAt(0);return{type:"text",raw:ri,text:ri}}return nt(mt,ut,mt[0],this.lexer)}},ft.emStrong=function(Ve,qe,mt){mt===void 0&&(mt="");var ut=this.rules.inline.emStrong.lDelim.exec(Ve);if(ut&&!(ut[3]&&mt.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ri=ut[1]||ut[2]||"";if(!ri||ri&&(mt===""||this.rules.inline.punctuation.exec(mt))){var $i=ut[0].length-1,_i,Ni,Gi=$i,hn=0,pn=ut[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(pn.lastIndex=0,qe=qe.slice(-1*Ve.length+$i);(ut=pn.exec(qe))!=null;)if(_i=ut[1]||ut[2]||ut[3]||ut[4]||ut[5]||ut[6],!!_i){if(Ni=_i.length,ut[3]||ut[4]){Gi+=Ni;continue}else if((ut[5]||ut[6])&&$i%3&&!(($i+Ni)%3)){hn+=Ni;continue}if(Gi-=Ni,!(Gi>0)){if(Ni=Math.min(Ni,Ni+Gi+hn),Math.min($i,Ni)%2){var Ai=Ve.slice(1,$i+ut.index+Ni);return{type:"em",raw:Ve.slice(0,$i+ut.index+Ni+1),text:Ai,tokens:this.lexer.inlineTokens(Ai,[])}}var pi=Ve.slice(2,$i+ut.index+Ni-1);return{type:"strong",raw:Ve.slice(0,$i+ut.index+Ni+1),text:pi,tokens:this.lexer.inlineTokens(pi,[])}}}}}},ft.codespan=function(Ve){var qe=this.rules.inline.code.exec(Ve);if(qe){var mt=qe[2].replace(/\n/g," "),ut=/[^ ]/.test(mt),ri=/^ /.test(mt)&&/ $/.test(mt);return ut&&ri&&(mt=mt.substring(1,mt.length-1)),mt=fe(mt,!0),{type:"codespan",raw:qe[0],text:mt}}},ft.br=function(Ve){var qe=this.rules.inline.br.exec(Ve);if(qe)return{type:"br",raw:qe[0]}},ft.del=function(Ve){var qe=this.rules.inline.del.exec(Ve);if(qe)return{type:"del",raw:qe[0],text:qe[2],tokens:this.lexer.inlineTokens(qe[2],[])}},ft.autolink=function(Ve,qe){var mt=this.rules.inline.autolink.exec(Ve);if(mt){var ut,ri;return mt[2]==="@"?(ut=fe(this.options.mangle?qe(mt[1]):mt[1]),ri="mailto:"+ut):(ut=fe(mt[1]),ri=ut),{type:"link",raw:mt[0],text:ut,href:ri,tokens:[{type:"text",raw:ut,text:ut}]}}},ft.url=function(Ve,qe){var mt;if(mt=this.rules.inline.url.exec(Ve)){var ut,ri;if(mt[2]==="@")ut=fe(this.options.mangle?qe(mt[0]):mt[0]),ri="mailto:"+ut;else{var $i;do $i=mt[0],mt[0]=this.rules.inline._backpedal.exec(mt[0])[0];while($i!==mt[0]);ut=fe(mt[0]),mt[1]==="www."?ri="http://"+ut:ri=ut}return{type:"link",raw:mt[0],text:ut,href:ri,tokens:[{type:"text",raw:ut,text:ut}]}}},ft.inlineText=function(Ve,qe){var mt=this.rules.inline.text.exec(Ve);if(mt){var ut;return this.lexer.state.inRawBlock?ut=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(mt[0]):fe(mt[0]):mt[0]:ut=fe(this.options.smartypants?qe(mt[0]):mt[0]),{type:"text",raw:mt[0],text:ut}}},wt}(),Ne=Mt.noopTest,Pe=Mt.edit,ye=Mt.merge,Ze={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:Ne,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ze._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,Ze._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Ze.def=Pe(Ze.def).replace("label",Ze._label).replace("title",Ze._title).getRegex(),Ze.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ze.listItemStart=Pe(/^( *)(bull) */).replace("bull",Ze.bullet).getRegex(),Ze.list=Pe(Ze.list).replace(/bull/g,Ze.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ze.def.source+")").getRegex(),Ze._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ze._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ze.html=Pe(Ze.html,"i").replace("comment",Ze._comment).replace("tag",Ze._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ze.paragraph=Pe(Ze._paragraph).replace("hr",Ze.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ze._tag).getRegex(),Ze.blockquote=Pe(Ze.blockquote).replace("paragraph",Ze.paragraph).getRegex(),Ze.normal=ye({},Ze),Ze.gfm=ye({},Ze.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)\\|?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ze.gfm.table=Pe(Ze.gfm.table).replace("hr",Ze.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ze._tag).getRegex(),Ze.pedantic=ye({},Ze.normal,{html:Pe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ze._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ne,paragraph:Pe(Ze.normal._paragraph).replace("hr",Ze.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ze.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var it={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ne,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ne,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};it._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",it.punctuation=Pe(it.punctuation).replace(/punctuation/g,it._punctuation).getRegex(),it.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,it.escapedEmSt=/\\\*|\\_/g,it._comment=Pe(Ze._comment).replace("(?:-->|$)","-->").getRegex(),it.emStrong.lDelim=Pe(it.emStrong.lDelim).replace(/punct/g,it._punctuation).getRegex(),it.emStrong.rDelimAst=Pe(it.emStrong.rDelimAst,"g").replace(/punct/g,it._punctuation).getRegex(),it.emStrong.rDelimUnd=Pe(it.emStrong.rDelimUnd,"g").replace(/punct/g,it._punctuation).getRegex(),it._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,it._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,it._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,it.autolink=Pe(it.autolink).replace("scheme",it._scheme).replace("email",it._email).getRegex(),it._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,it.tag=Pe(it.tag).replace("comment",it._comment).replace("attribute",it._attribute).getRegex(),it._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,it._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,it._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,it.link=Pe(it.link).replace("label",it._label).replace("href",it._href).replace("title",it._title).getRegex(),it.reflink=Pe(it.reflink).replace("label",it._label).getRegex(),it.reflinkSearch=Pe(it.reflinkSearch,"g").replace("reflink",it.reflink).replace("nolink",it.nolink).getRegex(),it.normal=ye({},it),it.pedantic=ye({},it.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Pe(/^!?\[(label)\]\((.*?)\)/).replace("label",it._label).getRegex(),reflink:Pe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",it._label).getRegex()}),it.gfm=ye({},it.normal,{escape:Pe(it.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),it.gfm.url=Pe(it.gfm.url,"i").replace("email",it.gfm._extended_email).getRegex(),it.breaks=ye({},it.gfm,{br:Pe(it.br).replace("{2,}","*").getRegex(),text:Pe(it.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Ft={block:Ze,inline:it},ei=ot,bi=f.exports.defaults,ii=Ft.block,Ot=Ft.inline,en=Mt.repeatString;function ui(wt){return wt.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Ke(wt){var ft="",xt,Ve,qe=wt.length;for(xt=0;xt<qe;xt++)Ve=wt.charCodeAt(xt),Math.random()>.5&&(Ve="x"+Ve.toString(16)),ft+="&#"+Ve+";";return ft}var st=function(){function wt(xt){this.tokens=[],this.tokens.links=Object.create(null),this.options=xt||bi,this.options.tokenizer=this.options.tokenizer||new ei,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var Ve={block:ii.normal,inline:Ot.normal};this.options.pedantic?(Ve.block=ii.pedantic,Ve.inline=Ot.pedantic):this.options.gfm&&(Ve.block=ii.gfm,this.options.breaks?Ve.inline=Ot.breaks:Ve.inline=Ot.gfm),this.tokenizer.rules=Ve}wt.lex=function(Ve,qe){var mt=new wt(qe);return mt.lex(Ve)},wt.lexInline=function(Ve,qe){var mt=new wt(qe);return mt.inlineTokens(Ve)};var ft=wt.prototype;return ft.lex=function(Ve){Ve=Ve.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(Ve,this.tokens);for(var qe;qe=this.inlineQueue.shift();)this.inlineTokens(qe.src,qe.tokens);return this.tokens},ft.blockTokens=function(Ve,qe){var mt=this;qe===void 0&&(qe=[]),this.options.pedantic&&(Ve=Ve.replace(/^ +$/gm,""));for(var ut,ri,$i,_i;Ve;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Gi){return(ut=Gi.call({lexer:mt},Ve,qe))?(Ve=Ve.substring(ut.raw.length),qe.push(ut),!0):!1}))){if(ut=this.tokenizer.space(Ve)){Ve=Ve.substring(ut.raw.length),ut.type&&qe.push(ut);continue}if(ut=this.tokenizer.code(Ve)){Ve=Ve.substring(ut.raw.length),ri=qe[qe.length-1],ri&&(ri.type==="paragraph"||ri.type==="text")?(ri.raw+=`
`+ut.raw,ri.text+=`
`+ut.text,this.inlineQueue[this.inlineQueue.length-1].src=ri.text):qe.push(ut);continue}if(ut=this.tokenizer.fences(Ve)){Ve=Ve.substring(ut.raw.length),qe.push(ut);continue}if(ut=this.tokenizer.heading(Ve)){Ve=Ve.substring(ut.raw.length),qe.push(ut);continue}if(ut=this.tokenizer.hr(Ve)){Ve=Ve.substring(ut.raw.length),qe.push(ut);continue}if(ut=this.tokenizer.blockquote(Ve)){Ve=Ve.substring(ut.raw.length),qe.push(ut);continue}if(ut=this.tokenizer.list(Ve)){Ve=Ve.substring(ut.raw.length),qe.push(ut);continue}if(ut=this.tokenizer.html(Ve)){Ve=Ve.substring(ut.raw.length),qe.push(ut);continue}if(ut=this.tokenizer.def(Ve)){Ve=Ve.substring(ut.raw.length),ri=qe[qe.length-1],ri&&(ri.type==="paragraph"||ri.type==="text")?(ri.raw+=`
`+ut.raw,ri.text+=`
`+ut.raw,this.inlineQueue[this.inlineQueue.length-1].src=ri.text):this.tokens.links[ut.tag]||(this.tokens.links[ut.tag]={href:ut.href,title:ut.title});continue}if(ut=this.tokenizer.table(Ve)){Ve=Ve.substring(ut.raw.length),qe.push(ut);continue}if(ut=this.tokenizer.lheading(Ve)){Ve=Ve.substring(ut.raw.length),qe.push(ut);continue}if($i=Ve,this.options.extensions&&this.options.extensions.startBlock&&function(){var Gi=1/0,hn=Ve.slice(1),pn=void 0;mt.options.extensions.startBlock.forEach(function(Ai){pn=Ai.call({lexer:this},hn),typeof pn=="number"&&pn>=0&&(Gi=Math.min(Gi,pn))}),Gi<1/0&&Gi>=0&&($i=Ve.substring(0,Gi+1))}(),this.state.top&&(ut=this.tokenizer.paragraph($i))){ri=qe[qe.length-1],_i&&ri.type==="paragraph"?(ri.raw+=`
`+ut.raw,ri.text+=`
`+ut.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ri.text):qe.push(ut),_i=$i.length!==Ve.length,Ve=Ve.substring(ut.raw.length);continue}if(ut=this.tokenizer.text(Ve)){Ve=Ve.substring(ut.raw.length),ri=qe[qe.length-1],ri&&ri.type==="text"?(ri.raw+=`
`+ut.raw,ri.text+=`
`+ut.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ri.text):qe.push(ut);continue}if(Ve){var Ni="Infinite loop on byte: "+Ve.charCodeAt(0);if(this.options.silent){console.error(Ni);break}else throw new Error(Ni)}}return this.state.top=!0,qe},ft.inline=function(Ve,qe){this.inlineQueue.push({src:Ve,tokens:qe})},ft.inlineTokens=function(Ve,qe){var mt=this;qe===void 0&&(qe=[]);var ut,ri,$i,_i=Ve,Ni,Gi,hn;if(this.tokens.links){var pn=Object.keys(this.tokens.links);if(pn.length>0)for(;(Ni=this.tokenizer.rules.inline.reflinkSearch.exec(_i))!=null;)pn.includes(Ni[0].slice(Ni[0].lastIndexOf("[")+1,-1))&&(_i=_i.slice(0,Ni.index)+"["+en("a",Ni[0].length-2)+"]"+_i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Ni=this.tokenizer.rules.inline.blockSkip.exec(_i))!=null;)_i=_i.slice(0,Ni.index)+"["+en("a",Ni[0].length-2)+"]"+_i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Ni=this.tokenizer.rules.inline.escapedEmSt.exec(_i))!=null;)_i=_i.slice(0,Ni.index)+"++"+_i.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;Ve;)if(Gi||(hn=""),Gi=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(pi){return(ut=pi.call({lexer:mt},Ve,qe))?(Ve=Ve.substring(ut.raw.length),qe.push(ut),!0):!1}))){if(ut=this.tokenizer.escape(Ve)){Ve=Ve.substring(ut.raw.length),qe.push(ut);continue}if(ut=this.tokenizer.tag(Ve)){Ve=Ve.substring(ut.raw.length),ri=qe[qe.length-1],ri&&ut.type==="text"&&ri.type==="text"?(ri.raw+=ut.raw,ri.text+=ut.text):qe.push(ut);continue}if(ut=this.tokenizer.link(Ve)){Ve=Ve.substring(ut.raw.length),qe.push(ut);continue}if(ut=this.tokenizer.reflink(Ve,this.tokens.links)){Ve=Ve.substring(ut.raw.length),ri=qe[qe.length-1],ri&&ut.type==="text"&&ri.type==="text"?(ri.raw+=ut.raw,ri.text+=ut.text):qe.push(ut);continue}if(ut=this.tokenizer.emStrong(Ve,_i,hn)){Ve=Ve.substring(ut.raw.length),qe.push(ut);continue}if(ut=this.tokenizer.codespan(Ve)){Ve=Ve.substring(ut.raw.length),qe.push(ut);continue}if(ut=this.tokenizer.br(Ve)){Ve=Ve.substring(ut.raw.length),qe.push(ut);continue}if(ut=this.tokenizer.del(Ve)){Ve=Ve.substring(ut.raw.length),qe.push(ut);continue}if(ut=this.tokenizer.autolink(Ve,Ke)){Ve=Ve.substring(ut.raw.length),qe.push(ut);continue}if(!this.state.inLink&&(ut=this.tokenizer.url(Ve,Ke))){Ve=Ve.substring(ut.raw.length),qe.push(ut);continue}if($i=Ve,this.options.extensions&&this.options.extensions.startInline&&function(){var pi=1/0,_n=Ve.slice(1),En=void 0;mt.options.extensions.startInline.forEach(function(is){En=is.call({lexer:this},_n),typeof En=="number"&&En>=0&&(pi=Math.min(pi,En))}),pi<1/0&&pi>=0&&($i=Ve.substring(0,pi+1))}(),ut=this.tokenizer.inlineText($i,ui)){Ve=Ve.substring(ut.raw.length),ut.raw.slice(-1)!=="_"&&(hn=ut.raw.slice(-1)),Gi=!0,ri=qe[qe.length-1],ri&&ri.type==="text"?(ri.raw+=ut.raw,ri.text+=ut.text):qe.push(ut);continue}if(Ve){var Ai="Infinite loop on byte: "+Ve.charCodeAt(0);if(this.options.silent){console.error(Ai);break}else throw new Error(Ai)}}return qe},r(wt,null,[{key:"rules",get:function(){return{block:ii,inline:Ot}}}]),wt}(),Mi=f.exports.defaults,ci=Mt.cleanUrl,zi=Mt.escape,kn=function(){function wt(xt){this.options=xt||Mi}var ft=wt.prototype;return ft.code=function(Ve,qe,mt){var ut=(qe||"").match(/\S*/)[0];if(this.options.highlight){var ri=this.options.highlight(Ve,ut);ri!=null&&ri!==Ve&&(mt=!0,Ve=ri)}return Ve=Ve.replace(/\n$/,"")+`
`,ut?'<pre><code class="'+this.options.langPrefix+zi(ut,!0)+'">'+(mt?Ve:zi(Ve,!0))+`</code></pre>
`:"<pre><code>"+(mt?Ve:zi(Ve,!0))+`</code></pre>
`},ft.blockquote=function(Ve){return`<blockquote>
`+Ve+`</blockquote>
`},ft.html=function(Ve){return Ve},ft.heading=function(Ve,qe,mt,ut){return this.options.headerIds?"<h"+qe+' id="'+this.options.headerPrefix+ut.slug(mt)+'">'+Ve+"</h"+qe+`>
`:"<h"+qe+">"+Ve+"</h"+qe+`>
`},ft.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ft.list=function(Ve,qe,mt){var ut=qe?"ol":"ul",ri=qe&&mt!==1?' start="'+mt+'"':"";return"<"+ut+ri+`>
`+Ve+"</"+ut+`>
`},ft.listitem=function(Ve){return"<li>"+Ve+`</li>
`},ft.checkbox=function(Ve){return"<input "+(Ve?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ft.paragraph=function(Ve){return"<p>"+Ve+`</p>
`},ft.table=function(Ve,qe){return qe&&(qe="<tbody>"+qe+"</tbody>"),`<table>
<thead>
`+Ve+`</thead>
`+qe+`</table>
`},ft.tablerow=function(Ve){return`<tr>
`+Ve+`</tr>
`},ft.tablecell=function(Ve,qe){var mt=qe.header?"th":"td",ut=qe.align?"<"+mt+' align="'+qe.align+'">':"<"+mt+">";return ut+Ve+"</"+mt+`>
`},ft.strong=function(Ve){return"<strong>"+Ve+"</strong>"},ft.em=function(Ve){return"<em>"+Ve+"</em>"},ft.codespan=function(Ve){return"<code>"+Ve+"</code>"},ft.br=function(){return this.options.xhtml?"<br/>":"<br>"},ft.del=function(Ve){return"<del>"+Ve+"</del>"},ft.link=function(Ve,qe,mt){if(Ve=ci(this.options.sanitize,this.options.baseUrl,Ve),Ve===null)return mt;var ut='<a href="'+zi(Ve)+'"';return qe&&(ut+=' title="'+qe+'"'),ut+=">"+mt+"</a>",ut},ft.image=function(Ve,qe,mt){if(Ve=ci(this.options.sanitize,this.options.baseUrl,Ve),Ve===null)return mt;var ut='<img src="'+Ve+'" alt="'+mt+'"';return qe&&(ut+=' title="'+qe+'"'),ut+=this.options.xhtml?"/>":">",ut},ft.text=function(Ve){return Ve},wt}(),Ki=function(){function wt(){}var ft=wt.prototype;return ft.strong=function(Ve){return Ve},ft.em=function(Ve){return Ve},ft.codespan=function(Ve){return Ve},ft.del=function(Ve){return Ve},ft.html=function(Ve){return Ve},ft.text=function(Ve){return Ve},ft.link=function(Ve,qe,mt){return""+mt},ft.image=function(Ve,qe,mt){return""+mt},ft.br=function(){return""},wt}(),ls=function(){function wt(){this.seen={}}var ft=wt.prototype;return ft.serialize=function(Ve){return Ve.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ft.getNextSafeSlug=function(Ve,qe){var mt=Ve,ut=0;if(this.seen.hasOwnProperty(mt)){ut=this.seen[Ve];do ut++,mt=Ve+"-"+ut;while(this.seen.hasOwnProperty(mt))}return qe||(this.seen[Ve]=ut,this.seen[mt]=0),mt},ft.slug=function(Ve,qe){qe===void 0&&(qe={});var mt=this.serialize(Ve);return this.getNextSafeSlug(mt,qe.dryrun)},wt}(),Bn=kn,On=Ki,Zi=ls,Mn=f.exports.defaults,an=Mt.unescape,$e=function(){function wt(xt){this.options=xt||Mn,this.options.renderer=this.options.renderer||new Bn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new On,this.slugger=new Zi}wt.parse=function(Ve,qe){var mt=new wt(qe);return mt.parse(Ve)},wt.parseInline=function(Ve,qe){var mt=new wt(qe);return mt.parseInline(Ve)};var ft=wt.prototype;return ft.parse=function(Ve,qe){qe===void 0&&(qe=!0);var mt="",ut,ri,$i,_i,Ni,Gi,hn,pn,Ai,pi,_n,En,is,ds,Xn,Rs,Co,js,_s,ho=Ve.length;for(ut=0;ut<ho;ut++){if(pi=Ve[ut],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[pi.type]&&(_s=this.options.extensions.renderers[pi.type].call({parser:this},pi),_s!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(pi.type))){mt+=_s||"";continue}switch(pi.type){case"space":continue;case"hr":{mt+=this.renderer.hr();continue}case"heading":{mt+=this.renderer.heading(this.parseInline(pi.tokens),pi.depth,an(this.parseInline(pi.tokens,this.textRenderer)),this.slugger);continue}case"code":{mt+=this.renderer.code(pi.text,pi.lang,pi.escaped);continue}case"table":{for(pn="",hn="",_i=pi.header.length,ri=0;ri<_i;ri++)hn+=this.renderer.tablecell(this.parseInline(pi.header[ri].tokens),{header:!0,align:pi.align[ri]});for(pn+=this.renderer.tablerow(hn),Ai="",_i=pi.rows.length,ri=0;ri<_i;ri++){for(Gi=pi.rows[ri],hn="",Ni=Gi.length,$i=0;$i<Ni;$i++)hn+=this.renderer.tablecell(this.parseInline(Gi[$i].tokens),{header:!1,align:pi.align[$i]});Ai+=this.renderer.tablerow(hn)}mt+=this.renderer.table(pn,Ai);continue}case"blockquote":{Ai=this.parse(pi.tokens),mt+=this.renderer.blockquote(Ai);continue}case"list":{for(_n=pi.ordered,En=pi.start,is=pi.loose,_i=pi.items.length,Ai="",ri=0;ri<_i;ri++)Xn=pi.items[ri],Rs=Xn.checked,Co=Xn.task,ds="",Xn.task&&(js=this.renderer.checkbox(Rs),is?Xn.tokens.length>0&&Xn.tokens[0].type==="paragraph"?(Xn.tokens[0].text=js+" "+Xn.tokens[0].text,Xn.tokens[0].tokens&&Xn.tokens[0].tokens.length>0&&Xn.tokens[0].tokens[0].type==="text"&&(Xn.tokens[0].tokens[0].text=js+" "+Xn.tokens[0].tokens[0].text)):Xn.tokens.unshift({type:"text",text:js}):ds+=js),ds+=this.parse(Xn.tokens,is),Ai+=this.renderer.listitem(ds,Co,Rs);mt+=this.renderer.list(Ai,_n,En);continue}case"html":{mt+=this.renderer.html(pi.text);continue}case"paragraph":{mt+=this.renderer.paragraph(this.parseInline(pi.tokens));continue}case"text":{for(Ai=pi.tokens?this.parseInline(pi.tokens):pi.text;ut+1<ho&&Ve[ut+1].type==="text";)pi=Ve[++ut],Ai+=`
`+(pi.tokens?this.parseInline(pi.tokens):pi.text);mt+=qe?this.renderer.paragraph(Ai):Ai;continue}default:{var oo='Token with "'+pi.type+'" type was not found.';if(this.options.silent){console.error(oo);return}else throw new Error(oo)}}}return mt},ft.parseInline=function(Ve,qe){qe=qe||this.renderer;var mt="",ut,ri,$i,_i=Ve.length;for(ut=0;ut<_i;ut++){if(ri=Ve[ut],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ri.type]&&($i=this.options.extensions.renderers[ri.type].call({parser:this},ri),$i!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ri.type))){mt+=$i||"";continue}switch(ri.type){case"escape":{mt+=qe.text(ri.text);break}case"html":{mt+=qe.html(ri.text);break}case"link":{mt+=qe.link(ri.href,ri.title,this.parseInline(ri.tokens,qe));break}case"image":{mt+=qe.image(ri.href,ri.title,ri.text);break}case"strong":{mt+=qe.strong(this.parseInline(ri.tokens,qe));break}case"em":{mt+=qe.em(this.parseInline(ri.tokens,qe));break}case"codespan":{mt+=qe.codespan(ri.text);break}case"br":{mt+=qe.br();break}case"del":{mt+=qe.del(this.parseInline(ri.tokens,qe));break}case"text":{mt+=qe.text(ri.text);break}default:{var Ni='Token with "'+ri.type+'" type was not found.';if(this.options.silent){console.error(Ni);return}else throw new Error(Ni)}}}return mt},wt}(),Tt=st,It=$e,Ge=ot,Xe=kn,kt=Ki,At=ls,Jt=Mt.merge,ai=Mt.checkSanitizeDeprecation,yi=Mt.escape,sn=f.exports.getDefaults,Ji=f.exports.changeDefaults,Qn=f.exports.defaults;function Ui(wt,ft,xt){if(typeof wt=="undefined"||wt===null)throw new Error("marked(): input parameter is undefined or null");if(typeof wt!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(wt)+", string expected");if(typeof ft=="function"&&(xt=ft,ft=null),ft=Jt({},Ui.defaults,ft||{}),ai(ft),xt){var Ve=ft.highlight,qe;try{qe=Tt.lex(wt,ft)}catch($i){return xt($i)}var mt=function(_i){var Ni;if(!_i)try{ft.walkTokens&&Ui.walkTokens(qe,ft.walkTokens),Ni=It.parse(qe,ft)}catch(Gi){_i=Gi}return ft.highlight=Ve,_i?xt(_i):xt(null,Ni)};if(!Ve||Ve.length<3||(delete ft.highlight,!qe.length))return mt();var ut=0;Ui.walkTokens(qe,function($i){$i.type==="code"&&(ut++,setTimeout(function(){Ve($i.text,$i.lang,function(_i,Ni){if(_i)return mt(_i);Ni!=null&&Ni!==$i.text&&($i.text=Ni,$i.escaped=!0),ut--,ut===0&&mt()})},0))}),ut===0&&mt();return}try{var ri=Tt.lex(wt,ft);return ft.walkTokens&&Ui.walkTokens(ri,ft.walkTokens),It.parse(ri,ft)}catch($i){if($i.message+=`
Please report this to https://github.com/markedjs/marked.`,ft.silent)return"<p>An error occurred:</p><pre>"+yi($i.message+"",!0)+"</pre>";throw $i}}Ui.options=Ui.setOptions=function(wt){return Jt(Ui.defaults,wt),Ji(Ui.defaults),Ui},Ui.getDefaults=sn,Ui.defaults=Qn,Ui.use=function(){for(var wt=this,ft=arguments.length,xt=new Array(ft),Ve=0;Ve<ft;Ve++)xt[Ve]=arguments[Ve];var qe=Jt.apply(void 0,[{}].concat(xt)),mt=Ui.defaults.extensions||{renderers:{},childTokens:{}},ut;xt.forEach(function(ri){if(ri.extensions&&(ut=!0,ri.extensions.forEach(function(_i){if(!_i.name)throw new Error("extension name required");if(_i.renderer){var Ni=mt.renderers?mt.renderers[_i.name]:null;Ni?mt.renderers[_i.name]=function(){for(var Gi=arguments.length,hn=new Array(Gi),pn=0;pn<Gi;pn++)hn[pn]=arguments[pn];var Ai=_i.renderer.apply(this,hn);return Ai===!1&&(Ai=Ni.apply(this,hn)),Ai}:mt.renderers[_i.name]=_i.renderer}if(_i.tokenizer){if(!_i.level||_i.level!=="block"&&_i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");mt[_i.level]?mt[_i.level].unshift(_i.tokenizer):mt[_i.level]=[_i.tokenizer],_i.start&&(_i.level==="block"?mt.startBlock?mt.startBlock.push(_i.start):mt.startBlock=[_i.start]:_i.level==="inline"&&(mt.startInline?mt.startInline.push(_i.start):mt.startInline=[_i.start]))}_i.childTokens&&(mt.childTokens[_i.name]=_i.childTokens)})),ri.renderer&&function(){var _i=Ui.defaults.renderer||new Xe,Ni=function(pn){var Ai=_i[pn];_i[pn]=function(){for(var pi=arguments.length,_n=new Array(pi),En=0;En<pi;En++)_n[En]=arguments[En];var is=ri.renderer[pn].apply(_i,_n);return is===!1&&(is=Ai.apply(_i,_n)),is}};for(var Gi in ri.renderer)Ni(Gi);qe.renderer=_i}(),ri.tokenizer&&function(){var _i=Ui.defaults.tokenizer||new Ge,Ni=function(pn){var Ai=_i[pn];_i[pn]=function(){for(var pi=arguments.length,_n=new Array(pi),En=0;En<pi;En++)_n[En]=arguments[En];var is=ri.tokenizer[pn].apply(_i,_n);return is===!1&&(is=Ai.apply(_i,_n)),is}};for(var Gi in ri.tokenizer)Ni(Gi);qe.tokenizer=_i}(),ri.walkTokens){var $i=Ui.defaults.walkTokens;qe.walkTokens=function(_i){ri.walkTokens.call(wt,_i),$i&&$i(_i)}}ut&&(qe.extensions=mt),Ui.setOptions(qe)})},Ui.walkTokens=function(wt,ft){for(var xt=function(){var ut=qe.value;switch(ft(ut),ut.type){case"table":{for(var ri=x(ut.header),$i;!($i=ri()).done;){var _i=$i.value;Ui.walkTokens(_i.tokens,ft)}for(var Ni=x(ut.rows),Gi;!(Gi=Ni()).done;)for(var hn=Gi.value,pn=x(hn),Ai;!(Ai=pn()).done;){var pi=Ai.value;Ui.walkTokens(pi.tokens,ft)}break}case"list":{Ui.walkTokens(ut.items,ft);break}default:Ui.defaults.extensions&&Ui.defaults.extensions.childTokens&&Ui.defaults.extensions.childTokens[ut.type]?Ui.defaults.extensions.childTokens[ut.type].forEach(function(_n){Ui.walkTokens(ut[_n],ft)}):ut.tokens&&Ui.walkTokens(ut.tokens,ft)}},Ve=x(wt),qe;!(qe=Ve()).done;)xt()},Ui.parseInline=function(wt,ft){if(typeof wt=="undefined"||wt===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof wt!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(wt)+", string expected");ft=Jt({},Ui.defaults,ft||{}),ai(ft);try{var xt=Tt.lexInline(wt,ft);return ft.walkTokens&&Ui.walkTokens(xt,ft.walkTokens),It.parseInline(xt,ft)}catch(Ve){if(Ve.message+=`
Please report this to https://github.com/markedjs/marked.`,ft.silent)return"<p>An error occurred:</p><pre>"+yi(Ve.message+"",!0)+"</pre>";throw Ve}},Ui.Parser=It,Ui.parser=It.parse,Ui.Renderer=Xe,Ui.TextRenderer=kt,Ui.Lexer=Tt,Ui.lexer=Tt.lex,Ui.Tokenizer=Ge,Ui.Slugger=At,Ui.parse=Ui;var on=Ui;return on})})();var O=null,Q=E.Parser,P=E.parser,y=E.Renderer,X=E.TextRenderer,R=E.Lexer,B=E.lexer,s=E.Tokenizer,N=E.Slugger,g=E.parse},23897:function(Qt,He,c){"use strict";c.d(He,{Q:function(){return Q}});var E=c(53060),O=c(70666);function Q(y){let X=JSON.parse(y);return X=P(X),X}function P(y,X=0){if(!y||X>200)return y;if(typeof y=="object"){switch(y.$mid){case 1:return O.o.revive(y);case 2:return new RegExp(y.source,y.flags)}if(y instanceof E.KN||y instanceof Uint8Array)return y;if(Array.isArray(y))for(let R=0;R<y.length;++R)y[R]=P(y[R],X+1);else for(const R in y)Object.hasOwnProperty.call(y,R)&&(y[R]=P(y[R],X+1))}return y}},81170:function(Qt,He,c){"use strict";c.d(He,{G8:function(){return H},bS:function(){return D},sA:function(){return N},vW:function(){return X}});var E=c(14118),O=c(66663),Q=c(55336),P=c(95935),y=c(97295),X;(function(w){w.text="text/plain",w.binary="application/octet-stream",w.unknown="application/unknown",w.markdown="text/markdown",w.latex="text/latex"})(X||(X={}));let R=[],B=[],s=[];function N(w,x=!1){const f=g(w);R.push(f),f.userConfigured?s.push(f):B.push(f),x&&!f.userConfigured&&R.forEach(p=>{p.mime===f.mime||p.userConfigured||(f.extension&&p.extension===f.extension&&console.warn(`Overwriting extension <<${f.extension}>> to now point to mime <<${f.mime}>>`),f.filename&&p.filename===f.filename&&console.warn(`Overwriting filename <<${f.filename}>> to now point to mime <<${f.mime}>>`),f.filepattern&&p.filepattern===f.filepattern&&console.warn(`Overwriting filepattern <<${f.filepattern}>> to now point to mime <<${f.mime}>>`),f.firstline&&p.firstline===f.firstline&&console.warn(`Overwriting firstline <<${f.firstline}>> to now point to mime <<${f.mime}>>`))})}function g(w){return{id:w.id,mime:w.mime,filename:w.filename,extension:w.extension,filepattern:w.filepattern,firstline:w.firstline,userConfigured:w.userConfigured,filenameLowercase:w.filename?w.filename.toLowerCase():void 0,extensionLowercase:w.extension?w.extension.toLowerCase():void 0,filepatternLowercase:w.filepattern?(0,E.Qc)(w.filepattern.toLowerCase()):void 0,filepatternOnPath:w.filepattern?w.filepattern.indexOf(Q.KR.sep)>=0:!1}}function D(w){w?(R=R.filter(x=>!x.userConfigured),s=[]):(R=[],B=[],s=[])}function H(w,x){let f;if(w)switch(w.scheme){case O.lg.file:f=w.fsPath;break;case O.lg.data:f=P.Vb.parseMetaData(w).get(P.Vb.META_DATA_LABEL);break;default:f=w.path}if(!f)return[X.unknown];f=f.toLowerCase();const p=(0,Q.EZ)(f),S=r(f,p,s);if(S)return[S,X.text];const h=r(f,p,B);if(h)return[h,X.text];if(x){const L=T(x);if(L)return[L,X.text]}return[X.unknown]}function r(w,x,f){var p;let S=null,h=null,L=null;for(let v=f.length-1;v>=0;v--){const V=f[v];if(x===V.filenameLowercase){S=V;break}if(V.filepattern&&(!h||V.filepattern.length>h.filepattern.length)){const $=V.filepatternOnPath?w:x;!((p=V.filepatternLowercase)===null||p===void 0)&&p.call(V,$)&&(h=V)}V.extension&&(!L||V.extension.length>L.extension.length)&&x.endsWith(V.extensionLowercase)&&(L=V)}return S?S.mime:h?h.mime:L?L.mime:null}function T(w){if((0,y.uS)(w)&&(w=w.substr(1)),w.length>0)for(let x=R.length-1;x>=0;x--){const f=R[x];if(!f.firstline)continue;const p=w.match(f.firstline);if(p&&p.length>0)return f.mime}return null}},66663:function(Qt,He,c){"use strict";c.d(He,{Gi:function(){return R},WX:function(){return y},lg:function(){return Q}});var E=c(1432),O=c(70666),Q;(function(B){B.inMemory="inmemory",B.vscode="vscode",B.internal="private",B.walkThrough="walkThrough",B.walkThroughSnippet="walkThroughSnippet",B.http="http",B.https="https",B.file="file",B.mailto="mailto",B.untitled="untitled",B.data="data",B.command="command",B.vscodeRemote="vscode-remote",B.vscodeRemoteResource="vscode-remote-resource",B.userData="vscode-userdata",B.vscodeCustomEditor="vscode-custom-editor",B.vscodeNotebook="vscode-notebook",B.vscodeNotebookCell="vscode-notebook-cell",B.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",B.vscodeNotebookCellOutput="vscode-notebook-cell-output",B.vscodeInteractive="vscode-interactive",B.vscodeInteractiveInput="vscode-interactive-input",B.vscodeSettings="vscode-settings",B.vscodeWorkspaceTrust="vscode-workspace-trust",B.vscodeTerminal="vscode-terminal",B.webviewPanel="webview-panel",B.vscodeWebview="vscode-webview",B.extension="extension",B.vscodeFileResource="vscode-file",B.tmp="tmp"})(Q||(Q={}));class P{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(s){this._preferredWebSchema=s}rewrite(s){if(this._delegate)return this._delegate(s);const N=s.authority;let g=this._hosts[N];g&&g.indexOf(":")!==-1&&(g=`[${g}]`);const D=this._ports[N],H=this._connectionTokens[N];let r=`path=${encodeURIComponent(s.path)}`;return typeof H=="string"&&(r+=`&tkn=${encodeURIComponent(H)}`),O.o.from({scheme:E.$L?this._preferredWebSchema:Q.vscodeRemoteResource,authority:`${g}:${D}`,path:"/vscode-remote-resource",query:r})}}const y=new P;class X{asBrowserUri(s,N){const g=this.toUri(s,N);return g.scheme===Q.vscodeRemote?y.rewrite(g):g.scheme===Q.file&&(E.tY||typeof E.li.importScripts=="function"&&E.li.origin===`${Q.vscodeFileResource}://${X.FALLBACK_AUTHORITY}`)?g.with({scheme:Q.vscodeFileResource,authority:g.authority||X.FALLBACK_AUTHORITY,query:null,fragment:null}):g}toUri(s,N){return O.o.isUri(s)?s:O.o.parse(N.toUrl(s))}}X.FALLBACK_AUTHORITY="vscode-app";const R=new X},59870:function(Qt,He,c){"use strict";c.d(He,{u:function(){return E}});function E(Q,P,y){return Math.min(Math.max(Q,P),y)}class O{constructor(){this._n=1,this._val=0}update(P){return this._val=this._val+(P-this._val)/this._n,this._n+=1,this}get value(){return this._val}}},36248:function(Qt,He,c){"use strict";c.d(He,{CJ:function(){return s},I8:function(){return O},_A:function(){return Q},fS:function(){return B},jB:function(){return R},rs:function(){return y}});var E=c(98401);function O(N){if(!N||typeof N!="object"||N instanceof RegExp)return N;const g=Array.isArray(N)?[]:{};return Object.keys(N).forEach(D=>{N[D]&&typeof N[D]=="object"?g[D]=O(N[D]):g[D]=N[D]}),g}function Q(N){if(!N||typeof N!="object")return N;const g=[N];for(;g.length>0;){const D=g.shift();Object.freeze(D);for(const H in D)if(P.call(D,H)){const r=D[H];typeof r=="object"&&!Object.isFrozen(r)&&g.push(r)}}return N}const P=Object.prototype.hasOwnProperty;function y(N,g){return X(N,g,new Set)}function X(N,g,D){if((0,E.Jp)(N))return N;const H=g(N);if(typeof H!="undefined")return H;if((0,E.kJ)(N)){const r=[];for(const T of N)r.push(X(T,g,D));return r}if((0,E.Kn)(N)){if(D.has(N))throw new Error("Cannot clone recursive data-structure");D.add(N);const r={};for(let T in N)P.call(N,T)&&(r[T]=X(N[T],g,D));return D.delete(N),r}return N}function R(N,g,D=!0){return(0,E.Kn)(N)?((0,E.Kn)(g)&&Object.keys(g).forEach(H=>{H in N?D&&((0,E.Kn)(N[H])&&(0,E.Kn)(g[H])?R(N[H],g[H],D):N[H]=g[H]):N[H]=g[H]}),N):g}function B(N,g){if(N===g)return!0;if(N==null||g===null||g===void 0||typeof N!=typeof g||typeof N!="object"||Array.isArray(N)!==Array.isArray(g))return!1;let D,H;if(Array.isArray(N)){if(N.length!==g.length)return!1;for(D=0;D<N.length;D++)if(!B(N[D],g[D]))return!1}else{const r=[];for(H in N)r.push(H);r.sort();const T=[];for(H in g)T.push(H);if(T.sort(),!B(r,T))return!1;for(D=0;D<r.length;D++)if(!B(N[r[D]],g[r[D]]))return!1}return!0}function s(N,g,D){const H=g(N);return typeof H=="undefined"?D:H}},55336:function(Qt,He,c){"use strict";c.d(He,{EZ:function(){return ve},XX:function(){return pe},DZ:function(){return xe},Fv:function(){return $},KR:function(){return V},Gf:function(){return de},DB:function(){return ee},ir:function(){return le},Ku:function(){return v}});var E=c(1432),O=c(34155);let Q;if(typeof E.li.vscode!="undefined"&&typeof E.li.vscode.process!="undefined"){const Y=E.li.vscode.process;Q={get platform(){return Y.platform},get arch(){return Y.arch},get env(){return Y.env},cwd(){return Y.cwd()},nextTick(j){return(0,E.xS)(j)}}}else typeof O!="undefined"?Q={get platform(){return O.platform},get arch(){return O.arch},get env(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}},cwd(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}.VSCODE_CWD||O.cwd()},nextTick(Y){return O.nextTick(Y)}}:Q={get platform(){return E.ED?"win32":E.dz?"darwin":"linux"},get arch(){},nextTick(Y){return(0,E.xS)(Y)},get env(){return{}},cwd(){return"/"}};const P=Q.cwd,y=Q.env,X=Q.platform,R=65,B=97,s=90,N=122,g=46,D=47,H=92,r=58,T=63;class w extends Error{constructor(j,G,q){let m;typeof G=="string"&&G.indexOf("not ")===0?(m="must not be",G=G.replace(/^not /,"")):m="must be";const b=j.indexOf(".")!==-1?"property":"argument";let F=`The "${j}" ${b} ${m} of type ${G}`;F+=`. Received type ${typeof q}`,super(F),this.code="ERR_INVALID_ARG_TYPE"}}function x(Y,j){if(typeof Y!="string")throw new w(j,"string",Y)}function f(Y){return Y===D||Y===H}function p(Y){return Y===D}function S(Y){return Y>=R&&Y<=s||Y>=B&&Y<=N}function h(Y,j,G,q){let m="",b=0,F=-1,te=0,me=0;for(let ue=0;ue<=Y.length;++ue){if(ue<Y.length)me=Y.charCodeAt(ue);else{if(q(me))break;me=D}if(q(me)){if(!(F===ue-1||te===1))if(te===2){if(m.length<2||b!==2||m.charCodeAt(m.length-1)!==g||m.charCodeAt(m.length-2)!==g){if(m.length>2){const Oe=m.lastIndexOf(G);Oe===-1?(m="",b=0):(m=m.slice(0,Oe),b=m.length-1-m.lastIndexOf(G)),F=ue,te=0;continue}else if(m.length!==0){m="",b=0,F=ue,te=0;continue}}j&&(m+=m.length>0?`${G}..`:"..",b=2)}else m.length>0?m+=`${G}${Y.slice(F+1,ue)}`:m=Y.slice(F+1,ue),b=ue-F-1;F=ue,te=0}else me===g&&te!==-1?++te:te=-1}return m}function L(Y,j){if(j===null||typeof j!="object")throw new w("pathObject","Object",j);const G=j.dir||j.root,q=j.base||`${j.name||""}${j.ext||""}`;return G?G===j.root?`${G}${q}`:`${G}${Y}${q}`:q}const v={resolve(...Y){let j="",G="",q=!1;for(let m=Y.length-1;m>=-1;m--){let b;if(m>=0){if(b=Y[m],x(b,"path"),b.length===0)continue}else j.length===0?b=P():(b={NODE_ENV:"production",PUBLIC_PATH:"/"}[`=${j}`]||P(),(b===void 0||b.slice(0,2).toLowerCase()!==j.toLowerCase()&&b.charCodeAt(2)===H)&&(b=`${j}\\`));const F=b.length;let te=0,me="",ue=!1;const Oe=b.charCodeAt(0);if(F===1)f(Oe)&&(te=1,ue=!0);else if(f(Oe))if(ue=!0,f(b.charCodeAt(1))){let Re=2,et=Re;for(;Re<F&&!f(b.charCodeAt(Re));)Re++;if(Re<F&&Re!==et){const Dt=b.slice(et,Re);for(et=Re;Re<F&&f(b.charCodeAt(Re));)Re++;if(Re<F&&Re!==et){for(et=Re;Re<F&&!f(b.charCodeAt(Re));)Re++;(Re===F||Re!==et)&&(me=`\\\\${Dt}\\${b.slice(et,Re)}`,te=Re)}}}else te=1;else S(Oe)&&b.charCodeAt(1)===r&&(me=b.slice(0,2),te=2,F>2&&f(b.charCodeAt(2))&&(ue=!0,te=3));if(me.length>0)if(j.length>0){if(me.toLowerCase()!==j.toLowerCase())continue}else j=me;if(q){if(j.length>0)break}else if(G=`${b.slice(te)}\\${G}`,q=ue,ue&&j.length>0)break}return G=h(G,!q,"\\",f),q?`${j}\\${G}`:`${j}${G}`||"."},normalize(Y){x(Y,"path");const j=Y.length;if(j===0)return".";let G=0,q,m=!1;const b=Y.charCodeAt(0);if(j===1)return p(b)?"\\":Y;if(f(b))if(m=!0,f(Y.charCodeAt(1))){let te=2,me=te;for(;te<j&&!f(Y.charCodeAt(te));)te++;if(te<j&&te!==me){const ue=Y.slice(me,te);for(me=te;te<j&&f(Y.charCodeAt(te));)te++;if(te<j&&te!==me){for(me=te;te<j&&!f(Y.charCodeAt(te));)te++;if(te===j)return`\\\\${ue}\\${Y.slice(me)}\\`;te!==me&&(q=`\\\\${ue}\\${Y.slice(me,te)}`,G=te)}}}else G=1;else S(b)&&Y.charCodeAt(1)===r&&(q=Y.slice(0,2),G=2,j>2&&f(Y.charCodeAt(2))&&(m=!0,G=3));let F=G<j?h(Y.slice(G),!m,"\\",f):"";return F.length===0&&!m&&(F="."),F.length>0&&f(Y.charCodeAt(j-1))&&(F+="\\"),q===void 0?m?`\\${F}`:F:m?`${q}\\${F}`:`${q}${F}`},isAbsolute(Y){x(Y,"path");const j=Y.length;if(j===0)return!1;const G=Y.charCodeAt(0);return f(G)||j>2&&S(G)&&Y.charCodeAt(1)===r&&f(Y.charCodeAt(2))},join(...Y){if(Y.length===0)return".";let j,G;for(let b=0;b<Y.length;++b){const F=Y[b];x(F,"path"),F.length>0&&(j===void 0?j=G=F:j+=`\\${F}`)}if(j===void 0)return".";let q=!0,m=0;if(typeof G=="string"&&f(G.charCodeAt(0))){++m;const b=G.length;b>1&&f(G.charCodeAt(1))&&(++m,b>2&&(f(G.charCodeAt(2))?++m:q=!1))}if(q){for(;m<j.length&&f(j.charCodeAt(m));)m++;m>=2&&(j=`\\${j.slice(m)}`)}return v.normalize(j)},relative(Y,j){if(x(Y,"from"),x(j,"to"),Y===j)return"";const G=v.resolve(Y),q=v.resolve(j);if(G===q||(Y=G.toLowerCase(),j=q.toLowerCase(),Y===j))return"";let m=0;for(;m<Y.length&&Y.charCodeAt(m)===H;)m++;let b=Y.length;for(;b-1>m&&Y.charCodeAt(b-1)===H;)b--;const F=b-m;let te=0;for(;te<j.length&&j.charCodeAt(te)===H;)te++;let me=j.length;for(;me-1>te&&j.charCodeAt(me-1)===H;)me--;const ue=me-te,Oe=F<ue?F:ue;let Re=-1,et=0;for(;et<Oe;et++){const ht=Y.charCodeAt(m+et);if(ht!==j.charCodeAt(te+et))break;ht===H&&(Re=et)}if(et!==Oe){if(Re===-1)return q}else{if(ue>Oe){if(j.charCodeAt(te+et)===H)return q.slice(te+et+1);if(et===2)return q.slice(te+et)}F>Oe&&(Y.charCodeAt(m+et)===H?Re=et:et===2&&(Re=3)),Re===-1&&(Re=0)}let Dt="";for(et=m+Re+1;et<=b;++et)(et===b||Y.charCodeAt(et)===H)&&(Dt+=Dt.length===0?"..":"\\..");return te+=Re,Dt.length>0?`${Dt}${q.slice(te,me)}`:(q.charCodeAt(te)===H&&++te,q.slice(te,me))},toNamespacedPath(Y){if(typeof Y!="string")return Y;if(Y.length===0)return"";const j=v.resolve(Y);if(j.length<=2)return Y;if(j.charCodeAt(0)===H){if(j.charCodeAt(1)===H){const G=j.charCodeAt(2);if(G!==T&&G!==g)return`\\\\?\\UNC\\${j.slice(2)}`}}else if(S(j.charCodeAt(0))&&j.charCodeAt(1)===r&&j.charCodeAt(2)===H)return`\\\\?\\${j}`;return Y},dirname(Y){x(Y,"path");const j=Y.length;if(j===0)return".";let G=-1,q=0;const m=Y.charCodeAt(0);if(j===1)return f(m)?Y:".";if(f(m)){if(G=q=1,f(Y.charCodeAt(1))){let te=2,me=te;for(;te<j&&!f(Y.charCodeAt(te));)te++;if(te<j&&te!==me){for(me=te;te<j&&f(Y.charCodeAt(te));)te++;if(te<j&&te!==me){for(me=te;te<j&&!f(Y.charCodeAt(te));)te++;if(te===j)return Y;te!==me&&(G=q=te+1)}}}}else S(m)&&Y.charCodeAt(1)===r&&(G=j>2&&f(Y.charCodeAt(2))?3:2,q=G);let b=-1,F=!0;for(let te=j-1;te>=q;--te)if(f(Y.charCodeAt(te))){if(!F){b=te;break}}else F=!1;if(b===-1){if(G===-1)return".";b=G}return Y.slice(0,b)},basename(Y,j){j!==void 0&&x(j,"ext"),x(Y,"path");let G=0,q=-1,m=!0,b;if(Y.length>=2&&S(Y.charCodeAt(0))&&Y.charCodeAt(1)===r&&(G=2),j!==void 0&&j.length>0&&j.length<=Y.length){if(j===Y)return"";let F=j.length-1,te=-1;for(b=Y.length-1;b>=G;--b){const me=Y.charCodeAt(b);if(f(me)){if(!m){G=b+1;break}}else te===-1&&(m=!1,te=b+1),F>=0&&(me===j.charCodeAt(F)?--F===-1&&(q=b):(F=-1,q=te))}return G===q?q=te:q===-1&&(q=Y.length),Y.slice(G,q)}for(b=Y.length-1;b>=G;--b)if(f(Y.charCodeAt(b))){if(!m){G=b+1;break}}else q===-1&&(m=!1,q=b+1);return q===-1?"":Y.slice(G,q)},extname(Y){x(Y,"path");let j=0,G=-1,q=0,m=-1,b=!0,F=0;Y.length>=2&&Y.charCodeAt(1)===r&&S(Y.charCodeAt(0))&&(j=q=2);for(let te=Y.length-1;te>=j;--te){const me=Y.charCodeAt(te);if(f(me)){if(!b){q=te+1;break}continue}m===-1&&(b=!1,m=te+1),me===g?G===-1?G=te:F!==1&&(F=1):G!==-1&&(F=-1)}return G===-1||m===-1||F===0||F===1&&G===m-1&&G===q+1?"":Y.slice(G,m)},format:L.bind(null,"\\"),parse(Y){x(Y,"path");const j={root:"",dir:"",base:"",ext:"",name:""};if(Y.length===0)return j;const G=Y.length;let q=0,m=Y.charCodeAt(0);if(G===1)return f(m)?(j.root=j.dir=Y,j):(j.base=j.name=Y,j);if(f(m)){if(q=1,f(Y.charCodeAt(1))){let Re=2,et=Re;for(;Re<G&&!f(Y.charCodeAt(Re));)Re++;if(Re<G&&Re!==et){for(et=Re;Re<G&&f(Y.charCodeAt(Re));)Re++;if(Re<G&&Re!==et){for(et=Re;Re<G&&!f(Y.charCodeAt(Re));)Re++;Re===G?q=Re:Re!==et&&(q=Re+1)}}}}else if(S(m)&&Y.charCodeAt(1)===r){if(G<=2)return j.root=j.dir=Y,j;if(q=2,f(Y.charCodeAt(2))){if(G===3)return j.root=j.dir=Y,j;q=3}}q>0&&(j.root=Y.slice(0,q));let b=-1,F=q,te=-1,me=!0,ue=Y.length-1,Oe=0;for(;ue>=q;--ue){if(m=Y.charCodeAt(ue),f(m)){if(!me){F=ue+1;break}continue}te===-1&&(me=!1,te=ue+1),m===g?b===-1?b=ue:Oe!==1&&(Oe=1):b!==-1&&(Oe=-1)}return te!==-1&&(b===-1||Oe===0||Oe===1&&b===te-1&&b===F+1?j.base=j.name=Y.slice(F,te):(j.name=Y.slice(F,b),j.base=Y.slice(F,te),j.ext=Y.slice(b,te))),F>0&&F!==q?j.dir=Y.slice(0,F-1):j.dir=j.root,j},sep:"\\",delimiter:";",win32:null,posix:null},V={resolve(...Y){let j="",G=!1;for(let q=Y.length-1;q>=-1&&!G;q--){const m=q>=0?Y[q]:P();x(m,"path"),m.length!==0&&(j=`${m}/${j}`,G=m.charCodeAt(0)===D)}return j=h(j,!G,"/",p),G?`/${j}`:j.length>0?j:"."},normalize(Y){if(x(Y,"path"),Y.length===0)return".";const j=Y.charCodeAt(0)===D,G=Y.charCodeAt(Y.length-1)===D;return Y=h(Y,!j,"/",p),Y.length===0?j?"/":G?"./":".":(G&&(Y+="/"),j?`/${Y}`:Y)},isAbsolute(Y){return x(Y,"path"),Y.length>0&&Y.charCodeAt(0)===D},join(...Y){if(Y.length===0)return".";let j;for(let G=0;G<Y.length;++G){const q=Y[G];x(q,"path"),q.length>0&&(j===void 0?j=q:j+=`/${q}`)}return j===void 0?".":V.normalize(j)},relative(Y,j){if(x(Y,"from"),x(j,"to"),Y===j||(Y=V.resolve(Y),j=V.resolve(j),Y===j))return"";const G=1,q=Y.length,m=q-G,b=1,F=j.length-b,te=m<F?m:F;let me=-1,ue=0;for(;ue<te;ue++){const Re=Y.charCodeAt(G+ue);if(Re!==j.charCodeAt(b+ue))break;Re===D&&(me=ue)}if(ue===te)if(F>te){if(j.charCodeAt(b+ue)===D)return j.slice(b+ue+1);if(ue===0)return j.slice(b+ue)}else m>te&&(Y.charCodeAt(G+ue)===D?me=ue:ue===0&&(me=0));let Oe="";for(ue=G+me+1;ue<=q;++ue)(ue===q||Y.charCodeAt(ue)===D)&&(Oe+=Oe.length===0?"..":"/..");return`${Oe}${j.slice(b+me)}`},toNamespacedPath(Y){return Y},dirname(Y){if(x(Y,"path"),Y.length===0)return".";const j=Y.charCodeAt(0)===D;let G=-1,q=!0;for(let m=Y.length-1;m>=1;--m)if(Y.charCodeAt(m)===D){if(!q){G=m;break}}else q=!1;return G===-1?j?"/":".":j&&G===1?"//":Y.slice(0,G)},basename(Y,j){j!==void 0&&x(j,"ext"),x(Y,"path");let G=0,q=-1,m=!0,b;if(j!==void 0&&j.length>0&&j.length<=Y.length){if(j===Y)return"";let F=j.length-1,te=-1;for(b=Y.length-1;b>=0;--b){const me=Y.charCodeAt(b);if(me===D){if(!m){G=b+1;break}}else te===-1&&(m=!1,te=b+1),F>=0&&(me===j.charCodeAt(F)?--F===-1&&(q=b):(F=-1,q=te))}return G===q?q=te:q===-1&&(q=Y.length),Y.slice(G,q)}for(b=Y.length-1;b>=0;--b)if(Y.charCodeAt(b)===D){if(!m){G=b+1;break}}else q===-1&&(m=!1,q=b+1);return q===-1?"":Y.slice(G,q)},extname(Y){x(Y,"path");let j=-1,G=0,q=-1,m=!0,b=0;for(let F=Y.length-1;F>=0;--F){const te=Y.charCodeAt(F);if(te===D){if(!m){G=F+1;break}continue}q===-1&&(m=!1,q=F+1),te===g?j===-1?j=F:b!==1&&(b=1):j!==-1&&(b=-1)}return j===-1||q===-1||b===0||b===1&&j===q-1&&j===G+1?"":Y.slice(j,q)},format:L.bind(null,"/"),parse(Y){x(Y,"path");const j={root:"",dir:"",base:"",ext:"",name:""};if(Y.length===0)return j;const G=Y.charCodeAt(0)===D;let q;G?(j.root="/",q=1):q=0;let m=-1,b=0,F=-1,te=!0,me=Y.length-1,ue=0;for(;me>=q;--me){const Oe=Y.charCodeAt(me);if(Oe===D){if(!te){b=me+1;break}continue}F===-1&&(te=!1,F=me+1),Oe===g?m===-1?m=me:ue!==1&&(ue=1):m!==-1&&(ue=-1)}if(F!==-1){const Oe=b===0&&G?1:b;m===-1||ue===0||ue===1&&m===F-1&&m===b+1?j.base=j.name=Y.slice(Oe,F):(j.name=Y.slice(Oe,m),j.base=Y.slice(Oe,F),j.ext=Y.slice(m,F))}return b>0?j.dir=Y.slice(0,b-1):G&&(j.dir="/"),j},sep:"/",delimiter:":",win32:null,posix:null};V.win32=v.win32=v,V.posix=v.posix=V;const $=X==="win32"?v.normalize:V.normalize,ee=X==="win32"?v.resolve:V.resolve,de=X==="win32"?v.relative:V.relative,pe=X==="win32"?v.dirname:V.dirname,ve=X==="win32"?v.basename:V.basename,xe=X==="win32"?v.extname:V.extname,le=X==="win32"?v.sep:V.sep},1432:function(Qt,He,c){"use strict";c.d(He,{$L:function(){return v},ED:function(){return p},IJ:function(){return h},OS:function(){return de},WE:function(){return $},dz:function(){return S},gn:function(){return V},li:function(){return T},r:function(){return xe},tY:function(){return L},xS:function(){return ee}});var E=c(34155),O;const Q="en";let P=!1,y=!1,X=!1,R=!1,B=!1,s=!1,N=!1,g,D=null,H=null,r;const T=typeof self=="object"?self:typeof c.g=="object"?c.g:{};let w;typeof T.vscode!="undefined"&&typeof T.vscode.process!="undefined"?w=T.vscode.process:typeof E!="undefined"&&(w=E);const x=typeof((O=w==null?void 0:w.versions)===null||O===void 0?void 0:O.electron)=="string"&&w.type==="renderer";if(typeof navigator=="object"&&!x)r=navigator.userAgent,P=r.indexOf("Windows")>=0,y=r.indexOf("Macintosh")>=0,N=(r.indexOf("Macintosh")>=0||r.indexOf("iPad")>=0||r.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,X=r.indexOf("Linux")>=0,s=!0,g=navigator.language,D=g;else if(typeof w=="object"){P=w.platform==="win32",y=w.platform==="darwin",X=w.platform==="linux",R=X&&!!w.env.SNAP&&!!w.env.SNAP_REVISION,g=Q,D=Q;const le=w.env.VSCODE_NLS_CONFIG;if(le)try{const Y=JSON.parse(le),j=Y.availableLanguages["*"];g=Y.locale,D=j||Q,H=Y._translationsConfigFile}catch(Y){}B=!0}else console.error("Unable to resolve platform.");let f=0;y?f=1:P?f=3:X&&(f=2);const p=P,S=y,h=X,L=B,v=s,V=N,$=r,ee=function(){if(T.setImmediate)return T.setImmediate.bind(T);if(typeof T.postMessage=="function"&&!T.importScripts){let j=[];T.addEventListener("message",q=>{if(q.data&&q.data.vscodeSetImmediateId)for(let m=0,b=j.length;m<b;m++){const F=j[m];if(F.id===q.data.vscodeSetImmediateId){j.splice(m,1),F.callback();return}}});let G=0;return q=>{const m=++G;j.push({id:m,callback:q}),T.postMessage({vscodeSetImmediateId:m},"*")}}if(typeof(w==null?void 0:w.nextTick)=="function")return w.nextTick.bind(w);const Y=Promise.resolve();return j=>Y.then(j)}(),de=y||N?2:P?1:3;let pe=!0,ve=!1;function xe(){if(!ve){ve=!0;const le=new Uint8Array(2);le[0]=1,le[1]=2,pe=new Uint16Array(le.buffer)[0]===513}return pe}},61134:function(Qt,He,c){"use strict";c.d(He,{e:function(){return E}});var E;(function(O){function Q(R,B){if(R.start>=B.end||B.start>=R.end)return{start:0,end:0};const s=Math.max(R.start,B.start),N=Math.min(R.end,B.end);return N-s<=0?{start:0,end:0}:{start:s,end:N}}O.intersect=Q;function P(R){return R.end-R.start<=0}O.isEmpty=P;function y(R,B){return!P(Q(R,B))}O.intersects=y;function X(R,B){const s=[],N={start:R.start,end:Math.min(B.start,R.end)},g={start:Math.max(B.end,R.start),end:R.end};return P(N)||s.push(N),P(g)||s.push(g),s}O.relativeComplement=X})(E||(E={}))},95935:function(Qt,He,c){"use strict";c.d(He,{AH:function(){return r},EZ:function(){return g},Hx:function(){return N},SF:function(){return B},Vb:function(){return w},XX:function(){return D},Xy:function(){return s},i3:function(){return T}});var E=c(15527),O=c(66663),Q=c(55336),P=c(97295),y=c(70666);function X(x){return(0,y.q)(x,!0)}class R{constructor(f){this._ignorePathCasing=f}compare(f,p,S=!1){return f===p?0:(0,P.qu)(this.getComparisonKey(f,S),this.getComparisonKey(p,S))}isEqual(f,p,S=!1){return f===p?!0:!f||!p?!1:this.getComparisonKey(f,S)===this.getComparisonKey(p,S)}getComparisonKey(f,p=!1){return f.with({path:this._ignorePathCasing(f)?f.path.toLowerCase():void 0,fragment:p?null:void 0}).toString()}joinPath(f,...p){return y.o.joinPath(f,...p)}basenameOrAuthority(f){return g(f)||f.authority}basename(f){return Q.KR.basename(f.path)}dirname(f){if(f.path.length===0)return f;let p;return f.scheme===O.lg.file?p=y.o.file(Q.XX(X(f))).path:(p=Q.KR.dirname(f.path),f.authority&&p.length&&p.charCodeAt(0)!==47&&(console.error(`dirname("${f.toString})) resulted in a relative path`),p="/")),f.with({path:p})}normalizePath(f){if(!f.path.length)return f;let p;return f.scheme===O.lg.file?p=y.o.file(Q.Fv(X(f))).path:p=Q.KR.normalize(f.path),f.with({path:p})}resolvePath(f,p){if(f.scheme===O.lg.file){const S=y.o.file(Q.DB(X(f),p));return f.with({authority:S.authority,path:S.path})}return p=E.fn(p),f.with({path:Q.KR.resolve(f.path,p)})}}const B=new R(()=>!1),s=B.isEqual.bind(B),N=B.basenameOrAuthority.bind(B),g=B.basename.bind(B),D=B.dirname.bind(B),H=B.joinPath.bind(B),r=B.normalizePath.bind(B),T=B.resolvePath.bind(B);var w;(function(x){x.META_DATA_LABEL="label",x.META_DATA_DESCRIPTION="description",x.META_DATA_SIZE="size",x.META_DATA_MIME="mime";function f(p){const S=new Map;p.path.substring(p.path.indexOf(";")+1,p.path.lastIndexOf(";")).split(";").forEach(v=>{const[V,$]=v.split(":");V&&$&&S.set(V,$)});const L=p.path.substring(0,p.path.indexOf(";"));return L&&S.set(x.META_DATA_MIME,L),S}x.parseMetaData=f})(w||(w={}))},76633:function(Qt,He,c){"use strict";c.d(He,{Rm:function(){return P}});var E=c(4669),O=c(5976);class Q{constructor(D,H,r,T,w,x){this._scrollStateBrand=void 0,D=D|0,H=H|0,r=r|0,T=T|0,w=w|0,x=x|0,this.rawScrollLeft=r,this.rawScrollTop=x,D<0&&(D=0),r+D>H&&(r=H-D),r<0&&(r=0),T<0&&(T=0),x+T>w&&(x=w-T),x<0&&(x=0),this.width=D,this.scrollWidth=H,this.scrollLeft=r,this.height=T,this.scrollHeight=w,this.scrollTop=x}equals(D){return this.rawScrollLeft===D.rawScrollLeft&&this.rawScrollTop===D.rawScrollTop&&this.width===D.width&&this.scrollWidth===D.scrollWidth&&this.scrollLeft===D.scrollLeft&&this.height===D.height&&this.scrollHeight===D.scrollHeight&&this.scrollTop===D.scrollTop}withScrollDimensions(D,H){return new Q(typeof D.width!="undefined"?D.width:this.width,typeof D.scrollWidth!="undefined"?D.scrollWidth:this.scrollWidth,H?this.rawScrollLeft:this.scrollLeft,typeof D.height!="undefined"?D.height:this.height,typeof D.scrollHeight!="undefined"?D.scrollHeight:this.scrollHeight,H?this.rawScrollTop:this.scrollTop)}withScrollPosition(D){return new Q(this.width,this.scrollWidth,typeof D.scrollLeft!="undefined"?D.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof D.scrollTop!="undefined"?D.scrollTop:this.rawScrollTop)}createScrollEvent(D,H){const r=this.width!==D.width,T=this.scrollWidth!==D.scrollWidth,w=this.scrollLeft!==D.scrollLeft,x=this.height!==D.height,f=this.scrollHeight!==D.scrollHeight,p=this.scrollTop!==D.scrollTop;return{inSmoothScrolling:H,oldWidth:D.width,oldScrollWidth:D.scrollWidth,oldScrollLeft:D.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:D.height,oldScrollHeight:D.scrollHeight,oldScrollTop:D.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:r,scrollWidthChanged:T,scrollLeftChanged:w,heightChanged:x,scrollHeightChanged:f,scrollTopChanged:p}}}class P extends O.JT{constructor(D,H){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new E.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=D,this._scheduleAtNextAnimationFrame=H,this._state=new Q(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(D){this._smoothScrollDuration=D}validateScrollPosition(D){return this._state.withScrollPosition(D)}getScrollDimensions(){return this._state}setScrollDimensions(D,H){const r=this._state.withScrollDimensions(D,H);this._setState(r,!!this._smoothScrolling),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(D){const H=this._state.withScrollPosition(D);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(H,!1)}setScrollPositionSmooth(D,H){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(D);if(this._smoothScrolling){D={scrollLeft:typeof D.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:D.scrollLeft,scrollTop:typeof D.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:D.scrollTop};const r=this._state.withScrollPosition(D);if(this._smoothScrolling.to.scrollLeft===r.scrollLeft&&this._smoothScrolling.to.scrollTop===r.scrollTop)return;let T;H?T=new B(this._smoothScrolling.from,r,this._smoothScrolling.startTime,this._smoothScrolling.duration):T=this._smoothScrolling.combine(this._state,r,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=T}else{const r=this._state.withScrollPosition(D);this._smoothScrolling=B.start(this._state,r,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const D=this._smoothScrolling.tick(),H=this._state.withScrollPosition(D);if(this._setState(H,!0),!!this._smoothScrolling){if(D.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(D,H){const r=this._state;r.equals(D)||(this._state=D,this._onScroll.fire(this._state.createScrollEvent(r,H)))}}class y{constructor(D,H,r){this.scrollLeft=D,this.scrollTop=H,this.isDone=r}}function X(g,D){const H=D-g;return function(r){return g+H*N(r)}}function R(g,D,H){return function(r){return r<H?g(r/H):D((r-H)/(1-H))}}class B{constructor(D,H,r,T){this.from=D,this.to=H,this.duration=T,this.startTime=r,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(D,H,r){if(Math.abs(D-H)>2.5*r){let w,x;return D<H?(w=D+.75*r,x=H-.75*r):(w=D-.75*r,x=H+.75*r),R(X(D,w),X(x,H),.33)}return X(D,H)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(D){this.to=D.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(D){const H=(D-this.startTime)/this.duration;if(H<1){const r=this.scrollLeft(H),T=this.scrollTop(H);return new y(r,T,!1)}return new y(this.to.scrollLeft,this.to.scrollTop,!0)}combine(D,H,r){return B.start(D,H,r)}static start(D,H,r){r=r+10;const T=Date.now()-10;return new B(D,H,T,r)}}function s(g){return Math.pow(g,3)}function N(g){return 1-s(1-g)}},14603:function(Qt,He,c){"use strict";var E=c(97295),O;(function(Q){Q[Q.Ignore=0]="Ignore",Q[Q.Info=1]="Info",Q[Q.Warning=2]="Warning",Q[Q.Error=3]="Error"})(O||(O={})),function(Q){const P="error",y="warning",X="warn",R="info",B="ignore";function s(g){return g?E.qq(P,g)?Q.Error:E.qq(y,g)||E.qq(X,g)?Q.Warning:E.qq(R,g)?Q.Info:Q.Ignore:Q.Ignore}Q.fromValue=s;function N(g){switch(g){case Q.Error:return P;case Q.Warning:return y;case Q.Info:return R;default:return B}}Q.toString=N}(O||(O={})),He.Z=O},84013:function(Qt,He,c){"use strict";c.d(He,{G:function(){return Q}});var E=c(1432);const O=E.li.performance&&typeof E.li.performance.now=="function";class Q{constructor(y){this._highResolution=O&&y,this._startTime=this._now(),this._stopTime=-1}static create(y=!0){return new Q(y)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?E.li.performance.now():Date.now()}}},97295:function(Qt,He,c){"use strict";c.d(He,{$i:function(){return me},C8:function(){return Dt},GF:function(){return g},HO:function(){return G},IO:function(){return D},K7:function(){return et},Kw:function(){return Je},LC:function(){return T},Mh:function(){return ee},P1:function(){return de},PJ:function(){return tt},Qe:function(){return ue},RP:function(){return F},S6:function(){return ke},TT:function(){return p},Ut:function(){return m},V8:function(){return w},WU:function(){return Q},YK:function(){return ve},YU:function(){return P},ZG:function(){return pe},ZH:function(){return le},ab:function(){return Oe},c1:function(){return ht},df:function(){return v},ec:function(){return y},fi:function(){return fe},j3:function(){return R},j_:function(){return h},m5:function(){return E},mK:function(){return L},mr:function(){return H},oH:function(){return at},oL:function(){return B},ok:function(){return $},ow:function(){return x},qq:function(){return V},qu:function(){return f},rL:function(){return xe},uS:function(){return Mt},un:function(){return s},uq:function(){return r},vH:function(){return j},xe:function(){return Re},zY:function(){return S}});function E(ye){return!ye||typeof ye!="string"?!0:ye.trim().length===0}const O=/{(\d+)}/g;function Q(ye,...Ze){return Ze.length===0?ye:ye.replace(O,function(it,Ft){const ei=parseInt(Ft,10);return isNaN(ei)||ei<0||ei>=Ze.length?it:Ze[ei]})}function P(ye){return ye.replace(/[<>&]/g,function(Ze){switch(Ze){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return Ze}})}function y(ye){return ye.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function X(ye,Ze=" "){const it=R(ye,Ze);return B(it,Ze)}function R(ye,Ze){if(!ye||!Ze)return ye;const it=Ze.length;if(it===0||ye.length===0)return ye;let Ft=0;for(;ye.indexOf(Ze,Ft)===Ft;)Ft=Ft+it;return ye.substring(Ft)}function B(ye,Ze){if(!ye||!Ze)return ye;const it=Ze.length,Ft=ye.length;if(it===0||Ft===0)return ye;let ei=Ft,bi=-1;for(;bi=ye.lastIndexOf(Ze,ei-1),!(bi===-1||bi+it!==ei);){if(bi===0)return"";ei=bi}return ye.substring(0,ei)}function s(ye){return ye.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function N(ye){return ye.replace(/\*/g,"")}function g(ye,Ze,it={}){if(!ye)throw new Error("Cannot create regex from empty string");Ze||(ye=y(ye)),it.wholeWord&&(/\B/.test(ye.charAt(0))||(ye="\\b"+ye),/\B/.test(ye.charAt(ye.length-1))||(ye=ye+"\\b"));let Ft="";return it.global&&(Ft+="g"),it.matchCase||(Ft+="i"),it.multiline&&(Ft+="m"),it.unicode&&(Ft+="u"),new RegExp(ye,Ft)}function D(ye){return ye.source==="^"||ye.source==="^$"||ye.source==="$"||ye.source==="^\\s*$"?!1:!!(ye.exec("")&&ye.lastIndex===0)}function H(ye){return(ye.global?"g":"")+(ye.ignoreCase?"i":"")+(ye.multiline?"m":"")+(ye.unicode?"u":"")}function r(ye){return ye.split(/\r\n|\r|\n/)}function T(ye){for(let Ze=0,it=ye.length;Ze<it;Ze++){const Ft=ye.charCodeAt(Ze);if(Ft!==32&&Ft!==9)return Ze}return-1}function w(ye,Ze=0,it=ye.length){for(let Ft=Ze;Ft<it;Ft++){const ei=ye.charCodeAt(Ft);if(ei!==32&&ei!==9)return ye.substring(Ze,Ft)}return ye.substring(Ze,it)}function x(ye,Ze=ye.length-1){for(let it=Ze;it>=0;it--){const Ft=ye.charCodeAt(it);if(Ft!==32&&Ft!==9)return it}return-1}function f(ye,Ze){return ye<Ze?-1:ye>Ze?1:0}function p(ye,Ze,it=0,Ft=ye.length,ei=0,bi=Ze.length){for(;it<Ft&&ei<bi;it++,ei++){let en=ye.charCodeAt(it),ui=Ze.charCodeAt(ei);if(en<ui)return-1;if(en>ui)return 1}const ii=Ft-it,Ot=bi-ei;return ii<Ot?-1:ii>Ot?1:0}function S(ye,Ze){return h(ye,Ze,0,ye.length,0,Ze.length)}function h(ye,Ze,it=0,Ft=ye.length,ei=0,bi=Ze.length){for(;it<Ft&&ei<bi;it++,ei++){let en=ye.charCodeAt(it),ui=Ze.charCodeAt(ei);if(en===ui)continue;if(en>=128||ui>=128)return p(ye.toLowerCase(),Ze.toLowerCase(),it,Ft,ei,bi);L(en)&&(en-=32),L(ui)&&(ui-=32);const Ke=en-ui;if(Ke!==0)return Ke}const ii=Ft-it,Ot=bi-ei;return ii<Ot?-1:ii>Ot?1:0}function L(ye){return ye>=97&&ye<=122}function v(ye){return ye>=65&&ye<=90}function V(ye,Ze){return ye.length===Ze.length&&h(ye,Ze)===0}function $(ye,Ze){const it=Ze.length;return Ze.length>ye.length?!1:h(ye,Ze,0,it)===0}function ee(ye,Ze){let it,Ft=Math.min(ye.length,Ze.length);for(it=0;it<Ft;it++)if(ye.charCodeAt(it)!==Ze.charCodeAt(it))return it;return Ft}function de(ye,Ze){let it,Ft=Math.min(ye.length,Ze.length);const ei=ye.length-1,bi=Ze.length-1;for(it=0;it<Ft;it++)if(ye.charCodeAt(ei-it)!==Ze.charCodeAt(bi-it))return it;return Ft}function pe(ye){return 55296<=ye&&ye<=56319}function ve(ye){return 56320<=ye&&ye<=57343}function xe(ye,Ze){return(ye-55296<<10)+(Ze-56320)+65536}function le(ye,Ze,it){const Ft=ye.charCodeAt(it);if(pe(Ft)&&it+1<Ze){const ei=ye.charCodeAt(it+1);if(ve(ei))return xe(Ft,ei)}return Ft}function Y(ye,Ze){const it=ye.charCodeAt(Ze-1);if(ve(it)&&Ze>1){const Ft=ye.charCodeAt(Ze-2);if(pe(Ft))return xe(Ft,it)}return it}function j(ye,Ze){const it=Ie.getInstance(),Ft=Ze,ei=ye.length,bi=le(ye,ei,Ze);Ze+=bi>=65536?2:1;let ii=it.getGraphemeBreakType(bi);for(;Ze<ei;){const Ot=le(ye,ei,Ze),en=it.getGraphemeBreakType(Ot);if(fe(ii,en))break;Ze+=Ot>=65536?2:1,ii=en}return Ze-Ft}function G(ye,Ze){const it=Ie.getInstance(),Ft=Ze,ei=Y(ye,Ze);Ze-=ei>=65536?2:1;let bi=it.getGraphemeBreakType(ei);for(;Ze>0;){const ii=Y(ye,Ze),Ot=it.getGraphemeBreakType(ii);if(fe(Ot,bi))break;Ze-=ii>=65536?2:1,bi=Ot}return Ft-Ze}const q=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function m(ye){return q.test(ye)}const b=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function F(ye){return b.test(ye)}const te=/^[\t\n\r\x20-\x7E]*$/;function me(ye){return te.test(ye)}const ue=/[\u2028\u2029]/;function Oe(ye){return ue.test(ye)}function Re(ye){for(let Ze=0,it=ye.length;Ze<it;Ze++)if(et(ye.charCodeAt(Ze)))return!0;return!1}function et(ye){return ye=+ye,ye>=11904&&ye<=55215||ye>=63744&&ye<=64255||ye>=65281&&ye<=65374}function Dt(ye){return ye>=127462&&ye<=127487||ye===8986||ye===8987||ye===9200||ye===9203||ye>=9728&&ye<=10175||ye===11088||ye===11093||ye>=127744&&ye<=128591||ye>=128640&&ye<=128764||ye>=128992&&ye<=129003||ye>=129280&&ye<=129535||ye>=129648&&ye<=129750}const ht="\uFEFF";function Mt(ye){return!!(ye&&ye.length>0&&ye.charCodeAt(0)===65279)}function Je(ye,Ze=!1){return ye?(Ze&&(ye=ye.replace(/\\./g,"")),ye.toLowerCase()!==ye):!1}function tt(ye){return ye=ye%(2*26),ye<26?String.fromCharCode(97+ye):String.fromCharCode(65+ye-26)}function ke(ye){return Ie.getInstance().getGraphemeBreakType(ye)}function fe(ye,Ze){return ye===0?Ze!==5&&Ze!==7:ye===2&&Ze===3?!1:ye===4||ye===2||ye===3||Ze===4||Ze===2||Ze===3?!0:!(ye===8&&(Ze===8||Ze===9||Ze===11||Ze===12)||(ye===11||ye===9)&&(Ze===9||Ze===10)||(ye===12||ye===10)&&Ze===10||Ze===5||Ze===13||Ze===7||ye===1||ye===13&&Ze===14||ye===6&&Ze===6)}class Ie{constructor(){this._data=nt()}static getInstance(){return Ie._INSTANCE||(Ie._INSTANCE=new Ie),Ie._INSTANCE}getGraphemeBreakType(Ze){if(Ze<32)return Ze===10?3:Ze===13?2:4;if(Ze<127)return 0;const it=this._data,Ft=it.length/3;let ei=1;for(;ei<=Ft;)if(Ze<it[3*ei])ei=2*ei;else if(Ze>it[3*ei+1])ei=2*ei+1;else return it[3*ei+2];return 0}}Ie._INSTANCE=null;function nt(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}function at(ye,Ze){if(ye===0)return 0;const it=ot(ye,Ze);if(it!==void 0)return it;const Ft=Y(Ze,ye);return ye-=Ne(Ft),ye}function ot(ye,Ze){let it=Y(Ze,ye);for(ye-=Ne(it);Pe(it)||it===65039||it===8419;){if(ye===0)return;it=Y(Ze,ye),ye-=Ne(it)}if(Dt(it)){if(ye>=0){const Ft=Y(Ze,ye);Ft===8205&&(ye-=Ne(Ft))}return ye}}function Ne(ye){return ye>=65536?2:1}function Pe(ye){return 127995<=ye&&ye<=127999}},98401:function(Qt,He,c){"use strict";c.d(He,{$E:function(){return T},$K:function(){return R},D8:function(){return D},HD:function(){return O},IU:function(){return w},Jp:function(){return B},Kn:function(){return Q},f6:function(){return x},hj:function(){return P},jn:function(){return y},kJ:function(){return E},mf:function(){return g},o8:function(){return X},p_:function(){return s},vE:function(){return f}});function E(p){return Array.isArray(p)}function O(p){return typeof p=="string"}function Q(p){return typeof p=="object"&&p!==null&&!Array.isArray(p)&&!(p instanceof RegExp)&&!(p instanceof Date)}function P(p){return typeof p=="number"&&!isNaN(p)}function y(p){return p===!0||p===!1}function X(p){return typeof p=="undefined"}function R(p){return!B(p)}function B(p){return X(p)||p===null}function s(p,S){if(!p)throw new Error(S?`Unexpected type, expected '${S}'`:"Unexpected type")}function N(p){if(B(p))throw new Error("Assertion Failed: argument is undefined or null");return p}function g(p){return typeof p=="function"}function D(p,S){const h=Math.min(p.length,S.length);for(let L=0;L<h;L++)H(p[L],S[L])}function H(p,S){if(O(S)){if(typeof p!==S)throw new Error(`argument does not match constraint: typeof ${S}`)}else if(g(S)){try{if(p instanceof S)return}catch(h){}if(!B(p)&&p.constructor===S||S.length===1&&S.call(void 0,p)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function r(p){let S=[],h=Object.getPrototypeOf(p);for(;Object.prototype!==h;)S=S.concat(Object.getOwnPropertyNames(h)),h=Object.getPrototypeOf(h);return S}function T(p){const S=[];for(const h of r(p))typeof p[h]=="function"&&S.push(h);return S}function w(p,S){const h=v=>function(){const V=Array.prototype.slice.call(arguments,0);return S(v,V)};let L={};for(const v of p)L[v]=h(v);return L}function x(p){return p===null?void 0:p}function f(p,S="Unreachable"){throw new Error(S)}},85427:function(Qt,He,c){"use strict";c.d(He,{A:function(){return O},K:function(){return E}});function E(Q){return Q<0?0:Q>255?255:Q|0}function O(Q){return Q<0?0:Q>4294967295?4294967295:Q|0}},70666:function(Qt,He,c){"use strict";c.d(He,{o:function(){return D},q:function(){return f}});var E=c(55336),O=c(1432);const Q=/^\w[\w\d+.-]*$/,P=/^\//,y=/^\/\//;function X(v,V){if(!v.scheme&&V)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${v.authority}", path: "${v.path}", query: "${v.query}", fragment: "${v.fragment}"}`);if(v.scheme&&!Q.test(v.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(v.path){if(v.authority){if(!P.test(v.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(y.test(v.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function R(v,V){return!v&&!V?"file":v}function B(v,V){switch(v){case"https":case"http":case"file":V?V[0]!==N&&(V=N+V):V=N;break}return V}const s="",N="/",g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class D{constructor(V,$,ee,de,pe,ve=!1){typeof V=="object"?(this.scheme=V.scheme||s,this.authority=V.authority||s,this.path=V.path||s,this.query=V.query||s,this.fragment=V.fragment||s):(this.scheme=R(V,ve),this.authority=$||s,this.path=B(this.scheme,ee||s),this.query=de||s,this.fragment=pe||s,X(this,ve))}static isUri(V){return V instanceof D?!0:V?typeof V.authority=="string"&&typeof V.fragment=="string"&&typeof V.path=="string"&&typeof V.query=="string"&&typeof V.scheme=="string"&&typeof V.fsPath=="string"&&typeof V.with=="function"&&typeof V.toString=="function":!1}get fsPath(){return f(this,!1)}with(V){if(!V)return this;let{scheme:$,authority:ee,path:de,query:pe,fragment:ve}=V;return $===void 0?$=this.scheme:$===null&&($=s),ee===void 0?ee=this.authority:ee===null&&(ee=s),de===void 0?de=this.path:de===null&&(de=s),pe===void 0?pe=this.query:pe===null&&(pe=s),ve===void 0?ve=this.fragment:ve===null&&(ve=s),$===this.scheme&&ee===this.authority&&de===this.path&&pe===this.query&&ve===this.fragment?this:new r($,ee,de,pe,ve)}static parse(V,$=!1){const ee=g.exec(V);return ee?new r(ee[2]||s,L(ee[4]||s),L(ee[5]||s),L(ee[7]||s),L(ee[9]||s),$):new r(s,s,s,s,s)}static file(V){let $=s;if(O.ED&&(V=V.replace(/\\/g,N)),V[0]===N&&V[1]===N){const ee=V.indexOf(N,2);ee===-1?($=V.substring(2),V=N):($=V.substring(2,ee),V=V.substring(ee)||N)}return new r("file",$,V,s,s)}static from(V){const $=new r(V.scheme,V.authority,V.path,V.query,V.fragment);return X($,!0),$}static joinPath(V,...$){if(!V.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let ee;return O.ED&&V.scheme==="file"?ee=D.file(E.Ku.join(f(V,!0),...$)).path:ee=E.KR.join(V.path,...$),V.with({path:ee})}toString(V=!1){return p(this,V)}toJSON(){return this}static revive(V){if(V){if(V instanceof D)return V;{const $=new r(V);return $._formatted=V.external,$._fsPath=V._sep===H?V.fsPath:null,$}}else return V}}const H=O.ED?1:void 0;class r extends D{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=f(this,!1)),this._fsPath}toString(V=!1){return V?p(this,!0):(this._formatted||(this._formatted=p(this,!1)),this._formatted)}toJSON(){const V={$mid:1};return this._fsPath&&(V.fsPath=this._fsPath,V._sep=H),this._formatted&&(V.external=this._formatted),this.path&&(V.path=this.path),this.scheme&&(V.scheme=this.scheme),this.authority&&(V.authority=this.authority),this.query&&(V.query=this.query),this.fragment&&(V.fragment=this.fragment),V}}const T={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function w(v,V){let $,ee=-1;for(let de=0;de<v.length;de++){const pe=v.charCodeAt(de);if(pe>=97&&pe<=122||pe>=65&&pe<=90||pe>=48&&pe<=57||pe===45||pe===46||pe===95||pe===126||V&&pe===47)ee!==-1&&($+=encodeURIComponent(v.substring(ee,de)),ee=-1),$!==void 0&&($+=v.charAt(de));else{$===void 0&&($=v.substr(0,de));const ve=T[pe];ve!==void 0?(ee!==-1&&($+=encodeURIComponent(v.substring(ee,de)),ee=-1),$+=ve):ee===-1&&(ee=de)}}return ee!==-1&&($+=encodeURIComponent(v.substring(ee))),$!==void 0?$:v}function x(v){let V;for(let $=0;$<v.length;$++){const ee=v.charCodeAt($);ee===35||ee===63?(V===void 0&&(V=v.substr(0,$)),V+=T[ee]):V!==void 0&&(V+=v[$])}return V!==void 0?V:v}function f(v,V){let $;return v.authority&&v.path.length>1&&v.scheme==="file"?$=`//${v.authority}${v.path}`:v.path.charCodeAt(0)===47&&(v.path.charCodeAt(1)>=65&&v.path.charCodeAt(1)<=90||v.path.charCodeAt(1)>=97&&v.path.charCodeAt(1)<=122)&&v.path.charCodeAt(2)===58?V?$=v.path.substr(1):$=v.path[1].toLowerCase()+v.path.substr(2):$=v.path,O.ED&&($=$.replace(/\//g,"\\")),$}function p(v,V){const $=V?x:w;let ee="",{scheme:de,authority:pe,path:ve,query:xe,fragment:le}=v;if(de&&(ee+=de,ee+=":"),(pe||de==="file")&&(ee+=N,ee+=N),pe){let Y=pe.indexOf("@");if(Y!==-1){const j=pe.substr(0,Y);pe=pe.substr(Y+1),Y=j.indexOf(":"),Y===-1?ee+=$(j,!1):(ee+=$(j.substr(0,Y),!1),ee+=":",ee+=$(j.substr(Y+1),!1)),ee+="@"}pe=pe.toLowerCase(),Y=pe.indexOf(":"),Y===-1?ee+=$(pe,!1):(ee+=$(pe.substr(0,Y),!1),ee+=pe.substr(Y))}if(ve){if(ve.length>=3&&ve.charCodeAt(0)===47&&ve.charCodeAt(2)===58){const Y=ve.charCodeAt(1);Y>=65&&Y<=90&&(ve=`/${String.fromCharCode(Y+32)}:${ve.substr(3)}`)}else if(ve.length>=2&&ve.charCodeAt(1)===58){const Y=ve.charCodeAt(0);Y>=65&&Y<=90&&(ve=`${String.fromCharCode(Y+32)}:${ve.substr(2)}`)}ee+=$(ve,!0)}return xe&&(ee+="?",ee+=$(xe,!1)),le&&(ee+="#",ee+=V?le:w(le,!1)),ee}function S(v){try{return decodeURIComponent(v)}catch(V){return v.length>3?v.substr(0,3)+S(v.substr(3)):v}}const h=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function L(v){return v.match(h)?v.replace(h,V=>S(V)):v}},25552:function(Qt,He,c){"use strict";c.d(He,{H:function(){return X}});var E=c(89587),O={},Q={},P=function(){function R(B){var s=this;this._languageId=B,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise(function(N,g){s._lazyLoadPromiseResolve=N,s._lazyLoadPromiseReject=g})}return R.getOrCreate=function(B){return Q[B]||(Q[B]=new R(B)),Q[B]},R.prototype.whenLoaded=function(){return this._lazyLoadPromise},R.prototype.load=function(){var B=this;return this._loadingTriggered||(this._loadingTriggered=!0,O[this._languageId].loader().then(function(s){return B._lazyLoadPromiseResolve(s)},function(s){return B._lazyLoadPromiseReject(s)})),this._lazyLoadPromise},R}();function y(R){return P.getOrCreate(R).load()}function X(R){var B=R.id;O[B]=R,E.Mj.register(R);var s=P.getOrCreate(B);E.Mj.setMonarchTokensProvider(B,s.whenLoaded().then(function(N){return N.language})),E.Mj.onLanguage(B,function(){s.load().then(function(N){E.Mj.setLanguageConfiguration(B,N.conf)})})}},56292:function(Qt,He,c){"use strict";c.r(He);var E=c(25552);(0,E.H)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return c.e(75).then(c.bind(c,62075))}})},89587:function(Qt,He,c){"use strict";c.d(He,{Mj:function(){return E.languages}});var E=c(50048)},40902:function(Qt,He,c){"use strict";c.r(He);var E=c(25552);(0,E.H)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return c.e(571).then(c.bind(c,2571))}})},43763:function(Qt,He,c){"use strict";c.r(He);var E=c(25552);(0,E.H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return c.e(134).then(c.bind(c,41134))}})},88307:function(Qt,He,c){"use strict";c.r(He);var E=c(25552);(0,E.H)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return c.e(713).then(c.bind(c,96717))}})},87917:function(Qt,He,c){"use strict";c.d(He,{V:function(){return T},P:function(){return H}});var E=c(16268),O=c(4669),Q=c(5976),P=c(1432),y=c(64141);class X{constructor(x,f){this.chr=x,this.type=f,this.width=0}fulfill(x){this.width=x}}class R{constructor(x,f){this._bareFontInfo=x,this._requests=f,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const x=this._bareFontInfo.getMassagedFontFamily(E.G6?y.hL.fontFamily:null),f=document.createElement("div");f.style.position="absolute",f.style.top="-50000px",f.style.width="50000px";const p=document.createElement("div");p.style.fontFamily=x,p.style.fontWeight=this._bareFontInfo.fontWeight,p.style.fontSize=this._bareFontInfo.fontSize+"px",p.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,p.style.lineHeight=this._bareFontInfo.lineHeight+"px",p.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",f.appendChild(p);const S=document.createElement("div");S.style.fontFamily=x,S.style.fontWeight="bold",S.style.fontSize=this._bareFontInfo.fontSize+"px",S.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,S.style.lineHeight=this._bareFontInfo.lineHeight+"px",S.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",f.appendChild(S);const h=document.createElement("div");h.style.fontFamily=x,h.style.fontWeight=this._bareFontInfo.fontWeight,h.style.fontSize=this._bareFontInfo.fontSize+"px",h.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,h.style.lineHeight=this._bareFontInfo.lineHeight+"px",h.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",h.style.fontStyle="italic",f.appendChild(h);const L=[];for(const v of this._requests){let V;v.type===0&&(V=p),v.type===2&&(V=S),v.type===1&&(V=h),V.appendChild(document.createElement("br"));const $=document.createElement("span");R._render($,v),V.appendChild($),L.push($)}this._container=f,this._testElements=L}static _render(x,f){if(f.chr===" "){let p="\xA0";for(let S=0;S<8;S++)p+=p;x.innerText=p}else{let p=f.chr;for(let S=0;S<8;S++)p+=p;x.textContent=p}}_readFromDomElements(){for(let x=0,f=this._requests.length;x<f;x++){const p=this._requests[x],S=this._testElements[x];p.fulfill(S.offsetWidth/256)}}}function B(w,x){new R(w,x).read()}var s=c(54534),N=c(56345),g=c(27374);class D{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(x){const f=x.getId();return!!this._values[f]}get(x){const f=x.getId();return this._values[f]}put(x,f){const p=x.getId();this._keys[p]=x,this._values[p]=f}remove(x){const f=x.getId();delete this._keys[f],delete this._values[f]}getValues(){return Object.keys(this._keys).map(x=>this._values[x])}}function H(){r.INSTANCE.clearCache()}class r extends Q.JT{constructor(){super(),this._onDidChange=this._register(new O.Q5),this.onDidChange=this._onDidChange.event,this._cache=new D,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new D,this._onDidChange.fire()}_writeToCache(x,f){this._cache.put(x,f),!f.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const x=this._cache.getValues();let f=!1;for(const p of x)p.isTrusted||(f=!0,this._cache.remove(p));f&&this._onDidChange.fire()}readConfiguration(x){if(!this._cache.has(x)){let f=r._actualReadConfiguration(x);(f.typicalHalfwidthCharacterWidth<=2||f.typicalFullwidthCharacterWidth<=2||f.spaceWidth<=2||f.maxDigitWidth<=2)&&(f=new g.pR({zoomLevel:E.px(),pixelRatio:E.mX(),fontFamily:f.fontFamily,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFeatureSettings:f.fontFeatureSettings,lineHeight:f.lineHeight,letterSpacing:f.letterSpacing,isMonospace:f.isMonospace,typicalHalfwidthCharacterWidth:Math.max(f.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(f.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:f.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(f.spaceWidth,5),middotWidth:Math.max(f.middotWidth,5),wsmiddotWidth:Math.max(f.wsmiddotWidth,5),maxDigitWidth:Math.max(f.maxDigitWidth,5)},!1)),this._writeToCache(x,f)}return this._cache.get(x)}static createRequest(x,f,p,S){const h=new X(x,f);return p.push(h),S&&S.push(h),h}static _actualReadConfiguration(x){const f=[],p=[],S=this.createRequest("n",0,f,p),h=this.createRequest("\uFF4D",0,f,null),L=this.createRequest(" ",0,f,p),v=this.createRequest("0",0,f,p),V=this.createRequest("1",0,f,p),$=this.createRequest("2",0,f,p),ee=this.createRequest("3",0,f,p),de=this.createRequest("4",0,f,p),pe=this.createRequest("5",0,f,p),ve=this.createRequest("6",0,f,p),xe=this.createRequest("7",0,f,p),le=this.createRequest("8",0,f,p),Y=this.createRequest("9",0,f,p),j=this.createRequest("\u2192",0,f,p),G=this.createRequest("\uFFEB",0,f,null),q=this.createRequest("\xB7",0,f,p),m=this.createRequest("\u2E31",0,f,null),b="|/-_ilm%";for(let Re=0,et=b.length;Re<et;Re++)this.createRequest(b.charAt(Re),0,f,p),this.createRequest(b.charAt(Re),1,f,p),this.createRequest(b.charAt(Re),2,f,p);B(x,f);const F=Math.max(v.width,V.width,$.width,ee.width,de.width,pe.width,ve.width,xe.width,le.width,Y.width);let te=x.fontFeatureSettings===y.n0.OFF;const me=p[0].width;for(let Re=1,et=p.length;te&&Re<et;Re++){const Dt=me-p[Re].width;if(Dt<-.001||Dt>.001){te=!1;break}}let ue=!0;te&&G.width!==me&&(ue=!1),G.width>j.width&&(ue=!1);const Oe=E.WP()>2e3;return new g.pR({zoomLevel:E.px(),pixelRatio:E.mX(),fontFamily:x.fontFamily,fontWeight:x.fontWeight,fontSize:x.fontSize,fontFeatureSettings:x.fontFeatureSettings,lineHeight:x.lineHeight,letterSpacing:x.letterSpacing,isMonospace:te,typicalHalfwidthCharacterWidth:S.width,typicalFullwidthCharacterWidth:h.width,canUseHalfwidthRightwardsArrow:ue,spaceWidth:L.width,middotWidth:q.width,wsmiddotWidth:m.width,maxDigitWidth:F},Oe)}}r.INSTANCE=new r;class T extends N.fv{constructor(x,f,p=null,S){super(x,f),this.accessibilityService=S,this._elementSizeObserver=this._register(new s.I(p,f.dimension,()=>this._recomputeOptions())),this._register(r.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(E.fX(h=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(x,f){x.style.fontFamily=f.getMassagedFontFamily(E.G6?y.hL.fontFamily:null),x.style.fontWeight=f.fontWeight,x.style.fontSize=f.fontSize+"px",x.style.fontFeatureSettings=f.fontFeatureSettings,x.style.lineHeight=f.lineHeight+"px",x.style.letterSpacing=f.letterSpacing+"px"}static applyFontInfo(x,f){x.setFontFamily(f.getMassagedFontFamily(E.G6?y.hL.fontFamily:null)),x.setFontWeight(f.fontWeight),x.setFontSize(f.fontSize),x.setFontFeatureSettings(f.fontFeatureSettings),x.setLineHeight(f.lineHeight),x.setLetterSpacing(f.letterSpacing)}observeReferenceElement(x){this._elementSizeObserver.observe(x)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let x="";return!E.G6&&!E.MG&&(x+="no-user-select "),E.G6&&(x+="no-minimap-shadow "),P.dz&&(x+="mac "),x}_getEnvConfiguration(){return{extraEditorClassName:T._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:E.Pf||E.vU,pixelRatio:E.mX(),zoomLevel:E.px(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(x){return r.INSTANCE.readConfiguration(x)}}},54534:function(Qt,He,c){"use strict";c.d(He,{I:function(){return O}});var E=c(5976);class O extends E.JT{constructor(P,y,X){super(),this.referenceDomElement=P,this.changeCallback=X,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,y)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver!="undefined"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(P=>{P&&P[0]&&P[0].contentRect?this.observe({width:P[0].contentRect.width,height:P[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(P){this.measureReferenceDomElement(!0,P)}measureReferenceDomElement(P,y){let X=0,R=0;y?(X=y.width,R=y.height):this.referenceDomElement&&(X=this.referenceDomElement.clientWidth,R=this.referenceDomElement.clientHeight),X=Math.max(5,X),R=Math.max(5,R),(this.width!==X||this.height!==R)&&(this.width=X,this.height=R,P&&this.changeCallback())}}},89495:function(Qt,He,c){"use strict";c.r(He),c.d(He,{CoreEditingCommands:function(){return ve},CoreEditorCommand:function(){return h},CoreNavigationCommands:function(){return $},EditorScroll_:function(){return L},RevealLine_:function(){return v}});var E=c(63580),O=c(16268),Q=c(98401),P=c(35996),y=c(16830),X=c(11640),R=c(33181),B=c(50187),s=c(24314);class N{static columnSelect(j,G,q,m,b,F){let te=Math.abs(b-q)+1,me=q>b,ue=m>F,Oe=m<F,Re=[];for(let et=0;et<te;et++){let Dt=q+(me?-et:et),ht=R.io.columnFromVisibleColumn2(j,G,Dt,m),Mt=R.io.columnFromVisibleColumn2(j,G,Dt,F),Je=R.io.visibleColumnFromColumn2(j,G,new B.L(Dt,ht)),tt=R.io.visibleColumnFromColumn2(j,G,new B.L(Dt,Mt));Oe&&(Je>F||tt<m)||ue&&(tt>m||Je<F)||Re.push(new R.rS(new s.e(Dt,ht,Dt,ht),0,new B.L(Dt,Mt),0))}if(Re.length===0)for(let et=0;et<te;et++){const Dt=q+(me?-et:et),ht=G.getLineMaxColumn(Dt);Re.push(new R.rS(new s.e(Dt,ht,Dt,ht),0,new B.L(Dt,ht),0))}return{viewStates:Re,reversed:me,fromLineNumber:q,fromVisualColumn:m,toLineNumber:b,toVisualColumn:F}}static columnSelectLeft(j,G,q){let m=q.toViewVisualColumn;return m>0&&m--,N.columnSelect(j,G,q.fromViewLineNumber,q.fromViewVisualColumn,q.toViewLineNumber,m)}static columnSelectRight(j,G,q){let m=0;const b=Math.min(q.fromViewLineNumber,q.toViewLineNumber),F=Math.max(q.fromViewLineNumber,q.toViewLineNumber);for(let me=b;me<=F;me++){const ue=G.getLineMaxColumn(me),Oe=R.io.visibleColumnFromColumn2(j,G,new B.L(me,ue));m=Math.max(m,Oe)}let te=q.toViewVisualColumn;return te<m&&te++,this.columnSelect(j,G,q.fromViewLineNumber,q.fromViewVisualColumn,q.toViewLineNumber,te)}static columnSelectUp(j,G,q,m){const b=m?j.pageSize:1,F=Math.max(1,q.toViewLineNumber-b);return this.columnSelect(j,G,q.fromViewLineNumber,q.fromViewVisualColumn,F,q.toViewVisualColumn)}static columnSelectDown(j,G,q,m){const b=m?j.pageSize:1,F=Math.min(G.getLineCount(),q.toViewLineNumber+b);return this.columnSelect(j,G,q.fromViewLineNumber,q.fromViewVisualColumn,F,q.toViewVisualColumn)}}var g=c(31380),D=c(88784),H=c(5795);class r{static addCursorDown(j,G,q){let m=[],b=0;for(let F=0,te=G.length;F<te;F++){const me=G[F];m[b++]=new R.Vi(me.modelState,me.viewState),q?m[b++]=R.Vi.fromModelState(D.o.translateDown(j.cursorConfig,j.model,me.modelState)):m[b++]=R.Vi.fromViewState(D.o.translateDown(j.cursorConfig,j,me.viewState))}return m}static addCursorUp(j,G,q){let m=[],b=0;for(let F=0,te=G.length;F<te;F++){const me=G[F];m[b++]=new R.Vi(me.modelState,me.viewState),q?m[b++]=R.Vi.fromModelState(D.o.translateUp(j.cursorConfig,j.model,me.modelState)):m[b++]=R.Vi.fromViewState(D.o.translateUp(j.cursorConfig,j,me.viewState))}return m}static moveToBeginningOfLine(j,G,q){let m=[];for(let b=0,F=G.length;b<F;b++){const te=G[b];m[b]=this._moveToLineStart(j,te,q)}return m}static _moveToLineStart(j,G,q){const m=G.viewState.position.column,b=G.modelState.position.column,F=m===b,te=G.viewState.position.lineNumber,me=j.getLineFirstNonWhitespaceColumn(te);return!F&&!(m===me)?this._moveToLineStartByView(j,G,q):this._moveToLineStartByModel(j,G,q)}static _moveToLineStartByView(j,G,q){return R.Vi.fromViewState(D.o.moveToBeginningOfLine(j.cursorConfig,j,G.viewState,q))}static _moveToLineStartByModel(j,G,q){return R.Vi.fromModelState(D.o.moveToBeginningOfLine(j.cursorConfig,j.model,G.modelState,q))}static moveToEndOfLine(j,G,q,m){let b=[];for(let F=0,te=G.length;F<te;F++){const me=G[F];b[F]=this._moveToLineEnd(j,me,q,m)}return b}static _moveToLineEnd(j,G,q,m){const b=G.viewState.position,F=j.getLineMaxColumn(b.lineNumber),te=b.column===F,me=G.modelState.position,ue=j.model.getLineMaxColumn(me.lineNumber),Oe=F-b.column===ue-me.column;return te||Oe?this._moveToLineEndByModel(j,G,q,m):this._moveToLineEndByView(j,G,q,m)}static _moveToLineEndByView(j,G,q,m){return R.Vi.fromViewState(D.o.moveToEndOfLine(j.cursorConfig,j,G.viewState,q,m))}static _moveToLineEndByModel(j,G,q,m){return R.Vi.fromModelState(D.o.moveToEndOfLine(j.cursorConfig,j.model,G.modelState,q,m))}static expandLineSelection(j,G){let q=[];for(let m=0,b=G.length;m<b;m++){const F=G[m],te=F.modelState.selection.startLineNumber,me=j.model.getLineCount();let ue=F.modelState.selection.endLineNumber,Oe;ue===me?Oe=j.model.getLineMaxColumn(me):(ue++,Oe=1),q[m]=R.Vi.fromModelState(new R.rS(new s.e(te,1,te,1),0,new B.L(ue,Oe),0))}return q}static moveToBeginningOfBuffer(j,G,q){let m=[];for(let b=0,F=G.length;b<F;b++){const te=G[b];m[b]=R.Vi.fromModelState(D.o.moveToBeginningOfBuffer(j.cursorConfig,j.model,te.modelState,q))}return m}static moveToEndOfBuffer(j,G,q){let m=[];for(let b=0,F=G.length;b<F;b++){const te=G[b];m[b]=R.Vi.fromModelState(D.o.moveToEndOfBuffer(j.cursorConfig,j.model,te.modelState,q))}return m}static selectAll(j,G){const q=j.model.getLineCount(),m=j.model.getLineMaxColumn(q);return R.Vi.fromModelState(new R.rS(new s.e(1,1,1,1),0,new B.L(q,m),0))}static line(j,G,q,m,b){const F=j.model.validatePosition(m),te=b?j.coordinatesConverter.validateViewPosition(new B.L(b.lineNumber,b.column),F):j.coordinatesConverter.convertModelPositionToViewPosition(F);if(!q||!G.modelState.hasSelection()){const ue=j.model.getLineCount();let Oe=F.lineNumber+1,Re=1;return Oe>ue&&(Oe=ue,Re=j.model.getLineMaxColumn(Oe)),R.Vi.fromModelState(new R.rS(new s.e(F.lineNumber,1,Oe,Re),0,new B.L(Oe,Re),0))}const me=G.modelState.selectionStart.getStartPosition().lineNumber;if(F.lineNumber<me)return R.Vi.fromViewState(G.viewState.move(G.modelState.hasSelection(),te.lineNumber,1,0));if(F.lineNumber>me){const ue=j.getLineCount();let Oe=te.lineNumber+1,Re=1;return Oe>ue&&(Oe=ue,Re=j.getLineMaxColumn(Oe)),R.Vi.fromViewState(G.viewState.move(G.modelState.hasSelection(),Oe,Re,0))}else{const ue=G.modelState.selectionStart.getEndPosition();return R.Vi.fromModelState(G.modelState.move(G.modelState.hasSelection(),ue.lineNumber,ue.column,0))}}static word(j,G,q,m){const b=j.model.validatePosition(m);return R.Vi.fromModelState(H.w.word(j.cursorConfig,j.model,G.modelState,q,b))}static cancelSelection(j,G){if(!G.modelState.hasSelection())return new R.Vi(G.modelState,G.viewState);const q=G.viewState.position.lineNumber,m=G.viewState.position.column;return R.Vi.fromViewState(new R.rS(new s.e(q,m,q,m),0,new B.L(q,m),0))}static moveTo(j,G,q,m,b){const F=j.model.validatePosition(m),te=b?j.coordinatesConverter.validateViewPosition(new B.L(b.lineNumber,b.column),F):j.coordinatesConverter.convertModelPositionToViewPosition(F);return R.Vi.fromViewState(G.viewState.move(q,te.lineNumber,te.column,0))}static simpleMove(j,G,q,m,b,F){switch(q){case 0:return F===4?this._moveHalfLineLeft(j,G,m):this._moveLeft(j,G,m,b);case 1:return F===4?this._moveHalfLineRight(j,G,m):this._moveRight(j,G,m,b);case 2:return F===2?this._moveUpByViewLines(j,G,m,b):this._moveUpByModelLines(j,G,m,b);case 3:return F===2?this._moveDownByViewLines(j,G,m,b):this._moveDownByModelLines(j,G,m,b);case 4:return F===2?G.map(te=>R.Vi.fromViewState(D.o.moveToPrevBlankLine(j.cursorConfig,j,te.viewState,m))):G.map(te=>R.Vi.fromModelState(D.o.moveToPrevBlankLine(j.cursorConfig,j.model,te.modelState,m)));case 5:return F===2?G.map(te=>R.Vi.fromViewState(D.o.moveToNextBlankLine(j.cursorConfig,j,te.viewState,m))):G.map(te=>R.Vi.fromModelState(D.o.moveToNextBlankLine(j.cursorConfig,j.model,te.modelState,m)));case 6:return this._moveToViewMinColumn(j,G,m);case 7:return this._moveToViewFirstNonWhitespaceColumn(j,G,m);case 8:return this._moveToViewCenterColumn(j,G,m);case 9:return this._moveToViewMaxColumn(j,G,m);case 10:return this._moveToViewLastNonWhitespaceColumn(j,G,m);default:return null}}static viewportMove(j,G,q,m,b){const F=j.getCompletelyVisibleViewRange(),te=j.coordinatesConverter.convertViewRangeToModelRange(F);switch(q){case 11:{const me=this._firstLineNumberInRange(j.model,te,b),ue=j.model.getLineFirstNonWhitespaceColumn(me);return[this._moveToModelPosition(j,G[0],m,me,ue)]}case 13:{const me=this._lastLineNumberInRange(j.model,te,b),ue=j.model.getLineFirstNonWhitespaceColumn(me);return[this._moveToModelPosition(j,G[0],m,me,ue)]}case 12:{const me=Math.round((te.startLineNumber+te.endLineNumber)/2),ue=j.model.getLineFirstNonWhitespaceColumn(me);return[this._moveToModelPosition(j,G[0],m,me,ue)]}case 14:{let me=[];for(let ue=0,Oe=G.length;ue<Oe;ue++){const Re=G[ue];me[ue]=this.findPositionInViewportIfOutside(j,Re,F,m)}return me}default:return null}}static findPositionInViewportIfOutside(j,G,q,m){let b=G.viewState.position.lineNumber;if(q.startLineNumber<=b&&b<=q.endLineNumber-1)return new R.Vi(G.modelState,G.viewState);{let F;b>q.endLineNumber-1?F=q.endLineNumber-1:b<q.startLineNumber?F=q.startLineNumber:F=b;const te=D.o.vertical(j.cursorConfig,j,b,G.viewState.position.column,G.viewState.leftoverVisibleColumns,F,!1);return R.Vi.fromViewState(G.viewState.move(m,te.lineNumber,te.column,te.leftoverVisibleColumns))}}static _firstLineNumberInRange(j,G,q){let m=G.startLineNumber;return G.startColumn!==j.getLineMinColumn(m)&&m++,Math.min(G.endLineNumber,m+q-1)}static _lastLineNumberInRange(j,G,q){let m=G.startLineNumber;return G.startColumn!==j.getLineMinColumn(m)&&m++,Math.max(m,G.endLineNumber-q+1)}static _moveLeft(j,G,q,m){return G.map(b=>R.Vi.fromViewState(D.o.moveLeft(j.cursorConfig,j,b.viewState,q,m)))}static _moveHalfLineLeft(j,G,q){let m=[];for(let b=0,F=G.length;b<F;b++){const te=G[b],me=te.viewState.position.lineNumber,ue=Math.round(j.getLineContent(me).length/2);m[b]=R.Vi.fromViewState(D.o.moveLeft(j.cursorConfig,j,te.viewState,q,ue))}return m}static _moveRight(j,G,q,m){return G.map(b=>R.Vi.fromViewState(D.o.moveRight(j.cursorConfig,j,b.viewState,q,m)))}static _moveHalfLineRight(j,G,q){let m=[];for(let b=0,F=G.length;b<F;b++){const te=G[b],me=te.viewState.position.lineNumber,ue=Math.round(j.getLineContent(me).length/2);m[b]=R.Vi.fromViewState(D.o.moveRight(j.cursorConfig,j,te.viewState,q,ue))}return m}static _moveDownByViewLines(j,G,q,m){let b=[];for(let F=0,te=G.length;F<te;F++){const me=G[F];b[F]=R.Vi.fromViewState(D.o.moveDown(j.cursorConfig,j,me.viewState,q,m))}return b}static _moveDownByModelLines(j,G,q,m){let b=[];for(let F=0,te=G.length;F<te;F++){const me=G[F];b[F]=R.Vi.fromModelState(D.o.moveDown(j.cursorConfig,j.model,me.modelState,q,m))}return b}static _moveUpByViewLines(j,G,q,m){let b=[];for(let F=0,te=G.length;F<te;F++){const me=G[F];b[F]=R.Vi.fromViewState(D.o.moveUp(j.cursorConfig,j,me.viewState,q,m))}return b}static _moveUpByModelLines(j,G,q,m){let b=[];for(let F=0,te=G.length;F<te;F++){const me=G[F];b[F]=R.Vi.fromModelState(D.o.moveUp(j.cursorConfig,j.model,me.modelState,q,m))}return b}static _moveToViewPosition(j,G,q,m,b){return R.Vi.fromViewState(G.viewState.move(q,m,b,0))}static _moveToModelPosition(j,G,q,m,b){return R.Vi.fromModelState(G.modelState.move(q,m,b,0))}static _moveToViewMinColumn(j,G,q){let m=[];for(let b=0,F=G.length;b<F;b++){const te=G[b],me=te.viewState.position.lineNumber,ue=j.getLineMinColumn(me);m[b]=this._moveToViewPosition(j,te,q,me,ue)}return m}static _moveToViewFirstNonWhitespaceColumn(j,G,q){let m=[];for(let b=0,F=G.length;b<F;b++){const te=G[b],me=te.viewState.position.lineNumber,ue=j.getLineFirstNonWhitespaceColumn(me);m[b]=this._moveToViewPosition(j,te,q,me,ue)}return m}static _moveToViewCenterColumn(j,G,q){let m=[];for(let b=0,F=G.length;b<F;b++){const te=G[b],me=te.viewState.position.lineNumber,ue=Math.round((j.getLineMaxColumn(me)+j.getLineMinColumn(me))/2);m[b]=this._moveToViewPosition(j,te,q,me,ue)}return m}static _moveToViewMaxColumn(j,G,q){let m=[];for(let b=0,F=G.length;b<F;b++){const te=G[b],me=te.viewState.position.lineNumber,ue=j.getLineMaxColumn(me);m[b]=this._moveToViewPosition(j,te,q,me,ue)}return m}static _moveToViewLastNonWhitespaceColumn(j,G,q){let m=[];for(let b=0,F=G.length;b<F;b++){const te=G[b],me=te.viewState.position.lineNumber,ue=j.getLineLastNonWhitespaceColumn(me);m[b]=this._moveToViewPosition(j,te,q,me,ue)}return m}}var T;(function(Y){const j=function(q){if(!Q.Kn(q))return!1;let m=q;return!(!Q.HD(m.to)||!Q.o8(m.select)&&!Q.jn(m.select)||!Q.o8(m.by)&&!Q.HD(m.by)||!Q.o8(m.value)&&!Q.hj(m.value))};Y.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:j,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},Y.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},Y.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function G(q){if(!q.to)return null;let m;switch(q.to){case Y.RawDirection.Left:m=0;break;case Y.RawDirection.Right:m=1;break;case Y.RawDirection.Up:m=2;break;case Y.RawDirection.Down:m=3;break;case Y.RawDirection.PrevBlankLine:m=4;break;case Y.RawDirection.NextBlankLine:m=5;break;case Y.RawDirection.WrappedLineStart:m=6;break;case Y.RawDirection.WrappedLineFirstNonWhitespaceCharacter:m=7;break;case Y.RawDirection.WrappedLineColumnCenter:m=8;break;case Y.RawDirection.WrappedLineEnd:m=9;break;case Y.RawDirection.WrappedLineLastNonWhitespaceCharacter:m=10;break;case Y.RawDirection.ViewPortTop:m=11;break;case Y.RawDirection.ViewPortBottom:m=13;break;case Y.RawDirection.ViewPortCenter:m=12;break;case Y.RawDirection.ViewPortIfOutside:m=14;break;default:return null}let b=0;switch(q.by){case Y.RawUnit.Line:b=1;break;case Y.RawUnit.WrappedLine:b=2;break;case Y.RawUnit.Character:b=3;break;case Y.RawUnit.HalfLine:b=4;break}return{direction:m,unit:b,select:!!q.select,value:q.value||1}}Y.parse=G})(T||(T={}));var w=c(70966),x=c(29102),f=c(38819),p=c(49989);const S=0;class h extends y._l{runEditorCommand(j,G,q){const m=G._getViewModel();m&&this.runCoreEditorCommand(m,q||{})}}var L;(function(Y){const j=function(q){if(!Q.Kn(q))return!1;const m=q;return!(!Q.HD(m.to)||!Q.o8(m.by)&&!Q.HD(m.by)||!Q.o8(m.value)&&!Q.hj(m.value)||!Q.o8(m.revealCursor)&&!Q.jn(m.revealCursor))};Y.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:j,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},Y.RawDirection={Up:"up",Down:"down"},Y.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function G(q){let m;switch(q.to){case Y.RawDirection.Up:m=1;break;case Y.RawDirection.Down:m=2;break;default:return null}let b;switch(q.by){case Y.RawUnit.Line:b=1;break;case Y.RawUnit.WrappedLine:b=2;break;case Y.RawUnit.Page:b=3;break;case Y.RawUnit.HalfPage:b=4;break;default:b=2}const F=Math.floor(q.value||1),te=!!q.revealCursor;return{direction:m,unit:b,value:F,revealCursor:te,select:!!q.select}}Y.parse=G})(L||(L={}));var v;(function(Y){const j=function(G){if(!Q.Kn(G))return!1;const q=G;return!(!Q.hj(q.lineNumber)&&!Q.HD(q.lineNumber)||!Q.o8(q.at)&&!Q.HD(q.at))};Y.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:j,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},Y.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(v||(v={}));class V{constructor(j){j.addImplementation(1e4,"code-editor",(G,q)=>{const m=G.get(X.$).getFocusedCodeEditor();return m&&m.hasTextFocus()?this._runEditorCommand(G,m,q):!1}),j.addImplementation(1e3,"generic-dom-input-textarea",(G,q)=>{const m=document.activeElement;return m&&["input","textarea"].indexOf(m.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),j.addImplementation(0,"generic-dom",(G,q)=>{const m=G.get(X.$).getActiveCodeEditor();return m?(m.focus(),this._runEditorCommand(G,m,q)):!1})}_runEditorCommand(j,G,q){const m=this.runEditorCommand(j,G,q);return m||!0}}var $;(function(Y){class j extends h{constructor(ke){super(ke),this._inSelectionMode=ke.inSelectionMode}runCoreEditorCommand(ke,fe){ke.model.pushStackElement(),ke.setCursorStates(fe.source,3,[r.moveTo(ke,ke.getPrimaryCursorState(),this._inSelectionMode,fe.position,fe.viewPosition)]),ke.revealPrimaryCursor(fe.source,!0)}}Y.MoveTo=(0,y.fK)(new j({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),Y.MoveToSelect=(0,y.fK)(new j({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class G extends h{runCoreEditorCommand(ke,fe){ke.model.pushStackElement();const Ie=this._getColumnSelectResult(ke,ke.getPrimaryCursorState(),ke.getCursorColumnSelectData(),fe);ke.setCursorStates(fe.source,3,Ie.viewStates.map(nt=>R.Vi.fromViewState(nt))),ke.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:Ie.fromLineNumber,fromViewVisualColumn:Ie.fromVisualColumn,toViewLineNumber:Ie.toLineNumber,toViewVisualColumn:Ie.toVisualColumn}),Ie.reversed?ke.revealTopMostCursor(fe.source):ke.revealBottomMostCursor(fe.source)}}Y.ColumnSelect=(0,y.fK)(new class extends G{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(tt,ke,fe,Ie){const nt=tt.model.validatePosition(Ie.position),at=tt.coordinatesConverter.validateViewPosition(new B.L(Ie.viewPosition.lineNumber,Ie.viewPosition.column),nt);let ot=Ie.doColumnSelect?fe.fromViewLineNumber:at.lineNumber,Ne=Ie.doColumnSelect?fe.fromViewVisualColumn:Ie.mouseColumn-1;return N.columnSelect(tt.cursorConfig,tt,ot,Ne,at.lineNumber,Ie.mouseColumn-1)}}),Y.CursorColumnSelectLeft=(0,y.fK)(new class extends G{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(tt,ke,fe,Ie){return N.columnSelectLeft(tt.cursorConfig,tt,fe)}}),Y.CursorColumnSelectRight=(0,y.fK)(new class extends G{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(tt,ke,fe,Ie){return N.columnSelectRight(tt.cursorConfig,tt,fe)}});class q extends G{constructor(ke){super(ke),this._isPaged=ke.isPaged}_getColumnSelectResult(ke,fe,Ie,nt){return N.columnSelectUp(ke.cursorConfig,ke,Ie,this._isPaged)}}Y.CursorColumnSelectUp=(0,y.fK)(new q({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:3600,linux:{primary:0}}})),Y.CursorColumnSelectPageUp=(0,y.fK)(new q({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:3595,linux:{primary:0}}}));class m extends G{constructor(ke){super(ke),this._isPaged=ke.isPaged}_getColumnSelectResult(ke,fe,Ie,nt){return N.columnSelectDown(ke.cursorConfig,ke,Ie,this._isPaged)}}Y.CursorColumnSelectDown=(0,y.fK)(new m({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:3602,linux:{primary:0}}})),Y.CursorColumnSelectPageDown=(0,y.fK)(new m({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:3596,linux:{primary:0}}}));class b extends h{constructor(){super({id:"cursorMove",precondition:void 0,description:T.description})}runCoreEditorCommand(ke,fe){const Ie=T.parse(fe);Ie&&this._runCursorMove(ke,fe.source,Ie)}_runCursorMove(ke,fe,Ie){ke.model.pushStackElement(),ke.setCursorStates(fe,3,b._move(ke,ke.getCursorStates(),Ie)),ke.revealPrimaryCursor(fe,!0)}static _move(ke,fe,Ie){const nt=Ie.select,at=Ie.value;switch(Ie.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return r.simpleMove(ke,fe,Ie.direction,nt,at,Ie.unit);case 11:case 13:case 12:case 14:return r.viewportMove(ke,fe,Ie.direction,nt,at);default:return null}}}Y.CursorMoveImpl=b,Y.CursorMove=(0,y.fK)(new b);class F extends h{constructor(ke){super(ke),this._staticArgs=ke.args}runCoreEditorCommand(ke,fe){let Ie=this._staticArgs;this._staticArgs.value===-1&&(Ie={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:ke.cursorConfig.pageSize}),ke.model.pushStackElement(),ke.setCursorStates(fe.source,3,r.simpleMove(ke,ke.getCursorStates(),Ie.direction,Ie.select,Ie.value,Ie.unit)),ke.revealPrimaryCursor(fe.source,!0)}}Y.CursorLeft=(0,y.fK)(new F({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),Y.CursorLeftSelect=(0,y.fK)(new F({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:1039}})),Y.CursorRight=(0,y.fK)(new F({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),Y.CursorRightSelect=(0,y.fK)(new F({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:1041}})),Y.CursorUp=(0,y.fK)(new F({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),Y.CursorUpSelect=(0,y.fK)(new F({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),Y.CursorPageUp=(0,y.fK)(new F({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:11}})),Y.CursorPageUpSelect=(0,y.fK)(new F({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:1035}})),Y.CursorDown=(0,y.fK)(new F({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),Y.CursorDownSelect=(0,y.fK)(new F({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),Y.CursorPageDown=(0,y.fK)(new F({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:12}})),Y.CursorPageDownSelect=(0,y.fK)(new F({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:1036}})),Y.CreateCursor=(0,y.fK)(new class extends h{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(tt,ke){let fe;ke.wholeLine?fe=r.line(tt,tt.getPrimaryCursorState(),!1,ke.position,ke.viewPosition):fe=r.moveTo(tt,tt.getPrimaryCursorState(),!1,ke.position,ke.viewPosition);const Ie=tt.getCursorStates();if(Ie.length>1){const nt=fe.modelState?fe.modelState.position:null,at=fe.viewState?fe.viewState.position:null;for(let ot=0,Ne=Ie.length;ot<Ne;ot++){const Pe=Ie[ot];if(!(nt&&!Pe.modelState.selection.containsPosition(nt))&&!(at&&!Pe.viewState.selection.containsPosition(at))){Ie.splice(ot,1),tt.model.pushStackElement(),tt.setCursorStates(ke.source,3,Ie);return}}}Ie.push(fe),tt.model.pushStackElement(),tt.setCursorStates(ke.source,3,Ie)}}),Y.LastCursorMoveToSelect=(0,y.fK)(new class extends h{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(tt,ke){const fe=tt.getLastAddedCursorIndex(),Ie=tt.getCursorStates(),nt=Ie.slice(0);nt[fe]=r.moveTo(tt,Ie[fe],!0,ke.position,ke.viewPosition),tt.model.pushStackElement(),tt.setCursorStates(ke.source,3,nt)}});class te extends h{constructor(ke){super(ke),this._inSelectionMode=ke.inSelectionMode}runCoreEditorCommand(ke,fe){ke.model.pushStackElement(),ke.setCursorStates(fe.source,3,r.moveToBeginningOfLine(ke,ke.getCursorStates(),this._inSelectionMode)),ke.revealPrimaryCursor(fe.source,!0)}}Y.CursorHome=(0,y.fK)(new te({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),Y.CursorHomeSelect=(0,y.fK)(new te({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class me extends h{constructor(ke){super(ke),this._inSelectionMode=ke.inSelectionMode}runCoreEditorCommand(ke,fe){ke.model.pushStackElement(),ke.setCursorStates(fe.source,3,this._exec(ke.getCursorStates())),ke.revealPrimaryCursor(fe.source,!0)}_exec(ke){const fe=[];for(let Ie=0,nt=ke.length;Ie<nt;Ie++){const at=ke[Ie],ot=at.modelState.position.lineNumber;fe[Ie]=R.Vi.fromModelState(at.modelState.move(this._inSelectionMode,ot,1,0))}return fe}}Y.CursorLineStart=(0,y.fK)(new me({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:0,mac:{primary:287}}})),Y.CursorLineStartSelect=(0,y.fK)(new me({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:0,mac:{primary:1311}}}));class ue extends h{constructor(ke){super(ke),this._inSelectionMode=ke.inSelectionMode}runCoreEditorCommand(ke,fe){ke.model.pushStackElement(),ke.setCursorStates(fe.source,3,r.moveToEndOfLine(ke,ke.getCursorStates(),this._inSelectionMode,fe.sticky||!1)),ke.revealPrimaryCursor(fe.source,!0)}}Y.CursorEnd=(0,y.fK)(new ue({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:S,kbExpr:x.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:E.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),Y.CursorEndSelect=(0,y.fK)(new ue({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:S,kbExpr:x.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:E.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class Oe extends h{constructor(ke){super(ke),this._inSelectionMode=ke.inSelectionMode}runCoreEditorCommand(ke,fe){ke.model.pushStackElement(),ke.setCursorStates(fe.source,3,this._exec(ke,ke.getCursorStates())),ke.revealPrimaryCursor(fe.source,!0)}_exec(ke,fe){const Ie=[];for(let nt=0,at=fe.length;nt<at;nt++){const ot=fe[nt],Ne=ot.modelState.position.lineNumber,Pe=ke.model.getLineMaxColumn(Ne);Ie[nt]=R.Vi.fromModelState(ot.modelState.move(this._inSelectionMode,Ne,Pe,0))}return Ie}}Y.CursorLineEnd=(0,y.fK)(new Oe({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:0,mac:{primary:291}}})),Y.CursorLineEndSelect=(0,y.fK)(new Oe({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:0,mac:{primary:1315}}}));class Re extends h{constructor(ke){super(ke),this._inSelectionMode=ke.inSelectionMode}runCoreEditorCommand(ke,fe){ke.model.pushStackElement(),ke.setCursorStates(fe.source,3,r.moveToBeginningOfBuffer(ke,ke.getCursorStates(),this._inSelectionMode)),ke.revealPrimaryCursor(fe.source,!0)}}Y.CursorTop=(0,y.fK)(new Re({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:2062,mac:{primary:2064}}})),Y.CursorTopSelect=(0,y.fK)(new Re({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class et extends h{constructor(ke){super(ke),this._inSelectionMode=ke.inSelectionMode}runCoreEditorCommand(ke,fe){ke.model.pushStackElement(),ke.setCursorStates(fe.source,3,r.moveToEndOfBuffer(ke,ke.getCursorStates(),this._inSelectionMode)),ke.revealPrimaryCursor(fe.source,!0)}}Y.CursorBottom=(0,y.fK)(new et({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:2061,mac:{primary:2066}}})),Y.CursorBottomSelect=(0,y.fK)(new et({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class Dt extends h{constructor(){super({id:"editorScroll",precondition:void 0,description:L.description})}runCoreEditorCommand(ke,fe){const Ie=L.parse(fe);Ie&&this._runEditorScroll(ke,fe.source,Ie)}_runEditorScroll(ke,fe,Ie){const nt=this._computeDesiredScrollTop(ke,Ie);if(Ie.revealCursor){const at=ke.getCompletelyVisibleViewRangeAtScrollTop(nt);ke.setCursorStates(fe,3,[r.findPositionInViewportIfOutside(ke,ke.getPrimaryCursorState(),at,Ie.select)])}ke.setScrollTop(nt,0)}_computeDesiredScrollTop(ke,fe){if(fe.unit===1){const at=ke.getCompletelyVisibleViewRange(),ot=ke.coordinatesConverter.convertViewRangeToModelRange(at);let Ne;fe.direction===1?Ne=Math.max(1,ot.startLineNumber-fe.value):Ne=Math.min(ke.model.getLineCount(),ot.startLineNumber+fe.value);const Pe=ke.coordinatesConverter.convertModelPositionToViewPosition(new B.L(Ne,1));return ke.getVerticalOffsetForLineNumber(Pe.lineNumber)}let Ie;fe.unit===3?Ie=ke.cursorConfig.pageSize*fe.value:fe.unit===4?Ie=Math.round(ke.cursorConfig.pageSize/2)*fe.value:Ie=fe.value;const nt=(fe.direction===1?-1:1)*Ie;return ke.getScrollTop()+nt*ke.cursorConfig.lineHeight}}Y.EditorScrollImpl=Dt,Y.EditorScroll=(0,y.fK)(new Dt),Y.ScrollLineUp=(0,y.fK)(new class extends h{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(tt,ke){Y.EditorScroll._runEditorScroll(tt,ke.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),Y.ScrollPageUp=(0,y.fK)(new class extends h{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(tt,ke){Y.EditorScroll._runEditorScroll(tt,ke.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),Y.ScrollLineDown=(0,y.fK)(new class extends h{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(tt,ke){Y.EditorScroll._runEditorScroll(tt,ke.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),Y.ScrollPageDown=(0,y.fK)(new class extends h{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(tt,ke){Y.EditorScroll._runEditorScroll(tt,ke.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class ht extends h{constructor(ke){super(ke),this._inSelectionMode=ke.inSelectionMode}runCoreEditorCommand(ke,fe){ke.model.pushStackElement(),ke.setCursorStates(fe.source,3,[r.word(ke,ke.getPrimaryCursorState(),this._inSelectionMode,fe.position)]),ke.revealPrimaryCursor(fe.source,!0)}}Y.WordSelect=(0,y.fK)(new ht({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),Y.WordSelectDrag=(0,y.fK)(new ht({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),Y.LastCursorWordSelect=(0,y.fK)(new class extends h{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(tt,ke){const fe=tt.getLastAddedCursorIndex(),Ie=tt.getCursorStates(),nt=Ie.slice(0),at=Ie[fe];nt[fe]=r.word(tt,at,at.modelState.hasSelection(),ke.position),tt.model.pushStackElement(),tt.setCursorStates(ke.source,3,nt)}});class Mt extends h{constructor(ke){super(ke),this._inSelectionMode=ke.inSelectionMode}runCoreEditorCommand(ke,fe){ke.model.pushStackElement(),ke.setCursorStates(fe.source,3,[r.line(ke,ke.getPrimaryCursorState(),this._inSelectionMode,fe.position,fe.viewPosition)]),ke.revealPrimaryCursor(fe.source,!1)}}Y.LineSelect=(0,y.fK)(new Mt({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),Y.LineSelectDrag=(0,y.fK)(new Mt({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class Je extends h{constructor(ke){super(ke),this._inSelectionMode=ke.inSelectionMode}runCoreEditorCommand(ke,fe){const Ie=ke.getLastAddedCursorIndex(),nt=ke.getCursorStates(),at=nt.slice(0);at[Ie]=r.line(ke,nt[Ie],this._inSelectionMode,fe.position,fe.viewPosition),ke.model.pushStackElement(),ke.setCursorStates(fe.source,3,at)}}Y.LastCursorLineSelect=(0,y.fK)(new Je({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),Y.LastCursorLineSelectDrag=(0,y.fK)(new Je({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),Y.ExpandLineSelection=(0,y.fK)(new class extends h{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:2090}})}runCoreEditorCommand(tt,ke){tt.model.pushStackElement(),tt.setCursorStates(ke.source,3,r.expandLineSelection(tt,tt.getCursorStates())),tt.revealPrimaryCursor(ke.source,!0)}}),Y.CancelSelection=(0,y.fK)(new class extends h{constructor(){super({id:"cancelSelection",precondition:x.u.hasNonEmptySelection,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(tt,ke){tt.model.pushStackElement(),tt.setCursorStates(ke.source,3,[r.cancelSelection(tt,tt.getPrimaryCursorState())]),tt.revealPrimaryCursor(ke.source,!0)}}),Y.RemoveSecondaryCursors=(0,y.fK)(new class extends h{constructor(){super({id:"removeSecondaryCursors",precondition:x.u.hasMultipleSelections,kbOpts:{weight:S+1,kbExpr:x.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(tt,ke){tt.model.pushStackElement(),tt.setCursorStates(ke.source,3,[tt.getPrimaryCursorState()]),tt.revealPrimaryCursor(ke.source,!0),(0,P.i7)(E.N("removedCursor","Removed secondary cursors"))}}),Y.RevealLine=(0,y.fK)(new class extends h{constructor(){super({id:"revealLine",precondition:void 0,description:v.description})}runCoreEditorCommand(tt,ke){const fe=ke,Ie=fe.lineNumber||0;let nt=typeof Ie=="number"?Ie+1:parseInt(Ie)+1;nt<1&&(nt=1);const at=tt.model.getLineCount();nt>at&&(nt=at);const ot=new s.e(nt,1,nt,tt.model.getLineMaxColumn(nt));let Ne=0;if(fe.at)switch(fe.at){case v.RawAtArgument.Top:Ne=3;break;case v.RawAtArgument.Center:Ne=1;break;case v.RawAtArgument.Bottom:Ne=4;break;default:break}const Pe=tt.coordinatesConverter.convertModelRangeToViewRange(ot);tt.revealRange(ke.source,!1,Pe,Ne,0)}}),Y.SelectAll=new class extends V{constructor(){super(y.Sq)}runDOMCommand(){O.vU&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(tt,ke,fe){const Ie=ke._getViewModel();Ie&&this.runCoreEditorCommand(Ie,fe)}runCoreEditorCommand(tt,ke){tt.model.pushStackElement(),tt.setCursorStates("keyboard",3,[r.selectAll(tt,tt.getPrimaryCursorState())])}},Y.SetSelection=(0,y.fK)(new class extends h{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(tt,ke){tt.model.pushStackElement(),tt.setCursorStates(ke.source,3,[R.Vi.fromModelSelection(ke.selection)])}})})($||($={}));const ee=f.Ao.and(x.u.textInputFocus,x.u.columnSelection);function de(Y,j){p.W.registerKeybindingRule({id:Y,primary:j,when:ee,weight:S+1})}de($.CursorColumnSelectLeft.id,1039),de($.CursorColumnSelectRight.id,1041),de($.CursorColumnSelectUp.id,1040),de($.CursorColumnSelectPageUp.id,1035),de($.CursorColumnSelectDown.id,1042),de($.CursorColumnSelectPageDown.id,1036);function pe(Y){return Y.register(),Y}var ve;(function(Y){class j extends y._l{runEditorCommand(q,m,b){const F=m._getViewModel();F&&this.runCoreEditingCommand(m,F,b||{})}}Y.CoreEditingCommand=j,Y.LineBreakInsert=(0,y.fK)(new class extends j{constructor(){super({id:"lineBreakInsert",precondition:x.u.writable,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(G,q,m){G.pushUndoStop(),G.executeCommands(this.id,w.u.lineBreakInsert(q.cursorConfig,q.model,q.getCursorStates().map(b=>b.modelState.selection)))}}),Y.Outdent=(0,y.fK)(new class extends j{constructor(){super({id:"outdent",precondition:x.u.writable,kbOpts:{weight:S,kbExpr:f.Ao.and(x.u.editorTextFocus,x.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(G,q,m){G.pushUndoStop(),G.executeCommands(this.id,w.u.outdent(q.cursorConfig,q.model,q.getCursorStates().map(b=>b.modelState.selection))),G.pushUndoStop()}}),Y.Tab=(0,y.fK)(new class extends j{constructor(){super({id:"tab",precondition:x.u.writable,kbOpts:{weight:S,kbExpr:f.Ao.and(x.u.editorTextFocus,x.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(G,q,m){G.pushUndoStop(),G.executeCommands(this.id,w.u.tab(q.cursorConfig,q.model,q.getCursorStates().map(b=>b.modelState.selection))),G.pushUndoStop()}}),Y.DeleteLeft=(0,y.fK)(new class extends j{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(G,q,m){const[b,F]=g.A.deleteLeft(q.getPrevEditOperationType(),q.cursorConfig,q.model,q.getCursorStates().map(te=>te.modelState.selection),q.getCursorAutoClosedCharacters());b&&G.pushUndoStop(),G.executeCommands(this.id,F),q.setPrevEditOperationType(2)}}),Y.DeleteRight=(0,y.fK)(new class extends j{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:S,kbExpr:x.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(G,q,m){const[b,F]=g.A.deleteRight(q.getPrevEditOperationType(),q.cursorConfig,q.model,q.getCursorStates().map(te=>te.modelState.selection));b&&G.pushUndoStop(),G.executeCommands(this.id,F),q.setPrevEditOperationType(3)}}),Y.Undo=new class extends V{constructor(){super(y.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(G,q,m){if(!(!q.hasModel()||q.getOption(80)===!0))return q.getModel().undo()}},Y.Redo=new class extends V{constructor(){super(y.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(G,q,m){if(!(!q.hasModel()||q.getOption(80)===!0))return q.getModel().redo()}}})(ve||(ve={}));class xe extends y.mY{constructor(j,G,q){super({id:j,precondition:void 0,description:q}),this._handlerId=G}runCommand(j,G){const q=j.get(X.$).getFocusedCodeEditor();q&&q.trigger("keyboard",this._handlerId,G)}}function le(Y,j){pe(new xe("default:"+Y,Y)),pe(new xe(Y,Y,j))}le("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),le("replacePreviousChar"),le("compositionType"),le("compositionStart"),le("compositionEnd"),le("paste"),le("cut")},55812:function(Qt,He,c){"use strict";c.d(He,{yy:function(){return r},Dl:function(){return T},ZF:function(){return x},YQ:function(){return w}});var E=c(97295),O=c(24314),Q=c(71050),P=c(5976),y=c(16830),X=c(38819),R=c(91741),B=c(72065),s=c(65026),N=c(63580);const g=(0,B.yh)("IEditorCancelService"),D=new X.uy("cancellableOperation",!1,(0,N.N)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,s.z)(g,class{constructor(){this._tokens=new WeakMap}add(f,p){let S=this._tokens.get(f);S||(S=f.invokeWithinContext(L=>{const v=D.bindTo(L.get(X.i6)),V=new R.S;return{key:v,tokens:V}}),this._tokens.set(f,S));let h;return S.key.set(!0),h=S.tokens.push(p),()=>{h&&(h(),S.key.set(!S.tokens.isEmpty()),h=void 0)}}cancel(f){const p=this._tokens.get(f);if(!p)return;const S=p.tokens.pop();S&&(S.cancel(),p.key.set(!p.tokens.isEmpty()))}},!0);class H extends Q.A{constructor(p,S){super(S),this.editor=p,this._unregister=p.invokeWithinContext(h=>h.get(g).add(p,this))}dispose(){this._unregister(),super.dispose()}}(0,y.fK)(new class extends y._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:D})}runEditorCommand(f,p){f.get(g).cancel(p)}});class r{constructor(p,S){if(this.flags=S,this.flags&1){const h=p.getModel();this.modelVersionId=h?E.WU("{0}#{1}",h.uri.toString(),h.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=p.getPosition():this.position=null,this.flags&2?this.selection=p.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=p.getScrollLeft(),this.scrollTop=p.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(p){if(!(p instanceof r))return!1;const S=p;return!(this.modelVersionId!==S.modelVersionId||this.scrollLeft!==S.scrollLeft||this.scrollTop!==S.scrollTop||!this.position&&S.position||this.position&&!S.position||this.position&&S.position&&!this.position.equals(S.position)||!this.selection&&S.selection||this.selection&&!S.selection||this.selection&&S.selection&&!this.selection.equalsRange(S.selection))}validate(p){return this._equals(new r(p,this.flags))}}class T extends H{constructor(p,S,h,L){super(p,L),this._listener=new P.SL,S&4&&this._listener.add(p.onDidChangeCursorPosition(v=>{(!h||!O.e.containsPosition(h,v.position))&&this.cancel()})),S&2&&this._listener.add(p.onDidChangeCursorSelection(v=>{(!h||!O.e.containsRange(h,v.selection))&&this.cancel()})),S&8&&this._listener.add(p.onDidScrollChange(v=>this.cancel())),S&1&&(this._listener.add(p.onDidChangeModel(v=>this.cancel())),this._listener.add(p.onDidChangeModelContent(v=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class w extends Q.A{constructor(p,S){super(S),this._listener=p.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}class x{constructor(p,S,h){this._visiblePosition=p,this._visiblePositionScrollDelta=S,this._cursorPosition=h}static capture(p){let S=null,h=0;if(p.getScrollTop()!==0){const L=p.getVisibleRanges();if(L.length>0){S=L[0].getStartPosition();const v=p.getTopForPosition(S.lineNumber,S.column);h=p.getScrollTop()-v}}return new x(S,h,p.getPosition())}restore(p){if(this._visiblePosition){const S=p.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);p.setScrollTop(S+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(p){const S=p.getPosition();if(!this._cursorPosition||!S)return;const h=p.getTopForLineNumber(S.lineNumber)-p.getTopForLineNumber(this._cursorPosition.lineNumber);p.setScrollTop(p.getScrollTop()+h)}}},53430:function(Qt,He,c){"use strict";c.d(He,{$:function(){return on}});var E=c(65321);function O(wt){if(Array.isArray(wt)){for(var ft=0,xt=Array(wt.length);ft<wt.length;ft++)xt[ft]=wt[ft];return xt}else return Array.from(wt)}var Q=Object.hasOwnProperty,P=Object.setPrototypeOf,y=Object.isFrozen,X=Object.getPrototypeOf,R=Object.getOwnPropertyDescriptor,B=Object.freeze,s=Object.seal,N=Object.create,g=typeof Reflect!="undefined"&&Reflect,D=g.apply,H=g.construct;D||(D=function(ft,xt,Ve){return ft.apply(xt,Ve)}),B||(B=function(ft){return ft}),s||(s=function(ft){return ft}),H||(H=function(ft,xt){return new(Function.prototype.bind.apply(ft,[null].concat(O(xt))))});var r=V(Array.prototype.forEach),T=V(Array.prototype.pop),w=V(Array.prototype.push),x=V(String.prototype.toLowerCase),f=V(String.prototype.match),p=V(String.prototype.replace),S=V(String.prototype.indexOf),h=V(String.prototype.trim),L=V(RegExp.prototype.test),v=$(TypeError);function V(wt){return function(ft){for(var xt=arguments.length,Ve=Array(xt>1?xt-1:0),qe=1;qe<xt;qe++)Ve[qe-1]=arguments[qe];return D(wt,ft,Ve)}}function $(wt){return function(){for(var ft=arguments.length,xt=Array(ft),Ve=0;Ve<ft;Ve++)xt[Ve]=arguments[Ve];return H(wt,xt)}}function ee(wt,ft){P&&P(wt,null);for(var xt=ft.length;xt--;){var Ve=ft[xt];if(typeof Ve=="string"){var qe=x(Ve);qe!==Ve&&(y(ft)||(ft[xt]=qe),Ve=qe)}wt[Ve]=!0}return wt}function de(wt){var ft=N(null),xt=void 0;for(xt in wt)D(Q,wt,[xt])&&(ft[xt]=wt[xt]);return ft}function pe(wt,ft){for(;wt!==null;){var xt=R(wt,ft);if(xt){if(xt.get)return V(xt.get);if(typeof xt.value=="function")return V(xt.value)}wt=X(wt)}function Ve(qe){return console.warn("fallback value for",qe),null}return Ve}var ve=B(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xe=B(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),le=B(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Y=B(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),j=B(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),G=B(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),q=B(["#text"]),m=B(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),b=B(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),F=B(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),te=B(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),me=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),ue=s(/<%[\s\S]*|[\s\S]*%>/gm),Oe=s(/^data-[\-\w.\u00B7-\uFFFF]/),Re=s(/^aria-[\-\w]+$/),et=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Dt=s(/^(?:\w+script|data):/i),ht=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt};function Je(wt){if(Array.isArray(wt)){for(var ft=0,xt=Array(wt.length);ft<wt.length;ft++)xt[ft]=wt[ft];return xt}else return Array.from(wt)}var tt=function(){return typeof window=="undefined"?null:window},ke=function(ft,xt){if((typeof ft=="undefined"?"undefined":Mt(ft))!=="object"||typeof ft.createPolicy!="function")return null;var Ve=null,qe="data-tt-policy-suffix";xt.currentScript&&xt.currentScript.hasAttribute(qe)&&(Ve=xt.currentScript.getAttribute(qe));var mt="dompurify"+(Ve?"#"+Ve:"");try{return ft.createPolicy(mt,{createHTML:function(ri){return ri}})}catch(ut){return console.warn("TrustedTypes policy "+mt+" could not be created."),null}};function fe(){var wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tt(),ft=function(Zt){return fe(Zt)};if(ft.version="2.3.1",ft.removed=[],!wt||!wt.document||wt.document.nodeType!==9)return ft.isSupported=!1,ft;var xt=wt.document,Ve=wt.document,qe=wt.DocumentFragment,mt=wt.HTMLTemplateElement,ut=wt.Node,ri=wt.Element,$i=wt.NodeFilter,_i=wt.NamedNodeMap,Ni=_i===void 0?wt.NamedNodeMap||wt.MozNamedAttrMap:_i,Gi=wt.Text,hn=wt.Comment,pn=wt.DOMParser,Ai=wt.trustedTypes,pi=ri.prototype,_n=pe(pi,"cloneNode"),En=pe(pi,"nextSibling"),is=pe(pi,"childNodes"),ds=pe(pi,"parentNode");if(typeof mt=="function"){var Xn=Ve.createElement("template");Xn.content&&Xn.content.ownerDocument&&(Ve=Xn.content.ownerDocument)}var Rs=ke(Ai,xt),Co=Rs&&Li?Rs.createHTML(""):"",js=Ve,_s=js.implementation,ho=js.createNodeIterator,oo=js.createDocumentFragment,qs=js.getElementsByTagName,Es=xt.importNode,Fs={};try{Fs=de(Ve).documentMode?Ve.documentMode:{}}catch(tn){}var Xs={};ft.isSupported=typeof ds=="function"&&_s&&typeof _s.createHTMLDocument!="undefined"&&Fs!==9;var ro=me,Ys=ue,$s=Oe,mo=Re,Jn=Dt,po=ht,os=et,jn=null,ao=ee({},[].concat(Je(ve),Je(xe),Je(le),Je(j),Je(q))),es=null,eo=ee({},[].concat(Je(m),Je(b),Je(F),Je(te))),xs=null,io=null,mi=!0,ge=!0,ct=!1,gt=!1,Wt=!1,ti=!1,Si=!1,hi=!1,Yt=!1,Vi=!0,Li=!1,Pn=!0,Nt=!0,W=!1,re={},Te=null,Ye=ee({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),bt=null,$t=ee({},["audio","video","img","source","image","track"]),si=null,gi=ee({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Oi="http://www.w3.org/1998/Math/MathML",xi="http://www.w3.org/2000/svg",Hi="http://www.w3.org/1999/xhtml",cn=Hi,Ii=!1,ln=null,nn=Ve.createElement("form"),wn=function(Zt){ln&&ln===Zt||((!Zt||(typeof Zt=="undefined"?"undefined":Mt(Zt))!=="object")&&(Zt={}),Zt=de(Zt),jn="ALLOWED_TAGS"in Zt?ee({},Zt.ALLOWED_TAGS):ao,es="ALLOWED_ATTR"in Zt?ee({},Zt.ALLOWED_ATTR):eo,si="ADD_URI_SAFE_ATTR"in Zt?ee(de(gi),Zt.ADD_URI_SAFE_ATTR):gi,bt="ADD_DATA_URI_TAGS"in Zt?ee(de($t),Zt.ADD_DATA_URI_TAGS):$t,Te="FORBID_CONTENTS"in Zt?ee({},Zt.FORBID_CONTENTS):Ye,xs="FORBID_TAGS"in Zt?ee({},Zt.FORBID_TAGS):{},io="FORBID_ATTR"in Zt?ee({},Zt.FORBID_ATTR):{},re="USE_PROFILES"in Zt?Zt.USE_PROFILES:!1,mi=Zt.ALLOW_ARIA_ATTR!==!1,ge=Zt.ALLOW_DATA_ATTR!==!1,ct=Zt.ALLOW_UNKNOWN_PROTOCOLS||!1,gt=Zt.SAFE_FOR_TEMPLATES||!1,Wt=Zt.WHOLE_DOCUMENT||!1,hi=Zt.RETURN_DOM||!1,Yt=Zt.RETURN_DOM_FRAGMENT||!1,Vi=Zt.RETURN_DOM_IMPORT!==!1,Li=Zt.RETURN_TRUSTED_TYPE||!1,Si=Zt.FORCE_BODY||!1,Pn=Zt.SANITIZE_DOM!==!1,Nt=Zt.KEEP_CONTENT!==!1,W=Zt.IN_PLACE||!1,os=Zt.ALLOWED_URI_REGEXP||os,cn=Zt.NAMESPACE||Hi,gt&&(ge=!1),Yt&&(hi=!0),re&&(jn=ee({},[].concat(Je(q))),es=[],re.html===!0&&(ee(jn,ve),ee(es,m)),re.svg===!0&&(ee(jn,xe),ee(es,b),ee(es,te)),re.svgFilters===!0&&(ee(jn,le),ee(es,b),ee(es,te)),re.mathMl===!0&&(ee(jn,j),ee(es,F),ee(es,te))),Zt.ADD_TAGS&&(jn===ao&&(jn=de(jn)),ee(jn,Zt.ADD_TAGS)),Zt.ADD_ATTR&&(es===eo&&(es=de(es)),ee(es,Zt.ADD_ATTR)),Zt.ADD_URI_SAFE_ATTR&&ee(si,Zt.ADD_URI_SAFE_ATTR),Zt.FORBID_CONTENTS&&(Te===Ye&&(Te=de(Te)),ee(Te,Zt.FORBID_CONTENTS)),Nt&&(jn["#text"]=!0),Wt&&ee(jn,["html","head","body"]),jn.table&&(ee(jn,["tbody"]),delete xs.tbody),B&&B(Zt),ln=Zt)},Gn=ee({},["mi","mo","mn","ms","mtext"]),Ts=ee({},["foreignobject","desc","title","annotation-xml"]),Ln=ee({},xe);ee(Ln,le),ee(Ln,Y);var jt=ee({},j);ee(jt,G);var _e=function(Zt){var vi=ds(Zt);(!vi||!vi.tagName)&&(vi={namespaceURI:Hi,tagName:"template"});var Xi=x(Zt.tagName),ts=x(vi.tagName);if(Zt.namespaceURI===xi)return vi.namespaceURI===Hi?Xi==="svg":vi.namespaceURI===Oi?Xi==="svg"&&(ts==="annotation-xml"||Gn[ts]):!!Ln[Xi];if(Zt.namespaceURI===Oi)return vi.namespaceURI===Hi?Xi==="math":vi.namespaceURI===xi?Xi==="math"&&Ts[ts]:!!jt[Xi];if(Zt.namespaceURI===Hi){if(vi.namespaceURI===xi&&!Ts[ts]||vi.namespaceURI===Oi&&!Gn[ts])return!1;var us=ee({},["title","style","font","a","script"]);return!jt[Xi]&&(us[Xi]||!Ln[Xi])}return!1},Me=function(Zt){w(ft.removed,{element:Zt});try{Zt.parentNode.removeChild(Zt)}catch(vi){try{Zt.outerHTML=Co}catch(Xi){Zt.remove()}}},ze=function(Zt,vi){try{w(ft.removed,{attribute:vi.getAttributeNode(Zt),from:vi})}catch(Xi){w(ft.removed,{attribute:null,from:vi})}if(vi.removeAttribute(Zt),Zt==="is"&&!es[Zt])if(hi||Yt)try{Me(vi)}catch(Xi){}else try{vi.setAttribute(Zt,"")}catch(Xi){}},vt=function(Zt){var vi=void 0,Xi=void 0;if(Si)Zt="<remove></remove>"+Zt;else{var ts=f(Zt,/^[\r\n\t ]+/);Xi=ts&&ts[0]}var us=Rs?Rs.createHTML(Zt):Zt;if(cn===Hi)try{vi=new pn().parseFromString(us,"text/html")}catch(Be){}if(!vi||!vi.documentElement){vi=_s.createDocument(cn,"template",null);try{vi.documentElement.innerHTML=Ii?"":us}catch(Be){}}var Ls=vi.body||vi.documentElement;return Zt&&Xi&&Ls.insertBefore(Ve.createTextNode(Xi),Ls.childNodes[0]||null),cn===Hi?qs.call(vi,Wt?"html":"body")[0]:Wt?vi.documentElement:Ls},yt=function(Zt){return ho.call(Zt.ownerDocument||Zt,Zt,$i.SHOW_ELEMENT|$i.SHOW_COMMENT|$i.SHOW_TEXT,null,!1)},oi=function(Zt){return Zt instanceof Gi||Zt instanceof hn?!1:typeof Zt.nodeName!="string"||typeof Zt.textContent!="string"||typeof Zt.removeChild!="function"||!(Zt.attributes instanceof Ni)||typeof Zt.removeAttribute!="function"||typeof Zt.setAttribute!="function"||typeof Zt.namespaceURI!="string"||typeof Zt.insertBefore!="function"},qt=function(Zt){return(typeof ut=="undefined"?"undefined":Mt(ut))==="object"?Zt instanceof ut:Zt&&(typeof Zt=="undefined"?"undefined":Mt(Zt))==="object"&&typeof Zt.nodeType=="number"&&typeof Zt.nodeName=="string"},fn=function(Zt,vi,Xi){Xs[Zt]&&r(Xs[Zt],function(ts){ts.call(ft,vi,Xi,ln)})},Tn=function(Zt){var vi=void 0;if(fn("beforeSanitizeElements",Zt,null),oi(Zt)||f(Zt.nodeName,/[\u0080-\uFFFF]/))return Me(Zt),!0;var Xi=x(Zt.nodeName);if(fn("uponSanitizeElement",Zt,{tagName:Xi,allowedTags:jn}),!qt(Zt.firstElementChild)&&(!qt(Zt.content)||!qt(Zt.content.firstElementChild))&&L(/<[/\w]/g,Zt.innerHTML)&&L(/<[/\w]/g,Zt.textContent)||Xi==="select"&&L(/<template/i,Zt.innerHTML))return Me(Zt),!0;if(!jn[Xi]||xs[Xi]){if(Nt&&!Te[Xi]){var ts=ds(Zt)||Zt.parentNode,us=is(Zt)||Zt.childNodes;if(us&&ts)for(var Ls=us.length,Be=Ls-1;Be>=0;--Be)ts.insertBefore(_n(us[Be],!0),En(Zt))}return Me(Zt),!0}return Zt instanceof ri&&!_e(Zt)||(Xi==="noscript"||Xi==="noembed")&&L(/<\/no(script|embed)/i,Zt.innerHTML)?(Me(Zt),!0):(gt&&Zt.nodeType===3&&(vi=Zt.textContent,vi=p(vi,ro," "),vi=p(vi,Ys," "),Zt.textContent!==vi&&(w(ft.removed,{element:Zt.cloneNode()}),Zt.textContent=vi)),fn("afterSanitizeElements",Zt,null),!1)},Bi=function(Zt,vi,Xi){if(Pn&&(vi==="id"||vi==="name")&&(Xi in Ve||Xi in nn))return!1;if(!(ge&&!io[vi]&&L($s,vi))){if(!(mi&&L(mo,vi))){if(!es[vi]||io[vi])return!1;if(!si[vi]){if(!L(os,p(Xi,po,""))){if(!((vi==="src"||vi==="xlink:href"||vi==="href")&&Zt!=="script"&&S(Xi,"data:")===0&&bt[Zt])){if(!(ct&&!L(Jn,p(Xi,po,"")))){if(Xi)return!1}}}}}}return!0},dn=function(Zt){var vi=void 0,Xi=void 0,ts=void 0,us=void 0;fn("beforeSanitizeAttributes",Zt,null);var Ls=Zt.attributes;if(Ls){var Be={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:es};for(us=Ls.length;us--;){vi=Ls[us];var d=vi,M=d.name,U=d.namespaceURI;if(Xi=h(vi.value),ts=x(M),Be.attrName=ts,Be.attrValue=Xi,Be.keepAttr=!0,Be.forceKeepAttr=void 0,fn("uponSanitizeAttribute",Zt,Be),Xi=Be.attrValue,!Be.forceKeepAttr&&(ze(M,Zt),!!Be.keepAttr)){if(L(/\/>/i,Xi)){ze(M,Zt);continue}gt&&(Xi=p(Xi,ro," "),Xi=p(Xi,Ys," "));var oe=Zt.nodeName.toLowerCase();if(Bi(oe,ts,Xi))try{U?Zt.setAttributeNS(U,M,Xi):Zt.setAttribute(M,Xi),T(ft.removed)}catch(he){}}}fn("afterSanitizeAttributes",Zt,null)}},yn=function tn(Zt){var vi=void 0,Xi=yt(Zt);for(fn("beforeSanitizeShadowDOM",Zt,null);vi=Xi.nextNode();)fn("uponSanitizeShadowNode",vi,null),!Tn(vi)&&(vi.content instanceof qe&&tn(vi.content),dn(vi));fn("afterSanitizeShadowDOM",Zt,null)};return ft.sanitize=function(tn,Zt){var vi=void 0,Xi=void 0,ts=void 0,us=void 0,Ls=void 0;if(Ii=!tn,Ii&&(tn="<!-->"),typeof tn!="string"&&!qt(tn)){if(typeof tn.toString!="function")throw v("toString is not a function");if(tn=tn.toString(),typeof tn!="string")throw v("dirty is not a string, aborting")}if(!ft.isSupported){if(Mt(wt.toStaticHTML)==="object"||typeof wt.toStaticHTML=="function"){if(typeof tn=="string")return wt.toStaticHTML(tn);if(qt(tn))return wt.toStaticHTML(tn.outerHTML)}return tn}if(ti||wn(Zt),ft.removed=[],typeof tn=="string"&&(W=!1),!W)if(tn instanceof ut)vi=vt("<!---->"),Xi=vi.ownerDocument.importNode(tn,!0),Xi.nodeType===1&&Xi.nodeName==="BODY"||Xi.nodeName==="HTML"?vi=Xi:vi.appendChild(Xi);else{if(!hi&&!gt&&!Wt&&tn.indexOf("<")===-1)return Rs&&Li?Rs.createHTML(tn):tn;if(vi=vt(tn),!vi)return hi?null:Co}vi&&Si&&Me(vi.firstChild);for(var Be=yt(W?tn:vi);ts=Be.nextNode();)ts.nodeType===3&&ts===us||Tn(ts)||(ts.content instanceof qe&&yn(ts.content),dn(ts),us=ts);if(us=null,W)return tn;if(hi){if(Yt)for(Ls=oo.call(vi.ownerDocument);vi.firstChild;)Ls.appendChild(vi.firstChild);else Ls=vi;return Vi&&(Ls=Es.call(xt,Ls,!0)),Ls}var d=Wt?vi.outerHTML:vi.innerHTML;return gt&&(d=p(d,ro," "),d=p(d,Ys," ")),Rs&&Li?Rs.createHTML(d):d},ft.setConfig=function(tn){wn(tn),ti=!0},ft.clearConfig=function(){ln=null,ti=!1},ft.isValidAttribute=function(tn,Zt,vi){ln||wn({});var Xi=x(tn),ts=x(Zt);return Bi(Xi,ts,vi)},ft.addHook=function(tn,Zt){typeof Zt=="function"&&(Xs[tn]=Xs[tn]||[],w(Xs[tn],Zt))},ft.removeHook=function(tn){Xs[tn]&&T(Xs[tn])},ft.removeHooks=function(tn){Xs[tn]&&(Xs[tn]=[])},ft.removeAllHooks=function(){Xs={}},ft}var Ie=fe(),nt=null;const at=Ie.version,ot=Ie.isSupported,Ne=Ie.sanitize,Pe=Ie.setConfig,ye=Ie.clearConfig,Ze=Ie.isValidAttribute,it=Ie.addHook,Ft=Ie.removeHook,ei=Ie.removeHooks,bi=Ie.removeAllHooks;var ii=c(4850),Ot=c(94079),en=c(23938),ui=c(56811),Ke=c(15393),st=c(71050),Mi=c(17301),ci=c(4669),zi=c(59365),kn=c(21212),Ki=c(44742),ls=c(5976),Bn=c(33720),On=c(23897),Zi=c(66663),Mn=c(36248),an=c(95935),$e=c(97295),Tt=c(70666);function It(wt,ft={},xt={}){var Ve;const qe=new ls.SL;let mt=!1;const ut=qe.add(new st.A),ri=(0,Ot.az)(ft),$i=function(pi){let _n;try{_n=(0,On.Q)(decodeURIComponent(pi))}catch(En){}return _n?(_n=(0,Mn.rs)(_n,En=>{if(wt.uris&&wt.uris[En])return Tt.o.revive(wt.uris[En])}),encodeURIComponent(JSON.stringify(_n))):pi},_i=function(pi,_n){const En=wt.uris&&wt.uris[pi];if(!En)return pi;let is=Tt.o.revive(En);return _n?pi.startsWith(Zi.lg.data+":")?pi:Zi.Gi.asBrowserUri(is).toString(!0):Tt.o.parse(pi).toString()===is.toString()?pi:(is.query&&(is=is.with({query:$i(is.query)})),is.toString())};let Ni;const Gi=new Promise(pi=>Ni=pi),hn=new Bn.Th;if(hn.image=(pi,_n,En)=>{let is=[],ds=[];if(pi){({href:pi,dimensions:is}=(0,zi.v1)(pi)),pi=_i(pi,!0);try{const Xn=Tt.o.parse(pi);ft.baseUrl&&Xn.scheme===Zi.lg.file&&(pi=(0,an.i3)(ft.baseUrl,pi).toString())}catch(Xn){}ds.push(`src="${pi}"`)}return En&&ds.push(`alt="${En}"`),_n&&ds.push(`title="${_n}"`),is.length&&(ds=ds.concat(is)),"<img "+ds.join(" ")+">"},hn.link=(pi,_n,En)=>(pi===En&&(En=(0,zi.oR)(En)),pi=_i(pi,!1),ft.baseUrl&&(/^\w[\w\d+.-]*:/.test(pi)||(pi=(0,an.i3)(ft.baseUrl,pi).toString())),_n=(0,zi.oR)(_n),pi=(0,zi.oR)(pi),!pi||pi.match(/^data:|javascript:/i)||pi.match(/^command:/i)&&!wt.isTrusted||pi.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?En:(pi=pi.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${pi}" title="${_n||pi}">${En}</a>`)),hn.paragraph=pi=>`<p>${pi}</p>`,ft.codeBlockRenderer&&(hn.code=(pi,_n)=>{const En=ft.codeBlockRenderer(_n,pi),is=Ki.a.nextId();return(0,Ke.eP)(Promise.all([En,Gi]),ut.token).then(ds=>{var Xn;if(!mt&&ds){const Rs=ri.querySelector(`div[data-code="${is}"]`);Rs&&E.mc(Rs,ds[0]),(Xn=ft.asyncRenderCallback)===null||Xn===void 0||Xn.call(ft)}}).catch(()=>{}),`<div class="code" data-code="${is}">${(0,$e.YU)(pi)}</div>`}),ft.actionHandler){const pi=ft.actionHandler.disposables.add(new ii.Y(ri,"click")),_n=ft.actionHandler.disposables.add(new ii.Y(ri,"auxclick"));ft.actionHandler.disposables.add(ci.ju.any(pi.event,_n.event)(En=>{const is=new en.n(En);if(!is.leftButton&&!is.middleButton)return;let ds=is.target;if(!(ds.tagName!=="A"&&(ds=ds.parentElement,!ds||ds.tagName!=="A")))try{const Xn=ds.dataset.href;Xn&&ft.actionHandler.callback(Xn,is)}catch(Xn){(0,Mi.dL)(Xn)}finally{is.preventDefault()}}))}wt.supportHtml||(xt.sanitizer=pi=>(wt.isTrusted?pi.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?pi:"",xt.sanitize=!0,xt.silent=!0),xt.renderer=hn;let pn=(Ve=wt.value)!==null&&Ve!==void 0?Ve:"";pn.length>1e5&&(pn=`${pn.substr(0,1e5)}\u2026`),wt.supportThemeIcons&&(pn=(0,kn.f$)(pn));let Ai=Bn.Qc(pn,xt);if(wt.supportThemeIcons&&(Ai=(0,ui.T)(Ai).map(_n=>typeof _n=="string"?_n:_n.outerHTML).join("")),ri.innerHTML=Ge(wt,Ai),Ni(),ft.asyncRenderCallback)for(const pi of ri.getElementsByTagName("img")){const _n=qe.add(E.nm(pi,"load",()=>{_n.dispose(),ft.asyncRenderCallback()}))}return{element:ri,dispose:()=>{mt=!0,ut.cancel(),qe.dispose()}}}function Ge(wt,ft){const{config:xt,allowedSchemes:Ve}=Xe(wt);it("uponSanitizeAttribute",(mt,ut)=>{if(ut.attrName==="style"||ut.attrName==="class"){if(mt.tagName==="SPAN"){if(ut.attrName==="style"){ut.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(ut.attrValue);return}else if(ut.attrName==="class"){ut.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(ut.attrValue);return}}ut.keepAttr=!1;return}});const qe=document.createElement("a");it("afterSanitizeAttributes",mt=>{for(const ut of["href","src"])mt.hasAttribute(ut)&&(qe.href=mt.getAttribute(ut),Ve.includes(qe.protocol.replace(/:$/,""))||mt.removeAttribute(ut))});try{return Ne(ft,Object.assign(Object.assign({},xt),{RETURN_TRUSTED_TYPE:!0}))}finally{Ft("uponSanitizeAttribute"),Ft("afterSanitizeAttributes")}}function Xe(wt){const ft=[Zi.lg.http,Zi.lg.https,Zi.lg.mailto,Zi.lg.data,Zi.lg.file,Zi.lg.vscodeFileResource,Zi.lg.vscodeRemote,Zi.lg.vscodeRemoteResource];return wt.isTrusted&&ft.push(Zi.lg.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:ft}}var kt=c(50988),At=c(71531),Jt=c(55713),ai=c(10351),yi=c(87917),sn=function(wt,ft,xt,Ve){var qe=arguments.length,mt=qe<3?ft:Ve===null?Ve=Object.getOwnPropertyDescriptor(ft,xt):Ve,ut;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")mt=Reflect.decorate(wt,ft,xt,Ve);else for(var ri=wt.length-1;ri>=0;ri--)(ut=wt[ri])&&(mt=(qe<3?ut(mt):qe>3?ut(ft,xt,mt):ut(ft,xt))||mt);return qe>3&&mt&&Object.defineProperty(ft,xt,mt),mt},Ji=function(wt,ft){return function(xt,Ve){ft(xt,Ve,wt)}},Qn=function(wt,ft,xt,Ve){function qe(mt){return mt instanceof xt?mt:new xt(function(ut){ut(mt)})}return new(xt||(xt=Promise))(function(mt,ut){function ri(Ni){try{_i(Ve.next(Ni))}catch(Gi){ut(Gi)}}function $i(Ni){try{_i(Ve.throw(Ni))}catch(Gi){ut(Gi)}}function _i(Ni){Ni.done?mt(Ni.value):qe(Ni.value).then(ri,$i)}_i((Ve=Ve.apply(wt,ft||[])).next())})},Ui;let on=class gu{constructor(ft,xt,Ve){this._options=ft,this._modeService=xt,this._openerService=Ve,this._onDidRenderAsync=new ci.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(ft,xt,Ve){if(!ft)return{element:document.createElement("span"),dispose:()=>{}};const qe=new ls.SL;return{element:qe.add(It(ft,Object.assign(Object.assign({},this._getRenderOptions(ft,qe)),xt),Ve)).element,dispose:()=>qe.dispose()}}_getRenderOptions(ft,xt){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(Ve,qe)=>Qn(this,void 0,void 0,function*(){var mt,ut,ri,$i;let _i;Ve?_i=this._modeService.getModeIdForLanguageName(Ve):this._options.editor&&(_i=(mt=this._options.editor.getModel())===null||mt===void 0?void 0:mt.getLanguageId()),_i||(_i="plaintext"),this._modeService.triggerMode(_i);const Ni=(ut=yield ai.RW.getPromise(_i))!==null&&ut!==void 0?ut:void 0,Gi=document.createElement("span");if(Gi.innerHTML=($i=(ri=gu._ttpTokenizer)===null||ri===void 0?void 0:ri.createHTML(qe,this._modeService.languageIdCodec,Ni))!==null&&$i!==void 0?$i:(0,Jt.C)(qe,this._modeService.languageIdCodec,Ni),this._options.editor){const hn=this._options.editor.getOption(43);yi.V.applyFontInfoSlow(Gi,hn)}else this._options.codeBlockFontFamily&&(Gi.style.fontFamily=this._options.codeBlockFontFamily);return Gi}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:Ve=>this._openerService.open(Ve,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:ft.isTrusted}).catch(Mi.dL),disposables:xt}}}};on._ttpTokenizer=(Ui=window.trustedTypes)===null||Ui===void 0?void 0:Ui.createPolicy("tokenizeToString",{createHTML(wt,ft,xt){return(0,Jt.C)(wt,ft,xt)}}),on=sn([Ji(1,At.h),Ji(2,kt.v4)],on)},65520:function(Qt,He,c){"use strict";c.d(He,{CL:function(){return O}});var E=c(96518);function O(y){return y&&typeof y.getEditorType=="function"?y.getEditorType()===E.g.ICodeEditor:!1}function Q(y){return y&&typeof y.getEditorType=="function"?y.getEditorType()===editorCommon.EditorType.IDiffEditor:!1}function P(y){return O(y)?y:Q(y)?y.getModifiedEditor():null}},16830:function(Qt,He,c){"use strict";c.d(He,{QG:function(){return ee},Qr:function(){return V},R6:function(){return p},Sq:function(){return G},Uc:function(){return pe},_K:function(){return de},_l:function(){return f},f:function(){return L},fK:function(){return v},jY:function(){return S},kz:function(){return j},mY:function(){return T},n_:function(){return Y},rn:function(){return $},sb:function(){return h}});var E=c(63580),O=c(70666),Q=c(11640),P=c(50187),y=c(51200),X=c(88216),R=c(84144),B=c(94565),s=c(38819),N=c(49989),g=c(89872),D=c(10829),H=c(98401),r=c(43557);class T{constructor(m){this.id=m.id,this.precondition=m.precondition,this._kbOpts=m.kbOpts,this._menuOpts=m.menuOpts,this._description=m.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const m=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const b of m){let F=b.kbExpr;this.precondition&&(F?F=s.Ao.and(F,this.precondition):F=this.precondition);const te={id:this.id,weight:b.weight,args:b.args,when:F,primary:b.primary,secondary:b.secondary,win:b.win,linux:b.linux,mac:b.mac};N.W.registerKeybindingRule(te)}}B.P.registerCommand({id:this.id,handler:(m,b)=>this.runCommand(m,b),description:this._description})}_registerMenuItem(m){R.BH.appendMenuItem(m.menuId,{group:m.group,command:{id:this.id,title:m.title,icon:m.icon,precondition:this.precondition},when:m.when,order:m.order})}}class w extends T{constructor(){super(...arguments),this._implementations=[]}addImplementation(m,b,F){return this._implementations.push({priority:m,name:b,implementation:F}),this._implementations.sort((te,me)=>me.priority-te.priority),{dispose:()=>{for(let te=0;te<this._implementations.length;te++)if(this._implementations[te].implementation===F){this._implementations.splice(te,1);return}}}}runCommand(m,b){const F=m.get(r.VZ);F.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const te of this._implementations){const me=te.implementation(m,b);if(me)return F.trace(`Command '${this.id}' was handled by '${te.name}'.`),typeof me=="boolean"?void 0:me}F.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class x extends T{constructor(m,b){super(b),this.command=m}runCommand(m,b){return this.command.runCommand(m,b)}}class f extends T{static bindToContribution(m){return class extends f{constructor(F){super(F),this._callback=F.handler}runEditorCommand(F,te,me){m(te)&&this._callback(m(te),me)}}}runCommand(m,b){const F=m.get(Q.$),te=F.getFocusedCodeEditor()||F.getActiveCodeEditor();if(te)return te.invokeWithinContext(me=>{if(me.get(s.i6).contextMatchesRules((0,H.f6)(this.precondition)))return this.runEditorCommand(me,te,b)})}}class p extends f{constructor(m){super(p.convertOptions(m)),this.label=m.label,this.alias=m.alias}static convertOptions(m){let b;Array.isArray(m.menuOpts)?b=m.menuOpts:m.menuOpts?b=[m.menuOpts]:b=[];function F(te){return te.menuId||(te.menuId=R.eH.EditorContext),te.title||(te.title=m.label),te.when=s.Ao.and(m.precondition,te.when),te}return Array.isArray(m.contextMenuOpts)?b.push(...m.contextMenuOpts.map(F)):m.contextMenuOpts&&b.push(F(m.contextMenuOpts)),m.menuOpts=b,m}runEditorCommand(m,b,F){return this.reportTelemetry(m,b),this.run(m,b,F||{})}reportTelemetry(m,b){m.get(D.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class S extends p{constructor(){super(...arguments),this._implementations=[]}addImplementation(m,b){return this._implementations.push([m,b]),this._implementations.sort((F,te)=>te[0]-F[0]),{dispose:()=>{for(let F=0;F<this._implementations.length;F++)if(this._implementations[F][1]===b){this._implementations.splice(F,1);return}}}}run(m,b,F){for(const te of this._implementations){const me=te[1](m,b,F);if(me)return typeof me=="boolean"?void 0:me}}}function h(q,m){B.P.registerCommand(q,function(b,...F){const[te,me]=F;(0,H.p_)(O.o.isUri(te)),(0,H.p_)(P.L.isIPosition(me));const ue=b.get(y.q).getModel(te);if(ue){const Oe=P.L.lift(me);return m(ue,Oe,...F.slice(2))}return b.get(X.S).createModelReference(te).then(Oe=>new Promise((Re,et)=>{try{const Dt=m(Oe.object.textEditorModel,P.L.lift(me),F.slice(2));Re(Dt)}catch(Dt){et(Dt)}}).finally(()=>{Oe.dispose()}))})}function L(q,m){B.P.registerCommand(q,function(b,...F){const[te]=F;(0,H.p_)(O.o.isUri(te));const me=b.get(y.q).getModel(te);return me?m(me,...F.slice(1)):b.get(X.S).createModelReference(te).then(ue=>new Promise((Oe,Re)=>{try{const et=m(ue.object.textEditorModel,F.slice(1));Oe(et)}catch(et){Re(et)}}).finally(()=>{ue.dispose()}))})}function v(q){return xe.INSTANCE.registerEditorCommand(q),q}function V(q){const m=new q;return xe.INSTANCE.registerEditorAction(m),m}function $(q){return xe.INSTANCE.registerEditorAction(q),q}function ee(q){xe.INSTANCE.registerEditorAction(q)}function de(q,m){xe.INSTANCE.registerEditorContribution(q,m)}var pe;(function(q){function m(ue){return xe.INSTANCE.getEditorCommand(ue)}q.getEditorCommand=m;function b(){return xe.INSTANCE.getEditorActions()}q.getEditorActions=b;function F(){return xe.INSTANCE.getEditorContributions()}q.getEditorContributions=F;function te(ue){return xe.INSTANCE.getEditorContributions().filter(Oe=>ue.indexOf(Oe.id)>=0)}q.getSomeEditorContributions=te;function me(){return xe.INSTANCE.getDiffEditorContributions()}q.getDiffEditorContributions=me})(pe||(pe={}));const ve={EditorCommonContributions:"editor.contributions"};class xe{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(m,b){this.editorContributions.push({id:m,ctor:b})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(m){m.register(),this.editorActions.push(m)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(m){m.register(),this.editorCommands[m.id]=m}getEditorCommand(m){return this.editorCommands[m]||null}}xe.INSTANCE=new xe,g.B.add(ve.EditorCommonContributions,xe.INSTANCE);function le(q){return q.register(),q}const Y=le(new w({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:R.eH.MenubarEditMenu,group:"1_do",title:E.N({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:R.eH.CommandPalette,group:"",title:E.N("undo","Undo"),order:1}]}));le(new x(Y,{id:"default:undo",precondition:void 0}));const j=le(new w({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:R.eH.MenubarEditMenu,group:"1_do",title:E.N({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:R.eH.CommandPalette,group:"",title:E.N("redo","Redo"),order:1}]}));le(new x(j,{id:"default:redo",precondition:void 0}));const G=le(new w({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:R.eH.MenubarSelectionMenu,group:"1_basic",title:E.N({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:R.eH.CommandPalette,group:"",title:E.N("selectAll","Select All"),order:1}]}))},66007:function(Qt,He,c){"use strict";c.d(He,{Gl:function(){return B},fo:function(){return R},vu:function(){return P}});var E=c(72065),O=c(70666),Q=c(98401);const P=(0,E.yh)("IWorkspaceEditService");function y(N){return(0,Q.Kn)(N)&&(!!N.newUri||!!N.oldUri)}function X(N){return(0,Q.Kn)(N)&&O.o.isUri(N.resource)&&(0,Q.Kn)(N.edit)}class R{constructor(g){this.metadata=g}static convert(g){return g.edits.map(D=>{if(X(D))return new B(D.resource,D.edit,D.modelVersionId,D.metadata);if(y(D))return new s(D.oldUri,D.newUri,D.options,D.metadata);throw new Error("Unsupported edit")})}}class B extends R{constructor(g,D,H,r){super(r),this.resource=g,this.textEdit=D,this.versionId=H}}class s extends R{constructor(g,D,H,r){super(r),this.oldResource=g,this.newResource=D,this.options=H}}},11640:function(Qt,He,c){"use strict";c.d(He,{$:function(){return O}});var E=c(72065);const O=(0,E.yh)("codeEditorService")},53418:function(Qt,He,c){"use strict";c.d(He,{Gm:function(){return vo}});var E=c(26479),O=c(16830),Q=function(Ct,e,n,l){var C=arguments.length,k=C<3?e:l===null?l=Object.getOwnPropertyDescriptor(e,n):l,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(Ct,e,n,l);else for(var ie=Ct.length-1;ie>=0;ie--)(Z=Ct[ie])&&(k=(C<3?Z(k):C>3?Z(e,n,k):Z(e,n))||k);return C>3&&k&&Object.defineProperty(e,n,k),k},P=function(Ct,e){return function(n,l){e(n,l,Ct)}};let y=class{constructor(e,n){}dispose(){}};y.ID="editor.contrib.markerDecorations",y=Q([P(1,E.i)],y),(0,O._K)(y.ID,y);var X=c(63580),R=c(65321),B=c(17301),s=c(4669),N=c(5976),g=c(66663),D=c(87917),H=c(11640),r=c(16268),T=c(3860),w=c(38626),x=c(1432),f=c(10553),p=c(23938),S=c(15393),h=c(57974);class L{constructor(e,n){this.x=e,this.y=n,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new v(this.x-R.DI.scrollX,this.y-R.DI.scrollY)}}class v{constructor(e,n){this.clientX=e,this.clientY=n,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new L(this.clientX+R.DI.scrollX,this.clientY+R.DI.scrollY)}}class V{constructor(e,n,l,C){this.x=e,this.y=n,this.width=l,this.height=C,this._editorPagePositionBrand=void 0}}function $(Ct){const e=R.i(Ct);return new V(e.left,e.top,e.width,e.height)}class ee extends p.n{constructor(e,n){super(e),this._editorMouseEventBrand=void 0,this.pos=new L(this.posx,this.posy),this.editorPos=$(n)}}class de{constructor(e){this._editorViewDomNode=e}_create(e){return new ee(e,this._editorViewDomNode)}onContextMenu(e,n){return R.nm(e,"contextmenu",l=>{n(this._create(l))})}onMouseUp(e,n){return R.nm(e,"mouseup",l=>{n(this._create(l))})}onMouseDown(e,n){return R.nm(e,"mousedown",l=>{n(this._create(l))})}onMouseLeave(e,n){return R.j_(e,l=>{n(this._create(l))})}onMouseMoveThrottled(e,n,l,C){const k=(Z,ie)=>l(Z,this._create(ie));return R.Y_(e,"mousemove",n,k,C)}}class pe{constructor(e){this._editorViewDomNode=e}_create(e){return new ee(e,this._editorViewDomNode)}onPointerUp(e,n){return R.nm(e,"pointerup",l=>{n(this._create(l))})}onPointerDown(e,n){return R.nm(e,"pointerdown",l=>{n(this._create(l))})}onPointerLeave(e,n){return R.RE(e,l=>{n(this._create(l))})}onPointerMoveThrottled(e,n,l,C){const k=(Z,ie)=>l(Z,this._create(ie));return R.Y_(e,"pointermove",n,k,C)}}class ve extends N.JT{constructor(e){super(),this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new h.Z),this._keydownListener=null}startMonitoring(e,n,l,C,k){this._keydownListener=R.mu(document,"keydown",ie=>{ie.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,ie.browserEvent)},!0);const Z=(ie,ce)=>l(ie,new ee(ce,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(e,n,Z,C,ie=>{this._keydownListener.dispose(),k(ie)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}class xe extends N.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let n=!1;for(let l=0,C=e.length;l<C;l++){let k=e[l];switch(k.type){case 0:this.onCompositionStart(k)&&(n=!0);break;case 1:this.onCompositionEnd(k)&&(n=!0);break;case 2:this.onConfigurationChanged(k)&&(n=!0);break;case 3:this.onCursorStateChanged(k)&&(n=!0);break;case 4:this.onDecorationsChanged(k)&&(n=!0);break;case 5:this.onFlushed(k)&&(n=!0);break;case 6:this.onFocusChanged(k)&&(n=!0);break;case 7:this.onLanguageConfigurationChanged(k)&&(n=!0);break;case 8:this.onLineMappingChanged(k)&&(n=!0);break;case 9:this.onLinesChanged(k)&&(n=!0);break;case 10:this.onLinesDeleted(k)&&(n=!0);break;case 11:this.onLinesInserted(k)&&(n=!0);break;case 12:this.onRevealRangeRequest(k)&&(n=!0);break;case 13:this.onScrollChanged(k)&&(n=!0);break;case 15:this.onTokensChanged(k)&&(n=!0);break;case 14:this.onThemeChanged(k)&&(n=!0);break;case 16:this.onTokensColorsChanged(k)&&(n=!0);break;case 17:this.onZonesChanged(k)&&(n=!0);break;default:console.info("View received unknown event: "),console.info(k)}}n&&(this._shouldRender=!0)}}class le extends xe{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Y{static write(e,n){e instanceof w.Z,e.setAttribute("data-mprt",String(n))}static read(e){const n=e.getAttribute("data-mprt");return n===null?0:parseInt(n,10)}static collect(e,n){let l=[],C=0;for(;e&&e!==document.body&&e!==n;)e.nodeType===e.ELEMENT_NODE&&(l[C++]=this.read(e)),e=e.parentElement;const k=new Uint8Array(C);for(let Z=0;Z<C;Z++)k[Z]=l[C-Z-1];return k}}class j{constructor(e,n){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=n,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const l=this._viewLayout.getCurrentViewport();this.scrollTop=l.top,this.scrollLeft=l.left,this.viewportWidth=l.width,this.viewportHeight=l.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class G extends j{constructor(e,n,l){super(e,n),this._renderingContextBrand=void 0,this._viewLines=l}linesVisibleRangesForRange(e,n){return this._viewLines.linesVisibleRangesForRange(e,n)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class q{constructor(e,n,l){this.outsideRenderedLine=e,this.lineNumber=n,this.ranges=l}}class m{constructor(e,n){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(n)}static from(e){const n=new Array(e.length);for(let l=0,C=e.length;l<C;l++){const k=e[l];n[l]=new m(k.left,k.width)}return n}toString(){return`[${this.left},${this.width}]`}}class b{constructor(e,n){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=n}toString(){return`[${this.left},${this.width}]`}static compare(e,n){return e.left-n.left}}class F{constructor(e,n){this.outsideRenderedLine=e,this.originalLeft=n,this.left=Math.round(this.originalLeft)}}class te{constructor(e,n){this.outsideRenderedLine=e,this.ranges=n}}class me{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,n){e.selectNodeContents(n)}static _readClientRects(e,n,l,C,k){const Z=this._createRange();try{return Z.setStart(e,n),Z.setEnd(l,C),Z.getClientRects()}catch(ie){return null}finally{this._detachRange(Z,k)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(b.compare);let n=[],l=0,C=e[0];for(let k=1,Z=e.length;k<Z;k++){const ie=e[k];C.left+C.width+.9>=ie.left?C.width=Math.max(C.width,ie.left+ie.width-C.left):(n[l++]=C,C=ie)}return n[l++]=C,n}static _createHorizontalRangesFromClientRects(e,n){if(!e||e.length===0)return null;const l=[];for(let C=0,k=e.length;C<k;C++){const Z=e[C];l[C]=new b(Math.max(0,Z.left-n),Z.width)}return this._mergeAdjacentRanges(l)}static readHorizontalRanges(e,n,l,C,k,Z,ie){const De=e.children.length-1;if(0>De)return null;if(n=Math.min(De,Math.max(0,n)),C=Math.min(De,Math.max(0,C)),n===C&&l===k&&l===0&&!e.children[n].firstChild){const _t=e.children[n].getClientRects();return this._createHorizontalRangesFromClientRects(_t,Z)}n!==C&&C>0&&k===0&&(C--,k=1073741824);let Ae=e.children[n].firstChild,Ue=e.children[C].firstChild;if((!Ae||!Ue)&&(!Ae&&l===0&&n>0&&(Ae=e.children[n-1].firstChild,l=1073741824),!Ue&&k===0&&C>0&&(Ue=e.children[C-1].firstChild,k=1073741824)),!Ae||!Ue)return null;l=Math.min(Ae.textContent.length,Math.max(0,l)),k=Math.min(Ue.textContent.length,Math.max(0,k));const Lt=this._readClientRects(Ae,l,Ue,k,ie);return this._createHorizontalRangesFromClientRects(Lt,Z)}}var ue=c(92550),Oe=c(77736),Re=c(92321),et=c(64141);const Dt=function(){return x.tY?!0:!(x.IJ||r.vU||r.G6)}();let ht=!0;class Mt{constructor(e,n){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=n}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}class Je{constructor(e,n){this.themeType=n;const l=e.options,C=l.get(43);this.renderWhitespace=l.get(87),this.renderControlCharacters=l.get(82),this.spaceWidth=C.spaceWidth,this.middotWidth=C.middotWidth,this.wsmiddotWidth=C.wsmiddotWidth,this.useMonospaceOptimizations=C.isMonospace&&!l.get(29),this.canUseHalfwidthRightwardsArrow=C.canUseHalfwidthRightwardsArrow,this.lineHeight=l.get(58),this.stopRenderingLineAfter=l.get(104),this.fontLigatures=l.get(44)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class tt{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,w.X)(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return this._options.themeType===Re.e.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,n,l,C){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const k=l.getViewLineRenderingData(e),Z=this._options,ie=ue.Kp.filter(k.inlineDecorations,e,k.minColumn,k.maxColumn);let ce=null;if(Z.themeType===Re.e.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const Lt=l.selections;for(const _t of Lt){if(_t.endLineNumber<e||_t.startLineNumber>e)continue;const Bt=_t.startLineNumber===e?_t.startColumn:k.minColumn,Xt=_t.endLineNumber===e?_t.endColumn:k.maxColumn;Bt<Xt&&(Z.themeType===Re.e.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?ie.push(new ue.Kp(Bt,Xt,"inline-selected-text",0)):(ce||(ce=[]),ce.push(new Oe.zG(Bt-1,Xt-1))))}}const De=new Oe.IJ(Z.useMonospaceOptimizations,Z.canUseHalfwidthRightwardsArrow,k.content,k.continuesWithWrappedLine,k.isBasicASCII,k.containsRTL,k.minColumn-1,k.tokens,ie,k.tabSize,k.startVisibleColumn,Z.spaceWidth,Z.middotWidth,Z.wsmiddotWidth,Z.stopRenderingLineAfter,Z.renderWhitespace,Z.renderControlCharacters,Z.fontLigatures!==et.n0.OFF,ce);if(this._renderedViewLine&&this._renderedViewLine.input.equals(De))return!1;C.appendASCIIString('<div style="top:'),C.appendASCIIString(String(n)),C.appendASCIIString("px;height:"),C.appendASCIIString(String(this._options.lineHeight)),C.appendASCIIString('px;" class="'),C.appendASCIIString(tt.CLASS_NAME),C.appendASCIIString('">');const Ae=(0,Oe.d1)(De,C);C.appendASCIIString("</div>");let Ue=null;return ht&&Dt&&k.isBasicASCII&&Z.useMonospaceOptimizations&&Ae.containsForeignElements===0&&k.content.length<300&&De.lineTokens.getCount()<100&&(Ue=new ke(this._renderedViewLine?this._renderedViewLine.domNode:null,De,Ae.characterMapping)),Ue||(Ue=nt(this._renderedViewLine?this._renderedViewLine.domNode:null,De,Ae.characterMapping,Ae.containsRTL,Ae.containsForeignElements)),this._renderedViewLine=Ue,!0}layoutLine(e,n){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(n),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof ke:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof ke?this._renderedViewLine.monospaceAssumptionsAreValid():ht}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof ke&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,n,l,C){if(!this._renderedViewLine)return null;n=n|0,l=l|0,n=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,n)),l=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,l));const k=this._renderedViewLine.input.stopRenderingLineAfter|0;let Z=!1;k!==-1&&n>k+1&&l>k+1&&(Z=!0),k!==-1&&n>k+1&&(n=k+1),k!==-1&&l>k+1&&(l=k+1);const ie=this._renderedViewLine.getVisibleRangesForRange(e,n,l,C);return ie&&ie.length>0?new te(Z,ie):null}getColumnOfNodeOffset(e,n,l){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,n,l):1}}tt.CLASS_NAME="view-line";class ke{constructor(e,n,l){this.domNode=e,this.input=n,this._characterMapping=l,this._charWidth=n.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return ht;const e=this.getWidth(),n=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-n)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),ht=!1),ht}toSlowRenderedLine(){return nt(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,n,l,C){const k=this._getCharPosition(n),Z=this._getCharPosition(l);return[new b(k,Z-k)]}_getCharPosition(e){const n=this._characterMapping.getAbsoluteOffset(e);return this._charWidth*n}getColumnOfNodeOffset(e,n,l){const C=n.textContent.length;let k=-1;for(;n;)n=n.previousSibling,k++;return this._characterMapping.getColumn(new Oe.Nd(k,l),C)}}class fe{constructor(e,n,l,C,k){if(this.domNode=e,this.input=n,this._characterMapping=l,this._isWhitespaceOnly=/^\s*$/.test(n.lineContent),this._containsForeignElements=k,this._cachedWidth=-1,this._pixelOffsetCache=null,!C||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let Z=0,ie=this._characterMapping.length;Z<=ie;Z++)this._pixelOffsetCache[Z]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,n,l,C){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const k=this._readPixelOffset(this.domNode,e,n,C);if(k===-1)return null;const Z=this._readPixelOffset(this.domNode,e,l,C);return Z===-1?null:[new b(k,Z-k)]}return this._readVisibleRangesForRange(this.domNode,e,n,l,C)}_readVisibleRangesForRange(e,n,l,C,k){if(l===C){const Z=this._readPixelOffset(e,n,l,k);return Z===-1?null:[new b(Z,0)]}else return this._readRawVisibleRangesForRange(e,l,C,k)}_readPixelOffset(e,n,l,C){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const k=this._getReadingTarget(e);return k.firstChild?k.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const k=this._pixelOffsetCache[l];if(k!==-1)return k;const Z=this._actualReadPixelOffset(e,n,l,C);return this._pixelOffsetCache[l]=Z,Z}return this._actualReadPixelOffset(e,n,l,C)}_actualReadPixelOffset(e,n,l,C){if(this._characterMapping.length===0){const ce=me.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,C.clientRectDeltaLeft,C.endNode);return!ce||ce.length===0?-1:ce[0].left}if(l===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const k=this._characterMapping.getDomPosition(l),Z=me.readHorizontalRanges(this._getReadingTarget(e),k.partIndex,k.charIndex,k.partIndex,k.charIndex,C.clientRectDeltaLeft,C.endNode);if(!Z||Z.length===0)return-1;const ie=Z[0].left;if(this.input.isBasicASCII){const ce=this._characterMapping.getAbsoluteOffset(l),De=Math.round(this.input.spaceWidth*ce);if(Math.abs(De-ie)<=1)return De}return ie}_readRawVisibleRangesForRange(e,n,l,C){if(n===1&&l===this._characterMapping.length)return[new b(0,this.getWidth())];const k=this._characterMapping.getDomPosition(n),Z=this._characterMapping.getDomPosition(l);return me.readHorizontalRanges(this._getReadingTarget(e),k.partIndex,k.charIndex,Z.partIndex,Z.charIndex,C.clientRectDeltaLeft,C.endNode)}getColumnOfNodeOffset(e,n,l){const C=n.textContent.length;let k=-1;for(;n;)n=n.previousSibling,k++;return this._characterMapping.getColumn(new Oe.Nd(k,l),C)}}class Ie extends fe{_readVisibleRangesForRange(e,n,l,C,k){const Z=super._readVisibleRangesForRange(e,n,l,C,k);if(!Z||Z.length===0||l===C||l===1&&C===this._characterMapping.length)return Z;if(!this.input.containsRTL){const ie=this._readPixelOffset(e,n,C,k);if(ie!==-1){const ce=Z[Z.length-1];ce.left<ie&&(ce.width=ie-ce.left)}}return Z}}const nt=function(){return r.Pf?at:ot}();function at(Ct,e,n,l,C){return new Ie(Ct,e,n,l,C)}function ot(Ct,e,n,l,C){return new fe(Ct,e,n,l,C)}var Ne=c(50187),Pe=c(24314),ye=c(33181),Ze=c(3675);class it{constructor(e=null){this.hitTarget=e,this.type=0}}class Ft{constructor(e,n,l){this.position=e,this.spanNode=n,this.injectedText=l,this.type=1}}var ei;(function(Ct){function e(n,l,C){const k=n.getPositionFromDOMInfo(l,C);return k?new Ft(k,l,null):new it(l)}Ct.createFromDOMInfo=e})(ei||(ei={}));class bi{constructor(e,n){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=n}}class ii{constructor(e,n,l=0,C=null,k=null,Z=null){this.element=e,this.type=n,this.mouseColumn=l,this.position=C,!k&&C&&(k=new Pe.e(C.lineNumber,C.column,C.lineNumber,C.column)),this.range=k,this.detail=Z}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail}toString(){return ii.toString(this)}}class Ot{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===6}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===7}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===7}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===5}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===8}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}}class en{constructor(e,n,l){this.model=e.model;const C=e.configuration.options;this.layoutInfo=C.get(129),this.viewDomNode=n.viewDomNode,this.lineHeight=C.get(58),this.stickyTabStops=C.get(103),this.typicalHalfwidthCharacterWidth=C.get(43).typicalHalfwidthCharacterWidth,this.lastRenderData=l,this._context=e,this._viewHelper=n}getZoneAtCoord(e){return en.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,n){const l=e.viewLayout.getWhitespaceAtVerticalOffset(n);if(l){const C=l.verticalOffset+l.height/2,k=e.model.getLineCount();let Z=null,ie,ce=null;return l.afterLineNumber!==k&&(ce=new Ne.L(l.afterLineNumber+1,1)),l.afterLineNumber>0&&(Z=new Ne.L(l.afterLineNumber,e.model.getLineMaxColumn(l.afterLineNumber))),ce===null?ie=Z:Z===null?ie=ce:n<C?ie=Z:ie=ce,{viewZoneId:l.id,afterLineNumber:l.afterLineNumber,positionBefore:Z,positionAfter:ce,position:ie}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const C=this._context.model.getLineCount(),k=this._context.model.getLineMaxColumn(C);return{range:new Pe.e(C,k,C,k),isAfterLines:!0}}const n=this._context.viewLayout.getLineNumberAtVerticalOffset(e),l=this._context.model.getLineMaxColumn(n);return{range:new Pe.e(n,1,n,l),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,n){return en._findAttribute(e,n,this._viewHelper.viewDomNode)}static _findAttribute(e,n,l){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(n))return e.getAttribute(n);if(e===l)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,n){return this._viewHelper.visibleRangeForPosition(e,n)}getPositionFromDOMInfo(e,n){return this._viewHelper.getPositionFromDOMInfo(e,n)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class ui{constructor(e,n,l){this.editorPos=n,this.pos=l,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+l.y-n.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+l.x-n.x-e.layoutInfo.contentLeft,this.isInMarginArea=l.x-n.x<e.layoutInfo.contentLeft&&l.x-n.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,ci._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class Ke extends ui{constructor(e,n,l,C){super(e,n,l),this._ctx=e,C?(this.target=C,this.targetPath=Y.collect(C,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(e,n=null,l=null,C=null){let k=this.mouseColumn;return n&&n.column<this._ctx.model.getLineMaxColumn(n.lineNumber)&&(k=ye.io.visibleColumnFromColumn(this._ctx.model.getLineContent(n.lineNumber),n.column,this._ctx.model.getTextModelOptions().tabSize)+1),new ii(this.target,e,k,n,l,C)}withTarget(e){return new Ke(this._ctx,this.editorPos,this.pos,e)}}const st={isAfterLines:!0};function Mi(Ct){return{isAfterLines:!1,horizontalDistanceToText:Ct}}class ci{constructor(e,n){this._context=e,this._viewHelper=n}mouseTargetIsWidget(e){const n=e.target,l=Y.collect(n,this._viewHelper.viewDomNode);return!!(Ot.isChildOfContentWidgets(l)||Ot.isChildOfOverflowingContentWidgets(l)||Ot.isChildOfOverlayWidgets(l))}createMouseTarget(e,n,l,C){const k=new en(this._context,this._viewHelper,e),Z=new Ke(k,n,l,C);try{return ci._createMouseTarget(k,Z,!1)}catch(ie){return Z.fulfill(0)}}static _createMouseTarget(e,n,l){if(n.target===null){if(l)return n.fulfill(0);const Z=ci._doHitTest(e,n);return Z.type===1?ci.createMouseTargetFromHitTestPosition(e,n,Z.spanNode,Z.position,Z.injectedText):this._createMouseTarget(e,n.withTarget(Z.hitTarget),!0)}const C=n;let k=null;return k=k||ci._hitTestContentWidget(e,C),k=k||ci._hitTestOverlayWidget(e,C),k=k||ci._hitTestMinimap(e,C),k=k||ci._hitTestScrollbarSlider(e,C),k=k||ci._hitTestViewZone(e,C),k=k||ci._hitTestMargin(e,C),k=k||ci._hitTestViewCursor(e,C),k=k||ci._hitTestTextArea(e,C),k=k||ci._hitTestViewLines(e,C,l),k=k||ci._hitTestScrollbar(e,C),k||n.fulfill(0)}static _hitTestContentWidget(e,n){if(Ot.isChildOfContentWidgets(n.targetPath)||Ot.isChildOfOverflowingContentWidgets(n.targetPath)){const l=e.findAttribute(n.target,"widgetId");return l?n.fulfill(9,null,null,l):n.fulfill(0)}return null}static _hitTestOverlayWidget(e,n){if(Ot.isChildOfOverlayWidgets(n.targetPath)){const l=e.findAttribute(n.target,"widgetId");return l?n.fulfill(12,null,null,l):n.fulfill(0)}return null}static _hitTestViewCursor(e,n){if(n.target){const l=e.lastRenderData.lastViewCursorsRenderData;for(const C of l)if(n.target===C.domNode)return n.fulfill(6,C.position,null,{mightBeForeignElement:!1})}if(n.isInContentArea){const l=e.lastRenderData.lastViewCursorsRenderData,C=n.mouseContentHorizontalOffset,k=n.mouseVerticalOffset;for(const Z of l){if(C<Z.contentLeft||C>Z.contentLeft+Z.width)continue;const ie=e.getVerticalOffsetForLineNumber(Z.position.lineNumber);if(ie<=k&&k<=ie+Z.height)return n.fulfill(6,Z.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(e,n){const l=e.getZoneAtCoord(n.mouseVerticalOffset);if(l){const C=n.isInContentArea?8:5;return n.fulfill(C,l.position,null,l)}return null}static _hitTestTextArea(e,n){return Ot.isTextArea(n.targetPath)?e.lastRenderData.lastTextareaPosition?n.fulfill(6,e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):n.fulfill(1,e.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(e,n){if(n.isInMarginArea){const l=e.getFullLineRangeAtCoord(n.mouseVerticalOffset),C=l.range.getStartPosition();let k=Math.abs(n.pos.x-n.editorPos.x);const Z={isAfterLines:l.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:k};return k-=e.layoutInfo.glyphMarginLeft,k<=e.layoutInfo.glyphMarginWidth?n.fulfill(2,C,l.range,Z):(k-=e.layoutInfo.glyphMarginWidth,k<=e.layoutInfo.lineNumbersWidth?n.fulfill(3,C,l.range,Z):(k-=e.layoutInfo.lineNumbersWidth,n.fulfill(4,C,l.range,Z)))}return null}static _hitTestViewLines(e,n,l){if(!Ot.isChildOfViewLines(n.targetPath))return null;if(e.isInTopPadding(n.mouseVerticalOffset))return n.fulfill(7,new Ne.L(1,1),null,st);if(e.isAfterLines(n.mouseVerticalOffset)||e.isInBottomPadding(n.mouseVerticalOffset)){const k=e.model.getLineCount(),Z=e.model.getLineMaxColumn(k);return n.fulfill(7,new Ne.L(k,Z),null,st)}if(l){if(Ot.isStrictChildOfViewLines(n.targetPath)){const k=e.getLineNumberAtVerticalOffset(n.mouseVerticalOffset);if(e.model.getLineLength(k)===0){const ie=e.getLineWidth(k),ce=Mi(n.mouseContentHorizontalOffset-ie);return n.fulfill(7,new Ne.L(k,1),null,ce)}const Z=e.getLineWidth(k);if(n.mouseContentHorizontalOffset>=Z){const ie=Mi(n.mouseContentHorizontalOffset-Z),ce=new Ne.L(k,e.model.getLineMaxColumn(k));return n.fulfill(7,ce,null,ie)}}return n.fulfill(0)}const C=ci._doHitTest(e,n);return C.type===1?ci.createMouseTargetFromHitTestPosition(e,n,C.spanNode,C.position,C.injectedText):this._createMouseTarget(e,n.withTarget(C.hitTarget),!0)}static _hitTestMinimap(e,n){if(Ot.isChildOfMinimap(n.targetPath)){const l=e.getLineNumberAtVerticalOffset(n.mouseVerticalOffset),C=e.model.getLineMaxColumn(l);return n.fulfill(11,new Ne.L(l,C))}return null}static _hitTestScrollbarSlider(e,n){if(Ot.isChildOfScrollableElement(n.targetPath)&&n.target&&n.target.nodeType===1){const l=n.target.className;if(l&&/\b(slider|scrollbar)\b/.test(l)){const C=e.getLineNumberAtVerticalOffset(n.mouseVerticalOffset),k=e.model.getLineMaxColumn(C);return n.fulfill(11,new Ne.L(C,k))}}return null}static _hitTestScrollbar(e,n){if(Ot.isChildOfScrollableElement(n.targetPath)){const l=e.getLineNumberAtVerticalOffset(n.mouseVerticalOffset),C=e.model.getLineMaxColumn(l);return n.fulfill(11,new Ne.L(l,C))}return null}getMouseColumn(e,n){const l=this._context.configuration.options,C=l.get(129),k=this._context.viewLayout.getCurrentScrollLeft()+n.x-e.x-C.contentLeft;return ci._getMouseColumn(k,l.get(43).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,n){return e<0?1:Math.round(e/n)+1}static createMouseTargetFromHitTestPosition(e,n,l,C,k){const Z=C.lineNumber,ie=C.column,ce=e.getLineWidth(Z);if(n.mouseContentHorizontalOffset>ce){const fi=Mi(n.mouseContentHorizontalOffset-ce);return n.fulfill(7,C,null,fi)}const De=e.visibleRangeForPosition(Z,ie);if(!De)return n.fulfill(0,C);const Ae=De.left;if(n.mouseContentHorizontalOffset===Ae)return n.fulfill(6,C,null,{mightBeForeignElement:!!k});const Ue=[];if(Ue.push({offset:De.left,column:ie}),ie>1){const fi=e.visibleRangeForPosition(Z,ie-1);fi&&Ue.push({offset:fi.left,column:ie-1})}const Lt=e.model.getLineMaxColumn(Z);if(ie<Lt){const fi=e.visibleRangeForPosition(Z,ie+1);fi&&Ue.push({offset:fi.left,column:ie+1})}Ue.sort((fi,Di)=>fi.offset-Di.offset);const _t=n.pos.toClientCoordinates(),Bt=l.getBoundingClientRect(),Xt=Bt.left<=_t.clientX&&_t.clientX<=Bt.right;for(let fi=1;fi<Ue.length;fi++){const Di=Ue[fi-1],Wi=Ue[fi];if(Di.offset<=n.mouseContentHorizontalOffset&&n.mouseContentHorizontalOffset<=Wi.offset){const Ti=new Pe.e(Z,Di.column,Z,Wi.column);return n.fulfill(6,C,Ti,{mightBeForeignElement:!Xt||!!k})}}return n.fulfill(6,C,null,{mightBeForeignElement:!Xt||!!k})}static _doHitTestWithCaretRangeFromPoint(e,n){const l=e.getLineNumberAtVerticalOffset(n.mouseVerticalOffset),k=e.getVerticalOffsetForLineNumber(l)+Math.floor(e.lineHeight/2);let Z=n.pos.y+(k-n.mouseVerticalOffset);Z<=n.editorPos.y&&(Z=n.editorPos.y+1),Z>=n.editorPos.y+e.layoutInfo.height&&(Z=n.editorPos.y+e.layoutInfo.height-1);const ie=new L(n.pos.x,Z),ce=this._actualDoHitTestWithCaretRangeFromPoint(e,ie.toClientCoordinates());return ce.type===1?ce:this._actualDoHitTestWithCaretRangeFromPoint(e,n.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,n){const l=R.Ay(e.viewDomNode);let C;if(l?typeof l.caretRangeFromPoint=="undefined"?C=zi(l,n.clientX,n.clientY):C=l.caretRangeFromPoint(n.clientX,n.clientY):C=document.caretRangeFromPoint(n.clientX,n.clientY),!C||!C.startContainer)return new it;const k=C.startContainer;if(k.nodeType===k.TEXT_NODE){const Z=k.parentNode,ie=Z?Z.parentNode:null,ce=ie?ie.parentNode:null;return(ce&&ce.nodeType===ce.ELEMENT_NODE?ce.className:null)===tt.CLASS_NAME?ei.createFromDOMInfo(e,Z,C.startOffset):new it(k.parentNode)}else if(k.nodeType===k.ELEMENT_NODE){const Z=k.parentNode,ie=Z?Z.parentNode:null;return(ie&&ie.nodeType===ie.ELEMENT_NODE?ie.className:null)===tt.CLASS_NAME?ei.createFromDOMInfo(e,k,k.textContent.length):new it(k)}return new it}static _doHitTestWithCaretPositionFromPoint(e,n){const l=document.caretPositionFromPoint(n.clientX,n.clientY);if(l.offsetNode.nodeType===l.offsetNode.TEXT_NODE){const C=l.offsetNode.parentNode,k=C?C.parentNode:null,Z=k?k.parentNode:null;return(Z&&Z.nodeType===Z.ELEMENT_NODE?Z.className:null)===tt.CLASS_NAME?ei.createFromDOMInfo(e,l.offsetNode.parentNode,l.offset):new it(l.offsetNode.parentNode)}if(l.offsetNode.nodeType===l.offsetNode.ELEMENT_NODE){const C=l.offsetNode.parentNode,k=C&&C.nodeType===C.ELEMENT_NODE?C.className:null,Z=C?C.parentNode:null,ie=Z&&Z.nodeType===Z.ELEMENT_NODE?Z.className:null;if(k===tt.CLASS_NAME){const ce=l.offsetNode.childNodes[Math.min(l.offset,l.offsetNode.childNodes.length-1)];if(ce)return ei.createFromDOMInfo(e,ce,0)}else if(ie===tt.CLASS_NAME)return ei.createFromDOMInfo(e,l.offsetNode,0)}return new it(l.offsetNode)}static _snapToSoftTabBoundary(e,n){const l=n.getLineContent(e.lineNumber),{tabSize:C}=n.getTextModelOptions(),k=Ze.l.atomicPosition(l,e.column-1,C,2);return k!==-1?new Ne.L(e.lineNumber,k+1):e}static _doHitTest(e,n){let l=new it;if(typeof document.caretRangeFromPoint=="function"?l=this._doHitTestWithCaretRangeFromPoint(e,n):document.caretPositionFromPoint&&(l=this._doHitTestWithCaretPositionFromPoint(e,n.pos.toClientCoordinates())),l.type===1){const C=e.model.getInjectedTextAt(l.position),k=e.model.normalizePosition(l.position,2);(C||!k.equals(l.position))&&(l=new Ft(k,l.spanNode,C))}return l.type===1&&e.stickyTabStops&&(l=new Ft(this._snapToSoftTabBoundary(l.position,e.model),l.spanNode,l.injectedText)),l}}function zi(Ct,e,n){const l=document.createRange();let C=Ct.elementFromPoint(e,n);if(C!==null){for(;C&&C.firstChild&&C.firstChild.nodeType!==C.firstChild.TEXT_NODE&&C.lastChild&&C.lastChild.firstChild;)C=C.lastChild;const k=C.getBoundingClientRect(),Z=window.getComputedStyle(C,null).getPropertyValue("font"),ie=C.innerText;let ce=k.left,De=0,Ae;if(e>k.left+k.width)De=ie.length;else{const Ue=kn.getInstance();for(let Lt=0;Lt<ie.length+1;Lt++){if(Ae=Ue.getCharWidth(ie.charAt(Lt),Z)/2,ce+=Ae,e<ce){De=Lt;break}ce+=Ae}}l.setStart(C.firstChild,De),l.setEnd(C.firstChild,De)}return l}class kn{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return kn._INSTANCE||(kn._INSTANCE=new kn),kn._INSTANCE}getCharWidth(e,n){const l=e+n;if(this._cache[l])return this._cache[l];const C=this._canvas.getContext("2d");C.font=n;const Z=C.measureText(e).width;return this._cache[l]=Z,Z}}kn._INSTANCE=null;var Ki=c(82334);function ls(Ct){return function(e,n){let l=!1;return Ct&&(l=Ct.mouseTargetIsWidget(n)),l||n.preventDefault(),n}}class Bn extends xe{constructor(e,n,l){super(),this._context=e,this.viewController=n,this.viewHelper=l,this.mouseTargetFactory=new ci(this._context,l),this._mouseDownOperation=this._register(new On(this._context,this.viewController,this.viewHelper,(Z,ie)=>this._createMouseTarget(Z,ie),Z=>this._getMouseColumn(Z))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(129).height;const C=new de(this.viewHelper.viewDomNode);this._register(C.onContextMenu(this.viewHelper.viewDomNode,Z=>this._onContextMenu(Z,!0))),this._register(C.onMouseMoveThrottled(this.viewHelper.viewDomNode,Z=>this._onMouseMove(Z),ls(this.mouseTargetFactory),Bn.MOUSE_MOVE_MINIMUM_TIME)),this._register(C.onMouseUp(this.viewHelper.viewDomNode,Z=>this._onMouseUp(Z))),this._register(C.onMouseLeave(this.viewHelper.viewDomNode,Z=>this._onMouseLeave(Z))),this._register(C.onMouseDown(this.viewHelper.viewDomNode,Z=>this._onMouseDown(Z)));const k=Z=>{if(this.viewController.emitMouseWheel(Z),!this._context.configuration.options.get(67))return;const ie=new p.q(Z);if(x.dz?(Z.metaKey||Z.ctrlKey)&&!Z.shiftKey&&!Z.altKey:Z.ctrlKey&&!Z.metaKey&&!Z.shiftKey&&!Z.altKey){const De=Ki.C.getZoomLevel(),Ae=ie.deltaY>0?1:-1;Ki.C.setZoomLevel(De+Ae),ie.preventDefault(),ie.stopPropagation()}};this._register(R.nm(this.viewHelper.viewDomNode,R.tw.MOUSE_WHEEL,k,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(129)){const n=this._context.configuration.options.get(129).height;this._height!==n&&(this._height=n,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,n){const C=new v(e,n).toPageCoordinates(),k=$(this.viewHelper.viewDomNode);return C.y<k.y||C.y>k.y+k.height||C.x<k.x||C.x>k.x+k.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),k,C,null)}_createMouseTarget(e,n){let l=e.target;if(!this.viewHelper.viewDomNode.contains(l)){const C=R.Ay(this.viewHelper.viewDomNode);C&&(l=C.elementsFromPoint(e.posx,e.posy).find(k=>this.viewHelper.viewDomNode.contains(k)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,n?l:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)}_onContextMenu(e,n){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,n)})}_onMouseMove(e){this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){const n=this._createMouseTarget(e,!0),l=n.type===6||n.type===7,C=n.type===2||n.type===3||n.type===4,k=n.type===3,Z=this._context.configuration.options.get(97),ie=n.type===8||n.type===5,ce=n.type===9;let De=e.leftButton||e.middleButton;x.dz&&e.leftButton&&e.ctrlKey&&(De=!1);const Ae=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(De&&(l||k&&Z))Ae(),this._mouseDownOperation.start(n.type,e);else if(C)e.preventDefault();else if(ie){const Ue=n.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(Ue.viewZoneId)&&(Ae(),this._mouseDownOperation.start(n.type,e),e.preventDefault())}else ce&&this.viewHelper.shouldSuppressMouseDownOnWidget(n.detail)&&(Ae(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:n})}}Bn.MOUSE_MOVE_MINIMUM_TIME=100;class On extends N.JT{constructor(e,n,l,C,k){super(),this._context=e,this._viewController=n,this._viewHelper=l,this._createMouseTarget=C,this._getMouseColumn=k,this._mouseMoveMonitor=this._register(new ve(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new S._F),this._mouseState=new Zi,this._currentSelection=new T.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const n=this._findMousePosition(e,!0);n&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:n}):this._dispatchMouse(n,!0))}start(e,n){this._lastMouseEvent=n,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(n),this._mouseState.setModifiers(n);const l=this._findMousePosition(n,!0);if(!l||!l.position)return;this._mouseState.trySetCount(n.detail,l.position),n.detail=this._mouseState.count;const C=this._context.configuration.options;if(!C.get(80)&&C.get(31)&&!C.get(18)&&!this._mouseState.altKey&&n.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&l.type===6&&l.position&&this._currentSelection.containsPosition(l.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(n.target,n.buttons,ls(null),k=>this._onMouseDownThenMove(k),k=>{const Z=this._findMousePosition(this._lastMouseEvent,!0);k&&k instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:Z?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(l,n.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(n.target,n.buttons,ls(null),k=>this._onMouseDownThenMove(k),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);e&&(this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0))},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const n=e.editorPos,l=this._context.model,C=this._context.viewLayout,k=this._getMouseColumn(e);if(e.posy<n.y){const ie=Math.max(C.getCurrentScrollTop()-(n.y-e.posy),0),ce=en.getZoneAtCoord(this._context,ie);if(ce){const Ae=this._helpPositionJumpOverViewZone(ce);if(Ae)return new ii(null,13,k,Ae)}const De=C.getLineNumberAtVerticalOffset(ie);return new ii(null,13,k,new Ne.L(De,1))}if(e.posy>n.y+n.height){const ie=C.getCurrentScrollTop()+(e.posy-n.y),ce=en.getZoneAtCoord(this._context,ie);if(ce){const Ae=this._helpPositionJumpOverViewZone(ce);if(Ae)return new ii(null,13,k,Ae)}const De=C.getLineNumberAtVerticalOffset(ie);return new ii(null,13,k,new Ne.L(De,l.getLineMaxColumn(De)))}const Z=C.getLineNumberAtVerticalOffset(C.getCurrentScrollTop()+(e.posy-n.y));return e.posx<n.x?new ii(null,13,k,new Ne.L(Z,1)):e.posx>n.x+n.width?new ii(null,13,k,new Ne.L(Z,l.getLineMaxColumn(Z))):null}_findMousePosition(e,n){const l=this._getPositionOutsideEditor(e);if(l)return l;const C=this._createMouseTarget(e,n);if(!C.position)return null;if(C.type===8||C.type===5){const Z=this._helpPositionJumpOverViewZone(C.detail);if(Z)return new ii(C.element,C.type,C.mouseColumn,Z,null,C.detail)}return C}_helpPositionJumpOverViewZone(e){const n=new Ne.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),l=e.positionBefore,C=e.positionAfter;return l&&C?l.isBefore(n)?l:C:null}_dispatchMouse(e,n){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:n,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class Zi{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,n){const l=new Date().getTime();l-this._lastSetMouseDownCountTime>Zi.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=l,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(n)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=n,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}Zi.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var Mn=c(10161),an=c(81170),$e=c(97295);const Tt=!1;class It{constructor(e,n,l,C,k){this.value=e,this.selectionStart=n,this.selectionEnd=l,this.selectionStartPosition=C,this.selectionEndPosition=k}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(e){return new It(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new It(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,n,l){Tt&&console.log("writeToTextArea "+e+": "+this.toString()),n.setValue(e,this.value),l&&n.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){const C=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,C,-1)}if(e>=this.selectionEnd){const C=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,C,1)}const n=this.value.substring(this.selectionStart,e);if(n.indexOf("\u2026")===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,n,1);const l=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,l,-1)}_finishDeduceEditorPosition(e,n,l){let C=0,k=-1;for(;(k=n.indexOf(`
`,k+1))!==-1;)C++;return[e,l*n.length,C]}static selectedText(e){return new It(e,0,e.length,null,null)}static deduceInput(e,n,l){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};Tt&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+e.toString()),console.log("CURRENT STATE: "+n.toString()));let C=e.value,k=e.selectionStart,Z=e.selectionEnd,ie=n.value,ce=n.selectionStart,De=n.selectionEnd;const Ae=C.substring(Z),Ue=ie.substring(De),Lt=$e.P1(Ae,Ue);ie=ie.substring(0,ie.length-Lt),C=C.substring(0,C.length-Lt);const _t=C.substring(0,k),Bt=ie.substring(0,ce),Xt=$e.Mh(_t,Bt);if(ie=ie.substring(Xt),C=C.substring(Xt),ce-=Xt,k-=Xt,De-=Xt,Z-=Xt,Tt&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+C+">, selectionStart: "+k+", selectionEnd: "+Z),console.log("AFTER DIFFING CURRENT STATE: <"+ie+">, selectionStart: "+ce+", selectionEnd: "+De)),l&&ce===De&&C.length>0){let Di=null;if(ce===ie.length?ie.startsWith(C)&&(Di=ie.substring(C.length)):ie.endsWith(C)&&(Di=ie.substring(0,ie.length-C.length)),Di!==null&&Di.length>0&&(/\uFE0F/.test(Di)||$e.RP(Di)))return{text:Di,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(ce===De){if(C===ie&&k===0&&Z===C.length&&ce===ie.length&&ie.indexOf(`
`)===-1&&$e.xe(ie))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const Di=_t.length-Xt;return Tt&&console.log("REMOVE PREVIOUS: "+(_t.length-Xt)+" chars"),{text:ie,replacePrevCharCnt:Di,replaceNextCharCnt:0,positionDelta:0}}const fi=Z-k;return{text:ie,replacePrevCharCnt:fi,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,n){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(Tt&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+e.toString()),console.log("CURRENT STATE: "+n.toString())),e.value===n.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:n.selectionEnd-e.selectionEnd};const l=Math.min($e.Mh(e.value,n.value),e.selectionEnd),C=Math.min($e.P1(e.value,n.value),e.value.length-e.selectionEnd),k=e.value.substring(l,e.value.length-C),Z=n.value.substring(l,n.value.length-C),ie=e.selectionStart-l,ce=e.selectionEnd-l,De=n.selectionStart-l,Ae=n.selectionEnd-l;return Tt&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+k+">, selectionStart: "+ie+", selectionEnd: "+ce),console.log("AFTER DIFFING CURRENT STATE: <"+Z+">, selectionStart: "+De+", selectionEnd: "+Ae)),{text:Z,replacePrevCharCnt:ce,replaceNextCharCnt:k.length-ce,positionDelta:Ae-Z.length}}}It.EMPTY=new It("",0,0,null,null);class Ge{static _getPageOfLine(e,n){return Math.floor((e-1)/n)}static _getRangeForPage(e,n){const l=e*n,C=l+1,k=l+n;return new Pe.e(C,1,k+1,1)}static fromEditorSelection(e,n,l,C,k){const Z=Ge._getPageOfLine(l.startLineNumber,C),ie=Ge._getRangeForPage(Z,C),ce=Ge._getPageOfLine(l.endLineNumber,C),De=Ge._getRangeForPage(ce,C),Ae=ie.intersectRanges(new Pe.e(1,1,l.startLineNumber,l.startColumn));let Ue=n.getValueInRange(Ae,1);const Lt=n.getLineCount(),_t=n.getLineMaxColumn(Lt),Bt=De.intersectRanges(new Pe.e(l.endLineNumber,l.endColumn,Lt,_t));let Xt=n.getValueInRange(Bt,1),fi;if(Z===ce||Z+1===ce)fi=n.getValueInRange(l,1);else{const Di=ie.intersectRanges(l),Wi=De.intersectRanges(l);fi=n.getValueInRange(Di,1)+"\u2026"+n.getValueInRange(Wi,1)}return k&&(Ue.length>500&&(Ue=Ue.substring(Ue.length-500,Ue.length)),Xt.length>500&&(Xt=Xt.substring(0,500)),fi.length>2*500&&(fi=fi.substring(0,500)+"\u2026"+fi.substring(fi.length-500,fi.length))),new It(Ue+fi+Xt,Ue.length,Ue.length+fi.length,new Ne.L(l.startLineNumber,l.startColumn),new Ne.L(l.endLineNumber,l.endColumn))}}var Xe;(function(Ct){Ct.Tap="-monaco-textarea-synthetic-tap"})(Xe||(Xe={}));const kt={forceCopyWithSyntaxHighlighting:!1};class At{constructor(){this._lastState=null}set(e,n){this._lastState={lastCopiedValue:e,data:n}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}At.INSTANCE=new At;class Jt extends N.JT{constructor(e,n){super(),this.textArea=n,this._onFocus=this._register(new s.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new s.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new s.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new s.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new s.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new s.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new s.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new s.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new s.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new s.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new s.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=e,this._textArea=this._register(new yi(n)),this._asyncTriggerCut=this._register(new S.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new S.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=It.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let l=null;this._register(R.mu(n.domNode,"keydown",ie=>{(ie.keyCode===109||this._isDoingComposition&&ie.keyCode===1)&&ie.stopPropagation(),ie.equals(9)&&ie.preventDefault(),l=ie,this._onKeyDown.fire(ie)})),this._register(R.mu(n.domNode,"keyup",ie=>{this._onKeyUp.fire(ie)})),this._register(R.nm(n.domNode,"compositionstart",ie=>{if(Tt&&console.log("[compositionstart]",ie),!this._isDoingComposition){if(this._isDoingComposition=!0,x.dz&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===ie.data&&(l&&l.equals(109)&&(l.code==="ArrowRight"||l.code==="ArrowLeft")||r.vU)){Tt&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",ie),this._textAreaState=new It(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new Ne.L(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),this._onCompositionStart.fire({revealDeltaColumns:-1});return}if(r.Dt){this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart});return}this._setAndWriteTextAreaState("compositionstart",It.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0})}}));const C=ie=>{const ce=this._textAreaState,De=It.readFromTextArea(this._textArea);return[De,It.deduceInput(ce,De,ie)]},k=()=>{const ie=this._textAreaState,ce=It.readFromTextArea(this._textArea);return[ce,It.deduceAndroidCompositionInput(ie,ce)]},Z=ie=>{const ce=this._textAreaState,De=It.selectedText(ie),Ae={text:De.value,replacePrevCharCnt:ce.selectionEnd-ce.selectionStart,replaceNextCharCnt:0,positionDelta:0};return[De,Ae]};this._register(R.nm(n.domNode,"compositionupdate",ie=>{if(Tt&&console.log("[compositionupdate]",ie),r.Dt){const[Ae,Ue]=k();this._textAreaState=Ae,this._onType.fire(Ue),this._onCompositionUpdate.fire(ie);return}const[ce,De]=Z(ie.data||"");this._textAreaState=ce,this._onType.fire(De),this._onCompositionUpdate.fire(ie)})),this._register(R.nm(n.domNode,"compositionend",ie=>{if(Tt&&console.log("[compositionend]",ie),!this._isDoingComposition)return;if(this._isDoingComposition=!1,r.Dt){const[Ae,Ue]=k();this._textAreaState=Ae,this._onType.fire(Ue),this._onCompositionEnd.fire();return}const[ce,De]=Z(ie.data||"");this._textAreaState=ce,this._onType.fire(De),(r.i7||r.vU)&&(this._textAreaState=It.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()})),this._register(R.nm(n.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[ie,ce]=C(x.dz);ce.replacePrevCharCnt===0&&ce.text.length===1&&$e.ZG(ce.text.charCodeAt(0))||(this._textAreaState=ie,this._nextCommand===0?(ce.text!==""||ce.replacePrevCharCnt!==0)&&this._onType.fire(ce):((ce.text!==""||ce.replacePrevCharCnt!==0)&&this._firePaste(ce.text,null),this._nextCommand=0))})),this._register(R.nm(n.domNode,"cut",ie=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(ie),this._asyncTriggerCut.schedule()})),this._register(R.nm(n.domNode,"copy",ie=>{this._ensureClipboardGetsEditorSelection(ie)})),this._register(R.nm(n.domNode,"paste",ie=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),ai.canUseTextData(ie)){const[ce,De]=ai.getTextData(ie);ce!==""&&this._firePaste(ce,De)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",It.EMPTY),this._nextCommand=1})),this._register(R.nm(n.domNode,"focus",()=>{const ie=this._hasFocus;this._setHasFocus(!0),r.G6&&!ie&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(R.nm(n.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(R.nm(n.domNode,Xe.Tap,()=>{r.Dt&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return R.nm(document,"selectionchange",n=>{if(!this._hasFocus||this._isDoingComposition||!r.i7)return;const l=Date.now(),C=l-e;if(e=l,C<5)return;const k=l-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),k<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const Z=this._textArea.getValue();if(this._textAreaState.value!==Z)return;const ie=this._textArea.getSelectionStart(),ce=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===ie&&this._textAreaState.selectionEnd===ce)return;const De=this._textAreaState.deduceEditorPosition(ie),Ae=this._host.deduceModelPosition(De[0],De[1],De[2]),Ue=this._textAreaState.deduceEditorPosition(ce),Lt=this._host.deduceModelPosition(Ue[0],Ue[1],Ue[2]),_t=new T.Y(Ae.lineNumber,Ae.column,Lt.lineNumber,Lt.column);this._onSelectionChangeRequest.fire(_t)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const e=R.Ay(this.textArea.domNode);e?this._setHasFocus(e.activeElement===this.textArea.domNode):R.Uw(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,n){this._hasFocus||(n=n.collapseSelection()),n.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=n}writeScreenReaderContent(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){const n=this._host.getDataToCopy(ai.canUseTextData(e)),l={version:1,isFromEmptySelection:n.isFromEmptySelection,multicursorText:n.multicursorText,mode:n.mode};if(At.INSTANCE.set(r.vU?n.text.replace(/\r\n/g,`
`):n.text,l),!ai.canUseTextData(e)){this._setAndWriteTextAreaState("copy or cut",It.selectedText(n.text));return}ai.setTextData(e,n.text,n.html,l)}_firePaste(e,n){n||(n=At.INSTANCE.get(e)),this._onPaste.fire({text:e,metadata:n})}}class ai{static canUseTextData(e){return!!e.clipboardData}static getTextData(e){if(e.clipboardData){e.preventDefault();const n=e.clipboardData.getData(an.vW.text);let l=null;const C=e.clipboardData.getData("vscode-editor-data");if(typeof C=="string")try{l=JSON.parse(C),l.version!==1&&(l=null)}catch(k){}return[n,l]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(e,n,l,C){if(e.clipboardData){e.clipboardData.setData(an.vW.text,n),typeof l=="string"&&e.clipboardData.setData("text/html",l),e.clipboardData.setData("vscode-editor-data",JSON.stringify(C)),e.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class yi extends N.JT{constructor(e){super(),this._actual=e,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(e,n){const l=this._actual.domNode;l.value!==n&&(this.setIgnoreSelectionChangeTime("setValue"),l.value=n)}getSelectionStart(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(e,n,l){const C=this._actual.domNode;let k=null;const Z=R.Ay(C);Z?k=Z.activeElement:k=document.activeElement;const ie=k===C,ce=C.selectionStart,De=C.selectionEnd;if(ie&&ce===n&&De===l){r.vU&&window.parent!==window&&C.focus();return}if(ie){this.setIgnoreSelectionChangeTime("setSelectionRange"),C.setSelectionRange(n,l),r.vU&&window.parent!==window&&C.focus();return}try{const Ae=R.vL(C);this.setIgnoreSelectionChangeTime("setSelectionRange"),C.focus(),C.setSelectionRange(n,l),R._0(C,Ae)}catch(Ae){}}}class sn extends Bn{constructor(e,n,l){super(e,n,l),this._register(f.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(R.nm(this.viewHelper.linesContentDomNode,f.t.Tap,k=>this.onTap(k))),this._register(R.nm(this.viewHelper.linesContentDomNode,f.t.Change,k=>this.onChange(k))),this._register(R.nm(this.viewHelper.linesContentDomNode,f.t.Contextmenu,k=>this._onContextMenu(new ee(k,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(R.nm(this.viewHelper.linesContentDomNode,"pointerdown",k=>{const Z=k.pointerType;if(Z==="mouse"){this._lastPointerType="mouse";return}else Z==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const C=new pe(this.viewHelper.viewDomNode);this._register(C.onPointerMoveThrottled(this.viewHelper.viewDomNode,k=>this._onMouseMove(k),ls(this.mouseTargetFactory),Bn.MOUSE_MOVE_MINIMUM_TIME)),this._register(C.onPointerUp(this.viewHelper.viewDomNode,k=>this._onMouseUp(k))),this._register(C.onPointerLeave(this.viewHelper.viewDomNode,k=>this._onMouseLeave(k))),this._register(C.onPointerDown(this.viewHelper.viewDomNode,k=>this._onMouseDown(k)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const n=this._createMouseTarget(new ee(e,this.viewHelper.viewDomNode),!1);n.position&&this.viewController.dispatchMouse({position:n.position,mouseColumn:n.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(e){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e)}}class Ji extends Bn{constructor(e,n,l){super(e,n,l),this._register(f.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(R.nm(this.viewHelper.linesContentDomNode,f.t.Tap,C=>this.onTap(C))),this._register(R.nm(this.viewHelper.linesContentDomNode,f.t.Change,C=>this.onChange(C))),this._register(R.nm(this.viewHelper.linesContentDomNode,f.t.Contextmenu,C=>this._onContextMenu(new ee(C,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const n=this._createMouseTarget(new ee(e,this.viewHelper.viewDomNode),!1);if(n.position){const l=document.createEvent("CustomEvent");l.initEvent(Xe.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(l),this.viewController.moveTo(n.position)}}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}}class Qn extends N.JT{constructor(e,n,l){super(),x.gn&&Mn.D.pointerEvents?this.handler=this._register(new sn(e,n,l)):window.TouchEvent?this.handler=this._register(new Ji(e,n,l)):this.handler=this._register(new Bn(e,n,l))}getTargetAtClientPoint(e,n){return this.handler.getTargetAtClientPoint(e,n)}}class Ui extends xe{}var on=c(27869),wt=c(97781);class ft extends Ui{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new Ne.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(58);const n=e.get(59);this._renderLineNumbers=n.renderType,this._renderCustomLineNumbers=n.renderFn,this._renderFinalNewline=e.get(83);const l=e.get(129);this._lineNumbersLeft=l.lineNumbersLeft,this._lineNumbersWidth=l.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const n=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(n);let l=!1;return this._activeLineNumber!==n.lineNumber&&(this._activeLineNumber=n.lineNumber,l=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(l=!0),l}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const n=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ne.L(e,1));if(n.column!==1)return"";const l=n.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(l);if(this._renderLineNumbers===2){const C=Math.abs(this._lastCursorModelPosition.lineNumber-l);return C===0?'<span class="relative-current-line-number">'+l+"</span>":String(C)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===l||l%10===0?String(l):"":String(l)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const n=x.IJ?this._lineHeight%2===0?" lh-even":" lh-odd":"",l=e.visibleRange.startLineNumber,C=e.visibleRange.endLineNumber,k='<div class="'+ft.CLASS_NAME+n+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',Z=this._context.model.getLineCount(),ie=[];for(let ce=l;ce<=C;ce++){const De=ce-l;if(!this._renderFinalNewline&&ce===Z&&this._context.model.getLineLength(ce)===0){ie[De]="";continue}const Ae=this._getLineRenderLineNumber(ce);Ae?ce===this._activeLineNumber?ie[De]='<div class="active-line-number '+ft.CLASS_NAME+n+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+Ae+"</div>":ie[De]=k+Ae+"</div>":ie[De]=""}this._renderResult=ie}render(e,n){if(!this._renderResult)return"";const l=n-e;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}ft.CLASS_NAME="line-numbers",(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(on.hw);n&&e.addRule(`.monaco-editor .line-numbers { color: ${n}; }`);const l=Ct.getColor(on.DD);l&&e.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${l}; }`)});class xt extends le{constructor(e){super(e);const n=this._context.configuration.options,l=n.get(129);this._canUseLayerHinting=!n.get(28),this._contentLeft=l.contentLeft,this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,this._domNode=(0,w.X)(document.createElement("div")),this._domNode.setClassName(xt.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,w.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(xt.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const n=this._context.configuration.options,l=n.get(129);return this._canUseLayerHinting=!n.get(28),this._contentLeft=l.contentLeft,this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const n=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-n);const l=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(l),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(l)}}xt.CLASS_NAME="glyph-margin",xt.OUTER_CLASS_NAME="margin";var Ve=c(59410),qe=c(49335);class mt{constructor(e,n,l){this._visibleTextAreaBrand=void 0,this.top=e,this.left=n,this.width=l}setWidth(e){return new mt(this.top,this.left,e)}}const ut=r.vU;class ri extends le{constructor(e,n,l){super(e),this._primaryCursorPosition=new Ne.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=n,this._viewHelper=l,this._scrollLeft=0,this._scrollTop=0;const C=this._context.configuration.options,k=C.get(129);this._setAccessibilityOptions(C),this._contentLeft=k.contentLeft,this._contentWidth=k.contentWidth,this._contentHeight=k.height,this._fontInfo=C.get(43),this._lineHeight=C.get(58),this._emptySelectionClipboard=C.get(32),this._copyWithSyntaxHighlighting=C.get(21),this._visibleTextArea=null,this._selections=[new T.Y(1,1,1,1)],this._modelSelections=[new T.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,w.X)(document.createElement("textarea")),Y.write(this.textArea,6),this.textArea.setClassName(`inputarea ${qe.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(C)),this.textArea.setAttribute("tabindex",String(C.get(111))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",X.N("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),C.get(30)&&C.get(80)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,w.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const Z={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:ce=>this._context.model.getLineMaxColumn(ce),getValueInRange:(ce,De)=>this._context.model.getValueInRange(ce,De)},ie={getDataToCopy:ce=>{const De=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,x.ED),Ae=this._context.model.getEOL(),Ue=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),Lt=Array.isArray(De)?De:null,_t=Array.isArray(De)?De.join(Ae):De;let Bt,Xt=null;if(ce&&(kt.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&_t.length<65536)){const fi=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);fi&&(Bt=fi.html,Xt=fi.mode)}return{isFromEmptySelection:Ue,multicursorText:Lt,text:_t,html:Bt,mode:Xt}},getScreenReaderContent:ce=>{if(this._accessibilitySupport===1){if(x.dz){const De=this._selections[0];if(De.isEmpty()){const Ae=De.getStartPosition();let Ue=this._getWordBeforePosition(Ae);if(Ue.length===0&&(Ue=this._getCharacterBeforePosition(Ae)),Ue.length>0)return new It(Ue,Ue.length,Ue.length,Ae,Ae)}}return It.EMPTY}if(r.Dt){const De=this._selections[0];if(De.isEmpty()){const Ae=De.getStartPosition(),[Ue,Lt]=this._getAndroidWordAtPosition(Ae);if(Ue.length>0)return new It(Ue,Lt,Lt,Ae,Ae)}return It.EMPTY}return Ge.fromEditorSelection(ce,Z,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(ce,De,Ae)=>this._context.model.deduceModelPositionRelativeToViewPosition(ce,De,Ae)};this._textAreaInput=this._register(new Jt(ie,this.textArea)),this._register(this._textAreaInput.onKeyDown(ce=>{this._viewController.emitKeyDown(ce)})),this._register(this._textAreaInput.onKeyUp(ce=>{this._viewController.emitKeyUp(ce)})),this._register(this._textAreaInput.onPaste(ce=>{let De=!1,Ae=null,Ue=null;ce.metadata&&(De=this._emptySelectionClipboard&&!!ce.metadata.isFromEmptySelection,Ae=typeof ce.metadata.multicursorText!="undefined"?ce.metadata.multicursorText:null,Ue=ce.metadata.mode),this._viewController.paste(ce.text,De,Ae,Ue)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(ce=>{ce.replacePrevCharCnt||ce.replaceNextCharCnt||ce.positionDelta?(Tt&&console.log(` => compositionType: <<${ce.text}>>, ${ce.replacePrevCharCnt}, ${ce.replaceNextCharCnt}, ${ce.positionDelta}`),this._viewController.compositionType(ce.text,ce.replacePrevCharCnt,ce.replaceNextCharCnt,ce.positionDelta)):(Tt&&console.log(` => type: <<${ce.text}>>`),this._viewController.type(ce.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(ce=>{this._viewController.setSelection(ce)})),this._register(this._textAreaInput.onCompositionStart(ce=>{const De=this._selections[0].startLineNumber,Ae=this._selections[0].startColumn+ce.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new Pe.e(De,Ae,De,Ae),0,1);const Ue=this._viewHelper.visibleRangeForPositionRelativeToEditor(De,Ae);Ue&&(this._visibleTextArea=new mt(this._context.viewLayout.getVerticalOffsetForLineNumber(De),Ue.left,ut?0:1),this._render()),this.textArea.setClassName(`inputarea ${qe.S} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(ce=>{this._visibleTextArea&&(this._visibleTextArea=this._visibleTextArea.setWidth($i(ce.data,this._fontInfo)),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${qe.S}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const n='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',l=this._context.model.getLineContent(e.lineNumber),C=(0,Ve.u)(n);let k=!0,Z=e.column,ie=!0,ce=e.column,De=0;for(;De<50&&(k||ie);){if(k&&Z<=1&&(k=!1),k){const Ae=l.charCodeAt(Z-2);C.get(Ae)!==0?k=!1:Z--}if(ie&&ce>l.length&&(ie=!1),ie){const Ae=l.charCodeAt(ce-1);C.get(Ae)!==0?ie=!1:ce++}De++}return[l.substring(Z-1,ce-1),e.column-Z]}_getWordBeforePosition(e){const n=this._context.model.getLineContent(e.lineNumber),l=(0,Ve.u)(this._context.configuration.options.get(115));let C=e.column,k=0;for(;C>1;){const Z=n.charCodeAt(C-2);if(l.get(Z)!==0||k>50)return n.substring(C-1,e.column-1);k++,C--}return n.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const l=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!$e.ZG(l.charCodeAt(0)))return l}return""}_getAriaLabel(e){return e.get(2)===1?X.N("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",x.IJ?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const n=e.get(3);this._accessibilitySupport===2&&n===et.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=n}onConfigurationChanged(e){const n=this._context.configuration.options,l=n.get(129);return this._setAccessibilityOptions(n),this._contentLeft=l.contentLeft,this._contentWidth=l.contentWidth,this._contentHeight=l.height,this._fontInfo=n.get(43),this._lineHeight=n.get(58),this._emptySelectionClipboard=n.get(32),this._copyWithSyntaxHighlighting=n.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(n)),this.textArea.setAttribute("tabindex",String(n.get(111))),(e.hasChanged(30)||e.hasChanged(80))&&(n.get(30)&&n.get(80)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new Ne.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const n=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(n<0||n>this._contentHeight){this._renderAtTopLeft();return}if(x.dz){this._renderInsideEditor(this._primaryCursorPosition,n,e,ut?0:1,this._lineHeight);return}this._renderInsideEditor(this._primaryCursorPosition,n,e,ut?0:1,ut?0:1)}_renderInsideEditor(e,n,l,C,k){this._lastRenderPosition=e;const Z=this.textArea,ie=this.textAreaCover;D.V.applyFontInfo(Z,this._fontInfo),Z.setTop(n),Z.setLeft(l),Z.setWidth(C),Z.setHeight(k),ie.setTop(0),ie.setLeft(0),ie.setWidth(0),ie.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const e=this.textArea,n=this.textAreaCover;if(D.V.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),n.setTop(0),n.setLeft(0),ut){e.setWidth(0),e.setHeight(0),n.setWidth(0),n.setHeight(0);return}e.setWidth(1),e.setHeight(1),n.setWidth(1),n.setHeight(1);const l=this._context.configuration.options;l.get(49)?n.setClassName("monaco-editor-background textAreaCover "+xt.OUTER_CLASS_NAME):l.get(59).renderType!==0?n.setClassName("monaco-editor-background textAreaCover "+ft.CLASS_NAME):n.setClassName("monaco-editor-background textAreaCover")}}function $i(Ct,e){const l=document.createElement("canvas").getContext("2d");l.font=_i(e);const C=l.measureText(Ct);return r.vU?C.width+2:C.width}function _i(Ct){return Ni("normal",Ct.fontWeight,Ct.fontSize,Ct.lineHeight,Ct.fontFamily)}function Ni(Ct,e,n,l,C){return`${Ct} normal ${e} ${n}px / ${l}px ${C}`}var Gi=c(89495);class hn{constructor(e,n,l,C){this.configuration=e,this.viewModel=n,this.userInputEvents=l,this.commandDelegate=C}paste(e,n,l,C){this.commandDelegate.paste(e,n,l,C)}type(e){this.commandDelegate.type(e)}compositionType(e,n,l,C){this.commandDelegate.compositionType(e,n,l,C)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){Gi.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const n=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<n?new Ne.L(e.lineNumber,n):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const n=this.configuration.options,l=x.IJ&&n.get(95),C=n.get(18);e.middleButton&&!l?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount===2?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):C?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){Gi.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){Gi.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,n,l){e=this._validateViewColumn(e),Gi.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:n,doColumnSelect:l})}_createCursor(e,n){e=this._validateViewColumn(e),Gi.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:n})}_lastCursorMoveToSelect(e){Gi.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){Gi.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){Gi.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){Gi.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){Gi.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){Gi.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){Gi.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){Gi.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){Gi.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class pn{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return pn.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,n){return new Ai(e.element,e.type,e.mouseColumn,e.position?n.convertViewPositionToModelPosition(e.position):null,e.range?n.convertViewRangeToModelRange(e.range):null,e.detail)}}class Ai{constructor(e,n,l,C,k,Z){this.element=e,this.type=n,this.mouseColumn=l,this.position=C,this.range=k,this.detail=Z}toString(){return ii.toString(this)}}var pi=c(50072),_n;class En{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,n){this._lines=n,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const n=e-this._rendLineNumberStart;if(n<0||n>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[n]}onLinesDeleted(e,n){if(this.getCount()===0)return null;const l=this.getStartLineNumber(),C=this.getEndLineNumber();if(n<l){const ce=n-e+1;return this._rendLineNumberStart-=ce,null}if(e>C)return null;let k=0,Z=0;for(let ce=l;ce<=C;ce++){const De=ce-this._rendLineNumberStart;e<=ce&&ce<=n&&(Z===0?(k=De,Z=1):Z++)}if(e<l){let ce=0;n<l?ce=n-e+1:ce=l-e,this._rendLineNumberStart-=ce}return this._lines.splice(k,Z)}onLinesChanged(e,n){if(this.getCount()===0)return!1;const l=this.getStartLineNumber(),C=this.getEndLineNumber();let k=!1;for(let Z=e;Z<=n;Z++)Z>=l&&Z<=C&&(this._lines[Z-this._rendLineNumberStart].onContentChanged(),k=!0);return k}onLinesInserted(e,n){if(this.getCount()===0)return null;const l=n-e+1,C=this.getStartLineNumber(),k=this.getEndLineNumber();if(e<=C)return this._rendLineNumberStart+=l,null;if(e>k)return null;if(l+e>k)return this._lines.splice(e-this._rendLineNumberStart,k-e+1);const Z=[];for(let Ue=0;Ue<l;Ue++)Z[Ue]=this._createLine();const ie=e-this._rendLineNumberStart,ce=this._lines.slice(0,ie),De=this._lines.slice(ie,this._lines.length-l),Ae=this._lines.slice(this._lines.length-l,this._lines.length);return this._lines=ce.concat(Z).concat(De),Ae}onTokensChanged(e){if(this.getCount()===0)return!1;const n=this.getStartLineNumber(),l=this.getEndLineNumber();let C=!1;for(let k=0,Z=e.length;k<Z;k++){const ie=e[k];if(ie.toLineNumber<n||ie.fromLineNumber>l)continue;const ce=Math.max(n,ie.fromLineNumber),De=Math.min(l,ie.toLineNumber);for(let Ae=ce;Ae<=De;Ae++){const Ue=Ae-this._rendLineNumberStart;this._lines[Ue].onTokensChanged(),C=!0}}return C}}class is{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new En(()=>this._host.createVisibleLine())}_createDomNode(){const e=(0,w.X)(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(129)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){const n=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(n)for(let l=0,C=n.length;l<C;l++){const k=n[l].getDomNode();k&&this.domNode.domNode.removeChild(k)}return!0}onLinesInserted(e){const n=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(n)for(let l=0,C=n.length;l<C;l++){const k=n[l].getDomNode();k&&this.domNode.domNode.removeChild(k)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const n=this._linesCollection._get(),l=new ds(this.domNode.domNode,this._host,e),C={rendLineNumberStart:n.rendLineNumberStart,lines:n.lines,linesLength:n.lines.length},k=l.render(C,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(k.rendLineNumberStart,k.lines)}}class ds{constructor(e,n,l){this.domNode=e,this.host=n,this.viewportData=l}render(e,n,l,C){const k={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(k.rendLineNumberStart+k.linesLength-1<n||l<k.rendLineNumberStart){k.rendLineNumberStart=n,k.linesLength=l-n+1,k.lines=[];for(let Z=n;Z<=l;Z++)k.lines[Z-n]=this.host.createVisibleLine();return this._finishRendering(k,!0,C),k}if(this._renderUntouchedLines(k,Math.max(n-k.rendLineNumberStart,0),Math.min(l-k.rendLineNumberStart,k.linesLength-1),C,n),k.rendLineNumberStart>n){const Z=n,ie=Math.min(l,k.rendLineNumberStart-1);Z<=ie&&(this._insertLinesBefore(k,Z,ie,C,n),k.linesLength+=ie-Z+1)}else if(k.rendLineNumberStart<n){const Z=Math.min(k.linesLength,n-k.rendLineNumberStart);Z>0&&(this._removeLinesBefore(k,Z),k.linesLength-=Z)}if(k.rendLineNumberStart=n,k.rendLineNumberStart+k.linesLength-1<l){const Z=k.rendLineNumberStart+k.linesLength,ie=l;Z<=ie&&(this._insertLinesAfter(k,Z,ie,C,n),k.linesLength+=ie-Z+1)}else if(k.rendLineNumberStart+k.linesLength-1>l){const Z=Math.max(0,l-k.rendLineNumberStart+1),ce=k.linesLength-1-Z+1;ce>0&&(this._removeLinesAfter(k,ce),k.linesLength-=ce)}return this._finishRendering(k,!1,C),k}_renderUntouchedLines(e,n,l,C,k){const Z=e.rendLineNumberStart,ie=e.lines;for(let ce=n;ce<=l;ce++){const De=Z+ce;ie[ce].layoutLine(De,C[De-k])}}_insertLinesBefore(e,n,l,C,k){const Z=[];let ie=0;for(let ce=n;ce<=l;ce++)Z[ie++]=this.host.createVisibleLine();e.lines=Z.concat(e.lines)}_removeLinesBefore(e,n){for(let l=0;l<n;l++){const C=e.lines[l].getDomNode();C&&this.domNode.removeChild(C)}e.lines.splice(0,n)}_insertLinesAfter(e,n,l,C,k){const Z=[];let ie=0;for(let ce=n;ce<=l;ce++)Z[ie++]=this.host.createVisibleLine();e.lines=e.lines.concat(Z)}_removeLinesAfter(e,n){const l=e.linesLength-n;for(let C=0;C<n;C++){const k=e.lines[l+C].getDomNode();k&&this.domNode.removeChild(k)}e.lines.splice(l,n)}_finishRenderingNewLines(e,n,l,C){ds._ttPolicy&&(l=ds._ttPolicy.createHTML(l));const k=this.domNode.lastChild;n||!k?this.domNode.innerHTML=l:k.insertAdjacentHTML("afterend",l);let Z=this.domNode.lastChild;for(let ie=e.linesLength-1;ie>=0;ie--){const ce=e.lines[ie];C[ie]&&(ce.setDomNode(Z),Z=Z.previousSibling)}}_finishRenderingInvalidLines(e,n,l){const C=document.createElement("div");ds._ttPolicy&&(n=ds._ttPolicy.createHTML(n)),C.innerHTML=n;for(let k=0;k<e.linesLength;k++){const Z=e.lines[k];if(l[k]){const ie=C.firstChild,ce=Z.getDomNode();ce.parentNode.replaceChild(ie,ce),Z.setDomNode(ie)}}}_finishRendering(e,n,l){const C=ds._sb,k=e.linesLength,Z=e.lines,ie=e.rendLineNumberStart,ce=[];{C.reset();let De=!1;for(let Ae=0;Ae<k;Ae++){const Ue=Z[Ae];ce[Ae]=!1,!(Ue.getDomNode()||!Ue.renderLine(Ae+ie,l[Ae],this.viewportData,C))&&(ce[Ae]=!0,De=!0)}De&&this._finishRenderingNewLines(e,n,C.build(),ce)}{C.reset();let De=!1;const Ae=[];for(let Ue=0;Ue<k;Ue++){const Lt=Z[Ue];Ae[Ue]=!1,!(ce[Ue]||!Lt.renderLine(Ue+ie,l[Ue],this.viewportData,C))&&(Ae[Ue]=!0,De=!0)}De&&this._finishRenderingInvalidLines(e,C.build(),Ae)}}}ds._ttPolicy=(_n=window.trustedTypes)===null||_n===void 0?void 0:_n.createPolicy("editorViewLayer",{createHTML:Ct=>Ct}),ds._sb=(0,pi.l$)(1e5);class Xn extends le{constructor(e){super(e),this._visibleLines=new is(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,n=this._dynamicOverlays.length;e<n;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,n=this._dynamicOverlays.length;e<n;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Rs(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const n=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let C=n;C<=l;C++)this._visibleLines.getVisibleLine(C).onConfigurationChanged(e);return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const n=this._dynamicOverlays.filter(l=>l.shouldRender());for(let l=0,C=n.length;l<C;l++){const k=n[l];k.prepareRender(e),k.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class Rs{constructor(e,n){this._configuration=e,this._lineHeight=this._configuration.options.get(58),this._dynamicOverlays=n,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=(0,w.X)(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(58)}renderLine(e,n,l,C){let k="";for(let Z=0,ie=this._dynamicOverlays.length;Z<ie;Z++){const ce=this._dynamicOverlays[Z];k+=ce.render(l.startLineNumber,e)}return this._renderedContent===k?!1:(this._renderedContent=k,C.appendASCIIString('<div style="position:absolute;top:'),C.appendASCIIString(String(n)),C.appendASCIIString("px;width:100%;height:"),C.appendASCIIString(String(this._lineHeight)),C.appendASCIIString('px;">'),C.appendASCIIString(k),C.appendASCIIString("</div>"),!0)}layoutLine(e,n){this._domNode&&(this._domNode.setTop(n),this._domNode.setHeight(this._lineHeight))}}class Co extends Xn{constructor(e){super(e);const l=this._context.configuration.options.get(129);this._contentWidth=l.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const l=this._context.configuration.options.get(129);return this._contentWidth=l.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class js extends Xn{constructor(e){super(e);const n=this._context.configuration.options,l=n.get(129);this._contentLeft=l.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),D.V.applyFontInfo(this.domNode,n.get(43))}onConfigurationChanged(e){const n=this._context.configuration.options;D.V.applyFontInfo(this.domNode,n.get(43));const l=n.get(129);return this._contentLeft=l.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const n=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(n),this.domNode.setWidth(this._contentLeft)}}class _s{constructor(e,n){this._coordinateBrand=void 0,this.top=e,this.left=n}}class ho extends le{constructor(e,n){super(e),this._viewDomNode=n,this._widgets={},this.domNode=(0,w.X)(document.createElement("div")),Y.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,w.X)(document.createElement("div")),Y.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const n=Object.keys(this._widgets);for(const l of n)this._widgets[l].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const n=Object.keys(this._widgets);for(const l of n)this._widgets[l].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const n=new oo(this._context,this._viewDomNode,e);this._widgets[n.id]=n,n.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(n.domNode):this.domNode.appendChild(n.domNode),this.setShouldRender()}setWidgetPosition(e,n,l){this._widgets[e.getId()].setPosition(n,l),this.setShouldRender()}removeWidget(e){const n=e.getId();if(this._widgets.hasOwnProperty(n)){const l=this._widgets[n];delete this._widgets[n];const C=l.domNode.domNode;C.parentNode.removeChild(C),C.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const n=Object.keys(this._widgets);for(const l of n)this._widgets[l].onBeforeRender(e)}prepareRender(e){const n=Object.keys(this._widgets);for(const l of n)this._widgets[l].prepareRender(e)}render(e){const n=Object.keys(this._widgets);for(const l of n)this._widgets[l].render(e)}}class oo{constructor(e,n,l){this._context=e,this._viewDomNode=n,this._actual=l,this.domNode=(0,w.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const C=this._context.configuration.options,k=C.get(129);this._fixedOverflowWidgets=C.get(36),this._contentWidth=k.contentWidth,this._contentLeft=k.contentLeft,this._lineHeight=C.get(58),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const n=this._context.configuration.options;if(this._lineHeight=n.get(58),e.hasChanged(129)){const l=n.get(129);this._contentLeft=l.contentLeft,this._contentWidth=l.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){const n=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(n.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(n.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(n))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(e,n){this._setPosition(e),this._preference=n,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(e,n,l,C,k){const Z=e.top,ie=Z,ce=n.top+this._lineHeight,De=k.viewportHeight-ce,Ae=Z-C,Ue=ie>=C,Lt=ce,_t=De>=C;let Bt=e.left,Xt=n.left;return Bt+l>k.scrollLeft+k.viewportWidth&&(Bt=k.scrollLeft+k.viewportWidth-l),Xt+l>k.scrollLeft+k.viewportWidth&&(Xt=k.scrollLeft+k.viewportWidth-l),Bt<k.scrollLeft&&(Bt=k.scrollLeft),Xt<k.scrollLeft&&(Xt=k.scrollLeft),{fitsAbove:Ue,aboveTop:Ae,aboveLeft:Bt,fitsBelow:_t,belowTop:Lt,belowLeft:Xt}}_layoutHorizontalSegmentInPage(e,n,l,C){const k=Math.max(0,n.left-C),Z=Math.min(n.left+n.width+C,e.width);let ie=n.left+l-R.DI.scrollX;if(ie+C>Z){const ce=ie-(Z-C);ie-=ce,l-=ce}if(ie<k){const ce=ie-k;ie-=ce,l-=ce}return[l,ie]}_layoutBoxInPage(e,n,l,C,k){const Z=e.top-C,ie=n.top+this._lineHeight,ce=R.i(this._viewDomNode.domNode),De=ce.top+Z-R.DI.scrollY,Ae=ce.top+ie-R.DI.scrollY,Ue=R.D6(document.body),[Lt,_t]=this._layoutHorizontalSegmentInPage(Ue,ce,e.left-k.scrollLeft+this._contentLeft,l),[Bt,Xt]=this._layoutHorizontalSegmentInPage(Ue,ce,n.left-k.scrollLeft+this._contentLeft,l),fi=22,Di=22,Wi=De>=fi,Ti=Ae+C<=Ue.height-Di;return this._fixedOverflowWidgets?{fitsAbove:Wi,aboveTop:Math.max(De,fi),aboveLeft:_t,fitsBelow:Ti,belowTop:Ae,belowLeft:Xt}:{fitsAbove:Wi,aboveTop:Z,aboveLeft:Lt,fitsBelow:Ti,belowTop:ie,belowLeft:Bt}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new _s(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const n=e.linesVisibleRangesForRange(this._viewRange,!1);if(!n||n.length===0)return[null,null];let l=n[0],C=n[0];for(const Ue of n)Ue.lineNumber<l.lineNumber&&(l=Ue),Ue.lineNumber>C.lineNumber&&(C=Ue);let k=1073741824;for(const Ue of l.ranges)Ue.left<k&&(k=Ue.left);let Z=1073741824;for(const Ue of C.ranges)Ue.left<Z&&(Z=Ue.left);const ie=e.getVerticalOffsetForLineNumber(l.lineNumber)-e.scrollTop,ce=new _s(ie,k),De=e.getVerticalOffsetForLineNumber(C.lineNumber)-e.scrollTop,Ae=new _s(De,Z);return[ce,Ae]}_prepareRenderWidget(e){const[n,l]=this._getTopAndBottomLeft(e);if(!n||!l)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let k=null;if(typeof this._actual.beforeRender=="function"&&(k=qs(this._actual.beforeRender,this._actual)),k)this._cachedDomNodeClientWidth=k.width,this._cachedDomNodeClientHeight=k.height;else{const Z=this.domNode.domNode;this._cachedDomNodeClientWidth=Z.clientWidth,this._cachedDomNodeClientHeight=Z.clientHeight}}let C;if(this.allowEditorOverflow?C=this._layoutBoxInPage(n,l,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):C=this._layoutBoxInViewport(n,l,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(let k=1;k<=2;k++)for(const Z of this._preference)if(Z===1){if(!C)return null;if(k===2||C.fitsAbove)return{coordinate:new _s(C.aboveTop,C.aboveLeft),position:1}}else if(Z===2){if(!C)return null;if(k===2||C.fitsBelow)return{coordinate:new _s(C.belowTop,C.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(n),position:0}:{coordinate:n,position:0};return null}onBeforeRender(e){!this._viewRange||!this._preference||this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&qs(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&qs(this._actual.afterRender,this._actual,this._renderData.position)}}function qs(Ct,e,...n){try{return Ct.call(e,...n)}catch(l){return null}}var Es=c(9488);let Fs=!0;class Xs extends Ui{constructor(e){super(),this._context=e;const n=this._context.configuration.options,l=n.get(129);this._lineHeight=n.get(58),this._renderLineHighlight=n.get(84),this._renderLineHighlightOnlyWhenFocus=n.get(85),this._contentLeft=l.contentLeft,this._contentWidth=l.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new T.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const n=Fs?this._selections.slice(0,1):this._selections,l=n.map(k=>k.positionLineNumber);l.sort((k,Z)=>k-Z),Es.fS(this._cursorLineNumbers,l)||(this._cursorLineNumbers=l,e=!0);const C=n.every(k=>k.isEmpty());return this._selectionIsEmpty!==C&&(this._selectionIsEmpty=C,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const n=this._context.configuration.options,l=n.get(129);return this._lineHeight=n.get(58),this._renderLineHighlight=n.get(84),this._renderLineHighlightOnlyWhenFocus=n.get(85),this._contentLeft=l.contentLeft,this._contentWidth=l.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const n=this._renderOne(e),l=e.visibleRange.startLineNumber,C=e.visibleRange.endLineNumber,k=this._cursorLineNumbers.length;let Z=0;const ie=[];for(let ce=l;ce<=C;ce++){const De=ce-l;for(;Z<k&&this._cursorLineNumbers[Z]<ce;)Z++;Z<k&&this._cursorLineNumbers[Z]===ce?ie[De]=n:ie[De]=""}this._renderData=ie}render(e,n){if(!this._renderData)return"";const l=n-e;return l>=this._renderData.length?"":this._renderData[l]}}class ro extends Xs{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Ys extends Xs{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}(0,wt.Ic)((Ct,e)=>{Fs=!1;const n=Ct.getColor(on.Kh);if(n&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${n}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${n}; border: none; }`)),!n||n.isTransparent()||Ct.defines(on.Mm)){const l=Ct.getColor(on.Mm);l&&(Fs=!0,e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${l}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${l}; }`),Ct.type==="hc"&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});class $s extends Ui{constructor(e){super(),this._context=e;const n=this._context.configuration.options;this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options;return this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const n=e.getDecorationsInViewport();let l=[],C=0;for(let ce=0,De=n.length;ce<De;ce++){const Ae=n[ce];Ae.options.className&&(l[C++]=Ae)}l=l.sort((ce,De)=>{if(ce.options.zIndex<De.options.zIndex)return-1;if(ce.options.zIndex>De.options.zIndex)return 1;const Ae=ce.options.className,Ue=De.options.className;return Ae<Ue?-1:Ae>Ue?1:Pe.e.compareRangesUsingStarts(ce.range,De.range)});const k=e.visibleRange.startLineNumber,Z=e.visibleRange.endLineNumber,ie=[];for(let ce=k;ce<=Z;ce++){const De=ce-k;ie[De]=""}this._renderWholeLineDecorations(e,l,ie),this._renderNormalDecorations(e,l,ie),this._renderResult=ie}_renderWholeLineDecorations(e,n,l){const C=String(this._lineHeight),k=e.visibleRange.startLineNumber,Z=e.visibleRange.endLineNumber;for(let ie=0,ce=n.length;ie<ce;ie++){const De=n[ie];if(!De.options.isWholeLine)continue;const Ae='<div class="cdr '+De.options.className+'" style="left:0;width:100%;height:'+C+'px;"></div>',Ue=Math.max(De.range.startLineNumber,k),Lt=Math.min(De.range.endLineNumber,Z);for(let _t=Ue;_t<=Lt;_t++){const Bt=_t-k;l[Bt]+=Ae}}}_renderNormalDecorations(e,n,l){const C=String(this._lineHeight),k=e.visibleRange.startLineNumber;let Z=null,ie=!1,ce=null;for(let De=0,Ae=n.length;De<Ae;De++){const Ue=n[De];if(Ue.options.isWholeLine)continue;const Lt=Ue.options.className,_t=!!Ue.options.showIfCollapsed;let Bt=Ue.range;if(_t&&Bt.endColumn===1&&Bt.endLineNumber!==Bt.startLineNumber&&(Bt=new Pe.e(Bt.startLineNumber,Bt.startColumn,Bt.endLineNumber-1,this._context.model.getLineMaxColumn(Bt.endLineNumber-1))),Z===Lt&&ie===_t&&Pe.e.areIntersectingOrTouching(ce,Bt)){ce=Pe.e.plusRange(ce,Bt);continue}Z!==null&&this._renderNormalDecoration(e,ce,Z,ie,C,k,l),Z=Lt,ie=_t,ce=Bt}Z!==null&&this._renderNormalDecoration(e,ce,Z,ie,C,k,l)}_renderNormalDecoration(e,n,l,C,k,Z,ie){const ce=e.linesVisibleRangesForRange(n,l==="findMatch");if(ce)for(let De=0,Ae=ce.length;De<Ae;De++){const Ue=ce[De];if(Ue.outsideRenderedLine)continue;const Lt=Ue.lineNumber-Z;if(C&&Ue.ranges.length===1){const _t=Ue.ranges[0];_t.width===0&&(Ue.ranges[0]=new m(_t.left,this._typicalHalfwidthCharacterWidth))}for(let _t=0,Bt=Ue.ranges.length;_t<Bt;_t++){const Xt=Ue.ranges[_t],fi='<div class="cdr '+l+'" style="left:'+String(Xt.left)+"px;width:"+String(Xt.width)+"px;height:"+k+'px;"></div>';ie[Lt]+=fi}}}render(e,n){if(!this._renderResult)return"";const l=n-e;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}var mo=c(13433),Jn=c(73910);class po extends le{constructor(e,n,l,C){super(e);const k=this._context.configuration.options,Z=k.get(91),ie=k.get(66),ce=k.get(34),De=k.get(94),Ae={listenOnDomNode:l.domNode,className:"editor-scrollable "+(0,wt.m6)(e.theme.type),useShadows:!1,lazyRender:!0,vertical:Z.vertical,horizontal:Z.horizontal,verticalHasArrows:Z.verticalHasArrows,horizontalHasArrows:Z.horizontalHasArrows,verticalScrollbarSize:Z.verticalScrollbarSize,verticalSliderSize:Z.verticalSliderSize,horizontalScrollbarSize:Z.horizontalScrollbarSize,horizontalSliderSize:Z.horizontalSliderSize,handleMouseWheel:Z.handleMouseWheel,alwaysConsumeMouseWheel:Z.alwaysConsumeMouseWheel,arrowSize:Z.arrowSize,mouseWheelScrollSensitivity:ie,fastScrollSensitivity:ce,scrollPredominantAxis:De,scrollByPage:Z.scrollByPage};this.scrollbar=this._register(new mo.$Z(n.domNode,Ae,this._context.viewLayout.getScrollable())),Y.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,w.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const Ue=(Lt,_t,Bt)=>{const Xt={};if(_t){const fi=Lt.scrollTop;fi&&(Xt.scrollTop=this._context.viewLayout.getCurrentScrollTop()+fi,Lt.scrollTop=0)}if(Bt){const fi=Lt.scrollLeft;fi&&(Xt.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+fi,Lt.scrollLeft=0)}this._context.model.setScrollPosition(Xt,1)};this._register(R.nm(l.domNode,"scroll",Lt=>Ue(l.domNode,!0,!0))),this._register(R.nm(n.domNode,"scroll",Lt=>Ue(n.domNode,!0,!1))),this._register(R.nm(C.domNode,"scroll",Lt=>Ue(C.domNode,!0,!1))),this._register(R.nm(this.scrollbarDomNode.domNode,"scroll",Lt=>Ue(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,n=e.get(129);this.scrollbarDomNode.setLeft(n.contentLeft),e.get(64).side==="right"?this.scrollbarDomNode.setWidth(n.contentWidth+n.minimap.minimapWidth):this.scrollbarDomNode.setWidth(n.contentWidth),this.scrollbarDomNode.setHeight(n.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(91)||e.hasChanged(66)||e.hasChanged(34)){const n=this._context.configuration.options,l=n.get(91),C=n.get(66),k=n.get(34),Z=n.get(94),ie={vertical:l.vertical,horizontal:l.horizontal,verticalScrollbarSize:l.verticalScrollbarSize,horizontalScrollbarSize:l.horizontalScrollbarSize,scrollByPage:l.scrollByPage,handleMouseWheel:l.handleMouseWheel,mouseWheelScrollSensitivity:C,fastScrollSensitivity:k,scrollPredominantAxis:Z};this.scrollbar.updateOptions(ie)}return e.hasChanged(129)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+(0,wt.m6)(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(Jn._w);n&&e.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${n} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${n} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${n} 6px 6px 6px -6px inset;
			}
		`);const l=Ct.getColor(Jn.et);l&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${l};
			}
		`);const C=Ct.getColor(Jn.AB);C&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${C};
			}
		`);const k=Ct.getColor(Jn.yn);k&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${k};
			}
		`)});class os{constructor(e,n,l){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+n,this.className=String(l)}}class jn extends Ui{_render(e,n,l){const C=[];for(let ie=e;ie<=n;ie++){const ce=ie-e;C[ce]=[]}if(l.length===0)return C;l.sort((ie,ce)=>ie.className===ce.className?ie.startLineNumber===ce.startLineNumber?ie.endLineNumber-ce.endLineNumber:ie.startLineNumber-ce.startLineNumber:ie.className<ce.className?-1:1);let k=null,Z=0;for(let ie=0,ce=l.length;ie<ce;ie++){const De=l[ie],Ae=De.className;let Ue=Math.max(De.startLineNumber,e)-e;const Lt=Math.min(De.endLineNumber,n)-e;k===Ae?(Ue=Math.max(Z+1,Ue),Z=Math.max(Z,Lt)):(k=Ae,Z=Lt);for(let _t=Ue;_t<=Z;_t++)C[_t].push(k)}return C}}class ao extends jn{constructor(e){super(),this._context=e;const n=this._context.configuration.options,l=n.get(129);this._lineHeight=n.get(58),this._glyphMargin=n.get(49),this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options,l=n.get(129);return this._lineHeight=n.get(58),this._glyphMargin=n.get(49),this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const n=e.getDecorationsInViewport();let l=[],C=0;for(let k=0,Z=n.length;k<Z;k++){const ie=n[k],ce=ie.options.glyphMarginClassName;ce&&(l[C++]=new os(ie.range.startLineNumber,ie.range.endLineNumber,ce))}return l}prepareRender(e){if(!this._glyphMargin){this._renderResult=null;return}const n=e.visibleRange.startLineNumber,l=e.visibleRange.endLineNumber,C=this._render(n,l,this._getDecorations(e)),k=this._lineHeight.toString(),Z=this._glyphMarginLeft.toString(),ie=this._glyphMarginWidth.toString(),ce='" style="left:'+Z+"px;width:"+ie+"px;height:"+k+'px;"></div>',De=[];for(let Ae=n;Ae<=l;Ae++){const Ue=Ae-n,Lt=C[Ue];Lt.length===0?De[Ue]="":De[Ue]='<div class="cgmr codicon '+Lt.join(" ")+ce}this._renderResult=De}render(e,n){if(!this._renderResult)return"";const l=n-e;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}var es=c(84973),eo=c(24979),xs=c(98401);class io extends Ui{constructor(e){super(),this._context=e,this._primaryPosition=null;const n=this._context.configuration.options,l=n.get(130),C=n.get(43);this._lineHeight=n.get(58),this._spaceWidth=C.spaceWidth,this._maxIndentLeft=l.wrappingColumn===-1?-1:l.wrappingColumn*C.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=n.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options,l=n.get(130),C=n.get(43);return this._lineHeight=n.get(58),this._spaceWidth=C.spaceWidth,this._maxIndentLeft=l.wrappingColumn===-1?-1:l.wrappingColumn*C.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=n.get(13),!0}onCursorStateChanged(e){var n;const C=e.selections[0].getPosition();return!((n=this._primaryPosition)===null||n===void 0)&&n.equals(C)?!1:(this._primaryPosition=C,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var n,l,C,k;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const Z=e.visibleRange.startLineNumber,ie=e.visibleRange.endLineNumber,ce=e.scrollWidth,De=this._lineHeight,Ae=this._primaryPosition,Ue=this.getGuidesByLine(Z,ie,Ae),Lt=[];for(let _t=Z;_t<=ie;_t++){const Bt=_t-Z,Xt=Ue[Bt];let fi="";const Di=(l=(n=e.visibleRangeForPosition(new Ne.L(_t,1)))===null||n===void 0?void 0:n.left)!==null&&l!==void 0?l:0;for(const Wi of Xt){const Ti=Di+(Wi.visibleColumn-1)*this._spaceWidth;if(Ti>ce||this._maxIndentLeft>0&&Ti>this._maxIndentLeft)break;const Yi=Wi.horizontalLine?Wi.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",Pi=Wi.horizontalLine?((k=(C=e.visibleRangeForPosition(new Ne.L(_t,Wi.horizontalLine.endColumn)))===null||C===void 0?void 0:C.left)!==null&&k!==void 0?k:Ti+this._spaceWidth)-Ti:this._spaceWidth;fi+=`<div class="core-guide ${Wi.className} ${Yi}" style="left:${Ti}px;height:${De}px;width:${Pi}px"></div>`}Lt[Bt]=fi}this._renderResult=Lt}getGuidesByLine(e,n,l){const C=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.model.getBracketGuidesInRangeByLine(e,n,l,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?es.s6.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?es.s6.EnabledForActive:es.s6.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,k=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(e,n):null;let Z=0,ie=0,ce=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&l){const Ue=this._context.model.getActiveIndentGuide(l.lineNumber,e,n);Z=Ue.startLineNumber,ie=Ue.endLineNumber,ce=Ue.indent}const{indentSize:De}=this._context.model.getTextModelOptions(),Ae=[];for(let Ue=e;Ue<=n;Ue++){const Lt=new Array;Ae.push(Lt);const _t=C?C[Ue-e]:[],Bt=new Es.H9(_t),Xt=k?k[Ue-e]:[];for(let fi=1;fi<=Xt;fi++){const Di=(fi-1)*De+1,Wi=_t.length===0&&Z<=Ue&&Ue<=ie&&fi===ce;Lt.push(...Bt.takeWhile(Yi=>Yi.visibleColumn<Di)||[]);const Ti=Bt.peek();(!Ti||Ti.visibleColumn!==Di||Ti.horizontalLine)&&Lt.push(new es.UO(Di,Wi?"core-guide-indent-active":"core-guide-indent",null))}Lt.push(...Bt.takeWhile(fi=>!0)||[])}return Ae}render(e,n){if(!this._renderResult)return"";const l=n-e;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}function mi(Ct){if(!(Ct&&Ct.isTransparent()))return Ct}(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(on.tR);n&&e.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${n} inset; }`);const l=Ct.getColor(on.Ym)||n;l&&e.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${l} inset; }`);const C=[{bracketColor:on.zJ,guideColor:on.oV,guideColorActive:on.Qb},{bracketColor:on.Vs,guideColor:on.m$,guideColorActive:on.m3},{bracketColor:on.CE,guideColor:on.DS,guideColorActive:on.To},{bracketColor:on.UP,guideColor:on.lS,guideColorActive:on.L7},{bracketColor:on.r0,guideColor:on.Jn,guideColorActive:on.HV},{bracketColor:on.m1,guideColor:on.YF,guideColorActive:on.f9}],k=new eo.WE;let Z=C.map(ie=>{var ce,De;const Ae=Ct.getColor(ie.bracketColor),Ue=Ct.getColor(ie.guideColor),Lt=Ct.getColor(ie.guideColorActive),_t=mi((ce=mi(Ue))!==null&&ce!==void 0?ce:Ae==null?void 0:Ae.transparent(.3)),Bt=mi((De=mi(Lt))!==null&&De!==void 0?De:Ae);if(!(!_t||!Bt))return{guideColor:_t,guideColorActive:Bt}}).filter(xs.$K);if(Z.length>0){for(let ie=0;ie<30;ie++){const ce=Z[ie%Z.length];e.addRule(`.monaco-editor .${k.getInlineClassNameOfLevel(ie).replace(/ /g,".")} { --guide-color: ${ce.guideColor}; --guide-color-active: ${ce.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${k.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${k.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${k.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});class ge{constructor(){this._currentVisibleRange=new Pe.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class ct{constructor(e,n,l,C,k,Z){this.lineNumber=e,this.startColumn=n,this.endColumn=l,this.startScrollTop=C,this.stopScrollTop=k,this.scrollType=Z,this.type="range",this.minLineNumber=e,this.maxLineNumber=e}}class gt{constructor(e,n,l,C){this.selections=e,this.startScrollTop=n,this.stopScrollTop=l,this.scrollType=C,this.type="selections";let k=e[0].startLineNumber,Z=e[0].endLineNumber;for(let ie=1,ce=e.length;ie<ce;ie++){const De=e[ie];k=Math.min(k,De.startLineNumber),Z=Math.max(Z,De.endLineNumber)}this.minLineNumber=k,this.maxLineNumber=Z}}class Wt extends le{constructor(e,n){super(e),this._linesContent=n,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new is(this),this.domNode=this._visibleLines.domNode;const l=this._context.configuration,C=this._context.configuration.options,k=C.get(43),Z=C.get(130);this._lineHeight=C.get(58),this._typicalHalfwidthCharacterWidth=k.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Z.isViewportWrapping,this._revealHorizontalRightPadding=C.get(88),this._cursorSurroundingLines=C.get(25),this._cursorSurroundingLinesStyle=C.get(26),this._canUseLayerHinting=!C.get(28),this._viewLineOptions=new Je(l,this._context.theme.type),Y.write(this.domNode,7),this.domNode.setClassName(`view-lines ${qe.S}`),D.V.applyFontInfo(this.domNode,k),this._maxLineWidth=0,this._asyncUpdateLineWidths=new S.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new S.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new ge,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new tt(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(130)&&(this._maxLineWidth=0);const n=this._context.configuration.options,l=n.get(43),C=n.get(130);return this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._isViewportWrapping=C.isViewportWrapping,this._revealHorizontalRightPadding=n.get(88),this._cursorSurroundingLines=n.get(25),this._cursorSurroundingLinesStyle=n.get(26),this._canUseLayerHinting=!n.get(28),D.V.applyFontInfo(this.domNode,l),this._onOptionsMaybeChanged(),e.hasChanged(129)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,n=new Je(e,this._context.theme.type);if(!this._viewLineOptions.equals(n)){this._viewLineOptions=n;const l=this._visibleLines.getStartLineNumber(),C=this._visibleLines.getEndLineNumber();for(let k=l;k<=C;k++)this._visibleLines.getVisibleLine(k).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const n=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();let C=!1;for(let k=n;k<=l;k++)C=this._visibleLines.getVisibleLine(k).onSelectionChanged()||C;return C}onDecorationsChanged(e){{const n=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let C=n;C<=l;C++)this._visibleLines.getVisibleLine(C).onDecorationsChanged()}return!0}onFlushed(e){const n=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,n}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const n=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.selections,e.verticalType);if(n===-1)return!1;let l=this._context.viewLayout.validateScrollPosition({scrollTop:n});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?l={scrollTop:l.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new ct(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),l.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new gt(e.selections,this._context.viewLayout.getCurrentScrollTop(),l.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const k=Math.abs(this._context.viewLayout.getCurrentScrollTop()-l.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.model.setScrollPosition(l,k),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const n=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),l=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<n||e.scrollTop>l)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,n){const l=this._getViewLineDomNode(e);if(l===null)return null;const C=this._getLineNumberFor(l);if(C===-1||C<1||C>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(C)===1)return new Ne.L(C,1);const k=this._visibleLines.getStartLineNumber(),Z=this._visibleLines.getEndLineNumber();if(C<k||C>Z)return null;let ie=this._visibleLines.getVisibleLine(C).getColumnOfNodeOffset(C,e,n);const ce=this._context.model.getLineMinColumn(C);return ie<ce&&(ie=ce),new Ne.L(C,ie)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===tt.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const n=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let C=n;C<=l;C++){const k=this._visibleLines.getVisibleLine(C);if(e===k.getDomNode())return C}return-1}getLineWidth(e){const n=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();return e<n||e>l?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,n){if(this.shouldRender())return null;const l=e.endLineNumber,C=Pe.e.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!C)return null;let k=[],Z=0;const ie=new Mt(this.domNode.domNode,this._textRangeRestingSpot);let ce=0;n&&(ce=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ne.L(C.startLineNumber,1)).lineNumber);const De=this._visibleLines.getStartLineNumber(),Ae=this._visibleLines.getEndLineNumber();for(let Ue=C.startLineNumber;Ue<=C.endLineNumber;Ue++){if(Ue<De||Ue>Ae)continue;const Lt=Ue===C.startLineNumber?C.startColumn:1,_t=Ue===C.endLineNumber?C.endColumn:this._context.model.getLineMaxColumn(Ue),Bt=this._visibleLines.getVisibleLine(Ue).getVisibleRangesForRange(Ue,Lt,_t,ie);if(Bt){if(n&&Ue<l){const Xt=ce;ce=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ne.L(Ue+1,1)).lineNumber,Xt!==ce&&(Bt.ranges[Bt.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}k[Z++]=new q(Bt.outsideRenderedLine,Ue,m.from(Bt.ranges))}}return Z===0?null:k}_visibleRangesForLineRange(e,n,l){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,n,l,new Mt(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const n=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return n?new F(n.outsideRenderedLine,n.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const n=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();let C=1,k=!0;for(let Z=n;Z<=l;Z++){const ie=this._visibleLines.getVisibleLine(Z);if(e&&!ie.getWidthIsFast()){k=!1;continue}C=Math.max(C,ie.getWidth())}return k&&n===1&&l===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(C),k}_checkMonospaceFontAssumptions(){let e=-1,n=-1;const l=this._visibleLines.getStartLineNumber(),C=this._visibleLines.getEndLineNumber();for(let k=l;k<=C;k++){const Z=this._visibleLines.getVisibleLine(k);if(Z.needsMonospaceFontCheck()){const ie=Z.getWidth();ie>n&&(n=ie,e=k)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let k=l;k<=C;k++)this._visibleLines.getVisibleLine(k).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const l=this._horizontalRevealRequest;if(e.startLineNumber<=l.minLineNumber&&l.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const C=this._computeScrollLeftToReveal(l);C&&(this._isViewportWrapping||this._ensureMaxLineWidth(C.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:C.scrollLeft},l.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),x.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const l=this._visibleLines.getStartLineNumber(),C=this._visibleLines.getEndLineNumber();for(let k=l;k<=C;k++)if(this._visibleLines.getVisibleLine(k).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const n=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-n),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const n=Math.ceil(e);this._maxLineWidth<n&&(this._maxLineWidth=n,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,n,l,C,k){const Z=e.top,ie=e.height,ce=Z+ie;let De,Ae,Ue;if(C&&C.length>0){let Bt=C[0].startLineNumber,Xt=C[0].endLineNumber;for(let fi=1,Di=C.length;fi<Di;fi++){const Wi=C[fi];Bt=Math.min(Bt,Wi.startLineNumber),Xt=Math.max(Xt,Wi.endLineNumber)}De=!1,Ae=this._context.viewLayout.getVerticalOffsetForLineNumber(Bt),Ue=this._context.viewLayout.getVerticalOffsetForLineNumber(Xt)+this._lineHeight}else if(l)De=!0,Ae=this._context.viewLayout.getVerticalOffsetForLineNumber(l.startLineNumber),Ue=this._context.viewLayout.getVerticalOffsetForLineNumber(l.endLineNumber)+this._lineHeight;else return-1;if(!(n==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const Bt=Math.min(ie/this._lineHeight/2,this._cursorSurroundingLines);Ae-=Bt*this._lineHeight,Ue+=Math.max(0,Bt-1)*this._lineHeight}(k===0||k===4)&&(Ue+=this._lineHeight);let _t;if(Ue-Ae>ie){if(!De)return-1;_t=Ae}else if(k===5||k===6)if(k===6&&Z<=Ae&&Ue<=ce)_t=Z;else{const Bt=Math.max(5*this._lineHeight,ie*.2),Xt=Ae-Bt,fi=Ue-ie;_t=Math.max(fi,Xt)}else if(k===1||k===2)if(k===2&&Z<=Ae&&Ue<=ce)_t=Z;else{const Bt=(Ae+Ue)/2;_t=Math.max(0,Bt-ie/2)}else _t=this._computeMinimumScrolling(Z,ce,Ae,Ue,k===3,k===4);return _t}_computeScrollLeftToReveal(e){const n=this._context.viewLayout.getCurrentViewport(),l=n.left,C=l+n.width;let k=1073741824,Z=0;if(e.type==="range"){const ce=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!ce)return null;for(const De of ce.ranges)k=Math.min(k,Math.round(De.left)),Z=Math.max(Z,Math.round(De.left+De.width))}else for(const ce of e.selections){if(ce.startLineNumber!==ce.endLineNumber)return null;const De=this._visibleRangesForLineRange(ce.startLineNumber,ce.startColumn,ce.endColumn);if(!De)return null;for(const Ae of De.ranges)k=Math.min(k,Math.round(Ae.left)),Z=Math.max(Z,Math.round(Ae.left+Ae.width))}return k=Math.max(0,k-Wt.HORIZONTAL_EXTRA_PX),Z+=this._revealHorizontalRightPadding,e.type==="selections"&&Z-k>n.width?null:{scrollLeft:this._computeMinimumScrolling(l,C,k,Z),maxHorizontalOffset:Z}}_computeMinimumScrolling(e,n,l,C,k,Z){e=e|0,n=n|0,l=l|0,C=C|0,k=!!k,Z=!!Z;const ie=n-e;if(C-l<ie){if(k)return l;if(Z)return Math.max(0,C-ie);if(l<e)return l;if(C>n)return Math.max(0,C-ie)}else return l;return e}}Wt.HORIZONTAL_EXTRA_PX=30;class ti extends jn{constructor(e){super(),this._context=e;const l=this._context.configuration.options.get(129);this._decorationsLeft=l.decorationsLeft,this._decorationsWidth=l.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const l=this._context.configuration.options.get(129);return this._decorationsLeft=l.decorationsLeft,this._decorationsWidth=l.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const n=e.getDecorationsInViewport();let l=[],C=0;for(let k=0,Z=n.length;k<Z;k++){const ie=n[k],ce=ie.options.linesDecorationsClassName;ce&&(l[C++]=new os(ie.range.startLineNumber,ie.range.endLineNumber,ce));const De=ie.options.firstLineDecorationClassName;De&&(l[C++]=new os(ie.range.startLineNumber,ie.range.startLineNumber,De))}return l}prepareRender(e){const n=e.visibleRange.startLineNumber,l=e.visibleRange.endLineNumber,C=this._render(n,l,this._getDecorations(e)),k=this._decorationsLeft.toString(),Z=this._decorationsWidth.toString(),ie='" style="left:'+k+"px;width:"+Z+'px;"></div>',ce=[];for(let De=n;De<=l;De++){const Ae=De-n,Ue=C[Ae];let Lt="";for(let _t=0,Bt=Ue.length;_t<Bt;_t++)Lt+='<div class="cldr '+Ue[_t]+ie;ce[Ae]=Lt}this._renderResult=ce}render(e,n){return this._renderResult?this._renderResult[n-e]:""}}class Si extends jn{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const n=e.getDecorationsInViewport();let l=[],C=0;for(let k=0,Z=n.length;k<Z;k++){const ie=n[k],ce=ie.options.marginClassName;ce&&(l[C++]=new os(ie.range.startLineNumber,ie.range.endLineNumber,ce))}return l}prepareRender(e){const n=e.visibleRange.startLineNumber,l=e.visibleRange.endLineNumber,C=this._render(n,l,this._getDecorations(e)),k=[];for(let Z=n;Z<=l;Z++){const ie=Z-n,ce=C[ie];let De="";for(let Ae=0,Ue=ce.length;Ae<Ue;Ae++)De+='<div class="cmdr '+ce[Ae]+'" style=""></div>';k[ie]=De}this._renderResult=k}render(e,n){return this._renderResult?this._renderResult[n-e]:""}}class hi{constructor(e,n,l,C){this._rgba8Brand=void 0,this.r=hi._clamp(e),this.g=hi._clamp(n),this.b=hi._clamp(l),this.a=hi._clamp(C)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}}hi.Empty=new hi(0,0,0,0);var Yt=c(10351);class Vi extends N.JT{constructor(){super(),this._onDidChange=new s.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Yt.RW.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,N.dk)(new Vi)),this._INSTANCE}_updateColorMap(){const e=Yt.RW.getColorMap();if(!e){this._colors=[hi.Empty],this._backgroundIsLight=!0;return}this._colors=[hi.Empty];for(let l=1;l<e.length;l++){const C=e[l].rgba;this._colors[l]=new hi(C.r,C.g,C.b,Math.round(C.a*255))}let n=e[2].getRelativeLuminance();this._backgroundIsLight=n>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}Vi._INSTANCE=null;var Li=c(13824);const Pn=(()=>{const Ct=[];for(let e=32;e<=126;e++)Ct.push(e);return Ct.push(65533),Ct})(),Nt=(Ct,e)=>(Ct-=32,Ct<0||Ct>96?e<=2?(Ct+96)%96:95:Ct);var W=c(85427);class re{constructor(e,n){this.scale=n,this._minimapCharRendererBrand=void 0,this.charDataNormal=re.soften(e,12/15),this.charDataLight=re.soften(e,50/60)}static soften(e,n){let l=new Uint8ClampedArray(e.length);for(let C=0,k=e.length;C<k;C++)l[C]=(0,W.K)(e[C]*n);return l}renderChar(e,n,l,C,k,Z,ie,ce,De,Ae,Ue){const Lt=1*this.scale,_t=2*this.scale,Bt=Ue?1:_t;if(n+Lt>e.width||l+Bt>e.height){console.warn("bad render request outside image data");return}const Xt=Ae?this.charDataLight:this.charDataNormal,fi=Nt(C,De),Di=e.width*4,Wi=ie.r,Ti=ie.g,Yi=ie.b,Pi=k.r-Wi,Dn=k.g-Ti,vn=k.b-Yi,Qi=Math.max(Z,ce),mn=e.data;let Sn=fi*Lt*_t,Un=l*Di+n*4;for(let Qs=0;Qs<Bt;Qs++){let no=Un;for(let Ks=0;Ks<Lt;Ks++){const Ps=Xt[Sn++]/255*(Z/255);mn[no++]=Wi+Pi*Ps,mn[no++]=Ti+Dn*Ps,mn[no++]=Yi+vn*Ps,mn[no++]=Qi}Un+=Di}}blockRenderChar(e,n,l,C,k,Z,ie,ce){const De=1*this.scale,Ae=2*this.scale,Ue=ce?1:Ae;if(n+De>e.width||l+Ue>e.height){console.warn("bad render request outside image data");return}const Lt=e.width*4,_t=.5*(k/255),Bt=Z.r,Xt=Z.g,fi=Z.b,Di=C.r-Bt,Wi=C.g-Xt,Ti=C.b-fi,Yi=Bt+Di*_t,Pi=Xt+Wi*_t,Dn=fi+Ti*_t,vn=Math.max(k,ie),Qi=e.data;let mn=l*Lt+n*4;for(let Sn=0;Sn<Ue;Sn++){let Un=mn;for(let Qs=0;Qs<De;Qs++)Qi[Un++]=Yi,Qi[Un++]=Pi,Qi[Un++]=Dn,Qi[Un++]=vn;mn+=Lt}}}var Te=c(88289);const Ye={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},bt=Ct=>{const e=new Uint8ClampedArray(Ct.length/2);for(let n=0;n<Ct.length;n+=2)e[n>>1]=Ye[Ct[n]]<<4|Ye[Ct[n+1]]&15;return e},$t={1:(0,Te.I)(()=>bt("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,Te.I)(()=>bt("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class si{static create(e,n){if(this.lastCreated&&e===this.lastCreated.scale&&n===this.lastFontFamily)return this.lastCreated;let l;return $t[e]?l=new re($t[e](),e):l=si.createFromSampleData(si.createSampleData(n).data,e),this.lastFontFamily=n,this.lastCreated=l,l}static createSampleData(e){const n=document.createElement("canvas"),l=n.getContext("2d");n.style.height="16px",n.height=16,n.width=96*10,n.style.width=96*10+"px",l.fillStyle="#ffffff",l.font=`bold 16px ${e}`,l.textBaseline="middle";let C=0;for(const k of Pn)l.fillText(String.fromCharCode(k),C,16/2),C+=10;return l.getImageData(0,0,96*10,16)}static createFromSampleData(e,n){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");let C=si._downsample(e,n);return new re(C,n)}static _downsampleChar(e,n,l,C,k){const Z=1*k,ie=2*k;let ce=C,De=0;for(let Ae=0;Ae<ie;Ae++){const Ue=Ae/ie*16,Lt=(Ae+1)/ie*16;for(let _t=0;_t<Z;_t++){const Bt=_t/Z*10,Xt=(_t+1)/Z*10;let fi=0,Di=0;for(let Ti=Ue;Ti<Lt;Ti++){const Yi=n+Math.floor(Ti)*3840,Pi=1-(Ti-Math.floor(Ti));for(let Dn=Bt;Dn<Xt;Dn++){const vn=1-(Dn-Math.floor(Dn)),Qi=Yi+Math.floor(Dn)*4,mn=vn*Pi;Di+=mn,fi+=e[Qi]*e[Qi+3]/255*mn}}const Wi=fi/Di;De=Math.max(De,Wi),l[ce++]=(0,W.K)(Wi)}}return De}static _downsample(e,n){const l=2*n*1*n,C=l*96,k=new Uint8ClampedArray(C);let Z=0,ie=0,ce=0;for(let De=0;De<96;De++)ce=Math.max(ce,this._downsampleChar(e,ie,k,Z,n)),Z+=l,ie+=10*4;if(ce>0){const De=255/ce;for(let Ae=0;Ae<C;Ae++)k[Ae]*=De}return k}}const gi=140,Oi=2;class xi{constructor(e,n,l){const C=e.options,k=C.get(127),Z=C.get(129),ie=Z.minimap,ce=C.get(43),De=C.get(64);this.renderMinimap=ie.renderMinimap,this.size=De.size,this.minimapHeightIsEditorHeight=ie.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=C.get(93),this.showSlider=De.showSlider,this.pixelRatio=k,this.typicalHalfwidthCharacterWidth=ce.typicalHalfwidthCharacterWidth,this.lineHeight=C.get(58),this.minimapLeft=ie.minimapLeft,this.minimapWidth=ie.minimapWidth,this.minimapHeight=Z.height,this.canvasInnerWidth=ie.minimapCanvasInnerWidth,this.canvasInnerHeight=ie.minimapCanvasInnerHeight,this.canvasOuterWidth=ie.minimapCanvasOuterWidth,this.canvasOuterHeight=ie.minimapCanvasOuterHeight,this.isSampling=ie.minimapIsSampling,this.editorHeight=Z.height,this.fontScale=ie.minimapScale,this.minimapLineHeight=ie.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,Te.I)(()=>si.create(this.fontScale,ce.fontFamily)),this.defaultBackgroundColor=l.getColor(2),this.backgroundColor=xi._getMinimapBackground(n,this.defaultBackgroundColor),this.foregroundAlpha=xi._getMinimapForegroundOpacity(n)}static _getMinimapBackground(e,n){const l=e.getColor(Jn.kV);return l?new hi(l.rgba.r,l.rgba.g,l.rgba.b,Math.round(255*l.rgba.a)):n}static _getMinimapForegroundOpacity(e){const n=e.getColor(Jn.It);return n?hi._clamp(Math.round(255*n.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class Hi{constructor(e,n,l,C,k,Z,ie,ce){this.scrollTop=e,this.scrollHeight=n,this.sliderNeeded=l,this._computedSliderRatio=C,this.sliderTop=k,this.sliderHeight=Z,this.startLineNumber=ie,this.endLineNumber=ce}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,n,l,C,k,Z,ie,ce,De,Ae,Ue){const Lt=e.pixelRatio,_t=e.minimapLineHeight,Bt=Math.floor(e.canvasInnerHeight/_t),Xt=e.lineHeight;if(e.minimapHeightIsEditorHeight){const Pi=ce*e.lineHeight+(e.scrollBeyondLastLine?k-e.lineHeight:0),Dn=Math.max(1,Math.floor(k*k/Pi)),vn=Math.max(0,e.minimapHeight-Dn),Qi=vn/(Ae-k),mn=De*Qi,Sn=vn>0,Un=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new Hi(De,Ae,Sn,Qi,mn,Dn,1,Math.min(ie,Un))}let fi;if(Z&&l!==ie){const Pi=l-n+1;fi=Math.floor(Pi*_t/Lt)}else{const Pi=k/Xt;fi=Math.floor(Pi*_t/Lt)}let Di;e.scrollBeyondLastLine?Di=(ie-1)*_t/Lt:Di=Math.max(0,ie*_t/Lt-fi),Di=Math.min(e.minimapHeight-fi,Di);const Wi=Di/(Ae-k),Ti=De*Wi;let Yi=0;if(e.scrollBeyondLastLine&&(Yi=k/Xt-1),Bt>=ie+Yi){const Dn=ie,vn=Di>0;return new Hi(De,Ae,vn,Wi,Ti,fi,1,Dn)}else{let Pi=Math.max(1,Math.floor(n-Ti*Lt/_t));Ue&&Ue.scrollHeight===Ae&&(Ue.scrollTop>De&&(Pi=Math.min(Pi,Ue.startLineNumber)),Ue.scrollTop<De&&(Pi=Math.max(Pi,Ue.startLineNumber)));const Dn=Math.min(ie,Pi+Bt-1),vn=(De-C)/Xt,Qi=(n-Pi+vn)*_t/Lt;return new Hi(De,Ae,!0,Wi,Qi,fi,Pi,Dn)}}}class cn{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}cn.INVALID=new cn(-1);class Ii{constructor(e,n,l){this.renderedLayout=e,this._imageData=n,this._renderedLines=new En(()=>cn.INVALID),this._renderedLines._set(e.startLineNumber,l)}linesEquals(e){if(!this.scrollEquals(e))return!1;const l=this._renderedLines._get().lines;for(let C=0,k=l.length;C<k;C++)if(l[C].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,n){return this._renderedLines.onLinesChanged(e,n)}onLinesDeleted(e,n){this._renderedLines.onLinesDeleted(e,n)}onLinesInserted(e,n){this._renderedLines.onLinesInserted(e,n)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class ln{constructor(e,n,l,C){this._backgroundFillData=ln._createBackgroundFillData(n,l,C),this._buffers=[e.createImageData(n,l),e.createImageData(n,l)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,n,l){const C=l.r,k=l.g,Z=l.b,ie=l.a,ce=new Uint8ClampedArray(e*n*4);let De=0;for(let Ae=0;Ae<n;Ae++)for(let Ue=0;Ue<e;Ue++)ce[De]=C,ce[De+1]=k,ce[De+2]=Z,ce[De+3]=ie,De+=4;return ce}}class nn{constructor(e,n){this.samplingRatio=e,this.minimapLines=n}static compute(e,n,l){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const C=e.pixelRatio,k=e.lineHeight,Z=e.scrollBeyondLastLine,{minimapLineCount:ie}=et.gk.computeContainedMinimapLineCount({viewLineCount:n,scrollBeyondLastLine:Z,height:e.editorHeight,lineHeight:k,pixelRatio:C}),ce=n/ie,De=ce/2;if(!l||l.minimapLines.length===0){let Ti=[];if(Ti[0]=1,ie>1){for(let Yi=0,Pi=ie-1;Yi<Pi;Yi++)Ti[Yi]=Math.round(Yi*ce+De);Ti[ie-1]=n}return[new nn(ce,Ti),[]]}const Ae=l.minimapLines,Ue=Ae.length;let Lt=[],_t=0,Bt=0,Xt=1;const fi=10;let Di=[],Wi=null;for(let Ti=0;Ti<ie;Ti++){const Yi=Math.max(Xt,Math.round(Ti*ce)),Pi=Math.max(Yi,Math.round((Ti+1)*ce));for(;_t<Ue&&Ae[_t]<Yi;){if(Di.length<fi){const vn=_t+1+Bt;Wi&&Wi.type==="deleted"&&Wi._oldIndex===_t-1?Wi.deleteToLineNumber++:(Wi={type:"deleted",_oldIndex:_t,deleteFromLineNumber:vn,deleteToLineNumber:vn},Di.push(Wi)),Bt--}_t++}let Dn;if(_t<Ue&&Ae[_t]<=Pi)Dn=Ae[_t],_t++;else if(Ti===0?Dn=1:Ti+1===ie?Dn=n:Dn=Math.round(Ti*ce+De),Di.length<fi){const vn=_t+1+Bt;Wi&&Wi.type==="inserted"&&Wi._i===Ti-1?Wi.insertToLineNumber++:(Wi={type:"inserted",_i:Ti,insertFromLineNumber:vn,insertToLineNumber:vn},Di.push(Wi)),Bt++}Lt[Ti]=Dn,Xt=Dn}if(Di.length<fi)for(;_t<Ue;){const Ti=_t+1+Bt;Wi&&Wi.type==="deleted"&&Wi._oldIndex===_t-1?Wi.deleteToLineNumber++:(Wi={type:"deleted",_oldIndex:_t,deleteFromLineNumber:Ti,deleteToLineNumber:Ti},Di.push(Wi)),Bt--,_t++}else Di=[{type:"flush"}];return[new nn(ce,Lt),Di]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,n){let l=this.modelLineToMinimapLine(e)-1;for(;l>0&&this.minimapLines[l-1]>=e;)l--;let C=this.modelLineToMinimapLine(n)-1;for(;C+1<this.minimapLines.length&&this.minimapLines[C+1]<=n;)C++;if(l===C){const k=this.minimapLines[l];if(k<e||k>n)return null}return[l+1,C+1]}decorationLineRangeToMinimapLineRange(e,n){let l=this.modelLineToMinimapLine(e),C=this.modelLineToMinimapLine(n);return e!==n&&C===l&&(C===this.minimapLines.length?l>1&&l--:C++),[l,C]}onLinesDeleted(e){const n=e.toLineNumber-e.fromLineNumber+1;let l=this.minimapLines.length,C=0;for(let k=this.minimapLines.length-1;k>=0&&!(this.minimapLines[k]<e.fromLineNumber);k--)this.minimapLines[k]<=e.toLineNumber?(this.minimapLines[k]=Math.max(1,e.fromLineNumber-1),l=Math.min(l,k),C=Math.max(C,k)):this.minimapLines[k]-=n;return[l,C]}onLinesInserted(e){const n=e.toLineNumber-e.fromLineNumber+1;for(let l=this.minimapLines.length-1;l>=0&&!(this.minimapLines[l]<e.fromLineNumber);l--)this.minimapLines[l]+=n}}class wn extends le{constructor(e){super(e),this.tokensColorTracker=Vi.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new xi(this._context.configuration,this._context.theme,this.tokensColorTracker);const[n]=nn.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=n,this._shouldCheckSampling=!1,this._actual=new Gn(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new xi(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const n=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return n?this._actual.onLinesChanged(n[0],n[1]):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){const[n,l]=this._samplingState.onLinesDeleted(e);return n<=l&&this._actual.onLinesChanged(n+1,l+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let n=[];for(const l of e.ranges){const C=this._samplingState.modelLineRangeToMinimapLineRange(l.fromLineNumber,l.toLineNumber);C&&n.push({fromLineNumber:C[0],toLineNumber:C[1]})}return n.length?this._actual.onTokensChanged(n):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let n=e.visibleRange.startLineNumber,l=e.visibleRange.endLineNumber;this._samplingState&&(n=this._samplingState.modelLineToMinimapLine(n),l=this._samplingState.modelLineToMinimapLine(l));const C={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:n,viewportEndLineNumber:l,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(n),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(C)}_recreateLineSampling(){this._minimapSelections=null;const e=!!this._samplingState,[n,l]=nn.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=n,e&&this._samplingState)for(const C of l)switch(C.type){case"deleted":this._actual.onLinesDeleted(C.deleteFromLineNumber,C.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(C.insertFromLineNumber,C.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(e){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[e-1]):this._context.model.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.model.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.model.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,n,l){if(this._samplingState){let C=[];for(let k=0,Z=n-e+1;k<Z;k++)l[k]?C[k]=this._context.model.getViewLineData(this._samplingState.minimapLines[e+k-1]):C[k]=null;return C}return this._context.model.getMinimapLinesRenderingData(e,n,l).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[n,l]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new T.Y(n,e.startColumn,l,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,n){let l;if(this._samplingState){const k=this._samplingState.minimapLines[e-1],Z=this._samplingState.minimapLines[n-1];l=new Pe.e(k,1,Z,this._context.model.getLineMaxColumn(Z))}else l=new Pe.e(e,1,n,this._context.model.getLineMaxColumn(n));const C=this._context.model.getDecorationsInViewport(l);if(this._samplingState){let k=[];for(const Z of C){if(!Z.options.minimap)continue;const ie=Z.range,ce=this._samplingState.modelLineToMinimapLine(ie.startLineNumber),De=this._samplingState.modelLineToMinimapLine(ie.endLineNumber);k.push(new Li.$l(new Pe.e(ce,ie.startColumn,De,ie.endColumn),Z.options))}return k}return C}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.model.revealRange("mouse",!1,new Pe.e(e,1,e,1),1,0)}setScrollTop(e){this._context.model.setScrollPosition({scrollTop:e},1)}}class Gn extends N.JT{constructor(e,n){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=n,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Jn.ov),this._domNode=(0,w.X)(document.createElement("div")),Y.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,w.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,w.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,w.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,w.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,w.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=R.mu(this._domNode.domNode,"mousedown",l=>{if(l.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(l.leftButton&&this._lastRenderData){const De=R.i(this._slider.domNode),Ae=De.top+De.height/2;this._startSliderDragging(l.buttons,l.posx,Ae,l.posy,this._lastRenderData.renderedLayout)}return}const k=this._model.options.minimapLineHeight,Z=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*l.browserEvent.offsetY;let ce=Math.floor(Z/k)+this._lastRenderData.renderedLayout.startLineNumber;ce=Math.min(ce,this._model.getLineCount()),this._model.revealLineNumber(ce)}),this._sliderMouseMoveMonitor=new h.Z,this._sliderMouseDownListener=R.mu(this._slider.domNode,"mousedown",l=>{l.preventDefault(),l.stopPropagation(),l.leftButton&&this._lastRenderData&&this._startSliderDragging(l.buttons,l.posx,l.posy,l.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=f.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=R.nm(this._domNode.domNode,f.t.Start,l=>{l.preventDefault(),l.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(l))},{passive:!1}),this._sliderTouchMoveListener=R.nm(this._domNode.domNode,f.t.Change,l=>{l.preventDefault(),l.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(l)},{passive:!1}),this._sliderTouchEndListener=R.mu(this._domNode.domNode,f.t.End,l=>{l.preventDefault(),l.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,n,l,C,k){this._slider.toggleClassName("active",!0);const Z=(ie,ce)=>{const De=Math.abs(ce-n);if(x.ED&&De>gi){this._model.setScrollTop(k.scrollTop);return}const Ae=ie-l;this._model.setScrollTop(k.getDesiredScrollTopFromDelta(Ae))};C!==l&&Z(C,n),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,h.e,ie=>Z(ie.posy,ie.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const n=this._domNode.domNode.getBoundingClientRect().top,l=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-n);this._model.setScrollTop(l)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new ln(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,n){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,n):!1}onLinesDeleted(e,n){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,n),!0}onLinesInserted(e,n){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,n),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Jn.ov),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const l=Hi.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(l.sliderNeeded?"block":"none"),this._slider.setTop(l.sliderTop),this._slider.setHeight(l.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(l.sliderHeight),this.renderDecorations(l),this._lastRenderData=this.renderLines(l)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const n=this._model.getSelections();n.sort(Pe.e.compareRangesUsingStarts);const l=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);l.sort((Lt,_t)=>(Lt.options.zIndex||0)-(_t.options.zIndex||0));const{canvasInnerWidth:C,canvasInnerHeight:k}=this._model.options,Z=this._model.options.minimapLineHeight,ie=this._model.options.minimapCharWidth,ce=this._model.getOptions().tabSize,De=this._decorationsCanvas.domNode.getContext("2d");De.clearRect(0,0,C,k);const Ae=new Ts(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(De,n,Ae,e,Z),this._renderDecorationsLineHighlights(De,l,Ae,e,Z);const Ue=new Ts(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(De,n,Ue,e,Z,ce,ie,C),this._renderDecorationsHighlights(De,l,Ue,e,Z,ce,ie,C)}}_renderSelectionLineHighlights(e,n,l,C,k){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let Z=0,ie=0;for(const ce of n){const De=Math.max(C.startLineNumber,ce.startLineNumber),Ae=Math.min(C.endLineNumber,ce.endLineNumber);if(De>Ae)continue;for(let _t=De;_t<=Ae;_t++)l.set(_t,!0);const Ue=(De-C.startLineNumber)*k,Lt=(Ae-C.startLineNumber)*k+k;ie>=Ue||(ie>Z&&e.fillRect(et.y0,Z,e.canvas.width,ie-Z),Z=Ue),ie=Lt}ie>Z&&e.fillRect(et.y0,Z,e.canvas.width,ie-Z)}_renderDecorationsLineHighlights(e,n,l,C,k){const Z=new Map;for(let ie=n.length-1;ie>=0;ie--){const ce=n[ie],De=ce.options.minimap;if(!De||De.position!==es.F5.Inline)continue;const Ae=Math.max(C.startLineNumber,ce.range.startLineNumber),Ue=Math.min(C.endLineNumber,ce.range.endLineNumber);if(Ae>Ue)continue;const Lt=De.getColor(this._theme);if(!Lt||Lt.isTransparent())continue;let _t=Z.get(Lt.toString());_t||(_t=Lt.transparent(.5).toString(),Z.set(Lt.toString(),_t)),e.fillStyle=_t;for(let Bt=Ae;Bt<=Ue;Bt++){if(l.has(Bt))continue;l.set(Bt,!0);const Xt=(Ae-C.startLineNumber)*k;e.fillRect(et.y0,Xt,e.canvas.width,k)}}}_renderSelectionsHighlights(e,n,l,C,k,Z,ie,ce){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const De of n){const Ae=Math.max(C.startLineNumber,De.startLineNumber),Ue=Math.min(C.endLineNumber,De.endLineNumber);if(!(Ae>Ue))for(let Lt=Ae;Lt<=Ue;Lt++)this.renderDecorationOnLine(e,l,De,this._selectionColor,C,Lt,k,k,Z,ie,ce)}}_renderDecorationsHighlights(e,n,l,C,k,Z,ie,ce){for(const De of n){const Ae=De.options.minimap;if(!Ae)continue;const Ue=Math.max(C.startLineNumber,De.range.startLineNumber),Lt=Math.min(C.endLineNumber,De.range.endLineNumber);if(Ue>Lt)continue;const _t=Ae.getColor(this._theme);if(!(!_t||_t.isTransparent()))for(let Bt=Ue;Bt<=Lt;Bt++)switch(Ae.position){case es.F5.Inline:this.renderDecorationOnLine(e,l,De.range,_t,C,Bt,k,k,Z,ie,ce);continue;case es.F5.Gutter:const Xt=(Bt-C.startLineNumber)*k;this.renderDecoration(e,_t,2,Xt,Oi,k);continue}}}renderDecorationOnLine(e,n,l,C,k,Z,ie,ce,De,Ae,Ue){const Lt=(Z-k.startLineNumber)*ce;if(Lt+ie<0||Lt>this._model.options.canvasInnerHeight)return;const{startLineNumber:_t,endLineNumber:Bt}=l,Xt=_t===Z?l.startColumn:1,fi=Bt===Z?l.endColumn:this._model.getLineMaxColumn(Z),Di=this.getXOffsetForPosition(n,Z,Xt,De,Ae,Ue),Wi=this.getXOffsetForPosition(n,Z,fi,De,Ae,Ue);this.renderDecoration(e,C,Di,Lt,Wi-Di,ie)}getXOffsetForPosition(e,n,l,C,k,Z){if(l===1)return et.y0;if((l-1)*k>=Z)return Z;let ce=e.get(n);if(!ce){const De=this._model.getLineContent(n);ce=[et.y0];let Ae=et.y0;for(let Ue=1;Ue<De.length+1;Ue++){const Lt=De.charCodeAt(Ue-1),_t=Lt===9?C*k:$e.K7(Lt)?2*k:k,Bt=Ae+_t;if(Bt>=Z){ce[Ue]=Z;break}ce[Ue]=Bt,Ae=Bt}e.set(n,ce)}return l-1<ce.length?ce[l-1]:Z}renderDecoration(e,n,l,C,k,Z){e.fillStyle=n&&n.toString()||"",e.fillRect(l,C,k,Z)}renderLines(e){const n=e.startLineNumber,l=e.endLineNumber,C=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const Ps=this._lastRenderData._get();return new Ii(e,Ps.imageData,Ps.lines)}const k=this._getBuffer();if(!k)return null;let[Z,ie,ce]=Gn._renderUntouchedLines(k,n,l,C,this._lastRenderData);const De=this._model.getMinimapLinesRenderingData(n,l,ce),Ae=this._model.getOptions().tabSize,Ue=this._model.options.defaultBackgroundColor,Lt=this._model.options.backgroundColor,_t=this._model.options.foregroundAlpha,Bt=this._model.tokensColorTracker,Xt=Bt.backgroundIsLight(),fi=this._model.options.renderMinimap,Di=this._model.options.charRenderer(),Wi=this._model.options.fontScale,Ti=this._model.options.minimapCharWidth,Pi=(fi===1?2:3)*Wi,Dn=C>Pi?Math.floor((C-Pi)/2):0,vn=Lt.a/255,Qi=new hi(Math.round((Lt.r-Ue.r)*vn+Ue.r),Math.round((Lt.g-Ue.g)*vn+Ue.g),Math.round((Lt.b-Ue.b)*vn+Ue.b),255);let mn=0;const Sn=[];for(let Ps=0,Oo=l-n+1;Ps<Oo;Ps++)ce[Ps]&&Gn._renderLine(k,Qi,Lt.a,Xt,fi,Ti,Bt,_t,Di,mn,Dn,Ae,De[Ps],Wi,C),Sn[Ps]=new cn(mn),mn+=C;const Un=Z===-1?0:Z,no=(ie===-1?k.height:ie)-Un;return this._canvas.domNode.getContext("2d").putImageData(k,0,0,0,Un,k.width,no),new Ii(e,k,Sn)}static _renderUntouchedLines(e,n,l,C,k){const Z=[];if(!k){for(let Qi=0,mn=l-n+1;Qi<mn;Qi++)Z[Qi]=!0;return[-1,-1,Z]}const ie=k._get(),ce=ie.imageData.data,De=ie.rendLineNumberStart,Ae=ie.lines,Ue=Ae.length,Lt=e.width,_t=e.data,Bt=(l-n+1)*C*Lt*4;let Xt=-1,fi=-1,Di=-1,Wi=-1,Ti=-1,Yi=-1,Pi=0;for(let Qi=n;Qi<=l;Qi++){const mn=Qi-n,Sn=Qi-De,Un=Sn>=0&&Sn<Ue?Ae[Sn].dy:-1;if(Un===-1){Z[mn]=!0,Pi+=C;continue}const Qs=Un*Lt*4,no=(Un+C)*Lt*4,Ks=Pi*Lt*4,Ps=(Pi+C)*Lt*4;Wi===Qs&&Yi===Ks?(Wi=no,Yi=Ps):(Di!==-1&&(_t.set(ce.subarray(Di,Wi),Ti),Xt===-1&&Di===0&&Di===Ti&&(Xt=Wi),fi===-1&&Wi===Bt&&Di===Ti&&(fi=Di)),Di=Qs,Wi=no,Ti=Ks,Yi=Ps),Z[mn]=!1,Pi+=C}Di!==-1&&(_t.set(ce.subarray(Di,Wi),Ti),Xt===-1&&Di===0&&Di===Ti&&(Xt=Wi),fi===-1&&Wi===Bt&&Di===Ti&&(fi=Di));const Dn=Xt===-1?-1:Xt/(Lt*4),vn=fi===-1?-1:fi/(Lt*4);return[Dn,vn,Z]}static _renderLine(e,n,l,C,k,Z,ie,ce,De,Ae,Ue,Lt,_t,Bt,Xt){const fi=_t.content,Di=_t.tokens,Wi=e.width-Z,Ti=Xt===1;let Yi=et.y0,Pi=0,Dn=0;for(let vn=0,Qi=Di.getCount();vn<Qi;vn++){const mn=Di.getEndOffset(vn),Sn=Di.getForeground(vn),Un=ie.getColor(Sn);for(;Pi<mn;Pi++){if(Yi>Wi)return;const Qs=fi.charCodeAt(Pi);if(Qs===9){const no=Lt-(Pi+Dn)%Lt;Dn+=no-1,Yi+=no*Z}else if(Qs===32)Yi+=Z;else{const no=$e.K7(Qs)?2:1;for(let Ks=0;Ks<no;Ks++)if(k===2?De.blockRenderChar(e,Yi,Ae+Ue,Un,ce,n,l,Ti):De.renderChar(e,Yi,Ae+Ue,Qs,Un,ce,n,l,Bt,C,Ti),Yi+=Z,Yi>Wi)return}}}}}class Ts{constructor(e,n,l){this._startLineNumber=e,this._endLineNumber=n,this._defaultValue=l,this._values=[];for(let C=0,k=this._endLineNumber-this._startLineNumber+1;C<k;C++)this._values[C]=l}has(e){return this.get(e)!==this._defaultValue}set(e,n){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=n)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(Jn.CA);n&&e.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${n}; }`);const l=Ct.getColor(Jn.Xy);l&&e.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${l}; }`);const C=Ct.getColor(Jn.br);C&&e.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${C}; }`);const k=Ct.getColor(Jn._w);k&&e.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${k} -6px 0 6px -6px inset; }`)});class Ln extends le{constructor(e){super(e);const l=this._context.configuration.options.get(129);this._widgets={},this._verticalScrollbarWidth=l.verticalScrollbarWidth,this._minimapWidth=l.minimap.minimapWidth,this._horizontalScrollbarHeight=l.horizontalScrollbarHeight,this._editorHeight=l.height,this._editorWidth=l.width,this._domNode=(0,w.X)(document.createElement("div")),Y.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const l=this._context.configuration.options.get(129);return this._verticalScrollbarWidth=l.verticalScrollbarWidth,this._minimapWidth=l.minimap.minimapWidth,this._horizontalScrollbarHeight=l.horizontalScrollbarHeight,this._editorHeight=l.height,this._editorWidth=l.width,!0}addWidget(e){const n=(0,w.X)(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:n},n.setPosition("absolute"),n.setAttribute("widgetId",e.getId()),this._domNode.appendChild(n),this.setShouldRender()}setWidgetPosition(e,n){const l=this._widgets[e.getId()];return l.preference===n?!1:(l.preference=n,this.setShouldRender(),!0)}removeWidget(e){const n=e.getId();if(this._widgets.hasOwnProperty(n)){const C=this._widgets[n].domNode.domNode;delete this._widgets[n],C.parentNode.removeChild(C),this.setShouldRender()}}_renderWidget(e){const n=e.domNode;if(e.preference===null){n.unsetTop();return}if(e.preference===0)n.setTop(0),n.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){const l=n.domNode.clientHeight;n.setTop(this._editorHeight-l-2*this._horizontalScrollbarHeight),n.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===2&&(n.setTop(0),n.domNode.style.right="50%")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const n=Object.keys(this._widgets);for(let l=0,C=n.length;l<C;l++){const k=n[l];this._renderWidget(this._widgets[k])}}}var jt=c(41264);class _e{constructor(e,n){const l=e.options;this.lineHeight=l.get(58),this.pixelRatio=l.get(127),this.overviewRulerLanes=l.get(73),this.renderBorder=l.get(72);const C=n.getColor(on.zw);this.borderColor=C?C.toString():null,this.hideCursor=l.get(51);const k=n.getColor(on.n0);this.cursorColor=k?k.transparent(.7).toString():null,this.themeType=n.type;const Z=l.get(64),ie=Z.enabled,ce=Z.side,De=ie?n.getColor(on.e_)||Yt.RW.getDefaultBackground():null;De===null||ce==="left"?this.backgroundColor=null:this.backgroundColor=jt.Il.Format.CSS.formatHex(De);const Ue=l.get(129).overviewRuler;this.top=Ue.top,this.right=Ue.right,this.domWidth=Ue.width,this.domHeight=Ue.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[Lt,_t]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=Lt,this.w=_t}_initLanes(e,n,l){const C=n-e;if(l>=3){const k=Math.floor(C/3),Z=Math.floor(C/3),ie=C-k-Z,ce=e,De=ce+k,Ae=ce+k+ie;return[[0,ce,De,ce,Ae,ce,De,ce],[0,k,ie,k+ie,Z,k+ie+Z,ie+Z,k+ie+Z]]}else if(l===2){const k=Math.floor(C/2),Z=C-k,ie=e,ce=ie+k;return[[0,ie,ie,ie,ce,ie,ie,ie],[0,k,k,k,Z,k+Z,k+Z,k+Z]]}else{const k=e,Z=C;return[[0,k,k,k,k,k,k,k],[0,Z,Z,Z,Z,Z,Z,Z]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class Me extends le{constructor(e){super(e),this._domNode=(0,w.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Yt.RW.onDidChange(n=>{n.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const n=new _e(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(n)?!1:(this._settings=n,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let n=0,l=e.selections.length;n<l;n++)this._cursorPositions[n]=e.selections[n].getPosition();return this._cursorPositions.sort(Ne.L.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const e=this._settings.canvasWidth,n=this._settings.canvasHeight,l=this._settings.lineHeight,C=this._context.viewLayout,k=this._context.viewLayout.getScrollHeight(),Z=n/k,ie=this._context.model.getAllOverviewRulerDecorations(this._context.theme),ce=6*this._settings.pixelRatio|0,De=ce/2|0,Ae=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?Ae.clearRect(0,0,e,n):(Ae.fillStyle=this._settings.backgroundColor,Ae.fillRect(0,0,e,n));const Ue=this._settings.x,Lt=this._settings.w;ie.sort(Li.SQ.cmp);for(const _t of ie){const Bt=_t.color,Xt=_t.data;Ae.fillStyle=Bt;let fi=0,Di=0,Wi=0;for(let Ti=0,Yi=Xt.length/3;Ti<Yi;Ti++){const Pi=Xt[3*Ti],Dn=Xt[3*Ti+1],vn=Xt[3*Ti+2];let Qi=C.getVerticalOffsetForLineNumber(Dn)*Z|0,mn=(C.getVerticalOffsetForLineNumber(vn)+l)*Z|0;if(mn-Qi<ce){let Un=(Qi+mn)/2|0;Un<De?Un=De:Un+De>n&&(Un=n-De),Qi=Un-De,mn=Un+De}Qi>Wi+1||Pi!==fi?(Ti!==0&&Ae.fillRect(Ue[fi],Di,Lt[fi],Wi-Di),fi=Pi,Di=Qi,Wi=mn):mn>Wi&&(Wi=mn)}Ae.fillRect(Ue[fi],Di,Lt[fi],Wi-Di)}if(!this._settings.hideCursor&&this._settings.cursorColor){const _t=2*this._settings.pixelRatio|0,Bt=_t/2|0,Xt=this._settings.x[7],fi=this._settings.w[7];Ae.fillStyle=this._settings.cursorColor;let Di=-100,Wi=-100;for(let Ti=0,Yi=this._cursorPositions.length;Ti<Yi;Ti++){const Pi=this._cursorPositions[Ti];let Dn=C.getVerticalOffsetForLineNumber(Pi.lineNumber)*Z|0;Dn<Bt?Dn=Bt:Dn+Bt>n&&(Dn=n-Bt);const vn=Dn-Bt,Qi=vn+_t;vn>Wi+1?(Ti!==0&&Ae.fillRect(Xt,Di,fi,Wi-Di),Di=vn,Wi=Qi):Qi>Wi&&(Wi=Qi)}Ae.fillRect(Xt,Di,fi,Wi-Di)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(Ae.beginPath(),Ae.lineWidth=1,Ae.strokeStyle=this._settings.borderColor,Ae.moveTo(0,0),Ae.lineTo(0,n),Ae.stroke(),Ae.moveTo(0,0),Ae.lineTo(e,0),Ae.stroke())}}var ze=c(92003);class vt extends xe{constructor(e,n){super(),this._context=e;const l=this._context.configuration.options;this._domNode=(0,w.X)(document.createElement("canvas")),this._domNode.setClassName(n),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new ze.Tj(C=>this._context.viewLayout.getVerticalOffsetForLineNumber(C)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(l.get(58)),this._zoneManager.setPixelRatio(l.get(127)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options;return e.hasChanged(58)&&(this._zoneManager.setLineHeight(n.get(58)),this._render()),e.hasChanged(127)&&(this._zoneManager.setPixelRatio(n.get(127)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let n=!1;n=this._zoneManager.setDOMWidth(e.width)||n,n=this._zoneManager.setDOMHeight(e.height)||n,n&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),n=this._zoneManager.getCanvasHeight(),l=this._zoneManager.resolveColorZones(),C=this._zoneManager.getId2Color(),k=this._domNode.domNode.getContext("2d");return k.clearRect(0,0,e,n),l.length>0&&this._renderOneLane(k,l,C,e),!0}_renderOneLane(e,n,l,C){let k=0,Z=0,ie=0;for(const ce of n){const De=ce.colorId,Ae=ce.from,Ue=ce.to;De!==k?(e.fillRect(0,Z,C,ie-Z),k=De,e.fillStyle=l[k],Z=Ae,ie=Ue):ie>=Ae?ie=Math.max(ie,Ue):(e.fillRect(0,Z,C,ie-Z),Z=Ae,ie=Ue)}e.fillRect(0,Z,C,ie-Z)}}class yt extends le{constructor(e){super(e),this.domNode=(0,w.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const n=this._context.configuration.options;this._rulers=n.get(90),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options;return this._rulers=n.get(90),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,n=this._rulers.length;if(e===n)return;if(e<n){const{tabSize:C}=this._context.model.getTextModelOptions(),k=C;let Z=n-e;for(;Z>0;){const ie=(0,w.X)(document.createElement("div"));ie.setClassName("view-ruler"),ie.setWidth(k),this.domNode.appendChild(ie),this._renderedRulers.push(ie),Z--}return}let l=e-n;for(;l>0;){const C=this._renderedRulers.pop();this.domNode.removeChild(C),l--}}render(e){this._ensureRulersCount();for(let n=0,l=this._rulers.length;n<l;n++){const C=this._renderedRulers[n],k=this._rulers[n];C.setBoxShadow(k.color?`1px 0 0 0 ${k.color} inset`:""),C.setHeight(Math.min(e.scrollHeight,1e6)),C.setLeft(k.column*this._typicalHalfwidthCharacterWidth)}}}(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(on.zk);n&&e.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${n} inset; }`)});class oi extends le{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const l=this._context.configuration.options.get(91);this._useShadows=l.useShadows,this._domNode=(0,w.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const n=this._context.configuration.options.get(129);n.minimap.renderMinimap===0||n.minimap.minimapWidth>0&&n.minimap.minimapLeft===0?this._width=n.width:this._width=n.width-n.minimap.minimapWidth-n.verticalScrollbarWidth}onConfigurationChanged(e){const l=this._context.configuration.options.get(91);return this._useShadows=l.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(Jn._w);n&&e.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${n} 0 6px 6px -6px inset; }`)});class qt{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class fn{constructor(e,n){this.lineNumber=e,this.ranges=n}}function Tn(Ct){return new qt(Ct)}function Bi(Ct){return new fn(Ct.lineNumber,Ct.ranges.map(Tn))}class dn extends Ui{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const n=this._context.configuration.options;this._lineHeight=n.get(58),this._roundedSelection=n.get(89),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options;return this._lineHeight=n.get(58),this._roundedSelection=n.get(89),this._typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let n=0,l=e.length;n<l;n++)if(e[n].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,n,l){const C=this._typicalHalfwidthCharacterWidth/4;let k=null,Z=null;if(l&&l.length>0&&n.length>0){const ie=n[0].lineNumber;if(ie===e.startLineNumber)for(let De=0;!k&&De<l.length;De++)l[De].lineNumber===ie&&(k=l[De].ranges[0]);const ce=n[n.length-1].lineNumber;if(ce===e.endLineNumber)for(let De=l.length-1;!Z&&De>=0;De--)l[De].lineNumber===ce&&(Z=l[De].ranges[0]);k&&!k.startStyle&&(k=null),Z&&!Z.startStyle&&(Z=null)}for(let ie=0,ce=n.length;ie<ce;ie++){const De=n[ie].ranges[0],Ae=De.left,Ue=De.left+De.width,Lt={top:0,bottom:0},_t={top:0,bottom:0};if(ie>0){const Bt=n[ie-1].ranges[0].left,Xt=n[ie-1].ranges[0].left+n[ie-1].ranges[0].width;yn(Ae-Bt)<C?Lt.top=2:Ae>Bt&&(Lt.top=1),yn(Ue-Xt)<C?_t.top=2:Bt<Ue&&Ue<Xt&&(_t.top=1)}else k&&(Lt.top=k.startStyle.top,_t.top=k.endStyle.top);if(ie+1<ce){const Bt=n[ie+1].ranges[0].left,Xt=n[ie+1].ranges[0].left+n[ie+1].ranges[0].width;yn(Ae-Bt)<C?Lt.bottom=2:Bt<Ae&&Ae<Xt&&(Lt.bottom=1),yn(Ue-Xt)<C?_t.bottom=2:Ue<Xt&&(_t.bottom=1)}else Z&&(Lt.bottom=Z.startStyle.bottom,_t.bottom=Z.endStyle.bottom);De.startStyle=Lt,De.endStyle=_t}}_getVisibleRangesWithStyle(e,n,l){const k=(n.linesVisibleRangesForRange(e,!0)||[]).map(Bi);return!this._visibleRangesHaveGaps(k)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(n.visibleRange,k,l),k}_createSelectionPiece(e,n,l,C,k){return'<div class="cslr '+l+'" style="top:'+e.toString()+"px;left:"+C.toString()+"px;width:"+k.toString()+"px;height:"+n+'px;"></div>'}_actualRenderOneSelection(e,n,l,C){if(C.length===0)return;const k=!!C[0].ranges[0].startStyle,Z=this._lineHeight.toString(),ie=(this._lineHeight-1).toString(),ce=C[0].lineNumber,De=C[C.length-1].lineNumber;for(let Ae=0,Ue=C.length;Ae<Ue;Ae++){const Lt=C[Ae],_t=Lt.lineNumber,Bt=_t-n,Xt=l&&(_t===De||_t===ce)?ie:Z,fi=l&&_t===ce?1:0;let Di="",Wi="";for(let Ti=0,Yi=Lt.ranges.length;Ti<Yi;Ti++){const Pi=Lt.ranges[Ti];if(k){const vn=Pi.startStyle,Qi=Pi.endStyle;if(vn.top===1||vn.bottom===1){Di+=this._createSelectionPiece(fi,Xt,dn.SELECTION_CLASS_NAME,Pi.left-dn.ROUNDED_PIECE_WIDTH,dn.ROUNDED_PIECE_WIDTH);let mn=dn.EDITOR_BACKGROUND_CLASS_NAME;vn.top===1&&(mn+=" "+dn.SELECTION_TOP_RIGHT),vn.bottom===1&&(mn+=" "+dn.SELECTION_BOTTOM_RIGHT),Di+=this._createSelectionPiece(fi,Xt,mn,Pi.left-dn.ROUNDED_PIECE_WIDTH,dn.ROUNDED_PIECE_WIDTH)}if(Qi.top===1||Qi.bottom===1){Di+=this._createSelectionPiece(fi,Xt,dn.SELECTION_CLASS_NAME,Pi.left+Pi.width,dn.ROUNDED_PIECE_WIDTH);let mn=dn.EDITOR_BACKGROUND_CLASS_NAME;Qi.top===1&&(mn+=" "+dn.SELECTION_TOP_LEFT),Qi.bottom===1&&(mn+=" "+dn.SELECTION_BOTTOM_LEFT),Di+=this._createSelectionPiece(fi,Xt,mn,Pi.left+Pi.width,dn.ROUNDED_PIECE_WIDTH)}}let Dn=dn.SELECTION_CLASS_NAME;if(k){const vn=Pi.startStyle,Qi=Pi.endStyle;vn.top===0&&(Dn+=" "+dn.SELECTION_TOP_LEFT),vn.bottom===0&&(Dn+=" "+dn.SELECTION_BOTTOM_LEFT),Qi.top===0&&(Dn+=" "+dn.SELECTION_TOP_RIGHT),Qi.bottom===0&&(Dn+=" "+dn.SELECTION_BOTTOM_RIGHT)}Wi+=this._createSelectionPiece(fi,Xt,Dn,Pi.left,Pi.width)}e[Bt][0]+=Di,e[Bt][1]+=Wi}}prepareRender(e){const n=[],l=e.visibleRange.startLineNumber,C=e.visibleRange.endLineNumber;for(let Z=l;Z<=C;Z++){const ie=Z-l;n[ie]=["",""]}const k=[];for(let Z=0,ie=this._selections.length;Z<ie;Z++){const ce=this._selections[Z];if(ce.isEmpty()){k[Z]=null;continue}const De=this._getVisibleRangesWithStyle(ce,e,this._previousFrameVisibleRangesWithStyle[Z]);k[Z]=De,this._actualRenderOneSelection(n,l,this._selections.length>1,De)}this._previousFrameVisibleRangesWithStyle=k,this._renderResult=n.map(([Z,ie])=>Z+ie)}render(e,n){if(!this._renderResult)return"";const l=n-e;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}dn.SELECTION_CLASS_NAME="selected-text",dn.SELECTION_TOP_LEFT="top-left-radius",dn.SELECTION_BOTTOM_LEFT="bottom-left-radius",dn.SELECTION_TOP_RIGHT="top-right-radius",dn.SELECTION_BOTTOM_RIGHT="bottom-right-radius",dn.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",dn.ROUNDED_PIECE_WIDTH=10,(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(Jn.hE);n&&e.addRule(`.monaco-editor .focused .selected-text { background-color: ${n}; }`);const l=Ct.getColor(Jn.ES);l&&e.addRule(`.monaco-editor .selected-text { background-color: ${l}; }`);const C=Ct.getColor(Jn.yb);C&&!C.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${C}; }`)});function yn(Ct){return Ct<0?-Ct:Ct}class tn{constructor(e,n,l,C,k,Z){this.top=e,this.left=n,this.width=l,this.height=C,this.textContent=k,this.textContentClassName=Z}}class Zt{constructor(e){this._context=e;const n=this._context.configuration.options,l=n.get(43);this._cursorStyle=n.get(24),this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(n.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,w.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${qe.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),D.V.applyFontInfo(this._domNode,l),this._domNode.setDisplay("none"),this._position=new Ne.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const n=this._context.configuration.options,l=n.get(43);return this._cursorStyle=n.get(24),this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(n.get(27),this._typicalHalfwidthCharacterWidth),D.V.applyFontInfo(this._domNode,l),!0}onCursorPositionChanged(e){return this._position=e,!0}_prepareRender(e){let n="";if(this._cursorStyle===et.d2.Line||this._cursorStyle===et.d2.LineThin){const Lt=e.visibleRangeForPosition(this._position);if(!Lt||Lt.outsideRenderedLine)return null;let _t;if(this._cursorStyle===et.d2.Line){if(_t=R.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),_t>2){const fi=this._context.model.getLineContent(this._position.lineNumber),Di=$e.vH(fi,this._position.column-1);n=fi.substr(this._position.column-1,Di)}}else _t=R.Uh(1);let Bt=Lt.left;_t>=2&&Bt>=1&&(Bt-=1);const Xt=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new tn(Xt,Bt,_t,this._lineHeight,n,"")}const l=this._context.model.getLineContent(this._position.lineNumber),C=$e.vH(l,this._position.column-1),k=e.linesVisibleRangesForRange(new Pe.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+C),!1);if(!k||k.length===0)return null;const Z=k[0];if(Z.outsideRenderedLine||Z.ranges.length===0)return null;const ie=Z.ranges[0],ce=ie.width<1?this._typicalHalfwidthCharacterWidth:ie.width;let De="";if(this._cursorStyle===et.d2.Block){const Lt=this._context.model.getViewLineData(this._position.lineNumber);n=l.substr(this._position.column-1,C);const _t=Lt.tokens.findTokenIndexAtOffset(this._position.column-1);De=Lt.tokens.getClassName(_t)}let Ae=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,Ue=this._lineHeight;return(this._cursorStyle===et.d2.Underline||this._cursorStyle===et.d2.UnderlineThin)&&(Ae+=this._lineHeight-2,Ue=2),new tn(Ae,ie.left,ce,Ue,n,De)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${qe.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class vi extends le{constructor(e){super(e);const n=this._context.configuration.options;this._readOnly=n.get(80),this._cursorBlinking=n.get(22),this._cursorStyle=n.get(24),this._cursorSmoothCaretAnimation=n.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new Zt(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,w.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new S._F,this._cursorFlatBlinkInterval=new S.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const n=this._context.configuration.options;this._readOnly=n.get(80),this._cursorBlinking=n.get(22),this._cursorStyle=n.get(24),this._cursorSmoothCaretAnimation=n.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let l=0,C=this._secondaryCursors.length;l<C;l++)this._secondaryCursors[l].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,n){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<n.length){const l=n.length-this._secondaryCursors.length;for(let C=0;C<l;C++){const k=new Zt(this._context);this._domNode.domNode.insertBefore(k.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(k)}}else if(this._secondaryCursors.length>n.length){const l=this._secondaryCursors.length-n.length;for(let C=0;C<l;C++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let l=0;l<n.length;l++)this._secondaryCursors[l].onCursorPositionChanged(n[l])}onCursorStateChanged(e){const n=[];for(let C=0,k=e.selections.length;C<k;C++)n[C]=e.selections[C].getPosition();this._onCursorPositionChanged(n[0],n.slice(1));const l=e.selections[0].isEmpty();return this._selectionIsEmpty!==l&&(this._selectionIsEmpty=l,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const n=l=>{for(let C=0,k=e.ranges.length;C<k;C++)if(e.ranges[C].fromLineNumber<=l.lineNumber&&l.lineNumber<=e.ranges[C].toLineNumber)return!0;return!1};if(n(this._primaryCursor.getPosition()))return!0;for(const l of this._secondaryCursors)if(n(l.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),n=e===0,l=e===5;n?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!n&&!l&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},vi.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},vi.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case et.d2.Line:e+=" cursor-line-style";break;case et.d2.Block:e+=" cursor-block-style";break;case et.d2.Underline:e+=" cursor-underline-style";break;case et.d2.LineThin:e+=" cursor-line-thin-style";break;case et.d2.BlockOutline:e+=" cursor-block-outline-style";break;case et.d2.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,n=this._secondaryCursors.length;e<n;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,n=this._secondaryCursors.length;e<n;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let n=0,l=this._secondaryCursors.length;n<l;n++)this._secondaryCursors[n].prepareRender(e)}render(e){let n=[],l=0;const C=this._primaryCursor.render(e);C&&(n[l++]=C);for(let k=0,Z=this._secondaryCursors.length;k<Z;k++){const ie=this._secondaryCursors[k].render(e);ie&&(n[l++]=ie)}this._renderData=n}getLastRenderData(){return this._renderData}}vi.BLINK_INTERVAL=500,(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(on.n0);if(n){let l=Ct.getColor(on.fY);l||(l=n.opposite()),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${n}; border-color: ${n}; color: ${l}; }`),Ct.type==="hc"&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${l}; border-right: 1px solid ${l}; }`)}});const Xi=()=>{throw new Error("Invalid change accessor")};class ts extends le{constructor(e){super(e);const n=this._context.configuration.options,l=n.get(129);this._lineHeight=n.get(58),this._contentWidth=l.contentWidth,this._contentLeft=l.contentLeft,this.domNode=(0,w.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,w.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),n=new Map;for(const C of e)n.set(C.id,C);let l=!1;return this._context.model.changeWhitespace(C=>{const k=Object.keys(this._zones);for(let Z=0,ie=k.length;Z<ie;Z++){const ce=k[Z],De=this._zones[ce],Ae=this._computeWhitespaceProps(De.delegate);De.isInHiddenArea=Ae.isInHiddenArea;const Ue=n.get(ce);Ue&&(Ue.afterLineNumber!==Ae.afterViewLineNumber||Ue.height!==Ae.heightInPx)&&(C.changeOneWhitespace(ce,Ae.afterViewLineNumber,Ae.heightInPx),this._safeCallOnComputedHeight(De.delegate,Ae.heightInPx),l=!0)}}),l}onConfigurationChanged(e){const n=this._context.configuration.options,l=n.get(129);return this._lineHeight=n.get(58),this._contentWidth=l.contentWidth,this._contentLeft=l.contentLeft,e.hasChanged(58)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return typeof e.afterColumn!="undefined"?e.afterColumn:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let n;if(typeof e.afterColumn!="undefined")n=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const Z=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;n=new Ne.L(Z,this._context.model.getModelLineMaxColumn(Z))}let l;n.column===this._context.model.getModelLineMaxColumn(n.lineNumber)?l=this._context.model.validateModelPosition({lineNumber:n.lineNumber+1,column:1}):l=this._context.model.validateModelPosition({lineNumber:n.lineNumber,column:n.column+1});const C=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(n),k=this._context.model.coordinatesConverter.modelPositionIsVisible(l);return{isInHiddenArea:!k,afterViewLineNumber:C.lineNumber,heightInPx:k?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let n=!1;return this._context.model.changeWhitespace(l=>{const C={addZone:k=>(n=!0,this._addZone(l,k)),removeZone:k=>{k&&(n=this._removeZone(l,k)||n)},layoutZone:k=>{k&&(n=this._layoutZone(l,k)||n)}};us(e,C),C.addZone=Xi,C.removeZone=Xi,C.layoutZone=Xi}),n}_addZone(e,n){const l=this._computeWhitespaceProps(n),k={whitespaceId:e.insertWhitespace(l.afterViewLineNumber,this._getZoneOrdinal(n),l.heightInPx,l.minWidthInPx),delegate:n,isInHiddenArea:l.isInHiddenArea,isVisible:!1,domNode:(0,w.X)(n.domNode),marginDomNode:n.marginDomNode?(0,w.X)(n.marginDomNode):null};return this._safeCallOnComputedHeight(k.delegate,l.heightInPx),k.domNode.setPosition("absolute"),k.domNode.domNode.style.width="100%",k.domNode.setDisplay("none"),k.domNode.setAttribute("monaco-view-zone",k.whitespaceId),this.domNode.appendChild(k.domNode),k.marginDomNode&&(k.marginDomNode.setPosition("absolute"),k.marginDomNode.domNode.style.width="100%",k.marginDomNode.setDisplay("none"),k.marginDomNode.setAttribute("monaco-view-zone",k.whitespaceId),this.marginDomNode.appendChild(k.marginDomNode)),this._zones[k.whitespaceId]=k,this.setShouldRender(),k.whitespaceId}_removeZone(e,n){if(this._zones.hasOwnProperty(n)){const l=this._zones[n];return delete this._zones[n],e.removeWhitespace(l.whitespaceId),l.domNode.removeAttribute("monaco-visible-view-zone"),l.domNode.removeAttribute("monaco-view-zone"),l.domNode.domNode.parentNode.removeChild(l.domNode.domNode),l.marginDomNode&&(l.marginDomNode.removeAttribute("monaco-visible-view-zone"),l.marginDomNode.removeAttribute("monaco-view-zone"),l.marginDomNode.domNode.parentNode.removeChild(l.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,n){if(this._zones.hasOwnProperty(n)){const l=this._zones[n],C=this._computeWhitespaceProps(l.delegate);return l.isInHiddenArea=C.isInHiddenArea,e.changeOneWhitespace(l.whitespaceId,C.afterViewLineNumber,C.heightInPx),this._safeCallOnComputedHeight(l.delegate,C.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){return this._zones.hasOwnProperty(e)?!!this._zones[e].delegate.suppressMouseDown:!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,n){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(n)}catch(l){(0,B.dL)(l)}}_safeCallOnDomNodeTop(e,n){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(n)}catch(l){(0,B.dL)(l)}}prepareRender(e){}render(e){const n=e.viewportData.whitespaceViewportData,l={};let C=!1;for(const Z of n)this._zones[Z.id].isInHiddenArea||(l[Z.id]=Z,C=!0);const k=Object.keys(this._zones);for(let Z=0,ie=k.length;Z<ie;Z++){const ce=k[Z],De=this._zones[ce];let Ae=0,Ue=0,Lt="none";l.hasOwnProperty(ce)?(Ae=l[ce].verticalOffset-e.bigNumbersDelta,Ue=l[ce].height,Lt="block",De.isVisible||(De.domNode.setAttribute("monaco-visible-view-zone","true"),De.isVisible=!0),this._safeCallOnDomNodeTop(De.delegate,e.getScrolledTopFromAbsoluteTop(l[ce].verticalOffset))):(De.isVisible&&(De.domNode.removeAttribute("monaco-visible-view-zone"),De.isVisible=!1),this._safeCallOnDomNodeTop(De.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),De.domNode.setTop(Ae),De.domNode.setHeight(Ue),De.domNode.setDisplay(Lt),De.marginDomNode&&(De.marginDomNode.setTop(Ae),De.marginDomNode.setHeight(Ue),De.marginDomNode.setDisplay(Lt))}C&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function us(Ct,e){try{return Ct(e)}catch(n){(0,B.dL)(n)}}class Ls{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class Be{constructor(e,n,l){this.configuration=e,this.theme=new Ls(n),this.model=l,this.viewLayout=l.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}class d{constructor(e,n,l,C){this.selections=e,this.startLineNumber=n.startLineNumber|0,this.endLineNumber=n.endLineNumber|0,this.relativeVerticalOffset=n.relativeVerticalOffset,this.bigNumbersDelta=n.bigNumbersDelta|0,this.whitespaceViewportData=l,this._model=C,this.visibleRange=new Pe.e(n.startLineNumber,this._model.getLineMinColumn(n.startLineNumber),n.endLineNumber,this._model.getLineMaxColumn(n.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class M extends xe{constructor(e,n,l,C,k,Z){super(),this._selections=[new T.Y(1,1,1,1)],this._renderAnimationFrame=null;const ie=new hn(n,C,k,e);this._context=new Be(n,l.getColorTheme(),C),this._configPixelRatio=this._context.configuration.options.get(127),this._context.addEventHandler(this),this._register(l.onDidColorThemeChange(Xt=>{this._context.theme.update(Xt),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new ri(this._context,ie,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,w.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,w.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,w.X)(document.createElement("div")),Y.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new po(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new Wt(this._context,this._linesContent),this._viewZones=new ts(this._context),this._viewParts.push(this._viewZones);const ce=new Me(this._context);this._viewParts.push(ce);const De=new oi(this._context);this._viewParts.push(De);const Ae=new Co(this._context);this._viewParts.push(Ae),Ae.addDynamicOverlay(new ro(this._context)),Ae.addDynamicOverlay(new dn(this._context)),Ae.addDynamicOverlay(new io(this._context)),Ae.addDynamicOverlay(new $s(this._context));const Ue=new js(this._context);this._viewParts.push(Ue),Ue.addDynamicOverlay(new Ys(this._context)),Ue.addDynamicOverlay(new ao(this._context)),Ue.addDynamicOverlay(new Si(this._context)),Ue.addDynamicOverlay(new ti(this._context)),Ue.addDynamicOverlay(new ft(this._context));const Lt=new xt(this._context);Lt.getDomNode().appendChild(this._viewZones.marginDomNode),Lt.getDomNode().appendChild(Ue.getDomNode()),this._viewParts.push(Lt),this._contentWidgets=new ho(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new vi(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Ln(this._context),this._viewParts.push(this._overlayWidgets);const _t=new yt(this._context);this._viewParts.push(_t);const Bt=new wn(this._context);if(this._viewParts.push(Bt),ce){const Xt=this._scrollbar.getOverviewRulerLayoutInfo();Xt.parent.insertBefore(ce.getDomNode(),Xt.insertBefore)}this._linesContent.appendChild(Ae.getDomNode()),this._linesContent.appendChild(_t.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Lt.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(De.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(Bt.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),Z?Z.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new Qn(this._context,ie,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],n=this._textAreaHandler.getLastRenderData();return new bi(e,n)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,n)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,n)),visibleRangeForPosition:(e,n)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Ne.L(e,n))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(e,n)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Ne.L(e,n)))}}_applyLayout(){const n=this._context.configuration.options.get(129);this.domNode.setWidth(n.width),this.domNode.setHeight(n.height),this._overflowGuardContainer.setWidth(n.width),this._overflowGuardContainer.setHeight(n.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(126)+" "+(0,wt.m6)(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this._configPixelRatio=this._context.configuration.options.get(127),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=R.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){U(()=>this._actualRender())}_getViewPartsToRender(){let e=[],n=0;for(const l of this._viewParts)l.shouldRender()&&(e[n++]=l);return e}_actualRender(){if(!R.Uw(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return;const n=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(n.startLineNumber,n.endLineNumber,n.centeredLineNumber);const l=new d(this._selections,n,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(l),this._viewLines.shouldRender()&&(this._viewLines.renderText(l),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const C=new G(this._context.viewLayout,l,this._viewLines);for(const k of e)k.prepareRender(C);for(const k of e)k.render(C),k.onDidRender();Math.abs(r.mX()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.model.setScrollPosition({scrollTop:e.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,n){const l=this._context.model.validateModelPosition({lineNumber:e,column:n}),C=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(l);this._flushAccumulatedAndRenderNow();const k=this._viewLines.visibleRangeForPosition(new Ne.L(C.lineNumber,C.column));return k?k.left:-1}getTargetAtClientPoint(e,n){const l=this._pointerHandler.getTargetAtClientPoint(e,n);return l?pn.convertViewToModelMouseTarget(l,this._context.model.coordinatesConverter):null}createOverviewRuler(e){return new vt(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,n){if(n){this._viewLines.forceShouldRender();for(const l of this._viewParts)l.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let n=e.position&&e.position.range||null;if(n===null){const C=e.position?e.position.position:null;C!==null&&(n=new Pe.e(C.lineNumber,C.column,C.lineNumber,C.column))}const l=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,n,l),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const n=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,n)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}function U(Ct){try{return Ct()}catch(e){(0,B.dL)(e)}}class oe{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new ye.rS(new Pe.e(1,1,1,1),0,new Ne.L(1,1),0),new ye.rS(new Pe.e(1,1,1,1),0,new Ne.L(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new ye.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(e){const n=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new T.Y(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):new T.Y(n.endLineNumber,n.endColumn,n.startLineNumber,n.startColumn)}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,n,l){this._setState(e,n,l)}static _validatePositionWithCache(e,n,l,C){return n.equals(l)?C:e.normalizePosition(n,2)}static _validateViewState(e,n){const l=n.position,C=n.selectionStart.getStartPosition(),k=n.selectionStart.getEndPosition(),Z=e.normalizePosition(l,2),ie=this._validatePositionWithCache(e,C,l,Z),ce=this._validatePositionWithCache(e,k,C,ie);return l.equals(Z)&&C.equals(ie)&&k.equals(ce)?n:new ye.rS(Pe.e.fromPositions(ie,ce),n.selectionStartLeftoverVisibleColumns+C.column-ie.column,Z,n.leftoverVisibleColumns+l.column-Z.column)}_setState(e,n,l){if(l&&(l=oe._validateViewState(e.viewModel,l)),n){const C=e.model.validateRange(n.selectionStart),k=n.selectionStart.equalsRange(C)?n.selectionStartLeftoverVisibleColumns:0,Z=e.model.validatePosition(n.position),ie=n.position.equals(Z)?n.leftoverVisibleColumns:0;n=new ye.rS(C,k,Z,ie)}else{if(!l)return;const C=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(l.selectionStart)),k=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(l.position));n=new ye.rS(C,l.selectionStartLeftoverVisibleColumns,k,l.leftoverVisibleColumns)}if(l){const C=e.coordinatesConverter.validateViewRange(l.selectionStart,n.selectionStart),k=e.coordinatesConverter.validateViewPosition(l.position,n.position);l=new ye.rS(C,n.selectionStartLeftoverVisibleColumns,k,n.leftoverVisibleColumns)}else{const C=e.coordinatesConverter.convertModelPositionToViewPosition(new Ne.L(n.selectionStart.startLineNumber,n.selectionStart.startColumn)),k=e.coordinatesConverter.convertModelPositionToViewPosition(new Ne.L(n.selectionStart.endLineNumber,n.selectionStart.endColumn)),Z=new Pe.e(C.lineNumber,C.column,k.lineNumber,k.column),ie=e.coordinatesConverter.convertModelPositionToViewPosition(n.position);l=new ye.rS(Z,n.selectionStartLeftoverVisibleColumns,ie,n.leftoverVisibleColumns)}this.modelState=n,this.viewState=l,this._updateTrackedRange(e)}}class he{constructor(e){this.context=e,this.primaryCursor=new oe(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let e=0,n=this.secondaryCursors.length;e<n;e++)this.secondaryCursors[e].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let e=0,n=this.secondaryCursors.length;e<n;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let e=0,n=this.secondaryCursors.length;e<n;e++)this.secondaryCursors[e].ensureValidState(this.context)}readSelectionFromMarkers(){let e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let n=0,l=this.secondaryCursors.length;n<l;n++)e[n+1]=this.secondaryCursors[n].readSelectionFromMarkers(this.context);return e}getAll(){let e=[];e[0]=this.primaryCursor.asCursorState();for(let n=0,l=this.secondaryCursors.length;n<l;n++)e[n+1]=this.secondaryCursors[n].asCursorState();return e}getViewPositions(){let e=[];e[0]=this.primaryCursor.viewState.position;for(let n=0,l=this.secondaryCursors.length;n<l;n++)e[n+1]=this.secondaryCursors[n].viewState.position;return e}getTopMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let n=0,l=this.secondaryCursors.length;n<l;n++){const C=this.secondaryCursors[n].viewState.position;C.isBefore(e)&&(e=C)}return e}getBottomMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let n=0,l=this.secondaryCursors.length;n<l;n++){const C=this.secondaryCursors[n].viewState.position;e.isBeforeOrEqual(C)&&(e=C)}return e}getSelections(){let e=[];e[0]=this.primaryCursor.modelState.selection;for(let n=0,l=this.secondaryCursors.length;n<l;n++)e[n+1]=this.secondaryCursors[n].modelState.selection;return e}getViewSelections(){let e=[];e[0]=this.primaryCursor.viewState.selection;for(let n=0,l=this.secondaryCursors.length;n<l;n++)e[n+1]=this.secondaryCursors[n].viewState.selection;return e}setSelections(e){this.setStates(ye.Vi.fromModelSelections(e))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(e){e!==null&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const n=this.secondaryCursors.length,l=e.length;if(n<l){let C=l-n;for(let k=0;k<C;k++)this._addSecondaryCursor()}else if(n>l){let C=n-l;for(let k=0;k<C;k++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let C=0;C<l;C++)this.secondaryCursors[C].setState(this.context,e[C].modelState,e[C].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new oe(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)}_getAll(){let e=[];e[0]=this.primaryCursor;for(let n=0,l=this.secondaryCursors.length;n<l;n++)e[n+1]=this.secondaryCursors[n];return e}normalize(){if(this.secondaryCursors.length===0)return;let e=this._getAll(),n=[];for(let l=0,C=e.length;l<C;l++)n.push({index:l,selection:e[l].modelState.selection});n.sort((l,C)=>l.selection.startLineNumber===C.selection.startLineNumber?l.selection.startColumn-C.selection.startColumn:l.selection.startLineNumber-C.selection.startLineNumber);for(let l=0;l<n.length-1;l++){const C=n[l],k=n[l+1],Z=C.selection,ie=k.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let ce;if(ie.isEmpty()||Z.isEmpty()?ce=ie.getStartPosition().isBeforeOrEqual(Z.getEndPosition()):ce=ie.getStartPosition().isBefore(Z.getEndPosition()),ce){const De=C.index<k.index?l:l+1,Ae=C.index<k.index?l+1:l,Ue=n[Ae].index,Lt=n[De].index,_t=n[Ae].selection,Bt=n[De].selection;if(!_t.equalsSelection(Bt)){const Xt=_t.plusRange(Bt),fi=_t.selectionStartLineNumber===_t.startLineNumber&&_t.selectionStartColumn===_t.startColumn,Di=Bt.selectionStartLineNumber===Bt.startLineNumber&&Bt.selectionStartColumn===Bt.startColumn;let Wi;Ue===this.lastAddedCursorIndex?(Wi=fi,this.lastAddedCursorIndex=Lt):Wi=Di;let Ti;Wi?Ti=new T.Y(Xt.startLineNumber,Xt.startColumn,Xt.endLineNumber,Xt.endColumn):Ti=new T.Y(Xt.endLineNumber,Xt.endColumn,Xt.startLineNumber,Xt.startColumn),n[De].selection=Ti;const Yi=ye.Vi.fromModelSelection(Ti);e[Lt].setState(this.context,Yi.modelState,Yi.viewState)}for(const Xt of n)Xt.index>Ue&&Xt.index--;e.splice(Ue,1),n.splice(Ae,1),this._removeSecondaryCursor(Ue-1),l--}}}}var Le=c(31380),We=c(70966),lt=c(83256);class Pt{constructor(){this.type=0}}class St{constructor(){this.type=1}}class Rt{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class Gt{constructor(e,n){this.type=3,this.selections=e,this.modelSelections=n}}class li{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class ae{constructor(){this.type=5}}class we{constructor(e){this.type=6,this.isFocused=e}}class dt{constructor(){this.type=7}}class pt{constructor(){this.type=8}}class rt{constructor(e,n){this.type=9,this.fromLineNumber=e,this.toLineNumber=n}}class Ut{constructor(e,n){this.type=10,this.fromLineNumber=e,this.toLineNumber=n}}class ni{constructor(e,n){this.type=11,this.fromLineNumber=e,this.toLineNumber=n}}class zt{constructor(e,n,l,C,k,Z){this.type=12,this.source=e,this.range=n,this.selections=l,this.verticalType=C,this.revealHorizontal=k,this.scrollType=Z}}class Ri{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class Ci{constructor(){this.type=14}}class Ei{constructor(e){this.type=15,this.ranges=e}}class wi{constructor(){this.type=16}}class bn{constructor(){this.type=17}}class ji extends N.JT{constructor(){super(),this._onEvent=this._register(new s.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let n=0,l=this._outgoingEvents.length;n<l;n++)if(this._outgoingEvents[n].kind===e.kind){this._outgoingEvents[n]=this._outgoingEvents[n].merge(e);return}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let n=0,l=this._eventHandlers.length;n<l;n++)this._eventHandlers[n]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let n=0;n<this._eventHandlers.length;n++)if(this._eventHandlers[n]===e){this._eventHandlers.splice(n,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new gn),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,n=this._collector.viewEvents;this._collector=null;for(const l of e)this._addOutgoingEvent(l);n.length>0&&this._emitMany(n)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const n=this._eventHandlers.slice(0);for(const l of n)l.handleEvents(e)}}}class gn{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class Wn{constructor(e,n,l,C){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=n,this.contentWidth=l,this.contentHeight=C,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return e.kind!==0?this:new Wn(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class zn{constructor(e,n){this.kind=1,this.oldHasFocus=e,this.hasFocus=n}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return e.kind!==1?this:new zn(this.oldHasFocus,e.hasFocus)}}class Vn{constructor(e,n,l,C,k,Z,ie,ce){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=n,this._oldScrollHeight=l,this._oldScrollTop=C,this.scrollWidth=k,this.scrollLeft=Z,this.scrollHeight=ie,this.scrollTop=ce,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(e){return e.kind!==2?this:new Vn(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class qn{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class ws{constructor(){this.kind=4}isNoOp(){return!1}merge(e){return this}}class Us{constructor(e,n,l,C,k,Z,ie){this.kind=6,this.oldSelections=e,this.selections=n,this.oldModelVersionId=l,this.modelVersionId=C,this.source=k,this.reason=Z,this.reachedMaxCursorCount=ie}static _selectionsAreEqual(e,n){if(!e&&!n)return!0;if(!e||!n)return!1;const l=e.length,C=n.length;if(l!==C)return!1;for(let k=0;k<l;k++)if(!e[k].equalsSelection(n[k]))return!1;return!0}isNoOp(){return Us._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return e.kind!==6?this:new Us(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class Bs{constructor(){this.kind=5}isNoOp(){return!1}merge(e){return this}}class cs{constructor(e,n){this.modelVersionId=e.getVersionId(),this.cursorState=n.getCursorStates()}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let n=0,l=this.cursorState.length;n<l;n++)if(!this.cursorState[n].equals(e.cursorState[n]))return!1;return!0}}class Ws{constructor(e,n,l){this._model=e,this._autoClosedCharactersDecorations=n,this._autoClosedEnclosingDecorations=l}static getAllAutoClosedCharacters(e){let n=[];for(const l of e)n=n.concat(l.getAutoClosedCharactersRanges());return n}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let n=0;n<this._autoClosedCharactersDecorations.length;n++){const l=this._model.getDecorationRange(this._autoClosedCharactersDecorations[n]);l&&e.push(l)}return e}isValid(e){let n=[];for(let l=0;l<this._autoClosedEnclosingDecorations.length;l++){const C=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[l]);if(C&&(n.push(C),C.startLineNumber!==C.endLineNumber))return!1}n.sort(Pe.e.compareRangesUsingStarts),e.sort(Pe.e.compareRangesUsingStarts);for(let l=0;l<e.length;l++)if(l>=n.length||!n[l].strictContainsRange(e[l]))return!1;return!0}}class vs extends N.JT{constructor(e,n,l,C){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=n,this._coordinatesConverter=l,this.context=new ye.zp(this._model,this._viewModel,this._coordinatesConverter,C),this._cursors=new he(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,N.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new ye.zp(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let n=0;n<this._autoClosedActions.length;n++){const l=this._autoClosedActions[n];l.isValid(e)||(l.dispose(),this._autoClosedActions.splice(n,1),n--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,n,l,C){let k=!1;C!==null&&C.length>vs.MAX_CURSOR_COUNT&&(C=C.slice(0,vs.MAX_CURSOR_COUNT),k=!0);const Z=new cs(this._model,this);return this._cursors.setStates(C),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,n,l,Z,k)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,n,l,C){const k=this._cursors.getViewPositions();if(k.length>1){this._emitCursorRevealRange(e,n,null,this._cursors.getViewSelections(),0,l,C);return}else{const Z=k[0],ie=new Pe.e(Z.lineNumber,Z.column,Z.lineNumber,Z.column);this._emitCursorRevealRange(e,n,ie,null,0,l,C)}}_revealPrimaryCursor(e,n,l,C,k){const Z=this._cursors.getViewPositions();if(Z.length>1)this._emitCursorRevealRange(e,n,null,this._cursors.getViewSelections(),l,C,k);else{const ie=Z[0],ce=new Pe.e(ie.lineNumber,ie.column,ie.lineNumber,ie.column);this._emitCursorRevealRange(e,n,ce,null,l,C,k)}}_emitCursorRevealRange(e,n,l,C,k,Z,ie){e.emitViewEvent(new zt(n,l,C,k,Z,ie))}saveState(){let e=[];const n=this._cursors.getSelections();for(let l=0,C=n.length;l<C;l++){const k=n[l];e.push({inSelectionMode:!k.isEmpty(),selectionStart:{lineNumber:k.selectionStartLineNumber,column:k.selectionStartColumn},position:{lineNumber:k.positionLineNumber,column:k.positionColumn}})}return e}restoreState(e,n){let l=[];for(let C=0,k=n.length;C<k;C++){const Z=n[C];let ie=1,ce=1;Z.position&&Z.position.lineNumber&&(ie=Z.position.lineNumber),Z.position&&Z.position.column&&(ce=Z.position.column);let De=ie,Ae=ce;Z.selectionStart&&Z.selectionStart.lineNumber&&(De=Z.selectionStart.lineNumber),Z.selectionStart&&Z.selectionStart.column&&(Ae=Z.selectionStart.column),l.push({selectionStartLineNumber:De,selectionStartColumn:Ae,positionLineNumber:ie,positionColumn:ce})}this.setStates(e,"restoreState",0,ye.Vi.fromModelSelections(l)),this.revealPrimary(e,"restoreState",!0,1)}onModelContentChanged(e,n){if(n instanceof lt.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=n.versionId,this._isHandling)return;const l=n.containsEvent(1);if(this._prevEditOperationType=0,l)this._cursors.dispose(),this._cursors=new he(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&n.resultingSelection&&n.resultingSelection.length>0){const C=ye.Vi.fromModelSelections(n.resultingSelection);this.setStates(e,"modelChange",n.isUndoing?5:n.isRedoing?6:2,C)&&this._revealPrimaryCursor(e,"modelChange",0,!0,0)}else{const C=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,ye.Vi.fromModelSelections(C))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),n=e.viewState.selectionStart.getStartPosition(),l=e.viewState.position;return{isReal:!1,fromViewLineNumber:n.lineNumber,fromViewVisualColumn:ye.io.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,n),toViewLineNumber:l.lineNumber,toViewVisualColumn:ye.io.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,l)}}getSelections(){return this._cursors.getSelections()}setSelections(e,n,l,C){this.setStates(e,n,C,ye.Vi.fromModelSelections(l))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,n){let l=[],C=[];for(let ie=0,ce=e.length;ie<ce;ie++)l.push({range:e[ie],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),C.push({range:n[ie],options:{description:"auto-closed-enclosing",stickiness:1}});const k=this._model.deltaDecorations([],l),Z=this._model.deltaDecorations([],C);this._autoClosedActions.push(new Ws(this._model,k,Z))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const n=ss.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(n){this._interpretCommandResult(n);let l=[],C=[];for(let k=0;k<e.commands.length;k++){const Z=e.commands[k];Z instanceof We.g&&Z.enclosingRange&&Z.closeCharacterRange&&(l.push(Z.closeCharacterRange),C.push(Z.enclosingRange))}l.length>0&&this._pushAutoClosedAction(l,C),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,n,l,C,k){const Z=new cs(this._model,this);if(Z.equals(C))return!1;const ie=this._cursors.getSelections(),ce=this._cursors.getViewSelections();if(e.emitViewEvent(new Gt(ce,ie)),!C||C.cursorState.length!==Z.cursorState.length||Z.cursorState.some((De,Ae)=>!De.modelState.equals(C.cursorState[Ae].modelState))){const De=C?C.cursorState.map(Ue=>Ue.modelState.selection):null,Ae=C?C.modelVersionId:0;e.emitOutgoingEvent(new Us(De,ie,Ae,Z.modelVersionId,n||"keyboard",l,k))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let n=[];for(let l=0,C=e.length;l<C;l++){const k=e[l];if(!k.text||k.text.indexOf(`
`)>=0)return null;const Z=k.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Z)return null;const ie=Z[1],ce=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(ie);if(!ce||ce.length!==1)return null;const De=ce[0].open,Ae=k.text.length-Z[2].length-1,Ue=k.text.lastIndexOf(De,Ae-1);if(Ue===-1)return null;n.push([Ue,Ae])}return n}executeEdits(e,n,l,C){let k=null;n==="snippet"&&(k=this._findAutoClosingPairs(l)),k&&(l[0]._isTracked=!0);let Z=[],ie=[];const ce=this._model.pushEditOperations(this.getSelections(),l,De=>{if(k)for(let Ue=0,Lt=k.length;Ue<Lt;Ue++){const[_t,Bt]=k[Ue],Xt=De[Ue],fi=Xt.range.startLineNumber,Di=Xt.range.startColumn-1+_t,Wi=Xt.range.startColumn-1+Bt;Z.push(new Pe.e(fi,Wi+1,fi,Wi+2)),ie.push(new Pe.e(fi,Di+1,fi,Wi+2))}const Ae=C(De);return Ae&&(this._isHandling=!0),Ae});ce&&(this._isHandling=!1,this.setSelections(e,n,ce,0)),Z.length>0&&this._pushAutoClosedAction(Z,ie)}_executeEdit(e,n,l,C=0){if(this.context.cursorConfig.readOnly)return;const k=new cs(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(Z){(0,B.dL)(Z)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(n,l,C,k,!1)&&this._revealPrimaryCursor(n,l,0,!0,0)}setIsDoingComposition(e){this._isDoingComposition=e}getAutoClosedCharacters(){return Ws.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,n){this._executeEdit(()=>{n==="keyboard"&&(this._executeEditOperation(We.u.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},e,n)}type(e,n,l){this._executeEdit(()=>{if(l==="keyboard"){const C=n.length;let k=0;for(;k<C;){const Z=$e.vH(n,k),ie=n.substr(k,Z);this._executeEditOperation(We.u.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),ie)),k+=Z}}else this._executeEditOperation(We.u.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),n))},e,l)}compositionType(e,n,l,C,k,Z){if(n.length===0&&l===0&&C===0){if(k!==0){const ie=this.getSelections().map(ce=>{const De=ce.getPosition();return new T.Y(De.lineNumber,De.column+k,De.lineNumber,De.column+k)});this.setSelections(e,Z,ie,0)}return}this._executeEdit(()=>{this._executeEditOperation(We.u.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),n,l,C,k))},e,Z)}paste(e,n,l,C,k){this._executeEdit(()=>{this._executeEditOperation(We.u.paste(this.context.cursorConfig,this._model,this.getSelections(),n,l,C||[]))},e,k,4)}cut(e,n){this._executeEdit(()=>{this._executeEditOperation(Le.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,n)}executeCommand(e,n,l){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new ye.Tp(0,[n],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,l)}executeCommands(e,n,l){this._executeEdit(()=>{this._executeEditOperation(new ye.Tp(0,n,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,l)}}vs.MAX_CURSOR_COUNT=1e4;class ss{static executeCommands(e,n,l){const C={model:e,selectionsBefore:n,trackedRanges:[],trackedRangesDirection:[]},k=this._innerExecuteCommands(C,l);for(let Z=0,ie=C.trackedRanges.length;Z<ie;Z++)C.model._setTrackedRange(C.trackedRanges[Z],null,0);return k}static _innerExecuteCommands(e,n){if(this._arrayIsEmpty(n))return null;const l=this._getEditOperations(e,n);if(l.operations.length===0)return null;const C=l.operations,k=this._getLoserCursorMap(C);if(k.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let Z=[];for(let De=0,Ae=C.length;De<Ae;De++)k.hasOwnProperty(C[De].identifier.major.toString())||Z.push(C[De]);l.hadTrackedEditOperation&&Z.length>0&&(Z[0]._isTracked=!0);let ie=e.model.pushEditOperations(e.selectionsBefore,Z,De=>{let Ae=[];for(let _t=0;_t<e.selectionsBefore.length;_t++)Ae[_t]=[];for(const _t of De)_t.identifier&&Ae[_t.identifier.major].push(_t);const Ue=(_t,Bt)=>_t.identifier.minor-Bt.identifier.minor;let Lt=[];for(let _t=0;_t<e.selectionsBefore.length;_t++)Ae[_t].length>0?(Ae[_t].sort(Ue),Lt[_t]=n[_t].computeCursorState(e.model,{getInverseEditOperations:()=>Ae[_t],getTrackedSelection:Bt=>{const Xt=parseInt(Bt,10),fi=e.model._getTrackedRange(e.trackedRanges[Xt]);return e.trackedRangesDirection[Xt]===0?new T.Y(fi.startLineNumber,fi.startColumn,fi.endLineNumber,fi.endColumn):new T.Y(fi.endLineNumber,fi.endColumn,fi.startLineNumber,fi.startColumn)}})):Lt[_t]=e.selectionsBefore[_t];return Lt});ie||(ie=e.selectionsBefore);let ce=[];for(let De in k)k.hasOwnProperty(De)&&ce.push(parseInt(De,10));ce.sort((De,Ae)=>Ae-De);for(const De of ce)ie.splice(De,1);return ie}static _arrayIsEmpty(e){for(let n=0,l=e.length;n<l;n++)if(e[n])return!1;return!0}static _getEditOperations(e,n){let l=[],C=!1;for(let k=0,Z=n.length;k<Z;k++){const ie=n[k];if(ie){const ce=this._getEditOperationsFromCommand(e,k,ie);l=l.concat(ce.operations),C=C||ce.hadTrackedEditOperation}}return{operations:l,hadTrackedEditOperation:C}}static _getEditOperationsFromCommand(e,n,l){let C=[],k=0;const Z=(Ue,Lt,_t=!1)=>{Pe.e.isEmpty(Ue)&&Lt===""||C.push({identifier:{major:n,minor:k++},range:Ue,text:Lt,forceMoveMarkers:_t,isAutoWhitespaceEdit:l.insertsAutoWhitespace})};let ie=!1;const Ae={addEditOperation:Z,addTrackedEditOperation:(Ue,Lt,_t)=>{ie=!0,Z(Ue,Lt,_t)},trackSelection:(Ue,Lt)=>{const _t=T.Y.liftSelection(Ue);let Bt;if(_t.isEmpty())if(typeof Lt=="boolean")Lt?Bt=2:Bt=3;else{const Di=e.model.getLineMaxColumn(_t.startLineNumber);_t.startColumn===Di?Bt=2:Bt=3}else Bt=1;const Xt=e.trackedRanges.length,fi=e.model._setTrackedRange(null,_t,Bt);return e.trackedRanges[Xt]=fi,e.trackedRangesDirection[Xt]=_t.getDirection(),Xt.toString()}};try{l.getEditOperations(e.model,Ae)}catch(Ue){return(0,B.dL)(Ue),{operations:[],hadTrackedEditOperation:!1}}return{operations:C,hadTrackedEditOperation:ie}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((l,C)=>-Pe.e.compareRangesUsingEnds(l.range,C.range));let n={};for(let l=1;l<e.length;l++){const C=e[l-1],k=e[l];if(Pe.e.getStartPosition(C.range).isBefore(Pe.e.getEndPosition(k.range))){let Z;C.identifier.major>k.identifier.major?Z=C.identifier.major:Z=k.identifier.major,n[Z.toString()]=!0;for(let ie=0;ie<e.length;ie++)e[ie].identifier.major===Z&&(e.splice(ie,1),ie<l&&l--,ie--);l>0&&l--}}return n}}var Ms=c(30653),uo=c(96518),An=c(29102),Vs=c(55713),Gs=c(76633);class Js{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const n=this._inserts,l=this._changes,C=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(n,l,C)}}class ms{constructor(e,n,l,C,k){this.id=e,this.afterLineNumber=n,this.ordinal=l,this.height=C,this.minWidth=k,this.prefixSum=0}}class ps{constructor(e,n,l,C){this._instanceId=$e.PJ(++ps.INSTANCE_COUNT),this._pendingChanges=new Js,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=n,this._paddingTop=l,this._paddingBottom=C}static findInsertionIndex(e,n,l){let C=0,k=e.length;for(;C<k;){const Z=C+k>>>1;n===e[Z].afterLineNumber?l<e[Z].ordinal?k=Z:C=Z+1:n<e[Z].afterLineNumber?k=Z:C=Z+1}return C}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,n){this._paddingTop=e,this._paddingBottom=n}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let n=!1;try{e({insertWhitespace:(C,k,Z,ie)=>{n=!0,C=C|0,k=k|0,Z=Z|0,ie=ie|0;const ce=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new ms(ce,C,k,Z,ie)),ce},changeOneWhitespace:(C,k,Z)=>{n=!0,k=k|0,Z=Z|0,this._pendingChanges.change({id:C,newAfterLineNumber:k,newHeight:Z})},removeWhitespace:C=>{n=!0,this._pendingChanges.remove({id:C})}})}finally{this._pendingChanges.commit(this)}return n}_commitPendingChanges(e,n,l){if((e.length>0||l.length>0)&&(this._minWidth=-1),e.length+n.length+l.length<=1){for(const ce of e)this._insertWhitespace(ce);for(const ce of n)this._changeOneWhitespace(ce.id,ce.newAfterLineNumber,ce.newHeight);for(const ce of l){const De=this._findWhitespaceIndex(ce.id);De!==-1&&this._removeWhitespace(De)}return}const C=new Set;for(const ce of l)C.add(ce.id);const k=new Map;for(const ce of n)k.set(ce.id,ce);const Z=ce=>{let De=[];for(const Ae of ce)if(!C.has(Ae.id)){if(k.has(Ae.id)){const Ue=k.get(Ae.id);Ae.afterLineNumber=Ue.newAfterLineNumber,Ae.height=Ue.newHeight}De.push(Ae)}return De},ie=Z(this._arr).concat(Z(e));ie.sort((ce,De)=>ce.afterLineNumber===De.afterLineNumber?ce.ordinal-De.ordinal:ce.afterLineNumber-De.afterLineNumber),this._arr=ie,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const n=ps.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(n,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)}_findWhitespaceIndex(e){const n=this._arr;for(let l=0,C=n.length;l<C;l++)if(n[l].id===e)return l;return-1}_changeOneWhitespace(e,n,l){const C=this._findWhitespaceIndex(e);if(C!==-1&&(this._arr[C].height!==l&&(this._arr[C].height=l,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,C-1)),this._arr[C].afterLineNumber!==n)){const k=this._arr[C];this._removeWhitespace(C),k.afterLineNumber=n,this._insertWhitespace(k)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,n){this._checkPendingChanges(),e=e|0,n=n|0,this._lineCount-=n-e+1;for(let l=0,C=this._arr.length;l<C;l++){const k=this._arr[l].afterLineNumber;e<=k&&k<=n?this._arr[l].afterLineNumber=e-1:k>n&&(this._arr[l].afterLineNumber-=n-e+1)}}onLinesInserted(e,n){this._checkPendingChanges(),e=e|0,n=n|0,this._lineCount+=n-e+1;for(let l=0,C=this._arr.length;l<C;l++){const k=this._arr[l].afterLineNumber;e<=k&&(this._arr[l].afterLineNumber+=n-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let n=Math.max(0,this._prefixSumValidIndex+1);n===0&&(this._arr[0].prefixSum=this._arr[0].height,n++);for(let l=n;l<=e;l++)this._arr[l].prefixSum=this._arr[l-1].prefixSum+this._arr[l].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,n=this.getWhitespacesTotalHeight();return e+n+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const n=this._findLastWhitespaceBeforeLineNumber(e);return n===-1?0:this.getWhitespacesAccumulatedHeight(n)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const n=this._arr;let l=0,C=n.length-1;for(;l<=C;){const Z=(C-l|0)/2|0,ie=l+Z|0;if(n[ie].afterLineNumber<e){if(ie+1>=n.length||n[ie+1].afterLineNumber>=e)return ie;l=ie+1|0}else C=ie-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const l=this._findLastWhitespaceBeforeLineNumber(e)+1;return l<this._arr.length?l:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){this._checkPendingChanges(),e=e|0;let n;e>1?n=this._lineHeight*(e-1):n=0;const l=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e);return n+l+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let n=0,l=this._arr.length;n<l;n++)e=Math.max(e,this._arr[n].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const n=this.getLinesTotalHeight();return e>n}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const n=this.getLinesTotalHeight();return e>=n-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const n=this._lineCount|0,l=this._lineHeight;let C=1,k=n;for(;C<k;){const Z=(C+k)/2|0,ie=this.getVerticalOffsetForLineNumber(Z)|0;if(e>=ie+l)C=Z+1;else{if(e>=ie)return Z;k=Z}}return C>n?n:C}getLinesViewportData(e,n){this._checkPendingChanges(),e=e|0,n=n|0;const l=this._lineHeight,C=this.getLineNumberAtOrAfterVerticalOffset(e)|0,k=this.getVerticalOffsetForLineNumber(C)|0;let Z=this._lineCount|0,ie=this.getFirstWhitespaceIndexAfterLineNumber(C)|0;const ce=this.getWhitespacesCount()|0;let De,Ae;ie===-1?(ie=ce,Ae=Z+1,De=0):(Ae=this.getAfterLineNumberForWhitespaceIndex(ie)|0,De=this.getHeightForWhitespaceIndex(ie)|0);let Ue=k,Lt=Ue;const _t=5e5;let Bt=0;k>=_t&&(Bt=Math.floor(k/_t)*_t,Bt=Math.floor(Bt/l)*l,Lt-=Bt);const Xt=[],fi=e+(n-e)/2;let Di=-1;for(let Pi=C;Pi<=Z;Pi++){if(Di===-1){const Dn=Ue,vn=Ue+l;(Dn<=fi&&fi<vn||Dn>fi)&&(Di=Pi)}for(Ue+=l,Xt[Pi-C]=Lt,Lt+=l;Ae===Pi;)Lt+=De,Ue+=De,ie++,ie>=ce?Ae=Z+1:(Ae=this.getAfterLineNumberForWhitespaceIndex(ie)|0,De=this.getHeightForWhitespaceIndex(ie)|0);if(Ue>=n){Z=Pi;break}}Di===-1&&(Di=Z);const Wi=this.getVerticalOffsetForLineNumber(Z)|0;let Ti=C,Yi=Z;return Ti<Yi&&k<e&&Ti++,Ti<Yi&&Wi+l>n&&Yi--,{bigNumbersDelta:Bt,startLineNumber:C,endLineNumber:Z,relativeVerticalOffset:Xt,centeredLineNumber:Di,completelyVisibleStartLineNumber:Ti,completelyVisibleEndLineNumber:Yi}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const n=this.getAfterLineNumberForWhitespaceIndex(e);let l;n>=1?l=this._lineHeight*n:l=0;let C;return e>0?C=this.getWhitespacesAccumulatedHeight(e-1):C=0,l+C+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let n=0,l=this.getWhitespacesCount()-1;if(l<0)return-1;const C=this.getVerticalOffsetForWhitespaceIndex(l),k=this.getHeightForWhitespaceIndex(l);if(e>=C+k)return-1;for(;n<l;){const Z=Math.floor((n+l)/2),ie=this.getVerticalOffsetForWhitespaceIndex(Z),ce=this.getHeightForWhitespaceIndex(Z);if(e>=ie+ce)n=Z+1;else{if(e>=ie)return Z;l=Z}}return n}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const n=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(n<0||n>=this.getWhitespacesCount())return null;const l=this.getVerticalOffsetForWhitespaceIndex(n);if(l>e)return null;const C=this.getHeightForWhitespaceIndex(n),k=this.getIdForWhitespaceIndex(n),Z=this.getAfterLineNumberForWhitespaceIndex(n);return{id:k,afterLineNumber:Z,verticalOffset:l,height:C}}getWhitespaceViewportData(e,n){this._checkPendingChanges(),e=e|0,n=n|0;const l=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),C=this.getWhitespacesCount()-1;if(l<0)return[];let k=[];for(let Z=l;Z<=C;Z++){const ie=this.getVerticalOffsetForWhitespaceIndex(Z),ce=this.getHeightForWhitespaceIndex(Z);if(ie>=n)break;k.push({id:this.getIdForWhitespaceIndex(Z),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(Z),verticalOffset:ie,height:ce})}return k}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}}ps.INSTANCE_COUNT=0;const Ss=125;class Is{constructor(e,n,l,C){e=e|0,n=n|0,l=l|0,C=C|0,e<0&&(e=0),n<0&&(n=0),l<0&&(l=0),C<0&&(C=0),this.width=e,this.contentWidth=n,this.scrollWidth=Math.max(e,n),this.height=l,this.contentHeight=C,this.scrollHeight=Math.max(l,C)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class Lo extends N.JT{constructor(e,n){super(),this._onDidContentSizeChange=this._register(new s.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Is(0,0,0,0),this._scrollable=this._register(new Gs.Rm(e,n)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const n=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const l=n.contentWidth!==e.contentWidth,C=n.contentHeight!==e.contentHeight;(l||C)&&this._onDidContentSizeChange.fire(new Wn(n.contentWidth,n.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class So extends N.JT{constructor(e,n,l){super(),this._configuration=e;const C=this._configuration.options,k=C.get(129),Z=C.get(74);this._linesLayout=new ps(n,C.get(58),Z.top,Z.bottom),this._scrollable=this._register(new Lo(0,l)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Is(k.contentWidth,0,k.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?Ss:0)}onConfigurationChanged(e){const n=this._configuration.options;if(e.hasChanged(58)&&this._linesLayout.setLineHeight(n.get(58)),e.hasChanged(74)){const l=n.get(74);this._linesLayout.setPadding(l.top,l.bottom)}if(e.hasChanged(129)){const l=n.get(129),C=l.contentWidth,k=l.height,Z=this._scrollable.getScrollDimensions(),ie=Z.contentWidth;this._scrollable.setScrollDimensions(new Is(C,Z.contentWidth,k,this._getContentHeight(C,k,ie)))}else this._updateHeight();e.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,n){this._linesLayout.onLinesDeleted(e,n)}onLinesInserted(e,n){this._linesLayout.onLinesInserted(e,n)}_getHorizontalScrollbarHeight(e,n){const C=this._configuration.options.get(91);return C.horizontal===2||e>=n?0:C.horizontalScrollbarSize}_getContentHeight(e,n,l){const C=this._configuration.options;let k=this._linesLayout.getLinesTotalHeight();return C.get(93)?k+=Math.max(0,n-C.get(58)-C.get(74).bottom):k+=this._getHorizontalScrollbarHeight(e,l),k}_updateHeight(){const e=this._scrollable.getScrollDimensions(),n=e.width,l=e.height,C=e.contentWidth;this._scrollable.setScrollDimensions(new Is(n,e.contentWidth,l,this._getContentHeight(n,l,C)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),n=this._scrollable.getCurrentScrollPosition();return new Li.l_(n.scrollTop,n.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),n=this._scrollable.getFutureScrollPosition();return new Li.l_(n.scrollTop,n.scrollLeft,e.width,e.height)}_computeContentWidth(e){const n=this._configuration.options,l=n.get(130),C=n.get(43);if(l.isViewportWrapping){const k=n.get(129),Z=n.get(64);return e>k.contentWidth+C.typicalHalfwidthCharacterWidth&&Z.enabled&&Z.side==="right"?e+k.verticalScrollbarWidth:e}else{const k=n.get(92)*C.typicalHalfwidthCharacterWidth,Z=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+k,Z)}}setMaxLineWidth(e){const n=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Is(n.width,this._computeContentWidth(e),n.height,n.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition();let n=e.scrollTop,l=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(n),C=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(l);return{scrollTop:n,scrollTopWithoutViewZones:n-C,scrollLeft:e.scrollLeft}}changeWhitespace(e){const n=this._linesLayout.changeWhitespace(e);return n&&this.onHeightMaybeChanged(),n}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const n=this._scrollable.getScrollDimensions();return e+n.height>n.scrollHeight&&(e=n.scrollHeight-n.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+n.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,n){n===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,n){const l=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:l.scrollLeft+e,scrollTop:l.scrollTop+n})}}var bo=c(78411),zo=c(3544);class lo{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,n){return this._lines.validateViewPosition(e.lineNumber,e.column,n)}validateViewRange(e,n){return this._lines.validateViewRange(e,n)}convertModelPositionToViewPosition(e,n){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,n)}convertModelRangeToViewRange(e,n){return this._lines.convertModelRangeToViewRange(e,n)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,n){return this._lines.getViewLineNumberOfModelPosition(e,n)}}class Do{constructor(e){this._counts=e,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,n=this._counts.length;e<n;e++){const l=this._counts[e],C=e>0?this._modelToView[e-1]:0;this._modelToView[e]=C+l;for(let k=0;k<l;k++)this._viewToModel[C+k]=e}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(e,n){this._counts[e]!==n&&(this._counts[e]=n,this._invalidate(e))}removeValues(e,n){this._counts.splice(e,n),this._invalidate(e)}insertValues(e,n){this._counts=Es.Zv(this._counts,e,n),this._invalidate(e)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(e){return this._ensureValid(),this._modelToView[e]}getIndexOf(e){this._ensureValid();const n=this._viewToModel[e],l=n>0?this._modelToView[n-1]:0;return new zo.T(n,e-l)}}class Jo{constructor(e,n,l,C,k,Z,ie,ce,De){this._editorId=e,this.model=n,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=l,this._monospaceLineBreaksComputerFactory=C,this.fontInfo=k,this.tabSize=Z,this.wrappingStrategy=ie,this.wrappingColumn=ce,this.wrappingIndent=De,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new lo(this)}_constructLines(e,n){this.lines=[],e&&(this.hiddenAreasIds=[]);const l=this.model.getLinesContent(),C=this.model.getInjectedTextDecorations(this._editorId),k=l.length,Z=this.createLineBreaksComputer(),ie=new Es.H9(lt.gk.fromDecorations(C));for(let Xt=0;Xt<k;Xt++){const fi=ie.takeWhile(Di=>Di.lineNumber===Xt+1);Z.addRequest(l[Xt],fi,n?n[Xt]:null)}const ce=Z.finalize();let De=[],Ae=this.hiddenAreasIds.map(Xt=>this.model.getDecorationRange(Xt)).sort(Pe.e.compareRangesUsingStarts),Ue=1,Lt=0,_t=-1,Bt=_t+1<Ae.length?Lt+1:k+2;for(let Xt=0;Xt<k;Xt++){let fi=Xt+1;fi===Bt&&(_t++,Ue=Ae[_t].startLineNumber,Lt=Ae[_t].endLineNumber,Bt=_t+1<Ae.length?Lt+1:k+2);let Di=fi>=Ue&&fi<=Lt,Wi=fs(ce[Xt],!Di);De[Xt]=Wi.getViewLineCount(),this.lines[Xt]=Wi}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new Do(De)}getHiddenAreas(){return this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e))}_reduceRanges(e){if(e.length===0)return[];let n=e.map(Z=>this.model.validateRange(Z)).sort(Pe.e.compareRangesUsingStarts),l=[],C=n[0].startLineNumber,k=n[0].endLineNumber;for(let Z=1,ie=n.length;Z<ie;Z++){let ce=n[Z];ce.startLineNumber>k+1?(l.push(new Pe.e(C,1,k,1)),C=ce.startLineNumber,k=ce.endLineNumber):ce.endLineNumber>k&&(k=ce.endLineNumber)}return l.push(new Pe.e(C,1,k,1)),l}setHiddenAreas(e){let n=this._reduceRanges(e),l=this.hiddenAreasIds.map(Ue=>this.model.getDecorationRange(Ue)).sort(Pe.e.compareRangesUsingStarts);if(n.length===l.length){let Ue=!1;for(let Lt=0;Lt<n.length;Lt++)if(!n[Lt].equalsRange(l[Lt])){Ue=!0;break}if(!Ue)return!1}let C=[];for(const Ue of n)C.push({range:Ue,options:eo.qx.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,C);let k=n,Z=1,ie=0,ce=-1,De=ce+1<k.length?ie+1:this.lines.length+2,Ae=!1;for(let Ue=0;Ue<this.lines.length;Ue++){let Lt=Ue+1;Lt===De&&(ce++,Z=k[ce].startLineNumber,ie=k[ce].endLineNumber,De=ce+1<k.length?ie+1:this.lines.length+2);let _t=!1;if(Lt>=Z&&Lt<=ie?this.lines[Ue].isVisible()&&(this.lines[Ue]=this.lines[Ue].setVisible(!1),_t=!0):(Ae=!0,this.lines[Ue].isVisible()||(this.lines[Ue]=this.lines[Ue].setVisible(!0),_t=!0)),_t){let Bt=this.lines[Ue].getViewLineCount();this.prefixSumComputer.changeValue(Ue,Bt)}}return Ae||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,n){return e<1||e>this.lines.length?!1:this.lines[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.lines.length?1:this.lines[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,n,l,C){const k=this.fontInfo.equals(e),Z=this.wrappingStrategy===n,ie=this.wrappingColumn===l,ce=this.wrappingIndent===C;if(k&&Z&&ie&&ce)return!1;const De=k&&Z&&!ie&&ce;this.fontInfo=e,this.wrappingStrategy=n,this.wrappingColumn=l,this.wrappingIndent=C;let Ae=null;if(De){Ae=[];for(let Ue=0,Lt=this.lines.length;Ue<Lt;Ue++)Ae[Ue]=this.lines[Ue].getLineBreakData()}return this._constructLines(!1,Ae),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,n,l){if(!e||e<=this._validModelVersionId)return null;let C=n===1?1:this.prefixSumComputer.getAccumulatedValue(n-2)+1,k=this.prefixSumComputer.getAccumulatedValue(l-1);return this.lines.splice(n-1,l-n+1),this.prefixSumComputer.removeValues(n-1,l-n+1),new Ut(C,k)}onModelLinesInserted(e,n,l,C){if(!e||e<=this._validModelVersionId)return null;const k=n>2&&!this.lines[n-2].isVisible();let Z=n===1?1:this.prefixSumComputer.getAccumulatedValue(n-2)+1,ie=0,ce=[],De=[];for(let Ae=0,Ue=C.length;Ae<Ue;Ae++){let Lt=fs(C[Ae],!k);ce.push(Lt);let _t=Lt.getViewLineCount();ie+=_t,De[Ae]=_t}return this.lines=this.lines.slice(0,n-1).concat(ce).concat(this.lines.slice(n-1)),this.prefixSumComputer.insertValues(n-1,De),new ni(Z,Z+ie-1)}onModelLineChanged(e,n,l){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];let C=n-1,k=this.lines[C].getViewLineCount(),Z=this.lines[C].isVisible(),ie=fs(l,Z);this.lines[C]=ie;let ce=this.lines[C].getViewLineCount(),De=!1,Ae=0,Ue=-1,Lt=0,_t=-1,Bt=0,Xt=-1;k>ce?(Ae=n===1?1:this.prefixSumComputer.getAccumulatedValue(n-2)+1,Ue=Ae+ce-1,Bt=Ue+1,Xt=Bt+(k-ce)-1,De=!0):k<ce?(Ae=n===1?1:this.prefixSumComputer.getAccumulatedValue(n-2)+1,Ue=Ae+k-1,Lt=Ue+1,_t=Lt+(ce-k)-1,De=!0):(Ae=n===1?1:this.prefixSumComputer.getAccumulatedValue(n-2)+1,Ue=Ae+ce-1),this.prefixSumComputer.changeValue(C,ce);const fi=Ae<=Ue?new rt(Ae,Ue):null,Di=Lt<=_t?new ni(Lt,_t):null,Wi=Bt<=Xt?new Ut(Bt,Xt):null;return[De,fi,Di,Wi]}acceptVersionId(e){this._validModelVersionId=e,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(e){if(e<1)return 1;const n=this.getViewLineCount();return e>n?n:e|0}getActiveIndentGuide(e,n,l){e=this._toValidViewLineNumber(e),n=this._toValidViewLineNumber(n),l=this._toValidViewLineNumber(l);const C=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),k=this.convertViewPositionToModelPosition(n,this.getViewLineMinColumn(n)),Z=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),ie=this.model.getActiveIndentGuide(C.lineNumber,k.lineNumber,Z.lineNumber),ce=this.convertModelPositionToViewPosition(ie.startLineNumber,1),De=this.convertModelPositionToViewPosition(ie.endLineNumber,this.model.getLineMaxColumn(ie.endLineNumber));return{startLineNumber:ce.lineNumber,endLineNumber:De.lineNumber,indent:ie.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),l=n.index,C=n.remainder;return new Cs(l+1,C)}getMinColumnOfViewLine(e){return this.lines[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const n=this.lines[e.modelLineNumber-1],l=n.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),C=n.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,l);return new Ne.L(e.modelLineNumber,C)}getModelEndPositionOfViewLine(e){const n=this.lines[e.modelLineNumber-1],l=n.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),C=n.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,l);return new Ne.L(e.modelLineNumber,C)}getViewLineInfosGroupedByModelRanges(e,n){const l=this.getViewLineInfo(e),C=this.getViewLineInfo(n),k=new Array;let Z=this.getModelStartPositionOfViewLine(l),ie=new Array;for(let ce=l.modelLineNumber;ce<=C.modelLineNumber;ce++){const De=this.lines[ce-1];if(De.isVisible()){let Ae=ce===l.modelLineNumber?l.modelLineWrappedLineIdx:0,Ue=ce===C.modelLineNumber?C.modelLineWrappedLineIdx+1:De.getViewLineCount();for(let Lt=Ae;Lt<Ue;Lt++)ie.push(new Cs(ce,Lt))}if(!De.isVisible()&&Z){const Ae=new Ne.L(ce-1,this.model.getLineMaxColumn(ce-1)+1),Ue=Pe.e.fromPositions(Z,Ae);k.push(new ns(Ue,ie)),ie=[],Z=null}else De.isVisible()&&!Z&&(Z=new Ne.L(ce,1))}if(Z){const ce=Pe.e.fromPositions(Z,this.getModelEndPositionOfViewLine(C));k.push(new ns(ce,ie))}return k}getViewLinesBracketGuides(e,n,l,C){const k=l?this.convertViewPositionToModelPosition(l.lineNumber,l.column):null,Z=[];for(const ie of this.getViewLineInfosGroupedByModelRanges(e,n)){const ce=ie.modelRange.startLineNumber,De=this.model.getLinesBracketGuides(ce,ie.modelRange.endLineNumber,k,C);for(const Ae of ie.viewLines)if(Ae.isWrappedLineContinuation&&this.getMinColumnOfViewLine(Ae)===1)Z.push([]);else{let Ue=De[Ae.modelLineNumber-ce];Ue=Ue.map(Lt=>Lt.horizontalLine?new es.UO(Lt.visibleColumn,Lt.className,new es.vW(Lt.horizontalLine.top,this.convertModelPositionToViewPosition(Ae.modelLineNumber,Lt.horizontalLine.endColumn).column)):Lt),Z.push(Ue)}}return Z}getViewLinesIndentGuides(e,n){e=this._toValidViewLineNumber(e),n=this._toValidViewLineNumber(n);const l=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),C=this.convertViewPositionToModelPosition(n,this.getViewLineMaxColumn(n));let k=[],Z=[],ie=[];const ce=l.lineNumber-1,De=C.lineNumber-1;let Ae=null;for(let Bt=ce;Bt<=De;Bt++){const Xt=this.lines[Bt];if(Xt.isVisible()){let fi=Xt.getViewLineNumberOfModelPosition(0,Bt===ce?l.column:1),Di=Xt.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(Bt+1)),Wi=Di-fi+1,Ti=0;Wi>1&&Xt.getViewLineMinColumn(this.model,Bt+1,Di)===1&&(Ti=fi===0?1:2),Z.push(Wi),ie.push(Ti),Ae===null&&(Ae=new Ne.L(Bt+1,0))}else Ae!==null&&(k=k.concat(this.model.getLinesIndentGuides(Ae.lineNumber,Bt)),Ae=null)}Ae!==null&&(k=k.concat(this.model.getLinesIndentGuides(Ae.lineNumber,C.lineNumber)),Ae=null);const Ue=n-e+1;let Lt=new Array(Ue),_t=0;for(let Bt=0,Xt=k.length;Bt<Xt;Bt++){let fi=k[Bt],Di=Math.min(Ue-_t,Z[Bt]),Wi=ie[Bt],Ti;Wi===2?Ti=0:Wi===1?Ti=1:Ti=Di;for(let Yi=0;Yi<Di;Yi++)Yi===Ti&&(fi=0),Lt[_t++]=fi}return Lt}getViewLineContent(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),l=n.index,C=n.remainder;return this.lines[l].getViewLineContent(this.model,l+1,C)}getViewLineLength(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),l=n.index,C=n.remainder;return this.lines[l].getViewLineLength(this.model,l+1,C)}getViewLineMinColumn(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),l=n.index,C=n.remainder;return this.lines[l].getViewLineMinColumn(this.model,l+1,C)}getViewLineMaxColumn(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),l=n.index,C=n.remainder;return this.lines[l].getViewLineMaxColumn(this.model,l+1,C)}getViewLineData(e){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),l=n.index,C=n.remainder;return this.lines[l].getViewLineData(this.model,l+1,C)}getViewLinesData(e,n,l){e=this._toValidViewLineNumber(e),n=this._toValidViewLineNumber(n);let C=this.prefixSumComputer.getIndexOf(e-1),k=e,Z=C.index,ie=C.remainder,ce=[];for(let De=Z,Ae=this.model.getLineCount();De<Ae;De++){let Ue=this.lines[De];if(!Ue.isVisible())continue;let Lt=De===Z?ie:0,_t=Ue.getViewLineCount()-Lt,Bt=!1;k+_t>n&&(Bt=!0,_t=n-k+1);let Xt=Lt+_t;if(Ue.getViewLinesData(this.model,De+1,Lt,Xt,k-e,l,ce),k+=_t,Bt)break}return ce}validateViewPosition(e,n,l){e=this._toValidViewLineNumber(e);let C=this.prefixSumComputer.getIndexOf(e-1),k=C.index,Z=C.remainder,ie=this.lines[k],ce=ie.getViewLineMinColumn(this.model,k+1,Z),De=ie.getViewLineMaxColumn(this.model,k+1,Z);n<ce&&(n=ce),n>De&&(n=De);let Ae=ie.getModelColumnOfViewPosition(Z,n);return this.model.validatePosition(new Ne.L(k+1,Ae)).equals(l)?new Ne.L(e,n):this.convertModelPositionToViewPosition(l.lineNumber,l.column)}validateViewRange(e,n){const l=this.validateViewPosition(e.startLineNumber,e.startColumn,n.getStartPosition()),C=this.validateViewPosition(e.endLineNumber,e.endColumn,n.getEndPosition());return new Pe.e(l.lineNumber,l.column,C.lineNumber,C.column)}convertViewPositionToModelPosition(e,n){e=this._toValidViewLineNumber(e);let l=this.prefixSumComputer.getIndexOf(e-1),C=l.index,k=l.remainder,Z=this.lines[C].getModelColumnOfViewPosition(k,n);return this.model.validatePosition(new Ne.L(C+1,Z))}convertViewRangeToModelRange(e){const n=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),l=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new Pe.e(n.lineNumber,n.column,l.lineNumber,l.column)}convertModelPositionToViewPosition(e,n,l=2){const C=this.model.validatePosition(new Ne.L(e,n)),k=C.lineNumber,Z=C.column;let ie=k-1,ce=!1;for(;ie>0&&!this.lines[ie].isVisible();)ie--,ce=!0;if(ie===0&&!this.lines[ie].isVisible())return new Ne.L(1,1);const De=1+(ie===0?0:this.prefixSumComputer.getAccumulatedValue(ie-1));let Ae;return ce?Ae=this.lines[ie].getViewPositionOfModelPosition(De,this.model.getLineMaxColumn(ie+1),l):Ae=this.lines[k-1].getViewPositionOfModelPosition(De,Z,l),Ae}convertModelRangeToViewRange(e,n=0){if(e.isEmpty()){const l=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,n);return Pe.e.fromPositions(l)}else{const l=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),C=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new Pe.e(l.lineNumber,l.column,C.lineNumber,C.column)}}getViewLineNumberOfModelPosition(e,n){let l=e-1;if(this.lines[l].isVisible()){const k=1+(l===0?0:this.prefixSumComputer.getAccumulatedValue(l-1));return this.lines[l].getViewLineNumberOfModelPosition(k,n)}for(;l>0&&!this.lines[l].isVisible();)l--;if(l===0&&!this.lines[l].isVisible())return 1;const C=1+(l===0?0:this.prefixSumComputer.getAccumulatedValue(l-1));return this.lines[l].getViewLineNumberOfModelPosition(C,this.model.getLineMaxColumn(l+1))}getDecorationsInRange(e,n,l){const C=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),k=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(k.lineNumber-C.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new Pe.e(C.lineNumber,1,k.lineNumber,k.column),n,l);let Z=[];const ie=C.lineNumber-1,ce=k.lineNumber-1;let De=null;for(let _t=ie;_t<=ce;_t++)if(this.lines[_t].isVisible())De===null&&(De=new Ne.L(_t+1,_t===ie?C.column:1));else if(De!==null){const Xt=this.model.getLineMaxColumn(_t);Z=Z.concat(this.model.getDecorationsInRange(new Pe.e(De.lineNumber,De.column,_t,Xt),n,l)),De=null}De!==null&&(Z=Z.concat(this.model.getDecorationsInRange(new Pe.e(De.lineNumber,De.column,k.lineNumber,k.column),n,l)),De=null),Z.sort((_t,Bt)=>{const Xt=Pe.e.compareRangesUsingStarts(_t.range,Bt.range);return Xt===0?_t.id<Bt.id?-1:_t.id>Bt.id?1:0:Xt});let Ae=[],Ue=0,Lt=null;for(const _t of Z){const Bt=_t.id;Lt!==Bt&&(Lt=Bt,Ae[Ue++]=_t)}return Ae}getInjectedTextAt(e){const n=this._toValidViewLineNumber(e.lineNumber),l=this.prefixSumComputer.getIndexOf(n-1),C=l.index,k=l.remainder;return this.lines[C].getInjectedTextAt(k,e.column)}normalizePosition(e,n){const l=this._toValidViewLineNumber(e.lineNumber),C=this.prefixSumComputer.getIndexOf(l-1),k=C.index,Z=C.remainder;return this.lines[k].normalizePosition(this.model,k+1,Z,e,n)}getLineIndentColumn(e){const n=this._toValidViewLineNumber(e),l=this.prefixSumComputer.getIndexOf(n-1),C=l.index;return l.remainder===0?this.model.getLineIndentColumn(C+1):0}}class Cs{constructor(e,n){this.modelLineNumber=e,this.modelLineWrappedLineIdx=n}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class ns{constructor(e,n){this.modelRange=e,this.viewLines=n}}class ys{constructor(){}isVisible(){return!0}setVisible(e){return e?this:hs.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,n,l){return e.getLineContent(n)}getViewLineLength(e,n,l){return e.getLineLength(n)}getViewLineMinColumn(e,n,l){return e.getLineMinColumn(n)}getViewLineMaxColumn(e,n,l){return e.getLineMaxColumn(n)}getViewLineData(e,n,l){let C=e.getLineTokens(n),k=C.getLineContent();return new Li.IP(k,!1,1,k.length+1,0,C.inflate(),null)}getViewLinesData(e,n,l,C,k,Z,ie){if(!Z[k]){ie[k]=null;return}ie[k]=this.getViewLineData(e,n,0)}getModelColumnOfViewPosition(e,n){return n}getViewPositionOfModelPosition(e,n){return new Ne.L(e,n)}getViewLineNumberOfModelPosition(e,n){return e}normalizePosition(e,n,l,C,k){return C}getInjectedTextAt(e,n){return null}}ys.INSTANCE=new ys;class hs{constructor(){}isVisible(){return!1}setVisible(e){return e?ys.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,n,l){throw new Error("Not supported")}getViewLineLength(e,n,l){throw new Error("Not supported")}getViewLineMinColumn(e,n,l){throw new Error("Not supported")}getViewLineMaxColumn(e,n,l){throw new Error("Not supported")}getViewLineData(e,n,l){throw new Error("Not supported")}getViewLinesData(e,n,l,C,k,Z,ie){throw new Error("Not supported")}getModelColumnOfViewPosition(e,n){throw new Error("Not supported")}getViewPositionOfModelPosition(e,n){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,n){throw new Error("Not supported")}normalizePosition(e,n,l,C,k){throw new Error("Not supported")}getInjectedTextAt(e,n){throw new Error("Not supported")}}hs.INSTANCE=new hs;class ks{constructor(e,n){this._lineBreakData=e,this._isVisible=n}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(e){return this._lineBreakData.getInputOffsetOfOutputPosition(e,0)}getInputEndOffsetOfOutputLineIndex(e,n,l){return l+1===this._lineBreakData.breakOffsets.length?e.getLineMaxColumn(n)-1:this._lineBreakData.getInputOffsetOfOutputPosition(l+1,0)}getViewLineContent(e,n,l){if(!this._isVisible)throw new Error("Not supported");const C=l>0?this._lineBreakData.breakOffsets[l-1]:0,k=l<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[l]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let Z;if(this._lineBreakData.injectionOffsets!==null){const ie=this._lineBreakData.injectionOffsets.map((ce,De)=>new lt.gk(0,0,ce+1,this._lineBreakData.injectionOptions[De],0));Z=lt.gk.applyInjectedText(e.getLineContent(n),ie).substring(C,k)}else Z=e.getValueInRange({startLineNumber:n,startColumn:C+1,endLineNumber:n,endColumn:k+1});return l>0&&(Z=bs(this._lineBreakData.wrappedTextIndentLength)+Z),Z}getViewLineLength(e,n,l){if(!this._isVisible)throw new Error("Not supported");const C=l>0?this._lineBreakData.breakOffsets[l-1]:0;let Z=(l<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[l]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1])-C;return l>0&&(Z=this._lineBreakData.wrappedTextIndentLength+Z),Z}getViewLineMinColumn(e,n,l){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(l)}_getViewLineMinColumn(e){return e>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(e,n,l){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(e,n,l)+1}getViewLineData(e,n,l){if(!this._isVisible)throw new Error("Not supported");const C=this._lineBreakData,k=l>0?C.wrappedTextIndentLength:0,Z=C.injectionOffsets,ie=C.injectionOptions;let ce,De,Ae;if(Z){const Xt=e.getLineTokens(n).withInserted(Z.map((Ti,Yi)=>({offset:Ti,text:ie[Yi].content,tokenMetadata:bo.A.defaultTokenMetadata}))),fi=l>0?C.breakOffsets[l-1]:0,Di=C.breakOffsets[l];ce=Xt.getLineContent().substring(fi,Di),De=Xt.sliceAndInflate(fi,Di,k),Ae=new Array;let Wi=0;for(let Ti=0;Ti<Z.length;Ti++){const Yi=ie[Ti].content.length,Pi=Z[Ti]+Wi,Dn=Z[Ti]+Wi+Yi;if(Pi>Di)break;if(fi<Dn){const vn=ie[Ti];if(vn.inlineClassName){const Qi=l>0?C.wrappedTextIndentLength:0,mn=Qi+Math.max(Pi-fi,0),Sn=Qi+Math.min(Dn-fi,Di);mn!==Sn&&Ae.push(new Li.Wx(mn,Sn,vn.inlineClassName,vn.inlineClassNameAffectsLetterSpacing))}}Wi+=Yi}}else{const Xt=this.getInputStartOffsetOfOutputLineIndex(l),fi=this.getInputEndOffsetOfOutputLineIndex(e,n,l),Di=e.getLineTokens(n);ce=e.getValueInRange({startLineNumber:n,startColumn:Xt+1,endLineNumber:n,endColumn:fi+1}),De=Di.sliceAndInflate(Xt,fi,k),Ae=null}l>0&&(ce=bs(C.wrappedTextIndentLength)+ce);const Ue=l>0?C.wrappedTextIndentLength+1:1,Lt=ce.length+1,_t=l+1<this.getViewLineCount(),Bt=l===0?0:C.breakOffsetsVisibleColumn[l-1];return new Li.IP(ce,_t,Ue,Lt,Bt,De,Ae)}getViewLinesData(e,n,l,C,k,Z,ie){if(!this._isVisible)throw new Error("Not supported");for(let ce=l;ce<C;ce++){let De=k+ce-l;if(!Z[De]){ie[De]=null;continue}ie[De]=this.getViewLineData(e,n,ce)}}getModelColumnOfViewPosition(e,n){if(!this._isVisible)throw new Error("Not supported");let l=n-1;return e>0&&(l<this._lineBreakData.wrappedTextIndentLength?l=0:l-=this._lineBreakData.wrappedTextIndentLength),this._lineBreakData.getInputOffsetOfOutputPosition(e,l)+1}getViewPositionOfModelPosition(e,n,l=2){if(!this._isVisible)throw new Error("Not supported");let C=this._lineBreakData.getOutputPositionOfInputOffset(n-1,l),k=C.outputLineIndex,Z=C.outputOffset+1;return k>0&&(Z+=this._lineBreakData.wrappedTextIndentLength),new Ne.L(e+k,Z)}getViewLineNumberOfModelPosition(e,n){if(!this._isVisible)throw new Error("Not supported");const l=this._lineBreakData.getOutputPositionOfInputOffset(n-1);return e+l.outputLineIndex}normalizePosition(e,n,l,C,k){if(this._lineBreakData.injectionOffsets!==null){const Z=C.lineNumber-l,ie=this._lineBreakData.outputPositionToOffsetInUnwrappedLine(l,C.column-1),ce=this._lineBreakData.normalizeOffsetAroundInjections(ie,k);if(ce!==ie)return this._lineBreakData.getOutputPositionOfOffsetInUnwrappedLine(ce,k).toPosition(Z,this._lineBreakData.wrappedTextIndentLength)}if(k===0){if(l>0&&C.column===this._getViewLineMinColumn(l))return new Ne.L(C.lineNumber-1,this.getViewLineMaxColumn(e,n,l-1))}else if(k===1){const Z=this.getViewLineCount()-1;if(l<Z&&C.column===this.getViewLineMaxColumn(e,n,l))return new Ne.L(C.lineNumber+1,this._getViewLineMinColumn(l+1))}return C}getInjectedTextAt(e,n){return this._lineBreakData.getInjectedText(e,n-1)}}let As=[""];function bs(Ct){if(Ct>=As.length)for(let e=1;e<=Ct;e++)As[e]=un(e);return As[Ct]}function un(Ct){return new Array(Ct+1).join(" ")}function fs(Ct,e){return Ct===null?e?ys.INSTANCE:hs.INSTANCE:new ks(Ct,e)}class co{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,n){return this._validPosition(n)}validateViewRange(e,n){return this._validRange(n)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const n=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>n)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,n){return e}}class fo{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new co(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,n,l,C){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(n,l,C)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,n,l){return new Ut(n,l)}onModelLinesInserted(e,n,l,C){return new ni(n,l)}onModelLineChanged(e,n,l){return[!1,new rt(n,n),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,n,l){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,n,l){return new Array(n-e+1).fill([])}getViewLinesIndentGuides(e,n){const l=n-e+1;let C=new Array(l);for(let k=0;k<l;k++)C[k]=0;return C}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let n=this.model.getLineTokens(e),l=n.getLineContent();return new Li.IP(l,!1,1,l.length+1,0,n.inflate(),null)}getViewLinesData(e,n,l){const C=this.model.getLineCount();e=Math.min(Math.max(1,e),C),n=Math.min(Math.max(1,n),C);let k=[];for(let Z=e;Z<=n;Z++){let ie=Z-e;l[ie]||(k[ie]=null),k[ie]=this.getViewLineData(Z)}return k}getDecorationsInRange(e,n,l){return this.model.getDecorationsInRange(e,n,l)}normalizePosition(e,n){return this.model.normalizePosition(e,n)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class xo{constructor(e,n,l,C,k){this.editorId=e,this.model=n,this.configuration=l,this._linesCollection=C,this._coordinatesConverter=k,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const n=e.id;let l=this._decorationsCache[n];if(!l){const C=e.range,k=e.options;let Z;if(k.isWholeLine){const ie=this._coordinatesConverter.convertModelPositionToViewPosition(new Ne.L(C.startLineNumber,1),0),ce=this._coordinatesConverter.convertModelPositionToViewPosition(new Ne.L(C.endLineNumber,this.model.getLineMaxColumn(C.endLineNumber)),1);Z=new Pe.e(ie.lineNumber,ie.column,ce.lineNumber,ce.column)}else Z=this._coordinatesConverter.convertModelRangeToViewRange(C,1);l=new Li.$l(Z,k),this._decorationsCache[n]=l}return l}getDecorationsViewportData(e){let n=this._cachedModelDecorationsResolver!==null;return n=n&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),n||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const n=this._linesCollection.getDecorationsInRange(e,this.editorId,(0,et.$J)(this.configuration.options)),l=e.startLineNumber,C=e.endLineNumber;let k=[],Z=0,ie=[];for(let ce=l;ce<=C;ce++)ie[ce-l]=[];for(let ce=0,De=n.length;ce<De;ce++){let Ae=n[ce],Ue=Ae.options,Lt=this._getOrCreateViewModelDecoration(Ae),_t=Lt.range;if(k[Z++]=Lt,Ue.inlineClassName){let Bt=new Li.$t(_t,Ue.inlineClassName,Ue.inlineClassNameAffectsLetterSpacing?3:0),Xt=Math.max(l,_t.startLineNumber),fi=Math.min(C,_t.endLineNumber);for(let Di=Xt;Di<=fi;Di++)ie[Di-l].push(Bt)}if(Ue.beforeContentClassName&&l<=_t.startLineNumber&&_t.startLineNumber<=C){let Bt=new Li.$t(new Pe.e(_t.startLineNumber,_t.startColumn,_t.startLineNumber,_t.startColumn),Ue.beforeContentClassName,1);ie[_t.startLineNumber-l].push(Bt)}if(Ue.afterContentClassName&&l<=_t.endLineNumber&&_t.endLineNumber<=C){let Bt=new Li.$t(new Pe.e(_t.endLineNumber,_t.endColumn,_t.endLineNumber,_t.endColumn),Ue.afterContentClassName,2);ie[_t.endLineNumber-l].push(Bt)}}return{decorations:k,inlineDecorations:ie}}}var To=c(71144);const ko=!0;class _o extends N.JT{constructor(e,n,l,C,k,Z){if(super(),this._editorId=e,this._configuration=n,this.model=l,this._eventDispatcher=new ji,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new ye.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new S.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new S.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,ko&&this.model.isTooLargeForTokenization())this._lines=new fo(this.model);else{const ie=this._configuration.options,ce=ie.get(43),De=ie.get(123),Ae=ie.get(130),Ue=ie.get(122);this._lines=new Jo(this._editorId,this.model,C,k,ce,this.model.getOptions().tabSize,De,Ae.wrappingColumn,Ue)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new vs(l,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new So(this._configuration,this.getLineCount(),Z)),this._register(this.viewLayout.onDidScroll(ie=>{ie.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new Ri(ie)),this._eventDispatcher.emitOutgoingEvent(new Vn(ie.oldScrollWidth,ie.oldScrollLeft,ie.oldScrollHeight,ie.oldScrollTop,ie.scrollWidth,ie.scrollLeft,ie.scrollHeight,ie.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(ie=>{this._eventDispatcher.emitOutgoingEvent(ie)})),this._decorations=new xo(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(ie=>{try{const ce=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(ce,ie)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(Vi.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new wi)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),n=new Pe.e(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),l=this._toModelVisibleRanges(n);for(const C of l)this.model.tokenizeViewport(C.startLineNumber,C.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new we(e)),this._eventDispatcher.emitOutgoingEvent(new zn(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new Pt)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new St)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new Ci)}_onConfigurationChanged(e,n){let l=null;if(this._viewportStartLine!==-1){let Ae=new Ne.L(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));l=this.coordinatesConverter.convertViewPositionToModelPosition(Ae)}let C=!1;const k=this._configuration.options,Z=k.get(43),ie=k.get(123),ce=k.get(130),De=k.get(122);if(this._lines.setWrappingSettings(Z,ie,ce.wrappingColumn,De)&&(e.emitViewEvent(new ae),e.emitViewEvent(new pt),e.emitViewEvent(new li(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(C=!0),this._updateConfigurationViewLineCount.schedule()),n.hasChanged(80)&&(this._decorations.reset(),e.emitViewEvent(new li(null))),e.emitViewEvent(new Rt(n)),this.viewLayout.onConfigurationChanged(n),C&&l){const Ae=this.coordinatesConverter.convertModelPositionToViewPosition(l),Ue=this.viewLayout.getVerticalOffsetForLineNumber(Ae.lineNumber);this.viewLayout.setScrollPosition({scrollTop:Ue+this._viewportStartLineDelta},1)}ye.LM.shouldRecreate(n)&&(this.cursorConfig=new ye.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const n=this._eventDispatcher.beginEmitViewEvents();let l=!1,C=!1;const k=e.changes,Z=e instanceof lt.dQ?e.versionId:null,ie=this._lines.createLineBreaksComputer();for(const Ae of k)switch(Ae.changeType){case 4:{for(let Ue=0;Ue<Ae.detail.length;Ue++){const Lt=Ae.detail[Ue];let _t=Ae.injectedTexts[Ue];_t&&(_t=_t.filter(Bt=>!Bt.ownerId||Bt.ownerId===this._editorId)),ie.addRequest(Lt,_t,null)}break}case 2:{let Ue=null;Ae.injectedText&&(Ue=Ae.injectedText.filter(Lt=>!Lt.ownerId||Lt.ownerId===this._editorId)),ie.addRequest(Ae.detail,Ue,null);break}}const ce=ie.finalize();let De=0;for(const Ae of k)switch(Ae.changeType){case 1:{this._lines.onModelFlushed(),n.emitViewEvent(new ae),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),l=!0;break}case 3:{const Ue=this._lines.onModelLinesDeleted(Z,Ae.fromLineNumber,Ae.toLineNumber);Ue!==null&&(n.emitViewEvent(Ue),this.viewLayout.onLinesDeleted(Ue.fromLineNumber,Ue.toLineNumber)),l=!0;break}case 4:{const Ue=ce.slice(De,De+Ae.detail.length);De+=Ae.detail.length;const Lt=this._lines.onModelLinesInserted(Z,Ae.fromLineNumber,Ae.toLineNumber,Ue);Lt!==null&&(n.emitViewEvent(Lt),this.viewLayout.onLinesInserted(Lt.fromLineNumber,Lt.toLineNumber)),l=!0;break}case 2:{const Ue=ce[De];De++;const[Lt,_t,Bt,Xt]=this._lines.onModelLineChanged(Z,Ae.lineNumber,Ue);C=Lt,_t&&n.emitViewEvent(_t),Bt&&(n.emitViewEvent(Bt),this.viewLayout.onLinesInserted(Bt.fromLineNumber,Bt.toLineNumber)),Xt&&(n.emitViewEvent(Xt),this.viewLayout.onLinesDeleted(Xt.fromLineNumber,Xt.toLineNumber));break}case 5:break}Z!==null&&this._lines.acceptVersionId(Z),this.viewLayout.onHeightMaybeChanged(),!l&&C&&(n.emitViewEvent(new pt),n.emitViewEvent(new li(null)),this._cursor.onLineMappingChanged(n),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const n=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(n){const l=this.coordinatesConverter.convertModelPositionToViewPosition(n.getStartPosition()),C=this.viewLayout.getVerticalOffsetForLineNumber(l.lineNumber);this.viewLayout.setScrollPosition({scrollTop:C+this._viewportStartLineDelta},1)}}try{const n=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(n,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(e=>{let n=[];for(let l=0,C=e.ranges.length;l<C;l++){const k=e.ranges[l],Z=this.coordinatesConverter.convertModelPositionToViewPosition(new Ne.L(k.fromLineNumber,1)).lineNumber,ie=this.coordinatesConverter.convertModelPositionToViewPosition(new Ne.L(k.toLineNumber,this.model.getLineMaxColumn(k.toLineNumber))).lineNumber;n[l]={fromLineNumber:Z,toLineNumber:ie}}this._eventDispatcher.emitSingleViewEvent(new Ei(n)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new dt),this.cursorConfig=new ye.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new ye.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const n=this._eventDispatcher.beginEmitViewEvents();n.emitViewEvent(new ae),n.emitViewEvent(new pt),n.emitViewEvent(new li(null)),this._cursor.onLineMappingChanged(n),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new ye.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new li(e))}))}setHiddenAreas(e){let n=!1;try{const l=this._eventDispatcher.beginEmitViewEvents();n=this._lines.setHiddenAreas(e),n&&(l.emitViewEvent(new ae),l.emitViewEvent(new pt),l.emitViewEvent(new li(null)),this._cursor.onLineMappingChanged(l),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),n&&this._eventDispatcher.emitOutgoingEvent(new qn)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(129),n=this._configuration.options.get(58),l=Math.max(20,Math.round(e.height/n)),C=this.viewLayout.getLinesViewportData(),k=Math.max(1,C.completelyVisibleStartLineNumber-l),Z=Math.min(this.getLineCount(),C.completelyVisibleEndLineNumber+l);return this._toModelVisibleRanges(new Pe.e(k,this.getLineMinColumn(k),Z,this.getLineMaxColumn(Z)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const n=this.coordinatesConverter.convertViewRangeToModelRange(e),l=this._lines.getHiddenAreas();if(l.length===0)return[n];let C=[],k=0,Z=n.startLineNumber,ie=n.startColumn,ce=n.endLineNumber,De=n.endColumn;for(let Ae=0,Ue=l.length;Ae<Ue;Ae++){const Lt=l[Ae].startLineNumber,_t=l[Ae].endLineNumber;_t<Z||Lt>ce||(Z<Lt&&(C[k++]=new Pe.e(Z,ie,Lt-1,this.model.getLineMaxColumn(Lt-1))),Z=_t+1,ie=1)}return(Z<ce||Z===ce&&ie<De)&&(C[k++]=new Pe.e(Z,ie,ce,De)),C}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),n=e.completelyVisibleStartLineNumber,l=e.completelyVisibleEndLineNumber;return new Pe.e(n,this.getLineMinColumn(n),l,this.getLineMaxColumn(l))}getCompletelyVisibleViewRangeAtScrollTop(e){const n=this.viewLayout.getLinesViewportDataAtScrollTop(e),l=n.completelyVisibleStartLineNumber,C=n.completelyVisibleEndLineNumber;return new Pe.e(l,this.getLineMinColumn(l),C,this.getLineMaxColumn(C))}saveState(){const e=this.viewLayout.saveState(),n=e.scrollTop,l=this.viewLayout.getLineNumberAtVerticalOffset(n),C=this.coordinatesConverter.convertViewPositionToModelPosition(new Ne.L(l,this.getLineMinColumn(l))),k=this.viewLayout.getVerticalOffsetForLineNumber(l)-n;return{scrollLeft:e.scrollLeft,firstPosition:C,firstPositionDeltaTop:k}}reduceRestoreState(e){if(typeof e.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(e);const n=this.model.validatePosition(e.firstPosition),l=this.coordinatesConverter.convertModelPositionToViewPosition(n),C=this.viewLayout.getVerticalOffsetForLineNumber(l.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:C}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,n,l){this._viewportStartLine=e;let C=this.coordinatesConverter.convertViewPositionToModelPosition(new Ne.L(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new Pe.e(C.lineNumber,C.column,C.lineNumber,C.column),1);const k=this.viewLayout.getVerticalOffsetForLineNumber(e),Z=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=Z-k}getActiveIndentGuide(e,n,l){return this._lines.getActiveIndentGuide(e,n,l)}getLinesIndentGuides(e,n){return this._lines.getViewLinesIndentGuides(e,n)}getBracketGuidesInRangeByLine(e,n,l,C){return this._lines.getViewLinesBracketGuides(e,n,l,C)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const n=$e.LC(this.getLineContent(e));return n===-1?0:n+1}getLineLastNonWhitespaceColumn(e){const n=$e.ow(this.getLineContent(e));return n===-1?0:n+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewLineRenderingData(e,n){let l=this.model.mightContainRTL(),C=this.model.mightContainNonBasicASCII(),k=this.getTabSize(),Z=this._lines.getViewLineData(n),ce=this._decorations.getDecorationsViewportData(e).inlineDecorations[n-e.startLineNumber];return Z.inlineDecorations&&(ce=[...ce,...Z.inlineDecorations.map(De=>De.toInlineDecoration(n))]),new Li.wA(Z.minColumn,Z.maxColumn,Z.content,Z.continuesWithWrappedLine,l,C,Z.tokens,ce,k,Z.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,n,l){let C=this._lines.getViewLinesData(e,n,l);return new Li.ud(this.getTabSize(),C)}getAllOverviewRulerDecorations(e){const n=this.model.getOverviewRulerDecorations(this._editorId,(0,et.$J)(this._configuration.options)),l=new Yo;for(const C of n){const k=C.options,Z=k.overviewRuler;if(!Z)continue;const ie=Z.position;if(ie===0)continue;const ce=Z.getColor(e),De=this.coordinatesConverter.getViewLineNumberOfModelPosition(C.range.startLineNumber,C.range.startColumn),Ae=this.coordinatesConverter.getViewLineNumberOfModelPosition(C.range.endLineNumber,C.range.endColumn);l.accept(ce,k.zIndex,De,Ae,ie)}return l.asArray}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const n of e){const l=n.options.overviewRuler;l&&l.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const n of e){const l=n.options.minimap;l&&l.invalidateCachedColor()}}getValueInRange(e,n){const l=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(l,n)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,n,l){const C=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(n<0?n-=l:n+=l);const Z=this.model.getOffsetAt(C)+n;return this.model.getPositionAt(Z)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,n,l){const C=l?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(Pe.e.compareRangesUsingStarts);let k=!1,Z=!1;for(const ce of e)ce.isEmpty()?k=!0:Z=!0;if(!Z){if(!n)return"";const ce=e.map(Ae=>Ae.startLineNumber);let De="";for(let Ae=0;Ae<ce.length;Ae++)Ae>0&&ce[Ae-1]===ce[Ae]||(De+=this.model.getLineContent(ce[Ae])+C);return De}if(k&&n){let ce=[],De=0;for(const Ae of e){const Ue=Ae.startLineNumber;Ae.isEmpty()?Ue!==De&&ce.push(this.model.getLineContent(Ue)):ce.push(this.model.getValueInRange(Ae,l?2:0)),De=Ue}return ce.length===1?ce[0]:ce}let ie=[];for(const ce of e)ce.isEmpty()||ie.push(this.model.getValueInRange(ce,l?2:0));return ie.length===1?ie[0]:ie}getRichTextToCopy(e,n){const l=this.model.getLanguageId();if(l===To.XT||e.length!==1)return null;let C=e[0];if(C.isEmpty()){if(!n)return null;const Ae=C.startLineNumber;C=new Pe.e(Ae,this.model.getLineMinColumn(Ae),Ae,this.model.getLineMaxColumn(Ae))}const k=this._configuration.options.get(43),Z=this._getColorMap(),ce=/[:;\\\/<>]/.test(k.fontFamily)||k.fontFamily===et.hL.fontFamily;let De;return ce?De=et.hL.fontFamily:(De=k.fontFamily,De=De.replace(/"/g,"'"),/[,']/.test(De)||/[+ ]/.test(De)&&(De=`'${De}'`),De=`${De}, ${et.hL.fontFamily}`),{mode:l,html:`<div style="color: ${Z[1]};background-color: ${Z[2]};font-family: ${De};font-weight: ${k.fontWeight};font-size: ${k.fontSize}px;line-height: ${k.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(C,Z)+"</div>"}}_getHTMLToCopy(e,n){const l=e.startLineNumber,C=e.startColumn,k=e.endLineNumber,Z=e.endColumn,ie=this.getTabSize();let ce="";for(let De=l;De<=k;De++){const Ae=this.model.getLineTokens(De),Ue=Ae.getLineContent(),Lt=De===l?C-1:0,_t=De===k?Z-1:Ue.length;Ue===""?ce+="<br>":ce+=(0,Vs.F)(Ue,Ae.inflate(),n,Lt,_t,ie,x.ED)}return ce}_getColorMap(){let e=Yt.RW.getColorMap(),n=["#000000"];if(e)for(let l=1,C=e.length;l<C;l++)n[l]=jt.Il.Format.CSS.formatHex(e[l]);return n}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,n,l){this._withViewEventsCollector(C=>this._cursor.setStates(C,e,n,l))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,n,l=0){this._withViewEventsCollector(C=>this._cursor.setSelections(C,e,n,l))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(n=>this._cursor.restoreState(n,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new Bs);return}this._withViewEventsCollector(e)}executeEdits(e,n,l){this._executeCursorEdit(C=>this._cursor.executeEdits(C,e,n,l))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(n=>this._cursor.endComposition(n,e))}type(e,n){this._executeCursorEdit(l=>this._cursor.type(l,e,n))}compositionType(e,n,l,C,k){this._executeCursorEdit(Z=>this._cursor.compositionType(Z,e,n,l,C,k))}paste(e,n,l,C){this._executeCursorEdit(k=>this._cursor.paste(k,e,n,l,C))}cut(e){this._executeCursorEdit(n=>this._cursor.cut(n,e))}executeCommand(e,n){this._executeCursorEdit(l=>this._cursor.executeCommand(l,e,n))}executeCommands(e,n){this._executeCursorEdit(l=>this._cursor.executeCommands(l,e,n))}revealPrimaryCursor(e,n){this._withViewEventsCollector(l=>this._cursor.revealPrimary(l,e,n,0))}revealTopMostCursor(e){const n=this._cursor.getTopMostViewPosition(),l=new Pe.e(n.lineNumber,n.column,n.lineNumber,n.column);this._withViewEventsCollector(C=>C.emitViewEvent(new zt(e,l,null,0,!0,0)))}revealBottomMostCursor(e){const n=this._cursor.getBottomMostViewPosition(),l=new Pe.e(n.lineNumber,n.column,n.lineNumber,n.column);this._withViewEventsCollector(C=>C.emitViewEvent(new zt(e,l,null,0,!0,0)))}revealRange(e,n,l,C,k){this._withViewEventsCollector(Z=>Z.emitViewEvent(new zt(e,l,null,C,n,k)))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,n){this.viewLayout.setScrollPosition({scrollTop:e},n)}setScrollPosition(e,n){this.viewLayout.setScrollPosition(e,n)}deltaScrollNow(e,n){this.viewLayout.deltaScrollNow(e,n)}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new bn),this._eventDispatcher.emitOutgoingEvent(new qn))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{const n=this._eventDispatcher.beginEmitViewEvents();e(n)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,n){return this._lines.normalizePosition(e,n)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class Yo{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,n,l,C,k){const Z=this._asMap[e];if(Z){const ie=Z.data,ce=ie[ie.length-3],De=ie[ie.length-1];if(ce===k&&De+1>=l){C>De&&(ie[ie.length-1]=C);return}ie.push(k,l,C)}else{const ie=new Li.SQ(e,n,[k,l,C]);this._asMap[e]=ie,this.asArray.push(ie)}}}var $o=c(94565),Qo=c(38819),Bo=c(72065),Uo=c(60972),Ko=c(59422),Ao=c(31106),qo=c(44906);class tr extends qo.N{constructor(e,n){super(0);for(let l=0;l<e.length;l++)this.set(e.charCodeAt(l),1);for(let l=0;l<n.length;l++)this.set(n.charCodeAt(l),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let er=[],xr=[];class jo{constructor(e,n){this.classifier=new tr(e,n)}static create(e){return new jo(e.get(118),e.get(117))}createLineBreaksComputer(e,n,l,C){n=n|0,l=+l;const k=[],Z=[],ie=[];return{addRequest:(ce,De,Ae)=>{k.push(ce),Z.push(De),ie.push(Ae)},finalize:()=>{const ce=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth;let De=[];for(let Ae=0,Ue=k.length;Ae<Ue;Ae++){const Lt=Z[Ae],_t=ie[Ae];_t&&!_t.injectionOptions&&!Lt?De[Ae]=yr(this.classifier,_t,k[Ae],n,l,ce,C):De[Ae]=rr(this.classifier,k[Ae],Lt,n,l,ce,C)}return er.length=0,xr.length=0,De}}}}function yr(Ct,e,n,l,C,k,Z){if(C===-1)return null;const ie=n.length;if(ie<=1)return null;const ce=e.breakOffsets,De=e.breakOffsetsVisibleColumn,Ae=ar(n,l,C,k,Z),Ue=C-Ae;let Lt=er,_t=xr,Bt=0,Xt=0,fi=0,Di=C;const Wi=ce.length;let Ti=0;if(Ti>=0){let Yi=Math.abs(De[Ti]-Di);for(;Ti+1<Wi;){const Pi=Math.abs(De[Ti+1]-Di);if(Pi>=Yi)break;Yi=Pi,Ti++}}for(;Ti<Wi;){let Yi=Ti<0?0:ce[Ti],Pi=Ti<0?0:De[Ti];Xt>Yi&&(Yi=Xt,Pi=fi);let Dn=0,vn=0,Qi=0,mn=0;if(Pi<=Di){let Un=Pi,Qs=Yi===0?0:n.charCodeAt(Yi-1),no=Yi===0?0:Ct.get(Qs),Ks=!0;for(let Ps=Yi;Ps<ie;Ps++){const Oo=Ps,No=n.charCodeAt(Ps);let Mo,Zo;if($e.ZG(No)?(Ps++,Mo=0,Zo=2):(Mo=Ct.get(No),Zo=hr(No,Un,l,k)),Oo>Xt&&pr(Qs,no,No,Mo)&&(Dn=Oo,vn=Un),Un+=Zo,Un>Di){Oo>Xt?(Qi=Oo,mn=Un-Zo):(Qi=Ps+1,mn=Un),Un-vn>Ue&&(Dn=0),Ks=!1;break}Qs=No,no=Mo}if(Ks){Bt>0&&(Lt[Bt]=ce[ce.length-1],_t[Bt]=De[ce.length-1],Bt++);break}}if(Dn===0){let Un=Pi,Qs=n.charCodeAt(Yi),no=Ct.get(Qs),Ks=!1;for(let Ps=Yi-1;Ps>=Xt;Ps--){const Oo=Ps+1,No=n.charCodeAt(Ps);if(No===9){Ks=!0;break}let Mo,Zo;if($e.YK(No)?(Ps--,Mo=0,Zo=2):(Mo=Ct.get(No),Zo=$e.K7(No)?k:1),Un<=Di){if(Qi===0&&(Qi=Oo,mn=Un),Un<=Di-Ue)break;if(pr(No,Mo,Qs,no)){Dn=Oo,vn=Un;break}}Un-=Zo,Qs=No,no=Mo}if(Dn!==0){const Ps=Ue-(mn-vn);if(Ps<=l){const Oo=n.charCodeAt(Qi);let No;$e.ZG(Oo)?No=2:No=hr(Oo,mn,l,k),Ps-No<0&&(Dn=0)}}if(Ks){Ti--;continue}}if(Dn===0&&(Dn=Qi,vn=mn),Dn<=Xt){const Un=n.charCodeAt(Xt);$e.ZG(Un)?(Dn=Xt+2,vn=fi+2):(Dn=Xt+1,vn=fi+hr(Un,fi,l,k))}for(Xt=Dn,Lt[Bt]=Dn,fi=vn,_t[Bt]=vn,Bt++,Di=vn+Ue;Ti<0||Ti<Wi&&De[Ti]<vn;)Ti++;let Sn=Math.abs(De[Ti]-Di);for(;Ti+1<Wi;){const Un=Math.abs(De[Ti+1]-Di);if(Un>=Sn)break;Sn=Un,Ti++}}return Bt===0?null:(Lt.length=Bt,_t.length=Bt,er=e.breakOffsets,xr=e.breakOffsetsVisibleColumn,e.breakOffsets=Lt,e.breakOffsetsVisibleColumn=_t,e.wrappedTextIndentLength=Ae,e)}function rr(Ct,e,n,l,C,k,Z){const ie=lt.gk.applyInjectedText(e,n);let ce,De;if(n&&n.length>0?(ce=n.map(vn=>vn.options),De=n.map(vn=>vn.column-1)):(ce=null,De=null),C===-1)return ce?new Li.le([ie.length],[],0,De,ce):null;const Ae=ie.length;if(Ae<=1)return ce?new Li.le([ie.length],[],0,De,ce):null;const Ue=ar(ie,l,C,k,Z),Lt=C-Ue;let _t=[],Bt=[],Xt=0,fi=0,Di=0,Wi=C,Ti=ie.charCodeAt(0),Yi=Ct.get(Ti),Pi=hr(Ti,0,l,k),Dn=1;$e.ZG(Ti)&&(Pi+=1,Ti=ie.charCodeAt(1),Yi=Ct.get(Ti),Dn++);for(let vn=Dn;vn<Ae;vn++){const Qi=vn,mn=ie.charCodeAt(vn);let Sn,Un;$e.ZG(mn)?(vn++,Sn=0,Un=2):(Sn=Ct.get(mn),Un=hr(mn,Pi,l,k)),pr(Ti,Yi,mn,Sn)&&(fi=Qi,Di=Pi),Pi+=Un,Pi>Wi&&((fi===0||Pi-Di>Lt)&&(fi=Qi,Di=Pi-Un),_t[Xt]=fi,Bt[Xt]=Di,Xt++,Wi=Di+Lt,fi=0),Ti=mn,Yi=Sn}return Xt===0&&(!n||n.length===0)?null:(_t[Xt]=Ae,Bt[Xt]=Pi,new Li.le(_t,Bt,Ue,De,ce))}function hr(Ct,e,n,l){return Ct===9?n-e%n:$e.K7(Ct)||Ct<32?l:1}function Io(Ct,e){return e-Ct%e}function pr(Ct,e,n,l){return n!==32&&(e===2||e===3&&l!==2||l===1||l===3&&e!==1)}function ar(Ct,e,n,l,C){let k=0;if(C!==0){const Z=$e.LC(Ct);if(Z!==-1){for(let ce=0;ce<Z;ce++){const De=Ct.charCodeAt(ce)===9?Io(k,e):1;k+=De}const ie=C===3?2:C===2?1:0;for(let ce=0;ce<ie;ce++){const De=Io(k,e);k+=De}k+l>n&&(k=0)}}return k}var dr;const fr=(dr=window.trustedTypes)===null||dr===void 0?void 0:dr.createPolicy("domLineBreaksComputer",{createHTML:Ct=>Ct});class ur{static create(){return new ur}constructor(){}createLineBreaksComputer(e,n,l,C){n=n|0,l=+l;let k=[],Z=[];return{addRequest:(ie,ce,De)=>{k.push(ie),Z.push(ce)},finalize:()=>Ar(k,e,n,l,C,Z)}}}function Ar(Ct,e,n,l,C,k){var Z;function ie(Qi){const mn=k[Qi];if(mn){const Sn=lt.gk.applyInjectedText(Ct[Qi],mn),Un=mn.map(no=>no.options),Qs=mn.map(no=>no.column-1);return new Li.le([Sn.length],[],0,Qs,Un)}else return null}if(l===-1){const Qi=[];for(let mn=0,Sn=Ct.length;mn<Sn;mn++)Qi[mn]=ie(mn);return Qi}const ce=Math.round(l*e.typicalHalfwidthCharacterWidth),Ae=Math.round(n*(C===3?2:C===2?1:0)),Ue=Math.ceil(e.spaceWidth*Ae),Lt=document.createElement("div");D.V.applyFontInfoSlow(Lt,e);const _t=(0,pi.l$)(1e4),Bt=[],Xt=[],fi=[],Di=[],Wi=[];for(let Qi=0;Qi<Ct.length;Qi++){const mn=lt.gk.applyInjectedText(Ct[Qi],k[Qi]);let Sn=0,Un=0,Qs=ce;if(C!==0)if(Sn=$e.LC(mn),Sn===-1)Sn=0;else{for(let Oo=0;Oo<Sn;Oo++){const No=mn.charCodeAt(Oo)===9?n-Un%n:1;Un+=No}const Ps=Math.ceil(e.spaceWidth*Un);Ps+e.typicalFullwidthCharacterWidth>ce?(Sn=0,Un=0):Qs=ce-Ps}const no=mn.substr(Sn),Ks=Ir(no,Un,n,Qs,_t,Ue);Bt[Qi]=Sn,Xt[Qi]=Un,fi[Qi]=no,Di[Qi]=Ks[0],Wi[Qi]=Ks[1]}const Ti=_t.build(),Yi=(Z=fr==null?void 0:fr.createHTML(Ti))!==null&&Z!==void 0?Z:Ti;Lt.innerHTML=Yi,Lt.style.position="absolute",Lt.style.top="10000",Lt.style.wordWrap="break-word",document.body.appendChild(Lt);let Pi=document.createRange();const Dn=Array.prototype.slice.call(Lt.children,0);let vn=[];for(let Qi=0;Qi<Ct.length;Qi++){const mn=Dn[Qi],Sn=ir(Pi,mn,fi[Qi],Di[Qi]);if(Sn===null){vn[Qi]=ie(Qi);continue}const Un=Bt[Qi],Qs=Xt[Qi]+Ae,no=Wi[Qi],Ks=[];for(let Mo=0,Zo=Sn.length;Mo<Zo;Mo++)Ks[Mo]=no[Sn[Mo]];if(Un!==0)for(let Mo=0,Zo=Sn.length;Mo<Zo;Mo++)Sn[Mo]+=Un;let Ps,Oo;const No=k[Qi];No?(Ps=No.map(Mo=>Mo.options),Oo=No.map(Mo=>Mo.column-1)):(Ps=null,Oo=null),vn[Qi]=new Li.le(Sn,Ks,Qs,Oo,Ps)}return document.body.removeChild(Lt),vn}function Ir(Ct,e,n,l,C,k){if(k!==0){let Lt=String(k);C.appendASCIIString('<div style="text-indent: -'),C.appendASCIIString(Lt),C.appendASCIIString("px; padding-left: "),C.appendASCIIString(Lt),C.appendASCIIString("px; box-sizing: border-box; width:")}else C.appendASCIIString('<div style="width:');C.appendASCIIString(String(l)),C.appendASCIIString('px;">');const Z=Ct.length;let ie=e,ce=0,De=[],Ae=[],Ue=0<Z?Ct.charCodeAt(0):0;C.appendASCIIString("<span>");for(let Lt=0;Lt<Z;Lt++){Lt!==0&&Lt%16384===0&&C.appendASCIIString("</span><span>"),De[Lt]=ce,Ae[Lt]=ie;const _t=Ue;Ue=Lt+1<Z?Ct.charCodeAt(Lt+1):0;let Bt=1,Xt=1;switch(_t){case 9:Bt=n-ie%n,Xt=Bt;for(let fi=1;fi<=Bt;fi++)fi<Bt?C.write1(160):C.appendASCII(32);break;case 32:Ue===32?C.write1(160):C.appendASCII(32);break;case 60:C.appendASCIIString("&lt;");break;case 62:C.appendASCIIString("&gt;");break;case 38:C.appendASCIIString("&amp;");break;case 0:C.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:C.write1(65533);break;default:$e.K7(_t)&&Xt++,_t<32?C.write1(9216+_t):C.write1(_t)}ce+=Bt,ie+=Xt}return C.appendASCIIString("</span>"),De[Ct.length]=ce,Ae[Ct.length]=ie,C.appendASCIIString("</div>"),[De,Ae]}function ir(Ct,e,n,l){if(n.length<=1)return null;const C=Array.prototype.slice.call(e.children,0),k=[];try{Cr(Ct,C,l,0,null,n.length-1,null,k)}catch(Z){return console.log(Z),null}return k.length===0?null:(k.push(n.length),k)}function Cr(Ct,e,n,l,C,k,Z,ie){if(l===k||(C=C||lr(Ct,e,n[l],n[l+1]),Z=Z||lr(Ct,e,n[k],n[k+1]),Math.abs(C[0].top-Z[0].top)<=.1))return;if(l+1===k){ie.push(k);return}const ce=l+(k-l)/2|0,De=lr(Ct,e,n[ce],n[ce+1]);Cr(Ct,e,n,l,C,ce,De,ie),Cr(Ct,e,n,ce,De,k,Z,ie)}function lr(Ct,e,n,l){return Ct.setStart(e[n/16384|0].firstChild,n%16384),Ct.setEnd(e[l/16384|0].firstChild,l%16384),Ct.getClientRects()}var Ns=c(5795),Zn=function(Ct,e,n,l){var C=arguments.length,k=C<3?e:l===null?l=Object.getOwnPropertyDescriptor(e,n):l,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(Ct,e,n,l);else for(var ie=Ct.length-1;ie>=0;ie--)(Z=Ct[ie])&&(k=(C<3?Z(k):C>3?Z(e,n,k):Z(e,n))||k);return C>3&&k&&Object.defineProperty(e,n,k),k},rs=function(Ct,e){return function(n,l){e(n,l,Ct)}};let Os=0;class Hs{constructor(e,n,l,C,k){this.model=e,this.viewModel=n,this.view=l,this.hasRealView=C,this.listenersToRemove=k}dispose(){(0,N.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let vo=class Il extends N.JT{constructor(e,n,l,C,k,Z,ie,ce,De,Ae){super(),this._onDidDispose=this._register(new s.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new s.Q5),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new s.Q5),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new s.Q5),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new s.Q5),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new s.Q5),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new s.Q5),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new s.Q5),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new s.Q5),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new s.Q5),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new s.Q5),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new s.Q5),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new nr),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new nr),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new s.Q5),this.onWillType=this._onWillType.event,this._onDidType=this._register(new s.Q5),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new s.Q5),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new s.Q5),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new s.Q5),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new s.Q5),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new s.Q5),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new s.Q5),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new s.Q5),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new s.Q5),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new s.Q5),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new s.Q5),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new s.Q5),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new s.Q5),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new s.Q5),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new s.Q5),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new s.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new s.Q5),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new s.Q5),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new s.Q5),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event;const Ue=Object.assign({},n);this._domElement=e,this._overflowWidgetsDomNode=Ue.overflowWidgetsDomNode,delete Ue.overflowWidgetsDomNode,this._id=++Os,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=l.isSimpleWidget||!1,this._telemetryData=l.telemetryData,this._configuration=this._register(this._createConfiguration(Ue,Ae)),this._register(this._configuration.onDidChange(_t=>{this._onDidChangeConfiguration.fire(_t);const Bt=this._configuration.options;if(_t.hasChanged(129)){const Xt=Bt.get(129);this._onDidLayoutChange.fire(Xt)}})),this._contextKeyService=this._register(ie.createScoped(this._domElement)),this._notificationService=De,this._codeEditorService=k,this._commandService=Z,this._themeService=ce,this._register(new Vo(this,this._contextKeyService)),this._register(new Xo(this,this._contextKeyService)),this._instantiationService=C.createChild(new Uo.y([Qo.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new to(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let Lt;Array.isArray(l.contributions)?Lt=l.contributions:Lt=O.Uc.getEditorContributions();for(const _t of Lt){if(this._contributions[_t.id]){(0,B.dL)(new Error(`Cannot have two contributions with the same id ${_t.id}`));continue}try{const Bt=this._instantiationService.createInstance(_t.ctor,this);this._contributions[_t.id]=Bt}catch(Bt){(0,B.dL)(Bt)}}O.Uc.getEditorActions().forEach(_t=>{if(this._actions[_t.id]){(0,B.dL)(new Error(`Cannot have two actions with the same id ${_t.id}`));return}const Bt=new Ms.p(_t.id,_t.label,_t.alias,(0,xs.f6)(_t.precondition),()=>this._instantiationService.invokeFunction(Xt=>Promise.resolve(_t.runEditorCommand(Xt,this,null))),this._contextKeyService);this._actions[Bt.id]=Bt}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(e,n){return new D.V(this.isSimpleWidget,e,this._domElement,n)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return uo.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let n=0,l=e.length;n<l;n++){const C=e[n];this._contributions[C].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e)}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?Ns.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(115),e):null}getValue(e=null){if(!this._modelData)return"";const n=!!(e&&e.preserveBOM);let l=0;return e&&e.lineEnding&&e.lineEnding===`
`?l=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(l=2),this._modelData.model.getValue(l,n)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const n=e;if(this._modelData===null&&n===null||this._modelData&&this._modelData.model===n)return;const l=this.hasTextFocus(),C=this._detachModel();this._attachModel(n),l&&this.hasModel()&&this.focus();const k={oldModelUrl:C?C.uri:null,newModelUrl:n?n.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(k),this._postDetachModelCleanup(C)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){const n=this._decorationTypeSubtypes[e];for(let l in n)this._removeDecorationType(e+"-"+l)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,n,l){const C=e.model.validatePosition({lineNumber:n,column:l}),k=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(C);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(k.lineNumber)}getTopForLineNumber(e){return this._modelData?Il._getVerticalOffsetForPosition(this._modelData,e,1):-1}getTopForPosition(e,n){return this._modelData?Il._getVerticalOffsetForPosition(this._modelData,e,n):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map(n=>Pe.e.lift(n)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const n=this._modelData.model.validatePosition(e),l=this._modelData.model.getOptions().tabSize;return ye.io.visibleColumnFromColumn(this._modelData.model.getLineContent(n.lineNumber),n.column,l)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){if(this._modelData){if(!Ne.L.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,n,l,C){if(!this._modelData)return;if(!Pe.e.isIRange(e))throw new Error("Invalid arguments");const k=this._modelData.model.validateRange(e),Z=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(k);this._modelData.viewModel.revealRange("api",l,Z,n,C)}revealLine(e,n=0){this._revealLine(e,0,n)}revealLineInCenter(e,n=0){this._revealLine(e,1,n)}revealLineInCenterIfOutsideViewport(e,n=0){this._revealLine(e,2,n)}revealLineNearTop(e,n=0){this._revealLine(e,5,n)}_revealLine(e,n,l){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Pe.e(e,1,e,1),n,!1,l)}revealPosition(e,n=0){this._revealPosition(e,0,!0,n)}revealPositionInCenter(e,n=0){this._revealPosition(e,1,!0,n)}revealPositionInCenterIfOutsideViewport(e,n=0){this._revealPosition(e,2,!0,n)}revealPositionNearTop(e,n=0){this._revealPosition(e,5,!0,n)}_revealPosition(e,n,l,C){if(!Ne.L.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new Pe.e(e.lineNumber,e.column,e.lineNumber,e.column),n,l,C)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){const n=T.Y.isISelection(e),l=Pe.e.isIRange(e);if(!n&&!l)throw new Error("Invalid arguments");if(n)this._setSelectionImpl(e);else if(l){const C={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(C)}}_setSelectionImpl(e){if(!this._modelData)return;const n=new T.Y(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections("api",[n])}revealLines(e,n,l=0){this._revealLines(e,n,0,l)}revealLinesInCenter(e,n,l=0){this._revealLines(e,n,1,l)}revealLinesInCenterIfOutsideViewport(e,n,l=0){this._revealLines(e,n,2,l)}revealLinesNearTop(e,n,l=0){this._revealLines(e,n,5,l)}_revealLines(e,n,l,C){if(typeof e!="number"||typeof n!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Pe.e(e,1,n,1),l,!1,C)}revealRange(e,n=0,l=!1,C=!0){this._revealRange(e,l?1:0,C,n)}revealRangeInCenter(e,n=0){this._revealRange(e,1,!0,n)}revealRangeInCenterIfOutsideViewport(e,n=0){this._revealRange(e,2,!0,n)}revealRangeNearTop(e,n=0){this._revealRange(e,5,!0,n)}revealRangeNearTopIfOutsideViewport(e,n=0){this._revealRange(e,6,!0,n)}revealRangeAtTop(e,n=0){this._revealRange(e,3,!0,n)}_revealRange(e,n,l,C){if(!Pe.e.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(Pe.e.lift(e),n,l,C)}setSelections(e,n="api",l=0){if(this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let C=0,k=e.length;C<k;C++)if(!T.Y.isISelection(e[C]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(n,e,l)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,n=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:e},n)}}setScrollTop(e,n=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:e},n)}}setScrollPosition(e,n=1){this._modelData&&this._modelData.viewModel.setScrollPosition(e,n)}saveViewState(){if(!this._modelData)return null;const e={},n=Object.keys(this._contributions);for(const k of n){const Z=this._contributions[k];typeof Z.saveViewState=="function"&&(e[k]=Z.saveViewState())}const l=this._modelData.viewModel.saveCursorState(),C=this._modelData.viewModel.saveState();return{cursorState:l,viewState:C,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const n=e;if(n&&n.cursorState&&n.viewState){const l=n.cursorState;Array.isArray(l)?this._modelData.viewModel.restoreCursorState(l):this._modelData.viewModel.restoreCursorState([l]);const C=n.contributionsState||{},k=Object.keys(this._contributions);for(let ie=0,ce=k.length;ie<ce;ie++){const De=k[ie],Ae=this._contributions[De];typeof Ae.restoreViewState=="function"&&Ae.restoreViewState(C[De])}const Z=this._modelData.viewModel.reduceRestoreState(n.viewState);this._modelData.view.restoreState(Z)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],n=Object.keys(this._actions);for(let l=0,C=n.length;l<C;l++){const k=n[l];e.push(this._actions[k])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter(n=>n.isSupported()),e}getAction(e){return this._actions[e]||null}trigger(e,n,l){switch(l=l||{},n){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const k=l;this._type(e,k.text||"");return}case"replacePreviousChar":{const k=l;this._compositionType(e,k.text||"",k.replaceCharCnt||0,0,0);return}case"compositionType":{const k=l;this._compositionType(e,k.text||"",k.replacePrevCharCnt||0,k.replaceNextCharCnt||0,k.positionDelta||0);return}case"paste":{const k=l;this._paste(e,k.text||"",k.pasteOnNewLine||!1,k.multicursorText||null,k.mode||null);return}case"cut":this._cut(e);return}const C=this.getAction(n);if(C){Promise.resolve(C.run()).then(void 0,B.dL);return}this._modelData&&(this._triggerEditorCommand(e,n,l)||this._triggerCommand(n,l))}_triggerCommand(e,n){this._commandService.executeCommand(e,n)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,n){!this._modelData||n.length===0||(e==="keyboard"&&this._onWillType.fire(n),this._modelData.viewModel.type(n,e),e==="keyboard"&&this._onDidType.fire(n))}_compositionType(e,n,l,C,k){this._modelData&&this._modelData.viewModel.compositionType(n,l,C,k,e)}_paste(e,n,l,C,k){if(!this._modelData||n.length===0)return;const Z=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(n,l,C,e);const ie=this._modelData.viewModel.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new Pe.e(Z.lineNumber,Z.column,ie.lineNumber,ie.column),languageId:k})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,n,l){const C=O.Uc.getEditorCommand(n);return C?(l=l||{},l.source=e,this._instantiationService.invokeFunction(k=>{Promise.resolve(C.runEditorCommand(k,this,l)).then(void 0,B.dL)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,n,l){if(!this._modelData||this._configuration.options.get(80))return!1;let C;return l?Array.isArray(l)?C=()=>l:C=l:C=()=>null,this._modelData.viewModel.executeEdits(e,n,C),!0}executeCommand(e,n){this._modelData&&this._modelData.viewModel.executeCommand(n,e)}executeCommands(e,n){this._modelData&&this._modelData.viewModel.executeCommands(n,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,(0,et.$J)(this._configuration.options)):null}deltaDecorations(e,n){return this._modelData?e.length===0&&n.length===0?e:this._modelData.model.deltaDecorations(e,n,this._id):[]}removeDecorations(e){const n=this._decorationTypeKeysToIds[e];n&&this.deltaDecorations(n,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(129)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeReferenceElement(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const n={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=n,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(n)}layoutContentWidget(e){const n=e.getId();if(this._contentWidgets.hasOwnProperty(n)){const l=this._contentWidgets[n];l.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(l)}}removeContentWidget(e){const n=e.getId();if(this._contentWidgets.hasOwnProperty(n)){const l=this._contentWidgets[n];delete this._contentWidgets[n],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(l)}}addOverlayWidget(e){const n={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=n,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(n)}layoutOverlayWidget(e){const n=e.getId();if(this._overlayWidgets.hasOwnProperty(n)){const l=this._overlayWidgets[n];l.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(l)}}removeOverlayWidget(e){const n=e.getId();if(this._overlayWidgets.hasOwnProperty(n)){const l=this._overlayWidgets[n];delete this._overlayWidgets[n],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(l)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,n){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,n)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const n=this._modelData.model.validatePosition(e),l=this._configuration.options,C=l.get(129),k=Il._getVerticalOffsetForPosition(this._modelData,n.lineNumber,n.column)-this.getScrollTop(),Z=this._modelData.view.getOffsetForColumn(n.lineNumber,n.column)+C.glyphMarginWidth+C.lineNumbersWidth+C.decorationsWidth-this.getScrollLeft();return{top:k,left:Z,height:l.get(58)}}getOffsetForColumn(e,n){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,n)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){D.V.applyFontInfoSlow(e,this._configuration.options.get(43))}_attachModel(e){if(!e){this._modelData=null;return}const n=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();const l=new _o(this._id,this._configuration,e,ur.create(),jo.create(this._configuration.options),Z=>R.jL(Z));n.push(e.onDidChangeDecorations(Z=>this._onDidChangeModelDecorations.fire(Z))),n.push(e.onDidChangeLanguage(Z=>{this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(Z)})),n.push(e.onDidChangeLanguageConfiguration(Z=>this._onDidChangeModelLanguageConfiguration.fire(Z))),n.push(e.onDidChangeContent(Z=>this._onDidChangeModelContent.fire(Z))),n.push(e.onDidChangeOptions(Z=>this._onDidChangeModelOptions.fire(Z))),n.push(e.onWillDispose(()=>this.setModel(null))),n.push(l.onEvent(Z=>{switch(Z.kind){case 0:this._onDidContentSizeChange.fire(Z);break;case 1:this._editorTextFocus.setValue(Z.hasFocus);break;case 2:this._onDidScrollChange.fire(Z);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{Z.reachedMaxCursorCount&&this._notificationService.warn(X.N("cursors.maximum","The number of cursors has been limited to {0}.",vs.MAX_CURSOR_COUNT));const ie=[];for(let Ae=0,Ue=Z.selections.length;Ae<Ue;Ae++)ie[Ae]=Z.selections[Ae].getPosition();const ce={position:ie[0],secondaryPositions:ie.slice(1),reason:Z.reason,source:Z.source};this._onDidChangeCursorPosition.fire(ce);const De={selection:Z.selections[0],secondarySelections:Z.selections.slice(1),modelVersionId:Z.modelVersionId,oldSelections:Z.oldSelections,oldModelVersionId:Z.oldModelVersionId,source:Z.source,reason:Z.reason};this._onDidChangeCursorSelection.fire(De);break}}}));const[C,k]=this._createView(l);if(k){this._domElement.appendChild(C.domNode.domNode);let Z=Object.keys(this._contentWidgets);for(let ie=0,ce=Z.length;ie<ce;ie++){const De=Z[ie];C.addContentWidget(this._contentWidgets[De])}Z=Object.keys(this._overlayWidgets);for(let ie=0,ce=Z.length;ie<ce;ie++){const De=Z[ie];C.addOverlayWidget(this._overlayWidgets[De])}C.render(!1,!0),C.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new Hs(e,l,C,k,n)}_createView(e){let n;this.isSimpleWidget?n={paste:(k,Z,ie,ce)=>{this._paste("keyboard",k,Z,ie,ce)},type:k=>{this._type("keyboard",k)},compositionType:(k,Z,ie,ce)=>{this._compositionType("keyboard",k,Z,ie,ce)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:n={paste:(k,Z,ie,ce)=>{const De={text:k,pasteOnNewLine:Z,multicursorText:ie,mode:ce};this._commandService.executeCommand("paste",De)},type:k=>{const Z={text:k};this._commandService.executeCommand("type",Z)},compositionType:(k,Z,ie,ce)=>{if(ie||ce){const De={text:k,replacePrevCharCnt:Z,replaceNextCharCnt:ie,positionDelta:ce};this._commandService.executeCommand("compositionType",De)}else{const De={text:k,replaceCharCnt:Z};this._commandService.executeCommand("replacePreviousChar",De)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const l=new pn(e.coordinatesConverter);return l.onKeyDown=k=>this._onKeyDown.fire(k),l.onKeyUp=k=>this._onKeyUp.fire(k),l.onContextMenu=k=>this._onContextMenu.fire(k),l.onMouseMove=k=>this._onMouseMove.fire(k),l.onMouseLeave=k=>this._onMouseLeave.fire(k),l.onMouseDown=k=>this._onMouseDown.fire(k),l.onMouseUp=k=>this._onMouseUp.fire(k),l.onMouseDrag=k=>this._onMouseDrag.fire(k),l.onMouseDrop=k=>this._onMouseDrop.fire(k),l.onMouseDropCanceled=k=>this._onMouseDropCanceled.fire(k),l.onMouseWheel=k=>this._onMouseWheel.fire(k),[new M(n,this._configuration,this._themeService,e,l,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,n=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),n&&this._domElement.contains(n)&&this._domElement.removeChild(n),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}};vo=Zn([rs(3,Bo.TG),rs(4,H.$),rs(5,$o.H),rs(6,Qo.i6),rs(7,wt.XE),rs(8,Ko.lT),rs(9,Ao.F)],vo);class nr extends N.JT{constructor(){super(),this._onDidChangeToTrue=this._register(new s.Q5),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new s.Q5),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const n=e?2:1;this._value!==n&&(this._value=n,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class Vo extends N.JT{constructor(e,n){super(),this._editor=e,n.createKey("editorId",e.getId()),this._editorSimpleInput=An.u.editorSimpleInput.bindTo(n),this._editorFocus=An.u.focus.bindTo(n),this._textInputFocus=An.u.textInputFocus.bindTo(n),this._editorTextFocus=An.u.editorTextFocus.bindTo(n),this._editorTabMovesFocus=An.u.tabMovesFocus.bindTo(n),this._editorReadonly=An.u.readOnly.bindTo(n),this._inDiffEditor=An.u.inDiffEditor.bindTo(n),this._editorColumnSelection=An.u.columnSelection.bindTo(n),this._hasMultipleSelections=An.u.hasMultipleSelections.bindTo(n),this._hasNonEmptySelection=An.u.hasNonEmptySelection.bindTo(n),this._canUndo=An.u.canUndo.bindTo(n),this._canRedo=An.u.canRedo.bindTo(n),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(128)),this._editorReadonly.set(e.get(80)),this._inDiffEditor.set(e.get(53)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(n=>!n.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(!!(e&&e.canUndo())),this._canRedo.set(!!(e&&e.canRedo()))}}class Xo extends N.JT{constructor(e,n){super(),this._editor=e,this._contextKeyService=n,this._langId=An.u.languageId.bindTo(n),this._hasCompletionItemProvider=An.u.hasCompletionItemProvider.bindTo(n),this._hasCodeActionsProvider=An.u.hasCodeActionsProvider.bindTo(n),this._hasCodeLensProvider=An.u.hasCodeLensProvider.bindTo(n),this._hasDefinitionProvider=An.u.hasDefinitionProvider.bindTo(n),this._hasDeclarationProvider=An.u.hasDeclarationProvider.bindTo(n),this._hasImplementationProvider=An.u.hasImplementationProvider.bindTo(n),this._hasTypeDefinitionProvider=An.u.hasTypeDefinitionProvider.bindTo(n),this._hasHoverProvider=An.u.hasHoverProvider.bindTo(n),this._hasDocumentHighlightProvider=An.u.hasDocumentHighlightProvider.bindTo(n),this._hasDocumentSymbolProvider=An.u.hasDocumentSymbolProvider.bindTo(n),this._hasReferenceProvider=An.u.hasReferenceProvider.bindTo(n),this._hasRenameProvider=An.u.hasRenameProvider.bindTo(n),this._hasSignatureHelpProvider=An.u.hasSignatureHelpProvider.bindTo(n),this._hasInlayHintsProvider=An.u.hasInlayHintsProvider.bindTo(n),this._hasDocumentFormattingProvider=An.u.hasDocumentFormattingProvider.bindTo(n),this._hasDocumentSelectionFormattingProvider=An.u.hasDocumentSelectionFormattingProvider.bindTo(n),this._hasMultipleDocumentFormattingProvider=An.u.hasMultipleDocumentFormattingProvider.bindTo(n),this._hasMultipleDocumentSelectionFormattingProvider=An.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(n),this._isInWalkThrough=An.u.isInWalkThroughSnippet.bindTo(n);const l=()=>this._update();this._register(e.onDidChangeModel(l)),this._register(e.onDidChangeModelLanguage(l)),this._register(Yt.KZ.onDidChange(l)),this._register(Yt.H9.onDidChange(l)),this._register(Yt.He.onDidChange(l)),this._register(Yt.Ct.onDidChange(l)),this._register(Yt.RN.onDidChange(l)),this._register(Yt.vI.onDidChange(l)),this._register(Yt.tA.onDidChange(l)),this._register(Yt.xp.onDidChange(l)),this._register(Yt.vH.onDidChange(l)),this._register(Yt.vJ.onDidChange(l)),this._register(Yt.FL.onDidChange(l)),this._register(Yt.G0.onDidChange(l)),this._register(Yt.Az.onDidChange(l)),this._register(Yt.vN.onDidChange(l)),this._register(Yt.nD.onDidChange(l)),this._register(Yt.mX.onDidChange(l)),l()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(Yt.KZ.has(e)),this._hasCodeActionsProvider.set(Yt.H9.has(e)),this._hasCodeLensProvider.set(Yt.He.has(e)),this._hasDefinitionProvider.set(Yt.Ct.has(e)),this._hasDeclarationProvider.set(Yt.RN.has(e)),this._hasImplementationProvider.set(Yt.vI.has(e)),this._hasTypeDefinitionProvider.set(Yt.tA.has(e)),this._hasHoverProvider.set(Yt.xp.has(e)),this._hasDocumentHighlightProvider.set(Yt.vH.has(e)),this._hasDocumentSymbolProvider.set(Yt.vJ.has(e)),this._hasReferenceProvider.set(Yt.FL.has(e)),this._hasRenameProvider.set(Yt.G0.has(e)),this._hasSignatureHelpProvider.set(Yt.nD.has(e)),this._hasInlayHintsProvider.set(Yt.mX.has(e)),this._hasDocumentFormattingProvider.set(Yt.Az.has(e)||Yt.vN.has(e)),this._hasDocumentSelectionFormattingProvider.set(Yt.vN.has(e)),this._hasMultipleDocumentFormattingProvider.set(Yt.Az.all(e).length+Yt.vN.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(Yt.vN.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===g.lg.walkThroughSnippet)})}}class to extends N.JT{constructor(e){super(),this._onChange=this._register(new s.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(R.go(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const Go=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Vr=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Nr(Ct){return Go+encodeURIComponent(Ct.toString())+Vr}const Or=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Tr=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function Eo(Ct){return Or+encodeURIComponent(Ct.toString())+Tr}(0,wt.Ic)((Ct,e)=>{const n=Ct.getColor(Jn.b6);n&&e.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${n}; }`);const l=Ct.getColor(Jn.lX);l&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Nr(l)}") repeat-x bottom left; }`);const C=Ct.getColor(Jn.A2);C&&e.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${C}; }`);const k=Ct.getColor(Jn.pW);k&&e.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${k}; }`);const Z=Ct.getColor(Jn.uo);Z&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Nr(Z)}") repeat-x bottom left; }`);const ie=Ct.getColor(Jn.gp);ie&&e.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${ie}; }`);const ce=Ct.getColor(Jn.T8);ce&&e.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${ce}; }`);const De=Ct.getColor(Jn.c6);De&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Nr(De)}") repeat-x bottom left; }`);const Ae=Ct.getColor(Jn.fe);Ae&&e.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${Ae}; }`);const Ue=Ct.getColor(Jn.fE);Ue&&e.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${Ue}; }`);const Lt=Ct.getColor(Jn.Du);Lt&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${Eo(Lt)}") no-repeat bottom left; }`);const _t=Ct.getColor(on.zu);_t&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${_t.rgba.a}; }`);const Bt=Ct.getColor(on.kp);Bt&&e.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${Bt}; }`);const Xt=Ct.getColor(Jn.NO)||"inherit";e.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${Xt}}`)})},84527:function(Qt,He,c){"use strict";c.d(He,{H:function(){return D}});var E=c(36248),O=c(11640),Q=c(53418),P=c(94565),y=c(38819),X=c(72065),R=c(59422),B=c(97781),s=c(31106),N=function(H,r,T,w){var x=arguments.length,f=x<3?r:w===null?w=Object.getOwnPropertyDescriptor(r,T):w,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(H,r,T,w);else for(var S=H.length-1;S>=0;S--)(p=H[S])&&(f=(x<3?p(f):x>3?p(r,T,f):p(r,T))||f);return x>3&&f&&Object.defineProperty(r,T,f),f},g=function(H,r){return function(T,w){r(T,w,H)}};let D=class extends Q.Gm{constructor(r,T,w,x,f,p,S,h,L,v){super(r,Object.assign(Object.assign({},w.getRawOptions()),{overflowWidgetsDomNode:w.getOverflowWidgetsDomNode()}),{},x,f,p,S,h,L,v),this._parentEditor=w,this._overwriteOptions=T,super.updateOptions(this._overwriteOptions),this._register(w.onDidChangeConfiguration(V=>this._onParentConfigurationChanged(V)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(r){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(r){E.jB(this._overwriteOptions,r,!0),super.updateOptions(this._overwriteOptions)}};D=N([g(3,X.TG),g(4,O.$),g(5,P.H),g(6,y.i6),g(7,B.XE),g(8,R.lT),g(9,s.F)],D)},61329:function(Qt,He,c){"use strict";c.d(He,{Sj:function(){return P},T4:function(){return O},Uo:function(){return y},hP:function(){return X}});var E=c(3860);class O{constructor(B,s,N=!1){this._range=B,this._text=s,this.insertsAutoWhitespace=N}getEditOperations(B,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(B,s){let g=s.getInverseEditOperations()[0].range;return new E.Y(g.endLineNumber,g.endColumn,g.endLineNumber,g.endColumn)}}class Q{constructor(B,s){this._range=B,this._text=s}getEditOperations(B,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(B,s){const g=s.getInverseEditOperations()[0].range;return new Selection(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn)}}class P{constructor(B,s,N=!1){this._range=B,this._text=s,this.insertsAutoWhitespace=N}getEditOperations(B,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(B,s){let g=s.getInverseEditOperations()[0].range;return new E.Y(g.startLineNumber,g.startColumn,g.startLineNumber,g.startColumn)}}class y{constructor(B,s,N,g,D=!1){this._range=B,this._text=s,this._columnDeltaOffset=g,this._lineNumberDeltaOffset=N,this.insertsAutoWhitespace=D}getEditOperations(B,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(B,s){let g=s.getInverseEditOperations()[0].range;return new E.Y(g.endLineNumber+this._lineNumberDeltaOffset,g.endColumn+this._columnDeltaOffset,g.endLineNumber+this._lineNumberDeltaOffset,g.endColumn+this._columnDeltaOffset)}}class X{constructor(B,s,N,g=!1){this._range=B,this._text=s,this._initialSelection=N,this._forceMoveMarkers=g,this._selectionId=null}getEditOperations(B,s){s.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=s.trackSelection(this._initialSelection)}computeCursorState(B,s){return s.getTrackedSelection(this._selectionId)}}},56345:function(Qt,He,c){"use strict";c.d(He,{Pe:function(){return de},ei:function(){return ee},fv:function(){return p}});var E=c(63580),O=c(4669),Q=c(5976),P=c(36248),y=c(9488),X=c(64141),R=c(82334),B=c(27374),s=c(23193),N=c(89872),g=c(6626);const D=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new O.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(pe){this._tabFocus!==pe&&(this._tabFocus=pe,this._onDidChangeTabFocus.fire(this._tabFocus))}},H=Object.hasOwnProperty;class r{constructor(){this._values=[]}_read(ve){return this._values[ve]}get(ve){return this._values[ve]}_write(ve,xe){this._values[ve]=xe}}class T{constructor(){this._values=[]}_read(ve){return this._values[ve]}_write(ve,xe){this._values[ve]=xe}}class w{static readOptions(ve){const xe=ve,le=new T;for(const Y of X.Bc){const j=Y.name==="_never_"?void 0:xe[Y.name];le._write(Y.id,j)}return le}static validateOptions(ve){const xe=new X.hu;for(const le of X.Bc)xe._write(le.id,le.validate(ve._read(le.id)));return xe}static computeOptions(ve,xe){const le=new r;for(const Y of X.Bc)le._write(Y.id,Y.compute(xe,le,ve._read(Y.id)));return le}static _deepEquals(ve,xe){if(typeof ve!="object"||typeof xe!="object")return ve===xe;if(Array.isArray(ve)||Array.isArray(xe))return Array.isArray(ve)&&Array.isArray(xe)?y.fS(ve,xe):!1;for(let le in ve)if(!w._deepEquals(ve[le],xe[le]))return!1;return!0}static checkEquals(ve,xe){const le=[];let Y=!1;for(const j of X.Bc){const G=!w._deepEquals(ve._read(j.id),xe._read(j.id));le[j.id]=G,G&&(Y=!0)}return Y?new X.Bb(le):null}}function x(pe){const ve=pe.wordWrap;ve===!0?pe.wordWrap="on":ve===!1&&(pe.wordWrap="off");const xe=pe.lineNumbers;xe===!0?pe.lineNumbers="on":xe===!1&&(pe.lineNumbers="off"),pe.autoClosingBrackets===!1&&(pe.autoClosingBrackets="never",pe.autoClosingQuotes="never",pe.autoSurround="never"),pe.cursorBlinking==="visible"&&(pe.cursorBlinking="solid");const j=pe.renderWhitespace;j===!0?pe.renderWhitespace="boundary":j===!1&&(pe.renderWhitespace="none");const G=pe.renderLineHighlight;G===!0?pe.renderLineHighlight="line":G===!1&&(pe.renderLineHighlight="none");const q=pe.acceptSuggestionOnEnter;q===!0?pe.acceptSuggestionOnEnter="on":q===!1&&(pe.acceptSuggestionOnEnter="off");const m=pe.tabCompletion;m===!1?pe.tabCompletion="off":m===!0&&(pe.tabCompletion="onlySnippets");const b=pe.suggest;if(b&&typeof b.filteredTypes=="object"&&b.filteredTypes){const et={};et.method="showMethods",et.function="showFunctions",et.constructor="showConstructors",et.deprecated="showDeprecated",et.field="showFields",et.variable="showVariables",et.class="showClasses",et.struct="showStructs",et.interface="showInterfaces",et.module="showModules",et.property="showProperties",et.event="showEvents",et.operator="showOperators",et.unit="showUnits",et.value="showValues",et.constant="showConstants",et.enum="showEnums",et.enumMember="showEnumMembers",et.keyword="showKeywords",et.text="showWords",et.color="showColors",et.file="showFiles",et.reference="showReferences",et.folder="showFolders",et.typeParameter="showTypeParameters",et.snippet="showSnippets",(0,g.E)(et,Dt=>{const ht=b.filteredTypes[Dt.key];ht===!1&&(b[Dt.value]=ht)})}const F=pe.hover;F===!0?pe.hover={enabled:!0}:F===!1&&(pe.hover={enabled:!1});const te=pe.parameterHints;te===!0?pe.parameterHints={enabled:!0}:te===!1&&(pe.parameterHints={enabled:!1});const me=pe.autoIndent;me===!0?pe.autoIndent="full":me===!1&&(pe.autoIndent="advanced");const ue=pe.matchBrackets;ue===!0?pe.matchBrackets="always":ue===!1&&(pe.matchBrackets="never");const{renderIndentGuides:Oe,highlightActiveIndentGuide:Re}=pe;pe.guides||(pe.guides={}),Oe!==void 0&&(pe.guides.indentation=!!Oe),Re!==void 0&&(pe.guides.highlightActiveIndentation=!!Re)}function f(pe){const ve=P.I8(pe);return x(ve),ve}class p extends Q.JT{constructor(ve,xe){super(),this._onDidChange=this._register(new O.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new O.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=ve,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new X.LJ,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=f(xe),this._readOptions=w.readOptions(this._rawOptions),this._validatedOptions=w.validateOptions(this._readOptions),this._register(R.C.onDidChangeZoomLevel(le=>this._recomputeOptions())),this._register(D.onDidChangeTabFocus(le=>this._recomputeOptions()))}observeReferenceElement(ve){}updatePixelRatio(){}_recomputeOptions(){const ve=this.options,xe=this._computeInternalOptions();if(!ve)this.options=xe;else{const le=w.checkEquals(ve,xe);if(le===null)return;this.options=xe,this._onDidChangeFast.fire(le),this._onDidChange.fire(le)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const ve=this._getEnvConfiguration(),xe=B.E4.createFromValidatedSettings(this._validatedOptions,ve.zoomLevel,ve.pixelRatio,this.isSimpleWidget),le={memory:this._computeOptionsMemory,outerWidth:ve.outerWidth,outerHeight:ve.outerHeight,fontInfo:this.readConfiguration(xe),extraEditorClassName:ve.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:ve.emptySelectionClipboard,pixelRatio:ve.pixelRatio,tabFocusMode:D.getTabFocusMode(),accessibilitySupport:ve.accessibilitySupport};return w.computeOptions(this._validatedOptions,le)}static _subsetEquals(ve,xe){for(const le in xe)if(H.call(xe,le)){const Y=xe[le],j=ve[le];if(j===Y)continue;if(Array.isArray(j)&&Array.isArray(Y)){if(!y.fS(j,Y))return!1;continue}if(j&&typeof j=="object"&&Y&&typeof Y=="object"){if(!this._subsetEquals(j,Y))return!1;continue}return!1}return!0}updateOptions(ve){if(typeof ve=="undefined")return;const xe=f(ve);p._subsetEquals(this._rawOptions,xe)||(this._rawOptions=P.jB(this._rawOptions,xe||{}),this._readOptions=w.readOptions(this._rawOptions),this._validatedOptions=w.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(ve){this._isDominatedByLongLines=ve,this._recomputeOptions()}setMaxLineNumber(ve){const xe=p._digitCount(ve);this._lineNumbersDigitCount!==xe&&(this._lineNumbersDigitCount=xe,this._recomputeOptions())}setViewLineCount(ve){this._viewLineCount!==ve&&(this._viewLineCount=ve,this._recomputeOptions())}static _digitCount(ve){let xe=0;for(;ve;)ve=Math.floor(ve/10),xe++;return xe||1}}const S=Object.freeze({id:"editor",order:5,type:"object",title:E.N("editorConfigurationTitle","Editor"),scope:5}),h=N.B.as(s.IP.Configuration),L=Object.assign(Object.assign({},S),{properties:{"editor.tabSize":{type:"number",default:X.DB.tabSize,minimum:1,markdownDescription:E.N("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:X.DB.insertSpaces,markdownDescription:E.N("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:X.DB.detectIndentation,markdownDescription:E.N("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:X.DB.trimAutoWhitespace,description:E.N("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:X.DB.largeFileOptimizations,description:E.N("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:E.N("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[E.N("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),E.N("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),E.N("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:E.N("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[E.N("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),E.N("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),E.N("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:E.N("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:E.N("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:E.N("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:E.N("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:E.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:E.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:E.N("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:E.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:E.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:E.N("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:E.N("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:E.N("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:E.N("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:E.N("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:E.N("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[E.N("wordWrap.off","Lines will never wrap."),E.N("wordWrap.on","Lines will wrap at the viewport width."),E.N("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function v(pe){return typeof pe.type!="undefined"||typeof pe.anyOf!="undefined"}for(const pe of X.Bc){const ve=pe.schema;if(typeof ve!="undefined")if(v(ve))L.properties[`editor.${pe.name}`]=ve;else for(let xe in ve)H.call(ve,xe)&&(L.properties[xe]=ve[xe])}let V=null;function $(){return V===null&&(V=Object.create(null),Object.keys(L.properties).forEach(pe=>{V[pe]=!0})),V}function ee(pe){return $()[`editor.${pe}`]||!1}function de(pe){return $()[`diffEditor.${pe}`]||!1}h.registerConfiguration(L)},64141:function(Qt,He,c){"use strict";c.d(He,{$J:function(){return ht},BH:function(){return en},Bb:function(){return y},Bc:function(){return ii},DB:function(){return bi},LJ:function(){return R},NY:function(){return x},O7:function(){return g},Zc:function(){return H},d2:function(){return V},gk:function(){return q},hL:function(){return ei},hu:function(){return X},n0:function(){return ve},y0:function(){return P}});var E=c(63580),O=c(1432),Q=c(97461);const P=8;class y{constructor(Ke){this._values=Ke}hasChanged(Ke){return this._values[Ke]}}class X{constructor(){this._values=[]}_read(Ke){return this._values[Ke]}get(Ke){return this._values[Ke]}_write(Ke,st){this._values[Ke]=st}}class R{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class B{constructor(Ke,st,Mi,ci){this.id=Ke,this.name=st,this.defaultValue=Mi,this.schema=ci}compute(Ke,st,Mi){return Mi}}class s{constructor(Ke,st=null){this.schema=void 0,this.id=Ke,this.name="_never_",this.defaultValue=void 0,this.deps=st}validate(Ke){return this.defaultValue}}class N{constructor(Ke,st,Mi,ci){this.id=Ke,this.name=st,this.defaultValue=Mi,this.schema=ci}validate(Ke){return typeof Ke=="undefined"?this.defaultValue:Ke}compute(Ke,st,Mi){return Mi}}function g(ui,Ke){return typeof ui=="undefined"?Ke:ui==="false"?!1:!!ui}class D extends N{constructor(Ke,st,Mi,ci=void 0){typeof ci!="undefined"&&(ci.type="boolean",ci.default=Mi),super(Ke,st,Mi,ci)}validate(Ke){return g(Ke,this.defaultValue)}}function H(ui,Ke,st,Mi){if(typeof ui=="undefined")return Ke;let ci=parseInt(ui,10);return isNaN(ci)?Ke:(ci=Math.max(st,ci),ci=Math.min(Mi,ci),ci|0)}class r extends N{constructor(Ke,st,Mi,ci,zi,kn=void 0){typeof kn!="undefined"&&(kn.type="integer",kn.default=Mi,kn.minimum=ci,kn.maximum=zi),super(Ke,st,Mi,kn),this.minimum=ci,this.maximum=zi}static clampedInt(Ke,st,Mi,ci){return H(Ke,st,Mi,ci)}validate(Ke){return r.clampedInt(Ke,this.defaultValue,this.minimum,this.maximum)}}class T extends N{constructor(Ke,st,Mi,ci,zi){typeof zi!="undefined"&&(zi.type="number",zi.default=Mi),super(Ke,st,Mi,zi),this.validationFn=ci}static clamp(Ke,st,Mi){return Ke<st?st:Ke>Mi?Mi:Ke}static float(Ke,st){if(typeof Ke=="number")return Ke;if(typeof Ke=="undefined")return st;const Mi=parseFloat(Ke);return isNaN(Mi)?st:Mi}validate(Ke){return this.validationFn(T.float(Ke,this.defaultValue))}}class w extends N{static string(Ke,st){return typeof Ke!="string"?st:Ke}constructor(Ke,st,Mi,ci=void 0){typeof ci!="undefined"&&(ci.type="string",ci.default=Mi),super(Ke,st,Mi,ci)}validate(Ke){return w.string(Ke,this.defaultValue)}}function x(ui,Ke,st){return typeof ui!="string"||st.indexOf(ui)===-1?Ke:ui}class f extends N{constructor(Ke,st,Mi,ci,zi=void 0){typeof zi!="undefined"&&(zi.type="string",zi.enum=ci,zi.default=Mi),super(Ke,st,Mi,zi),this._allowedValues=ci}validate(Ke){return x(Ke,this.defaultValue,this._allowedValues)}}class p extends B{constructor(Ke,st,Mi,ci,zi,kn,Ki=void 0){typeof Ki!="undefined"&&(Ki.type="string",Ki.enum=zi,Ki.default=ci),super(Ke,st,Mi,Ki),this._allowedValues=zi,this._convert=kn}validate(Ke){return typeof Ke!="string"?this.defaultValue:this._allowedValues.indexOf(Ke)===-1?this.defaultValue:this._convert(Ke)}}function S(ui){switch(ui){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class h extends B{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[E.N("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),E.N("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),E.N("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:E.N("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(Ke){switch(Ke){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Ke,st,Mi){return Mi===0?Ke.accessibilitySupport:Mi}}class L extends B{constructor(){const Ke={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",Ke,{"editor.comments.insertSpace":{type:"boolean",default:Ke.insertSpace,description:E.N("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Ke.ignoreEmptyLines,description:E.N("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(Ke){if(!Ke||typeof Ke!="object")return this.defaultValue;const st=Ke;return{insertSpace:g(st.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:g(st.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function v(ui){switch(ui){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var V;(function(ui){ui[ui.Line=1]="Line",ui[ui.Block=2]="Block",ui[ui.Underline=3]="Underline",ui[ui.LineThin=4]="LineThin",ui[ui.BlockOutline=5]="BlockOutline",ui[ui.UnderlineThin=6]="UnderlineThin"})(V||(V={}));function $(ui){switch(ui){case"line":return V.Line;case"block":return V.Block;case"underline":return V.Underline;case"line-thin":return V.LineThin;case"block-outline":return V.BlockOutline;case"underline-thin":return V.UnderlineThin}}class ee extends s{constructor(){super(126,[65,33])}compute(Ke,st,Mi){const ci=["monaco-editor"];return st.get(33)&&ci.push(st.get(33)),Ke.extraEditorClassName&&ci.push(Ke.extraEditorClassName),st.get(65)==="default"?ci.push("mouse-default"):st.get(65)==="copy"&&ci.push("mouse-copy"),st.get(99)&&ci.push("showUnused"),st.get(124)&&ci.push("showDeprecated"),ci.join(" ")}}class de extends D{constructor(){super(32,"emptySelectionClipboard",!0,{description:E.N("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(Ke,st,Mi){return Mi&&Ke.emptySelectionClipboard}}class pe extends B{constructor(){const Ke={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",Ke,{"editor.find.cursorMoveOnType":{type:"boolean",default:Ke.cursorMoveOnType,description:E.N("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Ke.seedSearchStringFromSelection,enumDescriptions:[E.N("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),E.N("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),E.N("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:E.N("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Ke.autoFindInSelection,enumDescriptions:[E.N("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),E.N("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),E.N("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:E.N("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Ke.globalFindClipboard,description:E.N("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:O.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Ke.addExtraSpaceOnTop,description:E.N("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Ke.loop,description:E.N("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(Ke){if(!Ke||typeof Ke!="object")return this.defaultValue;const st=Ke;return{cursorMoveOnType:g(st.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof Ke.seedSearchStringFromSelection=="boolean"?Ke.seedSearchStringFromSelection?"always":"never":x(st.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof Ke.autoFindInSelection=="boolean"?Ke.autoFindInSelection?"always":"never":x(st.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:g(st.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:g(st.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:g(st.loop,this.defaultValue.loop)}}}class ve extends B{constructor(){super(44,"fontLigatures",ve.OFF,{anyOf:[{type:"boolean",description:E.N("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:E.N("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:E.N("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(Ke){return typeof Ke=="undefined"?this.defaultValue:typeof Ke=="string"?Ke==="false"?ve.OFF:Ke==="true"?ve.ON:Ke:Ke?ve.ON:ve.OFF}}ve.OFF='"liga" off, "calt" off',ve.ON='"liga" on, "calt" on';class xe extends s{constructor(){super(43)}compute(Ke,st,Mi){return Ke.fontInfo}}class le extends N{constructor(){super(45,"fontSize",ei.fontSize,{type:"number",minimum:6,maximum:100,default:ei.fontSize,description:E.N("fontSize","Controls the font size in pixels.")})}validate(Ke){let st=T.float(Ke,this.defaultValue);return st===0?ei.fontSize:T.clamp(st,6,100)}compute(Ke,st,Mi){return Ke.fontInfo.fontSize}}class Y extends B{constructor(){super(46,"fontWeight",ei.fontWeight,{anyOf:[{type:"number",minimum:Y.MINIMUM_VALUE,maximum:Y.MAXIMUM_VALUE,errorMessage:E.N("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Y.SUGGESTION_VALUES}],default:ei.fontWeight,description:E.N("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(Ke){return Ke==="normal"||Ke==="bold"?Ke:String(r.clampedInt(Ke,ei.fontWeight,Y.MINIMUM_VALUE,Y.MAXIMUM_VALUE))}}Y.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Y.MINIMUM_VALUE=1,Y.MAXIMUM_VALUE=1e3;class j extends B{constructor(){const Ke={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},st={type:"string",enum:["peek","gotoAndPeek","goto"],default:Ke.multiple,enumDescriptions:[E.N("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),E.N("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),E.N("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},Mi=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(50,"gotoLocation",Ke,{"editor.gotoLocation.multiple":{deprecationMessage:E.N("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:E.N("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},st),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:E.N("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},st),"editor.gotoLocation.multipleDeclarations":Object.assign({description:E.N("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},st),"editor.gotoLocation.multipleImplementations":Object.assign({description:E.N("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},st),"editor.gotoLocation.multipleReferences":Object.assign({description:E.N("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},st),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Ke.alternativeDefinitionCommand,enum:Mi,description:E.N("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Ke.alternativeTypeDefinitionCommand,enum:Mi,description:E.N("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Ke.alternativeDeclarationCommand,enum:Mi,description:E.N("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Ke.alternativeImplementationCommand,enum:Mi,description:E.N("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Ke.alternativeReferenceCommand,enum:Mi,description:E.N("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(Ke){var st,Mi,ci,zi,kn;if(!Ke||typeof Ke!="object")return this.defaultValue;const Ki=Ke;return{multiple:x(Ki.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(st=Ki.multipleDefinitions)!==null&&st!==void 0?st:x(Ki.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Mi=Ki.multipleTypeDefinitions)!==null&&Mi!==void 0?Mi:x(Ki.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(ci=Ki.multipleDeclarations)!==null&&ci!==void 0?ci:x(Ki.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(zi=Ki.multipleImplementations)!==null&&zi!==void 0?zi:x(Ki.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(kn=Ki.multipleReferences)!==null&&kn!==void 0?kn:x(Ki.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:w.string(Ki.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:w.string(Ki.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:w.string(Ki.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:w.string(Ki.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:w.string(Ki.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class G extends B{constructor(){const Ke={enabled:!0,delay:300,sticky:!0,above:!0};super(52,"hover",Ke,{"editor.hover.enabled":{type:"boolean",default:Ke.enabled,description:E.N("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Ke.delay,description:E.N("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Ke.sticky,description:E.N("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:Ke.above,description:E.N("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(Ke){if(!Ke||typeof Ke!="object")return this.defaultValue;const st=Ke;return{enabled:g(st.enabled,this.defaultValue.enabled),delay:r.clampedInt(st.delay,this.defaultValue.delay,0,1e4),sticky:g(st.sticky,this.defaultValue.sticky),above:g(st.above,this.defaultValue.above)}}}class q extends s{constructor(){super(129,[49,57,37,64,91,59,60,93,116,119,120,121,2])}compute(Ke,st,Mi){return q.computeLayout(st,{memory:Ke.memory,outerWidth:Ke.outerWidth,outerHeight:Ke.outerHeight,isDominatedByLongLines:Ke.isDominatedByLongLines,lineHeight:Ke.fontInfo.lineHeight,viewLineCount:Ke.viewLineCount,lineNumbersDigitCount:Ke.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Ke.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Ke.fontInfo.maxDigitWidth,pixelRatio:Ke.pixelRatio})}static computeContainedMinimapLineCount(Ke){const st=Ke.height/Ke.lineHeight,Mi=Ke.scrollBeyondLastLine?st-1:0,ci=(Ke.viewLineCount+Mi)/(Ke.pixelRatio*Ke.height),zi=Math.floor(Ke.viewLineCount/ci);return{typicalViewportLineCount:st,extraLinesBeyondLastLine:Mi,desiredRatio:ci,minimapLineCount:zi}}static _computeMinimapLayout(Ke,st){const Mi=Ke.outerWidth,ci=Ke.outerHeight,zi=Ke.pixelRatio;if(!Ke.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(zi*ci),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:ci};const kn=st.stableMinimapLayoutInput,Ki=kn&&Ke.outerHeight===kn.outerHeight&&Ke.lineHeight===kn.lineHeight&&Ke.typicalHalfwidthCharacterWidth===kn.typicalHalfwidthCharacterWidth&&Ke.pixelRatio===kn.pixelRatio&&Ke.scrollBeyondLastLine===kn.scrollBeyondLastLine&&Ke.minimap.enabled===kn.minimap.enabled&&Ke.minimap.side===kn.minimap.side&&Ke.minimap.size===kn.minimap.size&&Ke.minimap.showSlider===kn.minimap.showSlider&&Ke.minimap.renderCharacters===kn.minimap.renderCharacters&&Ke.minimap.maxColumn===kn.minimap.maxColumn&&Ke.minimap.scale===kn.minimap.scale&&Ke.verticalScrollbarWidth===kn.verticalScrollbarWidth&&Ke.isViewportWrapping===kn.isViewportWrapping,ls=Ke.lineHeight,Bn=Ke.typicalHalfwidthCharacterWidth,On=Ke.scrollBeyondLastLine,Zi=Ke.minimap.renderCharacters;let Mn=zi>=2?Math.round(Ke.minimap.scale*2):Ke.minimap.scale;const an=Ke.minimap.maxColumn,$e=Ke.minimap.size,Tt=Ke.minimap.side,It=Ke.verticalScrollbarWidth,Ge=Ke.viewLineCount,Xe=Ke.remainingWidth,kt=Ke.isViewportWrapping,At=Zi?2:3;let Jt=Math.floor(zi*ci);const ai=Jt/zi;let yi=!1,sn=!1,Ji=At*Mn,Qn=Mn/zi,Ui=1;if($e==="fill"||$e==="fit"){const{typicalViewportLineCount:mt,extraLinesBeyondLastLine:ut,desiredRatio:ri,minimapLineCount:$i}=q.computeContainedMinimapLineCount({viewLineCount:Ge,scrollBeyondLastLine:On,height:ci,lineHeight:ls,pixelRatio:zi});if(Ge/$i>1)yi=!0,sn=!0,Mn=1,Ji=1,Qn=Mn/zi;else{let Ni=!1,Gi=Mn+1;if($e==="fit"){const hn=Math.ceil((Ge+ut)*Ji);kt&&Ki&&Xe<=st.stableFitRemainingWidth?(Ni=!0,Gi=st.stableFitMaxMinimapScale):Ni=hn>Jt}if($e==="fill"||Ni){yi=!0;const hn=Mn;Ji=Math.min(ls*zi,Math.max(1,Math.floor(1/ri))),kt&&Ki&&Xe<=st.stableFitRemainingWidth&&(Gi=st.stableFitMaxMinimapScale),Mn=Math.min(Gi,Math.max(1,Math.floor(Ji/At))),Mn>hn&&(Ui=Math.min(2,Mn/hn)),Qn=Mn/zi/Ui,Jt=Math.ceil(Math.max(mt,Ge+ut)*Ji),kt?(st.stableMinimapLayoutInput=Ke,st.stableFitRemainingWidth=Xe,st.stableFitMaxMinimapScale=Mn):(st.stableMinimapLayoutInput=null,st.stableFitRemainingWidth=0)}}}const on=Math.floor(an*Qn),wt=Math.min(on,Math.max(0,Math.floor((Xe-It-2)*Qn/(Bn+Qn)))+P);let ft=Math.floor(zi*wt);const xt=ft/zi;ft=Math.floor(ft*Ui);const Ve=Zi?1:2,qe=Tt==="left"?0:Mi-wt-It;return{renderMinimap:Ve,minimapLeft:qe,minimapWidth:wt,minimapHeightIsEditorHeight:yi,minimapIsSampling:sn,minimapScale:Mn,minimapLineHeight:Ji,minimapCanvasInnerWidth:ft,minimapCanvasInnerHeight:Jt,minimapCanvasOuterWidth:xt,minimapCanvasOuterHeight:ai}}static computeLayout(Ke,st){const Mi=st.outerWidth|0,ci=st.outerHeight|0,zi=st.lineHeight|0,kn=st.lineNumbersDigitCount|0,Ki=st.typicalHalfwidthCharacterWidth,ls=st.maxDigitWidth,Bn=st.pixelRatio,On=st.viewLineCount,Zi=Ke.get(121),Mn=Zi==="inherit"?Ke.get(120):Zi,an=Mn==="inherit"?Ke.get(116):Mn,$e=Ke.get(119),Tt=Ke.get(2),It=st.isDominatedByLongLines,Ge=Ke.get(49),Xe=Ke.get(59).renderType!==0,kt=Ke.get(60),At=Ke.get(93),Jt=Ke.get(64),ai=Ke.get(91),yi=ai.verticalScrollbarSize,sn=ai.verticalHasArrows,Ji=ai.arrowSize,Qn=ai.horizontalScrollbarSize,Ui=Ke.get(57),on=Ke.get(37);let wt;if(typeof Ui=="string"&&/^\d+(\.\d+)?ch$/.test(Ui)){const pi=parseFloat(Ui.substr(0,Ui.length-2));wt=r.clampedInt(pi*Ki,0,0,1e3)}else wt=r.clampedInt(Ui,0,0,1e3);on&&(wt+=16);let ft=0;if(Xe){const pi=Math.max(kn,kt);ft=Math.round(pi*ls)}let xt=0;Ge&&(xt=zi);let Ve=0,qe=Ve+xt,mt=qe+ft,ut=mt+wt;const ri=Mi-xt-ft-wt;let $i=!1,_i=!1,Ni=-1;Tt!==2&&(Mn==="inherit"&&It?($i=!0,_i=!0):an==="on"||an==="bounded"?_i=!0:an==="wordWrapColumn"&&(Ni=$e));const Gi=q._computeMinimapLayout({outerWidth:Mi,outerHeight:ci,lineHeight:zi,typicalHalfwidthCharacterWidth:Ki,pixelRatio:Bn,scrollBeyondLastLine:At,minimap:Jt,verticalScrollbarWidth:yi,viewLineCount:On,remainingWidth:ri,isViewportWrapping:_i},st.memory||new R);Gi.renderMinimap!==0&&Gi.minimapLeft===0&&(Ve+=Gi.minimapWidth,qe+=Gi.minimapWidth,mt+=Gi.minimapWidth,ut+=Gi.minimapWidth);const hn=ri-Gi.minimapWidth,pn=Math.max(1,Math.floor((hn-yi-2)/Ki)),Ai=sn?Ji:0;return _i&&(Ni=Math.max(1,pn),an==="bounded"&&(Ni=Math.min(Ni,$e))),{width:Mi,height:ci,glyphMarginLeft:Ve,glyphMarginWidth:xt,lineNumbersLeft:qe,lineNumbersWidth:ft,decorationsLeft:mt,decorationsWidth:wt,contentLeft:ut,contentWidth:hn,minimap:Gi,viewportColumn:pn,isWordWrapMinified:$i,isViewportWrapping:_i,wrappingColumn:Ni,verticalScrollbarWidth:yi,horizontalScrollbarHeight:Qn,overviewRuler:{top:Ai,width:yi,height:ci-2*Ai,right:0}}}}class m extends B{constructor(){const Ke={enabled:!0};super(56,"lightbulb",Ke,{"editor.lightbulb.enabled":{type:"boolean",default:Ke.enabled,description:E.N("codeActions","Enables the code action lightbulb in the editor.")}})}validate(Ke){return!Ke||typeof Ke!="object"?this.defaultValue:{enabled:g(Ke.enabled,this.defaultValue.enabled)}}}class b extends B{constructor(){const Ke={enabled:!0,fontSize:0,fontFamily:""};super(125,"inlayHints",Ke,{"editor.inlayHints.enabled":{type:"boolean",default:Ke.enabled,description:E.N("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:Ke.fontSize,markdownDescription:E.N("inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:Ke.fontFamily,markdownDescription:E.N("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(Ke){if(!Ke||typeof Ke!="object")return this.defaultValue;const st=Ke;return{enabled:g(st.enabled,this.defaultValue.enabled),fontSize:r.clampedInt(st.fontSize,this.defaultValue.fontSize,0,100),fontFamily:w.string(st.fontFamily,this.defaultValue.fontFamily)}}}class F extends T{constructor(){super(58,"lineHeight",ei.lineHeight,Ke=>T.clamp(Ke,0,150),{markdownDescription:E.N("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(Ke,st,Mi){return Ke.fontInfo.lineHeight}}class te extends B{constructor(){const Ke={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(64,"minimap",Ke,{"editor.minimap.enabled":{type:"boolean",default:Ke.enabled,description:E.N("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[E.N("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),E.N("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),E.N("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Ke.size,description:E.N("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Ke.side,description:E.N("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Ke.showSlider,description:E.N("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Ke.scale,minimum:1,maximum:3,enum:[1,2,3],description:E.N("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Ke.renderCharacters,description:E.N("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Ke.maxColumn,description:E.N("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(Ke){if(!Ke||typeof Ke!="object")return this.defaultValue;const st=Ke;return{enabled:g(st.enabled,this.defaultValue.enabled),size:x(st.size,this.defaultValue.size,["proportional","fill","fit"]),side:x(st.side,this.defaultValue.side,["right","left"]),showSlider:x(st.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:g(st.renderCharacters,this.defaultValue.renderCharacters),scale:r.clampedInt(st.scale,1,1,3),maxColumn:r.clampedInt(st.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function me(ui){return ui==="ctrlCmd"?O.dz?"metaKey":"ctrlKey":"altKey"}class ue extends B{constructor(){super(74,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:E.N("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:E.N("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(Ke){if(!Ke||typeof Ke!="object")return this.defaultValue;const st=Ke;return{top:r.clampedInt(st.top,0,0,1e3),bottom:r.clampedInt(st.bottom,0,0,1e3)}}}class Oe extends B{constructor(){const Ke={enabled:!0,cycle:!1};super(75,"parameterHints",Ke,{"editor.parameterHints.enabled":{type:"boolean",default:Ke.enabled,description:E.N("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Ke.cycle,description:E.N("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(Ke){if(!Ke||typeof Ke!="object")return this.defaultValue;const st=Ke;return{enabled:g(st.enabled,this.defaultValue.enabled),cycle:g(st.cycle,this.defaultValue.cycle)}}}class Re extends s{constructor(){super(127)}compute(Ke,st,Mi){return Ke.pixelRatio}}class et extends B{constructor(){const Ke={other:!0,comments:!1,strings:!1};super(78,"quickSuggestions",Ke,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:Ke.strings,description:E.N("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:Ke.comments,description:E.N("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:Ke.other,description:E.N("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:Ke,description:E.N("quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=Ke}validate(Ke){if(typeof Ke=="boolean")return Ke;if(Ke&&typeof Ke=="object"){const st=Ke,Mi={other:g(st.other,this.defaultValue.other),comments:g(st.comments,this.defaultValue.comments),strings:g(st.strings,this.defaultValue.strings)};return Mi.other&&Mi.comments&&Mi.strings?!0:!Mi.other&&!Mi.comments&&!Mi.strings?!1:Mi}return this.defaultValue}}class Dt extends B{constructor(){super(59,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[E.N("lineNumbers.off","Line numbers are not rendered."),E.N("lineNumbers.on","Line numbers are rendered as absolute number."),E.N("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),E.N("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:E.N("lineNumbers","Controls the display of line numbers.")})}validate(Ke){let st=this.defaultValue.renderType,Mi=this.defaultValue.renderFn;return typeof Ke!="undefined"&&(typeof Ke=="function"?(st=4,Mi=Ke):Ke==="interval"?st=3:Ke==="relative"?st=2:Ke==="on"?st=1:st=0),{renderType:st,renderFn:Mi}}}function ht(ui){const Ke=ui.get(86);return Ke==="editable"?ui.get(80):Ke!=="on"}class Mt extends B{constructor(){const Ke=[],st={type:"number",description:E.N("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(90,"rulers",Ke,{type:"array",items:{anyOf:[st,{type:["object"],properties:{column:st,color:{type:"string",description:E.N("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Ke,description:E.N("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(Ke){if(Array.isArray(Ke)){let st=[];for(let Mi of Ke)if(typeof Mi=="number")st.push({column:r.clampedInt(Mi,0,0,1e4),color:null});else if(Mi&&typeof Mi=="object"){const ci=Mi;st.push({column:r.clampedInt(ci.column,0,0,1e4),color:ci.color})}return st.sort((Mi,ci)=>Mi.column-ci.column),st}return this.defaultValue}}function Je(ui,Ke){if(typeof ui!="string")return Ke;switch(ui){case"hidden":return 2;case"visible":return 3;default:return 1}}class tt extends B{constructor(){const Ke={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(91,"scrollbar",Ke,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[E.N("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),E.N("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),E.N("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:E.N("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[E.N("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),E.N("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),E.N("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:E.N("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Ke.verticalScrollbarSize,description:E.N("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Ke.horizontalScrollbarSize,description:E.N("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Ke.scrollByPage,description:E.N("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(Ke){if(!Ke||typeof Ke!="object")return this.defaultValue;const st=Ke,Mi=r.clampedInt(st.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),ci=r.clampedInt(st.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:r.clampedInt(st.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Je(st.vertical,this.defaultValue.vertical),horizontal:Je(st.horizontal,this.defaultValue.horizontal),useShadows:g(st.useShadows,this.defaultValue.useShadows),verticalHasArrows:g(st.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:g(st.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:g(st.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:g(st.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Mi,horizontalSliderSize:r.clampedInt(st.horizontalSliderSize,Mi,0,1e3),verticalScrollbarSize:ci,verticalSliderSize:r.clampedInt(st.verticalSliderSize,ci,0,1e3),scrollByPage:g(st.scrollByPage,this.defaultValue.scrollByPage)}}}class ke extends B{constructor(){const Ke={enabled:!0,mode:"subwordSmart"};super(54,"inlineSuggest",Ke,{"editor.inlineSuggest.enabled":{type:"boolean",default:Ke.enabled,description:E.N("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(Ke){if(!Ke||typeof Ke!="object")return this.defaultValue;const st=Ke;return{enabled:g(st.enabled,this.defaultValue.enabled),mode:x(st.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class fe extends B{constructor(){const Ke={enabled:bi.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",Ke,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Ke.enabled,description:E.N("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(Ke){return!Ke||typeof Ke!="object"?this.defaultValue:{enabled:g(Ke.enabled,this.defaultValue.enabled)}}}class Ie extends B{constructor(){const Ke={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",Ke,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[E.N("editor.guides.bracketPairs.true","Enables bracket pair guides."),E.N("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),E.N("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Ke.bracketPairs,description:E.N("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[E.N("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),E.N("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),E.N("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Ke.bracketPairsHorizontal,description:E.N("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Ke.highlightActiveBracketPair,description:E.N("editor.guides.highlightActiveBracketPair","Controls whether bracket pair guides are enabled or not.")},"editor.guides.indentation":{type:"boolean",default:Ke.indentation,description:E.N("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:Ke.highlightActiveIndentation,description:E.N("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(Ke){if(!Ke||typeof Ke!="object")return this.defaultValue;const st=Ke;return{bracketPairs:nt(st.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:nt(st.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:g(st.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:g(st.indentation,this.defaultValue.indentation),highlightActiveIndentation:g(st.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}function nt(ui,Ke,st){const Mi=st.indexOf(ui);return Mi===-1?Ke:st[Mi]}class at extends B{constructor(){const Ke={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(105,"suggest",Ke,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[E.N("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),E.N("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Ke.insertMode,description:E.N("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Ke.filterGraceful,description:E.N("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Ke.localityBonus,description:E.N("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Ke.shareSuggestSelections,markdownDescription:E.N("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Ke.snippetsPreventQuickSuggestions,description:E.N("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Ke.showIcons,description:E.N("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Ke.showStatusBar,description:E.N("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Ke.preview,description:E.N("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Ke.showInlineDetails,description:E.N("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:E.N("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:E.N("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(Ke){if(!Ke||typeof Ke!="object")return this.defaultValue;const st=Ke;return{insertMode:x(st.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:g(st.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:g(st.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:g(st.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:g(st.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:g(st.showIcons,this.defaultValue.showIcons),showStatusBar:g(st.showStatusBar,this.defaultValue.showStatusBar),preview:g(st.preview,this.defaultValue.preview),previewMode:x(st.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:g(st.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:g(st.showMethods,this.defaultValue.showMethods),showFunctions:g(st.showFunctions,this.defaultValue.showFunctions),showConstructors:g(st.showConstructors,this.defaultValue.showConstructors),showDeprecated:g(st.showDeprecated,this.defaultValue.showDeprecated),showFields:g(st.showFields,this.defaultValue.showFields),showVariables:g(st.showVariables,this.defaultValue.showVariables),showClasses:g(st.showClasses,this.defaultValue.showClasses),showStructs:g(st.showStructs,this.defaultValue.showStructs),showInterfaces:g(st.showInterfaces,this.defaultValue.showInterfaces),showModules:g(st.showModules,this.defaultValue.showModules),showProperties:g(st.showProperties,this.defaultValue.showProperties),showEvents:g(st.showEvents,this.defaultValue.showEvents),showOperators:g(st.showOperators,this.defaultValue.showOperators),showUnits:g(st.showUnits,this.defaultValue.showUnits),showValues:g(st.showValues,this.defaultValue.showValues),showConstants:g(st.showConstants,this.defaultValue.showConstants),showEnums:g(st.showEnums,this.defaultValue.showEnums),showEnumMembers:g(st.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:g(st.showKeywords,this.defaultValue.showKeywords),showWords:g(st.showWords,this.defaultValue.showWords),showColors:g(st.showColors,this.defaultValue.showColors),showFiles:g(st.showFiles,this.defaultValue.showFiles),showReferences:g(st.showReferences,this.defaultValue.showReferences),showFolders:g(st.showFolders,this.defaultValue.showFolders),showTypeParameters:g(st.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:g(st.showSnippets,this.defaultValue.showSnippets),showUsers:g(st.showUsers,this.defaultValue.showUsers),showIssues:g(st.showIssues,this.defaultValue.showIssues)}}}class ot extends B{constructor(){super(101,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:E.N("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(Ke){return!Ke||typeof Ke!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:g(Ke.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class Ne extends s{constructor(){super(128,[80])}compute(Ke,st,Mi){return st.get(80)?!0:Ke.tabFocusMode}}function Pe(ui){switch(ui){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class ye extends s{constructor(){super(130,[129])}compute(Ke,st,Mi){const ci=st.get(129);return{isDominatedByLongLines:Ke.isDominatedByLongLines,isWordWrapMinified:ci.isWordWrapMinified,isViewportWrapping:ci.isViewportWrapping,wrappingColumn:ci.wrappingColumn}}}const ei={fontFamily:O.dz?"Menlo, Monaco, 'Courier New', monospace":O.IJ?"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:O.dz?12:14,lineHeight:0,letterSpacing:0},bi={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},ii=[];function Ot(ui){return ii[ui.id]=ui,ui}const en={acceptSuggestionOnCommitCharacter:Ot(new D(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:E.N("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Ot(new f(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",E.N("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:E.N("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Ot(new h),accessibilityPageSize:Ot(new r(3,"accessibilityPageSize",10,1,1073741824,{description:E.N("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:Ot(new w(4,"ariaLabel",E.N("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:Ot(new f(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",E.N("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),E.N("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:E.N("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:Ot(new f(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",E.N("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:E.N("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:Ot(new f(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",E.N("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:E.N("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Ot(new f(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",E.N("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),E.N("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:E.N("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Ot(new p(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],S,{enumDescriptions:[E.N("editor.autoIndent.none","The editor will not insert indentation automatically."),E.N("editor.autoIndent.keep","The editor will keep the current line's indentation."),E.N("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),E.N("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),E.N("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:E.N("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Ot(new D(10,"automaticLayout",!1)),autoSurround:Ot(new f(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[E.N("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),E.N("editor.autoSurround.quotes","Surround with quotes but not brackets."),E.N("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:E.N("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:Ot(new fe),bracketPairGuides:Ot(new Ie),stickyTabStops:Ot(new D(103,"stickyTabStops",!1,{description:E.N("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:Ot(new D(14,"codeLens",!0,{description:E.N("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:Ot(new w(15,"codeLensFontFamily","",{description:E.N("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:Ot(new r(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:E.N("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, the 90% of `#editor.fontSize#` is used.")})),colorDecorators:Ot(new D(17,"colorDecorators",!0,{description:E.N("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:Ot(new D(18,"columnSelection",!1,{description:E.N("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:Ot(new L),contextmenu:Ot(new D(20,"contextmenu",!0)),copyWithSyntaxHighlighting:Ot(new D(21,"copyWithSyntaxHighlighting",!0,{description:E.N("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Ot(new p(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],v,{description:E.N("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:Ot(new D(23,"cursorSmoothCaretAnimation",!1,{description:E.N("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Ot(new p(24,"cursorStyle",V.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],$,{description:E.N("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:Ot(new r(25,"cursorSurroundingLines",0,0,1073741824,{description:E.N("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:Ot(new f(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[E.N("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),E.N("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:E.N("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:Ot(new r(27,"cursorWidth",0,0,1073741824,{markdownDescription:E.N("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Ot(new D(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:Ot(new D(29,"disableMonospaceOptimizations",!1)),domReadOnly:Ot(new D(30,"domReadOnly",!1)),dragAndDrop:Ot(new D(31,"dragAndDrop",!0,{description:E.N("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Ot(new de),extraEditorClassName:Ot(new w(33,"extraEditorClassName","")),fastScrollSensitivity:Ot(new T(34,"fastScrollSensitivity",5,ui=>ui<=0?5:ui,{markdownDescription:E.N("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:Ot(new pe),fixedOverflowWidgets:Ot(new D(36,"fixedOverflowWidgets",!1)),folding:Ot(new D(37,"folding",!0,{description:E.N("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:Ot(new f(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[E.N("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),E.N("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:E.N("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:Ot(new D(39,"foldingHighlight",!0,{description:E.N("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:Ot(new D(40,"foldingImportsByDefault",!1,{description:E.N("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),unfoldOnClickAfterEndOfLine:Ot(new D(41,"unfoldOnClickAfterEndOfLine",!1,{description:E.N("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:Ot(new w(42,"fontFamily",ei.fontFamily,{description:E.N("fontFamily","Controls the font family.")})),fontInfo:Ot(new xe),fontLigatures2:Ot(new ve),fontSize:Ot(new le),fontWeight:Ot(new Y),formatOnPaste:Ot(new D(47,"formatOnPaste",!1,{description:E.N("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Ot(new D(48,"formatOnType",!1,{description:E.N("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Ot(new D(49,"glyphMargin",!0,{description:E.N("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Ot(new j),hideCursorInOverviewRuler:Ot(new D(51,"hideCursorInOverviewRuler",!1,{description:E.N("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:Ot(new G),inDiffEditor:Ot(new D(53,"inDiffEditor",!1)),letterSpacing:Ot(new T(55,"letterSpacing",ei.letterSpacing,ui=>T.clamp(ui,-5,20),{description:E.N("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:Ot(new m),lineDecorationsWidth:Ot(new N(57,"lineDecorationsWidth",10)),lineHeight:Ot(new F),lineNumbers:Ot(new Dt),lineNumbersMinChars:Ot(new r(60,"lineNumbersMinChars",5,1,300)),linkedEditing:Ot(new D(61,"linkedEditing",!1,{description:E.N("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:Ot(new D(62,"links",!0,{description:E.N("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Ot(new f(63,"matchBrackets","always",["always","near","never"],{description:E.N("matchBrackets","Highlight matching brackets.")})),minimap:Ot(new te),mouseStyle:Ot(new f(65,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Ot(new T(66,"mouseWheelScrollSensitivity",1,ui=>ui===0?1:ui,{markdownDescription:E.N("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Ot(new D(67,"mouseWheelZoom",!1,{markdownDescription:E.N("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Ot(new D(68,"multiCursorMergeOverlapping",!0,{description:E.N("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Ot(new p(69,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],me,{markdownEnumDescriptions:[E.N("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),E.N("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:E.N({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Ot(new f(70,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[E.N("multiCursorPaste.spread","Each cursor pastes a single line of the text."),E.N("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:E.N("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:Ot(new D(71,"occurrencesHighlight",!0,{description:E.N("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:Ot(new D(72,"overviewRulerBorder",!0,{description:E.N("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Ot(new r(73,"overviewRulerLanes",3,0,3)),padding:Ot(new ue),parameterHints:Ot(new Oe),peekWidgetDefaultFocus:Ot(new f(76,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[E.N("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),E.N("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:E.N("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:Ot(new D(77,"definitionLinkOpensInPeek",!1,{description:E.N("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:Ot(new et),quickSuggestionsDelay:Ot(new r(79,"quickSuggestionsDelay",10,0,1073741824,{description:E.N("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Ot(new D(80,"readOnly",!1)),renameOnType:Ot(new D(81,"renameOnType",!1,{description:E.N("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:E.N("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:Ot(new D(82,"renderControlCharacters",!0,{description:E.N("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:Ot(new D(83,"renderFinalNewline",!0,{description:E.N("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:Ot(new f(84,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",E.N("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:E.N("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:Ot(new D(85,"renderLineHighlightOnlyWhenFocus",!1,{description:E.N("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:Ot(new f(86,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Ot(new f(87,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",E.N("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),E.N("renderWhitespace.selection","Render whitespace characters only on selected text."),E.N("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:E.N("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Ot(new r(88,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:Ot(new D(89,"roundedSelection",!0,{description:E.N("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:Ot(new Mt),scrollbar:Ot(new tt),scrollBeyondLastColumn:Ot(new r(92,"scrollBeyondLastColumn",5,0,1073741824,{description:E.N("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Ot(new D(93,"scrollBeyondLastLine",!0,{description:E.N("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:Ot(new D(94,"scrollPredominantAxis",!0,{description:E.N("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:Ot(new D(95,"selectionClipboard",!0,{description:E.N("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:O.IJ})),selectionHighlight:Ot(new D(96,"selectionHighlight",!0,{description:E.N("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Ot(new D(97,"selectOnLineNumbers",!0)),showFoldingControls:Ot(new f(98,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[E.N("showFoldingControls.always","Always show the folding controls."),E.N("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:E.N("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:Ot(new D(99,"showUnused",!0,{description:E.N("showUnused","Controls fading out of unused code.")})),showDeprecated:Ot(new D(124,"showDeprecated",!0,{description:E.N("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:Ot(new b),snippetSuggestions:Ot(new f(100,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[E.N("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),E.N("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),E.N("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),E.N("snippetSuggestions.none","Do not show snippet suggestions.")],description:E.N("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:Ot(new ot),smoothScrolling:Ot(new D(102,"smoothScrolling",!1,{description:E.N("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Ot(new r(104,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Ot(new at),inlineSuggest:Ot(new ke),suggestFontSize:Ot(new r(106,"suggestFontSize",0,0,1e3,{markdownDescription:E.N("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:Ot(new r(107,"suggestLineHeight",0,0,1e3,{markdownDescription:E.N("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:Ot(new D(108,"suggestOnTriggerCharacters",!0,{description:E.N("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Ot(new f(109,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[E.N("suggestSelection.first","Always select the first suggestion."),E.N("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),E.N("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:E.N("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Ot(new f(110,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[E.N("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),E.N("tabCompletion.off","Disable tab completions."),E.N("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:E.N("tabCompletion","Enables tab completions.")})),tabIndex:Ot(new r(111,"tabIndex",0,-1,1073741824)),unusualLineTerminators:Ot(new f(112,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[E.N("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),E.N("unusualLineTerminators.off","Unusual line terminators are ignored."),E.N("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:E.N("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:Ot(new D(113,"useShadowDOM",!0)),useTabStops:Ot(new D(114,"useTabStops",!0,{description:E.N("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:Ot(new w(115,"wordSeparators",Q.vu,{description:E.N("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Ot(new f(116,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[E.N("wordWrap.off","Lines will never wrap."),E.N("wordWrap.on","Lines will wrap at the viewport width."),E.N({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),E.N({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:E.N({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Ot(new w(117,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Ot(new w(118,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Ot(new r(119,"wordWrapColumn",80,1,1073741824,{markdownDescription:E.N({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:Ot(new f(120,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Ot(new f(121,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:Ot(new p(122,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],Pe,{enumDescriptions:[E.N("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),E.N("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),E.N("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),E.N("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:E.N("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:Ot(new f(123,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[E.N("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),E.N("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:E.N("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:Ot(new ee),pixelRatio:Ot(new Re),tabFocusMode:Ot(new Ne),layoutInfo:Ot(new q),wrappingInfo:Ot(new ye)}},82334:function(Qt,He,c){"use strict";c.d(He,{C:function(){return O}});var E=c(4669);const O=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new E.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(Q){Q=Math.min(Math.max(-5,Q),20),this._zoomLevel!==Q&&(this._zoomLevel=Q,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},27374:function(Qt,He,c){"use strict";c.d(He,{E4:function(){return y},pR:function(){return R}});var E=c(1432),O=c(82334);const Q=E.dz?1.5:1.35,P=8;class y{constructor(s){this._bareFontInfoBrand=void 0,this.zoomLevel=s.zoomLevel,this.pixelRatio=s.pixelRatio,this.fontFamily=String(s.fontFamily),this.fontWeight=String(s.fontWeight),this.fontSize=s.fontSize,this.fontFeatureSettings=s.fontFeatureSettings,this.lineHeight=s.lineHeight|0,this.letterSpacing=s.letterSpacing}static createFromValidatedSettings(s,N,g,D){const H=s.get(42),r=s.get(46),T=s.get(45),w=s.get(44),x=s.get(58),f=s.get(55);return y._create(H,r,T,w,x,f,N,g,D)}static _create(s,N,g,D,H,r,T,w,x){H===0?H=Q*g:H<P&&(H=H*g),H=Math.round(H),H<P&&(H=P);const f=1+(x?0:O.C.getZoomLevel()*.1);return g*=f,H*=f,new y({zoomLevel:T,pixelRatio:w,fontFamily:s,fontWeight:N,fontSize:g,fontFeatureSettings:D,lineHeight:H,letterSpacing:r})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(s){const N=y._wrapInQuotes(this.fontFamily);return s&&this.fontFamily!==s?`${N}, ${s}`:N}static _wrapInQuotes(s){return/[,"']/.test(s)?s:/[+ ]/.test(s)?`"${s}"`:s}}const X=1;class R extends y{constructor(s,N){super(s),this._editorStylingBrand=void 0,this.version=X,this.isTrusted=N,this.isMonospace=s.isMonospace,this.typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=s.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=s.canUseHalfwidthRightwardsArrow,this.spaceWidth=s.spaceWidth,this.middotWidth=s.middotWidth,this.wsmiddotWidth=s.wsmiddotWidth,this.maxDigitWidth=s.maxDigitWidth}equals(s){return this.fontFamily===s.fontFamily&&this.fontWeight===s.fontWeight&&this.fontSize===s.fontSize&&this.fontFeatureSettings===s.fontFeatureSettings&&this.lineHeight===s.lineHeight&&this.letterSpacing===s.letterSpacing&&this.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===s.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===s.canUseHalfwidthRightwardsArrow&&this.spaceWidth===s.spaceWidth&&this.middotWidth===s.middotWidth&&this.wsmiddotWidth===s.wsmiddotWidth&&this.maxDigitWidth===s.maxDigitWidth}}},3675:function(Qt,He,c){"use strict";c.d(He,{l:function(){return O}});var E=c(33181);class O{static whitespaceVisibleColumn(P,y,X){const R=P.length;let B=0,s=-1,N=-1;for(let g=0;g<R;g++){if(g===y)return[s,N,B];switch(B%X===0&&(s=g,N=B),P.charCodeAt(g)){case 32:B+=1;break;case 9:B=E.io.nextRenderTabStop(B,X);break;default:return[-1,-1,-1]}}return y===R?[s,N,B]:[-1,-1,-1]}static atomicPosition(P,y,X,R){const B=P.length,[s,N,g]=O.whitespaceVisibleColumn(P,y,X);if(g===-1)return-1;let D;switch(R){case 0:D=!0;break;case 1:D=!1;break;case 2:if(g%X===0)return y;D=g%X<=X/2;break}if(D){if(s===-1)return-1;let T=N;for(let w=s;w<B;++w){if(T===N+X)return s;switch(P.charCodeAt(w)){case 32:T+=1;break;case 9:T=E.io.nextRenderTabStop(T,X);break;default:return-1}}return T===N+X?s:-1}const H=E.io.nextRenderTabStop(g,X);let r=g;for(let T=y;T<B;T++){if(r===H)return T;switch(P.charCodeAt(T)){case 32:r+=1;break;case 9:r=E.io.nextRenderTabStop(r,X);break;default:return-1}}return r===H?B:-1}}},47707:function(Qt,He,c){"use strict";c.d(He,{i:function(){return O}});var E=c(97295);class O{static visibleColumnFromColumn(P,y,X){const R=P.length,B=y-1<R?y-1:R;let s=0,N=0;for(;N<B;){const g=E.ZH(P,B,N);if(N+=g>=65536?2:1,g===9)s=O.nextRenderTabStop(s,X);else{let D=E.S6(g);for(;N<B;){const H=E.ZH(P,B,N),r=E.S6(H);if(E.fi(D,r))break;N+=H>=65536?2:1,D=r}E.K7(g)||E.C8(g)?s=s+2:s=s+1}}return s}static visibleColumnsByColumns(P,y){const X=P.length;let R=new Array;R.push(-1);let B=0,s=0;for(;s<X;){const N=E.ZH(P,X,s);if(s+=N>=65536?2:1,R.push(B),N>=65536&&R.push(B),N===9)B=O.nextRenderTabStop(B,y);else{let g=E.S6(N);for(;s<X;){const D=E.ZH(P,X,s),H=E.S6(D);if(E.fi(g,H))break;s+=D>=65536?2:1,R.push(B),N>=65536&&R.push(B),g=H}E.K7(N)||E.C8(N)?B=B+2:B=B+1}}return R.push(B),R}static visibleColumnFromColumn2(P,y,X){return this.visibleColumnFromColumn(y.getLineContent(X.lineNumber),X.column,P.tabSize)}static columnFromVisibleColumn(P,y,X){if(y<=0)return 1;const R=P.length;let B=0,s=1,N=0;for(;N<R;){const g=E.ZH(P,R,N);N+=g>=65536?2:1;let D;if(g===9)D=O.nextRenderTabStop(B,X);else{let r=E.S6(g);for(;N<R;){const T=E.ZH(P,R,N),w=E.S6(T);if(E.fi(r,w))break;N+=T>=65536?2:1,r=w}E.K7(g)||E.C8(g)?D=B+2:D=B+1}const H=N+1;if(D>=y){const r=y-B;return D-y<r?H:s}B=D,s=H}return R+1}static columnFromVisibleColumn2(P,y,X,R){let B=this.columnFromVisibleColumn(y.getLineContent(X),R,P.tabSize),s=y.getLineMinColumn(X);if(B<s)return s;let N=y.getLineMaxColumn(X);return B>N?N:B}static nextRenderTabStop(P,y){return P+y-P%y}static nextIndentTabStop(P,y){return P+y-P%y}static prevRenderTabStop(P,y){return Math.max(0,P-1-(P-1)%y)}static prevIndentTabStop(P,y){return Math.max(0,P-1-(P-1)%y)}}},33181:function(Qt,He,c){"use strict";c.d(He,{LM:function(){return g},LN:function(){return f},Tp:function(){return x},Vi:function(){return w},io:function(){return R.i},rS:function(){return D},zp:function(){return H}});var E=c(17301),O=c(50187),Q=c(24314),P=c(3860),y=c(24979),X=c(94660),R=c(47707);const B=()=>!0,s=()=>!1,N=p=>p===" "||p==="	";class g{constructor(S,h,L){this._cursorMoveConfigurationBrand=void 0,this._languageId=S;const v=L.options,V=v.get(129);this.readOnly=v.get(80),this.tabSize=h.tabSize,this.indentSize=h.indentSize,this.insertSpaces=h.insertSpaces,this.stickyTabStops=v.get(103),this.lineHeight=v.get(58),this.pageSize=Math.max(1,Math.floor(V.height/this.lineHeight)-2),this.useTabStops=v.get(114),this.wordSeparators=v.get(115),this.emptySelectionClipboard=v.get(32),this.copyWithSyntaxHighlighting=v.get(21),this.multiCursorMergeOverlapping=v.get(68),this.multiCursorPaste=v.get(70),this.autoClosingBrackets=v.get(5),this.autoClosingQuotes=v.get(8),this.autoClosingDelete=v.get(6),this.autoClosingOvertype=v.get(7),this.autoSurround=v.get(11),this.autoIndent=v.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:g._getShouldAutoClose(S,this.autoClosingQuotes),bracket:g._getShouldAutoClose(S,this.autoClosingBrackets)},this.autoClosingPairs=X.zu.getAutoClosingPairs(S);let $=g._getSurroundingPairs(S);if($)for(const ee of $)this.surroundingPairs[ee.open]=ee.close}static shouldRecreate(S){return S.hasChanged(129)||S.hasChanged(115)||S.hasChanged(32)||S.hasChanged(68)||S.hasChanged(70)||S.hasChanged(5)||S.hasChanged(8)||S.hasChanged(6)||S.hasChanged(7)||S.hasChanged(11)||S.hasChanged(114)||S.hasChanged(58)||S.hasChanged(80)}get electricChars(){if(!this._electricChars){this._electricChars={};let S=g._getElectricCharacters(this._languageId);if(S)for(const h of S)this._electricChars[h]=!0}return this._electricChars}normalizeIndentation(S){return y.yO.normalizeIndentation(S,this.indentSize,this.insertSpaces)}static _getElectricCharacters(S){try{return X.zu.getElectricCharacters(S)}catch(h){return(0,E.dL)(h),null}}static _getShouldAutoClose(S,h){switch(h){case"beforeWhitespace":return N;case"languageDefined":return g._getLanguageDefinedShouldAutoClose(S);case"always":return B;case"never":return s}}static _getLanguageDefinedShouldAutoClose(S){try{const h=X.zu.getAutoCloseBeforeSet(S);return L=>h.indexOf(L)!==-1}catch(h){return(0,E.dL)(h),s}}static _getSurroundingPairs(S){try{return X.zu.getSurroundingPairs(S)}catch(h){return(0,E.dL)(h),null}}}class D{constructor(S,h,L,v){this._singleCursorStateBrand=void 0,this.selectionStart=S,this.selectionStartLeftoverVisibleColumns=h,this.position=L,this.leftoverVisibleColumns=v,this.selection=D._computeSelection(this.selectionStart,this.position)}equals(S){return this.selectionStartLeftoverVisibleColumns===S.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===S.leftoverVisibleColumns&&this.position.equals(S.position)&&this.selectionStart.equalsRange(S.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(S,h,L,v){return S?new D(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new O.L(h,L),v):new D(new Q.e(h,L,h,L),v,new O.L(h,L),v)}static _computeSelection(S,h){let L,v,V,$;return S.isEmpty()?(L=S.startLineNumber,v=S.startColumn,V=h.lineNumber,$=h.column):h.isBeforeOrEqual(S.getStartPosition())?(L=S.endLineNumber,v=S.endColumn,V=h.lineNumber,$=h.column):(L=S.startLineNumber,v=S.startColumn,V=h.lineNumber,$=h.column),new P.Y(L,v,V,$)}}class H{constructor(S,h,L,v){this._cursorContextBrand=void 0,this.model=S,this.viewModel=h,this.coordinatesConverter=L,this.cursorConfig=v}}class r{constructor(S){this.modelState=S,this.viewState=null}}class T{constructor(S){this.modelState=null,this.viewState=S}}class w{constructor(S,h){this._cursorStateBrand=void 0,this.modelState=S,this.viewState=h}static fromModelState(S){return new r(S)}static fromViewState(S){return new T(S)}static fromModelSelection(S){const h=S.selectionStartLineNumber,L=S.selectionStartColumn,v=S.positionLineNumber,V=S.positionColumn,$=new D(new Q.e(h,L,h,L),0,new O.L(v,V),0);return w.fromModelState($)}static fromModelSelections(S){let h=[];for(let L=0,v=S.length;L<v;L++)h[L]=this.fromModelSelection(S[L]);return h}equals(S){return this.viewState.equals(S.viewState)&&this.modelState.equals(S.modelState)}}class x{constructor(S,h,L){this._editOperationResultBrand=void 0,this.type=S,this.commands=h,this.shouldPushStackElementBefore=L.shouldPushStackElementBefore,this.shouldPushStackElementAfter=L.shouldPushStackElementAfter}}function f(p){return p==="'"||p==='"'||p==="`"}},31380:function(Qt,He,c){"use strict";c.d(He,{A:function(){return R}});var E=c(97295),O=c(61329),Q=c(33181),P=c(88784),y=c(24314),X=c(50187);class R{static deleteRight(s,N,g,D){let H=[],r=s!==3;for(let T=0,w=D.length;T<w;T++){const x=D[T];let f=x;if(f.isEmpty()){let p=x.getPosition(),S=P.o.right(N,g,p);f=new y.e(S.lineNumber,S.column,p.lineNumber,p.column)}if(f.isEmpty()){H[T]=null;continue}f.startLineNumber!==f.endLineNumber&&(r=!0),H[T]=new O.T4(f,"")}return[r,H]}static isAutoClosingPairDelete(s,N,g,D,H,r,T){if(N==="never"&&g==="never"||s==="never")return!1;for(let w=0,x=r.length;w<x;w++){const f=r[w],p=f.getPosition();if(!f.isEmpty())return!1;const S=H.getLineContent(p.lineNumber);if(p.column<2||p.column>=S.length+1)return!1;const h=S.charAt(p.column-2),L=D.get(h);if(!L)return!1;if((0,Q.LN)(h)){if(g==="never")return!1}else if(N==="never")return!1;const v=S.charAt(p.column-1);let V=!1;for(const $ of L)$.open===h&&$.close===v&&(V=!0);if(!V)return!1;if(s==="auto"){let $=!1;for(let ee=0,de=T.length;ee<de;ee++){const pe=T[ee];if(p.lineNumber===pe.startLineNumber&&p.column===pe.startColumn){$=!0;break}}if(!$)return!1}}return!0}static _runAutoClosingPairDelete(s,N,g){let D=[];for(let H=0,r=g.length;H<r;H++){const T=g[H].getPosition(),w=new y.e(T.lineNumber,T.column-1,T.lineNumber,T.column+1);D[H]=new O.T4(w,"")}return[!0,D]}static deleteLeft(s,N,g,D,H){if(this.isAutoClosingPairDelete(N.autoClosingDelete,N.autoClosingBrackets,N.autoClosingQuotes,N.autoClosingPairs.autoClosingPairsOpenByEnd,g,D,H))return this._runAutoClosingPairDelete(N,g,D);const r=[];let T=s!==2;for(let w=0,x=D.length;w<x;w++){let f=R.getDeleteRange(D[w],g,N);if(f.isEmpty()){r[w]=null;continue}f.startLineNumber!==f.endLineNumber&&(T=!0),r[w]=new O.T4(f,"")}return[T,r]}static getDeleteRange(s,N,g){if(!s.isEmpty())return s;const D=s.getPosition();if(g.useTabStops&&D.column>1){const H=N.getLineContent(D.lineNumber),r=E.LC(H),T=r===-1?H.length+1:r+1;if(D.column<=T){const w=Q.io.visibleColumnFromColumn2(g,N,D),x=Q.io.prevIndentTabStop(w,g.indentSize),f=Q.io.columnFromVisibleColumn2(g,N,D.lineNumber,x);return new y.e(D.lineNumber,f,D.lineNumber,D.column)}}return y.e.fromPositions(R.getPositionAfterDeleteLeft(D,N),D)}static getPositionAfterDeleteLeft(s,N){if(s.column>1){const g=E.oH(s.column-1,N.getLineContent(s.lineNumber));return s.with(void 0,g+1)}else if(s.lineNumber>1){const g=s.lineNumber-1;return new X.L(g,N.getLineMaxColumn(g))}else return s}static cut(s,N,g){let D=[],H=null;g.sort((r,T)=>X.L.compare(r.getStartPosition(),T.getEndPosition()));for(let r=0,T=g.length;r<T;r++){const w=g[r];if(w.isEmpty())if(s.emptySelectionClipboard){let x=w.getPosition(),f,p,S,h;x.lineNumber<N.getLineCount()?(f=x.lineNumber,p=1,S=x.lineNumber+1,h=1):x.lineNumber>1&&(H==null?void 0:H.endLineNumber)!==x.lineNumber?(f=x.lineNumber-1,p=N.getLineMaxColumn(x.lineNumber-1),S=x.lineNumber,h=N.getLineMaxColumn(x.lineNumber)):(f=x.lineNumber,p=1,S=x.lineNumber,h=N.getLineMaxColumn(x.lineNumber));let L=new y.e(f,p,S,h);H=L,L.isEmpty()?D[r]=null:D[r]=new O.T4(L,"")}else D[r]=null;else D[r]=new O.T4(w,"")}return new Q.Tp(0,D,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},88784:function(Qt,He,c){"use strict";c.d(He,{o:function(){return R}});var E=c(33181),O=c(50187),Q=c(24314),P=c(97295),y=c(3675);class X{constructor(s,N,g){this._cursorPositionBrand=void 0,this.lineNumber=s,this.column=N,this.leftoverVisibleColumns=g}}class R{static leftPosition(s,N){if(N.column>s.getLineMinColumn(N.lineNumber))return N.delta(void 0,-P.HO(s.getLineContent(N.lineNumber),N.column-1));if(N.lineNumber>1){const g=N.lineNumber-1;return new O.L(g,s.getLineMaxColumn(g))}else return N}static leftPositionAtomicSoftTabs(s,N,g){if(N.column<=s.getLineIndentColumn(N.lineNumber)){const D=s.getLineMinColumn(N.lineNumber),H=s.getLineContent(N.lineNumber),r=y.l.atomicPosition(H,N.column-1,g,0);if(r!==-1&&r+1>=D)return new O.L(N.lineNumber,r+1)}return this.leftPosition(s,N)}static left(s,N,g){const D=s.stickyTabStops?R.leftPositionAtomicSoftTabs(N,g,s.tabSize):R.leftPosition(N,g);return new X(D.lineNumber,D.column,0)}static moveLeft(s,N,g,D,H){let r,T;if(g.hasSelection()&&!D)r=g.selection.startLineNumber,T=g.selection.startColumn;else{const w=g.position.delta(void 0,-(H-1)),x=N.normalizePosition(R.clipPositionColumn(w,N),0),f=R.left(s,N,x);r=f.lineNumber,T=f.column}return g.move(D,r,T,0)}static clipPositionColumn(s,N){return new O.L(s.lineNumber,R.clipRange(s.column,N.getLineMinColumn(s.lineNumber),N.getLineMaxColumn(s.lineNumber)))}static clipRange(s,N,g){return s<N?N:s>g?g:s}static rightPosition(s,N,g){return g<s.getLineMaxColumn(N)?g=g+P.vH(s.getLineContent(N),g-1):N<s.getLineCount()&&(N=N+1,g=s.getLineMinColumn(N)),new O.L(N,g)}static rightPositionAtomicSoftTabs(s,N,g,D,H){if(g<s.getLineIndentColumn(N)){const r=s.getLineContent(N),T=y.l.atomicPosition(r,g-1,D,1);if(T!==-1)return new O.L(N,T+1)}return this.rightPosition(s,N,g)}static right(s,N,g){const D=s.stickyTabStops?R.rightPositionAtomicSoftTabs(N,g.lineNumber,g.column,s.tabSize,s.indentSize):R.rightPosition(N,g.lineNumber,g.column);return new X(D.lineNumber,D.column,0)}static moveRight(s,N,g,D,H){let r,T;if(g.hasSelection()&&!D)r=g.selection.endLineNumber,T=g.selection.endColumn;else{const w=g.position.delta(void 0,H-1),x=N.normalizePosition(R.clipPositionColumn(w,N),1),f=R.right(s,N,x);r=f.lineNumber,T=f.column}return g.move(D,r,T,0)}static vertical(s,N,g,D,H,r,T){const w=E.io.visibleColumnFromColumn(N.getLineContent(g),D,s.tabSize)+H,x=N.getLineCount(),f=g===1&&D===1,p=g===x&&D===N.getLineMaxColumn(g),S=r<g?f:p;return g=r,g<1?(g=1,T?D=N.getLineMinColumn(g):D=Math.min(N.getLineMaxColumn(g),D)):g>x?(g=x,T?D=N.getLineMaxColumn(g):D=Math.min(N.getLineMaxColumn(g),D)):D=E.io.columnFromVisibleColumn2(s,N,g,w),S?H=0:H=w-E.io.visibleColumnFromColumn(N.getLineContent(g),D,s.tabSize),new X(g,D,H)}static down(s,N,g,D,H,r,T){return this.vertical(s,N,g,D,H,g+r,T)}static moveDown(s,N,g,D,H){let r,T;g.hasSelection()&&!D?(r=g.selection.endLineNumber,T=g.selection.endColumn):(r=g.position.lineNumber,T=g.position.column);let w=R.down(s,N,r,T,g.leftoverVisibleColumns,H,!0);return g.move(D,w.lineNumber,w.column,w.leftoverVisibleColumns)}static translateDown(s,N,g){let D=g.selection,H=R.down(s,N,D.selectionStartLineNumber,D.selectionStartColumn,g.selectionStartLeftoverVisibleColumns,1,!1),r=R.down(s,N,D.positionLineNumber,D.positionColumn,g.leftoverVisibleColumns,1,!1);return new E.rS(new Q.e(H.lineNumber,H.column,H.lineNumber,H.column),H.leftoverVisibleColumns,new O.L(r.lineNumber,r.column),r.leftoverVisibleColumns)}static up(s,N,g,D,H,r,T){return this.vertical(s,N,g,D,H,g-r,T)}static moveUp(s,N,g,D,H){let r,T;g.hasSelection()&&!D?(r=g.selection.startLineNumber,T=g.selection.startColumn):(r=g.position.lineNumber,T=g.position.column);let w=R.up(s,N,r,T,g.leftoverVisibleColumns,H,!0);return g.move(D,w.lineNumber,w.column,w.leftoverVisibleColumns)}static translateUp(s,N,g){let D=g.selection,H=R.up(s,N,D.selectionStartLineNumber,D.selectionStartColumn,g.selectionStartLeftoverVisibleColumns,1,!1),r=R.up(s,N,D.positionLineNumber,D.positionColumn,g.leftoverVisibleColumns,1,!1);return new E.rS(new Q.e(H.lineNumber,H.column,H.lineNumber,H.column),H.leftoverVisibleColumns,new O.L(r.lineNumber,r.column),r.leftoverVisibleColumns)}static _isBlankLine(s,N){return s.getLineFirstNonWhitespaceColumn(N)===0}static moveToPrevBlankLine(s,N,g,D){let H=g.position.lineNumber;for(;H>1&&this._isBlankLine(N,H);)H--;for(;H>1&&!this._isBlankLine(N,H);)H--;return g.move(D,H,N.getLineMinColumn(H),0)}static moveToNextBlankLine(s,N,g,D){const H=N.getLineCount();let r=g.position.lineNumber;for(;r<H&&this._isBlankLine(N,r);)r++;for(;r<H&&!this._isBlankLine(N,r);)r++;return g.move(D,r,N.getLineMinColumn(r),0)}static moveToBeginningOfLine(s,N,g,D){let H=g.position.lineNumber,r=N.getLineMinColumn(H),T=N.getLineFirstNonWhitespaceColumn(H)||r,w;return g.position.column===T?w=r:w=T,g.move(D,H,w,0)}static moveToEndOfLine(s,N,g,D,H){let r=g.position.lineNumber,T=N.getLineMaxColumn(r);return g.move(D,r,T,H?1073741824-T:0)}static moveToBeginningOfBuffer(s,N,g,D){return g.move(D,1,1,0)}static moveToEndOfBuffer(s,N,g,D){let H=N.getLineCount(),r=N.getLineMaxColumn(H);return g.move(D,H,r,0)}}},70966:function(Qt,He,c){"use strict";c.d(He,{u:function(){return r},g:function(){return T}});var E=c(17301),O=c(97295),Q=c(61329),P=c(33181),y=c(24314),X=c(3860),R=c(94660);const B=Object.create(null);function s(S,h){if(h<=0)return"";B[S]||(B[S]=["",S]);const L=B[S];for(let v=L.length;v<=h;v++)L[v]=L[v-1]+S;return L[h]}class N{constructor(h,L){this._opts=L,this._selection=h,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(h,L,v,V,$){const ee=P.io.visibleColumnFromColumn(h,L,v);if($){const de=s(" ",V),ve=P.io.prevIndentTabStop(ee,V)/V;return s(de,ve)}else{const de="	",ve=P.io.prevRenderTabStop(ee,v)/v;return s(de,ve)}}static shiftIndent(h,L,v,V,$){const ee=P.io.visibleColumnFromColumn(h,L,v);if($){const de=s(" ",V),ve=P.io.nextIndentTabStop(ee,V)/V;return s(de,ve)}else{const de="	",ve=P.io.nextRenderTabStop(ee,v)/v;return s(de,ve)}}_addEditOperation(h,L,v){this._useLastEditRangeForCursorEndPosition?h.addTrackedEditOperation(L,v):h.addEditOperation(L,v)}getEditOperations(h,L){const v=this._selection.startLineNumber;let V=this._selection.endLineNumber;this._selection.endColumn===1&&v!==V&&(V=V-1);const{tabSize:$,indentSize:ee,insertSpaces:de}=this._opts,pe=v===V;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(h.getLineContent(v))&&(this._useLastEditRangeForCursorEndPosition=!0);let ve=0,xe=0;for(let le=v;le<=V;le++,ve=xe){xe=0;let Y=h.getLineContent(le),j=O.LC(Y);if(this._opts.isUnshift&&(Y.length===0||j===0)||!pe&&!this._opts.isUnshift&&Y.length===0)continue;if(j===-1&&(j=Y.length),le>1&&P.io.visibleColumnFromColumn(Y,j+1,$)%ee!==0&&h.isCheapToTokenize(le-1)){let m=R.zu.getEnterAction(this._opts.autoIndent,h,new y.e(le-1,h.getLineMaxColumn(le-1),le-1,h.getLineMaxColumn(le-1)));if(m){if(xe=ve,m.appendText)for(let b=0,F=m.appendText.length;b<F&&xe<ee&&m.appendText.charCodeAt(b)===32;b++)xe++;m.removeText&&(xe=Math.max(0,xe-m.removeText));for(let b=0;b<xe&&!(j===0||Y.charCodeAt(j-1)!==32);b++)j--}}if(this._opts.isUnshift&&j===0)continue;let G;this._opts.isUnshift?G=N.unshiftIndent(Y,j+1,$,ee,de):G=N.shiftIndent(Y,j+1,$,ee,de),this._addEditOperation(L,new y.e(le,1,le,j+1),G),le===v&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=j+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&h.getLineLength(v)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const ve=de?s(" ",ee):"	";for(let xe=v;xe<=V;xe++){const le=h.getLineContent(xe);let Y=O.LC(le);if(!(this._opts.isUnshift&&(le.length===0||Y===0))&&!(!pe&&!this._opts.isUnshift&&le.length===0)&&(Y===-1&&(Y=le.length),!(this._opts.isUnshift&&Y===0)))if(this._opts.isUnshift){Y=Math.min(Y,ee);for(let j=0;j<Y;j++)if(le.charCodeAt(j)===9){Y=j+1;break}this._addEditOperation(L,new y.e(xe,1,xe,Y+1),"")}else this._addEditOperation(L,new y.e(xe,1,xe,1),ve),xe===v&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=L.trackSelection(this._selection)}computeCursorState(h,L){if(this._useLastEditRangeForCursorEndPosition){let V=L.getInverseEditOperations()[0];return new X.Y(V.range.endLineNumber,V.range.endColumn,V.range.endLineNumber,V.range.endColumn)}const v=L.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let V=this._selection.startColumn;return v.startColumn<=V?v:v.getDirection()===0?new X.Y(v.startLineNumber,V,v.endLineNumber,v.endColumn):new X.Y(v.endLineNumber,v.endColumn,v.startLineNumber,V)}return v}}class g{constructor(h,L,v){this._range=h,this._charBeforeSelection=L,this._charAfterSelection=v}getEditOperations(h,L){L.addTrackedEditOperation(new y.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),L.addTrackedEditOperation(new y.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(h,L){let v=L.getInverseEditOperations(),V=v[0].range,$=v[1].range;return new X.Y(V.endLineNumber,V.endColumn,$.endLineNumber,$.endColumn-this._charAfterSelection.length)}}var D=c(59410),H=c(97354);class r{static indent(h,L,v){if(L===null||v===null)return[];let V=[];for(let $=0,ee=v.length;$<ee;$++)V[$]=new N(v[$],{isUnshift:!1,tabSize:h.tabSize,indentSize:h.indentSize,insertSpaces:h.insertSpaces,useTabStops:h.useTabStops,autoIndent:h.autoIndent});return V}static outdent(h,L,v){let V=[];for(let $=0,ee=v.length;$<ee;$++)V[$]=new N(v[$],{isUnshift:!0,tabSize:h.tabSize,indentSize:h.indentSize,insertSpaces:h.insertSpaces,useTabStops:h.useTabStops,autoIndent:h.autoIndent});return V}static shiftIndent(h,L,v){return v=v||1,N.shiftIndent(L,L.length+v,h.tabSize,h.indentSize,h.insertSpaces)}static unshiftIndent(h,L,v){return v=v||1,N.unshiftIndent(L,L.length+v,h.tabSize,h.indentSize,h.insertSpaces)}static _distributedPaste(h,L,v,V){let $=[];for(let ee=0,de=v.length;ee<de;ee++)$[ee]=new Q.T4(v[ee],V[ee]);return new P.Tp(0,$,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(h,L,v,V,$){let ee=[];for(let de=0,pe=v.length;de<pe;de++){const ve=v[de];let xe=ve.getPosition();if($&&!ve.isEmpty()&&($=!1),$&&V.indexOf(`
`)!==V.length-1&&($=!1),$){let le=new y.e(xe.lineNumber,1,xe.lineNumber,1);ee[de]=new Q.hP(le,V,ve,!0)}else ee[de]=new Q.T4(ve,V)}return new P.Tp(0,ee,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(h,L,v,V,$){if(V||L.length===1)return null;if($&&$.length===L.length)return $;if(h.multiCursorPaste==="spread"){v.charCodeAt(v.length-1)===10&&(v=v.substr(0,v.length-1)),v.charCodeAt(v.length-1)===13&&(v=v.substr(0,v.length-1));let ee=O.uq(v);if(ee.length===L.length)return ee}return null}static paste(h,L,v,V,$,ee){const de=this._distributePasteToCursors(h,v,V,$,ee);return de?(v=v.sort(y.e.compareRangesUsingStarts),this._distributedPaste(h,L,v,de)):this._simplePaste(h,L,v,V,$)}static _goodIndentForLine(h,L,v){let V=null,$="";const ee=R.zu.getInheritIndentForLine(h.autoIndent,L,v,!1);if(ee)V=ee.action,$=ee.indentation;else if(v>1){let de;for(de=v-1;de>=1;de--){const xe=L.getLineContent(de);if(O.ow(xe)>=0)break}if(de<1)return null;const pe=L.getLineMaxColumn(de),ve=R.zu.getEnterAction(h.autoIndent,L,new y.e(de,pe,de,pe));ve&&($=ve.indentation+ve.appendText)}return V&&(V===H.wU.Indent&&($=r.shiftIndent(h,$)),V===H.wU.Outdent&&($=r.unshiftIndent(h,$)),$=h.normalizeIndentation($)),$||null}static _replaceJumpToNextIndent(h,L,v,V){let $="",ee=v.getStartPosition();if(h.insertSpaces){let de=P.io.visibleColumnFromColumn2(h,L,ee),pe=h.indentSize,ve=pe-de%pe;for(let xe=0;xe<ve;xe++)$+=" "}else $="	";return new Q.T4(v,$,V)}static tab(h,L,v){let V=[];for(let $=0,ee=v.length;$<ee;$++){const de=v[$];if(de.isEmpty()){let pe=L.getLineContent(de.startLineNumber);if(/^\s*$/.test(pe)&&L.isCheapToTokenize(de.startLineNumber)){let ve=this._goodIndentForLine(h,L,de.startLineNumber);ve=ve||"	";let xe=h.normalizeIndentation(ve);if(!pe.startsWith(xe)){V[$]=new Q.T4(new y.e(de.startLineNumber,1,de.startLineNumber,pe.length+1),xe,!0);continue}}V[$]=this._replaceJumpToNextIndent(h,L,de,!0)}else{if(de.startLineNumber===de.endLineNumber){let pe=L.getLineMaxColumn(de.startLineNumber);if(de.startColumn!==1||de.endColumn!==pe){V[$]=this._replaceJumpToNextIndent(h,L,de,!1);continue}}V[$]=new N(de,{isUnshift:!1,tabSize:h.tabSize,indentSize:h.indentSize,insertSpaces:h.insertSpaces,useTabStops:h.useTabStops,autoIndent:h.autoIndent})}}return V}static compositionType(h,L,v,V,$,ee,de,pe){const ve=V.map(xe=>this._compositionType(v,xe,$,ee,de,pe));return new P.Tp(4,ve,{shouldPushStackElementBefore:x(h,4),shouldPushStackElementAfter:!1})}static _compositionType(h,L,v,V,$,ee){if(!L.isEmpty())return null;const de=L.getPosition(),pe=Math.max(1,de.column-V),ve=Math.min(h.getLineMaxColumn(de.lineNumber),de.column+$),xe=new y.e(de.lineNumber,pe,de.lineNumber,ve);return h.getValueInRange(xe)===v&&ee===0?null:new Q.Uo(xe,v,0,ee)}static _typeCommand(h,L,v){return v?new Q.Sj(h,L,!0):new Q.T4(h,L,!0)}static _enter(h,L,v,V){if(h.autoIndent===0)return r._typeCommand(V,`
`,v);if(!L.isCheapToTokenize(V.getStartPosition().lineNumber)||h.autoIndent===1){let pe=L.getLineContent(V.startLineNumber),ve=O.V8(pe).substring(0,V.startColumn-1);return r._typeCommand(V,`
`+h.normalizeIndentation(ve),v)}const $=R.zu.getEnterAction(h.autoIndent,L,V);if($){if($.indentAction===H.wU.None)return r._typeCommand(V,`
`+h.normalizeIndentation($.indentation+$.appendText),v);if($.indentAction===H.wU.Indent)return r._typeCommand(V,`
`+h.normalizeIndentation($.indentation+$.appendText),v);if($.indentAction===H.wU.IndentOutdent){const pe=h.normalizeIndentation($.indentation),ve=h.normalizeIndentation($.indentation+$.appendText),xe=`
`+ve+`
`+pe;return v?new Q.Sj(V,xe,!0):new Q.Uo(V,xe,-1,ve.length-pe.length,!0)}else if($.indentAction===H.wU.Outdent){const pe=r.unshiftIndent(h,$.indentation);return r._typeCommand(V,`
`+h.normalizeIndentation(pe+$.appendText),v)}}const ee=L.getLineContent(V.startLineNumber),de=O.V8(ee).substring(0,V.startColumn-1);if(h.autoIndent>=4){const pe=R.zu.getIndentForEnter(h.autoIndent,L,V,{unshiftIndent:ve=>r.unshiftIndent(h,ve),shiftIndent:ve=>r.shiftIndent(h,ve),normalizeIndentation:ve=>h.normalizeIndentation(ve)});if(pe){let ve=P.io.visibleColumnFromColumn2(h,L,V.getEndPosition());const xe=V.endColumn,le=L.getLineContent(V.endLineNumber),Y=O.LC(le);if(Y>=0?V=V.setEndPosition(V.endLineNumber,Math.max(V.endColumn,Y+1)):V=V.setEndPosition(V.endLineNumber,L.getLineMaxColumn(V.endLineNumber)),v)return new Q.Sj(V,`
`+h.normalizeIndentation(pe.afterEnter),!0);{let j=0;return xe<=Y+1&&(h.insertSpaces||(ve=Math.ceil(ve/h.indentSize)),j=Math.min(ve+1-h.normalizeIndentation(pe.afterEnter).length-1,0)),new Q.Uo(V,`
`+h.normalizeIndentation(pe.afterEnter),0,j,!0)}}}return r._typeCommand(V,`
`+h.normalizeIndentation(de),v)}static _isAutoIndentType(h,L,v){if(h.autoIndent<4)return!1;for(let V=0,$=v.length;V<$;V++)if(!L.isCheapToTokenize(v[V].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(h,L,v,V){const $=R.zu.getIndentationAtPosition(L,v.startLineNumber,v.startColumn),ee=R.zu.getIndentActionForType(h.autoIndent,L,v,V,{shiftIndent:de=>r.shiftIndent(h,de),unshiftIndent:de=>r.unshiftIndent(h,de)});if(ee===null)return null;if(ee!==h.normalizeIndentation($)){const de=L.getLineFirstNonWhitespaceColumn(v.startLineNumber);return de===0?r._typeCommand(new y.e(v.startLineNumber,1,v.endLineNumber,v.endColumn),h.normalizeIndentation(ee)+V,!1):r._typeCommand(new y.e(v.startLineNumber,1,v.endLineNumber,v.endColumn),h.normalizeIndentation(ee)+L.getLineContent(v.startLineNumber).substring(de-1,v.startColumn-1)+V,!1)}return null}static _isAutoClosingOvertype(h,L,v,V,$){if(h.autoClosingOvertype==="never"||!h.autoClosingPairs.autoClosingPairsCloseSingleChar.has($))return!1;for(let ee=0,de=v.length;ee<de;ee++){const pe=v[ee];if(!pe.isEmpty())return!1;const ve=pe.getPosition(),xe=L.getLineContent(ve.lineNumber);if(xe.charAt(ve.column-1)!==$)return!1;const Y=(0,P.LN)($);if((ve.column>2?xe.charCodeAt(ve.column-2):0)===92&&Y)return!1;if(h.autoClosingOvertype==="auto"){let G=!1;for(let q=0,m=V.length;q<m;q++){const b=V[q];if(ve.lineNumber===b.startLineNumber&&ve.column===b.startColumn){G=!0;break}}if(!G)return!1}}return!0}static _runAutoClosingOvertype(h,L,v,V,$){let ee=[];for(let de=0,pe=V.length;de<pe;de++){const xe=V[de].getPosition(),le=new y.e(xe.lineNumber,xe.column,xe.lineNumber,xe.column+1);ee[de]=new Q.T4(le,$)}return new P.Tp(4,ee,{shouldPushStackElementBefore:x(h,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(h,L){const v=L.charAt(0),V=h.autoClosingPairs.autoClosingPairsOpenByStart.get(v)||[],$=h.autoClosingPairs.autoClosingPairsCloseByStart.get(v)||[],ee=V.some(pe=>L.startsWith(pe.open)),de=$.some(pe=>L.startsWith(pe.close));return!ee&&de}static _findAutoClosingPairOpen(h,L,v,V){const $=h.autoClosingPairs.autoClosingPairsOpenByEnd.get(V);if(!$)return null;let ee=null;for(const de of $)if(ee===null||de.open.length>ee.open.length){let pe=!0;for(const ve of v)if(L.getValueInRange(new y.e(ve.lineNumber,ve.column-de.open.length+1,ve.lineNumber,ve.column))+V!==de.open){pe=!1;break}pe&&(ee=de)}return ee}static _findSubAutoClosingPairClose(h,L){if(L.open.length<=1)return"";const v=L.close.charAt(L.close.length-1),V=h.autoClosingPairs.autoClosingPairsCloseByEnd.get(v)||[];let $=null;for(const ee of V)ee.open!==L.open&&L.open.includes(ee.open)&&L.close.endsWith(ee.close)&&(!$||ee.open.length>$.open.length)&&($=ee);return $?$.close:""}static _getAutoClosingPairClose(h,L,v,V,$){const ee=(0,P.LN)(V),de=ee?h.autoClosingQuotes:h.autoClosingBrackets;if(de==="never")return null;const pe=this._findAutoClosingPairOpen(h,L,v.map(Y=>Y.getPosition()),V);if(!pe)return null;const ve=this._findSubAutoClosingPairClose(h,pe);let xe=!0;const le=ee?h.shouldAutoCloseBefore.quote:h.shouldAutoCloseBefore.bracket;for(let Y=0,j=v.length;Y<j;Y++){const G=v[Y];if(!G.isEmpty())return null;const q=G.getPosition(),m=L.getLineContent(q.lineNumber),b=m.substring(q.column-1);if(b.startsWith(ve)||(xe=!1),m.length>q.column-1){const me=m.charAt(q.column-1);if(!r._isBeforeClosingBrace(h,b)&&!le(me))return null}if(!L.isCheapToTokenize(q.lineNumber))return null;if(pe.open.length===1&&(V==="'"||V==='"')&&de!=="always"){const me=(0,D.u)(h.wordSeparators);if($&&q.column>1&&me.get(m.charCodeAt(q.column-2))===0||!$&&q.column>2&&me.get(m.charCodeAt(q.column-3))===0)return null}L.forceTokenization(q.lineNumber);const F=L.getLineTokens(q.lineNumber);let te=!1;try{te=R.zu.shouldAutoClosePair(pe,F,$?q.column:q.column-1)}catch(me){(0,E.dL)(me)}if(!te)return null}return xe?pe.close.substring(0,pe.close.length-ve.length):pe.close}static _runAutoClosingOpenCharType(h,L,v,V,$,ee,de){let pe=[];for(let ve=0,xe=V.length;ve<xe;ve++){const le=V[ve];pe[ve]=new T(le,$,ee,de)}return new P.Tp(4,pe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(h,L){return(0,P.LN)(L)?h.autoSurround==="quotes"||h.autoSurround==="languageDefined":h.autoSurround==="brackets"||h.autoSurround==="languageDefined"}static _isSurroundSelectionType(h,L,v,V){if(!r._shouldSurroundChar(h,V)||!h.surroundingPairs.hasOwnProperty(V))return!1;const $=(0,P.LN)(V);for(let ee=0,de=v.length;ee<de;ee++){const pe=v[ee];if(pe.isEmpty())return!1;let ve=!0;for(let xe=pe.startLineNumber;xe<=pe.endLineNumber;xe++){const le=L.getLineContent(xe),Y=xe===pe.startLineNumber?pe.startColumn-1:0,j=xe===pe.endLineNumber?pe.endColumn-1:le.length,G=le.substring(Y,j);if(/[^ \t]/.test(G)){ve=!1;break}}if(ve)return!1;if($&&pe.startLineNumber===pe.endLineNumber&&pe.startColumn+1===pe.endColumn){const xe=L.getValueInRange(pe);if((0,P.LN)(xe))return!1}}return!0}static _runSurroundSelectionType(h,L,v,V,$){let ee=[];for(let de=0,pe=V.length;de<pe;de++){const ve=V[de],xe=L.surroundingPairs[$];ee[de]=new g(ve,$,xe)}return new P.Tp(0,ee,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(h,L,v){return!!(v.length===1&&L.isCheapToTokenize(v[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(h,L,v,V,$){if(!L.electricChars.hasOwnProperty($)||!V.isEmpty())return null;let ee=V.getPosition();v.forceTokenization(ee.lineNumber);let de=v.getLineTokens(ee.lineNumber),pe;try{pe=R.zu.onElectricCharacter($,de,ee.column)}catch(ve){return(0,E.dL)(ve),null}if(!pe)return null;if(pe.matchOpenBracket){let ve=(de.getLineContent()+$).lastIndexOf(pe.matchOpenBracket)+1,xe=v.findMatchingBracketUp(pe.matchOpenBracket,{lineNumber:ee.lineNumber,column:ve});if(xe){if(xe.startLineNumber===ee.lineNumber)return null;let le=v.getLineContent(xe.startLineNumber),Y=O.V8(le),j=L.normalizeIndentation(Y),G=v.getLineContent(ee.lineNumber),q=v.getLineFirstNonWhitespaceColumn(ee.lineNumber)||ee.column,m=G.substring(q-1,ee.column-1),b=j+m+$,F=new y.e(ee.lineNumber,1,ee.lineNumber,ee.column);const te=new Q.T4(F,b);return new P.Tp(w(b,h),[te],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(h,L,v,V,$,ee){if(!V||X.Y.selectionsArrEqual(V,$))return null;let de=null;for(const ve of $){if(!ve.isEmpty())return null;const xe=ve.getPosition(),le=v.getValueInRange(new y.e(xe.lineNumber,xe.column-1,xe.lineNumber,xe.column));if(de===null)de=le;else if(de!==le)return null}if(!de)return null;if(this._isAutoClosingOvertype(L,v,$,ee,de)){const ve=$.map(xe=>new Q.T4(new y.e(xe.positionLineNumber,xe.positionColumn,xe.positionLineNumber,xe.positionColumn+1),"",!1));return new P.Tp(4,ve,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const pe=this._getAutoClosingPairClose(L,v,$,de,!1);return pe!==null?this._runAutoClosingOpenCharType(h,L,v,$,de,!1,pe):null}static typeWithInterceptors(h,L,v,V,$,ee,de){if(!h&&de===`
`){let xe=[];for(let le=0,Y=$.length;le<Y;le++)xe[le]=r._enter(v,V,!1,$[le]);return new P.Tp(4,xe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!h&&this._isAutoIndentType(v,V,$)){let xe=[],le=!1;for(let Y=0,j=$.length;Y<j;Y++)if(xe[Y]=this._runAutoIndentType(v,V,$[Y],de),!xe[Y]){le=!0;break}if(!le)return new P.Tp(4,xe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!h&&this._isAutoClosingOvertype(v,V,$,ee,de))return this._runAutoClosingOvertype(L,v,V,$,de);if(!h){const xe=this._getAutoClosingPairClose(v,V,$,de,!0);if(xe)return this._runAutoClosingOpenCharType(L,v,V,$,de,!0,xe)}if(this._isSurroundSelectionType(v,V,$,de))return this._runSurroundSelectionType(L,v,V,$,de);if(!h&&this._isTypeInterceptorElectricChar(v,V,$)){const xe=this._typeInterceptorElectricChar(L,v,V,$[0],de);if(xe)return xe}let pe=[];for(let xe=0,le=$.length;xe<le;xe++)pe[xe]=new Q.T4($[xe],de);const ve=w(de,L);return new P.Tp(ve,pe,{shouldPushStackElementBefore:x(L,ve),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(h,L,v,V,$){let ee=[];for(let pe=0,ve=V.length;pe<ve;pe++)ee[pe]=new Q.T4(V[pe],$);const de=w($,h);return new P.Tp(de,ee,{shouldPushStackElementBefore:x(h,de),shouldPushStackElementAfter:!1})}static lineInsertBefore(h,L,v){if(L===null||v===null)return[];let V=[];for(let $=0,ee=v.length;$<ee;$++){let de=v[$].positionLineNumber;if(de===1)V[$]=new Q.Sj(new y.e(1,1,1,1),`
`);else{de--;let pe=L.getLineMaxColumn(de);V[$]=this._enter(h,L,!1,new y.e(de,pe,de,pe))}}return V}static lineInsertAfter(h,L,v){if(L===null||v===null)return[];let V=[];for(let $=0,ee=v.length;$<ee;$++){const de=v[$].positionLineNumber;let pe=L.getLineMaxColumn(de);V[$]=this._enter(h,L,!1,new y.e(de,pe,de,pe))}return V}static lineBreakInsert(h,L,v){let V=[];for(let $=0,ee=v.length;$<ee;$++)V[$]=this._enter(h,L,!0,v[$]);return V}}class T extends Q.Uo{constructor(h,L,v,V){super(h,(v?L:"")+V,0,-V.length),this._openCharacter=L,this._closeCharacter=V,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(h,L){let V=L.getInverseEditOperations()[0].range;return this.closeCharacterRange=new y.e(V.startLineNumber,V.endColumn-this._closeCharacter.length,V.endLineNumber,V.endColumn),this.enclosingRange=new y.e(V.startLineNumber,V.endColumn-this._openCharacter.length-this._closeCharacter.length,V.endLineNumber,V.endColumn),super.computeCursorState(h,L)}}function w(S,h){return S===" "?h===5||h===6?6:5:4}function x(S,h){return p(S)&&!p(h)?!0:S===5?!1:f(S)!==f(h)}function f(S){return S===6||S===5?"space":S}function p(S){return S===4||S===5||S===6}},5795:function(Qt,He,c){"use strict";c.d(He,{w:function(){return R}});var E=c(97295),O=c(33181),Q=c(31380),P=c(59410),y=c(50187),X=c(24314);class R{static _createWord(g,D,H,r,T){return{start:r,end:T,wordType:D,nextCharClass:H}}static _findPreviousWordOnLine(g,D,H){let r=D.getLineContent(H.lineNumber);return this._doFindPreviousWordOnLine(r,g,H)}static _doFindPreviousWordOnLine(g,D,H){let r=0;for(let T=H.column-2;T>=0;T--){let w=g.charCodeAt(T),x=D.get(w);if(x===0){if(r===2)return this._createWord(g,r,x,T+1,this._findEndOfWord(g,D,r,T+1));r=1}else if(x===2){if(r===1)return this._createWord(g,r,x,T+1,this._findEndOfWord(g,D,r,T+1));r=2}else if(x===1&&r!==0)return this._createWord(g,r,x,T+1,this._findEndOfWord(g,D,r,T+1))}return r!==0?this._createWord(g,r,1,0,this._findEndOfWord(g,D,r,0)):null}static _findEndOfWord(g,D,H,r){let T=g.length;for(let w=r;w<T;w++){let x=g.charCodeAt(w),f=D.get(x);if(f===1||H===1&&f===2||H===2&&f===0)return w}return T}static _findNextWordOnLine(g,D,H){let r=D.getLineContent(H.lineNumber);return this._doFindNextWordOnLine(r,g,H)}static _doFindNextWordOnLine(g,D,H){let r=0,T=g.length;for(let w=H.column-1;w<T;w++){let x=g.charCodeAt(w),f=D.get(x);if(f===0){if(r===2)return this._createWord(g,r,f,this._findStartOfWord(g,D,r,w-1),w);r=1}else if(f===2){if(r===1)return this._createWord(g,r,f,this._findStartOfWord(g,D,r,w-1),w);r=2}else if(f===1&&r!==0)return this._createWord(g,r,f,this._findStartOfWord(g,D,r,w-1),w)}return r!==0?this._createWord(g,r,1,this._findStartOfWord(g,D,r,T-1),T):null}static _findStartOfWord(g,D,H,r){for(let T=r;T>=0;T--){let w=g.charCodeAt(T),x=D.get(w);if(x===1||H===1&&x===2||H===2&&x===0)return T+1}return 0}static moveWordLeft(g,D,H,r){let T=H.lineNumber,w=H.column;w===1&&T>1&&(T=T-1,w=D.getLineMaxColumn(T));let x=R._findPreviousWordOnLine(g,D,new y.L(T,w));if(r===0)return new y.L(T,x?x.start+1:1);if(r===1)return x&&x.wordType===2&&x.end-x.start===1&&x.nextCharClass===0&&(x=R._findPreviousWordOnLine(g,D,new y.L(T,x.start+1))),new y.L(T,x?x.start+1:1);if(r===3){for(;x&&x.wordType===2;)x=R._findPreviousWordOnLine(g,D,new y.L(T,x.start+1));return new y.L(T,x?x.start+1:1)}return x&&w<=x.end+1&&(x=R._findPreviousWordOnLine(g,D,new y.L(T,x.start+1))),new y.L(T,x?x.end+1:1)}static _moveWordPartLeft(g,D){const H=D.lineNumber,r=g.getLineMaxColumn(H);if(D.column===1)return H>1?new y.L(H-1,g.getLineMaxColumn(H-1)):D;const T=g.getLineContent(H);for(let w=D.column-1;w>1;w--){const x=T.charCodeAt(w-2),f=T.charCodeAt(w-1);if(x===95&&f!==95)return new y.L(H,w);if(E.mK(x)&&E.df(f))return new y.L(H,w);if(E.df(x)&&E.df(f)&&w+1<r){const p=T.charCodeAt(w);if(E.mK(p))return new y.L(H,w)}}return new y.L(H,1)}static moveWordRight(g,D,H,r){let T=H.lineNumber,w=H.column,x=!1;w===D.getLineMaxColumn(T)&&T<D.getLineCount()&&(x=!0,T=T+1,w=1);let f=R._findNextWordOnLine(g,D,new y.L(T,w));if(r===2)f&&f.wordType===2&&f.end-f.start===1&&f.nextCharClass===0&&(f=R._findNextWordOnLine(g,D,new y.L(T,f.end+1))),f?w=f.end+1:w=D.getLineMaxColumn(T);else if(r===3){for(x&&(w=0);f&&(f.wordType===2||f.start+1<=w);)f=R._findNextWordOnLine(g,D,new y.L(T,f.end+1));f?w=f.start+1:w=D.getLineMaxColumn(T)}else f&&!x&&w>=f.start+1&&(f=R._findNextWordOnLine(g,D,new y.L(T,f.end+1))),f?w=f.start+1:w=D.getLineMaxColumn(T);return new y.L(T,w)}static _moveWordPartRight(g,D){const H=D.lineNumber,r=g.getLineMaxColumn(H);if(D.column===r)return H<g.getLineCount()?new y.L(H+1,1):D;const T=g.getLineContent(H);for(let w=D.column+1;w<r;w++){const x=T.charCodeAt(w-2),f=T.charCodeAt(w-1);if(x!==95&&f===95)return new y.L(H,w);if(E.mK(x)&&E.df(f))return new y.L(H,w);if(E.df(x)&&E.df(f)&&w+1<r){const p=T.charCodeAt(w);if(E.mK(p))return new y.L(H,w)}}return new y.L(H,r)}static _deleteWordLeftWhitespace(g,D){const H=g.getLineContent(D.lineNumber),r=D.column-2,T=E.ow(H,r);return T+1<r?new X.e(D.lineNumber,T+2,D.lineNumber,D.column):null}static deleteWordLeft(g,D){const H=g.wordSeparators,r=g.model,T=g.selection,w=g.whitespaceHeuristics;if(!T.isEmpty())return T;if(Q.A.isAutoClosingPairDelete(g.autoClosingDelete,g.autoClosingBrackets,g.autoClosingQuotes,g.autoClosingPairs.autoClosingPairsOpenByEnd,g.model,[g.selection],g.autoClosedCharacters)){const h=g.selection.getPosition();return new X.e(h.lineNumber,h.column-1,h.lineNumber,h.column+1)}const x=new y.L(T.positionLineNumber,T.positionColumn);let f=x.lineNumber,p=x.column;if(f===1&&p===1)return null;if(w){let h=this._deleteWordLeftWhitespace(r,x);if(h)return h}let S=R._findPreviousWordOnLine(H,r,x);return D===0?S?p=S.start+1:p>1?p=1:(f--,p=r.getLineMaxColumn(f)):(S&&p<=S.end+1&&(S=R._findPreviousWordOnLine(H,r,new y.L(f,S.start+1))),S?p=S.end+1:p>1?p=1:(f--,p=r.getLineMaxColumn(f))),new X.e(f,p,x.lineNumber,x.column)}static deleteInsideWord(g,D,H){if(!H.isEmpty())return H;const r=new y.L(H.positionLineNumber,H.positionColumn);let T=this._deleteInsideWordWhitespace(D,r);return T||this._deleteInsideWordDetermineDeleteRange(g,D,r)}static _charAtIsWhitespace(g,D){const H=g.charCodeAt(D);return H===32||H===9}static _deleteInsideWordWhitespace(g,D){const H=g.getLineContent(D.lineNumber),r=H.length;if(r===0)return null;let T=Math.max(D.column-2,0);if(!this._charAtIsWhitespace(H,T))return null;let w=Math.min(D.column-1,r-1);if(!this._charAtIsWhitespace(H,w))return null;for(;T>0&&this._charAtIsWhitespace(H,T-1);)T--;for(;w+1<r&&this._charAtIsWhitespace(H,w+1);)w++;return new X.e(D.lineNumber,T+1,D.lineNumber,w+2)}static _deleteInsideWordDetermineDeleteRange(g,D,H){const r=D.getLineContent(H.lineNumber),T=r.length;if(T===0)return H.lineNumber>1?new X.e(H.lineNumber-1,D.getLineMaxColumn(H.lineNumber-1),H.lineNumber,1):H.lineNumber<D.getLineCount()?new X.e(H.lineNumber,1,H.lineNumber+1,1):new X.e(H.lineNumber,1,H.lineNumber,1);const w=h=>h.start+1<=H.column&&H.column<=h.end+1,x=(h,L)=>(h=Math.min(h,H.column),L=Math.max(L,H.column),new X.e(H.lineNumber,h,H.lineNumber,L)),f=h=>{let L=h.start+1,v=h.end+1,V=!1;for(;v-1<T&&this._charAtIsWhitespace(r,v-1);)V=!0,v++;if(!V)for(;L>1&&this._charAtIsWhitespace(r,L-2);)L--;return x(L,v)},p=R._findPreviousWordOnLine(g,D,H);if(p&&w(p))return f(p);const S=R._findNextWordOnLine(g,D,H);return S&&w(S)?f(S):p&&S?x(p.end+1,S.start+1):p?x(p.start+1,p.end+1):S?x(S.start+1,S.end+1):x(1,T+1)}static _deleteWordPartLeft(g,D){if(!D.isEmpty())return D;const H=D.getPosition(),r=R._moveWordPartLeft(g,H);return new X.e(H.lineNumber,H.column,r.lineNumber,r.column)}static _findFirstNonWhitespaceChar(g,D){let H=g.length;for(let r=D;r<H;r++){let T=g.charAt(r);if(T!==" "&&T!=="	")return r}return H}static _deleteWordRightWhitespace(g,D){const H=g.getLineContent(D.lineNumber),r=D.column-1,T=this._findFirstNonWhitespaceChar(H,r);return r+1<T?new X.e(D.lineNumber,D.column,D.lineNumber,T+1):null}static deleteWordRight(g,D){const H=g.wordSeparators,r=g.model,T=g.selection,w=g.whitespaceHeuristics;if(!T.isEmpty())return T;const x=new y.L(T.positionLineNumber,T.positionColumn);let f=x.lineNumber,p=x.column;const S=r.getLineCount(),h=r.getLineMaxColumn(f);if(f===S&&p===h)return null;if(w){let v=this._deleteWordRightWhitespace(r,x);if(v)return v}let L=R._findNextWordOnLine(H,r,x);return D===2?L?p=L.end+1:p<h||f===S?p=h:(f++,L=R._findNextWordOnLine(H,r,new y.L(f,1)),L?p=L.start+1:p=r.getLineMaxColumn(f)):(L&&p>=L.start+1&&(L=R._findNextWordOnLine(H,r,new y.L(f,L.end+1))),L?p=L.start+1:p<h||f===S?p=h:(f++,L=R._findNextWordOnLine(H,r,new y.L(f,1)),L?p=L.start+1:p=r.getLineMaxColumn(f))),new X.e(f,p,x.lineNumber,x.column)}static _deleteWordPartRight(g,D){if(!D.isEmpty())return D;const H=D.getPosition(),r=R._moveWordPartRight(g,H);return new X.e(H.lineNumber,H.column,r.lineNumber,r.column)}static _createWordAtPosition(g,D,H){const r=new X.e(D,H.start+1,D,H.end+1);return{word:g.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}static getWordAtPosition(g,D,H){const r=(0,P.u)(D),T=R._findPreviousWordOnLine(r,g,H);if(T&&T.wordType===1&&T.start<=H.column-1&&H.column-1<=T.end)return R._createWordAtPosition(g,H.lineNumber,T);const w=R._findNextWordOnLine(r,g,H);return w&&w.wordType===1&&w.start<=H.column-1&&H.column-1<=w.end?R._createWordAtPosition(g,H.lineNumber,w):null}static word(g,D,H,r,T){const w=(0,P.u)(g.wordSeparators);let x=R._findPreviousWordOnLine(w,D,T),f=R._findNextWordOnLine(w,D,T);if(!r){let v,V;return x&&x.wordType===1&&x.start<=T.column-1&&T.column-1<=x.end?(v=x.start+1,V=x.end+1):f&&f.wordType===1&&f.start<=T.column-1&&T.column-1<=f.end?(v=f.start+1,V=f.end+1):(x?v=x.end+1:v=1,f?V=f.start+1:V=D.getLineMaxColumn(T.lineNumber)),new O.rS(new X.e(T.lineNumber,v,T.lineNumber,V),0,new y.L(T.lineNumber,V),0)}let p,S;x&&x.wordType===1&&x.start<T.column-1&&T.column-1<x.end?(p=x.start+1,S=x.end+1):f&&f.wordType===1&&f.start<T.column-1&&T.column-1<f.end?(p=f.start+1,S=f.end+1):(p=T.column,S=T.column);let h=T.lineNumber,L;if(H.selectionStart.containsPosition(T))L=H.selectionStart.endColumn;else if(T.isBeforeOrEqual(H.selectionStart.getStartPosition())){L=p;let v=new y.L(h,L);H.selectionStart.containsPosition(v)&&(L=H.selectionStart.endColumn)}else{L=S;let v=new y.L(h,L);H.selectionStart.containsPosition(v)&&(L=H.selectionStart.startColumn)}return H.move(!0,h,L,0)}}class B extends null{static deleteWordPartLeft(g){const D=s([R.deleteWordLeft(g,0),R.deleteWordLeft(g,2),R._deleteWordPartLeft(g.model,g.selection)]);return D.sort(Range.compareRangesUsingEnds),D[2]}static deleteWordPartRight(g){const D=s([R.deleteWordRight(g,0),R.deleteWordRight(g,2),R._deleteWordPartRight(g.model,g.selection)]);return D.sort(Range.compareRangesUsingStarts),D[0]}static moveWordPartLeft(g,D,H){const r=s([R.moveWordLeft(g,D,H,0),R.moveWordLeft(g,D,H,2),R._moveWordPartLeft(D,H)]);return r.sort(Position.compare),r[2]}static moveWordPartRight(g,D,H){const r=s([R.moveWordRight(g,D,H,0),R.moveWordRight(g,D,H,2),R._moveWordPartRight(D,H)]);return r.sort(Position.compare),r[0]}}function s(N){return N.filter(g=>!!g)}},59410:function(Qt,He,c){"use strict";c.d(He,{u:function(){return P}});var E=c(44906);class O extends E.N{constructor(X){super(0);for(let R=0,B=X.length;R<B;R++)this.set(X.charCodeAt(R),2);this.set(32,1),this.set(9,1)}}function Q(y){let X={};return R=>(X.hasOwnProperty(R)||(X[R]=y(R)),X[R])}const P=Q(y=>new O(y))},44906:function(Qt,He,c){"use strict";c.d(He,{N:function(){return O},q:function(){return Q}});var E=c(85427);class O{constructor(y){let X=(0,E.K)(y);this._defaultValue=X,this._asciiMap=O._createAsciiMap(X),this._map=new Map}static _createAsciiMap(y){let X=new Uint8Array(256);for(let R=0;R<256;R++)X[R]=y;return X}set(y,X){let R=(0,E.K)(X);y>=0&&y<256?this._asciiMap[y]=R:this._map.set(y,R)}get(y){return y>=0&&y<256?this._asciiMap[y]:this._map.get(y)||this._defaultValue}}class Q{constructor(){this._actual=new O(0)}add(y){this._actual.set(y,1)}has(y){return this._actual.get(y)===1}}},69386:function(Qt,He,c){"use strict";c.d(He,{h:function(){return O}});var E=c(24314);class O{static insert(P,y){return{range:new E.e(P.lineNumber,P.column,P.lineNumber,P.column),text:y,forceMoveMarkers:!0}}static delete(P){return{range:P,text:null}}static replace(P,y){return{range:P,text:y}}static replaceMove(P,y){return{range:P,text:y,forceMoveMarkers:!0}}}},78411:function(Qt,He,c){"use strict";c.d(He,{A:function(){return O}});var E=c(10351);class O{constructor(y,X,R){this._lineTokensBrand=void 0,this._tokens=y,this._tokensCount=this._tokens.length>>>1,this._text=X,this._languageIdCodec=R}static createEmpty(y,X){const R=O.defaultTokenMetadata,B=new Uint32Array(2);return B[0]=y.length,B[1]=R,new O(B,y,X)}equals(y){return y instanceof O?this.slicedEquals(y,0,this._tokensCount):!1}slicedEquals(y,X,R){if(this._text!==y._text||this._tokensCount!==y._tokensCount)return!1;const B=X<<1,s=B+(R<<1);for(let N=B;N<s;N++)if(this._tokens[N]!==y._tokens[N])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(y){return y>0?this._tokens[y-1<<1]:0}getMetadata(y){return this._tokens[(y<<1)+1]}getLanguageId(y){const X=this._tokens[(y<<1)+1],R=E.NX.getLanguageId(X);return this._languageIdCodec.decodeLanguageId(R)}getStandardTokenType(y){const X=this._tokens[(y<<1)+1];return E.NX.getTokenType(X)}getForeground(y){const X=this._tokens[(y<<1)+1];return E.NX.getForeground(X)}getClassName(y){const X=this._tokens[(y<<1)+1];return E.NX.getClassNameFromMetadata(X)}getInlineStyle(y,X){const R=this._tokens[(y<<1)+1];return E.NX.getInlineStyleFromMetadata(R,X)}getEndOffset(y){return this._tokens[y<<1]}findTokenIndexAtOffset(y){return O.findIndexInTokensArray(this._tokens,y)}inflate(){return this}sliceAndInflate(y,X,R){return new Q(this,y,X,R)}static convertToEndOffset(y,X){const B=(y.length>>>1)-1;for(let s=0;s<B;s++)y[s<<1]=y[s+1<<1];y[B<<1]=X}static findIndexInTokensArray(y,X){if(y.length<=2)return 0;let R=0,B=(y.length>>>1)-1;for(;R<B;){const s=R+Math.floor((B-R)/2),N=y[s<<1];if(N===X)return s+1;N<X?R=s+1:N>X&&(B=s)}return R}withInserted(y){if(y.length===0)return this;let X=0,R=0,B="";const s=new Array;let N=0;for(;;){let g=X<this._tokensCount?this._tokens[X<<1]:-1,D=R<y.length?y[R]:null;if(g!==-1&&(D===null||g<=D.offset)){B+=this._text.substring(N,g);const H=this._tokens[(X<<1)+1];s.push(B.length,H),X++,N=g}else if(D){if(D.offset>N){B+=this._text.substring(N,D.offset);const H=this._tokens[(X<<1)+1];s.push(B.length,H),N=D.offset}B+=D.text,s.push(B.length,D.tokenMetadata),R++}else break}return new O(new Uint32Array(s),B,this._languageIdCodec)}}O.defaultTokenMetadata=(16384|2<<23)>>>0;class Q{constructor(y,X,R,B){this._source=y,this._startOffset=X,this._endOffset=R,this._deltaOffset=B,this._firstTokenIndex=y.findTokenIndexAtOffset(X),this._tokensCount=0;for(let s=this._firstTokenIndex,N=y.getCount();s<N&&!(y.getStartOffset(s)>=R);s++)this._tokensCount++}equals(y){return y instanceof Q?this._startOffset===y._startOffset&&this._endOffset===y._endOffset&&this._deltaOffset===y._deltaOffset&&this._source.slicedEquals(y._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(y){return this._source.getForeground(this._firstTokenIndex+y)}getEndOffset(y){const X=this._source.getEndOffset(this._firstTokenIndex+y);return Math.min(this._endOffset,X)-this._startOffset+this._deltaOffset}getClassName(y){return this._source.getClassName(this._firstTokenIndex+y)}getInlineStyle(y,X){return this._source.getInlineStyle(this._firstTokenIndex+y,X)}findTokenIndexAtOffset(y){return this._source.findTokenIndexAtOffset(y+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},50187:function(Qt,He,c){"use strict";c.d(He,{L:function(){return E}});class E{constructor(Q,P){this.lineNumber=Q,this.column=P}with(Q=this.lineNumber,P=this.column){return Q===this.lineNumber&&P===this.column?this:new E(Q,P)}delta(Q=0,P=0){return this.with(this.lineNumber+Q,this.column+P)}equals(Q){return E.equals(this,Q)}static equals(Q,P){return!Q&&!P?!0:!!Q&&!!P&&Q.lineNumber===P.lineNumber&&Q.column===P.column}isBefore(Q){return E.isBefore(this,Q)}static isBefore(Q,P){return Q.lineNumber<P.lineNumber?!0:P.lineNumber<Q.lineNumber?!1:Q.column<P.column}isBeforeOrEqual(Q){return E.isBeforeOrEqual(this,Q)}static isBeforeOrEqual(Q,P){return Q.lineNumber<P.lineNumber?!0:P.lineNumber<Q.lineNumber?!1:Q.column<=P.column}static compare(Q,P){let y=Q.lineNumber|0,X=P.lineNumber|0;if(y===X){let R=Q.column|0,B=P.column|0;return R-B}return y-X}clone(){return new E(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(Q){return new E(Q.lineNumber,Q.column)}static isIPosition(Q){return Q&&typeof Q.lineNumber=="number"&&typeof Q.column=="number"}}},24314:function(Qt,He,c){"use strict";c.d(He,{e:function(){return O}});var E=c(50187);class O{constructor(P,y,X,R){P>X||P===X&&y>R?(this.startLineNumber=X,this.startColumn=R,this.endLineNumber=P,this.endColumn=y):(this.startLineNumber=P,this.startColumn=y,this.endLineNumber=X,this.endColumn=R)}isEmpty(){return O.isEmpty(this)}static isEmpty(P){return P.startLineNumber===P.endLineNumber&&P.startColumn===P.endColumn}containsPosition(P){return O.containsPosition(this,P)}static containsPosition(P,y){return!(y.lineNumber<P.startLineNumber||y.lineNumber>P.endLineNumber||y.lineNumber===P.startLineNumber&&y.column<P.startColumn||y.lineNumber===P.endLineNumber&&y.column>P.endColumn)}containsRange(P){return O.containsRange(this,P)}static containsRange(P,y){return!(y.startLineNumber<P.startLineNumber||y.endLineNumber<P.startLineNumber||y.startLineNumber>P.endLineNumber||y.endLineNumber>P.endLineNumber||y.startLineNumber===P.startLineNumber&&y.startColumn<P.startColumn||y.endLineNumber===P.endLineNumber&&y.endColumn>P.endColumn)}strictContainsRange(P){return O.strictContainsRange(this,P)}static strictContainsRange(P,y){return!(y.startLineNumber<P.startLineNumber||y.endLineNumber<P.startLineNumber||y.startLineNumber>P.endLineNumber||y.endLineNumber>P.endLineNumber||y.startLineNumber===P.startLineNumber&&y.startColumn<=P.startColumn||y.endLineNumber===P.endLineNumber&&y.endColumn>=P.endColumn)}plusRange(P){return O.plusRange(this,P)}static plusRange(P,y){let X,R,B,s;return y.startLineNumber<P.startLineNumber?(X=y.startLineNumber,R=y.startColumn):y.startLineNumber===P.startLineNumber?(X=y.startLineNumber,R=Math.min(y.startColumn,P.startColumn)):(X=P.startLineNumber,R=P.startColumn),y.endLineNumber>P.endLineNumber?(B=y.endLineNumber,s=y.endColumn):y.endLineNumber===P.endLineNumber?(B=y.endLineNumber,s=Math.max(y.endColumn,P.endColumn)):(B=P.endLineNumber,s=P.endColumn),new O(X,R,B,s)}intersectRanges(P){return O.intersectRanges(this,P)}static intersectRanges(P,y){let X=P.startLineNumber,R=P.startColumn,B=P.endLineNumber,s=P.endColumn,N=y.startLineNumber,g=y.startColumn,D=y.endLineNumber,H=y.endColumn;return X<N?(X=N,R=g):X===N&&(R=Math.max(R,g)),B>D?(B=D,s=H):B===D&&(s=Math.min(s,H)),X>B||X===B&&R>s?null:new O(X,R,B,s)}equalsRange(P){return O.equalsRange(this,P)}static equalsRange(P,y){return!!P&&!!y&&P.startLineNumber===y.startLineNumber&&P.startColumn===y.startColumn&&P.endLineNumber===y.endLineNumber&&P.endColumn===y.endColumn}getEndPosition(){return O.getEndPosition(this)}static getEndPosition(P){return new E.L(P.endLineNumber,P.endColumn)}getStartPosition(){return O.getStartPosition(this)}static getStartPosition(P){return new E.L(P.startLineNumber,P.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(P,y){return new O(this.startLineNumber,this.startColumn,P,y)}setStartPosition(P,y){return new O(P,y,this.endLineNumber,this.endColumn)}collapseToStart(){return O.collapseToStart(this)}static collapseToStart(P){return new O(P.startLineNumber,P.startColumn,P.startLineNumber,P.startColumn)}static fromPositions(P,y=P){return new O(P.lineNumber,P.column,y.lineNumber,y.column)}static lift(P){return P?new O(P.startLineNumber,P.startColumn,P.endLineNumber,P.endColumn):null}static isIRange(P){return P&&typeof P.startLineNumber=="number"&&typeof P.startColumn=="number"&&typeof P.endLineNumber=="number"&&typeof P.endColumn=="number"}static areIntersectingOrTouching(P,y){return!(P.endLineNumber<y.startLineNumber||P.endLineNumber===y.startLineNumber&&P.endColumn<y.startColumn||y.endLineNumber<P.startLineNumber||y.endLineNumber===P.startLineNumber&&y.endColumn<P.startColumn)}static areIntersecting(P,y){return!(P.endLineNumber<y.startLineNumber||P.endLineNumber===y.startLineNumber&&P.endColumn<=y.startColumn||y.endLineNumber<P.startLineNumber||y.endLineNumber===P.startLineNumber&&y.endColumn<=P.startColumn)}static compareRangesUsingStarts(P,y){if(P&&y){const B=P.startLineNumber|0,s=y.startLineNumber|0;if(B===s){const N=P.startColumn|0,g=y.startColumn|0;if(N===g){const D=P.endLineNumber|0,H=y.endLineNumber|0;if(D===H){const r=P.endColumn|0,T=y.endColumn|0;return r-T}return D-H}return N-g}return B-s}return(P?1:0)-(y?1:0)}static compareRangesUsingEnds(P,y){return P.endLineNumber===y.endLineNumber?P.endColumn===y.endColumn?P.startLineNumber===y.startLineNumber?P.startColumn-y.startColumn:P.startLineNumber-y.startLineNumber:P.endColumn-y.endColumn:P.endLineNumber-y.endLineNumber}static spansMultipleLines(P){return P.endLineNumber>P.startLineNumber}}},3860:function(Qt,He,c){"use strict";c.d(He,{Y:function(){return Q}});var E=c(50187),O=c(24314);class Q extends O.e{constructor(y,X,R,B){super(y,X,R,B),this.selectionStartLineNumber=y,this.selectionStartColumn=X,this.positionLineNumber=R,this.positionColumn=B}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(y){return Q.selectionsEqual(this,y)}static selectionsEqual(y,X){return y.selectionStartLineNumber===X.selectionStartLineNumber&&y.selectionStartColumn===X.selectionStartColumn&&y.positionLineNumber===X.positionLineNumber&&y.positionColumn===X.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(y,X){return this.getDirection()===0?new Q(this.startLineNumber,this.startColumn,y,X):new Q(y,X,this.startLineNumber,this.startColumn)}getPosition(){return new E.L(this.positionLineNumber,this.positionColumn)}setStartPosition(y,X){return this.getDirection()===0?new Q(y,X,this.endLineNumber,this.endColumn):new Q(this.endLineNumber,this.endColumn,y,X)}static fromPositions(y,X=y){return new Q(y.lineNumber,y.column,X.lineNumber,X.column)}static liftSelection(y){return new Q(y.selectionStartLineNumber,y.selectionStartColumn,y.positionLineNumber,y.positionColumn)}static selectionsArrEqual(y,X){if(y&&!X||!y&&X)return!1;if(!y&&!X)return!0;if(y.length!==X.length)return!1;for(let R=0,B=y.length;R<B;R++)if(!this.selectionsEqual(y[R],X[R]))return!1;return!0}static isISelection(y){return y&&typeof y.selectionStartLineNumber=="number"&&typeof y.selectionStartColumn=="number"&&typeof y.positionLineNumber=="number"&&typeof y.positionColumn=="number"}static createWithDirection(y,X,R,B,s){return s===0?new Q(y,X,R,B):new Q(R,B,y,X)}}},50072:function(Qt,He,c){"use strict";c.d(He,{kH:function(){return D},l$:function(){return g},lZ:function(){return N},oe:function(){return s}});var E=c(97295),O=c(1432),Q=c(53060);let P;function y(){return P||(P=new TextDecoder("UTF-16LE")),P}let X;function R(){return X||(X=new TextDecoder("UTF-16BE")),X}let B;function s(){return B||(B=O.r()?y():R()),B}const N=typeof TextDecoder!="undefined";let g,D;N?(g=x=>new T(x),D=H):(g=x=>new w,D=r);function H(x,f,p){const S=new Uint16Array(x.buffer,f,p);return p>0&&(S[0]===65279||S[0]===65534)?r(x,f,p):y().decode(S)}function r(x,f,p){let S=[],h=0;for(let L=0;L<p;L++){const v=Q.mP(x,f);f+=2,S[h++]=String.fromCharCode(v)}return S.join("")}class T{constructor(f){this._capacity=f|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const f=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return s().decode(f)}_flushBuffer(){const f=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[f]:this._completedStrings[this._completedStrings.length]=f}write1(f){const p=this._capacity-this._bufferLength;p<=1&&(p===0||E.ZG(f))&&this._flushBuffer(),this._buffer[this._bufferLength++]=f}appendASCII(f){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=f}appendASCIIString(f){const p=f.length;if(this._bufferLength+p>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=f;return}for(let S=0;S<p;S++)this._buffer[this._bufferLength++]=f.charCodeAt(S)}}class w{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(f){this._pieces[this._piecesLen++]=String.fromCharCode(f)}appendASCII(f){this._pieces[this._piecesLen++]=String.fromCharCode(f)}appendASCIIString(f){this._pieces[this._piecesLen++]=f}}},85600:function(Qt,He,c){"use strict";c.d(He,{Hi:function(){return Q},WU:function(){return E},hG:function(){return O}});class E{constructor(y,X,R){this._tokenBrand=void 0,this.offset=y|0,this.type=X,this.language=R}toString(){return"("+this.offset+", "+this.type+")"}}class O{constructor(y,X){this._tokenizationResultBrand=void 0,this.tokens=y,this.endState=X}}class Q{constructor(y,X){this._tokenizationResult2Brand=void 0,this.tokens=y,this.endState=X}}},30653:function(Qt,He,c){"use strict";c.d(He,{p:function(){return E}});class E{constructor(Q,P,y,X,R,B){this.id=Q,this.label=P,this.alias=y,this._precondition=X,this._run=R,this._contextKeyService=B}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},96518:function(Qt,He,c){"use strict";c.d(He,{I:function(){return E},g:function(){return O}});function E(Q){return Q&&typeof Q.id=="string"}const O={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},29102:function(Qt,He,c){"use strict";c.d(He,{u:function(){return Q}});var E=c(63580),O=c(38819),Q;(function(P){P.editorSimpleInput=new O.uy("editorSimpleInput",!1,!0),P.editorTextFocus=new O.uy("editorTextFocus",!1,E.N("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),P.focus=new O.uy("editorFocus",!1,E.N("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),P.textInputFocus=new O.uy("textInputFocus",!1,E.N("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),P.readOnly=new O.uy("editorReadonly",!1,E.N("editorReadonly","Whether the editor is read only")),P.inDiffEditor=new O.uy("inDiffEditor",!1,E.N("inDiffEditor","Whether the context is a diff editor")),P.columnSelection=new O.uy("editorColumnSelection",!1,E.N("editorColumnSelection","Whether `editor.columnSelection` is enabled")),P.writable=P.readOnly.toNegated(),P.hasNonEmptySelection=new O.uy("editorHasSelection",!1,E.N("editorHasSelection","Whether the editor has text selected")),P.hasOnlyEmptySelection=P.hasNonEmptySelection.toNegated(),P.hasMultipleSelections=new O.uy("editorHasMultipleSelections",!1,E.N("editorHasMultipleSelections","Whether the editor has multiple selections")),P.hasSingleSelection=P.hasMultipleSelections.toNegated(),P.tabMovesFocus=new O.uy("editorTabMovesFocus",!1,E.N("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),P.tabDoesNotMoveFocus=P.tabMovesFocus.toNegated(),P.isInWalkThroughSnippet=new O.uy("isInEmbeddedEditor",!1,!0),P.canUndo=new O.uy("canUndo",!1,!0),P.canRedo=new O.uy("canRedo",!1,!0),P.hoverVisible=new O.uy("editorHoverVisible",!1,E.N("editorHoverVisible","Whether the editor hover is visible")),P.inCompositeEditor=new O.uy("inCompositeEditor",void 0,E.N("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),P.notInCompositeEditor=P.inCompositeEditor.toNegated(),P.languageId=new O.uy("editorLangId","",E.N("editorLangId","The language identifier of the editor")),P.hasCompletionItemProvider=new O.uy("editorHasCompletionItemProvider",!1,E.N("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),P.hasCodeActionsProvider=new O.uy("editorHasCodeActionsProvider",!1,E.N("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),P.hasCodeLensProvider=new O.uy("editorHasCodeLensProvider",!1,E.N("editorHasCodeLensProvider","Whether the editor has a code lens provider")),P.hasDefinitionProvider=new O.uy("editorHasDefinitionProvider",!1,E.N("editorHasDefinitionProvider","Whether the editor has a definition provider")),P.hasDeclarationProvider=new O.uy("editorHasDeclarationProvider",!1,E.N("editorHasDeclarationProvider","Whether the editor has a declaration provider")),P.hasImplementationProvider=new O.uy("editorHasImplementationProvider",!1,E.N("editorHasImplementationProvider","Whether the editor has an implementation provider")),P.hasTypeDefinitionProvider=new O.uy("editorHasTypeDefinitionProvider",!1,E.N("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),P.hasHoverProvider=new O.uy("editorHasHoverProvider",!1,E.N("editorHasHoverProvider","Whether the editor has a hover provider")),P.hasDocumentHighlightProvider=new O.uy("editorHasDocumentHighlightProvider",!1,E.N("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),P.hasDocumentSymbolProvider=new O.uy("editorHasDocumentSymbolProvider",!1,E.N("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),P.hasReferenceProvider=new O.uy("editorHasReferenceProvider",!1,E.N("editorHasReferenceProvider","Whether the editor has a reference provider")),P.hasRenameProvider=new O.uy("editorHasRenameProvider",!1,E.N("editorHasRenameProvider","Whether the editor has a rename provider")),P.hasSignatureHelpProvider=new O.uy("editorHasSignatureHelpProvider",!1,E.N("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),P.hasInlayHintsProvider=new O.uy("editorHasInlayHintsProvider",!1,E.N("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),P.hasDocumentFormattingProvider=new O.uy("editorHasDocumentFormattingProvider",!1,E.N("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),P.hasDocumentSelectionFormattingProvider=new O.uy("editorHasDocumentSelectionFormattingProvider",!1,E.N("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),P.hasMultipleDocumentFormattingProvider=new O.uy("editorHasMultipleDocumentFormattingProvider",!1,E.N("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),P.hasMultipleDocumentSelectionFormattingProvider=new O.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,E.N("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(Q||(Q={}))},84973:function(Qt,He,c){"use strict";c.d(He,{F5:function(){return Q},Qi:function(){return s},UO:function(){return R},dJ:function(){return P},je:function(){return N},s6:function(){return X},sh:function(){return O},tk:function(){return y},vW:function(){return B}});var E=c(36248),O;(function(g){g[g.Left=1]="Left",g[g.Center=2]="Center",g[g.Right=4]="Right",g[g.Full=7]="Full"})(O||(O={}));var Q;(function(g){g[g.Inline=1]="Inline",g[g.Gutter=2]="Gutter"})(Q||(Q={}));class P{constructor(D){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,D.tabSize|0),this.indentSize=D.tabSize|0,this.insertSpaces=!!D.insertSpaces,this.defaultEOL=D.defaultEOL|0,this.trimAutoWhitespace=!!D.trimAutoWhitespace,this.bracketPairColorizationOptions=D.bracketPairColorizationOptions}equals(D){return this.tabSize===D.tabSize&&this.indentSize===D.indentSize&&this.insertSpaces===D.insertSpaces&&this.defaultEOL===D.defaultEOL&&this.trimAutoWhitespace===D.trimAutoWhitespace&&(0,E.fS)(this.bracketPairColorizationOptions,D.bracketPairColorizationOptions)}createChangeEvent(D){return{tabSize:this.tabSize!==D.tabSize,indentSize:this.indentSize!==D.indentSize,insertSpaces:this.insertSpaces!==D.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==D.trimAutoWhitespace}}}class y{constructor(D,H){this._findMatchBrand=void 0,this.range=D,this.matches=H}}var X;(function(g){g[g.Disabled=0]="Disabled",g[g.EnabledForActive=1]="EnabledForActive",g[g.Enabled=2]="Enabled"})(X||(X={}));class R{constructor(D,H,r){this.visibleColumn=D,this.className=H,this.horizontalLine=r}}class B{constructor(D,H){this.top=D,this.endColumn=H}}class s{constructor(D,H,r,T,w,x){this.identifier=D,this.range=H,this.text=r,this.forceMoveMarkers=T,this.isAutoWhitespaceEdit=w,this._isTracked=x}}class N{constructor(D,H,r){this.reverseEdits=D,this.changes=H,this.trimAutoWhitespaceLineNumbers=r}}},95215:function(Qt,He,c){"use strict";c.d(He,{NL:function(){return r},e9:function(){return H}});var E=c(63580),O=c(17301),Q=c(3860),P=c(70666),y=c(60962),X=c(53060),R=c(95935);function B(T){return T.toString()}class s{constructor(w,x,f,p,S,h,L){this.beforeVersionId=w,this.afterVersionId=x,this.beforeEOL=f,this.afterEOL=p,this.beforeCursorState=S,this.afterCursorState=h,this.changes=L}static create(w,x){const f=w.getAlternativeVersionId(),p=D(w);return new s(f,f,p,p,x,x,[])}append(w,x,f,p,S){x.length>0&&(this.changes=(0,y.b)(this.changes,x)),this.afterEOL=f,this.afterVersionId=p,this.afterCursorState=S}static _writeSelectionsSize(w){return 4+4*4*(w?w.length:0)}static _writeSelections(w,x,f){if(X.T4(w,x?x.length:0,f),f+=4,x)for(const p of x)X.T4(w,p.selectionStartLineNumber,f),f+=4,X.T4(w,p.selectionStartColumn,f),f+=4,X.T4(w,p.positionLineNumber,f),f+=4,X.T4(w,p.positionColumn,f),f+=4;return f}static _readSelections(w,x,f){const p=X.Ag(w,x);x+=4;for(let S=0;S<p;S++){const h=X.Ag(w,x);x+=4;const L=X.Ag(w,x);x+=4;const v=X.Ag(w,x);x+=4;const V=X.Ag(w,x);x+=4,f.push(new Q.Y(h,L,v,V))}return x}serialize(){let w=10+s._writeSelectionsSize(this.beforeCursorState)+s._writeSelectionsSize(this.afterCursorState)+4;for(const p of this.changes)w+=p.writeSize();const x=new Uint8Array(w);let f=0;X.T4(x,this.beforeVersionId,f),f+=4,X.T4(x,this.afterVersionId,f),f+=4,X.Cg(x,this.beforeEOL,f),f+=1,X.Cg(x,this.afterEOL,f),f+=1,f=s._writeSelections(x,this.beforeCursorState,f),f=s._writeSelections(x,this.afterCursorState,f),X.T4(x,this.changes.length,f),f+=4;for(const p of this.changes)f=p.write(x,f);return x.buffer}static deserialize(w){const x=new Uint8Array(w);let f=0;const p=X.Ag(x,f);f+=4;const S=X.Ag(x,f);f+=4;const h=X.Q$(x,f);f+=1;const L=X.Q$(x,f);f+=1;const v=[];f=s._readSelections(x,f,v);const V=[];f=s._readSelections(x,f,V);const $=X.Ag(x,f);f+=4;const ee=[];for(let de=0;de<$;de++)f=y.q.read(x,f,ee);return new s(p,S,h,L,v,V,ee)}}class N{constructor(w,x){this.model=w,this._data=s.create(w,x)}get type(){return 0}get resource(){return P.o.isUri(this.model)?this.model:this.model.uri}get label(){return E.N("edit","Typing")}toString(){return(this._data instanceof s?this._data:s.deserialize(this._data)).changes.map(x=>x.toString()).join(", ")}matchesResource(w){return(P.o.isUri(this.model)?this.model:this.model.uri).toString()===w.toString()}setModel(w){this.model=w}canAppend(w){return this.model===w&&this._data instanceof s}append(w,x,f,p,S){this._data instanceof s&&this._data.append(w,x,f,p,S)}close(){this._data instanceof s&&(this._data=this._data.serialize())}open(){this._data instanceof s||(this._data=s.deserialize(this._data))}undo(){if(P.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof s&&(this._data=this._data.serialize());const w=s.deserialize(this._data);this.model._applyUndo(w.changes,w.beforeEOL,w.beforeVersionId,w.beforeCursorState)}redo(){if(P.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof s&&(this._data=this._data.serialize());const w=s.deserialize(this._data);this.model._applyRedo(w.changes,w.afterEOL,w.afterVersionId,w.afterCursorState)}heapSize(){return this._data instanceof s&&(this._data=this._data.serialize()),this._data.byteLength+168}}class g{constructor(w,x){this.type=1,this.label=w,this._isOpen=!0,this._editStackElementsArr=x.slice(0),this._editStackElementsMap=new Map;for(const f of this._editStackElementsArr){const p=B(f.resource);this._editStackElementsMap.set(p,f)}this._delegate=null}get resources(){return this._editStackElementsArr.map(w=>w.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(w){const x=B(w);return this._editStackElementsMap.has(x)}setModel(w){const x=B(P.o.isUri(w)?w:w.uri);this._editStackElementsMap.has(x)&&this._editStackElementsMap.get(x).setModel(w)}canAppend(w){if(!this._isOpen)return!1;const x=B(w.uri);return this._editStackElementsMap.has(x)?this._editStackElementsMap.get(x).canAppend(w):!1}append(w,x,f,p,S){const h=B(w.uri);this._editStackElementsMap.get(h).append(w,x,f,p,S)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const w of this._editStackElementsArr)w.undo()}redo(){for(const w of this._editStackElementsArr)w.redo()}heapSize(w){const x=B(w);return this._editStackElementsMap.has(x)?this._editStackElementsMap.get(x).heapSize():0}split(){return this._editStackElementsArr}toString(){let w=[];for(const x of this._editStackElementsArr)w.push(`${(0,R.EZ)(x.resource)}: ${x}`);return`{${w.join(", ")}}`}}function D(T){return T.getEOL()===`
`?0:1}function H(T){return T?T instanceof N||T instanceof g:!1}class r{constructor(w,x){this._model=w,this._undoRedoService=x}pushStackElement(){const w=this._undoRedoService.getLastElement(this._model.uri);H(w)&&w.close()}popStackElement(){const w=this._undoRedoService.getLastElement(this._model.uri);H(w)&&w.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(w){const x=this._undoRedoService.getLastElement(this._model.uri);if(H(x)&&x.canAppend(this._model))return x;const f=new N(this._model,w);return this._undoRedoService.pushElement(f),f}pushEOL(w){const x=this._getOrCreateEditStackElement(null);this._model.setEOL(w),x.append(this._model,[],D(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(w,x,f){const p=this._getOrCreateEditStackElement(w),S=this._model.applyEdits(x,!0),h=r._computeCursorState(f,S),L=S.map((v,V)=>({index:V,textChange:v.textChange}));return L.sort((v,V)=>v.textChange.oldPosition===V.textChange.oldPosition?v.index-V.index:v.textChange.oldPosition-V.textChange.oldPosition),p.append(this._model,L.map(v=>v.textChange),D(this._model),this._model.getAlternativeVersionId(),h),h}static _computeCursorState(w,x){try{return w?w(x):null}catch(f){return(0,O.dL)(f),null}}}},60962:function(Qt,He,c){"use strict";c.d(He,{b:function(){return y},q:function(){return P}});var E=c(53060),O=c(50072);function Q(R){return R.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class P{constructor(B,s,N,g){this.oldPosition=B,this.oldText=s,this.newPosition=N,this.newText=g}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${Q(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${Q(this.oldText)}")`:`(replace@${this.oldPosition} "${Q(this.oldText)}" with "${Q(this.newText)}")`}static _writeStringSize(B){return 4+2*B.length}static _writeString(B,s,N){const g=s.length;E.T4(B,g,N),N+=4;for(let D=0;D<g;D++)E.oq(B,s.charCodeAt(D),N),N+=2;return N}static _readString(B,s){const N=E.Ag(B,s);return s+=4,(0,O.kH)(B,s,N)}writeSize(){return 8+P._writeStringSize(this.oldText)+P._writeStringSize(this.newText)}write(B,s){return E.T4(B,this.oldPosition,s),s+=4,E.T4(B,this.newPosition,s),s+=4,s=P._writeString(B,this.oldText,s),s=P._writeString(B,this.newText,s),s}static read(B,s,N){const g=E.Ag(B,s);s+=4;const D=E.Ag(B,s);s+=4;const H=P._readString(B,s);s+=P._writeStringSize(H);const r=P._readString(B,s);return s+=P._writeStringSize(r),N.push(new P(g,H,D,r)),s}}function y(R,B){return R===null||R.length===0?B:new X(R,B).compress()}class X{constructor(B,s){this._prevEdits=B,this._currEdits=s,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let B=0,s=0,N=this._getPrev(B),g=this._getCurr(s);for(;B<this._prevLen||s<this._currLen;){if(N===null){this._acceptCurr(g),g=this._getCurr(++s);continue}if(g===null){this._acceptPrev(N),N=this._getPrev(++B);continue}if(g.oldEnd<=N.newPosition){this._acceptCurr(g),g=this._getCurr(++s);continue}if(N.newEnd<=g.oldPosition){this._acceptPrev(N),N=this._getPrev(++B);continue}if(g.oldPosition<N.newPosition){const[w,x]=X._splitCurr(g,N.newPosition-g.oldPosition);this._acceptCurr(w),g=x;continue}if(N.newPosition<g.oldPosition){const[w,x]=X._splitPrev(N,g.oldPosition-N.newPosition);this._acceptPrev(w),N=x;continue}let r,T;if(g.oldEnd===N.newEnd)r=N,T=g,N=this._getPrev(++B),g=this._getCurr(++s);else if(g.oldEnd<N.newEnd){const[w,x]=X._splitPrev(N,g.oldLength);r=w,T=g,N=x,g=this._getCurr(++s)}else{const[w,x]=X._splitCurr(g,N.newLength);r=N,T=w,N=this._getPrev(++B),g=x}this._result[this._resultLen++]=new P(r.oldPosition,r.oldText,T.newPosition,T.newText),this._prevDeltaOffset+=r.newLength-r.oldLength,this._currDeltaOffset+=T.newLength-T.oldLength}const D=X._merge(this._result);return X._removeNoOps(D)}_acceptCurr(B){this._result[this._resultLen++]=X._rebaseCurr(this._prevDeltaOffset,B),this._currDeltaOffset+=B.newLength-B.oldLength}_getCurr(B){return B<this._currLen?this._currEdits[B]:null}_acceptPrev(B){this._result[this._resultLen++]=X._rebasePrev(this._currDeltaOffset,B),this._prevDeltaOffset+=B.newLength-B.oldLength}_getPrev(B){return B<this._prevLen?this._prevEdits[B]:null}static _rebaseCurr(B,s){return new P(s.oldPosition-B,s.oldText,s.newPosition,s.newText)}static _rebasePrev(B,s){return new P(s.oldPosition,s.oldText,s.newPosition+B,s.newText)}static _splitPrev(B,s){const N=B.newText.substr(0,s),g=B.newText.substr(s);return[new P(B.oldPosition,B.oldText,B.newPosition,N),new P(B.oldEnd,"",B.newPosition+s,g)]}static _splitCurr(B,s){const N=B.oldText.substr(0,s),g=B.oldText.substr(s);return[new P(B.oldPosition,N,B.newPosition,B.newText),new P(B.oldPosition+s,g,B.newEnd,"")]}static _merge(B){if(B.length===0)return B;let s=[],N=0,g=B[0];for(let D=1;D<B.length;D++){const H=B[D];g.oldEnd===H.oldPosition?g=new P(g.oldPosition,g.oldText+H.oldText,g.newPosition,g.newText+H.newText):(s[N++]=g,g=H)}return s[N++]=g,s}static _removeNoOps(B){if(B.length===0)return B;let s=[],N=0;for(let g=0;g<B.length;g++){const D=B[g];D.oldText!==D.newText&&(s[N++]=D)}return s}}},24979:function(Qt,He,c){"use strict";c.d(He,{WE:function(){return oi},qx:function(){return vi},yO:function(){return vt}});var E=c(17301),O=c(4669),Q=c(5976),P=c(97295),y=c(70666),X=c(64141),R=c(50187),B=c(24314),s=c(3860),N=c(84973),g=c(95215);class D{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function H(Be,d,M,U,oe){oe.spacesDiff=0,oe.looksLikeAlignment=!1;let he;for(he=0;he<d&&he<U;he++){let Gt=Be.charCodeAt(he),li=M.charCodeAt(he);if(Gt!==li)break}let Le=0,We=0;for(let Gt=he;Gt<d;Gt++)Be.charCodeAt(Gt)===32?Le++:We++;let lt=0,Pt=0;for(let Gt=he;Gt<U;Gt++)M.charCodeAt(Gt)===32?lt++:Pt++;if(Le>0&&We>0||lt>0&&Pt>0)return;let St=Math.abs(We-Pt),Rt=Math.abs(Le-lt);if(St===0){oe.spacesDiff=Rt,Rt>0&&0<=lt-1&&lt-1<Be.length&&lt<M.length&&M.charCodeAt(lt)!==32&&Be.charCodeAt(lt-1)===32&&Be.charCodeAt(Be.length-1)===44&&(oe.looksLikeAlignment=!0);return}if(Rt%St===0){oe.spacesDiff=Rt/St;return}}function r(Be,d,M){const U=Math.min(Be.getLineCount(),1e4);let oe=0,he=0,Le="",We=0;const lt=[2,4,6,8,3,5,7],Pt=8;let St=[0,0,0,0,0,0,0,0,0],Rt=new D;for(let ae=1;ae<=U;ae++){let we=Be.getLineLength(ae),dt=Be.getLineContent(ae);const pt=we<=65536;let rt=!1,Ut=0,ni=0,zt=0;for(let Ci=0,Ei=we;Ci<Ei;Ci++){let wi=pt?dt.charCodeAt(Ci):Be.getLineCharCode(ae,Ci);if(wi===9)zt++;else if(wi===32)ni++;else{rt=!0,Ut=Ci;break}}if(!rt||(zt>0?oe++:ni>1&&he++,H(Le,We,dt,Ut,Rt),Rt.looksLikeAlignment&&!(M&&d===Rt.spacesDiff)))continue;let Ri=Rt.spacesDiff;Ri<=Pt&&St[Ri]++,Le=dt,We=Ut}let Gt=M;oe!==he&&(Gt=oe<he);let li=d;if(Gt){let ae=Gt?0:.1*U;lt.forEach(we=>{let dt=St[we];dt>ae&&(ae=dt,li=we)}),li===4&&St[4]>0&&St[2]>0&&St[2]>=St[4]/2&&(li=2)}return{insertSpaces:Gt,tabSize:li}}function T(Be){return(Be.metadata&1)>>>0}function w(Be,d){Be.metadata=Be.metadata&254|d<<0}function x(Be){return(Be.metadata&2)>>>1===1}function f(Be,d){Be.metadata=Be.metadata&253|(d?1:0)<<1}function p(Be){return(Be.metadata&4)>>>2===1}function S(Be,d){Be.metadata=Be.metadata&251|(d?1:0)<<2}function h(Be){return(Be.metadata&24)>>>3}function L(Be,d){Be.metadata=Be.metadata&231|d<<3}function v(Be){return(Be.metadata&32)>>>5===1}function V(Be,d){Be.metadata=Be.metadata&223|(d?1:0)<<5}class ${constructor(d,M,U){this.metadata=0,this.parent=this,this.left=this,this.right=this,w(this,1),this.start=M,this.end=U,this.delta=0,this.maxEnd=U,this.id=d,this.ownerId=0,this.options=null,S(this,!1),L(this,1),V(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=M,this.cachedAbsoluteEnd=U,this.range=null,f(this,!1)}reset(d,M,U,oe){this.start=M,this.end=U,this.maxEnd=U,this.cachedVersionId=d,this.cachedAbsoluteStart=M,this.cachedAbsoluteEnd=U,this.range=oe}setOptions(d){this.options=d;let M=this.options.className;S(this,M==="squiggly-error"||M==="squiggly-warning"||M==="squiggly-info"),L(this,this.options.stickiness),V(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(d,M,U){this.cachedVersionId!==U&&(this.range=null),this.cachedVersionId=U,this.cachedAbsoluteStart=d,this.cachedAbsoluteEnd=M}detach(){this.parent=null,this.left=null,this.right=null}}const ee=new $(null,0,0);ee.parent=ee,ee.left=ee,ee.right=ee,w(ee,0);class de{constructor(){this.root=ee,this.requestNormalizeDelta=!1}intervalSearch(d,M,U,oe,he){return this.root===ee?[]:m(this,d,M,U,oe,he)}search(d,M,U){return this.root===ee?[]:q(this,d,M,U)}collectNodesFromOwner(d){return j(this,d)}collectNodesPostOrder(){return G(this)}insert(d){b(this,d),this._normalizeDeltaIfNecessary()}delete(d){te(this,d),this._normalizeDeltaIfNecessary()}resolveNode(d,M){const U=d;let oe=0;for(;d!==this.root;)d===d.parent.right&&(oe+=d.parent.delta),d=d.parent;const he=U.start+oe,Le=U.end+oe;U.setCachedOffsets(he,Le,M)}acceptReplace(d,M,U,oe){const he=le(this,d,d+M);for(let Le=0,We=he.length;Le<We;Le++){const lt=he[Le];te(this,lt)}this._normalizeDeltaIfNecessary(),Y(this,d,d+M,U),this._normalizeDeltaIfNecessary();for(let Le=0,We=he.length;Le<We;Le++){const lt=he[Le];lt.start=lt.cachedAbsoluteStart,lt.end=lt.cachedAbsoluteEnd,xe(lt,d,d+M,U,oe),lt.maxEnd=lt.end,b(this,lt)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,pe(this))}}function pe(Be){let d=Be.root,M=0;for(;d!==ee;){if(d.left!==ee&&!x(d.left)){d=d.left;continue}if(d.right!==ee&&!x(d.right)){M+=d.delta,d=d.right;continue}d.start=M+d.start,d.end=M+d.end,d.delta=0,Dt(d),f(d,!0),f(d.left,!1),f(d.right,!1),d===d.parent.right&&(M-=d.parent.delta),d=d.parent}f(Be.root,!1)}function ve(Be,d,M,U){return Be<M?!0:Be>M||U===1?!1:U===2?!0:d}function xe(Be,d,M,U,oe){const he=h(Be),Le=he===0||he===2,We=he===1||he===2,lt=M-d,Pt=U,St=Math.min(lt,Pt),Rt=Be.start;let Gt=!1;const li=Be.end;let ae=!1;d<=Rt&&li<=M&&v(Be)&&(Be.start=d,Gt=!0,Be.end=d,ae=!0);{const dt=oe?1:lt>0?2:0;!Gt&&ve(Rt,Le,d,dt)&&(Gt=!0),!ae&&ve(li,We,d,dt)&&(ae=!0)}if(St>0&&!oe){const dt=lt>Pt?2:0;!Gt&&ve(Rt,Le,d+St,dt)&&(Gt=!0),!ae&&ve(li,We,d+St,dt)&&(ae=!0)}{const dt=oe?1:0;!Gt&&ve(Rt,Le,M,dt)&&(Be.start=d+Pt,Gt=!0),!ae&&ve(li,We,M,dt)&&(Be.end=d+Pt,ae=!0)}const we=Pt-lt;Gt||(Be.start=Math.max(0,Rt+we)),ae||(Be.end=Math.max(0,li+we)),Be.start>Be.end&&(Be.end=Be.start)}function le(Be,d,M){let U=Be.root,oe=0,he=0,Le=0,We=0,lt=[],Pt=0;for(;U!==ee;){if(x(U)){f(U.left,!1),f(U.right,!1),U===U.parent.right&&(oe-=U.parent.delta),U=U.parent;continue}if(!x(U.left)){if(he=oe+U.maxEnd,he<d){f(U,!0);continue}if(U.left!==ee){U=U.left;continue}}if(Le=oe+U.start,Le>M){f(U,!0);continue}if(We=oe+U.end,We>=d&&(U.setCachedOffsets(Le,We,0),lt[Pt++]=U),f(U,!0),U.right!==ee&&!x(U.right)){oe+=U.delta,U=U.right;continue}}return f(Be.root,!1),lt}function Y(Be,d,M,U){let oe=Be.root,he=0,Le=0,We=0;const lt=U-(M-d);for(;oe!==ee;){if(x(oe)){f(oe.left,!1),f(oe.right,!1),oe===oe.parent.right&&(he-=oe.parent.delta),Dt(oe),oe=oe.parent;continue}if(!x(oe.left)){if(Le=he+oe.maxEnd,Le<d){f(oe,!0);continue}if(oe.left!==ee){oe=oe.left;continue}}if(We=he+oe.start,We>M){oe.start+=lt,oe.end+=lt,oe.delta+=lt,(oe.delta<-1073741824||oe.delta>1073741824)&&(Be.requestNormalizeDelta=!0),f(oe,!0);continue}if(f(oe,!0),oe.right!==ee&&!x(oe.right)){he+=oe.delta,oe=oe.right;continue}}f(Be.root,!1)}function j(Be,d){let M=Be.root,U=[],oe=0;for(;M!==ee;){if(x(M)){f(M.left,!1),f(M.right,!1),M=M.parent;continue}if(M.left!==ee&&!x(M.left)){M=M.left;continue}if(M.ownerId===d&&(U[oe++]=M),f(M,!0),M.right!==ee&&!x(M.right)){M=M.right;continue}}return f(Be.root,!1),U}function G(Be){let d=Be.root,M=[],U=0;for(;d!==ee;){if(x(d)){f(d.left,!1),f(d.right,!1),d=d.parent;continue}if(d.left!==ee&&!x(d.left)){d=d.left;continue}if(d.right!==ee&&!x(d.right)){d=d.right;continue}M[U++]=d,f(d,!0)}return f(Be.root,!1),M}function q(Be,d,M,U){let oe=Be.root,he=0,Le=0,We=0,lt=[],Pt=0;for(;oe!==ee;){if(x(oe)){f(oe.left,!1),f(oe.right,!1),oe===oe.parent.right&&(he-=oe.parent.delta),oe=oe.parent;continue}if(oe.left!==ee&&!x(oe.left)){oe=oe.left;continue}Le=he+oe.start,We=he+oe.end,oe.setCachedOffsets(Le,We,U);let St=!0;if(d&&oe.ownerId&&oe.ownerId!==d&&(St=!1),M&&p(oe)&&(St=!1),St&&(lt[Pt++]=oe),f(oe,!0),oe.right!==ee&&!x(oe.right)){he+=oe.delta,oe=oe.right;continue}}return f(Be.root,!1),lt}function m(Be,d,M,U,oe,he){let Le=Be.root,We=0,lt=0,Pt=0,St=0,Rt=[],Gt=0;for(;Le!==ee;){if(x(Le)){f(Le.left,!1),f(Le.right,!1),Le===Le.parent.right&&(We-=Le.parent.delta),Le=Le.parent;continue}if(!x(Le.left)){if(lt=We+Le.maxEnd,lt<d){f(Le,!0);continue}if(Le.left!==ee){Le=Le.left;continue}}if(Pt=We+Le.start,Pt>M){f(Le,!0);continue}if(St=We+Le.end,St>=d){Le.setCachedOffsets(Pt,St,he);let li=!0;U&&Le.ownerId&&Le.ownerId!==U&&(li=!1),oe&&p(Le)&&(li=!1),li&&(Rt[Gt++]=Le)}if(f(Le,!0),Le.right!==ee&&!x(Le.right)){We+=Le.delta,Le=Le.right;continue}}return f(Be.root,!1),Rt}function b(Be,d){if(Be.root===ee)return d.parent=ee,d.left=ee,d.right=ee,w(d,0),Be.root=d,Be.root;F(Be,d),ht(d.parent);let M=d;for(;M!==Be.root&&T(M.parent)===1;)if(M.parent===M.parent.parent.left){const U=M.parent.parent.right;T(U)===1?(w(M.parent,0),w(U,0),w(M.parent.parent,1),M=M.parent.parent):(M===M.parent.right&&(M=M.parent,Oe(Be,M)),w(M.parent,0),w(M.parent.parent,1),Re(Be,M.parent.parent))}else{const U=M.parent.parent.left;T(U)===1?(w(M.parent,0),w(U,0),w(M.parent.parent,1),M=M.parent.parent):(M===M.parent.left&&(M=M.parent,Re(Be,M)),w(M.parent,0),w(M.parent.parent,1),Oe(Be,M.parent.parent))}return w(Be.root,0),d}function F(Be,d){let M=0,U=Be.root;const oe=d.start,he=d.end;for(;;)if(Mt(oe,he,U.start+M,U.end+M)<0)if(U.left===ee){d.start-=M,d.end-=M,d.maxEnd-=M,U.left=d;break}else U=U.left;else if(U.right===ee){d.start-=M+U.delta,d.end-=M+U.delta,d.maxEnd-=M+U.delta,U.right=d;break}else M+=U.delta,U=U.right;d.parent=U,d.left=ee,d.right=ee,w(d,1)}function te(Be,d){let M,U;if(d.left===ee?(M=d.right,U=d,M.delta+=d.delta,(M.delta<-1073741824||M.delta>1073741824)&&(Be.requestNormalizeDelta=!0),M.start+=d.delta,M.end+=d.delta):d.right===ee?(M=d.left,U=d):(U=me(d.right),M=U.right,M.start+=U.delta,M.end+=U.delta,M.delta+=U.delta,(M.delta<-1073741824||M.delta>1073741824)&&(Be.requestNormalizeDelta=!0),U.start+=d.delta,U.end+=d.delta,U.delta=d.delta,(U.delta<-1073741824||U.delta>1073741824)&&(Be.requestNormalizeDelta=!0)),U===Be.root){Be.root=M,w(M,0),d.detach(),ue(),Dt(M),Be.root.parent=ee;return}let oe=T(U)===1;if(U===U.parent.left?U.parent.left=M:U.parent.right=M,U===d?M.parent=U.parent:(U.parent===d?M.parent=U:M.parent=U.parent,U.left=d.left,U.right=d.right,U.parent=d.parent,w(U,T(d)),d===Be.root?Be.root=U:d===d.parent.left?d.parent.left=U:d.parent.right=U,U.left!==ee&&(U.left.parent=U),U.right!==ee&&(U.right.parent=U)),d.detach(),oe){ht(M.parent),U!==d&&(ht(U),ht(U.parent)),ue();return}ht(M),ht(M.parent),U!==d&&(ht(U),ht(U.parent));let he;for(;M!==Be.root&&T(M)===0;)M===M.parent.left?(he=M.parent.right,T(he)===1&&(w(he,0),w(M.parent,1),Oe(Be,M.parent),he=M.parent.right),T(he.left)===0&&T(he.right)===0?(w(he,1),M=M.parent):(T(he.right)===0&&(w(he.left,0),w(he,1),Re(Be,he),he=M.parent.right),w(he,T(M.parent)),w(M.parent,0),w(he.right,0),Oe(Be,M.parent),M=Be.root)):(he=M.parent.left,T(he)===1&&(w(he,0),w(M.parent,1),Re(Be,M.parent),he=M.parent.left),T(he.left)===0&&T(he.right)===0?(w(he,1),M=M.parent):(T(he.left)===0&&(w(he.right,0),w(he,1),Oe(Be,he),he=M.parent.left),w(he,T(M.parent)),w(M.parent,0),w(he.left,0),Re(Be,M.parent),M=Be.root));w(M,0),ue()}function me(Be){for(;Be.left!==ee;)Be=Be.left;return Be}function ue(){ee.parent=ee,ee.delta=0,ee.start=0,ee.end=0}function Oe(Be,d){const M=d.right;M.delta+=d.delta,(M.delta<-1073741824||M.delta>1073741824)&&(Be.requestNormalizeDelta=!0),M.start+=d.delta,M.end+=d.delta,d.right=M.left,M.left!==ee&&(M.left.parent=d),M.parent=d.parent,d.parent===ee?Be.root=M:d===d.parent.left?d.parent.left=M:d.parent.right=M,M.left=d,d.parent=M,Dt(d),Dt(M)}function Re(Be,d){const M=d.left;d.delta-=M.delta,(d.delta<-1073741824||d.delta>1073741824)&&(Be.requestNormalizeDelta=!0),d.start-=M.delta,d.end-=M.delta,d.left=M.right,M.right!==ee&&(M.right.parent=d),M.parent=d.parent,d.parent===ee?Be.root=M:d===d.parent.right?d.parent.right=M:d.parent.left=M,M.right=d,d.parent=M,Dt(d),Dt(M)}function et(Be){let d=Be.end;if(Be.left!==ee){const M=Be.left.maxEnd;M>d&&(d=M)}if(Be.right!==ee){const M=Be.right.maxEnd+Be.delta;M>d&&(d=M)}return d}function Dt(Be){Be.maxEnd=et(Be)}function ht(Be){for(;Be!==ee;){const d=et(Be);if(Be.maxEnd===d)return;Be.maxEnd=d,Be=Be.parent}}function Mt(Be,d,M,U){return Be===M?d-U:Be-M}class Je{constructor(d,M){this.piece=d,this.color=M,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==tt)return ke(this.right);let d=this;for(;d.parent!==tt&&d.parent.left!==d;)d=d.parent;return d.parent===tt?tt:d.parent}prev(){if(this.left!==tt)return fe(this.left);let d=this;for(;d.parent!==tt&&d.parent.right!==d;)d=d.parent;return d.parent===tt?tt:d.parent}detach(){this.parent=null,this.left=null,this.right=null}}const tt=new Je(null,0);tt.parent=tt,tt.left=tt,tt.right=tt,tt.color=0;function ke(Be){for(;Be.left!==tt;)Be=Be.left;return Be}function fe(Be){for(;Be.right!==tt;)Be=Be.right;return Be}function Ie(Be){return Be===tt?0:Be.size_left+Be.piece.length+Ie(Be.right)}function nt(Be){return Be===tt?0:Be.lf_left+Be.piece.lineFeedCnt+nt(Be.right)}function at(){tt.parent=tt}function ot(Be,d){let M=d.right;M.size_left+=d.size_left+(d.piece?d.piece.length:0),M.lf_left+=d.lf_left+(d.piece?d.piece.lineFeedCnt:0),d.right=M.left,M.left!==tt&&(M.left.parent=d),M.parent=d.parent,d.parent===tt?Be.root=M:d.parent.left===d?d.parent.left=M:d.parent.right=M,M.left=d,d.parent=M}function Ne(Be,d){let M=d.left;d.left=M.right,M.right!==tt&&(M.right.parent=d),M.parent=d.parent,d.size_left-=M.size_left+(M.piece?M.piece.length:0),d.lf_left-=M.lf_left+(M.piece?M.piece.lineFeedCnt:0),d.parent===tt?Be.root=M:d===d.parent.right?d.parent.right=M:d.parent.left=M,M.right=d,d.parent=M}function Pe(Be,d){let M,U;if(d.left===tt?(U=d,M=U.right):d.right===tt?(U=d,M=U.left):(U=ke(d.right),M=U.right),U===Be.root){Be.root=M,M.color=0,d.detach(),at(),Be.root.parent=tt;return}let oe=U.color===1;if(U===U.parent.left?U.parent.left=M:U.parent.right=M,U===d?(M.parent=U.parent,it(Be,M)):(U.parent===d?M.parent=U:M.parent=U.parent,it(Be,M),U.left=d.left,U.right=d.right,U.parent=d.parent,U.color=d.color,d===Be.root?Be.root=U:d===d.parent.left?d.parent.left=U:d.parent.right=U,U.left!==tt&&(U.left.parent=U),U.right!==tt&&(U.right.parent=U),U.size_left=d.size_left,U.lf_left=d.lf_left,it(Be,U)),d.detach(),M.parent.left===M){let Le=Ie(M),We=nt(M);if(Le!==M.parent.size_left||We!==M.parent.lf_left){let lt=Le-M.parent.size_left,Pt=We-M.parent.lf_left;M.parent.size_left=Le,M.parent.lf_left=We,Ze(Be,M.parent,lt,Pt)}}if(it(Be,M.parent),oe){at();return}let he;for(;M!==Be.root&&M.color===0;)M===M.parent.left?(he=M.parent.right,he.color===1&&(he.color=0,M.parent.color=1,ot(Be,M.parent),he=M.parent.right),he.left.color===0&&he.right.color===0?(he.color=1,M=M.parent):(he.right.color===0&&(he.left.color=0,he.color=1,Ne(Be,he),he=M.parent.right),he.color=M.parent.color,M.parent.color=0,he.right.color=0,ot(Be,M.parent),M=Be.root)):(he=M.parent.left,he.color===1&&(he.color=0,M.parent.color=1,Ne(Be,M.parent),he=M.parent.left),he.left.color===0&&he.right.color===0?(he.color=1,M=M.parent):(he.left.color===0&&(he.right.color=0,he.color=1,ot(Be,he),he=M.parent.left),he.color=M.parent.color,M.parent.color=0,he.left.color=0,Ne(Be,M.parent),M=Be.root));M.color=0,at()}function ye(Be,d){for(it(Be,d);d!==Be.root&&d.parent.color===1;)if(d.parent===d.parent.parent.left){const M=d.parent.parent.right;M.color===1?(d.parent.color=0,M.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.right&&(d=d.parent,ot(Be,d)),d.parent.color=0,d.parent.parent.color=1,Ne(Be,d.parent.parent))}else{const M=d.parent.parent.left;M.color===1?(d.parent.color=0,M.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.left&&(d=d.parent,Ne(Be,d)),d.parent.color=0,d.parent.parent.color=1,ot(Be,d.parent.parent))}Be.root.color=0}function Ze(Be,d,M,U){for(;d!==Be.root&&d!==tt;)d.parent.left===d&&(d.parent.size_left+=M,d.parent.lf_left+=U),d=d.parent}function it(Be,d){let M=0,U=0;if(d!==Be.root){for(;d!==Be.root&&d===d.parent.right;)d=d.parent;if(d!==Be.root)for(d=d.parent,M=Ie(d.left)-d.size_left,U=nt(d.left)-d.lf_left,d.size_left+=M,d.lf_left+=U;d!==Be.root&&(M!==0||U!==0);)d.parent.left===d&&(d.parent.size_left+=M,d.parent.lf_left+=U),d=d.parent}}var Ft=c(77277);const ei=65535;function bi(Be){let d;return Be[Be.length-1]<65536?d=new Uint16Array(Be.length):d=new Uint32Array(Be.length),d.set(Be,0),d}class ii{constructor(d,M,U,oe,he){this.lineStarts=d,this.cr=M,this.lf=U,this.crlf=oe,this.isBasicASCII=he}}function Ot(Be,d=!0){let M=[0],U=1;for(let oe=0,he=Be.length;oe<he;oe++){const Le=Be.charCodeAt(oe);Le===13?oe+1<he&&Be.charCodeAt(oe+1)===10?(M[U++]=oe+2,oe++):M[U++]=oe+1:Le===10&&(M[U++]=oe+1)}return d?bi(M):M}function en(Be,d){Be.length=0,Be[0]=0;let M=1,U=0,oe=0,he=0,Le=!0;for(let lt=0,Pt=d.length;lt<Pt;lt++){const St=d.charCodeAt(lt);St===13?lt+1<Pt&&d.charCodeAt(lt+1)===10?(he++,Be[M++]=lt+2,lt++):(U++,Be[M++]=lt+1):St===10?(oe++,Be[M++]=lt+1):Le&&St!==9&&(St<32||St>126)&&(Le=!1)}const We=new ii(bi(Be),U,oe,he,Le);return Be.length=0,We}class ui{constructor(d,M,U,oe,he){this.bufferIndex=d,this.start=M,this.end=U,this.lineFeedCnt=oe,this.length=he}}class Ke{constructor(d,M){this.buffer=d,this.lineStarts=M}}class st{constructor(d,M){this._pieces=[],this._tree=d,this._BOM=M,this._index=0,d.root!==tt&&d.iterate(d.root,U=>(U!==tt&&this._pieces.push(U.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class Mi{constructor(d){this._limit=d,this._cache=[]}get(d){for(let M=this._cache.length-1;M>=0;M--){let U=this._cache[M];if(U.nodeStartOffset<=d&&U.nodeStartOffset+U.node.piece.length>=d)return U}return null}get2(d){for(let M=this._cache.length-1;M>=0;M--){let U=this._cache[M];if(U.nodeStartLineNumber&&U.nodeStartLineNumber<d&&U.nodeStartLineNumber+U.node.piece.lineFeedCnt>=d)return U}return null}set(d){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(d)}validate(d){let M=!1,U=this._cache;for(let oe=0;oe<U.length;oe++){let he=U[oe];if(he.node.parent===null||he.nodeStartOffset>=d){U[oe]=null,M=!0;continue}}if(M){let oe=[];for(const he of U)he!==null&&oe.push(he);this._cache=oe}}}class ci{constructor(d,M,U){this.create(d,M,U)}create(d,M,U){this._buffers=[new Ke("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=tt,this._lineCnt=1,this._length=0,this._EOL=M,this._EOLLength=M.length,this._EOLNormalized=U;let oe=null;for(let he=0,Le=d.length;he<Le;he++)if(d[he].buffer.length>0){d[he].lineStarts||(d[he].lineStarts=Ot(d[he].buffer));let We=new ui(he+1,{line:0,column:0},{line:d[he].lineStarts.length-1,column:d[he].buffer.length-d[he].lineStarts[d[he].lineStarts.length-1]},d[he].lineStarts.length-1,d[he].buffer.length);this._buffers.push(d[he]),oe=this.rbInsertRight(oe,We)}this._searchCache=new Mi(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(d){let M=ei,U=M-Math.floor(M/3),oe=U*2,he="",Le=0,We=[];if(this.iterate(this.root,lt=>{let Pt=this.getNodeContent(lt),St=Pt.length;if(Le<=U||Le+St<oe)return he+=Pt,Le+=St,!0;let Rt=he.replace(/\r\n|\r|\n/g,d);return We.push(new Ke(Rt,Ot(Rt))),he=Pt,Le=St,!0}),Le>0){let lt=he.replace(/\r\n|\r|\n/g,d);We.push(new Ke(lt,Ot(lt)))}this.create(We,d,!0)}getEOL(){return this._EOL}setEOL(d){this._EOL=d,this._EOLLength=this._EOL.length,this.normalizeEOL(d)}createSnapshot(d){return new st(this,d)}getOffsetAt(d,M){let U=0,oe=this.root;for(;oe!==tt;)if(oe.left!==tt&&oe.lf_left+1>=d)oe=oe.left;else if(oe.lf_left+oe.piece.lineFeedCnt+1>=d){U+=oe.size_left;let he=this.getAccumulatedValue(oe,d-oe.lf_left-2);return U+=he+M-1}else d-=oe.lf_left+oe.piece.lineFeedCnt,U+=oe.size_left+oe.piece.length,oe=oe.right;return U}getPositionAt(d){d=Math.floor(d),d=Math.max(0,d);let M=this.root,U=0,oe=d;for(;M!==tt;)if(M.size_left!==0&&M.size_left>=d)M=M.left;else if(M.size_left+M.piece.length>=d){let he=this.getIndexOf(M,d-M.size_left);if(U+=M.lf_left+he.index,he.index===0){let Le=this.getOffsetAt(U+1,1),We=oe-Le;return new R.L(U+1,We+1)}return new R.L(U+1,he.remainder+1)}else if(d-=M.size_left+M.piece.length,U+=M.lf_left+M.piece.lineFeedCnt,M.right===tt){let he=this.getOffsetAt(U+1,1),Le=oe-d-he;return new R.L(U+1,Le+1)}else M=M.right;return new R.L(1,1)}getValueInRange(d,M){if(d.startLineNumber===d.endLineNumber&&d.startColumn===d.endColumn)return"";let U=this.nodeAt2(d.startLineNumber,d.startColumn),oe=this.nodeAt2(d.endLineNumber,d.endColumn),he=this.getValueInRange2(U,oe);return M?M!==this._EOL||!this._EOLNormalized?he.replace(/\r\n|\r|\n/g,M):M===this.getEOL()&&this._EOLNormalized?he:he.replace(/\r\n|\r|\n/g,M):he}getValueInRange2(d,M){if(d.node===M.node){let We=d.node,lt=this._buffers[We.piece.bufferIndex].buffer,Pt=this.offsetInBuffer(We.piece.bufferIndex,We.piece.start);return lt.substring(Pt+d.remainder,Pt+M.remainder)}let U=d.node,oe=this._buffers[U.piece.bufferIndex].buffer,he=this.offsetInBuffer(U.piece.bufferIndex,U.piece.start),Le=oe.substring(he+d.remainder,he+U.piece.length);for(U=U.next();U!==tt;){let We=this._buffers[U.piece.bufferIndex].buffer,lt=this.offsetInBuffer(U.piece.bufferIndex,U.piece.start);if(U===M.node){Le+=We.substring(lt,lt+M.remainder);break}else Le+=We.substr(lt,U.piece.length);U=U.next()}return Le}getLinesContent(){let d=[],M=0,U="",oe=!1;return this.iterate(this.root,he=>{if(he===tt)return!0;const Le=he.piece;let We=Le.length;if(We===0)return!0;const lt=this._buffers[Le.bufferIndex].buffer,Pt=this._buffers[Le.bufferIndex].lineStarts,St=Le.start.line,Rt=Le.end.line;let Gt=Pt[St]+Le.start.column;if(oe&&(lt.charCodeAt(Gt)===10&&(Gt++,We--),d[M++]=U,U="",oe=!1,We===0))return!0;if(St===Rt)return!this._EOLNormalized&&lt.charCodeAt(Gt+We-1)===13?(oe=!0,U+=lt.substr(Gt,We-1)):U+=lt.substr(Gt,We),!0;U+=this._EOLNormalized?lt.substring(Gt,Math.max(Gt,Pt[St+1]-this._EOLLength)):lt.substring(Gt,Pt[St+1]).replace(/(\r\n|\r|\n)$/,""),d[M++]=U;for(let li=St+1;li<Rt;li++)U=this._EOLNormalized?lt.substring(Pt[li],Pt[li+1]-this._EOLLength):lt.substring(Pt[li],Pt[li+1]).replace(/(\r\n|\r|\n)$/,""),d[M++]=U;return!this._EOLNormalized&&lt.charCodeAt(Pt[Rt]+Le.end.column-1)===13?(oe=!0,Le.end.column===0?M--:U=lt.substr(Pt[Rt],Le.end.column-1)):U=lt.substr(Pt[Rt],Le.end.column),!0}),oe&&(d[M++]=U,U=""),d[M++]=U,d}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(d){return this._lastVisitedLine.lineNumber===d?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=d,d===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(d):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(d,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(d).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(d){if(d.remainder===d.node.piece.length){let M=d.node.next();if(!M)return 0;let U=this._buffers[M.piece.bufferIndex],oe=this.offsetInBuffer(M.piece.bufferIndex,M.piece.start);return U.buffer.charCodeAt(oe)}else{let M=this._buffers[d.node.piece.bufferIndex],oe=this.offsetInBuffer(d.node.piece.bufferIndex,d.node.piece.start)+d.remainder;return M.buffer.charCodeAt(oe)}}getLineCharCode(d,M){let U=this.nodeAt2(d,M+1);return this._getCharCode(U)}getLineLength(d){if(d===this.getLineCount()){let M=this.getOffsetAt(d,1);return this.getLength()-M}return this.getOffsetAt(d+1,1)-this.getOffsetAt(d,1)-this._EOLLength}findMatchesInNode(d,M,U,oe,he,Le,We,lt,Pt,St,Rt){let Gt=this._buffers[d.piece.bufferIndex],li=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start),ae=this.offsetInBuffer(d.piece.bufferIndex,he),we=this.offsetInBuffer(d.piece.bufferIndex,Le),dt,pt={line:0,column:0},rt,Ut;M._wordSeparators?(rt=Gt.buffer.substring(ae,we),Ut=ni=>ni+ae,M.reset(0)):(rt=Gt.buffer,Ut=ni=>ni,M.reset(ae));do if(dt=M.next(rt),dt){if(Ut(dt.index)>=we)return St;this.positionInBuffer(d,Ut(dt.index)-li,pt);let ni=this.getLineFeedCnt(d.piece.bufferIndex,he,pt),zt=pt.line===he.line?pt.column-he.column+oe:pt.column+1,Ri=zt+dt[0].length;if(Rt[St++]=(0,Ft.iE)(new B.e(U+ni,zt,U+ni,Ri),dt,lt),Ut(dt.index)+dt[0].length>=we||St>=Pt)return St}while(dt);return St}findMatchesLineByLine(d,M,U,oe){const he=[];let Le=0;const We=new Ft.sz(M.wordSeparators,M.regex);let lt=this.nodeAt2(d.startLineNumber,d.startColumn);if(lt===null)return[];let Pt=this.nodeAt2(d.endLineNumber,d.endColumn);if(Pt===null)return[];let St=this.positionInBuffer(lt.node,lt.remainder),Rt=this.positionInBuffer(Pt.node,Pt.remainder);if(lt.node===Pt.node)return this.findMatchesInNode(lt.node,We,d.startLineNumber,d.startColumn,St,Rt,M,U,oe,Le,he),he;let Gt=d.startLineNumber,li=lt.node;for(;li!==Pt.node;){let we=this.getLineFeedCnt(li.piece.bufferIndex,St,li.piece.end);if(we>=1){let pt=this._buffers[li.piece.bufferIndex].lineStarts,rt=this.offsetInBuffer(li.piece.bufferIndex,li.piece.start),Ut=pt[St.line+we],ni=Gt===d.startLineNumber?d.startColumn:1;if(Le=this.findMatchesInNode(li,We,Gt,ni,St,this.positionInBuffer(li,Ut-rt),M,U,oe,Le,he),Le>=oe)return he;Gt+=we}let dt=Gt===d.startLineNumber?d.startColumn-1:0;if(Gt===d.endLineNumber){const pt=this.getLineContent(Gt).substring(dt,d.endColumn-1);return Le=this._findMatchesInLine(M,We,pt,d.endLineNumber,dt,Le,he,U,oe),he}if(Le=this._findMatchesInLine(M,We,this.getLineContent(Gt).substr(dt),Gt,dt,Le,he,U,oe),Le>=oe)return he;Gt++,lt=this.nodeAt2(Gt,1),li=lt.node,St=this.positionInBuffer(lt.node,lt.remainder)}if(Gt===d.endLineNumber){let we=Gt===d.startLineNumber?d.startColumn-1:0;const dt=this.getLineContent(Gt).substring(we,d.endColumn-1);return Le=this._findMatchesInLine(M,We,dt,d.endLineNumber,we,Le,he,U,oe),he}let ae=Gt===d.startLineNumber?d.startColumn:1;return Le=this.findMatchesInNode(Pt.node,We,Gt,ae,St,Rt,M,U,oe,Le,he),he}_findMatchesInLine(d,M,U,oe,he,Le,We,lt,Pt){const St=d.wordSeparators;if(!lt&&d.simpleSearch){const Gt=d.simpleSearch,li=Gt.length,ae=U.length;let we=-li;for(;(we=U.indexOf(Gt,we+li))!==-1;)if((!St||(0,Ft.cM)(St,U,ae,we,li))&&(We[Le++]=new N.tk(new B.e(oe,we+1+he,oe,we+1+li+he),null),Le>=Pt))return Le;return Le}let Rt;M.reset(0);do if(Rt=M.next(U),Rt&&(We[Le++]=(0,Ft.iE)(new B.e(oe,Rt.index+1+he,oe,Rt.index+1+Rt[0].length+he),Rt,lt),Le>=Pt))return Le;while(Rt);return Le}insert(d,M,U=!1){if(this._EOLNormalized=this._EOLNormalized&&U,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==tt){let{node:oe,remainder:he,nodeStartOffset:Le}=this.nodeAt(d),We=oe.piece,lt=We.bufferIndex,Pt=this.positionInBuffer(oe,he);if(oe.piece.bufferIndex===0&&We.end.line===this._lastChangeBufferPos.line&&We.end.column===this._lastChangeBufferPos.column&&Le+We.length===d&&M.length<ei){this.appendToNode(oe,M),this.computeBufferMetadata();return}if(Le===d)this.insertContentToNodeLeft(M,oe),this._searchCache.validate(d);else if(Le+oe.piece.length>d){let St=[],Rt=new ui(We.bufferIndex,Pt,We.end,this.getLineFeedCnt(We.bufferIndex,Pt,We.end),this.offsetInBuffer(lt,We.end)-this.offsetInBuffer(lt,Pt));if(this.shouldCheckCRLF()&&this.endWithCR(M)&&this.nodeCharCodeAt(oe,he)===10){let we={line:Rt.start.line+1,column:0};Rt=new ui(Rt.bufferIndex,we,Rt.end,this.getLineFeedCnt(Rt.bufferIndex,we,Rt.end),Rt.length-1),M+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(M))if(this.nodeCharCodeAt(oe,he-1)===13){let we=this.positionInBuffer(oe,he-1);this.deleteNodeTail(oe,we),M="\r"+M,oe.piece.length===0&&St.push(oe)}else this.deleteNodeTail(oe,Pt);else this.deleteNodeTail(oe,Pt);let Gt=this.createNewPieces(M);Rt.length>0&&this.rbInsertRight(oe,Rt);let li=oe;for(let ae=0;ae<Gt.length;ae++)li=this.rbInsertRight(li,Gt[ae]);this.deleteNodes(St)}else this.insertContentToNodeRight(M,oe)}else{let oe=this.createNewPieces(M),he=this.rbInsertLeft(null,oe[0]);for(let Le=1;Le<oe.length;Le++)he=this.rbInsertRight(he,oe[Le])}this.computeBufferMetadata()}delete(d,M){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",M<=0||this.root===tt)return;let U=this.nodeAt(d),oe=this.nodeAt(d+M),he=U.node,Le=oe.node;if(he===Le){let Gt=this.positionInBuffer(he,U.remainder),li=this.positionInBuffer(he,oe.remainder);if(U.nodeStartOffset===d){if(M===he.piece.length){let ae=he.next();Pe(this,he),this.validateCRLFWithPrevNode(ae),this.computeBufferMetadata();return}this.deleteNodeHead(he,li),this._searchCache.validate(d),this.validateCRLFWithPrevNode(he),this.computeBufferMetadata();return}if(U.nodeStartOffset+he.piece.length===d+M){this.deleteNodeTail(he,Gt),this.validateCRLFWithNextNode(he),this.computeBufferMetadata();return}this.shrinkNode(he,Gt,li),this.computeBufferMetadata();return}let We=[],lt=this.positionInBuffer(he,U.remainder);this.deleteNodeTail(he,lt),this._searchCache.validate(d),he.piece.length===0&&We.push(he);let Pt=this.positionInBuffer(Le,oe.remainder);this.deleteNodeHead(Le,Pt),Le.piece.length===0&&We.push(Le);let St=he.next();for(let Gt=St;Gt!==tt&&Gt!==Le;Gt=Gt.next())We.push(Gt);let Rt=he.piece.length===0?he.prev():he;this.deleteNodes(We),this.validateCRLFWithNextNode(Rt),this.computeBufferMetadata()}insertContentToNodeLeft(d,M){let U=[];if(this.shouldCheckCRLF()&&this.endWithCR(d)&&this.startWithLF(M)){let Le=M.piece,We={line:Le.start.line+1,column:0},lt=new ui(Le.bufferIndex,We,Le.end,this.getLineFeedCnt(Le.bufferIndex,We,Le.end),Le.length-1);M.piece=lt,d+=`
`,Ze(this,M,-1,-1),M.piece.length===0&&U.push(M)}let oe=this.createNewPieces(d),he=this.rbInsertLeft(M,oe[oe.length-1]);for(let Le=oe.length-2;Le>=0;Le--)he=this.rbInsertLeft(he,oe[Le]);this.validateCRLFWithPrevNode(he),this.deleteNodes(U)}insertContentToNodeRight(d,M){this.adjustCarriageReturnFromNext(d,M)&&(d+=`
`);let U=this.createNewPieces(d),oe=this.rbInsertRight(M,U[0]),he=oe;for(let Le=1;Le<U.length;Le++)he=this.rbInsertRight(he,U[Le]);this.validateCRLFWithPrevNode(oe)}positionInBuffer(d,M,U){let oe=d.piece,he=d.piece.bufferIndex,Le=this._buffers[he].lineStarts,lt=Le[oe.start.line]+oe.start.column+M,Pt=oe.start.line,St=oe.end.line,Rt=0,Gt=0,li=0;for(;Pt<=St&&(Rt=Pt+(St-Pt)/2|0,li=Le[Rt],Rt!==St);)if(Gt=Le[Rt+1],lt<li)St=Rt-1;else if(lt>=Gt)Pt=Rt+1;else break;return U?(U.line=Rt,U.column=lt-li,null):{line:Rt,column:lt-li}}getLineFeedCnt(d,M,U){if(U.column===0)return U.line-M.line;let oe=this._buffers[d].lineStarts;if(U.line===oe.length-1)return U.line-M.line;let he=oe[U.line+1],Le=oe[U.line]+U.column;if(he>Le+1)return U.line-M.line;let We=Le-1;return this._buffers[d].buffer.charCodeAt(We)===13?U.line-M.line+1:U.line-M.line}offsetInBuffer(d,M){return this._buffers[d].lineStarts[M.line]+M.column}deleteNodes(d){for(let M=0;M<d.length;M++)Pe(this,d[M])}createNewPieces(d){if(d.length>ei){let St=[];for(;d.length>ei;){const Gt=d.charCodeAt(ei-1);let li;Gt===13||Gt>=55296&&Gt<=56319?(li=d.substring(0,ei-1),d=d.substring(ei-1)):(li=d.substring(0,ei),d=d.substring(ei));let ae=Ot(li);St.push(new ui(this._buffers.length,{line:0,column:0},{line:ae.length-1,column:li.length-ae[ae.length-1]},ae.length-1,li.length)),this._buffers.push(new Ke(li,ae))}let Rt=Ot(d);return St.push(new ui(this._buffers.length,{line:0,column:0},{line:Rt.length-1,column:d.length-Rt[Rt.length-1]},Rt.length-1,d.length)),this._buffers.push(new Ke(d,Rt)),St}let M=this._buffers[0].buffer.length;const U=Ot(d,!1);let oe=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===M&&M!==0&&this.startWithLF(d)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},oe=this._lastChangeBufferPos;for(let St=0;St<U.length;St++)U[St]+=M+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(U.slice(1)),this._buffers[0].buffer+="_"+d,M+=1}else{if(M!==0)for(let St=0;St<U.length;St++)U[St]+=M;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(U.slice(1)),this._buffers[0].buffer+=d}const he=this._buffers[0].buffer.length;let Le=this._buffers[0].lineStarts.length-1,We=he-this._buffers[0].lineStarts[Le],lt={line:Le,column:We},Pt=new ui(0,oe,lt,this.getLineFeedCnt(0,oe,lt),he-M);return this._lastChangeBufferPos=lt,[Pt]}getLineRawContent(d,M=0){let U=this.root,oe="",he=this._searchCache.get2(d);if(he){U=he.node;let Le=this.getAccumulatedValue(U,d-he.nodeStartLineNumber-1),We=this._buffers[U.piece.bufferIndex].buffer,lt=this.offsetInBuffer(U.piece.bufferIndex,U.piece.start);if(he.nodeStartLineNumber+U.piece.lineFeedCnt===d)oe=We.substring(lt+Le,lt+U.piece.length);else{let Pt=this.getAccumulatedValue(U,d-he.nodeStartLineNumber);return We.substring(lt+Le,lt+Pt-M)}}else{let Le=0;const We=d;for(;U!==tt;)if(U.left!==tt&&U.lf_left>=d-1)U=U.left;else if(U.lf_left+U.piece.lineFeedCnt>d-1){let lt=this.getAccumulatedValue(U,d-U.lf_left-2),Pt=this.getAccumulatedValue(U,d-U.lf_left-1),St=this._buffers[U.piece.bufferIndex].buffer,Rt=this.offsetInBuffer(U.piece.bufferIndex,U.piece.start);return Le+=U.size_left,this._searchCache.set({node:U,nodeStartOffset:Le,nodeStartLineNumber:We-(d-1-U.lf_left)}),St.substring(Rt+lt,Rt+Pt-M)}else if(U.lf_left+U.piece.lineFeedCnt===d-1){let lt=this.getAccumulatedValue(U,d-U.lf_left-2),Pt=this._buffers[U.piece.bufferIndex].buffer,St=this.offsetInBuffer(U.piece.bufferIndex,U.piece.start);oe=Pt.substring(St+lt,St+U.piece.length);break}else d-=U.lf_left+U.piece.lineFeedCnt,Le+=U.size_left+U.piece.length,U=U.right}for(U=U.next();U!==tt;){let Le=this._buffers[U.piece.bufferIndex].buffer;if(U.piece.lineFeedCnt>0){let We=this.getAccumulatedValue(U,0),lt=this.offsetInBuffer(U.piece.bufferIndex,U.piece.start);return oe+=Le.substring(lt,lt+We-M),oe}else{let We=this.offsetInBuffer(U.piece.bufferIndex,U.piece.start);oe+=Le.substr(We,U.piece.length)}U=U.next()}return oe}computeBufferMetadata(){let d=this.root,M=1,U=0;for(;d!==tt;)M+=d.lf_left+d.piece.lineFeedCnt,U+=d.size_left+d.piece.length,d=d.right;this._lineCnt=M,this._length=U,this._searchCache.validate(this._length)}getIndexOf(d,M){let U=d.piece,oe=this.positionInBuffer(d,M),he=oe.line-U.start.line;if(this.offsetInBuffer(U.bufferIndex,U.end)-this.offsetInBuffer(U.bufferIndex,U.start)===M){let Le=this.getLineFeedCnt(d.piece.bufferIndex,U.start,oe);if(Le!==he)return{index:Le,remainder:0}}return{index:he,remainder:oe.column}}getAccumulatedValue(d,M){if(M<0)return 0;let U=d.piece,oe=this._buffers[U.bufferIndex].lineStarts,he=U.start.line+M+1;return he>U.end.line?oe[U.end.line]+U.end.column-oe[U.start.line]-U.start.column:oe[he]-oe[U.start.line]-U.start.column}deleteNodeTail(d,M){const U=d.piece,oe=U.lineFeedCnt,he=this.offsetInBuffer(U.bufferIndex,U.end),Le=M,We=this.offsetInBuffer(U.bufferIndex,Le),lt=this.getLineFeedCnt(U.bufferIndex,U.start,Le),Pt=lt-oe,St=We-he,Rt=U.length+St;d.piece=new ui(U.bufferIndex,U.start,Le,lt,Rt),Ze(this,d,St,Pt)}deleteNodeHead(d,M){const U=d.piece,oe=U.lineFeedCnt,he=this.offsetInBuffer(U.bufferIndex,U.start),Le=M,We=this.getLineFeedCnt(U.bufferIndex,Le,U.end),lt=this.offsetInBuffer(U.bufferIndex,Le),Pt=We-oe,St=he-lt,Rt=U.length+St;d.piece=new ui(U.bufferIndex,Le,U.end,We,Rt),Ze(this,d,St,Pt)}shrinkNode(d,M,U){const oe=d.piece,he=oe.start,Le=oe.end,We=oe.length,lt=oe.lineFeedCnt,Pt=M,St=this.getLineFeedCnt(oe.bufferIndex,oe.start,Pt),Rt=this.offsetInBuffer(oe.bufferIndex,M)-this.offsetInBuffer(oe.bufferIndex,he);d.piece=new ui(oe.bufferIndex,oe.start,Pt,St,Rt),Ze(this,d,Rt-We,St-lt);let Gt=new ui(oe.bufferIndex,U,Le,this.getLineFeedCnt(oe.bufferIndex,U,Le),this.offsetInBuffer(oe.bufferIndex,Le)-this.offsetInBuffer(oe.bufferIndex,U)),li=this.rbInsertRight(d,Gt);this.validateCRLFWithPrevNode(li)}appendToNode(d,M){this.adjustCarriageReturnFromNext(M,d)&&(M+=`
`);const U=this.shouldCheckCRLF()&&this.startWithLF(M)&&this.endWithCR(d),oe=this._buffers[0].buffer.length;this._buffers[0].buffer+=M;const he=Ot(M,!1);for(let li=0;li<he.length;li++)he[li]+=oe;if(U){let li=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:oe-li}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(he.slice(1));const Le=this._buffers[0].lineStarts.length-1,We=this._buffers[0].buffer.length-this._buffers[0].lineStarts[Le],lt={line:Le,column:We},Pt=d.piece.length+M.length,St=d.piece.lineFeedCnt,Rt=this.getLineFeedCnt(0,d.piece.start,lt),Gt=Rt-St;d.piece=new ui(d.piece.bufferIndex,d.piece.start,lt,Rt,Pt),this._lastChangeBufferPos=lt,Ze(this,d,M.length,Gt)}nodeAt(d){let M=this.root,U=this._searchCache.get(d);if(U)return{node:U.node,nodeStartOffset:U.nodeStartOffset,remainder:d-U.nodeStartOffset};let oe=0;for(;M!==tt;)if(M.size_left>d)M=M.left;else if(M.size_left+M.piece.length>=d){oe+=M.size_left;let he={node:M,remainder:d-M.size_left,nodeStartOffset:oe};return this._searchCache.set(he),he}else d-=M.size_left+M.piece.length,oe+=M.size_left+M.piece.length,M=M.right;return null}nodeAt2(d,M){let U=this.root,oe=0;for(;U!==tt;)if(U.left!==tt&&U.lf_left>=d-1)U=U.left;else if(U.lf_left+U.piece.lineFeedCnt>d-1){let he=this.getAccumulatedValue(U,d-U.lf_left-2),Le=this.getAccumulatedValue(U,d-U.lf_left-1);return oe+=U.size_left,{node:U,remainder:Math.min(he+M-1,Le),nodeStartOffset:oe}}else if(U.lf_left+U.piece.lineFeedCnt===d-1){let he=this.getAccumulatedValue(U,d-U.lf_left-2);if(he+M-1<=U.piece.length)return{node:U,remainder:he+M-1,nodeStartOffset:oe};M-=U.piece.length-he;break}else d-=U.lf_left+U.piece.lineFeedCnt,oe+=U.size_left+U.piece.length,U=U.right;for(U=U.next();U!==tt;){if(U.piece.lineFeedCnt>0){let he=this.getAccumulatedValue(U,0),Le=this.offsetOfNode(U);return{node:U,remainder:Math.min(M-1,he),nodeStartOffset:Le}}else if(U.piece.length>=M-1){let he=this.offsetOfNode(U);return{node:U,remainder:M-1,nodeStartOffset:he}}else M-=U.piece.length;U=U.next()}return null}nodeCharCodeAt(d,M){if(d.piece.lineFeedCnt<1)return-1;let U=this._buffers[d.piece.bufferIndex],oe=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start)+M;return U.buffer.charCodeAt(oe)}offsetOfNode(d){if(!d)return 0;let M=d.size_left;for(;d!==this.root;)d.parent.right===d&&(M+=d.parent.size_left+d.parent.piece.length),d=d.parent;return M}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(d){if(typeof d=="string")return d.charCodeAt(0)===10;if(d===tt||d.piece.lineFeedCnt===0)return!1;let M=d.piece,U=this._buffers[M.bufferIndex].lineStarts,oe=M.start.line,he=U[oe]+M.start.column;return oe===U.length-1||U[oe+1]>he+1?!1:this._buffers[M.bufferIndex].buffer.charCodeAt(he)===10}endWithCR(d){return typeof d=="string"?d.charCodeAt(d.length-1)===13:d===tt||d.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(d,d.piece.length-1)===13}validateCRLFWithPrevNode(d){if(this.shouldCheckCRLF()&&this.startWithLF(d)){let M=d.prev();this.endWithCR(M)&&this.fixCRLF(M,d)}}validateCRLFWithNextNode(d){if(this.shouldCheckCRLF()&&this.endWithCR(d)){let M=d.next();this.startWithLF(M)&&this.fixCRLF(d,M)}}fixCRLF(d,M){let U=[],oe=this._buffers[d.piece.bufferIndex].lineStarts,he;d.piece.end.column===0?he={line:d.piece.end.line-1,column:oe[d.piece.end.line]-oe[d.piece.end.line-1]-1}:he={line:d.piece.end.line,column:d.piece.end.column-1};const Le=d.piece.length-1,We=d.piece.lineFeedCnt-1;d.piece=new ui(d.piece.bufferIndex,d.piece.start,he,We,Le),Ze(this,d,-1,-1),d.piece.length===0&&U.push(d);let lt={line:M.piece.start.line+1,column:0};const Pt=M.piece.length-1,St=this.getLineFeedCnt(M.piece.bufferIndex,lt,M.piece.end);M.piece=new ui(M.piece.bufferIndex,lt,M.piece.end,St,Pt),Ze(this,M,-1,-1),M.piece.length===0&&U.push(M);let Rt=this.createNewPieces(`\r
`);this.rbInsertRight(d,Rt[0]);for(let Gt=0;Gt<U.length;Gt++)Pe(this,U[Gt])}adjustCarriageReturnFromNext(d,M){if(this.shouldCheckCRLF()&&this.endWithCR(d)){let U=M.next();if(this.startWithLF(U)){if(d+=`
`,U.piece.length===1)Pe(this,U);else{const oe=U.piece,he={line:oe.start.line+1,column:0},Le=oe.length-1,We=this.getLineFeedCnt(oe.bufferIndex,he,oe.end);U.piece=new ui(oe.bufferIndex,he,oe.end,We,Le),Ze(this,U,-1,-1)}return!0}}return!1}iterate(d,M){if(d===tt)return M(tt);let U=this.iterate(d.left,M);return U&&M(d)&&this.iterate(d.right,M)}getNodeContent(d){if(d===tt)return"";let M=this._buffers[d.piece.bufferIndex],U,oe=d.piece,he=this.offsetInBuffer(oe.bufferIndex,oe.start),Le=this.offsetInBuffer(oe.bufferIndex,oe.end);return U=M.buffer.substring(he,Le),U}getPieceContent(d){let M=this._buffers[d.bufferIndex],U=this.offsetInBuffer(d.bufferIndex,d.start),oe=this.offsetInBuffer(d.bufferIndex,d.end);return M.buffer.substring(U,oe)}rbInsertRight(d,M){let U=new Je(M,1);if(U.left=tt,U.right=tt,U.parent=tt,U.size_left=0,U.lf_left=0,this.root===tt)this.root=U,U.color=0;else if(d.right===tt)d.right=U,U.parent=d;else{let he=ke(d.right);he.left=U,U.parent=he}return ye(this,U),U}rbInsertLeft(d,M){let U=new Je(M,1);if(U.left=tt,U.right=tt,U.parent=tt,U.size_left=0,U.lf_left=0,this.root===tt)this.root=U,U.color=0;else if(d.left===tt)d.left=U,U.parent=d;else{let oe=fe(d.left);oe.right=U,U.parent=oe}return ye(this,U),U}}var zi=c(58409),kn=c(60962);class Ki extends Q.JT{constructor(d,M,U,oe,he,Le,We){super(),this._onDidChangeContent=this._register(new O.Q5),this._BOM=M,this._mightContainNonBasicASCII=!Le,this._mightContainRTL=oe,this._mightContainUnusualLineTerminators=he,this._pieceTree=new ci(d,U,We)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(d){return this._pieceTree.createSnapshot(d?this._BOM:"")}getOffsetAt(d,M){return this._pieceTree.getOffsetAt(d,M)}getPositionAt(d){return this._pieceTree.getPositionAt(d)}getRangeAt(d,M){let U=d+M;const oe=this.getPositionAt(d),he=this.getPositionAt(U);return new B.e(oe.lineNumber,oe.column,he.lineNumber,he.column)}getValueInRange(d,M=0){if(d.isEmpty())return"";const U=this._getEndOfLine(M);return this._pieceTree.getValueInRange(d,U)}getValueLengthInRange(d,M=0){if(d.isEmpty())return 0;if(d.startLineNumber===d.endLineNumber)return d.endColumn-d.startColumn;let U=this.getOffsetAt(d.startLineNumber,d.startColumn);return this.getOffsetAt(d.endLineNumber,d.endColumn)-U}getCharacterCountInRange(d,M=0){if(this._mightContainNonBasicASCII){let U=0;const oe=d.startLineNumber,he=d.endLineNumber;for(let Le=oe;Le<=he;Le++){const We=this.getLineContent(Le),lt=Le===oe?d.startColumn-1:0,Pt=Le===he?d.endColumn-1:We.length;for(let St=lt;St<Pt;St++)P.ZG(We.charCodeAt(St))?(U=U+1,St=St+1):U=U+1}return U+=this._getEndOfLine(M).length*(he-oe),U}return this.getValueLengthInRange(d,M)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(d){return this._pieceTree.getLineContent(d)}getLineCharCode(d,M){return this._pieceTree.getLineCharCode(d,M)}getLineLength(d){return this._pieceTree.getLineLength(d)}getLineFirstNonWhitespaceColumn(d){const M=P.LC(this.getLineContent(d));return M===-1?0:M+1}getLineLastNonWhitespaceColumn(d){const M=P.ow(this.getLineContent(d));return M===-1?0:M+2}_getEndOfLine(d){switch(d){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(d){this._pieceTree.setEOL(d)}applyEdits(d,M,U){let oe=this._mightContainRTL,he=this._mightContainUnusualLineTerminators,Le=this._mightContainNonBasicASCII,We=!0,lt=[];for(let we=0;we<d.length;we++){let dt=d[we];We&&dt._isTracked&&(We=!1);let pt=dt.range;if(dt.text){let Ri=!0;Le||(Ri=!P.$i(dt.text),Le=Ri),!oe&&Ri&&(oe=P.Ut(dt.text)),!he&&Ri&&(he=P.ab(dt.text))}let rt="",Ut=0,ni=0,zt=0;if(dt.text){let Ri;[Ut,ni,zt,Ri]=(0,zi.QZ)(dt.text);const Ci=this.getEOL();Ri===0||Ri===(Ci===`\r
`?2:1)?rt=dt.text:rt=dt.text.replace(/\r\n|\r|\n/g,Ci)}lt[we]={sortIndex:we,identifier:dt.identifier||null,range:pt,rangeOffset:this.getOffsetAt(pt.startLineNumber,pt.startColumn),rangeLength:this.getValueLengthInRange(pt),text:rt,eolCount:Ut,firstLineLength:ni,lastLineLength:zt,forceMoveMarkers:!!dt.forceMoveMarkers,isAutoWhitespaceEdit:dt.isAutoWhitespaceEdit||!1}}lt.sort(Ki._sortOpsAscending);let Pt=!1;for(let we=0,dt=lt.length-1;we<dt;we++){let pt=lt[we].range.getEndPosition(),rt=lt[we+1].range.getStartPosition();if(rt.isBeforeOrEqual(pt)){if(rt.isBefore(pt))throw new Error("Overlapping ranges are not allowed!");Pt=!0}}We&&(lt=this._reduceOperations(lt));let St=U||M?Ki._getInverseEditRanges(lt):[],Rt=[];if(M)for(let we=0;we<lt.length;we++){let dt=lt[we],pt=St[we];if(dt.isAutoWhitespaceEdit&&dt.range.isEmpty())for(let rt=pt.startLineNumber;rt<=pt.endLineNumber;rt++){let Ut="";rt===pt.startLineNumber&&(Ut=this.getLineContent(dt.range.startLineNumber),P.LC(Ut)!==-1)||Rt.push({lineNumber:rt,oldContent:Ut})}}let Gt=null;if(U){let we=0;Gt=[];for(let dt=0;dt<lt.length;dt++){const pt=lt[dt],rt=St[dt],Ut=this.getValueInRange(pt.range),ni=pt.rangeOffset+we;we+=pt.text.length-Ut.length,Gt[dt]={sortIndex:pt.sortIndex,identifier:pt.identifier,range:rt,text:Ut,textChange:new kn.q(pt.rangeOffset,Ut,ni,pt.text)}}Pt||Gt.sort((dt,pt)=>dt.sortIndex-pt.sortIndex)}this._mightContainRTL=oe,this._mightContainUnusualLineTerminators=he,this._mightContainNonBasicASCII=Le;const li=this._doApplyEdits(lt);let ae=null;if(M&&Rt.length>0){Rt.sort((we,dt)=>dt.lineNumber-we.lineNumber),ae=[];for(let we=0,dt=Rt.length;we<dt;we++){let pt=Rt[we].lineNumber;if(we>0&&Rt[we-1].lineNumber===pt)continue;let rt=Rt[we].oldContent,Ut=this.getLineContent(pt);Ut.length===0||Ut===rt||P.LC(Ut)!==-1||ae.push(pt)}}return this._onDidChangeContent.fire(),new N.je(Gt,li,ae)}_reduceOperations(d){return d.length<1e3?d:[this._toSingleEditOperation(d)]}_toSingleEditOperation(d){let M=!1;const U=d[0].range,oe=d[d.length-1].range,he=new B.e(U.startLineNumber,U.startColumn,oe.endLineNumber,oe.endColumn);let Le=U.startLineNumber,We=U.startColumn;const lt=[];for(let li=0,ae=d.length;li<ae;li++){const we=d[li],dt=we.range;M=M||we.forceMoveMarkers,lt.push(this.getValueInRange(new B.e(Le,We,dt.startLineNumber,dt.startColumn))),we.text.length>0&&lt.push(we.text),Le=dt.endLineNumber,We=dt.endColumn}const Pt=lt.join(""),[St,Rt,Gt]=(0,zi.QZ)(Pt);return{sortIndex:0,identifier:d[0].identifier,range:he,rangeOffset:this.getOffsetAt(he.startLineNumber,he.startColumn),rangeLength:this.getValueLengthInRange(he,0),text:Pt,eolCount:St,firstLineLength:Rt,lastLineLength:Gt,forceMoveMarkers:M,isAutoWhitespaceEdit:!1}}_doApplyEdits(d){d.sort(Ki._sortOpsDescending);let M=[];for(let U=0;U<d.length;U++){let oe=d[U];const he=oe.range.startLineNumber,Le=oe.range.startColumn,We=oe.range.endLineNumber,lt=oe.range.endColumn;if(he===We&&Le===lt&&oe.text.length===0)continue;oe.text?(this._pieceTree.delete(oe.rangeOffset,oe.rangeLength),this._pieceTree.insert(oe.rangeOffset,oe.text,!0)):this._pieceTree.delete(oe.rangeOffset,oe.rangeLength);const Pt=new B.e(he,Le,We,lt);M.push({range:Pt,rangeLength:oe.rangeLength,text:oe.text,rangeOffset:oe.rangeOffset,forceMoveMarkers:oe.forceMoveMarkers})}return M}findMatchesLineByLine(d,M,U,oe){return this._pieceTree.findMatchesLineByLine(d,M,U,oe)}static _getInverseEditRanges(d){let M=[],U=0,oe=0,he=null;for(let Le=0,We=d.length;Le<We;Le++){let lt=d[Le],Pt,St;he?he.range.endLineNumber===lt.range.startLineNumber?(Pt=U,St=oe+(lt.range.startColumn-he.range.endColumn)):(Pt=U+(lt.range.startLineNumber-he.range.endLineNumber),St=lt.range.startColumn):(Pt=lt.range.startLineNumber,St=lt.range.startColumn);let Rt;if(lt.text.length>0){const Gt=lt.eolCount+1;Gt===1?Rt=new B.e(Pt,St,Pt,St+lt.firstLineLength):Rt=new B.e(Pt,St,Pt+Gt-1,lt.lastLineLength+1)}else Rt=new B.e(Pt,St,Pt,St);U=Rt.endLineNumber,oe=Rt.endColumn,M.push(Rt),he=lt}return M}static _sortOpsAscending(d,M){let U=B.e.compareRangesUsingEnds(d.range,M.range);return U===0?d.sortIndex-M.sortIndex:U}static _sortOpsDescending(d,M){let U=B.e.compareRangesUsingEnds(d.range,M.range);return U===0?M.sortIndex-d.sortIndex:-U}}class ls{constructor(d,M,U,oe,he,Le,We,lt,Pt){this._chunks=d,this._bom=M,this._cr=U,this._lf=oe,this._crlf=he,this._containsRTL=Le,this._containsUnusualLineTerminators=We,this._isBasicASCII=lt,this._normalizeEOL=Pt}_getEOL(d){const M=this._cr+this._lf+this._crlf,U=this._cr+this._crlf;return M===0?d===1?`
`:`\r
`:U>M/2?`\r
`:`
`}create(d){const M=this._getEOL(d);let U=this._chunks;if(this._normalizeEOL&&(M===`\r
`&&(this._cr>0||this._lf>0)||M===`
`&&(this._cr>0||this._crlf>0)))for(let he=0,Le=U.length;he<Le;he++){let We=U[he].buffer.replace(/\r\n|\r|\n/g,M),lt=Ot(We);U[he]=new Ke(We,lt)}const oe=new Ki(U,this._bom,M,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:oe,disposable:oe}}}class Bn{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(d){if(d.length===0)return;this.chunks.length===0&&P.uS(d)&&(this.BOM=P.c1,d=d.substr(1));const M=d.charCodeAt(d.length-1);M===13||M>=55296&&M<=56319?(this._acceptChunk1(d.substr(0,d.length-1),!1),this._hasPreviousChar=!0,this._previousChar=M):(this._acceptChunk1(d,!1),this._hasPreviousChar=!1,this._previousChar=M)}_acceptChunk1(d,M){!M&&d.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+d):this._acceptChunk2(d))}_acceptChunk2(d){const M=en(this._tmpLineStarts,d);this.chunks.push(new Ke(d,M.lineStarts)),this.cr+=M.cr,this.lf+=M.lf,this.crlf+=M.crlf,this.isBasicASCII&&(this.isBasicASCII=M.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=P.Ut(d)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=P.ab(d))}finish(d=!0){return this._finish(),new ls(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,d)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let d=this.chunks[this.chunks.length-1];d.buffer+=String.fromCharCode(this._previousChar);let M=Ot(d.buffer);d.lineStarts=M,this._previousChar===13&&this.cr++}}}var On=c(83256),Zi=c(9488),Mn=c(78411),an=c(10351),$e=c(28111),Tt=c(84013),It=c(1432);class Ge{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(d){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,d&&this._setBeginState(0,d)}flush(d){this._reset(d)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(d){d<this._len&&(this._valid[d]=!1),d<this._invalidLineStartIndex&&(this._invalidLineStartIndex=d)}_isValid(d){return d<this._len?this._valid[d]:!1}getBeginState(d){return d<this._len?this._beginState[d]:null}_ensureLine(d){for(;d>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(d,M){M!==0&&(d+M>this._len&&(M=this._len-d),this._beginState.splice(d,M),this._valid.splice(d,M),this._len-=M)}_insertLines(d,M){if(M===0)return;const U=[],oe=[];for(let he=0;he<M;he++)U[he]=null,oe[he]=!1;this._beginState=Zi.Zv(this._beginState,d,U),this._valid=Zi.Zv(this._valid,d,oe),this._len+=M}_setValid(d,M){this._ensureLine(d),this._valid[d]=M}_setBeginState(d,M){this._ensureLine(d),this._beginState[d]=M}setEndState(d,M,U){if(this._setValid(M,!0),this._invalidLineStartIndex=M+1,M===d-1)return;const oe=this.getBeginState(M+1);if(oe===null||!U.equals(oe)){this._setBeginState(M+1,U),this._invalidateLine(M+1);return}let he=M+1;for(;he<d&&this._isValid(he);)he++;this._invalidLineStartIndex=he}setFakeTokens(d){this._setValid(d,!1)}applyEdits(d,M){const U=d.endLineNumber-d.startLineNumber,he=Math.min(U,M);for(let Le=he;Le>=0;Le--)this._invalidateLine(d.startLineNumber+Le-1);this._acceptDeleteRange(d),this._acceptInsertText(new R.L(d.startLineNumber,d.startColumn),M)}_acceptDeleteRange(d){d.startLineNumber-1>=this._len||this._deleteLines(d.startLineNumber,d.endLineNumber-d.startLineNumber)}_acceptInsertText(d,M){d.lineNumber-1>=this._len||this._insertLines(d.lineNumber,M)}}class Xe extends Q.JT{constructor(d,M){super(),this._textModel=d,this._languageIdCodec=M,this._isDisposed=!1,this._tokenizationStateStore=new Ge,this._tokenizationSupport=null,this._register(an.RW.onDidChange(U=>{const oe=this._textModel.getLanguageId();U.changedLanguages.indexOf(oe)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(U=>{if(U.isFlush){this._resetTokenizationState();return}for(let oe=0,he=U.changes.length;oe<he;oe++){const Le=U.changes[oe],[We]=(0,zi.QZ)(Le.text);this._tokenizationStateStore.applyEdits(Le.range,We)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[d,M]=kt(this._textModel);this._tokenizationSupport=d,this._tokenizationStateStore.flush(M),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&It.xS(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(){const d=this._textModel.getLineCount(),M=1,U=new zi.DA,oe=Tt.G.create(!1);let he=-1;for(;this._hasLinesToTokenize()&&!(oe.elapsed()>M||(he=this._tokenizeOneInvalidLine(U),he>=d)););this._beginBackgroundTokenization(),this._textModel.setTokens(U.tokens,!this._hasLinesToTokenize())}tokenizeViewport(d,M){const U=new zi.DA;this._tokenizeViewport(U,d,M),this._textModel.setTokens(U.tokens,!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(d){const M=new zi.DA;this._updateTokensUntilLine(M,d),this._textModel.setTokens(M.tokens,!this._hasLinesToTokenize())}isCheapToTokenize(d){if(!this._tokenizationSupport)return!0;const M=this._tokenizationStateStore.invalidLineStartIndex+1;return d>M?!1:d<M||this._textModel.getLineLength(d)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(d){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const M=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(d,M),M}_updateTokensUntilLine(d,M){if(!this._tokenizationSupport)return;const U=this._textModel.getLanguageId(),oe=this._textModel.getLineCount(),he=M-1;for(let Le=this._tokenizationStateStore.invalidLineStartIndex;Le<=he;Le++){const We=this._textModel.getLineContent(Le+1),lt=this._tokenizationStateStore.getBeginState(Le),Pt=At(this._languageIdCodec,U,this._tokenizationSupport,We,!0,lt);d.add(Le+1,Pt.tokens),this._tokenizationStateStore.setEndState(oe,Le,Pt.endState),Le=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(d,M,U){if(!this._tokenizationSupport||U<=this._tokenizationStateStore.invalidLineStartIndex)return;if(M<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(d,U);return}let oe=this._textModel.getLineFirstNonWhitespaceColumn(M);const he=[];let Le=null;for(let Pt=M-1;oe>1&&Pt>=1;Pt--){const St=this._textModel.getLineFirstNonWhitespaceColumn(Pt);if(St!==0&&St<oe){if(Le=this._tokenizationStateStore.getBeginState(Pt-1),Le)break;he.push(this._textModel.getLineContent(Pt)),oe=St}}Le||(Le=this._tokenizationSupport.getInitialState());const We=this._textModel.getLanguageId();let lt=Le;for(let Pt=he.length-1;Pt>=0;Pt--)lt=At(this._languageIdCodec,We,this._tokenizationSupport,he[Pt],!1,lt).endState;for(let Pt=M;Pt<=U;Pt++){const St=this._textModel.getLineContent(Pt),Rt=At(this._languageIdCodec,We,this._tokenizationSupport,St,!0,lt);d.add(Pt,Rt.tokens),this._tokenizationStateStore.setFakeTokens(Pt-1),lt=Rt.endState}}}function kt(Be){const d=Be.getLanguageId();let M=Be.isTooLargeForTokenization()?null:an.RW.get(d),U=null;if(M)try{U=M.getInitialState()}catch(oe){(0,E.dL)(oe),M=null}return[M,U]}function At(Be,d,M,U,oe,he){let Le=null;if(M)try{Le=M.tokenize2(U,oe,he.clone(),0)}catch(We){(0,E.dL)(We)}return Le||(Le=(0,$e.mh)(Be.encodeLanguageId(d),U,he,0)),Mn.A.convertToEndOffset(Le.tokens,U.length),Le}var Jt=c(97461),ai=c(94660),yi=c(40764),sn=c(34227),Ji=c(41264),Qn=c(64862);class Ui{constructor(d,M,U){this.range=d,this.nestingLevel=M,this.isInvalid=U}}class on{constructor(d,M,U,oe){this.range=d,this.openingBracketRange=M,this.closingBracketRange=U,this.nestingLevel=oe}}class wt extends on{constructor(d,M,U,oe,he){super(d,M,U,oe),this.minVisibleColumnIndentation=he}}class ft{constructor(d,M){this.lineCount=d,this.columnCount=M}toString(){return`${this.lineCount},${this.columnCount}`}}function xt(Be,d,M,U){return Be!==M?ut(M-Be,U):ut(0,U-d)}const Ve=0;function qe(Be){return Be===0}const mt=Math.pow(2,26);function ut(Be,d){return Be*mt+d}function ri(Be){const d=Be,M=Math.floor(d/mt),U=d-M*mt;return new ft(M,U)}function $i(Be){return Math.floor(Be/mt)}function _i(Be){return Be}function Ni(Be,d){return d<mt?Be+d:Be-Be%mt+d}function Gi(Be,d){const M=Be,U=d;if(U-M<=0)return Ve;const he=Math.floor(M/mt),Le=Math.floor(U/mt),We=U-Le*mt;if(he===Le){const lt=M-he*mt;return ut(0,We-lt)}else return ut(Le-he,We)}function hn(Be,d){return Be<d}function pn(Be,d){return Be<=d}function Ai(Be,d){return Be>=d}function pi(Be){return ut(Be.lineNumber-1,Be.column-1)}function _n(Be,d){const M=Be,U=Math.floor(M/mt),oe=M-U*mt,he=d,Le=Math.floor(he/mt),We=he-Le*mt;return new B.e(U+1,oe+1,Le+1,We+1)}function En(Be){const d=(0,P.uq)(Be);return ut(d.length-1,d[d.length-1].length)}function is(Be){return Be}class ds{constructor(d,M,U){this.startOffset=d,this.endOffset=M,this.newLength=U}}class Xn{constructor(d,M){this.documentLength=M,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=d.map(U=>Rs.from(U))}getOffsetBeforeChange(d){return this.adjustNextEdit(d),this.translateCurToOld(d)}getDistanceToNextChange(d){this.adjustNextEdit(d);const M=this.edits[this.nextEditIdx],U=M?this.translateOldToCur(M.offsetObj):this.documentLength;return Gi(d,U)}translateOldToCur(d){return d.lineCount===this.deltaLineIdxInOld?ut(d.lineCount+this.deltaOldToNewLineCount,d.columnCount+this.deltaOldToNewColumnCount):ut(d.lineCount+this.deltaOldToNewLineCount,d.columnCount)}translateCurToOld(d){const M=ri(d);return M.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?ut(M.lineCount-this.deltaOldToNewLineCount,M.columnCount-this.deltaOldToNewColumnCount):ut(M.lineCount-this.deltaOldToNewLineCount,M.columnCount)}adjustNextEdit(d){for(;this.nextEditIdx<this.edits.length;){const M=this.edits[this.nextEditIdx],U=this.translateOldToCur(M.endOffsetAfterObj);if(pn(U,d)){this.nextEditIdx++;const oe=ri(U),he=ri(this.translateOldToCur(M.endOffsetBeforeObj)),Le=oe.lineCount-he.lineCount;this.deltaOldToNewLineCount+=Le;const We=this.deltaLineIdxInOld===M.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,lt=oe.columnCount-he.columnCount;this.deltaOldToNewColumnCount=We+lt,this.deltaLineIdxInOld=M.endOffsetBeforeObj.lineCount}else break}}}class Rs{constructor(d,M,U){this.endOffsetBeforeObj=ri(M),this.endOffsetAfterObj=ri(Ni(d,U)),this.offsetObj=ri(d)}static from(d){return new Rs(d.startOffset,d.endOffset,d.newLength)}}var Co=c(47707);const js=new Array;class _s{constructor(d,M){this.items=d,this.additionalItems=M}static create(d,M){if(d<=128&&M.length===0){let U=_s.cache[d];return U||(U=new _s(d,M),_s.cache[d]=U),U}return new _s(d,M)}static getEmpty(){return this.empty}add(d,M){const U=M.getKey(d);let oe=U>>5;if(oe===0){const Le=1<<U|this.items;return Le===this.items?this:_s.create(Le,this.additionalItems)}oe--;const he=this.additionalItems.slice(0);for(;he.length<oe;)he.push(0);return he[oe]|=1<<(U&31),_s.create(this.items,he)}merge(d){const M=this.items|d.items;if(this.additionalItems===js&&d.additionalItems===js)return M===this.items?this:M===d.items?d:_s.create(M,js);const U=new Array;for(let oe=0;oe<Math.max(this.additionalItems.length,d.additionalItems.length);oe++){const he=this.additionalItems[oe]||0,Le=d.additionalItems[oe]||0;U.push(he|Le)}return _s.create(M,U)}intersects(d){if(this.items&d.items)return!0;for(let M=0;M<Math.min(this.additionalItems.length,d.additionalItems.length);M++)if(this.additionalItems[M]&d.additionalItems[M])return!0;return!1}}_s.cache=new Array(129),_s.empty=_s.create(0,js);const ho={getKey(Be){return Be}};class oo{constructor(){this.items=new Map}getKey(d){let M=this.items.get(d);return M===void 0&&(M=this.items.size,this.items.set(d,M)),M}}class qs{constructor(d){this._length=d}get length(){return this._length}}class Es extends qs{constructor(d,M,U,oe,he){super(d),this.openingBracket=M,this.child=U,this.closingBracket=oe,this.missingOpeningBracketIds=he}static create(d,M,U){let oe=d.length;return M&&(oe=Ni(oe,M.length)),U&&(oe=Ni(oe,U.length)),new Es(oe,d,M,U,M?M.missingOpeningBracketIds:_s.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(d){switch(d){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const d=new Array;return d.push(this.openingBracket),this.child&&d.push(this.child),this.closingBracket&&d.push(this.closingBracket),d}canBeReused(d){return!(this.closingBracket===null||d.intersects(this.missingOpeningBracketIds))}deepClone(){return new Es(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(d,M){return this.child?this.child.computeMinIndentation(Ni(d,this.openingBracket.length),M):Number.MAX_SAFE_INTEGER}}class Fs extends qs{constructor(d,M,U){super(d),this.listHeight=M,this._missingOpeningBracketIds=U,this.cachedMinIndentation=-1}static create23(d,M,U,oe=!1){let he=d.length,Le=d.missingOpeningBracketIds;if(d.listHeight!==M.listHeight)throw new Error("Invalid list heights");if(he=Ni(he,M.length),Le=Le.merge(M.missingOpeningBracketIds),U){if(d.listHeight!==U.listHeight)throw new Error("Invalid list heights");he=Ni(he,U.length),Le=Le.merge(U.missingOpeningBracketIds)}return oe?new ro(he,d.listHeight+1,d,M,U,Le):new Xs(he,d.listHeight+1,d,M,U,Le)}static getEmpty(){return new $s(Ve,0,[],_s.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const d=this.childrenLength;if(d===0)return;const M=this.getChild(d-1),U=M.kind===4?M.toMutable():M;return M!==U&&this.setChild(d-1,U),U}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const M=this.getChild(0),U=M.kind===4?M.toMutable():M;return M!==U&&this.setChild(0,U),U}canBeReused(d){if(d.intersects(this.missingOpeningBracketIds))return!1;let M=this,U;for(;M.kind===4&&(U=M.childrenLength)>0;)M=M.getChild(U-1);return M.canBeReused(d)}handleChildrenChanged(){this.throwIfImmutable();const d=this.childrenLength;let M=this.getChild(0).length,U=this.getChild(0).missingOpeningBracketIds;for(let oe=1;oe<d;oe++){const he=this.getChild(oe);M=Ni(M,he.length),U=U.merge(he.missingOpeningBracketIds)}this._length=M,this._missingOpeningBracketIds=U,this.cachedMinIndentation=-1}computeMinIndentation(d,M){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let U=Number.MAX_SAFE_INTEGER,oe=d;for(let he=0;he<this.childrenLength;he++){const Le=this.getChild(he);Le&&(U=Math.min(U,Le.computeMinIndentation(oe,M)),oe=Ni(oe,Le.length))}return this.cachedMinIndentation=U,U}}class Xs extends Fs{constructor(d,M,U,oe,he,Le){super(d,M,Le),this._item1=U,this._item2=oe,this._item3=he}get childrenLength(){return this._item3!==null?3:2}getChild(d){switch(d){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(d,M){switch(d){case 0:this._item1=M;return;case 1:this._item2=M;return;case 2:this._item3=M;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new Xs(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(d){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=d,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const d=this._item3;return this._item3=null,this.handleChildrenChanged(),d}prependChildOfSameHeight(d){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=d,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const d=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),d}toMutable(){return this}}class ro extends Xs{toMutable(){return new Xs(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class Ys extends Fs{constructor(d,M,U,oe){super(d,M,oe),this._children=U}get childrenLength(){return this._children.length}getChild(d){return this._children[d]}setChild(d,M){this._children[d]=M}get children(){return this._children}deepClone(){const d=new Array(this._children.length);for(let M=0;M<this._children.length;M++)d[M]=this._children[M].deepClone();return new Ys(this.length,this.listHeight,d,this.missingOpeningBracketIds)}appendChildOfSameHeight(d){this.throwIfImmutable(),this._children.push(d),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const d=this._children.pop();return this.handleChildrenChanged(),d}prependChildOfSameHeight(d){this.throwIfImmutable(),this._children.unshift(d),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const d=this._children.shift();return this.handleChildrenChanged(),d}toMutable(){return this}}class $s extends Ys{toMutable(){return new Ys(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const mo=[];class Jn extends qs{get listHeight(){return 0}get childrenLength(){return 0}getChild(d){return null}get children(){return mo}deepClone(){return this}}class po extends Jn{get kind(){return 0}get missingOpeningBracketIds(){return _s.getEmpty()}canBeReused(d){return!0}computeMinIndentation(d,M){const U=ri(d),oe=(U.columnCount===0?U.lineCount:U.lineCount+1)+1,he=$i(Ni(d,this.length))+1;let Le=Number.MAX_SAFE_INTEGER;for(let We=oe;We<=he;We++){const lt=M.getLineFirstNonWhitespaceColumn(We),Pt=M.getLineContent(We);if(lt===0)continue;const St=Co.i.visibleColumnFromColumn(Pt,lt,M.getOptions().tabSize);Le=Math.min(Le,St)}return Le}}class os extends Jn{constructor(d){super(d)}static create(d){const M=d,U=os.cacheByLength.get(M);if(U)return U;const oe=new os(d);return os.cacheByLength.set(M,oe),oe}get kind(){return 1}get missingOpeningBracketIds(){return _s.getEmpty()}canBeReused(d){return!1}computeMinIndentation(d,M){return Number.MAX_SAFE_INTEGER}}os.cacheByLength=new Map;class jn extends Jn{constructor(d,M){super(M),this.missingOpeningBracketIds=d}get kind(){return 3}canBeReused(d){return!d.intersects(this.missingOpeningBracketIds)}computeMinIndentation(d,M){return Number.MAX_SAFE_INTEGER}}class ao{constructor(d,M,U,oe,he){this.length=d,this.kind=M,this.bracketId=U,this.bracketIds=oe,this.astNode=he}}class es{constructor(d,M){this.textModel=d,this.bracketTokens=M,this.reader=new eo(this.textModel,this.bracketTokens),this._offset=Ve,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=d.getLineCount(),this.textBufferLastLineLength=d.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return ut(this.textBufferLineCount,this.textBufferLastLineLength)}skip(d){this.didPeek=!1,this._offset=Ni(this._offset,d);const M=ri(this._offset);this.reader.setPosition(M.lineCount,M.columnCount)}read(){let d;return this.peeked?(this.didPeek=!1,d=this.peeked):d=this.reader.read(),d&&(this._offset=Ni(this._offset,d.length)),d}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class eo{constructor(d,M){this.textModel=d,this.bracketTokens=M,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=d.getLineCount(),this.textBufferLastLineLength=d.getLineLength(this.textBufferLineCount)}setPosition(d,M){d===this.lineIdx?(this.lineCharOffset=M,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=d,this.lineCharOffset=M,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const he=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=he.length,he}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const d=this.lineIdx,M=this.lineCharOffset;let U=0;for(;;){const he=this.lineTokens,Le=he.getCount();let We=null;if(this.lineTokenOffset<Le){const lt=he.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<Le&&lt===he.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const Pt=an.NX.getTokenType(lt)===0,St=he.getEndOffset(this.lineTokenOffset);if(Pt&&St!==this.lineCharOffset){const Rt=he.getLanguageId(this.lineTokenOffset),Gt=this.line.substring(this.lineCharOffset,St),li=this.bracketTokens.getSingleLanguageBracketTokens(Rt),ae=li.regExpGlobal;if(ae){ae.lastIndex=0;const we=ae.exec(Gt);we&&(We=li.getToken(we[0]),We&&(this.lineCharOffset+=we.index))}}if(U+=St-this.lineCharOffset,We)if(d!==this.lineIdx||M!==this.lineCharOffset){this.peekedToken=We;break}else return this.lineCharOffset+=We.length,We;else this.lineTokenOffset++,this.lineCharOffset=St}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,U+=33,U>1e3))break;if(U>1500)break}const oe=xt(d,M,this.lineIdx,this.lineCharOffset);return new ao(oe,0,-1,_s.getEmpty(),new po(oe))}}class xs{constructor(d,M){this.text=d,this._offset=Ve,this.idx=0;const oe=M.getRegExpStr()?new RegExp(M.getRegExpStr()+`|
`,"g"):null,he=[];let Le,We=0,lt=0,Pt=0,St=0;const Rt=new Array;for(let ae=0;ae<60;ae++)Rt.push(new ao(ut(0,ae),0,-1,_s.getEmpty(),new po(ut(0,ae))));const Gt=new Array;for(let ae=0;ae<60;ae++)Gt.push(new ao(ut(1,ae),0,-1,_s.getEmpty(),new po(ut(1,ae))));if(oe)for(oe.lastIndex=0;(Le=oe.exec(d))!==null;){const ae=Le.index,we=Le[0];if(we===`
`)We++,lt=ae+1;else{if(Pt!==ae){let dt;if(St===We){const pt=ae-Pt;if(pt<Rt.length)dt=Rt[pt];else{const rt=ut(0,pt);dt=new ao(rt,0,-1,_s.getEmpty(),new po(rt))}}else{const pt=We-St,rt=ae-lt;if(pt===1&&rt<Gt.length)dt=Gt[rt];else{const Ut=ut(pt,rt);dt=new ao(Ut,0,-1,_s.getEmpty(),new po(Ut))}}he.push(dt)}he.push(M.getToken(we)),Pt=ae+we.length,St=We}}const li=d.length;if(Pt!==li){const ae=St===We?ut(0,li-Pt):ut(We-St,li-lt);he.push(new ao(ae,0,-1,_s.getEmpty(),new po(ae)))}this.length=ut(We,li-lt),this.tokens=he}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(d){throw new E.B8}}class io{constructor(d){this.map=d,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(d,M){function U(lt,Pt){return M.getKey(`${lt}:::${Pt}`)}const oe=d.characterPair.getColorizedBrackets(),he=new Map,Le=new Set;for(const[lt,Pt]of oe){Le.add(lt);let St=he.get(Pt);const Rt=U(d.languageId,lt);St||(St={openingBrackets:_s.getEmpty(),first:Rt},he.set(Pt,St)),St.openingBrackets=St.openingBrackets.add(Rt,ho)}const We=new Map;for(const[lt,Pt]of he){const St=ut(0,lt.length);We.set(lt,new ao(St,2,Pt.first,Pt.openingBrackets,os.create(St)))}for(const lt of Le){const Pt=ut(0,lt.length),St=U(d.languageId,lt);We.set(lt,new ao(Pt,1,St,_s.getEmpty().add(St,ho),os.create(Pt)))}return new io(We)}getRegExpStr(){if(this.isEmpty)return null;{const d=[...this.map.keys()];return d.sort(),d.reverse(),d.map(M=>mi(M)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const d=this.getRegExpStr();this._regExpGlobal=d?new RegExp(d,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(d){return this.map.get(d)}get isEmpty(){return this.map.size===0}}function mi(Be){const d=(0,P.ec)(Be);return/^[\w ]+$/.test(Be)?`\\b${d}\\b`:d}class ge{constructor(d,M){this.denseKeyProvider=d,this.getLanguageConfiguration=M,this.languageIdToBracketTokens=new Map}didLanguageChange(d){const M=this.languageIdToBracketTokens.get(d);if(!M)return!1;const U=io.createFromLanguage(this.getLanguageConfiguration(d),this.denseKeyProvider).getRegExpStr();return M.getRegExpStr()!==U}getSingleLanguageBracketTokens(d){let M=this.languageIdToBracketTokens.get(d);return M||(M=io.createFromLanguage(this.getLanguageConfiguration(d),this.denseKeyProvider),this.languageIdToBracketTokens.set(d,M)),M}}function ct(Be){if(Be.length===0)return null;if(Be.length===1)return Be[0];let d=0;function M(){if(d>=Be.length)return null;const Le=d,We=Be[Le].listHeight;for(d++;d<Be.length&&Be[d].listHeight===We;)d++;return d-Le>=2?gt(Le===0&&d===Be.length?Be:Be.slice(Le,d),!1):Be[Le]}let U=M(),oe=M();if(!oe)return U;for(let Le=M();Le;Le=M())Wt(U,oe)<=Wt(oe,Le)?(U=ti(U,oe),oe=Le):oe=ti(oe,Le);return ti(U,oe)}function gt(Be,d=!1){if(Be.length===0)return null;if(Be.length===1)return Be[0];let M=Be.length;for(;M>3;){const U=M>>1;for(let oe=0;oe<U;oe++){const he=oe<<1;Be[oe]=Fs.create23(Be[he],Be[he+1],he+3===M?Be[he+2]:null,d)}M=U}return Fs.create23(Be[0],Be[1],M>=3?Be[2]:null,d)}function Wt(Be,d){return Math.abs(Be.listHeight-d.listHeight)}function ti(Be,d){return Be.listHeight===d.listHeight?Fs.create23(Be,d,null,!1):Be.listHeight>d.listHeight?Si(Be,d):hi(d,Be)}function Si(Be,d){Be=Be.toMutable();let M=Be;const U=new Array;let oe;for(;;){if(d.listHeight===M.listHeight){oe=d;break}if(M.kind!==4)throw new Error("unexpected");U.push(M),M=M.makeLastElementMutable()}for(let he=U.length-1;he>=0;he--){const Le=U[he];oe?Le.childrenLength>=3?oe=Fs.create23(Le.unappendChild(),oe,null,!1):(Le.appendChildOfSameHeight(oe),oe=void 0):Le.handleChildrenChanged()}return oe?Fs.create23(Be,oe,null,!1):Be}function hi(Be,d){Be=Be.toMutable();let M=Be;const U=new Array;for(;d.listHeight!==M.listHeight;){if(M.kind!==4)throw new Error("unexpected");U.push(M),M=M.makeFirstElementMutable()}let oe=d;for(let he=U.length-1;he>=0;he--){const Le=U[he];oe?Le.childrenLength>=3?oe=Fs.create23(oe,Le.unprependChild(),null,!1):(Le.prependChildOfSameHeight(oe),oe=void 0):Le.handleChildrenChanged()}return oe?Fs.create23(oe,Be,null,!1):Be}class Yt{constructor(d){this.lastOffset=Ve,this.nextNodes=[d],this.offsets=[Ve],this.idxs=[]}readLongestNodeAt(d,M){if(hn(d,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=d;;){const U=Li(this.nextNodes);if(!U)return;const oe=Li(this.offsets);if(hn(d,oe))return;if(hn(oe,d))if(Ni(oe,U.length)<=d)this.nextNodeAfterCurrent();else{const he=Vi(U);he!==-1?(this.nextNodes.push(U.getChild(he)),this.offsets.push(oe),this.idxs.push(he)):this.nextNodeAfterCurrent()}else{if(M(U))return this.nextNodeAfterCurrent(),U;{const he=Vi(U);if(he===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(U.getChild(he)),this.offsets.push(oe),this.idxs.push(he)}}}}nextNodeAfterCurrent(){for(;;){const d=Li(this.offsets),M=Li(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const U=Li(this.nextNodes),oe=Vi(U,this.idxs[this.idxs.length-1]);if(oe!==-1){this.nextNodes.push(U.getChild(oe)),this.offsets.push(Ni(d,M.length)),this.idxs[this.idxs.length-1]=oe;break}else this.idxs.pop()}}}function Vi(Be,d=-1){for(;;){if(d++,d>=Be.childrenLength)return-1;if(Be.getChild(d))return d}}function Li(Be){return Be.length>0?Be[Be.length-1]:void 0}function Pn(Be,d,M,U){return new Nt(Be,d,M,U).parseDocument()}class Nt{constructor(d,M,U,oe){if(this.tokenizer=d,this.createImmutableLists=oe,this._itemsConstructed=0,this._itemsFromCache=0,U&&oe)throw new Error("Not supported");this.oldNodeReader=U?new Yt(U):void 0,this.positionMapper=new Xn(M,d.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let d=this.parseList(_s.getEmpty());return d||(d=Fs.getEmpty()),d}parseList(d){const M=new Array;for(;;){const oe=this.tokenizer.peek();if(!oe||oe.kind===2&&oe.bracketIds.intersects(d))break;const he=this.parseChild(d);he.kind===4&&he.childrenLength===0||M.push(he)}return this.oldNodeReader?ct(M):gt(M,this.createImmutableLists)}parseChild(d){if(this.oldNodeReader){const U=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!qe(U)){const oe=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),he=>hn(he.length,U)?he.canBeReused(d):!1);if(oe)return this._itemsFromCache++,this.tokenizer.skip(oe.length),oe}}this._itemsConstructed++;const M=this.tokenizer.read();switch(M.kind){case 2:return new jn(M.bracketIds,M.length);case 0:return M.astNode;case 1:const U=d.merge(M.bracketIds),oe=this.parseList(U),he=this.tokenizer.peek();return he&&he.kind===2&&(he.bracketId===M.bracketId||he.bracketIds.intersects(M.bracketIds))?(this.tokenizer.read(),Es.create(M.astNode,oe,he.astNode)):Es.create(M.astNode,oe,null);default:throw new Error("unexpected")}}}class W extends Q.JT{constructor(d,M){super(),this.textModel=d,this.languageConfigurationService=M,this.cache=this._register(new Q.XK),this.onDidChangeEmitter=new O.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(d.onDidChangeOptions(U=>{this.cache.clear(),this.updateCache()})),this._register(d.onDidChangeLanguage(U=>{this.cache.clear(),this.updateCache()})),this._register(this.languageConfigurationService.onDidChange(U=>{var oe;(!U.languageId||!((oe=this.cache.value)===null||oe===void 0)&&oe.object.didLanguageChange(U.languageId))&&(this.cache.clear(),this.updateCache())}))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}updateCache(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.cache.value){const d=new Q.SL;this.cache.value=re(d.add(new Te(this.textModel,M=>this.languageConfigurationService.getLanguageConfiguration(M))),d),d.add(this.cache.value.object.onDidChange(M=>this.onDidChangeEmitter.fire(M))),this.onDidChangeEmitter.fire()}}else this.cache.clear(),this.onDidChangeEmitter.fire()}handleContentChanged(d){var M;(M=this.cache.value)===null||M===void 0||M.object.handleContentChanged(d)}getBracketPairsInRange(d){var M;return this.bracketsRequested=!0,this.updateCache(),((M=this.cache.value)===null||M===void 0?void 0:M.object.getBracketPairsInRange(d,!1))||[]}getBracketPairsInRangeWithMinIndentation(d){var M;return this.bracketsRequested=!0,this.updateCache(),((M=this.cache.value)===null||M===void 0?void 0:M.object.getBracketPairsInRange(d,!0))||[]}getBracketsInRange(d){var M;return this.bracketsRequested=!0,this.updateCache(),((M=this.cache.value)===null||M===void 0?void 0:M.object.getBracketsInRange(d))||[]}}function re(Be,d){return{object:Be,dispose:()=>d==null?void 0:d.dispose()}}class Te extends Q.JT{constructor(d,M){if(super(),this.textModel=d,this.getLanguageConfiguration=M,this.didChangeEmitter=new O.Q5,this.denseKeyProvider=new oo,this.brackets=new ge(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(d.onBackgroundTokenizationStateChanged(()=>{if(d.backgroundTokenizationState===2){const U=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,U||this.didChangeEmitter.fire()}})),this._register(d.onDidChangeTokens(({ranges:U})=>{const oe=U.map(he=>new ds(ut(he.fromLineNumber-1,0),ut(he.toLineNumber,0),ut(he.toLineNumber-he.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(oe,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()})),d.backgroundTokenizationState===0){const U=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),oe=new xs(this.textModel.getValue(),U);this.initialAstWithoutTokens=Pn(oe,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else d.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):d.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(d){return this.brackets.didLanguageChange(d)}handleContentChanged(d){const M=d.changes.map(U=>{const oe=B.e.lift(U.range);return new ds(pi(oe.getStartPosition()),pi(oe.getEndPosition()),En(U.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(M,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(M,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(d,M,U){const he=M,Le=new es(this.textModel,this.brackets);return Pn(Le,d,he,U)}getBracketsInRange(d){const M=ut(d.startLineNumber-1,d.startColumn-1),U=ut(d.endLineNumber-1,d.endColumn-1),oe=new Array,he=this.initialAstWithoutTokens||this.astWithTokens;return Ye(he,Ve,he.length,M,U,oe),oe}getBracketPairsInRange(d,M){const U=new Array,oe=pi(d.getStartPosition()),he=pi(d.getEndPosition()),Le=this.initialAstWithoutTokens||this.astWithTokens,We=new bt(U,M,this.textModel);return $t(Le,Ve,Le.length,oe,he,We),U}}function Ye(Be,d,M,U,oe,he,Le=0){if(Be.kind===1){const We=_n(d,M);he.push(new Ui(We,Le-1,!1))}else if(Be.kind===3){const We=_n(d,M);he.push(new Ui(We,Le-1,!0))}else if(Be.kind===4)for(const We of Be.children)M=Ni(d,We.length),pn(d,oe)&&Ai(M,U)&&Ye(We,d,M,U,oe,he,Le),d=M;else if(Be.kind===2){Le++;{const We=Be.openingBracket;M=Ni(d,We.length),pn(d,oe)&&Ai(M,U)&&Ye(We,d,M,U,oe,he,Le),d=M}if(Be.child){const We=Be.child;M=Ni(d,We.length),pn(d,oe)&&Ai(M,U)&&Ye(We,d,M,U,oe,he,Le),d=M}if(Be.closingBracket){const We=Be.closingBracket;M=Ni(d,We.length),pn(d,oe)&&Ai(M,U)&&Ye(We,d,M,U,oe,he,Le),d=M}}}class bt{constructor(d,M,U){this.result=d,this.includeMinIndentation=M,this.textModel=U}}function $t(Be,d,M,U,oe,he,Le=0){var We;if(Be.kind===2){const Pt=Ni(d,Be.openingBracket.length);let St=-1;he.includeMinIndentation&&(St=Be.computeMinIndentation(d,he.textModel)),he.result.push(new wt(_n(d,M),_n(d,Pt),Be.closingBracket?_n(Ni(Pt,((We=Be.child)===null||We===void 0?void 0:We.length)||Ve),M):void 0,Le,St)),Le++}let lt=d;for(const Pt of Be.children){const St=lt;lt=Ni(lt,Pt.length),pn(St,oe)&&pn(U,lt)&&$t(Pt,St,lt,U,oe,he,Le)}}var si=c(27869),gi=c(97781);class Oi extends Q.JT{constructor(d){super(),this.textModel=d,this.colorProvider=new xi,this.onDidChangeEmitter=new O.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=d.getOptions().bracketPairColorizationOptions,this._register(d.onDidChangeOptions(M=>{this.colorizationOptions=d.getOptions().bracketPairColorizationOptions})),this._register(d.bracketPairs.onDidChange(M=>{this.onDidChangeEmitter.fire()}))}getDecorationsInRange(d,M,U){if(M===void 0)return[];if(!this.colorizationOptions.enabled)return[];const oe=new Array,he=this.textModel.bracketPairs.getBracketsInRange(d);for(const Le of he)oe.push({id:`bracket${Le.range.toString()}-${Le.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(Le)},ownerId:0,range:Le.range});return oe}getAllDecorations(d,M){return d===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new B.e(1,1,this.textModel.getLineCount(),1),d,M):[]}}class xi{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(d){return d.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(d.nestingLevel)}getInlineClassNameOfLevel(d){return`bracket-highlighting-${d%30}`}}(0,gi.Ic)((Be,d)=>{const M=[si.zJ,si.Vs,si.CE,si.UP,si.r0,si.m1],U=new xi;d.addRule(`.monaco-editor .${U.unexpectedClosingBracketClassName} { color: ${Be.getColor(si.ts)}; }`);let oe=M.map(he=>Be.getColor(he)).filter(he=>!!he).filter(he=>!he.isTransparent());for(let he=0;he<30;he++){const Le=oe[he%oe.length];d.addRule(`.monaco-editor .${U.getInlineClassNameOfLevel(he)} { color: ${Le}; }`)}});var Hi=c(71531),cn=function(Be,d,M,U){var oe=arguments.length,he=oe<3?d:U===null?U=Object.getOwnPropertyDescriptor(d,M):U,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")he=Reflect.decorate(Be,d,M,U);else for(var We=Be.length-1;We>=0;We--)(Le=Be[We])&&(he=(oe<3?Le(he):oe>3?Le(d,M,he):Le(d,M))||he);return oe>3&&he&&Object.defineProperty(d,M,he),he},Ii=function(Be,d){return function(M,U){d(M,U,Be)}};function ln(){return new Bn}function nn(Be){const d=ln();return d.acceptChunk(Be),d.finish()}function wn(Be,d){return(typeof Be=="string"?nn(Be):Be).create(d)}let Gn=0;const Ts=999,Ln=1e4;class jt{constructor(d){this._source=d,this._eos=!1}read(){if(this._eos)return null;let d=[],M=0,U=0;do{let oe=this._source.read();if(oe===null)return this._eos=!0,M===0?null:d.join("");if(oe.length>0&&(d[M++]=oe,U+=oe.length),U>=64*1024)return d.join("")}while(!0)}}const _e=()=>{throw new Error("Invalid change accessor")};class Me{constructor(){this._searchCanceledBrand=void 0}}Me.INSTANCE=new Me;function ze(Be){return Be instanceof Me?null:Be}let vt=class jr extends Q.JT{constructor(d,M,U,oe=null,he,Le,We){super(),this._undoRedoService=he,this._modeService=Le,this._languageConfigurationService=We,this._onWillDispose=this._register(new O.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new us(Gt=>this.handleBeforeFireDecorationsChangedEvent(Gt))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new O.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new O.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new O.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new O.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new O.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new O.Q5),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new Ls),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new O.Q5),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent(Gt=>{this._onDidChangeContentOrInjectedText.fire(Gt.rawContentChangedEvent)})),Gn++,this.id="$model"+Gn,this.isForSimpleWidget=M.isForSimpleWidget,typeof oe=="undefined"||oe===null?this._associatedResource=y.o.parse("inmemory://model/"+Gn):this._associatedResource=oe,this._attachedEditorCount=0;const{textBuffer:lt,disposable:Pt}=wn(d,M.defaultEOL);this._buffer=lt,this._bufferDisposable=Pt,this._options=jr.resolveOptions(this._buffer,M);const St=this._buffer.getLineCount(),Rt=this._buffer.getValueLengthInRange(new B.e(1,1,St,this._buffer.getLineLength(St)+1),0);M.largeFileOptimizations?this._isTooLargeForTokenization=Rt>jr.LARGE_FILE_SIZE_THRESHOLD||St>jr.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=Rt>jr.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=U||$e.TG,this._languageRegistryListener=this._languageConfigurationService.onDidChange(Gt=>{Gt.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=P.PJ(Gn),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Tn,this._commandManager=new g.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new zi.Rl(this._modeService.languageIdCodec),this._tokens2=new zi.cx(this._modeService.languageIdCodec),this._tokenization=new Xe(this,this._modeService.languageIdCodec),this._bracketPairColorizer=this._register(new W(this,this._languageConfigurationService)),this._decorationProvider=this._register(new Oi(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(d,M){if(M.detectIndentation){const U=r(d,M.tabSize,M.insertSpaces);return new N.dJ({tabSize:U.tabSize,indentSize:U.tabSize,insertSpaces:U.insertSpaces,trimAutoWhitespace:M.trimAutoWhitespace,defaultEOL:M.defaultEOL,bracketPairColorizationOptions:M.bracketPairColorizationOptions})}return new N.dJ({tabSize:M.tabSize,indentSize:M.indentSize,insertSpaces:M.insertSpaces,trimAutoWhitespace:M.trimAutoWhitespace,defaultEOL:M.defaultEOL,bracketPairColorizationOptions:M.bracketPairColorizationOptions})}onDidChangeContentFast(d){return this._eventEmitter.fastEvent(M=>d(M.contentChangedEvent))}onDidChangeContent(d){return this._eventEmitter.slowEvent(M=>d(M.contentChangedEvent))}get bracketPairs(){return this._bracketPairColorizer}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(d){if(this._backgroundTokenizationState===2)return;const M=d?2:1;this._backgroundTokenizationState!==M&&(this._backgroundTokenizationState=M,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const d=new Ki([],"",`
`,!1,!1,!0,!0);d.dispose(),this._buffer=d}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(d,M){this._bracketPairColorizer.handleContentChanged(M),!this._isDisposing&&this._eventEmitter.fire(new On.fV(d,M))}setValue(d){if(this._assertNotDisposed(),d===null)return;const{textBuffer:M,disposable:U}=wn(d,this._options.defaultEOL);this._setValueFromTextBuffer(M,U)}_createContentChanged2(d,M,U,oe,he,Le,We){return{changes:[{range:d,rangeOffset:M,rangeLength:U,text:oe}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:he,isRedoing:Le,isFlush:We}}_setValueFromTextBuffer(d,M){this._assertNotDisposed();const U=this.getFullModelRange(),oe=this.getValueLengthInRange(U),he=this.getLineCount(),Le=this.getLineMaxColumn(he);this._buffer=d,this._bufferDisposable.dispose(),this._bufferDisposable=M,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new Tn,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new On.dQ([new On.Jx],this._versionId,!1,!1),this._createContentChanged2(new B.e(1,1,he,Le),0,oe,this.getValue(),!1,!1,!0))}setEOL(d){this._assertNotDisposed();const M=d===1?`\r
`:`
`;if(this._buffer.getEOL()===M)return;const U=this.getFullModelRange(),oe=this.getValueLengthInRange(U),he=this.getLineCount(),Le=this.getLineMaxColumn(he);this._onBeforeEOLChange(),this._buffer.setEOL(M),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new On.dQ([new On.CZ],this._versionId,!1,!1),this._createContentChanged2(new B.e(1,1,he,Le),0,oe,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const d=this.getVersionId(),M=this._decorationsTree.collectNodesPostOrder();for(let U=0,oe=M.length;U<oe;U++){const he=M[U],Le=he.range,We=he.cachedAbsoluteStart-he.start,lt=this._buffer.getOffsetAt(Le.startLineNumber,Le.startColumn),Pt=this._buffer.getOffsetAt(Le.endLineNumber,Le.endColumn);he.cachedAbsoluteStart=lt,he.cachedAbsoluteEnd=Pt,he.cachedVersionId=d,he.start=lt-We,he.end=Pt-We,Dt(he)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let d=0,M=0;const U=this._buffer.getLineCount();for(let oe=1;oe<=U;oe++){const he=this._buffer.getLineLength(oe);he>=Ln?M+=he:d+=he}return M>d}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(d){this._assertNotDisposed();let M=typeof d.tabSize!="undefined"?d.tabSize:this._options.tabSize,U=typeof d.indentSize!="undefined"?d.indentSize:this._options.indentSize,oe=typeof d.insertSpaces!="undefined"?d.insertSpaces:this._options.insertSpaces,he=typeof d.trimAutoWhitespace!="undefined"?d.trimAutoWhitespace:this._options.trimAutoWhitespace,Le=typeof d.bracketColorizationOptions!="undefined"?d.bracketColorizationOptions:this._options.bracketPairColorizationOptions,We=new N.dJ({tabSize:M,indentSize:U,insertSpaces:oe,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:he,bracketPairColorizationOptions:Le});if(this._options.equals(We))return;let lt=this._options.createChangeEvent(We);this._options=We,this._onDidChangeOptions.fire(lt)}detectIndentation(d,M){this._assertNotDisposed();let U=r(this._buffer,M,d);this.updateOptions({insertSpaces:U.insertSpaces,tabSize:U.tabSize,indentSize:U.tabSize})}static _normalizeIndentationFromWhitespace(d,M,U){let oe=0;for(let Le=0;Le<d.length;Le++)d.charAt(Le)==="	"?oe+=M:oe++;let he="";if(!U){let Le=Math.floor(oe/M);oe=oe%M;for(let We=0;We<Le;We++)he+="	"}for(let Le=0;Le<oe;Le++)he+=" ";return he}static normalizeIndentation(d,M,U){let oe=P.LC(d);return oe===-1&&(oe=d.length),jr._normalizeIndentationFromWhitespace(d.substring(0,oe),M,U)+d.substring(oe)}normalizeIndentation(d){return this._assertNotDisposed(),jr.normalizeIndentation(d,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(d=null){const M=this.findMatches(P.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(d,M.map(U=>({range:U.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(d){this._assertNotDisposed();let M=this._validatePosition(d.lineNumber,d.column,0);return this._buffer.getOffsetAt(M.lineNumber,M.column)}getPositionAt(d){this._assertNotDisposed();let M=Math.min(this._buffer.getLength(),Math.max(0,d));return this._buffer.getPositionAt(M)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(d){this._versionId=d}_overwriteAlternativeVersionId(d){this._alternativeVersionId=d}_overwriteInitialUndoRedoSnapshot(d){this._initialUndoRedoSnapshot=d}getValue(d,M=!1){this._assertNotDisposed();const U=this.getFullModelRange(),oe=this.getValueInRange(U,d);return M?this._buffer.getBOM()+oe:oe}createSnapshot(d=!1){return new jt(this._buffer.createSnapshot(d))}getValueLength(d,M=!1){this._assertNotDisposed();const U=this.getFullModelRange(),oe=this.getValueLengthInRange(U,d);return M?this._buffer.getBOM().length+oe:oe}getValueInRange(d,M=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(d),M)}getValueLengthInRange(d,M=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(d),M)}getCharacterCountInRange(d,M=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(d),M)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(d){if(this._assertNotDisposed(),d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(d)}getLineLength(d){if(this._assertNotDisposed(),d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(d)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(d){return this._assertNotDisposed(),1}getLineMaxColumn(d){if(this._assertNotDisposed(),d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(d)+1}getLineFirstNonWhitespaceColumn(d){if(this._assertNotDisposed(),d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(d)}getLineLastNonWhitespaceColumn(d){if(this._assertNotDisposed(),d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(d)}_validateRangeRelaxedNoAllocations(d){const M=this._buffer.getLineCount(),U=d.startLineNumber,oe=d.startColumn;let he=Math.floor(typeof U=="number"&&!isNaN(U)?U:1),Le=Math.floor(typeof oe=="number"&&!isNaN(oe)?oe:1);if(he<1)he=1,Le=1;else if(he>M)he=M,Le=this.getLineMaxColumn(he);else if(Le<=1)Le=1;else{const Rt=this.getLineMaxColumn(he);Le>=Rt&&(Le=Rt)}const We=d.endLineNumber,lt=d.endColumn;let Pt=Math.floor(typeof We=="number"&&!isNaN(We)?We:1),St=Math.floor(typeof lt=="number"&&!isNaN(lt)?lt:1);if(Pt<1)Pt=1,St=1;else if(Pt>M)Pt=M,St=this.getLineMaxColumn(Pt);else if(St<=1)St=1;else{const Rt=this.getLineMaxColumn(Pt);St>=Rt&&(St=Rt)}return U===he&&oe===Le&&We===Pt&&lt===St&&d instanceof B.e&&!(d instanceof s.Y)?d:new B.e(he,Le,Pt,St)}_isValidPosition(d,M,U){if(typeof d!="number"||typeof M!="number"||isNaN(d)||isNaN(M)||d<1||M<1||(d|0)!==d||(M|0)!==M)return!1;const oe=this._buffer.getLineCount();if(d>oe)return!1;if(M===1)return!0;const he=this.getLineMaxColumn(d);if(M>he)return!1;if(U===1){const Le=this._buffer.getLineCharCode(d,M-2);if(P.ZG(Le))return!1}return!0}_validatePosition(d,M,U){const oe=Math.floor(typeof d=="number"&&!isNaN(d)?d:1),he=Math.floor(typeof M=="number"&&!isNaN(M)?M:1),Le=this._buffer.getLineCount();if(oe<1)return new R.L(1,1);if(oe>Le)return new R.L(Le,this.getLineMaxColumn(Le));if(he<=1)return new R.L(oe,1);const We=this.getLineMaxColumn(oe);if(he>=We)return new R.L(oe,We);if(U===1){const lt=this._buffer.getLineCharCode(oe,he-2);if(P.ZG(lt))return new R.L(oe,he-1)}return new R.L(oe,he)}validatePosition(d){return this._assertNotDisposed(),d instanceof R.L&&this._isValidPosition(d.lineNumber,d.column,1)?d:this._validatePosition(d.lineNumber,d.column,1)}_isValidRange(d,M){const U=d.startLineNumber,oe=d.startColumn,he=d.endLineNumber,Le=d.endColumn;if(!this._isValidPosition(U,oe,0)||!this._isValidPosition(he,Le,0))return!1;if(M===1){const We=oe>1?this._buffer.getLineCharCode(U,oe-2):0,lt=Le>1&&Le<=this._buffer.getLineLength(he)?this._buffer.getLineCharCode(he,Le-2):0,Pt=P.ZG(We),St=P.ZG(lt);return!Pt&&!St}return!0}validateRange(d){if(this._assertNotDisposed(),d instanceof B.e&&!(d instanceof s.Y)&&this._isValidRange(d,1))return d;const U=this._validatePosition(d.startLineNumber,d.startColumn,0),oe=this._validatePosition(d.endLineNumber,d.endColumn,0),he=U.lineNumber,Le=U.column,We=oe.lineNumber,lt=oe.column;{const Pt=Le>1?this._buffer.getLineCharCode(he,Le-2):0,St=lt>1&&lt<=this._buffer.getLineLength(We)?this._buffer.getLineCharCode(We,lt-2):0,Rt=P.ZG(Pt),Gt=P.ZG(St);return!Rt&&!Gt?new B.e(he,Le,We,lt):he===We&&Le===lt?new B.e(he,Le-1,We,lt-1):Rt&&Gt?new B.e(he,Le-1,We,lt+1):Rt?new B.e(he,Le-1,We,lt):new B.e(he,Le,We,lt+1)}return new B.e(he,Le,We,lt)}modifyPosition(d,M){this._assertNotDisposed();let U=this.getOffsetAt(d)+M;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,U)))}getFullModelRange(){this._assertNotDisposed();const d=this.getLineCount();return new B.e(1,1,d,this.getLineMaxColumn(d))}findMatchesLineByLine(d,M,U,oe){return this._buffer.findMatchesLineByLine(d,M,U,oe)}findMatches(d,M,U,oe,he,Le,We=Ts){this._assertNotDisposed();let lt=null;M!==null&&(Array.isArray(M)||(M=[M]),M.every(Rt=>B.e.isIRange(Rt))&&(lt=M.map(Rt=>this.validateRange(Rt)))),lt===null&&(lt=[this.getFullModelRange()]),lt=lt.sort((Rt,Gt)=>Rt.startLineNumber-Gt.startLineNumber||Rt.startColumn-Gt.startColumn);const Pt=[];Pt.push(lt.reduce((Rt,Gt)=>B.e.areIntersecting(Rt,Gt)?Rt.plusRange(Gt):(Pt.push(Rt),Gt)));let St;if(!U&&d.indexOf(`
`)<0){const Gt=new Ft.bc(d,U,oe,he).parseSearchRequest();if(!Gt)return[];St=li=>this.findMatchesLineByLine(li,Gt,Le,We)}else St=Rt=>Ft.pM.findMatches(this,new Ft.bc(d,U,oe,he),Rt,Le,We);return Pt.map(St).reduce((Rt,Gt)=>Rt.concat(Gt),[])}findNextMatch(d,M,U,oe,he,Le){this._assertNotDisposed();const We=this.validatePosition(M);if(!U&&d.indexOf(`
`)<0){const Pt=new Ft.bc(d,U,oe,he).parseSearchRequest();if(!Pt)return null;const St=this.getLineCount();let Rt=new B.e(We.lineNumber,We.column,St,this.getLineMaxColumn(St)),Gt=this.findMatchesLineByLine(Rt,Pt,Le,1);return Ft.pM.findNextMatch(this,new Ft.bc(d,U,oe,he),We,Le),Gt.length>0||(Rt=new B.e(1,1,We.lineNumber,this.getLineMaxColumn(We.lineNumber)),Gt=this.findMatchesLineByLine(Rt,Pt,Le,1),Gt.length>0)?Gt[0]:null}return Ft.pM.findNextMatch(this,new Ft.bc(d,U,oe,he),We,Le)}findPreviousMatch(d,M,U,oe,he,Le){this._assertNotDisposed();const We=this.validatePosition(M);return Ft.pM.findPreviousMatch(this,new Ft.bc(d,U,oe,he),We,Le)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(d){if((this.getEOL()===`
`?0:1)!==d)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(d)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(d){return d instanceof N.Qi?d:new N.Qi(d.identifier||null,this.validateRange(d.range),d.text,d.forceMoveMarkers||!1,d.isAutoWhitespaceEdit||!1,d._isTracked||!1)}_validateEditOperations(d){const M=[];for(let U=0,oe=d.length;U<oe;U++)M[U]=this._validateEditOperation(d[U]);return M}pushEditOperations(d,M,U){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(d,this._validateEditOperations(M),U)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(d,M,U){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let oe=M.map(Le=>({range:this.validateRange(Le.range),text:Le.text})),he=!0;if(d)for(let Le=0,We=d.length;Le<We;Le++){let lt=d[Le],Pt=!1;for(let St=0,Rt=oe.length;St<Rt;St++){let Gt=oe[St].range,li=Gt.startLineNumber>lt.endLineNumber,ae=lt.startLineNumber>Gt.endLineNumber;if(!li&&!ae){Pt=!0;break}}if(!Pt){he=!1;break}}if(he)for(let Le=0,We=this._trimAutoWhitespaceLines.length;Le<We;Le++){let lt=this._trimAutoWhitespaceLines[Le],Pt=this.getLineMaxColumn(lt),St=!0;for(let Rt=0,Gt=oe.length;Rt<Gt;Rt++){let li=oe[Rt].range,ae=oe[Rt].text;if(!(lt<li.startLineNumber||lt>li.endLineNumber)&&!(lt===li.startLineNumber&&li.startColumn===Pt&&li.isEmpty()&&ae&&ae.length>0&&ae.charAt(0)===`
`)&&!(lt===li.startLineNumber&&li.startColumn===1&&li.isEmpty()&&ae&&ae.length>0&&ae.charAt(ae.length-1)===`
`)){St=!1;break}}if(St){const Rt=new B.e(lt,1,lt,Pt);M.push(new N.Qi(null,Rt,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(d,M,U)}_applyUndo(d,M,U,oe){const he=d.map(Le=>{const We=this.getPositionAt(Le.newPosition),lt=this.getPositionAt(Le.newEnd);return{range:new B.e(We.lineNumber,We.column,lt.lineNumber,lt.column),text:Le.oldText}});this._applyUndoRedoEdits(he,M,!0,!1,U,oe)}_applyRedo(d,M,U,oe){const he=d.map(Le=>{const We=this.getPositionAt(Le.oldPosition),lt=this.getPositionAt(Le.oldEnd);return{range:new B.e(We.lineNumber,We.column,lt.lineNumber,lt.column),text:Le.newText}});this._applyUndoRedoEdits(he,M,!1,!0,U,oe)}_applyUndoRedoEdits(d,M,U,oe,he,Le){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=U,this._isRedoing=oe,this.applyEdits(d,!1),this.setEOL(M),this._overwriteAlternativeVersionId(he)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(Le),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(d,M=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const U=this._validateEditOperations(d);return this._doApplyEdits(U,M)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(d,M){const U=this._buffer.getLineCount(),oe=this._buffer.applyEdits(d,this._options.trimAutoWhitespace,M),he=this._buffer.getLineCount(),Le=oe.changes;if(this._trimAutoWhitespaceLines=oe.trimAutoWhitespaceLineNumbers,Le.length!==0){for(let Pt=0,St=Le.length;Pt<St;Pt++){const Rt=Le[Pt],[Gt,li,ae]=(0,zi.QZ)(Rt.text);this._tokens.acceptEdit(Rt.range,Gt,li),this._tokens2.acceptEdit(Rt.range,Gt,li,ae,Rt.text.length>0?Rt.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(Rt.rangeOffset,Rt.rangeLength,Rt.text.length,Rt.forceMoveMarkers)}let We=[];this._increaseVersionId();let lt=U;for(let Pt=0,St=Le.length;Pt<St;Pt++){const Rt=Le[Pt],[Gt]=(0,zi.QZ)(Rt.text);this._onDidChangeDecorations.fire();const li=Rt.range.startLineNumber,ae=Rt.range.endLineNumber,we=ae-li,dt=Gt,pt=Math.min(we,dt),rt=dt-we,Ut=he-lt-rt+li,ni=Ut,zt=Ut+dt,Ri=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new R.L(ni,1)),this.getOffsetAt(new R.L(zt,this.getLineMaxColumn(zt))),0),Ci=On.gk.fromDecorations(Ri),Ei=new Zi.H9(Ci);for(let wi=pt;wi>=0;wi--){const bn=li+wi,ji=Ut+wi;Ei.takeFromEndWhile(Wn=>Wn.lineNumber>ji);const gn=Ei.takeFromEndWhile(Wn=>Wn.lineNumber===ji);We.push(new On.rU(bn,this.getLineContent(ji),gn))}if(pt<we){const wi=li+pt;We.push(new On.lN(wi+1,ae))}if(pt<dt){const wi=new Zi.H9(Ci),bn=li+pt,ji=dt-pt,gn=he-lt-ji+bn+1;let Wn=[],zn=[];for(let Vn=0;Vn<ji;Vn++){let qn=gn+Vn;zn[Vn]=this.getLineContent(qn),wi.takeWhile(ws=>ws.lineNumber<qn),Wn[Vn]=wi.takeWhile(ws=>ws.lineNumber===qn)}We.push(new On.Tx(bn+1,li+dt,zn,Wn))}lt+=rt}this._emitContentChangedEvent(new On.dQ(We,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:Le,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return oe.reverseEdits===null?void 0:oe.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(d){if(d===null||d.size===0)return;const U=[...d].map(oe=>new On.rU(oe,this.getLineContent(oe),this._getInjectedTextInLine(oe)));this._onDidChangeContentOrInjectedText.fire(new On.D8(U))}changeDecorations(d,M=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(M,d)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(d,M){let U={addDecoration:(he,Le)=>this._deltaDecorationsImpl(d,[],[{range:he,options:Le}])[0],changeDecoration:(he,Le)=>{this._changeDecorationImpl(he,Le)},changeDecorationOptions:(he,Le)=>{this._changeDecorationOptionsImpl(he,ts(Le))},removeDecoration:he=>{this._deltaDecorationsImpl(d,[he],[])},deltaDecorations:(he,Le)=>he.length===0&&Le.length===0?[]:this._deltaDecorationsImpl(d,he,Le)},oe=null;try{oe=M(U)}catch(he){(0,E.dL)(he)}return U.addDecoration=_e,U.changeDecoration=_e,U.changeDecorationOptions=_e,U.removeDecoration=_e,U.deltaDecorations=_e,oe}deltaDecorations(d,M,U=0){if(this._assertNotDisposed(),d||(d=[]),d.length===0&&M.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(U,d,M)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(d){return this.getDecorationRange(d)}_setTrackedRange(d,M,U){const oe=d?this._decorations[d]:null;if(!oe)return M?this._deltaDecorationsImpl(0,[],[{range:M,options:Xi[U]}])[0]:null;if(!M)return this._decorationsTree.delete(oe),delete this._decorations[oe.id],null;const he=this._validateRangeRelaxedNoAllocations(M),Le=this._buffer.getOffsetAt(he.startLineNumber,he.startColumn),We=this._buffer.getOffsetAt(he.endLineNumber,he.endColumn);return this._decorationsTree.delete(oe),oe.reset(this.getVersionId(),Le,We,he),oe.setOptions(Xi[U]),this._decorationsTree.insert(oe),oe.id}removeAllDecorationsWithOwnerId(d){if(this._isDisposed)return;const M=this._decorationsTree.collectNodesFromOwner(d);for(let U=0,oe=M.length;U<oe;U++){const he=M[U];this._decorationsTree.delete(he),delete this._decorations[he.id]}}getDecorationOptions(d){const M=this._decorations[d];return M?M.options:null}getDecorationRange(d){const M=this._decorations[d];return M?this._decorationsTree.getNodeRange(this,M):null}getLineDecorations(d,M=0,U=!1){return d<1||d>this.getLineCount()?[]:this.getLinesDecorations(d,d,M,U)}getLinesDecorations(d,M,U=0,oe=!1){let he=this.getLineCount(),Le=Math.min(he,Math.max(1,d)),We=Math.min(he,Math.max(1,M)),lt=this.getLineMaxColumn(We);const Pt=new B.e(Le,1,We,lt),St=this._getDecorationsInRange(Pt,U,oe);return St.push(...this._decorationProvider.getDecorationsInRange(Pt,U,oe)),St}getDecorationsInRange(d,M=0,U=!1){let oe=this.validateRange(d);const he=this._getDecorationsInRange(oe,M,U);return he.push(...this._decorationProvider.getDecorationsInRange(oe,M,U)),he}getOverviewRulerDecorations(d=0,M=!1){return this._decorationsTree.getAll(this,d,M,!0)}getInjectedTextDecorations(d=0){return this._decorationsTree.getAllInjectedText(this,d)}_getInjectedTextInLine(d){const M=this._buffer.getOffsetAt(d,1),U=M+this._buffer.getLineLength(d),oe=this._decorationsTree.getInjectedTextInInterval(this,M,U,0);return On.gk.fromDecorations(oe).filter(he=>he.lineNumber===d)}getAllDecorations(d=0,M=!1){let U=this._decorationsTree.getAll(this,d,M,!1);return U=U.concat(this._decorationProvider.getAllDecorations(d,M)),U}_getDecorationsInRange(d,M,U){const oe=this._buffer.getOffsetAt(d.startLineNumber,d.startColumn),he=this._buffer.getOffsetAt(d.endLineNumber,d.endColumn);return this._decorationsTree.getAllInInterval(this,oe,he,M,U)}getRangeAt(d,M){return this._buffer.getRangeAt(d,M-d)}_changeDecorationImpl(d,M){const U=this._decorations[d];if(!U)return;if(U.options.after){const We=this.getDecorationRange(d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(We.endLineNumber)}if(U.options.before){const We=this.getDecorationRange(d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(We.startLineNumber)}const oe=this._validateRangeRelaxedNoAllocations(M),he=this._buffer.getOffsetAt(oe.startLineNumber,oe.startColumn),Le=this._buffer.getOffsetAt(oe.endLineNumber,oe.endColumn);this._decorationsTree.delete(U),U.reset(this.getVersionId(),he,Le,oe),this._decorationsTree.insert(U),this._onDidChangeDecorations.checkAffectedAndFire(U.options),U.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(oe.endLineNumber),U.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(oe.startLineNumber)}_changeDecorationOptionsImpl(d,M){const U=this._decorations[d];if(!U)return;const oe=!!(U.options.overviewRuler&&U.options.overviewRuler.color),he=!!(M.overviewRuler&&M.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(U.options),this._onDidChangeDecorations.checkAffectedAndFire(M),U.options.after||M.after){const Le=this._decorationsTree.getNodeRange(this,U);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Le.endLineNumber)}if(U.options.before||M.before){const Le=this._decorationsTree.getNodeRange(this,U);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Le.startLineNumber)}oe!==he?(this._decorationsTree.delete(U),U.setOptions(M),this._decorationsTree.insert(U)):U.setOptions(M)}_deltaDecorationsImpl(d,M,U){const oe=this.getVersionId(),he=M.length;let Le=0;const We=U.length;let lt=0,Pt=new Array(We);for(;Le<he||lt<We;){let St=null;if(Le<he){do St=this._decorations[M[Le++]];while(!St&&Le<he);if(St){if(St.options.after){const Rt=this._decorationsTree.getNodeRange(this,St);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Rt.endLineNumber)}if(St.options.before){const Rt=this._decorationsTree.getNodeRange(this,St);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Rt.startLineNumber)}this._decorationsTree.delete(St),this._onDidChangeDecorations.checkAffectedAndFire(St.options)}}if(lt<We){if(!St){const dt=++this._lastDecorationId,pt=`${this._instanceId};${dt}`;St=new $(pt,0,0),this._decorations[pt]=St}const Rt=U[lt],Gt=this._validateRangeRelaxedNoAllocations(Rt.range),li=ts(Rt.options),ae=this._buffer.getOffsetAt(Gt.startLineNumber,Gt.startColumn),we=this._buffer.getOffsetAt(Gt.endLineNumber,Gt.endColumn);St.ownerId=d,St.reset(oe,ae,we,Gt),St.setOptions(li),St.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Gt.endLineNumber),St.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Gt.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(li),this._decorationsTree.insert(St),Pt[lt]=St.id,lt++}else St&&delete this._decorations[St.id]}return Pt}setTokens(d,M=!1){if(d.length!==0){let U=[];for(let oe=0,he=d.length;oe<he;oe++){const Le=d[oe];let We=0,lt=0,Pt=!1;for(let St=0,Rt=Le.tokens.length;St<Rt;St++){const Gt=Le.startLineNumber+St;Pt?(this._tokens.setTokens(this._languageId,Gt-1,this._buffer.getLineLength(Gt),Le.tokens[St],!1),lt=Gt):this._tokens.setTokens(this._languageId,Gt-1,this._buffer.getLineLength(Gt),Le.tokens[St],!0)&&(Pt=!0,We=Gt,lt=Gt)}Pt&&U.push({fromLineNumber:We,toLineNumber:lt})}U.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:U})}this.handleTokenizationProgress(M)}setSemanticTokens(d,M){this._tokens2.set(d,M),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:d!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(d,M){if(this.hasCompleteSemanticTokens())return;const U=this._tokens2.setPartial(d,M);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:U.startLineNumber,toLineNumber:U.endLineNumber}]})}tokenizeViewport(d,M){d=Math.max(1,d),M=Math.min(this._buffer.getLineCount(),M),this._tokenization.tokenizeViewport(d,M)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(d){this._isDisposing||this._onDidChangeTokens.fire(d)}resetTokenization(){this._tokenization.reset()}forceTokenization(d){if(d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(d)}isCheapToTokenize(d){return this._tokenization.isCheapToTokenize(d)}tokenizeIfCheap(d){this.isCheapToTokenize(d)&&this.forceTokenization(d)}getLineTokens(d){if(d<1||d>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(d)}_getLineTokens(d){const M=this.getLineContent(d),U=this._tokens.getTokens(this._languageId,d-1,M);return this._tokens2.addSemanticTokens(d,U)}getLanguageId(){return this._languageId}setMode(d){if(this._languageId===d)return;let M={oldLanguage:this._languageId,newLanguage:d};this._languageId=d,this._onDidChangeLanguage.fire(M),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(d,M){const U=this.validatePosition(new R.L(d,M)),oe=this.getLineTokens(U.lineNumber);return oe.getLanguageId(oe.findTokenIndexAtOffset(U.column-1))}getLanguageConfiguration(d){return this._languageConfigurationService.getLanguageConfiguration(d)}getWordAtPosition(d){this._assertNotDisposed();const M=this.validatePosition(d),U=this.getLineContent(M.lineNumber),oe=this._getLineTokens(M.lineNumber),he=oe.findTokenIndexAtOffset(M.column-1),[Le,We]=jr._findLanguageBoundaries(oe,he),lt=(0,Jt.t2)(M.column,this.getLanguageConfiguration(oe.getLanguageId(he)).getWordDefinition(),U.substring(Le,We),Le);if(lt&&lt.startColumn<=d.column&&d.column<=lt.endColumn)return lt;if(he>0&&Le===M.column-1){const[Pt,St]=jr._findLanguageBoundaries(oe,he-1),Rt=(0,Jt.t2)(M.column,this.getLanguageConfiguration(oe.getLanguageId(he-1)).getWordDefinition(),U.substring(Pt,St),Pt);if(Rt&&Rt.startColumn<=d.column&&d.column<=Rt.endColumn)return Rt}return null}static _findLanguageBoundaries(d,M){const U=d.getLanguageId(M);let oe=0;for(let Le=M;Le>=0&&d.getLanguageId(Le)===U;Le--)oe=d.getStartOffset(Le);let he=d.getLineContent().length;for(let Le=M,We=d.getCount();Le<We&&d.getLanguageId(Le)===U;Le++)he=d.getEndOffset(Le);return[oe,he]}getWordUntilPosition(d){const M=this.getWordAtPosition(d);return M?{word:M.word.substr(0,d.column-M.startColumn),startColumn:M.startColumn,endColumn:d.column}:{word:"",startColumn:d.column,endColumn:d.column}}findMatchingBracketUp(d,M){let U=d.toLowerCase(),oe=this.validatePosition(M),he=this._getLineTokens(oe.lineNumber),Le=he.getLanguageId(he.findTokenIndexAtOffset(oe.column-1)),We=this.getLanguageConfiguration(Le).brackets;if(!We)return null;let lt=We.textIsBracket[U];return lt?ze(this._findMatchingBracketUp(lt,oe,null)):null}matchBracket(d){return this._matchBracket(this.validatePosition(d))}_establishBracketSearchOffsets(d,M,U,oe){const he=M.getCount(),Le=M.getLanguageId(oe);let We=Math.max(0,d.column-1-U.maxBracketLength);for(let Pt=oe-1;Pt>=0;Pt--){const St=M.getEndOffset(Pt);if(St<=We)break;if((0,yi.Bu)(M.getStandardTokenType(Pt))||M.getLanguageId(Pt)!==Le){We=St;break}}let lt=Math.min(M.getLineContent().length,d.column-1+U.maxBracketLength);for(let Pt=oe+1;Pt<he;Pt++){const St=M.getStartOffset(Pt);if(St>=lt)break;if((0,yi.Bu)(M.getStandardTokenType(Pt))||M.getLanguageId(Pt)!==Le){lt=St;break}}return{searchStartOffset:We,searchEndOffset:lt}}_matchBracket(d){const M=d.lineNumber,U=this._getLineTokens(M),oe=this._buffer.getLineContent(M),he=U.findTokenIndexAtOffset(d.column-1);if(he<0)return null;const Le=this.getLanguageConfiguration(U.getLanguageId(he)).brackets;if(Le&&!(0,yi.Bu)(U.getStandardTokenType(he))){let{searchStartOffset:We,searchEndOffset:lt}=this._establishBracketSearchOffsets(d,U,Le,he),Pt=null;for(;;){const St=sn.Vr.findNextBracketInRange(Le.forwardRegex,M,oe,We,lt);if(!St)break;if(St.startColumn<=d.column&&d.column<=St.endColumn){const Rt=oe.substring(St.startColumn-1,St.endColumn-1).toLowerCase(),Gt=this._matchFoundBracket(St,Le.textIsBracket[Rt],Le.textIsOpenBracket[Rt],null);if(Gt){if(Gt instanceof Me)return null;Pt=Gt}}We=St.endColumn-1}if(Pt)return Pt}if(he>0&&U.getStartOffset(he)===d.column-1){const We=he-1,lt=this.getLanguageConfiguration(U.getLanguageId(We)).brackets;if(lt&&!(0,yi.Bu)(U.getStandardTokenType(We))){let{searchStartOffset:Pt,searchEndOffset:St}=this._establishBracketSearchOffsets(d,U,lt,We);const Rt=sn.Vr.findPrevBracketInRange(lt.reversedRegex,M,oe,Pt,St);if(Rt&&Rt.startColumn<=d.column&&d.column<=Rt.endColumn){const Gt=oe.substring(Rt.startColumn-1,Rt.endColumn-1).toLowerCase(),li=this._matchFoundBracket(Rt,lt.textIsBracket[Gt],lt.textIsOpenBracket[Gt],null);if(li)return li instanceof Me?null:li}}}return null}_matchFoundBracket(d,M,U,oe){if(!M)return null;const he=U?this._findMatchingBracketDown(M,d.getEndPosition(),oe):this._findMatchingBracketUp(M,d.getStartPosition(),oe);return he?he instanceof Me?he:[d,he]:null}_findMatchingBracketUp(d,M,U){const oe=d.languageId,he=d.reversedRegex;let Le=-1,We=0;const lt=(Pt,St,Rt,Gt)=>{for(;;){if(U&&++We%100===0&&!U())return Me.INSTANCE;const li=sn.Vr.findPrevBracketInRange(he,Pt,St,Rt,Gt);if(!li)break;const ae=St.substring(li.startColumn-1,li.endColumn-1).toLowerCase();if(d.isOpen(ae)?Le++:d.isClose(ae)&&Le--,Le===0)return li;Gt=li.startColumn-1}return null};for(let Pt=M.lineNumber;Pt>=1;Pt--){const St=this._getLineTokens(Pt),Rt=St.getCount(),Gt=this._buffer.getLineContent(Pt);let li=Rt-1,ae=Gt.length,we=Gt.length;Pt===M.lineNumber&&(li=St.findTokenIndexAtOffset(M.column-1),ae=M.column-1,we=M.column-1);let dt=!0;for(;li>=0;li--){const pt=St.getLanguageId(li)===oe&&!(0,yi.Bu)(St.getStandardTokenType(li));if(pt)dt?ae=St.getStartOffset(li):(ae=St.getStartOffset(li),we=St.getEndOffset(li));else if(dt&&ae!==we){const rt=lt(Pt,Gt,ae,we);if(rt)return rt}dt=pt}if(dt&&ae!==we){const pt=lt(Pt,Gt,ae,we);if(pt)return pt}}return null}_findMatchingBracketDown(d,M,U){const oe=d.languageId,he=d.forwardRegex;let Le=1,We=0;const lt=(St,Rt,Gt,li)=>{for(;;){if(U&&++We%100===0&&!U())return Me.INSTANCE;const ae=sn.Vr.findNextBracketInRange(he,St,Rt,Gt,li);if(!ae)break;const we=Rt.substring(ae.startColumn-1,ae.endColumn-1).toLowerCase();if(d.isOpen(we)?Le++:d.isClose(we)&&Le--,Le===0)return ae;Gt=ae.endColumn-1}return null},Pt=this.getLineCount();for(let St=M.lineNumber;St<=Pt;St++){const Rt=this._getLineTokens(St),Gt=Rt.getCount(),li=this._buffer.getLineContent(St);let ae=0,we=0,dt=0;St===M.lineNumber&&(ae=Rt.findTokenIndexAtOffset(M.column-1),we=M.column-1,dt=M.column-1);let pt=!0;for(;ae<Gt;ae++){const rt=Rt.getLanguageId(ae)===oe&&!(0,yi.Bu)(Rt.getStandardTokenType(ae));if(rt)pt||(we=Rt.getStartOffset(ae)),dt=Rt.getEndOffset(ae);else if(pt&&we!==dt){const Ut=lt(St,li,we,dt);if(Ut)return Ut}pt=rt}if(pt&&we!==dt){const rt=lt(St,li,we,dt);if(rt)return rt}}return null}findPrevBracket(d){const M=this.validatePosition(d);let U=null,oe=null;for(let he=M.lineNumber;he>=1;he--){const Le=this._getLineTokens(he),We=Le.getCount(),lt=this._buffer.getLineContent(he);let Pt=We-1,St=lt.length,Rt=lt.length;if(he===M.lineNumber){Pt=Le.findTokenIndexAtOffset(M.column-1),St=M.column-1,Rt=M.column-1;const li=Le.getLanguageId(Pt);U!==li&&(U=li,oe=this.getLanguageConfiguration(U).brackets)}let Gt=!0;for(;Pt>=0;Pt--){const li=Le.getLanguageId(Pt);if(U!==li){if(oe&&Gt&&St!==Rt){const we=sn.Vr.findPrevBracketInRange(oe.reversedRegex,he,lt,St,Rt);if(we)return this._toFoundBracket(oe,we);Gt=!1}U=li,oe=this.getLanguageConfiguration(U).brackets}const ae=!!oe&&!(0,yi.Bu)(Le.getStandardTokenType(Pt));if(ae)Gt?St=Le.getStartOffset(Pt):(St=Le.getStartOffset(Pt),Rt=Le.getEndOffset(Pt));else if(oe&&Gt&&St!==Rt){const we=sn.Vr.findPrevBracketInRange(oe.reversedRegex,he,lt,St,Rt);if(we)return this._toFoundBracket(oe,we)}Gt=ae}if(oe&&Gt&&St!==Rt){const li=sn.Vr.findPrevBracketInRange(oe.reversedRegex,he,lt,St,Rt);if(li)return this._toFoundBracket(oe,li)}}return null}findNextBracket(d){const M=this.validatePosition(d),U=this.getLineCount();let oe=null,he=null;for(let Le=M.lineNumber;Le<=U;Le++){const We=this._getLineTokens(Le),lt=We.getCount(),Pt=this._buffer.getLineContent(Le);let St=0,Rt=0,Gt=0;if(Le===M.lineNumber){St=We.findTokenIndexAtOffset(M.column-1),Rt=M.column-1,Gt=M.column-1;const ae=We.getLanguageId(St);oe!==ae&&(oe=ae,he=this.getLanguageConfiguration(oe).brackets)}let li=!0;for(;St<lt;St++){const ae=We.getLanguageId(St);if(oe!==ae){if(he&&li&&Rt!==Gt){const dt=sn.Vr.findNextBracketInRange(he.forwardRegex,Le,Pt,Rt,Gt);if(dt)return this._toFoundBracket(he,dt);li=!1}oe=ae,he=this.getLanguageConfiguration(oe).brackets}const we=!!he&&!(0,yi.Bu)(We.getStandardTokenType(St));if(we)li||(Rt=We.getStartOffset(St)),Gt=We.getEndOffset(St);else if(he&&li&&Rt!==Gt){const dt=sn.Vr.findNextBracketInRange(he.forwardRegex,Le,Pt,Rt,Gt);if(dt)return this._toFoundBracket(he,dt)}li=we}if(he&&li&&Rt!==Gt){const ae=sn.Vr.findNextBracketInRange(he.forwardRegex,Le,Pt,Rt,Gt);if(ae)return this._toFoundBracket(he,ae)}}return null}findEnclosingBrackets(d,M){let U;if(typeof M=="undefined")U=null;else{const li=Date.now();U=()=>Date.now()-li<=M}const oe=this.validatePosition(d),he=this.getLineCount(),Le=new Map;let We=[];const lt=(li,ae)=>{if(!Le.has(li)){let we=[];for(let dt=0,pt=ae?ae.brackets.length:0;dt<pt;dt++)we[dt]=0;Le.set(li,we)}We=Le.get(li)};let Pt=0;const St=(li,ae,we,dt,pt)=>{for(;;){if(U&&++Pt%100===0&&!U())return Me.INSTANCE;const rt=sn.Vr.findNextBracketInRange(li.forwardRegex,ae,we,dt,pt);if(!rt)break;const Ut=we.substring(rt.startColumn-1,rt.endColumn-1).toLowerCase(),ni=li.textIsBracket[Ut];if(ni&&(ni.isOpen(Ut)?We[ni.index]++:ni.isClose(Ut)&&We[ni.index]--,We[ni.index]===-1))return this._matchFoundBracket(rt,ni,!1,U);dt=rt.endColumn-1}return null};let Rt=null,Gt=null;for(let li=oe.lineNumber;li<=he;li++){const ae=this._getLineTokens(li),we=ae.getCount(),dt=this._buffer.getLineContent(li);let pt=0,rt=0,Ut=0;if(li===oe.lineNumber){pt=ae.findTokenIndexAtOffset(oe.column-1),rt=oe.column-1,Ut=oe.column-1;const zt=ae.getLanguageId(pt);Rt!==zt&&(Rt=zt,Gt=this.getLanguageConfiguration(Rt).brackets,lt(Rt,Gt))}let ni=!0;for(;pt<we;pt++){const zt=ae.getLanguageId(pt);if(Rt!==zt){if(Gt&&ni&&rt!==Ut){const Ci=St(Gt,li,dt,rt,Ut);if(Ci)return ze(Ci);ni=!1}Rt=zt,Gt=this.getLanguageConfiguration(Rt).brackets,lt(Rt,Gt)}const Ri=!!Gt&&!(0,yi.Bu)(ae.getStandardTokenType(pt));if(Ri)ni||(rt=ae.getStartOffset(pt)),Ut=ae.getEndOffset(pt);else if(Gt&&ni&&rt!==Ut){const Ci=St(Gt,li,dt,rt,Ut);if(Ci)return ze(Ci)}ni=Ri}if(Gt&&ni&&rt!==Ut){const zt=St(Gt,li,dt,rt,Ut);if(zt)return ze(zt)}}return null}_toFoundBracket(d,M){if(!M)return null;let U=this.getValueInRange(M);U=U.toLowerCase();let oe=d.textIsBracket[U];return oe?{range:M,open:oe.open,close:oe.close,isOpen:d.textIsOpenBracket[U]}:null}static computeIndentLevel(d,M){let U=0,oe=0,he=d.length;for(;oe<he;){let Le=d.charCodeAt(oe);if(Le===32)U++;else if(Le===9)U=U-U%M+M;else break;oe++}return oe===he?-1:U}_computeIndentLevel(d){return jr.computeIndentLevel(this._buffer.getLineContent(d+1),this._options.tabSize)}getActiveIndentGuide(d,M,U){this._assertNotDisposed();const oe=this.getLineCount();if(d<1||d>oe)throw new Error("Illegal value for lineNumber");const he=this.getLanguageConfiguration(this._languageId).foldingRules,Le=!!(he&&he.offSide);let We=-2,lt=-1,Pt=-2,St=-1;const Rt=Ci=>{if(We!==-1&&(We===-2||We>Ci-1)){We=-1,lt=-1;for(let Ei=Ci-2;Ei>=0;Ei--){let wi=this._computeIndentLevel(Ei);if(wi>=0){We=Ei,lt=wi;break}}}if(Pt===-2){Pt=-1,St=-1;for(let Ei=Ci;Ei<oe;Ei++){let wi=this._computeIndentLevel(Ei);if(wi>=0){Pt=Ei,St=wi;break}}}};let Gt=-2,li=-1,ae=-2,we=-1;const dt=Ci=>{if(Gt===-2){Gt=-1,li=-1;for(let Ei=Ci-2;Ei>=0;Ei--){let wi=this._computeIndentLevel(Ei);if(wi>=0){Gt=Ei,li=wi;break}}}if(ae!==-1&&(ae===-2||ae<Ci-1)){ae=-1,we=-1;for(let Ei=Ci;Ei<oe;Ei++){let wi=this._computeIndentLevel(Ei);if(wi>=0){ae=Ei,we=wi;break}}}};let pt=0,rt=!0,Ut=0,ni=!0,zt=0,Ri=0;for(let Ci=0;rt||ni;Ci++){const Ei=d-Ci,wi=d+Ci;Ci>1&&(Ei<1||Ei<M)&&(rt=!1),Ci>1&&(wi>oe||wi>U)&&(ni=!1),Ci>5e4&&(rt=!1,ni=!1);let bn=-1;if(rt){const gn=this._computeIndentLevel(Ei-1);gn>=0?(Pt=Ei-1,St=gn,bn=Math.ceil(gn/this._options.indentSize)):(Rt(Ei),bn=this._getIndentLevelForWhitespaceLine(Le,lt,St))}let ji=-1;if(ni){const gn=this._computeIndentLevel(wi-1);gn>=0?(Gt=wi-1,li=gn,ji=Math.ceil(gn/this._options.indentSize)):(dt(wi),ji=this._getIndentLevelForWhitespaceLine(Le,li,we))}if(Ci===0){Ri=bn;continue}if(Ci===1){if(wi<=oe&&ji>=0&&Ri+1===ji){rt=!1,pt=wi,Ut=wi,zt=ji;continue}if(Ei>=1&&bn>=0&&bn-1===Ri){ni=!1,pt=Ei,Ut=Ei,zt=bn;continue}if(pt=d,Ut=d,zt=Ri,zt===0)return{startLineNumber:pt,endLineNumber:Ut,indent:zt}}rt&&(bn>=zt?pt=Ei:rt=!1),ni&&(ji>=zt?Ut=wi:ni=!1)}return{startLineNumber:pt,endLineNumber:Ut,indent:zt}}getLinesBracketGuides(d,M,U,oe){var he,Le,We,lt,Pt;const St=[],Rt=this._bracketPairColorizer.getBracketPairsInRangeWithMinIndentation(new B.e(d,1,M,this.getLineMaxColumn(M)));let Gt;if(U&&Rt.length>0){const pt=d<=U.lineNumber&&U.lineNumber<=M?Rt.filter(rt=>rt.range.containsPosition(U)):this._bracketPairColorizer.getBracketPairsInRange(B.e.fromPositions(U));Gt=(he=(0,Zi.dF)(pt,rt=>rt.range.startLineNumber!==rt.range.endLineNumber))===null||he===void 0?void 0:he.range}const li=new Zi.H9(Rt),ae=new Array,we=new Array,dt=new oi;for(let pt=d;pt<=M;pt++){let rt=new Array;we.length>0&&(rt=rt.concat(we),we.length=0),St.push(rt);for(const ni of li.takeWhile(zt=>zt.openingBracketRange.startLineNumber<=pt)||[]){if(ni.range.startLineNumber===ni.range.endLineNumber)continue;const zt=Math.min(this.getVisibleColumnFromPosition(ni.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition((We=(Le=ni.closingBracketRange)===null||Le===void 0?void 0:Le.getStartPosition())!==null&&We!==void 0?We:ni.range.getEndPosition()),ni.minVisibleColumnIndentation+1);let Ri=!1;ni.closingBracketRange&&P.LC(this.getLineContent(ni.closingBracketRange.startLineNumber))<ni.closingBracketRange.startColumn-1&&(Ri=!0);const Ci=ni.openingBracketRange.getStartPosition(),Ei=(Pt=(lt=ni.closingBracketRange)===null||lt===void 0?void 0:lt.getStartPosition())!==null&&Pt!==void 0?Pt:ni.range.getEndPosition();ni.closingBracketRange===void 0?ae[ni.nestingLevel]=null:ae[ni.nestingLevel]={nestingLevel:ni.nestingLevel,guideVisibleColumn:zt,start:Ci,visibleStartColumn:this.getVisibleColumnFromPosition(Ci),end:Ei,visibleEndColumn:this.getVisibleColumnFromPosition(Ei),bracketPair:ni,renderHorizontalEndLineAtTheBottom:Ri}}for(const ni of ae){if(!ni)continue;const zt=Gt&&ni.bracketPair.range.equalsRange(Gt),Ri=dt.getInlineClassNameOfLevel(ni.nestingLevel)+(oe.highlightActive&&zt?" "+dt.activeClassName:"");(zt&&oe.horizontalGuides!==N.s6.Disabled||oe.includeInactive&&oe.horizontalGuides===N.s6.Enabled)&&(ni.start.lineNumber===pt&&ni.guideVisibleColumn<ni.visibleStartColumn&&rt.push(new N.UO(ni.guideVisibleColumn,Ri,new N.vW(!1,ni.start.column))),ni.end.lineNumber===pt+1&&ni.guideVisibleColumn<ni.visibleEndColumn&&we.push(new N.UO(ni.guideVisibleColumn,Ri,new N.vW(!ni.renderHorizontalEndLineAtTheBottom,ni.end.column))))}let Ut=Number.MAX_SAFE_INTEGER;for(let ni=ae.length-1;ni>=0;ni--){const zt=ae[ni];if(!zt)continue;const Ri=oe.highlightActive&&Gt&&zt.bracketPair.range.equalsRange(Gt),Ci=dt.getInlineClassNameOfLevel(zt.nestingLevel)+(Ri?" "+dt.activeClassName:"");(Ri||oe.includeInactive)&&zt.renderHorizontalEndLineAtTheBottom&&zt.end.lineNumber===pt+1&&we.push(new N.UO(zt.guideVisibleColumn,Ci,null)),!(zt.end.lineNumber<=pt||zt.start.lineNumber>=pt)&&(zt.guideVisibleColumn>=Ut&&!Ri||(Ut=zt.guideVisibleColumn,(Ri||oe.includeInactive)&&rt.push(new N.UO(zt.guideVisibleColumn,Ci,null))))}rt.sort((ni,zt)=>ni.visibleColumn-zt.visibleColumn)}return St}getVisibleColumnFromPosition(d){return Co.i.visibleColumnFromColumn(this.getLineContent(d.lineNumber),d.column,this._options.tabSize)+1}getLinesIndentGuides(d,M){this._assertNotDisposed();const U=this.getLineCount();if(d<1||d>U)throw new Error("Illegal value for startLineNumber");if(M<1||M>U)throw new Error("Illegal value for endLineNumber");const oe=this.getLanguageConfiguration(this._languageId).foldingRules,he=!!(oe&&oe.offSide);let Le=new Array(M-d+1),We=-2,lt=-1,Pt=-2,St=-1;for(let Rt=d;Rt<=M;Rt++){let Gt=Rt-d;const li=this._computeIndentLevel(Rt-1);if(li>=0){We=Rt-1,lt=li,Le[Gt]=Math.ceil(li/this._options.indentSize);continue}if(We===-2){We=-1,lt=-1;for(let ae=Rt-2;ae>=0;ae--){let we=this._computeIndentLevel(ae);if(we>=0){We=ae,lt=we;break}}}if(Pt!==-1&&(Pt===-2||Pt<Rt-1)){Pt=-1,St=-1;for(let ae=Rt;ae<U;ae++){let we=this._computeIndentLevel(ae);if(we>=0){Pt=ae,St=we;break}}}Le[Gt]=this._getIndentLevelForWhitespaceLine(he,lt,St)}return Le}_getIndentLevelForWhitespaceLine(d,M,U){return M===-1||U===-1?0:M<U?1+Math.floor(M/this._options.indentSize):M===U?Math.ceil(U/this._options.indentSize):d?Math.ceil(U/this._options.indentSize):1+Math.floor(U/this._options.indentSize)}normalizePosition(d,M){return d}getLineIndentColumn(d){return yt(this.getLineContent(d))+1}};vt.MODEL_SYNC_LIMIT=50*1024*1024,vt.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,vt.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,vt.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:X.DB.tabSize,indentSize:X.DB.indentSize,insertSpaces:X.DB.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:X.DB.trimAutoWhitespace,largeFileOptimizations:X.DB.largeFileOptimizations,bracketPairColorizationOptions:X.DB.bracketPairColorizationOptions},vt=cn([Ii(4,Qn.tJ),Ii(5,Hi.h),Ii(6,ai.c_)],vt);function yt(Be){let d=0;for(const M of Be)if(M===" "||M==="	")d++;else break;return d}class oi{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(d){return`bracket-indent-guide lvl-${d%30}`}}function qt(Be){return!!(Be.options.overviewRuler&&Be.options.overviewRuler.color)}function fn(Be){return!!Be.options.after||!!Be.options.before}class Tn{constructor(){this._decorationsTree0=new de,this._decorationsTree1=new de,this._injectedTextDecorationsTree=new de}ensureAllNodesHaveRanges(d){this.getAll(d,0,!1,!1)}_ensureNodesHaveRanges(d,M){for(const U of M)U.range===null&&(U.range=d.getRangeAt(U.cachedAbsoluteStart,U.cachedAbsoluteEnd));return M}getAllInInterval(d,M,U,oe,he){const Le=d.getVersionId(),We=this._intervalSearch(M,U,oe,he,Le);return this._ensureNodesHaveRanges(d,We)}_intervalSearch(d,M,U,oe,he){const Le=this._decorationsTree0.intervalSearch(d,M,U,oe,he),We=this._decorationsTree1.intervalSearch(d,M,U,oe,he),lt=this._injectedTextDecorationsTree.intervalSearch(d,M,U,oe,he);return Le.concat(We).concat(lt)}getInjectedTextInInterval(d,M,U,oe){const he=d.getVersionId(),Le=this._injectedTextDecorationsTree.intervalSearch(M,U,oe,!1,he);return this._ensureNodesHaveRanges(d,Le).filter(We=>We.options.showIfCollapsed||!We.range.isEmpty())}getAllInjectedText(d,M){const U=d.getVersionId(),oe=this._injectedTextDecorationsTree.search(M,!1,U);return this._ensureNodesHaveRanges(d,oe).filter(he=>he.options.showIfCollapsed||!he.range.isEmpty())}getAll(d,M,U,oe){const he=d.getVersionId(),Le=this._search(M,U,oe,he);return this._ensureNodesHaveRanges(d,Le)}_search(d,M,U,oe){if(U)return this._decorationsTree1.search(d,M,oe);{const he=this._decorationsTree0.search(d,M,oe),Le=this._decorationsTree1.search(d,M,oe),We=this._injectedTextDecorationsTree.search(d,M,oe);return he.concat(Le).concat(We)}}collectNodesFromOwner(d){const M=this._decorationsTree0.collectNodesFromOwner(d),U=this._decorationsTree1.collectNodesFromOwner(d),oe=this._injectedTextDecorationsTree.collectNodesFromOwner(d);return M.concat(U).concat(oe)}collectNodesPostOrder(){const d=this._decorationsTree0.collectNodesPostOrder(),M=this._decorationsTree1.collectNodesPostOrder(),U=this._injectedTextDecorationsTree.collectNodesPostOrder();return d.concat(M).concat(U)}insert(d){fn(d)?this._injectedTextDecorationsTree.insert(d):qt(d)?this._decorationsTree1.insert(d):this._decorationsTree0.insert(d)}delete(d){fn(d)?this._injectedTextDecorationsTree.delete(d):qt(d)?this._decorationsTree1.delete(d):this._decorationsTree0.delete(d)}getNodeRange(d,M){const U=d.getVersionId();return M.cachedVersionId!==U&&this._resolveNode(M,U),M.range===null&&(M.range=d.getRangeAt(M.cachedAbsoluteStart,M.cachedAbsoluteEnd)),M.range}_resolveNode(d,M){fn(d)?this._injectedTextDecorationsTree.resolveNode(d,M):qt(d)?this._decorationsTree1.resolveNode(d,M):this._decorationsTree0.resolveNode(d,M)}acceptReplace(d,M,U,oe){this._decorationsTree0.acceptReplace(d,M,U,oe),this._decorationsTree1.acceptReplace(d,M,U,oe),this._injectedTextDecorationsTree.acceptReplace(d,M,U,oe)}}function Bi(Be){return Be.replace(/[^a-z0-9\-_]/gi," ")}class dn{constructor(d){this.color=d.color||"",this.darkColor=d.darkColor||""}}class yn extends dn{constructor(d){super(d),this._resolvedColor=null,this.position=typeof d.position=="number"?d.position:N.sh.Center}getColor(d){return this._resolvedColor||(d.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,d):this._resolvedColor=this._resolveColor(this.color,d)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(d,M){if(typeof d=="string")return d;let U=d?M.getColor(d.id):null;return U?U.toString():""}}class tn extends dn{constructor(d){super(d),this.position=d.position}getColor(d){return this._resolvedColor||(d.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,d):this._resolvedColor=this._resolveColor(this.color,d)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(d,M){return typeof d=="string"?Ji.Il.fromHex(d):M.getColor(d.id)}}class Zt{constructor(d){this.content=d.content||"",this.inlineClassName=d.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=d.inlineClassNameAffectsLetterSpacing||!1}static from(d){return d instanceof Zt?d:new Zt(d)}}class vi{constructor(d){this.description=d.description,this.stickiness=d.stickiness||0,this.zIndex=d.zIndex||0,this.className=d.className?Bi(d.className):null,this.hoverMessage=d.hoverMessage||null,this.glyphMarginHoverMessage=d.glyphMarginHoverMessage||null,this.isWholeLine=d.isWholeLine||!1,this.showIfCollapsed=d.showIfCollapsed||!1,this.collapseOnReplaceEdit=d.collapseOnReplaceEdit||!1,this.overviewRuler=d.overviewRuler?new yn(d.overviewRuler):null,this.minimap=d.minimap?new tn(d.minimap):null,this.glyphMarginClassName=d.glyphMarginClassName?Bi(d.glyphMarginClassName):null,this.linesDecorationsClassName=d.linesDecorationsClassName?Bi(d.linesDecorationsClassName):null,this.firstLineDecorationClassName=d.firstLineDecorationClassName?Bi(d.firstLineDecorationClassName):null,this.marginClassName=d.marginClassName?Bi(d.marginClassName):null,this.inlineClassName=d.inlineClassName?Bi(d.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=d.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=d.beforeContentClassName?Bi(d.beforeContentClassName):null,this.afterContentClassName=d.afterContentClassName?Bi(d.afterContentClassName):null,this.after=d.after?Zt.from(d.after):null,this.before=d.before?Zt.from(d.before):null}static register(d){return new vi(d)}static createDynamic(d){return new vi(d)}}vi.EMPTY=vi.register({description:"empty"});const Xi=[vi.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),vi.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),vi.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),vi.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function ts(Be){return Be instanceof vi?Be:vi.createDynamic(Be)}class us extends Q.JT{constructor(d){super(),this.handleBeforeFire=d,this._actual=this._register(new O.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var d;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const M={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(M)}(d=this._affectedInjectedTextLines)===null||d===void 0||d.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(d){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(d)}checkAffectedAndFire(d){this._affectsMinimap||(this._affectsMinimap=!!(d.minimap&&d.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(d.overviewRuler&&d.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class Ls extends Q.JT{constructor(){super(),this._fastEmitter=this._register(new O.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new O.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(d=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=d;const M=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(M),this._slowEmitter.fire(M)}}fire(d){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(d):this._deferredEvent=d;return}this._fastEmitter.fire(d),this._slowEmitter.fire(d)}}},83256:function(Qt,He,c){"use strict";c.d(He,{CZ:function(){return X},D8:function(){return B},Jx:function(){return E},Tx:function(){return y},dQ:function(){return R},fV:function(){return s},gk:function(){return O},lN:function(){return P},rU:function(){return Q}});class E{constructor(){this.changeType=1}}class O{constructor(g,D,H,r,T){this.ownerId=g,this.lineNumber=D,this.column=H,this.options=r,this.order=T}static applyInjectedText(g,D){if(!D||D.length===0)return g;let H="",r=0;for(const T of D)H+=g.substring(r,T.column-1),r=T.column-1,H+=T.options.content;return H+=g.substring(r),H}static fromDecorations(g){const D=[];for(const H of g)H.options.before&&H.options.before.content.length>0&&D.push(new O(H.ownerId,H.range.startLineNumber,H.range.startColumn,H.options.before,0)),H.options.after&&H.options.after.content.length>0&&D.push(new O(H.ownerId,H.range.endLineNumber,H.range.endColumn,H.options.after,1));return D.sort((H,r)=>H.lineNumber===r.lineNumber?H.column===r.column?H.order-r.order:H.column-r.column:H.lineNumber-r.lineNumber),D}}class Q{constructor(g,D,H){this.changeType=2,this.lineNumber=g,this.detail=D,this.injectedText=H}}class P{constructor(g,D){this.changeType=3,this.fromLineNumber=g,this.toLineNumber=D}}class y{constructor(g,D,H,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=g,this.toLineNumber=D,this.detail=H}}class X{constructor(){this.changeType=5}}class R{constructor(g,D,H,r){this.changes=g,this.versionId=D,this.isUndoing=H,this.isRedoing=r,this.resultingSelection=null}containsEvent(g){for(let D=0,H=this.changes.length;D<H;D++)if(this.changes[D].changeType===g)return!0;return!1}static merge(g,D){const H=[].concat(g.changes).concat(D.changes),r=D.versionId,T=g.isUndoing||D.isUndoing,w=g.isRedoing||D.isRedoing;return new R(H,r,T,w)}}class B{constructor(g){this.changes=g}}class s{constructor(g,D){this.rawContentChangedEvent=g,this.contentChangedEvent=D}merge(g){const D=R.merge(this.rawContentChangedEvent,g.rawContentChangedEvent),H=s._mergeChangeEvents(this.contentChangedEvent,g.contentChangedEvent);return new s(D,H)}static _mergeChangeEvents(g,D){const H=[].concat(g.changes).concat(D.changes),r=D.eol,T=D.versionId,w=g.isUndoing||D.isUndoing,x=g.isRedoing||D.isRedoing,f=g.isFlush||D.isFlush;return{changes:H,eol:r,versionId:T,isUndoing:w,isRedoing:x,isFlush:f}}}},77277:function(Qt,He,c){"use strict";c.d(He,{bc:function(){return R},cM:function(){return T},iE:function(){return N},pM:function(){return D},sz:function(){return w}});var E=c(97295),O=c(59410),Q=c(50187),P=c(24314),y=c(84973);const X=999;class R{constructor(f,p,S,h){this.searchString=f,this.isRegex=p,this.matchCase=S,this.wordSeparators=h}parseSearchRequest(){if(this.searchString==="")return null;let f;this.isRegex?f=B(this.searchString):f=this.searchString.indexOf(`
`)>=0;let p=null;try{p=E.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:f,global:!0,unicode:!0})}catch(h){return null}if(!p)return null;let S=!this.isRegex&&!f;return S&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(S=this.matchCase),new s(p,this.wordSeparators?(0,O.u)(this.wordSeparators):null,S?this.searchString:null)}}function B(x){if(!x||x.length===0)return!1;for(let f=0,p=x.length;f<p;f++)if(x.charCodeAt(f)===92){if(f++,f>=p)break;const h=x.charCodeAt(f);if(h===110||h===114||h===87)return!0}return!1}class s{constructor(f,p,S){this.regex=f,this.wordSeparators=p,this.simpleSearch=S}}function N(x,f,p){if(!p)return new y.tk(x,null);let S=[];for(let h=0,L=f.length;h<L;h++)S[h]=f[h];return new y.tk(x,S)}class g{constructor(f){let p=[],S=0;for(let h=0,L=f.length;h<L;h++)f.charCodeAt(h)===10&&(p[S++]=h);this._lineFeedsOffsets=p}findLineFeedCountBeforeOffset(f){const p=this._lineFeedsOffsets;let S=0,h=p.length-1;if(h===-1||f<=p[0])return 0;for(;S<h;){const L=S+((h-S)/2>>0);p[L]>=f?h=L-1:p[L+1]>=f?(S=L,h=L):S=L+1}return S+1}}class D{static findMatches(f,p,S,h,L){const v=p.parseSearchRequest();return v?v.regex.multiline?this._doFindMatchesMultiline(f,S,new w(v.wordSeparators,v.regex),h,L):this._doFindMatchesLineByLine(f,S,v,h,L):[]}static _getMultilineMatchRange(f,p,S,h,L,v){let V,$=0;h?($=h.findLineFeedCountBeforeOffset(L),V=p+L+$):V=p+L;let ee;if(h){let xe=h.findLineFeedCountBeforeOffset(L+v.length)-$;ee=V+v.length+xe}else ee=V+v.length;const de=f.getPositionAt(V),pe=f.getPositionAt(ee);return new P.e(de.lineNumber,de.column,pe.lineNumber,pe.column)}static _doFindMatchesMultiline(f,p,S,h,L){const v=f.getOffsetAt(p.getStartPosition()),V=f.getValueInRange(p,1),$=f.getEOL()===`\r
`?new g(V):null,ee=[];let de=0,pe;for(S.reset(0);pe=S.next(V);)if(ee[de++]=N(this._getMultilineMatchRange(f,v,V,$,pe.index,pe[0]),pe,h),de>=L)return ee;return ee}static _doFindMatchesLineByLine(f,p,S,h,L){const v=[];let V=0;if(p.startLineNumber===p.endLineNumber){const ee=f.getLineContent(p.startLineNumber).substring(p.startColumn-1,p.endColumn-1);return V=this._findMatchesInLine(S,ee,p.startLineNumber,p.startColumn-1,V,v,h,L),v}const $=f.getLineContent(p.startLineNumber).substring(p.startColumn-1);V=this._findMatchesInLine(S,$,p.startLineNumber,p.startColumn-1,V,v,h,L);for(let ee=p.startLineNumber+1;ee<p.endLineNumber&&V<L;ee++)V=this._findMatchesInLine(S,f.getLineContent(ee),ee,0,V,v,h,L);if(V<L){const ee=f.getLineContent(p.endLineNumber).substring(0,p.endColumn-1);V=this._findMatchesInLine(S,ee,p.endLineNumber,0,V,v,h,L)}return v}static _findMatchesInLine(f,p,S,h,L,v,V,$){const ee=f.wordSeparators;if(!V&&f.simpleSearch){const ve=f.simpleSearch,xe=ve.length,le=p.length;let Y=-xe;for(;(Y=p.indexOf(ve,Y+xe))!==-1;)if((!ee||T(ee,p,le,Y,xe))&&(v[L++]=new y.tk(new P.e(S,Y+1+h,S,Y+1+xe+h),null),L>=$))return L;return L}const de=new w(f.wordSeparators,f.regex);let pe;de.reset(0);do if(pe=de.next(p),pe&&(v[L++]=N(new P.e(S,pe.index+1+h,S,pe.index+1+pe[0].length+h),pe,V),L>=$))return L;while(pe);return L}static findNextMatch(f,p,S,h){const L=p.parseSearchRequest();if(!L)return null;const v=new w(L.wordSeparators,L.regex);return L.regex.multiline?this._doFindNextMatchMultiline(f,S,v,h):this._doFindNextMatchLineByLine(f,S,v,h)}static _doFindNextMatchMultiline(f,p,S,h){const L=new Q.L(p.lineNumber,1),v=f.getOffsetAt(L),V=f.getLineCount(),$=f.getValueInRange(new P.e(L.lineNumber,L.column,V,f.getLineMaxColumn(V)),1),ee=f.getEOL()===`\r
`?new g($):null;S.reset(p.column-1);let de=S.next($);return de?N(this._getMultilineMatchRange(f,v,$,ee,de.index,de[0]),de,h):p.lineNumber!==1||p.column!==1?this._doFindNextMatchMultiline(f,new Q.L(1,1),S,h):null}static _doFindNextMatchLineByLine(f,p,S,h){const L=f.getLineCount(),v=p.lineNumber,V=f.getLineContent(v),$=this._findFirstMatchInLine(S,V,v,p.column,h);if($)return $;for(let ee=1;ee<=L;ee++){const de=(v+ee-1)%L,pe=f.getLineContent(de+1),ve=this._findFirstMatchInLine(S,pe,de+1,1,h);if(ve)return ve}return null}static _findFirstMatchInLine(f,p,S,h,L){f.reset(h-1);const v=f.next(p);return v?N(new P.e(S,v.index+1,S,v.index+1+v[0].length),v,L):null}static findPreviousMatch(f,p,S,h){const L=p.parseSearchRequest();if(!L)return null;const v=new w(L.wordSeparators,L.regex);return L.regex.multiline?this._doFindPreviousMatchMultiline(f,S,v,h):this._doFindPreviousMatchLineByLine(f,S,v,h)}static _doFindPreviousMatchMultiline(f,p,S,h){const L=this._doFindMatchesMultiline(f,new P.e(1,1,p.lineNumber,p.column),S,h,10*X);if(L.length>0)return L[L.length-1];const v=f.getLineCount();return p.lineNumber!==v||p.column!==f.getLineMaxColumn(v)?this._doFindPreviousMatchMultiline(f,new Q.L(v,f.getLineMaxColumn(v)),S,h):null}static _doFindPreviousMatchLineByLine(f,p,S,h){const L=f.getLineCount(),v=p.lineNumber,V=f.getLineContent(v).substring(0,p.column-1),$=this._findLastMatchInLine(S,V,v,h);if($)return $;for(let ee=1;ee<=L;ee++){const de=(L+v-ee-1)%L,pe=f.getLineContent(de+1),ve=this._findLastMatchInLine(S,pe,de+1,h);if(ve)return ve}return null}static _findLastMatchInLine(f,p,S,h){let L=null,v;for(f.reset(0);v=f.next(p);)L=N(new P.e(S,v.index+1,S,v.index+1+v[0].length),v,h);return L}}function H(x,f,p,S,h){if(S===0)return!0;const L=f.charCodeAt(S-1);if(x.get(L)!==0||L===13||L===10)return!0;if(h>0){const v=f.charCodeAt(S);if(x.get(v)!==0)return!0}return!1}function r(x,f,p,S,h){if(S+h===p)return!0;const L=f.charCodeAt(S+h);if(x.get(L)!==0||L===13||L===10)return!0;if(h>0){const v=f.charCodeAt(S+h-1);if(x.get(v)!==0)return!0}return!1}function T(x,f,p,S,h){return H(x,f,p,S,h)&&r(x,f,p,S,h)}class w{constructor(f,p){this._wordSeparators=f,this._searchRegex=p,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(f){this._searchRegex.lastIndex=f,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(f){const p=f.length;let S;do{if(this._prevMatchStartIndex+this._prevMatchLength===p||(S=this._searchRegex.exec(f),!S))return null;const h=S.index,L=S[0].length;if(h===this._prevMatchStartIndex&&L===this._prevMatchLength){if(L===0){E.ZH(f,p,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=h,this._prevMatchLength=L,!this._wordSeparators||T(this._wordSeparators,f,p,h,L))return S}while(S);return null}}},58409:function(Qt,He,c){"use strict";c.d(He,{DA:function(){return s},OU:function(){return N},QZ:function(){return X},Rl:function(){return w},Wz:function(){return D},cx:function(){return T}});var E=c(9488),O=c(78411),Q=c(50187),P=c(24314),y=c(10351);function X(x){let f=0,p=0,S=0,h=0;for(let L=0,v=x.length;L<v;L++){const V=x.charCodeAt(L);V===13?(f===0&&(p=L),f++,L+1<v&&x.charCodeAt(L+1)===10?(h|=2,L++):h|=3,S=L+1):V===10&&(h|=1,f===0&&(p=L),f++,S=L+1)}return f===0&&(p=x.length),[f,p,x.length-S,h]}function R(x){return(x<<0|0|0|16384|2<<23)>>>0}const B=new Uint32Array(0).buffer;class s{constructor(){this.tokens=[]}add(f,p){if(this.tokens.length>0){const S=this.tokens[this.tokens.length-1];if(S.startLineNumber+S.tokens.length-1+1===f){S.tokens.push(p);return}}this.tokens.push(new H(f,[p]))}}class N{constructor(f){this._tokens=f,this._tokenCount=f.length/4}toString(f){let p=[];for(let S=0;S<this._tokenCount;S++)p.push(`(${this._getDeltaLine(S)+f},${this._getStartCharacter(S)}-${this._getEndCharacter(S)})`);return`[${p.join(",")}]`}getMaxDeltaLine(){const f=this._getTokenCount();return f===0?-1:this._getDeltaLine(f-1)}getRange(){const f=this._getTokenCount();if(f===0)return null;const p=this._getStartCharacter(0),S=this._getDeltaLine(f-1),h=this._getEndCharacter(f-1);return new P.e(0,p+1,S,h+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(f){return this._tokens[4*f]}_getStartCharacter(f){return this._tokens[4*f+1]}_getEndCharacter(f){return this._tokens[4*f+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(f){let p=0,S=this._getTokenCount()-1;for(;p<S;){const h=p+Math.floor((S-p)/2),L=this._getDeltaLine(h);if(L<f)p=h+1;else if(L>f)S=h-1;else{let v=h;for(;v>p&&this._getDeltaLine(v-1)===f;)v--;let V=h;for(;V<S&&this._getDeltaLine(V+1)===f;)V++;return new g(this._tokens.subarray(4*v,4*V+4))}}return this._getDeltaLine(p)===f?new g(this._tokens.subarray(4*p,4*p+4)):null}clear(){this._tokenCount=0}removeTokens(f,p,S,h){const L=this._tokens,v=this._tokenCount;let V=0,$=!1,ee=0;for(let de=0;de<v;de++){const pe=4*de,ve=L[pe],xe=L[pe+1],le=L[pe+2],Y=L[pe+3];if((ve>f||ve===f&&le>=p)&&(ve<S||ve===S&&xe<=h))$=!0;else{if(V===0&&(ee=ve),$){const j=4*V;L[j]=ve-ee,L[j+1]=xe,L[j+2]=le,L[j+3]=Y}V++}}return this._tokenCount=V,ee}split(f,p,S,h){const L=this._tokens,v=this._tokenCount;let V=[],$=[],ee=V,de=0,pe=0;for(let ve=0;ve<v;ve++){const xe=4*ve,le=L[xe],Y=L[xe+1],j=L[xe+2],G=L[xe+3];if(le>f||le===f&&j>=p){if(le<S||le===S&&Y<=h)continue;ee!==$&&(ee=$,de=0,pe=le)}ee[de++]=le-pe,ee[de++]=Y,ee[de++]=j,ee[de++]=G}return[new N(new Uint32Array(V)),new N(new Uint32Array($)),pe]}acceptDeleteRange(f,p,S,h,L){const v=this._tokens,V=this._tokenCount,$=h-p;let ee=0,de=!1;for(let pe=0;pe<V;pe++){const ve=4*pe;let xe=v[ve],le=v[ve+1],Y=v[ve+2];const j=v[ve+3];if(xe<p||xe===p&&Y<=S){ee++;continue}else if(xe===p&&le<S)xe===h&&Y>L?Y-=L-S:Y=S;else if(xe===p&&le===S)if(xe===h&&Y>L)Y-=L-S;else{de=!0;continue}else if(xe<h||xe===h&&le<L)if(xe===h&&Y>L)xe===p?(le=S,Y=le+(Y-L)):(le=0,Y=le+(Y-L));else{de=!0;continue}else if(xe>h){if($===0&&!de){ee=V;break}xe-=$}else if(xe===h&&le>=L)f&&xe===0&&(le+=f,Y+=f),xe-=$,le-=L-S,Y-=L-S;else throw new Error("Not possible!");const G=4*ee;v[G]=xe,v[G+1]=le,v[G+2]=Y,v[G+3]=j,ee++}this._tokenCount=ee}acceptInsertText(f,p,S,h,L,v){const V=S===0&&h===1&&(v>=48&&v<=57||v>=65&&v<=90||v>=97&&v<=122),$=this._tokens,ee=this._tokenCount;for(let de=0;de<ee;de++){const pe=4*de;let ve=$[pe],xe=$[pe+1],le=$[pe+2];if(!(ve<f||ve===f&&le<p)){if(ve===f&&le===p)if(V)le+=1;else continue;else if(ve===f&&xe<p&&p<le)S===0?le+=h:le=p;else{if(ve===f&&xe===p&&V)continue;if(ve===f)if(ve+=S,S===0)xe+=h,le+=h;else{const Y=le-xe;xe=L+(xe-p),le=xe+Y}else ve+=S}$[pe]=ve,$[pe+1]=xe,$[pe+2]=le}}}}class g{constructor(f){this._tokens=f}getCount(){return this._tokens.length/4}getStartCharacter(f){return this._tokens[4*f+1]}getEndCharacter(f){return this._tokens[4*f+2]}getMetadata(f){return this._tokens[4*f+3]}}class D{constructor(f,p){this.startLineNumber=f,this.tokens=p,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(f){return this.startLineNumber<=f&&f<=this.endLineNumber?this.tokens.getLineTokens(f-this.startLineNumber):null}getRange(){const f=this.tokens.getRange();return f&&new P.e(this.startLineNumber+f.startLineNumber,f.startColumn,this.startLineNumber+f.endLineNumber,f.endColumn)}removeTokens(f){const p=f.startLineNumber-this.startLineNumber,S=f.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(p,f.startColumn-1,S,f.endColumn-1),this._updateEndLineNumber()}split(f){const p=f.startLineNumber-this.startLineNumber,S=f.endLineNumber-this.startLineNumber,[h,L,v]=this.tokens.split(p,f.startColumn-1,S,f.endColumn-1);return[new D(this.startLineNumber,h),new D(this.startLineNumber+v,L)]}applyEdit(f,p){const[S,h,L]=X(p);this.acceptEdit(f,S,h,L,p.length>0?p.charCodeAt(0):0)}acceptEdit(f,p,S,h,L){this._acceptDeleteRange(f),this._acceptInsertText(new Q.L(f.startLineNumber,f.startColumn),p,S,h,L),this._updateEndLineNumber()}_acceptDeleteRange(f){if(f.startLineNumber===f.endLineNumber&&f.startColumn===f.endColumn)return;const p=f.startLineNumber-this.startLineNumber,S=f.endLineNumber-this.startLineNumber;if(S<0){const L=S-p;this.startLineNumber-=L;return}const h=this.tokens.getMaxDeltaLine();if(!(p>=h+1)){if(p<0&&S>=h+1){this.startLineNumber=0,this.tokens.clear();return}if(p<0){const L=-p;this.startLineNumber-=L,this.tokens.acceptDeleteRange(f.startColumn-1,0,0,S,f.endColumn-1)}else this.tokens.acceptDeleteRange(0,p,f.startColumn-1,S,f.endColumn-1)}}_acceptInsertText(f,p,S,h,L){if(p===0&&S===0)return;const v=f.lineNumber-this.startLineNumber;if(v<0){this.startLineNumber+=p;return}const V=this.tokens.getMaxDeltaLine();v>=V+1||this.tokens.acceptInsertText(v,f.column-1,p,S,h,L)}}class H{constructor(f,p){this.startLineNumber=f,this.tokens=p}}function r(x){return x instanceof Uint32Array?x:new Uint32Array(x)}class T{constructor(f){this._pieces=[],this._isComplete=!1,this._languageIdCodec=f}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(f,p){this._pieces=f||[],this._isComplete=p}setPartial(f,p){let S=f;if(p.length>0){const L=p[0].getRange(),v=p[p.length-1].getRange();if(!L||!v)return f;S=f.plusRange(L).plusRange(v)}let h=null;for(let L=0,v=this._pieces.length;L<v;L++){const V=this._pieces[L];if(V.endLineNumber<S.startLineNumber)continue;if(V.startLineNumber>S.endLineNumber){h=h||{index:L};break}if(V.removeTokens(S),V.isEmpty()){this._pieces.splice(L,1),L--,v--;continue}if(V.endLineNumber<S.startLineNumber)continue;if(V.startLineNumber>S.endLineNumber){h=h||{index:L};continue}const[$,ee]=V.split(S);if($.isEmpty()){h=h||{index:L};continue}ee.isEmpty()||(this._pieces.splice(L,1,$,ee),L++,v++,h=h||{index:L})}return h=h||{index:this._pieces.length},p.length>0&&(this._pieces=E.Zv(this._pieces,h.index,p)),S}isComplete(){return this._isComplete}addSemanticTokens(f,p){const S=this._pieces;if(S.length===0)return p;const h=T._findFirstPieceWithLine(S,f),L=S[h].getLineTokens(f);if(!L)return p;const v=p.getCount(),V=L.getCount();let $=0,ee=[],de=0,pe=0;const ve=(xe,le)=>{xe!==pe&&(pe=xe,ee[de++]=xe,ee[de++]=le)};for(let xe=0;xe<V;xe++){const le=L.getStartCharacter(xe),Y=L.getEndCharacter(xe),j=L.getMetadata(xe),G=((j&1?2048:0)|(j&2?4096:0)|(j&4?8192:0)|(j&8?8372224:0)|(j&16?4286578688:0))>>>0,q=~G>>>0;for(;$<v&&p.getEndOffset($)<=le;)ve(p.getEndOffset($),p.getMetadata($)),$++;for($<v&&p.getStartOffset($)<le&&ve(le,p.getMetadata($));$<v&&p.getEndOffset($)<Y;)ve(p.getEndOffset($),p.getMetadata($)&q|j&G),$++;if($<v)ve(Y,p.getMetadata($)&q|j&G),p.getEndOffset($)===Y&&$++;else{const m=Math.min(Math.max(0,$-1),v-1);ve(Y,p.getMetadata(m)&q|j&G)}}for(;$<v;)ve(p.getEndOffset($),p.getMetadata($)),$++;return new O.A(new Uint32Array(ee),p.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(f,p){let S=0,h=f.length-1;for(;S<h;){let L=S+Math.floor((h-S)/2);if(f[L].endLineNumber<p)S=L+1;else if(f[L].startLineNumber>p)h=L-1;else{for(;L>S&&f[L-1].startLineNumber<=p&&p<=f[L-1].endLineNumber;)L--;return L}}return S}acceptEdit(f,p,S,h,L){for(const v of this._pieces)v.acceptEdit(f,p,S,h,L)}}class w{constructor(f){this._lineTokens=[],this._len=0,this._languageIdCodec=f}flush(){this._lineTokens=[],this._len=0}getTokens(f,p,S){let h=null;if(p<this._len&&(h=this._lineTokens[p]),h!==null&&h!==B)return new O.A(r(h),S,this._languageIdCodec);const L=new Uint32Array(2);return L[0]=S.length,L[1]=R(this._languageIdCodec.encodeLanguageId(f)),new O.A(L,S,this._languageIdCodec)}static _massageTokens(f,p,S){const h=S?r(S):null;if(p===0){let L=!1;if(h&&h.length>1&&(L=y.NX.getLanguageId(h[1])!==f),!L)return B}if(!h||h.length===0){const L=new Uint32Array(2);return L[0]=p,L[1]=R(f),L.buffer}return h[h.length-2]=p,h.byteOffset===0&&h.byteLength===h.buffer.byteLength?h.buffer:h}_ensureLine(f){for(;f>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(f,p){p!==0&&(f+p>this._len&&(p=this._len-f),this._lineTokens.splice(f,p),this._len-=p)}_insertLines(f,p){if(p===0)return;let S=[];for(let h=0;h<p;h++)S[h]=null;this._lineTokens=E.Zv(this._lineTokens,f,S),this._len+=p}setTokens(f,p,S,h,L){const v=w._massageTokens(this._languageIdCodec.encodeLanguageId(f),S,h);this._ensureLine(p);const V=this._lineTokens[p];return this._lineTokens[p]=v,L?!w._equals(V,v):!1}static _equals(f,p){if(!f||!p)return!f&&!p;const S=r(f),h=r(p);if(S.length!==h.length)return!1;for(let L=0,v=S.length;L<v;L++)if(S[L]!==h[L])return!1;return!0}acceptEdit(f,p,S){this._acceptDeleteRange(f),this._acceptInsertText(new Q.L(f.startLineNumber,f.startColumn),p,S)}_acceptDeleteRange(f){const p=f.startLineNumber-1;if(p>=this._len)return;if(f.startLineNumber===f.endLineNumber){if(f.startColumn===f.endColumn)return;this._lineTokens[p]=w._delete(this._lineTokens[p],f.startColumn-1,f.endColumn-1);return}this._lineTokens[p]=w._deleteEnding(this._lineTokens[p],f.startColumn-1);const S=f.endLineNumber-1;let h=null;S<this._len&&(h=w._deleteBeginning(this._lineTokens[S],f.endColumn-1)),this._lineTokens[p]=w._append(this._lineTokens[p],h),this._deleteLines(f.startLineNumber,f.endLineNumber-f.startLineNumber)}_acceptInsertText(f,p,S){if(p===0&&S===0)return;const h=f.lineNumber-1;if(!(h>=this._len)){if(p===0){this._lineTokens[h]=w._insert(this._lineTokens[h],f.column-1,S);return}this._lineTokens[h]=w._deleteEnding(this._lineTokens[h],f.column-1),this._lineTokens[h]=w._insert(this._lineTokens[h],f.column-1,S),this._insertLines(f.lineNumber,p)}}static _deleteBeginning(f,p){return f===null||f===B?f:w._delete(f,0,p)}static _deleteEnding(f,p){if(f===null||f===B)return f;const S=r(f),h=S[S.length-2];return w._delete(f,p,h)}static _delete(f,p,S){if(f===null||f===B||p===S)return f;const h=r(f),L=h.length>>>1;if(p===0&&h[h.length-2]===S)return B;const v=O.A.findIndexInTokensArray(h,p),V=v>0?h[v-1<<1]:0,$=h[v<<1];if(S<$){const xe=S-p;for(let le=v;le<L;le++)h[le<<1]-=xe;return f}let ee,de;V!==p?(h[v<<1]=p,ee=v+1<<1,de=p):(ee=v<<1,de=V);const pe=S-p;for(let xe=v+1;xe<L;xe++){const le=h[xe<<1]-pe;le>de&&(h[ee++]=le,h[ee++]=h[(xe<<1)+1],de=le)}if(ee===h.length)return f;let ve=new Uint32Array(ee);return ve.set(h.subarray(0,ee),0),ve.buffer}static _append(f,p){if(p===B)return f;if(f===B)return p;if(f===null)return f;if(p===null)return null;const S=r(f),h=r(p),L=h.length>>>1;let v=new Uint32Array(S.length+h.length);v.set(S,0);let V=S.length;const $=S[S.length-2];for(let ee=0;ee<L;ee++)v[V++]=h[ee<<1]+$,v[V++]=h[(ee<<1)+1];return v.buffer}static _insert(f,p,S){if(f===null||f===B)return f;const h=r(f),L=h.length>>>1;let v=O.A.findIndexInTokensArray(h,p);v>0&&h[v-1<<1]===p&&v--;for(let V=v;V<L;V++)h[V<<1]+=S;return f}}},97461:function(Qt,He,c){"use strict";c.d(He,{Af:function(){return Q},eq:function(){return P},t2:function(){return X},vu:function(){return E}});const E="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function O(B=""){let s="(-?\\d*\\.\\d\\w*)|([^";for(const N of E)B.indexOf(N)>=0||(s+="\\"+N);return s+="\\s]+)",new RegExp(s,"g")}const Q=O();function P(B){let s=Q;if(B&&B instanceof RegExp)if(B.global)s=B;else{let N="g";B.ignoreCase&&(N+="i"),B.multiline&&(N+="m"),B.unicode&&(N+="u"),s=new RegExp(B.source,N)}return s.lastIndex=0,s}const y={maxLen:1e3,windowSize:15,timeBudget:150};function X(B,s,N,g,D=y){if(N.length>D.maxLen){let x=B-D.maxLen/2;return x<0?x=0:g+=x,N=N.substring(x,B+D.maxLen/2),X(B,s,N,g,D)}const H=Date.now(),r=B-1-g;let T=-1,w=null;for(let x=1;!(Date.now()-H>=D.timeBudget);x++){const f=r-D.windowSize*x;s.lastIndex=Math.max(0,f);const p=R(s,N,r,T);if(!p&&w||(w=p,f<=0))break;T=f}if(w){let x={word:w[0],startColumn:g+1+w.index,endColumn:g+1+w.index+w[0].length};return s.lastIndex=0,x}return null}function R(B,s,N,g){let D;for(;D=B.exec(s);){const H=D.index||0;if(H<=N&&B.lastIndex>=N)return D;if(g>0&&H>g)return null}return null}},10351:function(Qt,He,c){"use strict";c.d(He,{H9:function(){return et},He:function(){return Oe},OH:function(){return tt},KZ:function(){return le},RN:function(){return te},Ct:function(){return F},Az:function(){return Dt},vH:function(){return m},vN:function(){return ht},K7:function(){return nt},wT:function(){return Ie},vJ:function(){return q},AD:function(){return de},aC:function(){return fe},xp:function(){return G},vI:function(){return me},mX:function(){return Re},bw:function(){return L},zu:function(){return Y},pM:function(){return Je},id:function(){return b},ln:function(){return Mt},FL:function(){return ve},G0:function(){return xe},AC:function(){return ke},nD:function(){return j},NX:function(){return p},RW:function(){return at},tA:function(){return ue},jr:function(){return h},Sy:function(){return S},vx:function(){return $}});var E=c(70666),O=c(24314),Q=c(4669),P=c(89954),y=c(5976),X=c(43702),R=c(14118),B=c(55336);function s(ot,Ne,Pe,ye){if(Array.isArray(ot)){let Ze=0;for(const it of ot){const Ft=s(it,Ne,Pe,ye);if(Ft===10)return Ft;Ft>Ze&&(Ze=Ft)}return Ze}else{if(typeof ot=="string")return ye?ot==="*"?5:ot===Pe?10:0:0;if(ot){const{language:Ze,pattern:it,scheme:Ft,hasAccessToAllModels:ei}=ot;if(!ye&&!ei)return 0;let bi=0;if(Ft)if(Ft===Ne.scheme)bi=10;else if(Ft==="*")bi=5;else return 0;if(Ze)if(Ze===Pe)bi=10;else if(Ze==="*")bi=Math.max(bi,5);else return 0;if(it){let ii;if(typeof it=="string"?ii=it:ii=Object.assign(Object.assign({},it),{base:(0,B.Fv)(it.base)}),ii===Ne.fsPath||(0,R.EQ)(ii,Ne.fsPath))bi=10;else return 0}return bi}else return 0}}var N=c(51200);function g(ot){return typeof ot=="string"?!1:Array.isArray(ot)?ot.every(g):!!ot.exclusive}class D{constructor(){this._clock=0,this._entries=[],this._onDidChange=new Q.Q5}get onDidChange(){return this._onDidChange.event}register(Ne,Pe){let ye={selector:Ne,provider:Pe,_score:-1,_time:this._clock++};return this._entries.push(ye),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,y.OF)(()=>{if(ye){let Ze=this._entries.indexOf(ye);Ze>=0&&(this._entries.splice(Ze,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),ye=void 0)}})}has(Ne){return this.all(Ne).length>0}all(Ne){if(!Ne)return[];this._updateScores(Ne);const Pe=[];for(let ye of this._entries)ye._score>0&&Pe.push(ye.provider);return Pe}ordered(Ne){const Pe=[];return this._orderedForEach(Ne,ye=>Pe.push(ye.provider)),Pe}orderedGroups(Ne){const Pe=[];let ye,Ze;return this._orderedForEach(Ne,it=>{ye&&Ze===it._score?ye.push(it.provider):(Ze=it._score,ye=[it.provider],Pe.push(ye))}),Pe}_orderedForEach(Ne,Pe){if(Ne){this._updateScores(Ne);for(const ye of this._entries)ye._score>0&&Pe(ye)}}_updateScores(Ne){let Pe={uri:Ne.uri.toString(),language:Ne.getLanguageId()};if(!(this._lastCandidate&&this._lastCandidate.language===Pe.language&&this._lastCandidate.uri===Pe.uri)){this._lastCandidate=Pe;for(let ye of this._entries)if(ye._score=s(ye.selector,Ne.uri,Ne.getLanguageId(),(0,N.p)(Ne)),g(ye.selector)&&ye._score>0){for(let Ze of this._entries)Ze._score=0;ye._score=1e3;break}this._entries.sort(D._compareByScoreAndTime)}}static _compareByScoreAndTime(Ne,Pe){return Ne._score<Pe._score?1:Ne._score>Pe._score?-1:Ne._time<Pe._time?1:Ne._time>Pe._time?-1:0}}const H=new WeakMap;let r=0;function T(ot){let Ne=H.get(ot);return Ne===void 0&&(Ne=++r,H.set(ot,Ne)),Ne}class w{constructor(Ne,Pe,ye=Number.MAX_SAFE_INTEGER){this._registry=Ne,this.min=Pe,this.max=ye,this._cache=new LRUCache(50,.7)}_key(Ne){return Ne.id+this._registry.all(Ne).reduce((Pe,ye)=>doHash(T(ye),Pe),0)}_clamp(Ne){return Ne===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(Ne*1.3)))}get(Ne){const Pe=this._key(Ne),ye=this._cache.get(Pe);return this._clamp(ye==null?void 0:ye.value)}update(Ne,Pe){const ye=this._key(Ne);let Ze=this._cache.get(ye);return Ze||(Ze=new MovingAverage,this._cache.set(ye,Ze)),Ze.update(Pe),this.get(Ne)}}class x{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new Q.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(Ne){this._onDidChange.fire({changedLanguages:Ne,changedColorMap:!1})}register(Ne,Pe){return this._map.set(Ne,Pe),this.fire([Ne]),(0,y.OF)(()=>{this._map.get(Ne)===Pe&&(this._map.delete(Ne),this.fire([Ne]))})}registerPromise(Ne,Pe){let ye=null,Ze=!1;return this._promises.set(Ne,Pe.then(it=>{this._promises.delete(Ne),!(Ze||!it)&&(ye=this.register(Ne,it))})),(0,y.OF)(()=>{Ze=!0,ye&&ye.dispose()})}getPromise(Ne){const Pe=this.get(Ne);if(Pe)return Promise.resolve(Pe);const ye=this._promises.get(Ne);return ye?ye.then(Ze=>this.get(Ne)):null}get(Ne){return this._map.get(Ne)||null}setColorMap(Ne){this._colorMap=Ne,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}var f=c(73046);class p{static getLanguageId(Ne){return(Ne&255)>>>0}static getTokenType(Ne){return(Ne&1792)>>>8}static getFontStyle(Ne){return(Ne&14336)>>>11}static getForeground(Ne){return(Ne&8372224)>>>14}static getBackground(Ne){return(Ne&4286578688)>>>23}static getClassNameFromMetadata(Ne){let ye="mtk"+this.getForeground(Ne),Ze=this.getFontStyle(Ne);return Ze&1&&(ye+=" mtki"),Ze&2&&(ye+=" mtkb"),Ze&4&&(ye+=" mtku"),ye}static getInlineStyleFromMetadata(Ne,Pe){const ye=this.getForeground(Ne),Ze=this.getFontStyle(Ne);let it=`color: ${Pe[ye]};`;return Ze&1&&(it+="font-style: italic;"),Ze&2&&(it+="font-weight: bold;"),Ze&4&&(it+="text-decoration: underline;"),it}}const S=function(){let ot=Object.create(null);return ot[0]="symbol-method",ot[1]="symbol-function",ot[2]="symbol-constructor",ot[3]="symbol-field",ot[4]="symbol-variable",ot[5]="symbol-class",ot[6]="symbol-struct",ot[7]="symbol-interface",ot[8]="symbol-module",ot[9]="symbol-property",ot[10]="symbol-event",ot[11]="symbol-operator",ot[12]="symbol-unit",ot[13]="symbol-value",ot[14]="symbol-constant",ot[15]="symbol-enum",ot[16]="symbol-enum-member",ot[17]="symbol-keyword",ot[27]="symbol-snippet",ot[18]="symbol-text",ot[19]="symbol-color",ot[20]="symbol-file",ot[21]="symbol-reference",ot[22]="symbol-customcolor",ot[23]="symbol-folder",ot[24]="symbol-type-parameter",ot[25]="account",ot[26]="issues",function(Ne){const Pe=ot[Ne];let ye=Pe&&f.fK.get(Pe);return ye||(console.info("No codicon found for CompletionItemKind "+Ne),ye=f.lA.symbolProperty),ye.classNames}}();let h=function(){let ot=Object.create(null);return ot.method=0,ot.function=1,ot.constructor=2,ot.field=3,ot.variable=4,ot.class=5,ot.struct=6,ot.interface=7,ot.module=8,ot.property=9,ot.event=10,ot.operator=11,ot.unit=12,ot.value=13,ot.constant=14,ot.enum=15,ot["enum-member"]=16,ot.enumMember=16,ot.keyword=17,ot.snippet=27,ot.text=18,ot.color=19,ot.file=20,ot.reference=21,ot.customcolor=22,ot.folder=23,ot["type-parameter"]=24,ot.typeParameter=24,ot.account=25,ot.issue=26,function(Ne,Pe){let ye=ot[Ne];return typeof ye=="undefined"&&!Pe&&(ye=9),ye}}();var L;(function(ot){ot[ot.Automatic=0]="Automatic",ot[ot.Explicit=1]="Explicit"})(L||(L={}));var v;(function(ot){ot[ot.Invoke=1]="Invoke",ot[ot.TriggerCharacter=2]="TriggerCharacter",ot[ot.ContentChange=3]="ContentChange"})(v||(v={}));var V;(function(ot){ot[ot.Text=0]="Text",ot[ot.Read=1]="Read",ot[ot.Write=2]="Write"})(V||(V={}));function $(ot){return ot&&E.o.isUri(ot.uri)&&O.e.isIRange(ot.range)&&(O.e.isIRange(ot.originSelectionRange)||O.e.isIRange(ot.targetSelectionRange))}var ee;(function(ot){const Ne=new Map;Ne.set("file",0),Ne.set("module",1),Ne.set("namespace",2),Ne.set("package",3),Ne.set("class",4),Ne.set("method",5),Ne.set("property",6),Ne.set("field",7),Ne.set("constructor",8),Ne.set("enum",9),Ne.set("interface",10),Ne.set("function",11),Ne.set("variable",12),Ne.set("constant",13),Ne.set("string",14),Ne.set("number",15),Ne.set("boolean",16),Ne.set("array",17),Ne.set("object",18),Ne.set("key",19),Ne.set("null",20),Ne.set("enum-member",21),Ne.set("struct",22),Ne.set("event",23),Ne.set("operator",24),Ne.set("type-parameter",25);const Pe=new Map;Pe.set(0,"file"),Pe.set(1,"module"),Pe.set(2,"namespace"),Pe.set(3,"package"),Pe.set(4,"class"),Pe.set(5,"method"),Pe.set(6,"property"),Pe.set(7,"field"),Pe.set(8,"constructor"),Pe.set(9,"enum"),Pe.set(10,"interface"),Pe.set(11,"function"),Pe.set(12,"variable"),Pe.set(13,"constant"),Pe.set(14,"string"),Pe.set(15,"number"),Pe.set(16,"boolean"),Pe.set(17,"array"),Pe.set(18,"object"),Pe.set(19,"key"),Pe.set(20,"null"),Pe.set(21,"enum-member"),Pe.set(22,"struct"),Pe.set(23,"event"),Pe.set(24,"operator"),Pe.set(25,"type-parameter");function ye(Ft){return Ne.get(Ft)}ot.fromString=ye;function Ze(Ft){return Pe.get(Ft)}ot.toString=Ze;function it(Ft,ei){const bi=Pe.get(Ft);let ii=bi&&f.fK.get("symbol-"+bi);return ii||(console.info("No codicon found for SymbolKind "+Ft),ii=f.lA.symbolProperty),`${ei?"inline":"block"} ${ii.classNames}`}ot.toCssClassName=it})(ee||(ee={}));class de{constructor(Ne){this.value=Ne}}de.Comment=new de("comment"),de.Imports=new de("imports"),de.Region=new de("region");var pe;(function(ot){ot[ot.Other=0]="Other",ot[ot.Type=1]="Type",ot[ot.Parameter=2]="Parameter"})(pe||(pe={}));const ve=new D,xe=new D,le=new D,Y=new D,j=new D,G=new D,q=new D,m=new D,b=new D,F=new D,te=new D,me=new D,ue=new D,Oe=new D,Re=new D,et=new D,Dt=new D,ht=new D,Mt=new D,Je=new D,tt=new D,ke=new D,fe=new D,Ie=new D,nt=new D,at=new x},97354:function(Qt,He,c){"use strict";c.d(He,{V6:function(){return O},c$:function(){return Q},wU:function(){return E}});var E;(function(y){y[y.None=0]="None",y[y.Indent=1]="Indent",y[y.IndentOutdent=2]="IndentOutdent",y[y.Outdent=3]="Outdent"})(E||(E={}));class O{constructor(X){if(this._standardAutoClosingPairConditionalBrand=void 0,this.open=X.open,this.close=X.close,this._standardTokenMask=0,Array.isArray(X.notIn))for(let R=0,B=X.notIn.length;R<B;R++)switch(X.notIn[R]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(X){return(this._standardTokenMask&X)===0}}class Q{constructor(X){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const R of X)P(this.autoClosingPairsOpenByStart,R.open.charAt(0),R),P(this.autoClosingPairsOpenByEnd,R.open.charAt(R.open.length-1),R),P(this.autoClosingPairsCloseByStart,R.close.charAt(0),R),P(this.autoClosingPairsCloseByEnd,R.close.charAt(R.close.length-1),R),R.close.length===1&&R.open.length===1&&P(this.autoClosingPairsCloseSingleChar,R.close,R)}}function P(y,X,R){y.has(X)?y.get(X).push(R):y.set(X,[R])}},94660:function(Qt,He,c){"use strict";c.d(He,{c_:function(){return L},zu:function(){return xe},UU:function(){return v}});var E=c(4669),O=c(5976),Q=c(97295),P=c(97461),y=c(97354),X=c(40764);class R{constructor(m){if(m.autoClosingPairs?this._autoClosingPairs=m.autoClosingPairs.map(b=>new y.V6(b)):m.brackets?this._autoClosingPairs=m.brackets.map(b=>new y.V6({open:b[0],close:b[1]})):this._autoClosingPairs=[],m.colorizedBracketPairs?this._colorizedBracketPairs=B(m.colorizedBracketPairs.map(b=>[b[0],b[1]])):m.brackets?this._colorizedBracketPairs=B(m.brackets.map(b=>[b[0],b[1]]).filter(b=>!(b[0]==="<"&&b[1]===">"))):this._colorizedBracketPairs=[],m.__electricCharacterSupport&&m.__electricCharacterSupport.docComment){const b=m.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new y.V6({open:b.open,close:b.close||""}))}this._autoCloseBefore=typeof m.autoCloseBefore=="string"?m.autoCloseBefore:R.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=m.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(m,b,F){if(b.getTokenCount()===0)return!0;const te=b.findTokenIndexAtOffset(F-2),me=b.getStandardTokenType(te);return m.isOK(me)}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}R.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`;function B(q){return q.filter(([m,b])=>m!==""&&b!=="")}var s=c(34227);class N{constructor(m){this._richEditBrackets=m}getElectricCharacters(){let m=[];if(this._richEditBrackets)for(const b of this._richEditBrackets.brackets)for(const F of b.close){const te=F.charAt(F.length-1);m.push(te)}return m=m.filter((b,F,te)=>te.indexOf(b)===F),m}onElectricCharacter(m,b,F){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const te=b.findTokenIndexAtOffset(F-1);if((0,X.Bu)(b.getStandardTokenType(te)))return null;const me=this._richEditBrackets.reversedRegex,ue=b.getLineContent().substring(0,F-1)+m,Oe=s.Vr.findPrevBracketInRange(me,1,ue,0,ue.length);if(!Oe)return null;const Re=ue.substring(Oe.startColumn-1,Oe.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[Re])return null;const Dt=b.getActualLineContentBefore(Oe.startColumn-1);return/^\s*$/.test(Dt)?{matchOpenBracket:Re}:null}}function g(q){return q.global&&(q.lastIndex=0),!0}class D{constructor(m){this._indentationRules=m}shouldIncrease(m){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&g(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(m))}shouldDecrease(m){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&g(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(m))}shouldIndentNextLine(m){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&g(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(m))}shouldIgnore(m){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&g(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(m))}getIndentMetadata(m){let b=0;return this.shouldIncrease(m)&&(b+=1),this.shouldDecrease(m)&&(b+=2),this.shouldIndentNextLine(m)&&(b+=4),this.shouldIgnore(m)&&(b+=8),b}}var H=c(17301);class r{constructor(m){m=m||{},m.brackets=m.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],m.brackets.forEach(b=>{const F=r._createOpenBracketRegExp(b[0]),te=r._createCloseBracketRegExp(b[1]);F&&te&&this._brackets.push({open:b[0],openRegExp:F,close:b[1],closeRegExp:te})}),this._regExpRules=m.onEnterRules||[]}onEnter(m,b,F,te){if(m>=3)for(let me=0,ue=this._regExpRules.length;me<ue;me++){let Oe=this._regExpRules[me];if([{reg:Oe.beforeText,text:F},{reg:Oe.afterText,text:te},{reg:Oe.previousLineText,text:b}].every(et=>et.reg?(et.reg.lastIndex=0,et.reg.test(et.text)):!0))return Oe.action}if(m>=2&&F.length>0&&te.length>0)for(let me=0,ue=this._brackets.length;me<ue;me++){let Oe=this._brackets[me];if(Oe.openRegExp.test(F)&&Oe.closeRegExp.test(te))return{indentAction:y.wU.IndentOutdent}}if(m>=2&&F.length>0){for(let me=0,ue=this._brackets.length;me<ue;me++)if(this._brackets[me].openRegExp.test(F))return{indentAction:y.wU.Indent}}return null}static _createOpenBracketRegExp(m){let b=Q.ec(m);return/\B/.test(b.charAt(0))||(b="\\b"+b),b+="\\s*$",r._safeRegExp(b)}static _createCloseBracketRegExp(m){let b=Q.ec(m);return/\B/.test(b.charAt(b.length-1))||(b=b+"\\b"),b="^\\s*"+b,r._safeRegExp(b)}static _safeRegExp(m){try{return new RegExp(m)}catch(b){return(0,H.dL)(b),null}}}var T=c(72065),w=c(33108),x=c(71531),f=c(65026),p=function(q,m,b,F){var te=arguments.length,me=te<3?m:F===null?F=Object.getOwnPropertyDescriptor(m,b):F,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(q,m,b,F);else for(var Oe=q.length-1;Oe>=0;Oe--)(ue=q[Oe])&&(me=(te<3?ue(me):te>3?ue(m,b,me):ue(m,b))||me);return te>3&&me&&Object.defineProperty(m,b,me),me},S=function(q,m){return function(b,F){m(b,F,q)}};class h{constructor(m){this.languageId=m}affects(m){return this.languageId?this.languageId===m:!0}}const L=(0,T.yh)("languageConfigurationService");let v=class extends O.JT{constructor(m,b){super(),this.configurationService=m,this.modeService=b,this.onDidChangeEmitter=this._register(new E.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const F=new Set(Object.values($));this._register(this.configurationService.onDidChangeConfiguration(te=>{const me=te.change.keys.some(Oe=>F.has(Oe)),ue=te.change.overrides.filter(([Oe,Re])=>Re.some(et=>F.has(et))).map(([Oe])=>this.modeService.validateLanguageId(Oe));if(me)this.configurations.clear(),this.onDidChangeEmitter.fire(new h(void 0));else for(const Oe of ue)Oe&&(this.configurations.delete(Oe),this.onDidChangeEmitter.fire(new h(Oe)))})),this._register(xe.onDidChange(te=>{this.configurations.delete(te.languageId),this.onDidChangeEmitter.fire(new h(te.languageId))}))}getLanguageConfiguration(m){let b=this.configurations.get(m);return b||(b=V(m,this.configurationService,this.modeService),this.configurations.set(m,b)),b}};v=p([S(0,w.Ui),S(1,x.h)],v);function V(q,m,b){let F=xe.getLanguageConfiguration(q);if(!F){const Oe=b.validateLanguageId(q);if(!Oe)throw new Error("Unexpected languageId");F=new G(Oe,{})}const te=ee(F.languageId,m),me=Y([F.underlyingConfig,te]);return new G(F.languageId,me)}const $={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function ee(q,m){const b=m.getValue($.brackets,{overrideIdentifier:q}),F=m.getValue($.colorizedBracketPairs,{overrideIdentifier:q});return{brackets:de(b),colorizedBracketPairs:de(F)}}function de(q){if(Array.isArray(q))return q.map(m=>{if(!(!Array.isArray(m)||m.length!==2))return[m[0],m[1]]}).filter(m=>!!m)}class pe{constructor(m){this.languageId=m}}class ve{constructor(){this._entries=new Map,this._onDidChange=new E.Q5,this.onDidChange=this._onDidChange.event}register(m,b,F=0){let te=this._entries.get(m);te||(te=new le(m),this._entries.set(m,te));const me=te.register(b,F);return this._onDidChange.fire(new pe(m)),(0,O.OF)(()=>{me.dispose(),this._onDidChange.fire(new pe(m))})}getLanguageConfiguration(m){let b=this._entries.get(m);return(b==null?void 0:b.getResolvedConfiguration())||null}getIndentationRules(m){const b=this.getLanguageConfiguration(m);return b&&b.indentationRules||null}_getElectricCharacterSupport(m){let b=this.getLanguageConfiguration(m);return b&&b.electricCharacter||null}getElectricCharacters(m){let b=this._getElectricCharacterSupport(m);return b?b.getElectricCharacters():[]}onElectricCharacter(m,b,F){let te=(0,X.wH)(b,F-1),me=this._getElectricCharacterSupport(te.languageId);return me?me.onElectricCharacter(m,te,F-te.firstCharOffset):null}getComments(m){let b=this.getLanguageConfiguration(m);return b&&b.comments||null}_getCharacterPairSupport(m){let b=this.getLanguageConfiguration(m);return b&&b.characterPair||null}getAutoClosingPairs(m){const b=this._getCharacterPairSupport(m);return new y.c$(b?b.getAutoClosingPairs():[])}getAutoCloseBeforeSet(m){let b=this._getCharacterPairSupport(m);return b?b.getAutoCloseBeforeSet():R.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(m){let b=this._getCharacterPairSupport(m);return b?b.getSurroundingPairs():[]}shouldAutoClosePair(m,b,F){const te=(0,X.wH)(b,F-1);return R.shouldAutoClosePair(m,te,F-te.firstCharOffset)}getWordDefinition(m){let b=this.getLanguageConfiguration(m);return b?(0,P.eq)(b.wordDefinition||null):(0,P.eq)(null)}getFoldingRules(m){let b=this.getLanguageConfiguration(m);return b?b.foldingRules:{}}getIndentRulesSupport(m){let b=this.getLanguageConfiguration(m);return b&&b.indentRulesSupport||null}getPrecedingValidLine(m,b,F){let te=m.getLanguageIdAtPosition(b,0);if(b>1){let me,ue=-1;for(me=b-1;me>=1;me--){if(m.getLanguageIdAtPosition(me,0)!==te)return ue;let Oe=m.getLineContent(me);if(F.shouldIgnore(Oe)||/^\s+$/.test(Oe)||Oe===""){ue=me;continue}return me}}return-1}getInheritIndentForLine(m,b,F,te=!0){if(m<4)return null;const me=this.getIndentRulesSupport(b.getLanguageId());if(!me)return null;if(F<=1)return{indentation:"",action:null};const ue=this.getPrecedingValidLine(b,F,me);if(ue<0)return null;if(ue<1)return{indentation:"",action:null};const Oe=b.getLineContent(ue);if(me.shouldIncrease(Oe)||me.shouldIndentNextLine(Oe))return{indentation:Q.V8(Oe),action:y.wU.Indent,line:ue};if(me.shouldDecrease(Oe))return{indentation:Q.V8(Oe),action:null,line:ue};{if(ue===1)return{indentation:Q.V8(b.getLineContent(ue)),action:null,line:ue};const Re=ue-1,et=me.getIndentMetadata(b.getLineContent(Re));if(!(et&3)&&et&4){let Dt=0;for(let ht=Re-1;ht>0;ht--)if(!me.shouldIndentNextLine(b.getLineContent(ht))){Dt=ht;break}return{indentation:Q.V8(b.getLineContent(Dt+1)),action:null,line:Dt+1}}if(te)return{indentation:Q.V8(b.getLineContent(ue)),action:null,line:ue};for(let Dt=ue;Dt>0;Dt--){const ht=b.getLineContent(Dt);if(me.shouldIncrease(ht))return{indentation:Q.V8(ht),action:y.wU.Indent,line:Dt};if(me.shouldIndentNextLine(ht)){let Mt=0;for(let Je=Dt-1;Je>0;Je--)if(!me.shouldIndentNextLine(b.getLineContent(Dt))){Mt=Je;break}return{indentation:Q.V8(b.getLineContent(Mt+1)),action:null,line:Mt+1}}else if(me.shouldDecrease(ht))return{indentation:Q.V8(ht),action:null,line:Dt}}return{indentation:Q.V8(b.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(m,b,F,te,me){if(m<4)return null;const ue=this.getLanguageConfiguration(F);if(!ue)return null;const Oe=this.getIndentRulesSupport(F);if(!Oe)return null;const Re=this.getInheritIndentForLine(m,b,te),et=b.getLineContent(te);if(Re){const Dt=Re.line;if(Dt!==void 0){const ht=ue.onEnter(m,"",b.getLineContent(Dt),"");if(ht){let Mt=Q.V8(b.getLineContent(Dt));return ht.removeText&&(Mt=Mt.substring(0,Mt.length-ht.removeText)),ht.indentAction===y.wU.Indent||ht.indentAction===y.wU.IndentOutdent?Mt=me.shiftIndent(Mt):ht.indentAction===y.wU.Outdent&&(Mt=me.unshiftIndent(Mt)),Oe.shouldDecrease(et)&&(Mt=me.unshiftIndent(Mt)),ht.appendText&&(Mt+=ht.appendText),Q.V8(Mt)}}return Oe.shouldDecrease(et)?Re.action===y.wU.Indent?Re.indentation:me.unshiftIndent(Re.indentation):Re.action===y.wU.Indent?me.shiftIndent(Re.indentation):Re.indentation}return null}getIndentForEnter(m,b,F,te){if(m<4)return null;b.forceTokenization(F.startLineNumber);const me=b.getLineTokens(F.startLineNumber),ue=(0,X.wH)(me,F.startColumn-1),Oe=ue.getLineContent();let Re=!1,et;ue.firstCharOffset>0&&me.getLanguageId(0)!==ue.languageId?(Re=!0,et=Oe.substr(0,F.startColumn-1-ue.firstCharOffset)):et=me.getLineContent().substring(0,F.startColumn-1);let Dt;F.isEmpty()?Dt=Oe.substr(F.startColumn-1-ue.firstCharOffset):Dt=this.getScopedLineTokens(b,F.endLineNumber,F.endColumn).getLineContent().substr(F.endColumn-1-ue.firstCharOffset);const ht=this.getIndentRulesSupport(ue.languageId);if(!ht)return null;const Mt=et,Je=Q.V8(et),tt={getLineTokens:nt=>b.getLineTokens(nt),getLanguageId:()=>b.getLanguageId(),getLanguageIdAtPosition:(nt,at)=>b.getLanguageIdAtPosition(nt,at),getLineContent:nt=>nt===F.startLineNumber?Mt:b.getLineContent(nt)},ke=Q.V8(me.getLineContent()),fe=this.getInheritIndentForLine(m,tt,F.startLineNumber+1);if(!fe){const nt=Re?ke:Je;return{beforeEnter:nt,afterEnter:nt}}let Ie=Re?ke:fe.indentation;return fe.action===y.wU.Indent&&(Ie=te.shiftIndent(Ie)),ht.shouldDecrease(Dt)&&(Ie=te.unshiftIndent(Ie)),{beforeEnter:Re?ke:Je,afterEnter:Ie}}getIndentActionForType(m,b,F,te,me){if(m<4)return null;const ue=this.getScopedLineTokens(b,F.startLineNumber,F.startColumn);if(ue.firstCharOffset)return null;const Oe=this.getIndentRulesSupport(ue.languageId);if(!Oe)return null;const Re=ue.getLineContent(),et=Re.substr(0,F.startColumn-1-ue.firstCharOffset);let Dt;if(F.isEmpty()?Dt=Re.substr(F.startColumn-1-ue.firstCharOffset):Dt=this.getScopedLineTokens(b,F.endLineNumber,F.endColumn).getLineContent().substr(F.endColumn-1-ue.firstCharOffset),!Oe.shouldDecrease(et+Dt)&&Oe.shouldDecrease(et+te+Dt)){const ht=this.getInheritIndentForLine(m,b,F.startLineNumber,!1);if(!ht)return null;let Mt=ht.indentation;return ht.action!==y.wU.Indent&&(Mt=me.unshiftIndent(Mt)),Mt}return null}getIndentMetadata(m,b){const F=this.getIndentRulesSupport(m.getLanguageId());return!F||b<1||b>m.getLineCount()?null:F.getIndentMetadata(m.getLineContent(b))}getEnterAction(m,b,F){const te=this.getScopedLineTokens(b,F.startLineNumber,F.startColumn),me=this.getLanguageConfiguration(te.languageId);if(!me)return null;const ue=te.getLineContent(),Oe=ue.substr(0,F.startColumn-1-te.firstCharOffset);let Re;F.isEmpty()?Re=ue.substr(F.startColumn-1-te.firstCharOffset):Re=this.getScopedLineTokens(b,F.endLineNumber,F.endColumn).getLineContent().substr(F.endColumn-1-te.firstCharOffset);let et="";if(F.startLineNumber>1&&te.firstCharOffset===0){const ke=this.getScopedLineTokens(b,F.startLineNumber-1);ke.languageId===te.languageId&&(et=ke.getLineContent())}const Dt=me.onEnter(m,et,Oe,Re);if(!Dt)return null;const ht=Dt.indentAction;let Mt=Dt.appendText;const Je=Dt.removeText||0;Mt?ht===y.wU.Indent&&(Mt="	"+Mt):ht===y.wU.Indent||ht===y.wU.IndentOutdent?Mt="	":Mt="";let tt=this.getIndentationAtPosition(b,F.startLineNumber,F.startColumn);return Je&&(tt=tt.substring(0,tt.length-Je)),{indentAction:ht,appendText:Mt,removeText:Je,indentation:tt}}getIndentationAtPosition(m,b,F){const te=m.getLineContent(b);let me=Q.V8(te);return me.length>F-1&&(me=me.substring(0,F-1)),me}getScopedLineTokens(m,b,F){m.forceTokenization(b);const te=m.getLineTokens(b),me=typeof F=="undefined"?m.getLineMaxColumn(b)-1:F-1;return(0,X.wH)(te,me)}}const xe=new ve;class le{constructor(m){this.languageId=m,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(m,b){const F=new j(m,b,++this._order);return this._entries.push(F),this._resolved=null,(0,O.OF)(()=>{for(let te=0;te<this._entries.length;te++)if(this._entries[te]===F){this._entries.splice(te,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const m=this._resolve();m&&(this._resolved=new G(this.languageId,m))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(j.cmp),Y(this._entries.map(m=>m.configuration)))}}function Y(q){let m={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const b of q)m={comments:b.comments||m.comments,brackets:b.brackets||m.brackets,wordPattern:b.wordPattern||m.wordPattern,indentationRules:b.indentationRules||m.indentationRules,onEnterRules:b.onEnterRules||m.onEnterRules,autoClosingPairs:b.autoClosingPairs||m.autoClosingPairs,surroundingPairs:b.surroundingPairs||m.surroundingPairs,autoCloseBefore:b.autoCloseBefore||m.autoCloseBefore,folding:b.folding||m.folding,colorizedBracketPairs:b.colorizedBracketPairs||m.colorizedBracketPairs,__electricCharacterSupport:b.__electricCharacterSupport||m.__electricCharacterSupport};return m}class j{constructor(m,b,F){this.configuration=m,this.priority=b,this.order=F}static cmp(m,b){return m.priority===b.priority?m.order-b.order:m.priority-b.priority}}class G{constructor(m,b){this.languageId=m,this.underlyingConfig=b,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new r(this.underlyingConfig):null,this.comments=G._handleComments(this.underlyingConfig),this.characterPair=new R(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||P.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new D(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return(0,P.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new s.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new N(this.brackets)),this._electricCharacter}onEnter(m,b,F,te){return this._onEnterSupport?this._onEnterSupport.onEnter(m,b,F,te):null}static _handleComments(m){let b=m.comments;if(!b)return null;let F={};if(b.lineComment&&(F.lineCommentToken=b.lineComment),b.blockComment){let[te,me]=b.blockComment;F.blockCommentStartToken=te,F.blockCommentEndToken=me}return F}}(0,f.z)(L,v)},71144:function(Qt,He,c){"use strict";c.d(He,{XT:function(){return s},dQ:function(){return B}});var E=c(63580),O=c(4669),Q=c(94660),P=c(89872),y=c(81170);const X={ModesRegistry:"editor.modesRegistry"};class R{constructor(){this._onDidChangeLanguages=new O.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(D){return this._languages.push(D),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let H=0,r=this._languages.length;H<r;H++)if(this._languages[H]===D){this._languages.splice(H,1);return}}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}const B=new R;P.B.add(X.ModesRegistry,B);const s="plaintext";B.registerLanguage({id:s,extensions:[".txt"],aliases:[E.N("plainText.alias","Plain Text"),"text"],mimetypes:[y.vW.text]}),Q.zu.register(s,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0)},28111:function(Qt,He,c){"use strict";c.d(He,{Ri:function(){return y},TG:function(){return P},mh:function(){return X},nO:function(){return Q}});var E=c(85600);class O{clone(){return this}equals(B){return this===B}}const Q=new O,P="vs.editor.nullMode";function y(R,B,s,N){return new E.hG([new E.WU(N,"",R)],s)}function X(R,B,s,N){let g=new Uint32Array(2);return g[0]=N,g[1]=(R<<0|0|0|16384|2<<23)>>>0,new E.Hi(g,s===null?Q:s)}},40764:function(Qt,He,c){"use strict";c.d(He,{Bu:function(){return Q},wH:function(){return E}});function E(P,y){let X=P.getCount(),R=P.findTokenIndexAtOffset(y),B=P.getLanguageId(R),s=R;for(;s+1<X&&P.getLanguageId(s+1)===B;)s++;let N=R;for(;N>0&&P.getLanguageId(N-1)===B;)N--;return new O(P,B,N,s+1,P.getStartOffset(N),P.getEndOffset(s))}class O{constructor(y,X,R,B,s,N){this._scopedLineTokensBrand=void 0,this._actual=y,this.languageId=X,this._firstTokenIndex=R,this._lastTokenIndex=B,this.firstCharOffset=s,this._lastCharOffset=N}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(y){return this._actual.getLineContent().substring(0,this.firstCharOffset+y)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(y){return this._actual.findTokenIndexAtOffset(y+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(y){return this._actual.getStandardTokenType(y+this._firstTokenIndex)}}function Q(P){return(P&7)!==0}},34227:function(Qt,He,c){"use strict";c.d(He,{EA:function(){return X},Vr:function(){return x}});var E=c(97295),O=c(50072),Q=c(24314);class P{constructor(p,S,h,L,v,V){this._richEditBracketBrand=void 0,this.languageId=p,this.index=S,this.open=h,this.close=L,this.forwardRegex=v,this.reversedRegex=V,this._openSet=P._toSet(this.open),this._closeSet=P._toSet(this.close)}isOpen(p){return this._openSet.has(p)}isClose(p){return this._closeSet.has(p)}static _toSet(p){const S=new Set;for(const h of p)S.add(h);return S}}function y(f){const p=f.length;f=f.map(V=>[V[0].toLowerCase(),V[1].toLowerCase()]);const S=[];for(let V=0;V<p;V++)S[V]=V;const h=(V,$)=>{const[ee,de]=V,[pe,ve]=$;return ee===pe||ee===ve||de===pe||de===ve},L=(V,$)=>{const ee=Math.min(V,$),de=Math.max(V,$);for(let pe=0;pe<p;pe++)S[pe]===de&&(S[pe]=ee)};for(let V=0;V<p;V++){const $=f[V];for(let ee=V+1;ee<p;ee++){const de=f[ee];h($,de)&&L(S[V],S[ee])}}const v=[];for(let V=0;V<p;V++){let $=[],ee=[];for(let de=0;de<p;de++)if(S[de]===V){const[pe,ve]=f[de];$.push(pe),ee.push(ve)}$.length>0&&v.push({open:$,close:ee})}return v}class X{constructor(p,S){this._richEditBracketsBrand=void 0;const h=y(S);this.brackets=h.map((L,v)=>new P(p,v,L.open,L.close,N(L.open,L.close,h,v),g(L.open,L.close,h,v))),this.forwardRegex=D(this.brackets),this.reversedRegex=H(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const L of this.brackets){for(const v of L.open)this.textIsBracket[v]=L,this.textIsOpenBracket[v]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,v.length);for(const v of L.close)this.textIsBracket[v]=L,this.textIsOpenBracket[v]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,v.length)}}}function R(f,p,S,h){for(let L=0,v=p.length;L<v;L++){if(L===S)continue;const V=p[L];for(const $ of V.open)$.indexOf(f)>=0&&h.push($);for(const $ of V.close)$.indexOf(f)>=0&&h.push($)}}function B(f,p){return f.length-p.length}function s(f){if(f.length<=1)return f;const p=[],S=new Set;for(const h of f)S.has(h)||(p.push(h),S.add(h));return p}function N(f,p,S,h){let L=[];L=L.concat(f),L=L.concat(p);for(let v=0,V=L.length;v<V;v++)R(L[v],S,h,L);return L=s(L),L.sort(B),L.reverse(),T(L)}function g(f,p,S,h){let L=[];L=L.concat(f),L=L.concat(p);for(let v=0,V=L.length;v<V;v++)R(L[v],S,h,L);return L=s(L),L.sort(B),L.reverse(),T(L.map(w))}function D(f){let p=[];for(const S of f){for(const h of S.open)p.push(h);for(const h of S.close)p.push(h)}return p=s(p),T(p)}function H(f){let p=[];for(const S of f){for(const h of S.open)p.push(h);for(const h of S.close)p.push(h)}return p=s(p),T(p.map(w))}function r(f){const p=/^[\w ]+$/.test(f);return f=E.ec(f),p?`\\b${f}\\b`:f}function T(f){let p=`(${f.map(r).join(")|(")})`;return E.GF(p,!0)}const w=function(){function f(h){if(O.lZ){const L=new Uint16Array(h.length);let v=0;for(let V=h.length-1;V>=0;V--)L[v++]=h.charCodeAt(V);return O.oe().decode(L)}else{let L=[],v=0;for(let V=h.length-1;V>=0;V--)L[v++]=h.charAt(V);return L.join("")}}let p=null,S=null;return function(L){return p!==L&&(p=L,S=f(p)),S}}();class x{static _findPrevBracketInText(p,S,h,L){let v=h.match(p);if(!v)return null;let V=h.length-(v.index||0),$=v[0].length,ee=L+V;return new Q.e(S,ee-$+1,S,ee+1)}static findPrevBracketInRange(p,S,h,L,v){const $=w(h).substring(h.length-v,h.length-L);return this._findPrevBracketInText(p,S,$,L)}static findNextBracketInText(p,S,h,L){let v=h.match(p);if(!v)return null;let V=v.index||0,$=v[0].length;if($===0)return null;let ee=L+V;return new Q.e(S,ee+1,S,ee+1+$)}static findNextBracketInRange(p,S,h,L,v){const V=h.substring(L,v);return this.findNextBracketInText(p,S,V,L)}}},55713:function(Qt,He,c){"use strict";c.d(He,{C:function(){return y},F:function(){return X}});var E=c(97295),O=c(78411),Q=c(28111);const P={getInitialState:()=>Q.nO,tokenize2:(B,s,N,g)=>(0,Q.mh)(0,B,N,g)};function y(B,s,N=P){return R(B,s,N||P)}function X(B,s,N,g,D,H,r){let T="<div>",w=g,x=0,f=!0;for(let p=0,S=s.getCount();p<S;p++){const h=s.getEndOffset(p);if(h<=g)continue;let L="";for(;w<h&&w<D;w++){const v=B.charCodeAt(w);switch(v){case 9:let V=H-(w+x)%H;for(x+=V-1;V>0;)r&&f?(L+="&#160;",f=!1):(L+=" ",f=!0),V--;break;case 60:L+="&lt;",f=!1;break;case 62:L+="&gt;",f=!1;break;case 38:L+="&amp;",f=!1;break;case 0:L+="&#00;",f=!1;break;case 65279:case 8232:case 8233:case 133:L+="\uFFFD",f=!1;break;case 13:L+="&#8203",f=!1;break;case 32:r&&f?(L+="&#160;",f=!1):(L+=" ",f=!0);break;default:L+=String.fromCharCode(v),f=!1}}if(T+=`<span style="${s.getInlineStyle(p,N)}">${L}</span>`,h>D||w>=D)break}return T+="</div>",T}function R(B,s,N){let g='<div class="monaco-tokenized-source">';const D=E.uq(B);let H=N.getInitialState();for(let r=0,T=D.length;r<T;r++){const w=D[r];r>0&&(g+="<br/>");const x=N.tokenize2(w,!0,H,0);O.A.convertToEndOffset(x.tokens,w.length);const p=new O.A(x.tokens,w,s).inflate();let S=0;for(let h=0,L=p.getCount();h<L;h++){const v=p.getClassName(h),V=p.getEndOffset(h);g+=`<span class="${v}">${E.YU(w.substring(S,V))}</span>`,S=V}H=x.endState}return g+="</div>",g}},90469:function(Qt,He,c){"use strict";c.d(He,{p:function(){return Q}});var E=c(72065);const Q=(0,E.yh)("editorWorkerService")},26479:function(Qt,He,c){"use strict";c.d(He,{i:function(){return O}});var E=c(72065);const O=(0,E.yh)("markerDecorationsService")},71531:function(Qt,He,c){"use strict";c.d(He,{h:function(){return O}});var E=c(72065);const O=(0,E.yh)("modeService")},51200:function(Qt,He,c){"use strict";c.d(He,{p:function(){return Q},q:function(){return O}});var E=c(72065);const O=(0,E.yh)("modelService");function Q(P){return!P.isTooLargeForSyncing()&&!P.isForSimpleWidget}},88216:function(Qt,He,c){"use strict";c.d(He,{S:function(){return O}});var E=c(72065);const O=(0,E.yh)("textModelService")},92550:function(Qt,He,c){"use strict";c.d(He,{Kp:function(){return O},k:function(){return y}});var E=c(97295);class O{constructor(R,B,s,N){this.startColumn=R,this.endColumn=B,this.className=s,this.type=N,this._lineDecorationBrand=void 0}static _equals(R,B){return R.startColumn===B.startColumn&&R.endColumn===B.endColumn&&R.className===B.className&&R.type===B.type}static equalsArr(R,B){const s=R.length,N=B.length;if(s!==N)return!1;for(let g=0;g<s;g++)if(!O._equals(R[g],B[g]))return!1;return!0}static extractWrapped(R,B,s){if(R.length===0)return R;const N=B+1,g=s+1,D=s-B,H=[];let r=0;for(const T of R)T.endColumn<=N||T.startColumn>=g||(H[r++]=new O(Math.max(1,T.startColumn-N+1),Math.min(D+1,T.endColumn-N+1),T.className,T.type));return H}static filter(R,B,s,N){if(R.length===0)return[];let g=[],D=0;for(let H=0,r=R.length;H<r;H++){const T=R[H],w=T.range;if(w.endLineNumber<B||w.startLineNumber>B||w.isEmpty()&&(T.type===0||T.type===3))continue;const x=w.startLineNumber===B?w.startColumn:s,f=w.endLineNumber===B?w.endColumn:N;g[D++]=new O(x,f,T.inlineClassName,T.type)}return g}static _typeCompare(R,B){const s=[2,0,1,3];return s[R]-s[B]}static compare(R,B){if(R.startColumn!==B.startColumn)return R.startColumn-B.startColumn;if(R.endColumn!==B.endColumn)return R.endColumn-B.endColumn;const s=O._typeCompare(R.type,B.type);return s!==0?s:R.className!==B.className?R.className<B.className?-1:1:0}}class Q{constructor(R,B,s,N){this.startOffset=R,this.endOffset=B,this.className=s,this.metadata=N}}class P{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(R){let B=0;for(let s=0,N=R.length;s<N;s++)B|=R[s];return B}consumeLowerThan(R,B,s){for(;this.count>0&&this.stopOffsets[0]<R;){let N=0;for(;N+1<this.count&&this.stopOffsets[N]===this.stopOffsets[N+1];)N++;s.push(new Q(B,this.stopOffsets[N],this.classNames.join(" "),P._metadata(this.metadata))),B=this.stopOffsets[N]+1,this.stopOffsets.splice(0,N+1),this.classNames.splice(0,N+1),this.metadata.splice(0,N+1),this.count-=N+1}return this.count>0&&B<R&&(s.push(new Q(B,R-1,this.classNames.join(" "),P._metadata(this.metadata))),B=R),B}insert(R,B,s){if(this.count===0||this.stopOffsets[this.count-1]<=R)this.stopOffsets.push(R),this.classNames.push(B),this.metadata.push(s);else for(let N=0;N<this.count;N++)if(this.stopOffsets[N]>=R){this.stopOffsets.splice(N,0,R),this.classNames.splice(N,0,B),this.metadata.splice(N,0,s);break}this.count++}}class y{static normalize(R,B){if(B.length===0)return[];let s=[];const N=new P;let g=0;for(let D=0,H=B.length;D<H;D++){const r=B[D];let T=r.startColumn,w=r.endColumn;const x=r.className,f=r.type===1?2:r.type===2?4:0;if(T>1){const h=R.charCodeAt(T-2);E.ZG(h)&&T--}if(w>1){const h=R.charCodeAt(w-2);E.ZG(h)&&w--}const p=T-1,S=w-2;g=N.consumeLowerThan(p,g,s),N.count===0&&(g=p),N.insert(S,x,f)}return N.consumeLowerThan(1073741824,g,s),s}}},77736:function(Qt,He,c){"use strict";c.d(He,{IJ:function(){return X},Nd:function(){return R},d1:function(){return N},tF:function(){return D},zG:function(){return y}});var E=c(97295),O=c(50072),Q=c(92550);class P{constructor(V,$,ee){this._linePartBrand=void 0,this.endIndex=V,this.type=$,this.metadata=ee}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class y{constructor(V,$){this.startOffset=V,this.endOffset=$}equals(V){return this.startOffset===V.startOffset&&this.endOffset===V.endOffset}}class X{constructor(V,$,ee,de,pe,ve,xe,le,Y,j,G,q,m,b,F,te,me,ue,Oe){this.useMonospaceOptimizations=V,this.canUseHalfwidthRightwardsArrow=$,this.lineContent=ee,this.continuesWithWrappedLine=de,this.isBasicASCII=pe,this.containsRTL=ve,this.fauxIndentLength=xe,this.lineTokens=le,this.lineDecorations=Y.sort(Q.Kp.compare),this.tabSize=j,this.startVisibleColumn=G,this.spaceWidth=q,this.stopRenderingLineAfter=F,this.renderWhitespace=te==="all"?4:te==="boundary"?1:te==="selection"?2:te==="trailing"?3:0,this.renderControlCharacters=me,this.fontLigatures=ue,this.selectionsOnLine=Oe&&Oe.sort((Dt,ht)=>Dt.startOffset<ht.startOffset?-1:1);const Re=Math.abs(b-q),et=Math.abs(m-q);Re<et?(this.renderSpaceWidth=b,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=m,this.renderSpaceCharCode=183)}sameSelection(V){if(this.selectionsOnLine===null)return V===null;if(V===null||V.length!==this.selectionsOnLine.length)return!1;for(let $=0;$<this.selectionsOnLine.length;$++)if(!this.selectionsOnLine[$].equals(V[$]))return!1;return!0}equals(V){return this.useMonospaceOptimizations===V.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===V.canUseHalfwidthRightwardsArrow&&this.lineContent===V.lineContent&&this.continuesWithWrappedLine===V.continuesWithWrappedLine&&this.isBasicASCII===V.isBasicASCII&&this.containsRTL===V.containsRTL&&this.fauxIndentLength===V.fauxIndentLength&&this.tabSize===V.tabSize&&this.startVisibleColumn===V.startVisibleColumn&&this.spaceWidth===V.spaceWidth&&this.renderSpaceWidth===V.renderSpaceWidth&&this.renderSpaceCharCode===V.renderSpaceCharCode&&this.stopRenderingLineAfter===V.stopRenderingLineAfter&&this.renderWhitespace===V.renderWhitespace&&this.renderControlCharacters===V.renderControlCharacters&&this.fontLigatures===V.fontLigatures&&Q.Kp.equalsArr(this.lineDecorations,V.lineDecorations)&&this.lineTokens.equals(V.lineTokens)&&this.sameSelection(V.selectionsOnLine)}}class R{constructor(V,$){this.partIndex=V,this.charIndex=$}}class B{constructor(V,$){this.length=V,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(V){return(V&4294901760)>>>16}static getCharIndex(V){return(V&65535)>>>0}setColumnInfo(V,$,ee,de){const pe=($<<16|ee<<0)>>>0;this._data[V-1]=pe,this._absoluteOffsets[V-1]=de+ee}getAbsoluteOffset(V){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[V-1]}charOffsetToPartData(V){return this.length===0?0:V<0?this._data[0]:V>=this.length?this._data[this.length-1]:this._data[V]}getDomPosition(V){const $=this.charOffsetToPartData(V-1),ee=B.getPartIndex($),de=B.getCharIndex($);return new R(ee,de)}getColumn(V,$){return this.partDataToCharOffset(V.partIndex,$,V.charIndex)+1}partDataToCharOffset(V,$,ee){if(this.length===0)return 0;let de=(V<<16|ee<<0)>>>0,pe=0,ve=this.length-1;for(;pe+1<ve;){let F=pe+ve>>>1,te=this._data[F];if(te===de)return F;te>de?ve=F:pe=F}if(pe===ve)return pe;let xe=this._data[pe],le=this._data[ve];if(xe===de)return pe;if(le===de)return ve;let Y=B.getPartIndex(xe),j=B.getCharIndex(xe),G=B.getPartIndex(le),q;Y!==G?q=$:q=B.getCharIndex(le);let m=ee-j,b=q-ee;return m<=b?pe:ve}}class s{constructor(V,$,ee){this._renderLineOutputBrand=void 0,this.characterMapping=V,this.containsRTL=$,this.containsForeignElements=ee}}function N(v,V){if(v.lineContent.length===0){if(v.lineDecorations.length>0){V.appendASCIIString("<span>");let $=0,ee=0,de=0;for(const ve of v.lineDecorations)(ve.type===1||ve.type===2)&&(V.appendASCIIString('<span class="'),V.appendASCIIString(ve.className),V.appendASCIIString('"></span>'),ve.type===1&&(de|=1,$++),ve.type===2&&(de|=2,ee++));V.appendASCIIString("</span>");const pe=new B(1,$+ee);return pe.setColumnInfo(1,$,0,0),new s(pe,!1,de)}return V.appendASCIIString("<span><span></span></span>"),new s(new B(0,0),!1,0)}return h(r(v),V)}class g{constructor(V,$,ee,de){this.characterMapping=V,this.html=$,this.containsRTL=ee,this.containsForeignElements=de}}function D(v){let V=(0,O.l$)(1e4),$=N(v,V);return new g($.characterMapping,V.build(),$.containsRTL,$.containsForeignElements)}class H{constructor(V,$,ee,de,pe,ve,xe,le,Y,j,G,q,m,b,F){this.fontIsMonospace=V,this.canUseHalfwidthRightwardsArrow=$,this.lineContent=ee,this.len=de,this.isOverflowing=pe,this.parts=ve,this.containsForeignElements=xe,this.fauxIndentLength=le,this.tabSize=Y,this.startVisibleColumn=j,this.containsRTL=G,this.spaceWidth=q,this.renderSpaceCharCode=m,this.renderWhitespace=b,this.renderControlCharacters=F}}function r(v){const V=v.lineContent;let $,ee;v.stopRenderingLineAfter!==-1&&v.stopRenderingLineAfter<V.length?($=!0,ee=v.stopRenderingLineAfter):($=!1,ee=V.length);let de=T(v.lineTokens,v.fauxIndentLength,ee);(v.renderWhitespace===4||v.renderWhitespace===1||v.renderWhitespace===2&&v.selectionsOnLine||v.renderWhitespace===3)&&(de=p(v,V,ee,de));let pe=0;if(v.lineDecorations.length>0){for(let ve=0,xe=v.lineDecorations.length;ve<xe;ve++){const le=v.lineDecorations[ve];le.type===3||le.type===1?pe|=1:le.type===2&&(pe|=2)}de=S(V,ee,de,v.lineDecorations)}return v.containsRTL||(de=w(V,de,!v.isBasicASCII||v.fontLigatures)),v.renderControlCharacters&&!v.isBasicASCII&&(de=f(V,de)),new H(v.useMonospaceOptimizations,v.canUseHalfwidthRightwardsArrow,V,ee,$,de,pe,v.fauxIndentLength,v.tabSize,v.startVisibleColumn,v.containsRTL,v.spaceWidth,v.renderSpaceCharCode,v.renderWhitespace,v.renderControlCharacters)}function T(v,V,$){let ee=[],de=0;V>0&&(ee[de++]=new P(V,"",0));for(let pe=0,ve=v.getCount();pe<ve;pe++){const xe=v.getEndOffset(pe);if(xe<=V)continue;const le=v.getClassName(pe);if(xe>=$){ee[de++]=new P($,le,0);break}ee[de++]=new P(xe,le,0)}return ee}function w(v,V,$){let ee=0,de=[],pe=0;if($)for(let ve=0,xe=V.length;ve<xe;ve++){const le=V[ve],Y=le.endIndex;if(ee+50<Y){const j=le.type,G=le.metadata;let q=-1,m=ee;for(let b=ee;b<Y;b++)v.charCodeAt(b)===32&&(q=b),q!==-1&&b-m>=50&&(de[pe++]=new P(q+1,j,G),m=q+1,q=-1);m!==Y&&(de[pe++]=new P(Y,j,G))}else de[pe++]=le;ee=Y}else for(let ve=0,xe=V.length;ve<xe;ve++){const le=V[ve],Y=le.endIndex;let j=Y-ee;if(j>50){const G=le.type,q=le.metadata,m=Math.ceil(j/50);for(let b=1;b<m;b++){let F=ee+b*50;de[pe++]=new P(F,G,q)}de[pe++]=new P(Y,G,q)}else de[pe++]=le;ee=Y}return de}function x(v){return v<32?v!==9:v===127||v>=8234&&v<=8238||v>=8294&&v<=8297||v>=8206&&v<=8207||v===1564}function f(v,V){let $=[],ee=new P(0,"",0),de=0;for(const pe of V){const ve=pe.endIndex;for(;de<ve;de++){const xe=v.charCodeAt(de);x(xe)&&(de>ee.endIndex&&(ee=new P(de,pe.type,pe.metadata),$.push(ee)),ee=new P(de+1,"mtkcontrol",pe.metadata),$.push(ee))}de>ee.endIndex&&(ee=new P(ve,pe.type,pe.metadata),$.push(ee))}return $}function p(v,V,$,ee){const de=v.continuesWithWrappedLine,pe=v.fauxIndentLength,ve=v.tabSize,xe=v.startVisibleColumn,le=v.useMonospaceOptimizations,Y=v.selectionsOnLine,j=v.renderWhitespace===1,G=v.renderWhitespace===3,q=v.renderSpaceWidth!==v.spaceWidth;let m=[],b=0,F=0,te=ee[F].type,me=ee[F].endIndex;const ue=ee.length;let Oe=!1,Re=E.LC(V),et;Re===-1?(Oe=!0,Re=$,et=$):et=E.ow(V);let Dt=!1,ht=0,Mt=Y&&Y[ht],Je=xe%ve;for(let ke=pe;ke<$;ke++){const fe=V.charCodeAt(ke);Mt&&ke>=Mt.endOffset&&(ht++,Mt=Y&&Y[ht]);let Ie;if(ke<Re||ke>et)Ie=!0;else if(fe===9)Ie=!0;else if(fe===32)if(j)if(Dt)Ie=!0;else{const nt=ke+1<$?V.charCodeAt(ke+1):0;Ie=nt===32||nt===9}else Ie=!0;else Ie=!1;if(Ie&&Y&&(Ie=!!Mt&&Mt.startOffset<=ke&&Mt.endOffset>ke),Ie&&G&&(Ie=Oe||ke>et),Dt){if(!Ie||!le&&Je>=ve){if(q){const nt=b>0?m[b-1].endIndex:pe;for(let at=nt+1;at<=ke;at++)m[b++]=new P(at,"mtkw",1)}else m[b++]=new P(ke,"mtkw",1);Je=Je%ve}}else(ke===me||Ie&&ke>pe)&&(m[b++]=new P(ke,te,0),Je=Je%ve);for(fe===9?Je=ve:E.K7(fe)?Je+=2:Je++,Dt=Ie;ke===me&&(F++,F<ue);)te=ee[F].type,me=ee[F].endIndex}let tt=!1;if(Dt)if(de&&j){let ke=$>0?V.charCodeAt($-1):0,fe=$>1?V.charCodeAt($-2):0;ke===32&&fe!==32&&fe!==9||(tt=!0)}else tt=!0;if(tt)if(q){const ke=b>0?m[b-1].endIndex:pe;for(let fe=ke+1;fe<=$;fe++)m[b++]=new P(fe,"mtkw",1)}else m[b++]=new P($,"mtkw",1);else m[b++]=new P($,te,0);return m}function S(v,V,$,ee){ee.sort(Q.Kp.compare);const de=Q.k.normalize(v,ee),pe=de.length;let ve=0,xe=[],le=0,Y=0;for(let G=0,q=$.length;G<q;G++){const m=$[G],b=m.endIndex,F=m.type,te=m.metadata;for(;ve<pe&&de[ve].startOffset<b;){const me=de[ve];if(me.startOffset>Y&&(Y=me.startOffset,xe[le++]=new P(Y,F,te)),me.endOffset+1<=b)Y=me.endOffset+1,xe[le++]=new P(Y,F+" "+me.className,te|me.metadata),ve++;else{Y=b,xe[le++]=new P(Y,F+" "+me.className,te|me.metadata);break}}b>Y&&(Y=b,xe[le++]=new P(Y,F,te))}const j=$[$.length-1].endIndex;if(ve<pe&&de[ve].startOffset===j)for(;ve<pe&&de[ve].startOffset===j;){const G=de[ve];xe[le++]=new P(Y,G.className,G.metadata),ve++}return xe}function h(v,V){const $=v.fontIsMonospace,ee=v.canUseHalfwidthRightwardsArrow,de=v.containsForeignElements,pe=v.lineContent,ve=v.len,xe=v.isOverflowing,le=v.parts,Y=v.fauxIndentLength,j=v.tabSize,G=v.startVisibleColumn,q=v.containsRTL,m=v.spaceWidth,b=v.renderSpaceCharCode,F=v.renderWhitespace,te=v.renderControlCharacters,me=new B(ve+1,le.length);let ue=!1,Oe=0,Re=G,et=0,Dt=0,ht=0,Mt=0;q?V.appendASCIIString('<span dir="ltr">'):V.appendASCIIString("<span>");for(let Je=0,tt=le.length;Je<tt;Je++){Mt+=ht;const ke=le[Je],fe=ke.endIndex,Ie=ke.type,nt=F!==0&&ke.isWhitespace(),at=nt&&!$&&(Ie==="mtkw"||!de),ot=Oe===fe&&ke.isPseudoAfter();if(et=0,V.appendASCIIString('<span class="'),V.appendASCIIString(at?"mtkz":Ie),V.appendASCII(34),nt){let Ne=0;{let Pe=Oe,ye=Re;for(;Pe<fe;Pe++){const it=(pe.charCodeAt(Pe)===9?j-ye%j:1)|0;Ne+=it,Pe>=Y&&(ye+=it)}}for(at&&(V.appendASCIIString(' style="width:'),V.appendASCIIString(String(m*Ne)),V.appendASCIIString('px"')),V.appendASCII(62);Oe<fe;Oe++){me.setColumnInfo(Oe+1,Je-Dt,et,Mt),Dt=0;const Pe=pe.charCodeAt(Oe);let ye;if(Pe===9){ye=j-Re%j|0,!ee||ye>1?V.write1(8594):V.write1(65515);for(let Ze=2;Ze<=ye;Ze++)V.write1(160)}else ye=1,V.write1(b);et+=ye,Oe>=Y&&(Re+=ye)}ht=Ne}else{let Ne=0;for(V.appendASCII(62);Oe<fe;Oe++){me.setColumnInfo(Oe+1,Je-Dt,et,Mt),Dt=0;const Pe=pe.charCodeAt(Oe);let ye=1,Ze=1;switch(Pe){case 9:ye=j-Re%j,Ze=ye;for(let it=1;it<=ye;it++)V.write1(160);break;case 32:V.write1(160);break;case 60:V.appendASCIIString("&lt;");break;case 62:V.appendASCIIString("&gt;");break;case 38:V.appendASCIIString("&amp;");break;case 0:te?V.write1(9216):V.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:V.write1(65533);break;default:E.K7(Pe)&&Ze++,te&&Pe<32?V.write1(9216+Pe):te&&Pe===127?V.write1(9249):te&&x(Pe)?(V.appendASCIIString("[U+"),V.appendASCIIString(L(Pe)),V.appendASCIIString("]"),ye=8):V.write1(Pe)}et+=ye,Ne+=ye,Oe>=Y&&(Re+=Ze)}ht=Ne}ot?Dt++:Dt=0,Oe>=ve&&!ue&&ke.isPseudoAfter()&&(ue=!0,me.setColumnInfo(Oe+1,Je,et,Mt)),V.appendASCIIString("</span>")}return ue||me.setColumnInfo(ve+1,le.length-1,et,Mt),xe&&V.appendASCIIString("<span>&hellip;</span>"),V.appendASCIIString("</span>"),new s(me,q,de)}function L(v){return v.toString(16).toUpperCase().padStart(4,"0")}},3544:function(Qt,He,c){"use strict";c.d(He,{T:function(){return O},o:function(){return Q}});var E=c(85427);class O{constructor(y,X){this._prefixSumIndexOfResultBrand=void 0,this.index=y,this.remainder=X}}class Q{constructor(y){this.values=y,this.prefixSum=new Uint32Array(y.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(y,X){y=(0,E.A)(y);const R=this.values,B=this.prefixSum,s=X.length;return s===0?!1:(this.values=new Uint32Array(R.length+s),this.values.set(R.subarray(0,y),0),this.values.set(R.subarray(y),y+s),this.values.set(X,y),y-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=y-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(B.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(y,X){return y=(0,E.A)(y),X=(0,E.A)(X),this.values[y]===X?!1:(this.values[y]=X,y-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=y-1),!0)}removeValues(y,X){y=(0,E.A)(y),X=(0,E.A)(X);const R=this.values,B=this.prefixSum;if(y>=R.length)return!1;let s=R.length-y;return X>=s&&(X=s),X===0?!1:(this.values=new Uint32Array(R.length-X),this.values.set(R.subarray(0,y),0),this.values.set(R.subarray(y+X),y),this.prefixSum=new Uint32Array(this.values.length),y-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=y-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(B.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(y){return y<0?0:(y=(0,E.A)(y),this._getPrefixSum(y))}_getPrefixSum(y){if(y<=this.prefixSumValidIndex[0])return this.prefixSum[y];let X=this.prefixSumValidIndex[0]+1;X===0&&(this.prefixSum[0]=this.values[0],X++),y>=this.values.length&&(y=this.values.length-1);for(let R=X;R<=y;R++)this.prefixSum[R]=this.prefixSum[R-1]+this.values[R];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],y),this.prefixSum[y]}getIndexOf(y){y=Math.floor(y),this.getTotalSum();let X=0,R=this.values.length-1,B=0,s=0,N=0;for(;X<=R;)if(B=X+(R-X)/2|0,s=this.prefixSum[B],N=s-this.values[B],y<N)R=B-1;else if(y>=s)X=B+1;else break;return new O(B,y-N)}}},13824:function(Qt,He,c){"use strict";c.d(He,{$l:function(){return H},$t:function(){return g},IP:function(){return s},SQ:function(){return r},Wx:function(){return D},l_:function(){return P},le:function(){return X},ud:function(){return B},wA:function(){return N}});var E=c(97295),O=c(50187),Q=c(24314);class P{constructor(w,x,f,p){this._viewportBrand=void 0,this.top=w|0,this.left=x|0,this.width=f|0,this.height=p|0}}class y{constructor(w,x){this.outputLineIndex=w,this.outputOffset=x}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(w,x){const f=this.outputLineIndex>0?x:0;return new O.L(w+this.outputLineIndex,f+this.outputOffset+1)}}class X{constructor(w,x,f,p,S){this.breakOffsets=w,this.breakOffsetsVisibleColumn=x,this.wrappedTextIndentLength=f,this.injectionOffsets=p,this.injectionOptions=S}getInputOffsetOfOutputPosition(w,x){let f=0;if(w===0?f=x:f=this.breakOffsets[w-1]+x,this.injectionOffsets!==null)for(let p=0;p<this.injectionOffsets.length&&f>this.injectionOffsets[p];p++)f<this.injectionOffsets[p]+this.injectionOptions[p].content.length?f=this.injectionOffsets[p]:f-=this.injectionOptions[p].content.length;return f}getOutputPositionOfInputOffset(w,x=2){let f=0;if(this.injectionOffsets!==null)for(let p=0;p<this.injectionOffsets.length&&!(w<this.injectionOffsets[p]||x!==1&&w===this.injectionOffsets[p]);p++)f+=this.injectionOptions[p].content.length;return w+=f,this.getOutputPositionOfOffsetInUnwrappedLine(w,x)}getOutputPositionOfOffsetInUnwrappedLine(w,x=2){let f=0,p=this.breakOffsets.length-1,S=0,h=0;for(;f<=p;){S=f+(p-f)/2|0;const L=this.breakOffsets[S];if(h=S>0?this.breakOffsets[S-1]:0,x===0)if(w<=h)p=S-1;else if(w>L)f=S+1;else break;else if(w<h)p=S-1;else if(w>=L)f=S+1;else break}return new y(S,w-h)}outputPositionToOffsetInUnwrappedLine(w,x){let f=(w>0?this.breakOffsets[w-1]:0)+x;return w>0&&(f-=this.wrappedTextIndentLength),f}normalizeOffsetAroundInjections(w,x){const f=this.getInjectedTextAtOffset(w);if(!f)return w;if(x===2)return w===f.offsetInUnwrappedLine+f.length?f.offsetInUnwrappedLine+f.length:f.offsetInUnwrappedLine;if(x===1){let h=f.offsetInUnwrappedLine+f.length,L=f.injectedTextIndex;for(;L+1<this.injectionOffsets.length&&this.injectionOffsets[L+1]===this.injectionOffsets[L];)h+=this.injectionOptions[L+1].content.length,L++;return h}let p=f.offsetInUnwrappedLine,S=f.injectedTextIndex;for(;S-1>=0&&this.injectionOffsets[S-1]===this.injectionOffsets[S];)p-=this.injectionOptions[S-1].content.length,S++;return p}getInjectedText(w,x){const f=this.outputPositionToOffsetInUnwrappedLine(w,x),p=this.getInjectedTextAtOffset(f);return p?{options:this.injectionOptions[p.injectedTextIndex]}:null}getInjectedTextAtOffset(w){const x=this.injectionOffsets,f=this.injectionOptions;if(x!==null){let p=0;for(let S=0;S<x.length;S++){const h=f[S].content.length,L=x[S]+p,v=x[S]+p+h;if(L>w)break;if(w<=v)return{injectedTextIndex:S,offsetInUnwrappedLine:L,length:h};p+=h}}}}class R{constructor(w){this.options=w}}class B{constructor(w,x){this.tabSize=w,this.data=x}}class s{constructor(w,x,f,p,S,h,L){this._viewLineDataBrand=void 0,this.content=w,this.continuesWithWrappedLine=x,this.minColumn=f,this.maxColumn=p,this.startVisibleColumn=S,this.tokens=h,this.inlineDecorations=L}}class N{constructor(w,x,f,p,S,h,L,v,V,$){this.minColumn=w,this.maxColumn=x,this.content=f,this.continuesWithWrappedLine=p,this.isBasicASCII=N.isBasicASCII(f,h),this.containsRTL=N.containsRTL(f,this.isBasicASCII,S),this.tokens=L,this.inlineDecorations=v,this.tabSize=V,this.startVisibleColumn=$}static isBasicASCII(w,x){return x?E.$i(w):!0}static containsRTL(w,x,f){return!x&&f?E.Ut(w):!1}}class g{constructor(w,x,f){this.range=w,this.inlineClassName=x,this.type=f}}class D{constructor(w,x,f,p){this.startOffset=w,this.endOffset=x,this.inlineClassName=f,this.inlineClassNameAffectsLetterSpacing=p}toInlineDecoration(w){return new g(new Q.e(w,this.startOffset+1,w,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class H{constructor(w,x){this._viewModelDecorationBrand=void 0,this.range=w,this.options=x}}class r{constructor(w,x,f){this.color=w,this.zIndex=x,this.data=f}static cmp(w,x){return w.zIndex===x.zIndex?w.color<x.color?-1:w.color>x.color?1:0:w.zIndex-x.zIndex}}},27869:function(Qt,He,c){"use strict";c.d(He,{CE:function(){return b},DD:function(){return f},DS:function(){return et},HV:function(){return Ie},Jn:function(){return ht},Kh:function(){return y},L7:function(){return fe},Mm:function(){return X},N5:function(){return ve},Qb:function(){return Je},Re:function(){return j},To:function(){return ke},UP:function(){return F},Vs:function(){return m},YF:function(){return Mt},Ym:function(){return T},eS:function(){return G},e_:function(){return V},f9:function(){return nt},fY:function(){return D},hw:function(){return w},kp:function(){return ee},lK:function(){return Y},lS:function(){return Dt},m$:function(){return Re},m1:function(){return me},m3:function(){return tt},n0:function(){return g},oV:function(){return Oe},r0:function(){return te},tR:function(){return r},ts:function(){return ue},x3:function(){return pe},zJ:function(){return q},zk:function(){return p},zu:function(){return de},zw:function(){return v}});var E=c(63580),O=c(41264),Q=c(73910),P=c(97781);const y=(0,Q.P6)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},E.N("lineHighlight","Background color for the highlight of line at the cursor position.")),X=(0,Q.P6)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},E.N("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),R=(0,Q.P6)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},E.N("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),B=(0,Q.P6)("editor.rangeHighlightBorder",{dark:null,light:null,hc:Q.xL},E.N("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),s=(0,Q.P6)("editor.symbolHighlightBackground",{dark:Q.MU,light:Q.MU,hc:null},E.N("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),N=(0,Q.P6)("editor.symbolHighlightBorder",{dark:null,light:null,hc:Q.xL},E.N("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),g=(0,Q.P6)("editorCursor.foreground",{dark:"#AEAFAD",light:O.Il.black,hc:O.Il.white},E.N("caret","Color of the editor cursor.")),D=(0,Q.P6)("editorCursor.background",null,E.N("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),H=(0,Q.P6)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},E.N("editorWhitespaces","Color of whitespace characters in the editor.")),r=(0,Q.P6)("editorIndentGuide.background",{dark:H,light:H,hc:H},E.N("editorIndentGuides","Color of the editor indentation guides.")),T=(0,Q.P6)("editorIndentGuide.activeBackground",{dark:H,light:H,hc:H},E.N("editorActiveIndentGuide","Color of the active editor indentation guides.")),w=(0,Q.P6)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:O.Il.white},E.N("editorLineNumbers","Color of editor line numbers.")),x=(0,Q.P6)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:Q.xL},E.N("editorActiveLineNumber","Color of editor active line number"),!1,E.N("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),f=(0,Q.P6)("editorLineNumber.activeForeground",{dark:x,light:x,hc:x},E.N("editorActiveLineNumber","Color of editor active line number")),p=(0,Q.P6)("editorRuler.foreground",{dark:"#5A5A5A",light:O.Il.lightgrey,hc:O.Il.white},E.N("editorRuler","Color of the editor rulers.")),S=(0,Q.P6)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},E.N("editorCodeLensForeground","Foreground color of editor CodeLens")),h=(0,Q.P6)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},E.N("editorBracketMatchBackground","Background color behind matching brackets")),L=(0,Q.P6)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:Q.lR},E.N("editorBracketMatchBorder","Color for matching brackets boxes")),v=(0,Q.P6)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},E.N("editorOverviewRulerBorder","Color of the overview ruler border.")),V=(0,Q.P6)("editorOverviewRuler.background",null,E.N("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),$=(0,Q.P6)("editorGutter.background",{dark:Q.cv,light:Q.cv,hc:Q.cv},E.N("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),ee=(0,Q.P6)("editorUnnecessaryCode.border",{dark:null,light:null,hc:O.Il.fromHex("#fff").transparent(.8)},E.N("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),de=(0,Q.P6)("editorUnnecessaryCode.opacity",{dark:O.Il.fromHex("#000a"),light:O.Il.fromHex("#0007"),hc:null},E.N("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),pe=(0,Q.P6)("editorGhostText.border",{dark:null,light:null,hc:O.Il.fromHex("#fff").transparent(.8)},E.N("editorGhostTextBorder","Border color of ghost text in the editor.")),ve=(0,Q.P6)("editorGhostText.foreground",{dark:O.Il.fromHex("#ffffff56"),light:O.Il.fromHex("#0007"),hc:null},E.N("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),xe=new O.Il(new O.VS(0,122,204,.6)),le=(0,Q.P6)("editorOverviewRuler.rangeHighlightForeground",{dark:xe,light:xe,hc:xe},E.N("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Y=(0,Q.P6)("editorOverviewRuler.errorForeground",{dark:new O.Il(new O.VS(255,18,18,.7)),light:new O.Il(new O.VS(255,18,18,.7)),hc:new O.Il(new O.VS(255,50,50,1))},E.N("overviewRuleError","Overview ruler marker color for errors.")),j=(0,Q.P6)("editorOverviewRuler.warningForeground",{dark:Q.uo,light:Q.uo,hc:Q.pW},E.N("overviewRuleWarning","Overview ruler marker color for warnings.")),G=(0,Q.P6)("editorOverviewRuler.infoForeground",{dark:Q.c6,light:Q.c6,hc:Q.T8},E.N("overviewRuleInfo","Overview ruler marker color for infos.")),q=(0,Q.P6)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},E.N("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),m=(0,Q.P6)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},E.N("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),b=(0,Q.P6)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},E.N("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),F=(0,Q.P6)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),te=(0,Q.P6)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),me=(0,Q.P6)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),ue=(0,Q.P6)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new O.Il(new O.VS(255,18,18,.8)),light:new O.Il(new O.VS(255,18,18,.8)),hc:new O.Il(new O.VS(255,50,50,1))},E.N("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Oe=(0,Q.P6)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Re=(0,Q.P6)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),et=(0,Q.P6)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Dt=(0,Q.P6)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),ht=(0,Q.P6)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Mt=(0,Q.P6)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Je=(0,Q.P6)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),tt=(0,Q.P6)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),ke=(0,Q.P6)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),fe=(0,Q.P6)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Ie=(0,Q.P6)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),nt=(0,Q.P6)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,P.Ic)((at,ot)=>{const Ne=at.getColor(Q.cv);Ne&&ot.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${Ne}; }`);const Pe=at.getColor(Q.NO);Pe&&ot.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${Pe}; }`);const ye=at.getColor($);ye&&ot.addRule(`.monaco-editor .margin { background-color: ${ye}; }`);const Ze=at.getColor(R);Ze&&ot.addRule(`.monaco-editor .rangeHighlight { background-color: ${Ze}; }`);const it=at.getColor(B);it&&ot.addRule(`.monaco-editor .rangeHighlight { border: 1px ${at.type==="hc"?"dotted":"solid"} ${it}; }`);const Ft=at.getColor(s);Ft&&ot.addRule(`.monaco-editor .symbolHighlight { background-color: ${Ft}; }`);const ei=at.getColor(N);ei&&ot.addRule(`.monaco-editor .symbolHighlight { border: 1px ${at.type==="hc"?"dotted":"solid"} ${ei}; }`);const bi=at.getColor(H);bi&&(ot.addRule(`.monaco-editor .mtkw { color: ${bi} !important; }`),ot.addRule(`.monaco-editor .mtkz { color: ${bi} !important; }`))})},92003:function(Qt,He,c){"use strict";c.d(He,{EY:function(){return O},Tj:function(){return Q}});class E{constructor(y,X,R){this._colorZoneBrand=void 0,this.from=y|0,this.to=X|0,this.colorId=R|0}static compare(y,X){return y.colorId===X.colorId?y.from===X.from?y.to-X.to:y.from-X.from:y.colorId-X.colorId}}class O{constructor(y,X,R){this._overviewRulerZoneBrand=void 0,this.startLineNumber=y,this.endLineNumber=X,this.color=R,this._colorZone=null}static compare(y,X){return y.color===X.color?y.startLineNumber===X.startLineNumber?y.endLineNumber-X.endLineNumber:y.startLineNumber-X.startLineNumber:y.color<X.color?-1:1}setColorZone(y){this._colorZone=y}getColorZones(){return this._colorZone}}class Q{constructor(y){this._getVerticalOffsetForLine=y,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(y){this._zones=y,this._zones.sort(O.compare)}setLineHeight(y){return this._lineHeight===y?!1:(this._lineHeight=y,this._colorZonesInvalid=!0,!0)}setPixelRatio(y){this._pixelRatio=y,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(y){return this._domWidth===y?!1:(this._domWidth=y,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(y){return this._domHeight===y?!1:(this._domHeight=y,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(y){return this._outerHeight===y?!1:(this._outerHeight=y,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const y=this._colorZonesInvalid,X=Math.floor(this._lineHeight),R=Math.floor(this.getCanvasHeight()),B=Math.floor(this._outerHeight),s=R/B,N=Math.floor(4*this._pixelRatio/2);let g=[];for(let D=0,H=this._zones.length;D<H;D++){const r=this._zones[D];if(!y){const L=r.getColorZones();if(L){g.push(L);continue}}const T=Math.floor(s*this._getVerticalOffsetForLine(r.startLineNumber)),w=Math.floor(s*(this._getVerticalOffsetForLine(r.endLineNumber)+X));let x=Math.floor((T+w)/2),f=w-x;f<N&&(f=N),x-f<0&&(x=f),x+f>R&&(x=R-f);const p=r.color;let S=this._color2Id[p];S||(S=++this._lastAssignedId,this._color2Id[p]=S,this._id2Color[S]=p);const h=new E(x-f,x+f,S);r.setColorZone(h),g.push(h)}return this._colorZonesInvalid=!1,g.sort(E.compare),g}}},40539:function(Qt,He,c){"use strict";c.r(He),c.d(He,{CommonFindController:function(){return Ys},FindController:function(){return $s},MatchFindAction:function(){return po},NextMatchFindAction:function(){return os},NextSelectionMatchFindAction:function(){return es},PreviousMatchFindAction:function(){return jn},PreviousSelectionMatchFindAction:function(){return eo},SelectionMatchFindAction:function(){return ao},StartFindAction:function(){return mo},StartFindReplaceAction:function(){return xs},StartFindWithSelectionAction:function(){return Jn},getSelectionSearchString:function(){return ro}});var E=c(15393),O=c(5976),Q=c(97295),P=c(16830),y=c(29102),X=c(9488),R=c(61329),B=c(50187),s=c(24314),N=c(3860),g=c(77277),D=c(84973),H=c(24979),r=c(73910),T=c(97781);class w{constructor(ge){this._editor=ge,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const ge=this._findScopeDecorationIds.map(ct=>this._editor.getModel().getDecorationRange(ct)).filter(ct=>!!ct);if(ge.length)return ge}return null}getStartPosition(){return this._startPosition}setStartPosition(ge){this._startPosition=ge,this.setCurrentFindMatch(null)}_getDecorationIndex(ge){const ct=this._decorations.indexOf(ge);return ct>=0?ct+1:1}getCurrentMatchesPosition(ge){let ct=this._editor.getModel().getDecorationsInRange(ge);for(const gt of ct){const Wt=gt.options;if(Wt===w._FIND_MATCH_DECORATION||Wt===w._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(gt.id)}return 0}setCurrentFindMatch(ge){let ct=null,gt=0;if(ge)for(let Wt=0,ti=this._decorations.length;Wt<ti;Wt++){let Si=this._editor.getModel().getDecorationRange(this._decorations[Wt]);if(ge.equalsRange(Si)){ct=this._decorations[Wt],gt=Wt+1;break}}return(this._highlightedDecorationId!==null||ct!==null)&&this._editor.changeDecorations(Wt=>{if(this._highlightedDecorationId!==null&&(Wt.changeDecorationOptions(this._highlightedDecorationId,w._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),ct!==null&&(this._highlightedDecorationId=ct,Wt.changeDecorationOptions(this._highlightedDecorationId,w._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(Wt.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),ct!==null){let ti=this._editor.getModel().getDecorationRange(ct);if(ti.startLineNumber!==ti.endLineNumber&&ti.endColumn===1){let Si=ti.endLineNumber-1,hi=this._editor.getModel().getLineMaxColumn(Si);ti=new s.e(ti.startLineNumber,ti.startColumn,Si,hi)}this._rangeHighlightDecorationId=Wt.addDecoration(ti,w._RANGE_HIGHLIGHT_DECORATION)}}),gt}set(ge,ct){this._editor.changeDecorations(gt=>{let Wt=w._FIND_MATCH_DECORATION,ti=[];if(ge.length>1e3){Wt=w._FIND_MATCH_NO_OVERVIEW_DECORATION;const hi=this._editor.getModel().getLineCount(),Vi=this._editor.getLayoutInfo().height/hi,Li=Math.max(2,Math.ceil(3/Vi));let Pn=ge[0].range.startLineNumber,Nt=ge[0].range.endLineNumber;for(let W=1,re=ge.length;W<re;W++){const Te=ge[W].range;Nt+Li>=Te.startLineNumber?Te.endLineNumber>Nt&&(Nt=Te.endLineNumber):(ti.push({range:new s.e(Pn,1,Nt,1),options:w._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),Pn=Te.startLineNumber,Nt=Te.endLineNumber)}ti.push({range:new s.e(Pn,1,Nt,1),options:w._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let Si=new Array(ge.length);for(let hi=0,Yt=ge.length;hi<Yt;hi++)Si[hi]={range:ge[hi].range,options:Wt};this._decorations=gt.deltaDecorations(this._decorations,Si),this._overviewRulerApproximateDecorations=gt.deltaDecorations(this._overviewRulerApproximateDecorations,ti),this._rangeHighlightDecorationId&&(gt.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(hi=>gt.removeDecoration(hi)),this._findScopeDecorationIds=[]),ct!=null&&ct.length&&(this._findScopeDecorationIds=ct.map(hi=>gt.addDecoration(hi,w._FIND_SCOPE_DECORATION)))})}matchBeforePosition(ge){if(this._decorations.length===0)return null;for(let ct=this._decorations.length-1;ct>=0;ct--){let gt=this._decorations[ct],Wt=this._editor.getModel().getDecorationRange(gt);if(!(!Wt||Wt.endLineNumber>ge.lineNumber)){if(Wt.endLineNumber<ge.lineNumber)return Wt;if(!(Wt.endColumn>ge.column))return Wt}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(ge){if(this._decorations.length===0)return null;for(let ct=0,gt=this._decorations.length;ct<gt;ct++){let Wt=this._decorations[ct],ti=this._editor.getModel().getDecorationRange(Wt);if(!(!ti||ti.startLineNumber<ge.lineNumber)){if(ti.startLineNumber>ge.lineNumber)return ti;if(!(ti.startColumn<ge.column))return ti}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let ge=[];return ge=ge.concat(this._decorations),ge=ge.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&ge.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&ge.push(this._rangeHighlightDecorationId),ge}}w._CURRENT_FIND_MATCH_DECORATION=H.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,T.EN)(r.Fm),position:D.sh.Center},minimap:{color:(0,T.EN)(r.KT),position:D.F5.Inline}}),w._FIND_MATCH_DECORATION=H.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,T.EN)(r.Fm),position:D.sh.Center},minimap:{color:(0,T.EN)(r.KT),position:D.F5.Inline}}),w._FIND_MATCH_NO_OVERVIEW_DECORATION=H.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),w._FIND_MATCH_ONLY_OVERVIEW_DECORATION=H.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,T.EN)(r.Fm),position:D.sh.Center}}),w._RANGE_HIGHLIGHT_DECORATION=H.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),w._FIND_SCOPE_DECORATION=H.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class x{constructor(ge,ct,gt){this._editorSelection=ge,this._ranges=ct,this._replaceStrings=gt,this._trackedEditorSelectionId=null}getEditOperations(ge,ct){if(this._ranges.length>0){let gt=[];for(let Si=0;Si<this._ranges.length;Si++)gt.push({range:this._ranges[Si],text:this._replaceStrings[Si]});gt.sort((Si,hi)=>s.e.compareRangesUsingStarts(Si.range,hi.range));let Wt=[],ti=gt[0];for(let Si=1;Si<gt.length;Si++)ti.range.endLineNumber===gt[Si].range.startLineNumber&&ti.range.endColumn===gt[Si].range.startColumn?(ti.range=ti.range.plusRange(gt[Si].range),ti.text=ti.text+gt[Si].text):(Wt.push(ti),ti=gt[Si]);Wt.push(ti);for(const Si of Wt)ct.addEditOperation(Si.range,Si.text)}this._trackedEditorSelectionId=ct.trackSelection(this._editorSelection)}computeCursorState(ge,ct){return ct.getTrackedSelection(this._trackedEditorSelectionId)}}function f(mi,ge){if(mi&&mi[0]!==""){const ct=p(mi,ge,"-"),gt=p(mi,ge,"_");return ct&&!gt?S(mi,ge,"-"):!ct&&gt?S(mi,ge,"_"):mi[0].toUpperCase()===mi[0]?ge.toUpperCase():mi[0].toLowerCase()===mi[0]?ge.toLowerCase():Q.Kw(mi[0][0])&&ge.length>0?ge[0].toUpperCase()+ge.substr(1):mi[0][0].toUpperCase()!==mi[0][0]&&ge.length>0?ge[0].toLowerCase()+ge.substr(1):ge}else return ge}function p(mi,ge,ct){return mi[0].indexOf(ct)!==-1&&ge.indexOf(ct)!==-1&&mi[0].split(ct).length===ge.split(ct).length}function S(mi,ge,ct){const gt=ge.split(ct),Wt=mi[0].split(ct);let ti="";return gt.forEach((Si,hi)=>{ti+=f([Wt[hi]],Si)+ct}),ti.slice(0,-1)}class h{constructor(ge){this.staticValue=ge,this.kind=0}}class L{constructor(ge){this.pieces=ge,this.kind=1}}class v{constructor(ge){!ge||ge.length===0?this._state=new h(""):ge.length===1&&ge[0].staticValue!==null?this._state=new h(ge[0].staticValue):this._state=new L(ge)}static fromStaticValue(ge){return new v([V.staticValue(ge)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(ge,ct){if(this._state.kind===0)return ct?f(ge,this._state.staticValue):this._state.staticValue;let gt="";for(let Wt=0,ti=this._state.pieces.length;Wt<ti;Wt++){let Si=this._state.pieces[Wt];if(Si.staticValue!==null){gt+=Si.staticValue;continue}let hi=v._substitute(Si.matchIndex,ge);if(Si.caseOps!==null&&Si.caseOps.length>0){let Yt=[],Vi=Si.caseOps.length,Li=0;for(let Pn=0,Nt=hi.length;Pn<Nt;Pn++){if(Li>=Vi){Yt.push(hi.slice(Pn));break}switch(Si.caseOps[Li]){case"U":Yt.push(hi[Pn].toUpperCase());break;case"u":Yt.push(hi[Pn].toUpperCase()),Li++;break;case"L":Yt.push(hi[Pn].toLowerCase());break;case"l":Yt.push(hi[Pn].toLowerCase()),Li++;break;default:Yt.push(hi[Pn])}}hi=Yt.join("")}gt+=hi}return gt}static _substitute(ge,ct){if(ct===null)return"";if(ge===0)return ct[0];let gt="";for(;ge>0;){if(ge<ct.length)return(ct[ge]||"")+gt;gt=String(ge%10)+gt,ge=Math.floor(ge/10)}return"$"+gt}}class V{constructor(ge,ct,gt){this.staticValue=ge,this.matchIndex=ct,!gt||gt.length===0?this.caseOps=null:this.caseOps=gt.slice(0)}static staticValue(ge){return new V(ge,-1,null)}static caseOps(ge,ct){return new V(null,ge,ct)}}class ${constructor(ge){this._source=ge,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(ge){this._emitStatic(this._source.substring(this._lastCharIndex,ge)),this._lastCharIndex=ge}emitStatic(ge,ct){this._emitStatic(ge),this._lastCharIndex=ct}_emitStatic(ge){ge.length!==0&&(this._currentStaticPiece+=ge)}emitMatchIndex(ge,ct,gt){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=V.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=V.caseOps(ge,gt),this._lastCharIndex=ct}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=V.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new v(this._result)}}function ee(mi){if(!mi||mi.length===0)return new v(null);let ge=[],ct=new $(mi);for(let gt=0,Wt=mi.length;gt<Wt;gt++){let ti=mi.charCodeAt(gt);if(ti===92){if(gt++,gt>=Wt)break;let Si=mi.charCodeAt(gt);switch(Si){case 92:ct.emitUnchanged(gt-1),ct.emitStatic("\\",gt+1);break;case 110:ct.emitUnchanged(gt-1),ct.emitStatic(`
`,gt+1);break;case 116:ct.emitUnchanged(gt-1),ct.emitStatic("	",gt+1);break;case 117:case 85:case 108:case 76:ct.emitUnchanged(gt-1),ct.emitStatic("",gt+1),ge.push(String.fromCharCode(Si));break}continue}if(ti===36){if(gt++,gt>=Wt)break;let Si=mi.charCodeAt(gt);if(Si===36){ct.emitUnchanged(gt-1),ct.emitStatic("$",gt+1);continue}if(Si===48||Si===38){ct.emitUnchanged(gt-1),ct.emitMatchIndex(0,gt+1,ge),ge.length=0;continue}if(49<=Si&&Si<=57){let hi=Si-48;if(gt+1<Wt){let Yt=mi.charCodeAt(gt+1);if(48<=Yt&&Yt<=57){gt++,hi=hi*10+(Yt-48),ct.emitUnchanged(gt-2),ct.emitMatchIndex(hi,gt+1,ge),ge.length=0;continue}}ct.emitUnchanged(gt-1),ct.emitMatchIndex(hi,gt+1,ge),ge.length=0;continue}}}return ct.finalize()}var de=c(38819);const pe=new de.uy("findWidgetVisible",!1),ve=new de.uy("findInputFocussed",!1),xe=new de.uy("replaceInputFocussed",!1),le={primary:545,mac:{primary:2593}},Y={primary:565,mac:{primary:2613}},j={primary:560,mac:{primary:2608}},G={primary:554,mac:{primary:2602}},q={primary:558,mac:{primary:2606}},m={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},b=19999,F=240;class te{constructor(ge,ct){this._toDispose=new O.SL,this._editor=ge,this._state=ct,this._isDisposed=!1,this._startSearchingTimer=new E._F,this._decorations=new w(ge),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new E.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(gt=>{(gt.reason===3||gt.reason===5||gt.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(gt=>{this._ignoreModelContentChanged||(gt.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(gt=>this._onStateChanged(gt))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,O.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(ge){this._isDisposed||this._editor.hasModel()&&(ge.searchString||ge.isReplaceRevealed||ge.isRegex||ge.wholeWord||ge.matchCase||ge.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{ge.searchScope?this.research(ge.moveCursor,this._state.searchScope):this.research(ge.moveCursor)},F)):ge.searchScope?this.research(ge.moveCursor,this._state.searchScope):this.research(ge.moveCursor))}static _getSearchRange(ge,ct){return ct||ge.getFullModelRange()}research(ge,ct){let gt=null;typeof ct!="undefined"?ct!==null&&(Array.isArray(ct)?gt=ct:gt=[ct]):gt=this._decorations.getFindScopes(),gt!==null&&(gt=gt.map(hi=>{if(hi.startLineNumber!==hi.endLineNumber){let Yt=hi.endLineNumber;return hi.endColumn===1&&(Yt=Yt-1),new s.e(hi.startLineNumber,1,Yt,this._editor.getModel().getLineMaxColumn(Yt))}return hi}));let Wt=this._findMatches(gt,!1,b);this._decorations.set(Wt,gt);const ti=this._editor.getSelection();let Si=this._decorations.getCurrentMatchesPosition(ti);if(Si===0&&Wt.length>0){const hi=(0,X.lG)(Wt.map(Yt=>Yt.range),Yt=>s.e.compareRangesUsingStarts(Yt,ti)>=0);Si=hi>0?hi-1+1:Si}this._state.changeMatchInfo(Si,this._decorations.getCount(),void 0),ge&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let ge=this._decorations.getFindScope();return ge&&this._editor.revealRangeInCenterIfOutsideViewport(ge,0),!0}return!1}_setCurrentFindMatch(ge){let ct=this._decorations.setCurrentFindMatch(ge);this._state.changeMatchInfo(ct,this._decorations.getCount(),ge),this._editor.setSelection(ge),this._editor.revealRangeInCenterIfOutsideViewport(ge,0)}_prevSearchPosition(ge){let ct=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:gt,column:Wt}=ge,ti=this._editor.getModel();return ct||Wt===1?(gt===1?gt=ti.getLineCount():gt--,Wt=ti.getLineMaxColumn(gt)):Wt--,new B.L(gt,Wt)}_moveToPrevMatch(ge,ct=!1){if(!this._state.canNavigateBack()){const Li=this._decorations.matchAfterPosition(ge);Li&&this._setCurrentFindMatch(Li);return}if(this._decorations.getCount()<b){let Li=this._decorations.matchBeforePosition(ge);Li&&Li.isEmpty()&&Li.getStartPosition().equals(ge)&&(ge=this._prevSearchPosition(ge),Li=this._decorations.matchBeforePosition(ge)),Li&&this._setCurrentFindMatch(Li);return}if(this._cannotFind())return;let gt=this._decorations.getFindScope(),Wt=te._getSearchRange(this._editor.getModel(),gt);Wt.getEndPosition().isBefore(ge)&&(ge=Wt.getEndPosition()),ge.isBefore(Wt.getStartPosition())&&(ge=Wt.getEndPosition());let{lineNumber:ti,column:Si}=ge,hi=this._editor.getModel(),Yt=new B.L(ti,Si),Vi=hi.findPreviousMatch(this._state.searchString,Yt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1);if(Vi&&Vi.range.isEmpty()&&Vi.range.getStartPosition().equals(Yt)&&(Yt=this._prevSearchPosition(Yt),Vi=hi.findPreviousMatch(this._state.searchString,Yt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1)),!!Vi){if(!ct&&!Wt.containsRange(Vi.range))return this._moveToPrevMatch(Vi.range.getStartPosition(),!0);this._setCurrentFindMatch(Vi.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(ge){let ct=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:gt,column:Wt}=ge,ti=this._editor.getModel();return ct||Wt===ti.getLineMaxColumn(gt)?(gt===ti.getLineCount()?gt=1:gt++,Wt=1):Wt++,new B.L(gt,Wt)}_moveToNextMatch(ge){if(!this._state.canNavigateForward()){const gt=this._decorations.matchBeforePosition(ge);gt&&this._setCurrentFindMatch(gt);return}if(this._decorations.getCount()<b){let gt=this._decorations.matchAfterPosition(ge);gt&&gt.isEmpty()&&gt.getStartPosition().equals(ge)&&(ge=this._nextSearchPosition(ge),gt=this._decorations.matchAfterPosition(ge)),gt&&this._setCurrentFindMatch(gt);return}let ct=this._getNextMatch(ge,!1,!0);ct&&this._setCurrentFindMatch(ct.range)}_getNextMatch(ge,ct,gt,Wt=!1){if(this._cannotFind())return null;let ti=this._decorations.getFindScope(),Si=te._getSearchRange(this._editor.getModel(),ti);Si.getEndPosition().isBefore(ge)&&(ge=Si.getStartPosition()),ge.isBefore(Si.getStartPosition())&&(ge=Si.getStartPosition());let{lineNumber:hi,column:Yt}=ge,Vi=this._editor.getModel(),Li=new B.L(hi,Yt),Pn=Vi.findNextMatch(this._state.searchString,Li,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,ct);return gt&&Pn&&Pn.range.isEmpty()&&Pn.range.getStartPosition().equals(Li)&&(Li=this._nextSearchPosition(Li),Pn=Vi.findNextMatch(this._state.searchString,Li,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,ct)),Pn?!Wt&&!Si.containsRange(Pn.range)?this._getNextMatch(Pn.range.getEndPosition(),ct,gt,!0):Pn:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?ee(this._state.replaceString):v.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let ge=this._getReplacePattern(),ct=this._editor.getSelection(),gt=this._getNextMatch(ct.getStartPosition(),!0,!1);if(gt)if(ct.equalsRange(gt.range)){let Wt=ge.buildReplaceString(gt.matches,this._state.preserveCase),ti=new R.T4(ct,Wt);this._executeEditorCommand("replace",ti),this._decorations.setStartPosition(new B.L(ct.startLineNumber,ct.startColumn+Wt.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(gt.range)}_findMatches(ge,ct,gt){const Wt=(ge||[null]).map(ti=>te._getSearchRange(this._editor.getModel(),ti));return this._editor.getModel().findMatches(this._state.searchString,Wt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,ct,gt)}replaceAll(){if(!this._hasMatches())return;const ge=this._decorations.getFindScopes();ge===null&&this._state.matchesCount>=b?this._largeReplaceAll():this._regularReplaceAll(ge),this.research(!1)}_largeReplaceAll(){const ct=new g.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null).parseSearchRequest();if(!ct)return;let gt=ct.regex;if(!gt.multiline){let Pn="mu";gt.ignoreCase&&(Pn+="i"),gt.global&&(Pn+="g"),gt=new RegExp(gt.source,Pn)}const Wt=this._editor.getModel(),ti=Wt.getValue(1),Si=Wt.getFullModelRange(),hi=this._getReplacePattern();let Yt;const Vi=this._state.preserveCase;hi.hasReplacementPatterns||Vi?Yt=ti.replace(gt,function(){return hi.buildReplaceString(arguments,Vi)}):Yt=ti.replace(gt,hi.buildReplaceString(null,Vi));let Li=new R.hP(Si,Yt,this._editor.getSelection());this._executeEditorCommand("replaceAll",Li)}_regularReplaceAll(ge){const ct=this._getReplacePattern();let gt=this._findMatches(ge,ct.hasReplacementPatterns||this._state.preserveCase,1073741824),Wt=[];for(let Si=0,hi=gt.length;Si<hi;Si++)Wt[Si]=ct.buildReplaceString(gt[Si].matches,this._state.preserveCase);let ti=new x(this._editor.getSelection(),gt.map(Si=>Si.range),Wt);this._executeEditorCommand("replaceAll",ti)}selectAllMatches(){if(!this._hasMatches())return;let ge=this._decorations.getFindScopes(),gt=this._findMatches(ge,!1,1073741824).map(ti=>new N.Y(ti.range.startLineNumber,ti.range.startColumn,ti.range.endLineNumber,ti.range.endColumn)),Wt=this._editor.getSelection();for(let ti=0,Si=gt.length;ti<Si;ti++)if(gt[ti].equalsRange(Wt)){gt=[Wt].concat(gt.slice(0,ti)).concat(gt.slice(ti+1));break}this._editor.setSelections(gt)}_executeEditorCommand(ge,ct){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(ge,ct),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var me=c(65321),ue=c(93794),Oe=c(73046),Re=c(41264),et=c(4669);const Dt={inputActiveOptionBorder:Re.Il.fromHex("#007ACC00"),inputActiveOptionForeground:Re.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:Re.Il.fromHex("#0E639C50")};class ht extends ue.${constructor(ge){super(),this._onChange=this._register(new et.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new et.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},Dt),ge),this._checked=this._opts.isChecked;const ct=["monaco-custom-checkbox"];this._opts.icon&&ct.push(...Oe.dT.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&ct.push(...this._opts.actionClassName.split(" ")),this._checked&&ct.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...ct),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,gt=>{this.checked=!this._checked,this._onChange.fire(!1),gt.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,gt=>{if(gt.keyCode===10||gt.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),gt.preventDefault();return}this._onKeyDown.fire(gt)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(ge){this._checked=ge,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(ge){ge.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=ge.inputActiveOptionBorder),ge.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=ge.inputActiveOptionForeground),ge.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=ge.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}var Mt=c(63580);const Je=Mt.N("caseDescription","Match Case"),tt=Mt.N("wordsDescription","Match Whole Word"),ke=Mt.N("regexDescription","Use Regular Expression");class fe extends ht{constructor(ge){super({icon:Oe.lA.caseSensitive,title:Je+ge.appendTitle,isChecked:ge.isChecked,inputActiveOptionBorder:ge.inputActiveOptionBorder,inputActiveOptionForeground:ge.inputActiveOptionForeground,inputActiveOptionBackground:ge.inputActiveOptionBackground})}}class Ie extends ht{constructor(ge){super({icon:Oe.lA.wholeWord,title:tt+ge.appendTitle,isChecked:ge.isChecked,inputActiveOptionBorder:ge.inputActiveOptionBorder,inputActiveOptionForeground:ge.inputActiveOptionForeground,inputActiveOptionBackground:ge.inputActiveOptionBackground})}}class nt extends ht{constructor(ge){super({icon:Oe.lA.regex,title:ke+ge.appendTitle,isChecked:ge.isChecked,inputActiveOptionBorder:ge.inputActiveOptionBorder,inputActiveOptionForeground:ge.inputActiveOptionForeground,inputActiveOptionBackground:ge.inputActiveOptionBackground})}}class at extends ue.${constructor(ge,ct,gt,Wt){super(),this._hideSoon=this._register(new E.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=ge,this._state=ct,this._keybindingService=gt,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const ti=Wt.getColorTheme().getColor(r.PR),Si=Wt.getColorTheme().getColor(r.Pv),hi=Wt.getColorTheme().getColor(r.XE);this.caseSensitive=this._register(new fe({appendTitle:this._keybindingLabelFor(m.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:ti,inputActiveOptionForeground:Si,inputActiveOptionBackground:hi})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new Ie({appendTitle:this._keybindingLabelFor(m.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:ti,inputActiveOptionForeground:Si,inputActiveOptionBackground:hi})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new nt({appendTitle:this._keybindingLabelFor(m.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:ti,inputActiveOptionForeground:Si,inputActiveOptionBackground:hi})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(Yt=>{let Vi=!1;Yt.isRegex&&(this.regex.checked=this._state.isRegex,Vi=!0),Yt.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,Vi=!0),Yt.matchCase&&(this.caseSensitive.checked=this._state.matchCase,Vi=!0),!this._state.isRevealed&&Vi&&this._revealTemporarily()})),this._register(me.j_(this._domNode,Yt=>this._onMouseOut())),this._register(me.nm(this._domNode,"mouseover",Yt=>this._onMouseOver())),this._applyTheme(Wt.getColorTheme()),this._register(Wt.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(ge){let ct=this._keybindingService.lookupKeybinding(ge);return ct?` (${ct.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return at.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(ge){let ct={inputActiveOptionBorder:ge.getColor(r.PR),inputActiveOptionForeground:ge.getColor(r.Pv),inputActiveOptionBackground:ge.getColor(r.XE)};this.caseSensitive.style(ct),this.wholeWords.style(ct),this.regex.style(ct)}}at.ID="editor.contrib.findOptionsWidget",(0,T.Ic)((mi,ge)=>{const ct=mi.getColor(r.D0);ct&&ge.addRule(`.monaco-editor .findOptionsWidget { background-color: ${ct}; }`);const gt=mi.getColor(r.Hf);gt&&ge.addRule(`.monaco-editor .findOptionsWidget { color: ${gt}; }`);const Wt=mi.getColor(r.rh);Wt&&ge.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${Wt}; }`);const ti=mi.getColor(r.lR);ti&&ge.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${ti}; }`)});function ot(mi,ge){return mi===1?!0:mi===2?!1:ge}class Ne extends O.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new et.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return ot(this._isRegexOverride,this._isRegex)}get wholeWord(){return ot(this._wholeWordOverride,this._wholeWord)}get matchCase(){return ot(this._matchCaseOverride,this._matchCase)}get preserveCase(){return ot(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(ge,ct,gt){let Wt={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},ti=!1;ct===0&&(ge=0),ge>ct&&(ge=ct),this._matchesPosition!==ge&&(this._matchesPosition=ge,Wt.matchesPosition=!0,ti=!0),this._matchesCount!==ct&&(this._matchesCount=ct,Wt.matchesCount=!0,ti=!0),typeof gt!="undefined"&&(s.e.equalsRange(this._currentMatch,gt)||(this._currentMatch=gt,Wt.currentMatch=!0,ti=!0)),ti&&this._onFindReplaceStateChange.fire(Wt)}change(ge,ct,gt=!0){var Wt;let ti={moveCursor:ct,updateHistory:gt,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},Si=!1;const hi=this.isRegex,Yt=this.wholeWord,Vi=this.matchCase,Li=this.preserveCase;typeof ge.searchString!="undefined"&&this._searchString!==ge.searchString&&(this._searchString=ge.searchString,ti.searchString=!0,Si=!0),typeof ge.replaceString!="undefined"&&this._replaceString!==ge.replaceString&&(this._replaceString=ge.replaceString,ti.replaceString=!0,Si=!0),typeof ge.isRevealed!="undefined"&&this._isRevealed!==ge.isRevealed&&(this._isRevealed=ge.isRevealed,ti.isRevealed=!0,Si=!0),typeof ge.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==ge.isReplaceRevealed&&(this._isReplaceRevealed=ge.isReplaceRevealed,ti.isReplaceRevealed=!0,Si=!0),typeof ge.isRegex!="undefined"&&(this._isRegex=ge.isRegex),typeof ge.wholeWord!="undefined"&&(this._wholeWord=ge.wholeWord),typeof ge.matchCase!="undefined"&&(this._matchCase=ge.matchCase),typeof ge.preserveCase!="undefined"&&(this._preserveCase=ge.preserveCase),typeof ge.searchScope!="undefined"&&(!((Wt=ge.searchScope)===null||Wt===void 0)&&Wt.every(Pn=>{var Nt;return(Nt=this._searchScope)===null||Nt===void 0?void 0:Nt.some(W=>!s.e.equalsRange(W,Pn))})||(this._searchScope=ge.searchScope,ti.searchScope=!0,Si=!0)),typeof ge.loop!="undefined"&&this._loop!==ge.loop&&(this._loop=ge.loop,ti.loop=!0,Si=!0),this._isRegexOverride=typeof ge.isRegexOverride!="undefined"?ge.isRegexOverride:0,this._wholeWordOverride=typeof ge.wholeWordOverride!="undefined"?ge.wholeWordOverride:0,this._matchCaseOverride=typeof ge.matchCaseOverride!="undefined"?ge.matchCaseOverride:0,this._preserveCaseOverride=typeof ge.preserveCaseOverride!="undefined"?ge.preserveCaseOverride:0,hi!==this.isRegex&&(Si=!0,ti.isRegex=!0),Yt!==this.wholeWord&&(Si=!0,ti.wholeWord=!0),Vi!==this.matchCase&&(Si=!0,ti.matchCase=!0),Li!==this.preserveCase&&(Si=!0,ti.preserveCase=!0),Si&&this._onFindReplaceStateChange.fire(ti)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=b}}var Pe=c(35996),ye=c(83080),Ze=c(17301),it=c(1432),Ft=c(97862);const ei=Mt.N("defaultLabel","input");class bi extends ue.${constructor(ge,ct,gt,Wt){super(),this._showOptionButtons=gt,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new et.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new et.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new et.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new et.Q5),this._onKeyUp=this._register(new et.Q5),this._onCaseSensitiveKeyDown=this._register(new et.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new et.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=ct,this.placeholder=Wt.placeholder||"",this.validation=Wt.validation,this.label=Wt.label||ei,this.inputActiveOptionBorder=Wt.inputActiveOptionBorder,this.inputActiveOptionForeground=Wt.inputActiveOptionForeground,this.inputActiveOptionBackground=Wt.inputActiveOptionBackground,this.inputBackground=Wt.inputBackground,this.inputForeground=Wt.inputForeground,this.inputBorder=Wt.inputBorder,this.inputValidationInfoBorder=Wt.inputValidationInfoBorder,this.inputValidationInfoBackground=Wt.inputValidationInfoBackground,this.inputValidationInfoForeground=Wt.inputValidationInfoForeground,this.inputValidationWarningBorder=Wt.inputValidationWarningBorder,this.inputValidationWarningBackground=Wt.inputValidationWarningBackground,this.inputValidationWarningForeground=Wt.inputValidationWarningForeground,this.inputValidationErrorBorder=Wt.inputValidationErrorBorder,this.inputValidationErrorBackground=Wt.inputValidationErrorBackground,this.inputValidationErrorForeground=Wt.inputValidationErrorForeground;const ti=Wt.appendCaseSensitiveLabel||"",Si=Wt.appendWholeWordsLabel||"",hi=Wt.appendRegexLabel||"",Yt=Wt.history||[],Vi=!!Wt.flexibleHeight,Li=!!Wt.flexibleWidth,Pn=Wt.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Ft.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:Yt,showHistoryHint:Wt.showHistoryHint,flexibleHeight:Vi,flexibleWidth:Li,flexibleMaxHeight:Pn})),this.regex=this._register(new nt({appendTitle:hi,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(re=>{this._onDidOptionChange.fire(re),!re&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(re=>{this._onRegexKeyDown.fire(re)})),this.wholeWords=this._register(new Ie({appendTitle:Si,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(re=>{this._onDidOptionChange.fire(re),!re&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new fe({appendTitle:ti,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(re=>{this._onDidOptionChange.fire(re),!re&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(re=>{this._onCaseSensitiveKeyDown.fire(re)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let Nt=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,re=>{if(re.equals(15)||re.equals(17)||re.equals(9)){let Te=Nt.indexOf(document.activeElement);if(Te>=0){let Ye=-1;re.equals(17)?Ye=(Te+1)%Nt.length:re.equals(15)&&(Te===0?Ye=Nt.length-1:Ye=Te-1),re.equals(9)?(Nt[Te].blur(),this.inputBox.focus()):Ye>=0&&Nt[Ye].focus(),me.zB.stop(re,!0)}}});let W=document.createElement("div");W.className="controls",W.style.display=this._showOptionButtons?"block":"none",W.appendChild(this.caseSensitive.domNode),W.appendChild(this.wholeWords.domNode),W.appendChild(this.regex.domNode),this.domNode.appendChild(W),ge&&ge.appendChild(this.domNode),this._register(me.nm(this.inputBox.inputElement,"compositionstart",re=>{this.imeSessionInProgress=!0})),this._register(me.nm(this.inputBox.inputElement,"compositionend",re=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,re=>this._onKeyDown.fire(re)),this.onkeyup(this.inputBox.inputElement,re=>this._onKeyUp.fire(re)),this.oninput(this.inputBox.inputElement,re=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,re=>this._onMouseDown.fire(re))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(ge){this.fixFocusOnOptionClickEnabled=ge}setEnabled(ge){ge?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(ge){this.inputBox.value!==ge&&(this.inputBox.value=ge)}style(ge){this.inputActiveOptionBorder=ge.inputActiveOptionBorder,this.inputActiveOptionForeground=ge.inputActiveOptionForeground,this.inputActiveOptionBackground=ge.inputActiveOptionBackground,this.inputBackground=ge.inputBackground,this.inputForeground=ge.inputForeground,this.inputBorder=ge.inputBorder,this.inputValidationInfoBackground=ge.inputValidationInfoBackground,this.inputValidationInfoForeground=ge.inputValidationInfoForeground,this.inputValidationInfoBorder=ge.inputValidationInfoBorder,this.inputValidationWarningBackground=ge.inputValidationWarningBackground,this.inputValidationWarningForeground=ge.inputValidationWarningForeground,this.inputValidationWarningBorder=ge.inputValidationWarningBorder,this.inputValidationErrorBackground=ge.inputValidationErrorBackground,this.inputValidationErrorForeground=ge.inputValidationErrorForeground,this.inputValidationErrorBorder=ge.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const ge={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(ge),this.wholeWords.style(ge),this.caseSensitive.style(ge);const ct={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(ct)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(ge){this.caseSensitive.checked=ge}getWholeWords(){return this.wholeWords.checked}setWholeWords(ge){this.wholeWords.checked=ge}getRegex(){return this.regex.checked}setRegex(ge){this.regex.checked=ge,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const ii=Mt.N("defaultLabel","input"),Ot=Mt.N("label.preserveCaseCheckbox","Preserve Case");class en extends ht{constructor(ge){super({icon:Oe.lA.preserveCase,title:Ot+ge.appendTitle,isChecked:ge.isChecked,inputActiveOptionBorder:ge.inputActiveOptionBorder,inputActiveOptionForeground:ge.inputActiveOptionForeground,inputActiveOptionBackground:ge.inputActiveOptionBackground})}}class ui extends ue.${constructor(ge,ct,gt,Wt){super(),this._showOptionButtons=gt,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new et.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new et.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new et.Q5),this._onInput=this._register(new et.Q5),this._onKeyUp=this._register(new et.Q5),this._onPreserveCaseKeyDown=this._register(new et.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=ct,this.placeholder=Wt.placeholder||"",this.validation=Wt.validation,this.label=Wt.label||ii,this.inputActiveOptionBorder=Wt.inputActiveOptionBorder,this.inputActiveOptionForeground=Wt.inputActiveOptionForeground,this.inputActiveOptionBackground=Wt.inputActiveOptionBackground,this.inputBackground=Wt.inputBackground,this.inputForeground=Wt.inputForeground,this.inputBorder=Wt.inputBorder,this.inputValidationInfoBorder=Wt.inputValidationInfoBorder,this.inputValidationInfoBackground=Wt.inputValidationInfoBackground,this.inputValidationInfoForeground=Wt.inputValidationInfoForeground,this.inputValidationWarningBorder=Wt.inputValidationWarningBorder,this.inputValidationWarningBackground=Wt.inputValidationWarningBackground,this.inputValidationWarningForeground=Wt.inputValidationWarningForeground,this.inputValidationErrorBorder=Wt.inputValidationErrorBorder,this.inputValidationErrorBackground=Wt.inputValidationErrorBackground,this.inputValidationErrorForeground=Wt.inputValidationErrorForeground;const ti=Wt.appendPreserveCaseLabel||"",Si=Wt.history||[],hi=!!Wt.flexibleHeight,Yt=!!Wt.flexibleWidth,Vi=Wt.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Ft.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:Si,showHistoryHint:Wt.showHistoryHint,flexibleHeight:hi,flexibleWidth:Yt,flexibleMaxHeight:Vi})),this.preserveCase=this._register(new en({appendTitle:ti,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(Nt=>{this._onDidOptionChange.fire(Nt),!Nt&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(Nt=>{this._onPreserveCaseKeyDown.fire(Nt)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let Li=[this.preserveCase.domNode];this.onkeydown(this.domNode,Nt=>{if(Nt.equals(15)||Nt.equals(17)||Nt.equals(9)){let W=Li.indexOf(document.activeElement);if(W>=0){let re=-1;Nt.equals(17)?re=(W+1)%Li.length:Nt.equals(15)&&(W===0?re=Li.length-1:re=W-1),Nt.equals(9)?(Li[W].blur(),this.inputBox.focus()):re>=0&&Li[re].focus(),me.zB.stop(Nt,!0)}}});let Pn=document.createElement("div");Pn.className="controls",Pn.style.display=this._showOptionButtons?"block":"none",Pn.appendChild(this.preserveCase.domNode),this.domNode.appendChild(Pn),ge&&ge.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,Nt=>this._onKeyDown.fire(Nt)),this.onkeyup(this.inputBox.inputElement,Nt=>this._onKeyUp.fire(Nt)),this.oninput(this.inputBox.inputElement,Nt=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,Nt=>this._onMouseDown.fire(Nt))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(ge){ge?this.enable():this.disable()}style(ge){this.inputActiveOptionBorder=ge.inputActiveOptionBorder,this.inputActiveOptionForeground=ge.inputActiveOptionForeground,this.inputActiveOptionBackground=ge.inputActiveOptionBackground,this.inputBackground=ge.inputBackground,this.inputForeground=ge.inputForeground,this.inputBorder=ge.inputBorder,this.inputValidationInfoBackground=ge.inputValidationInfoBackground,this.inputValidationInfoForeground=ge.inputValidationInfoForeground,this.inputValidationInfoBorder=ge.inputValidationInfoBorder,this.inputValidationWarningBackground=ge.inputValidationWarningBackground,this.inputValidationWarningForeground=ge.inputValidationWarningForeground,this.inputValidationWarningBorder=ge.inputValidationWarningBorder,this.inputValidationErrorBackground=ge.inputValidationErrorBackground,this.inputValidationErrorForeground=ge.inputValidationErrorForeground,this.inputValidationErrorBorder=ge.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const ge={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(ge);const ct={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(ct)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(ge){this.preserveCase.checked=ge}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(ge){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=ge,this.domNode.style.width=ge+"px"}dispose(){super.dispose()}}var Ke=c(49989),st=c(79599),Mi=function(mi,ge,ct,gt){var Wt=arguments.length,ti=Wt<3?ge:gt===null?gt=Object.getOwnPropertyDescriptor(ge,ct):gt,Si;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ti=Reflect.decorate(mi,ge,ct,gt);else for(var hi=mi.length-1;hi>=0;hi--)(Si=mi[hi])&&(ti=(Wt<3?Si(ti):Wt>3?Si(ge,ct,ti):Si(ge,ct))||ti);return Wt>3&&ti&&Object.defineProperty(ge,ct,ti),ti},ci=function(mi,ge){return function(ct,gt){ge(ct,gt,mi)}};const zi="historyNavigationWidget",kn="historyNavigationForwardsEnabled",Ki="historyNavigationBackwardsEnabled";function ls(mi,ge,ct){new de.uy(ct,ge).bindTo(mi)}function Bn(mi,ge){return mi.createScoped(ge.target)}function On(mi,ge){return mi.getContext(document.activeElement).getValue(ge)}function Zi(mi,ge){const ct=Bn(mi,ge);ls(ct,ge,zi);const gt=new de.uy(kn,!0).bindTo(ct),Wt=new de.uy(Ki,!0).bindTo(ct);return{scopedContextKeyService:ct,historyNavigationForwardsEnablement:gt,historyNavigationBackwardsEnablement:Wt}}let Mn=class extends bi{constructor(ge,ct,gt,Wt,ti=!1){super(ge,ct,ti,gt),this._register(Zi(Wt,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};Mn=Mi([ci(3,de.i6)],Mn);let an=class extends ui{constructor(ge,ct,gt,Wt,ti=!1){super(ge,ct,ti,gt),this._register(Zi(Wt,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};an=Mi([ci(3,de.i6)],an),Ke.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:de.Ao.and(de.Ao.has(zi),de.Ao.equals(Ki,!0),st._y.Visible.isEqualTo(!1)),primary:16,secondary:[528],handler:mi=>{const ge=On(mi.get(de.i6),zi);ge&&ge.historyNavigator.showPreviousValue()}}),Ke.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:de.Ao.and(de.Ao.has(zi),de.Ao.equals(kn,!0),st._y.Visible.isEqualTo(!1)),primary:18,secondary:[530],handler:mi=>{const ge=On(mi.get(de.i6),zi);ge&&ge.historyNavigator.showNextValue()}});function $e(mi){var ge,ct;return((ge=mi.lookupKeybinding("history.showPrevious"))===null||ge===void 0?void 0:ge.getElectronAccelerator())==="Up"&&((ct=mi.lookupKeybinding("history.showNext"))===null||ct===void 0?void 0:ct.getElectronAccelerator())==="Down"}var Tt=c(59554),It=function(mi,ge,ct,gt){function Wt(ti){return ti instanceof ct?ti:new ct(function(Si){Si(ti)})}return new(ct||(ct=Promise))(function(ti,Si){function hi(Li){try{Vi(gt.next(Li))}catch(Pn){Si(Pn)}}function Yt(Li){try{Vi(gt.throw(Li))}catch(Pn){Si(Pn)}}function Vi(Li){Li.done?ti(Li.value):Wt(Li.value).then(hi,Yt)}Vi((gt=gt.apply(mi,ge||[])).next())})};const Ge=(0,Tt.q5)("find-selection",Oe.lA.selection,Mt.N("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),Xe=(0,Tt.q5)("find-collapsed",Oe.lA.chevronRight,Mt.N("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),kt=(0,Tt.q5)("find-expanded",Oe.lA.chevronDown,Mt.N("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),At=(0,Tt.q5)("find-replace",Oe.lA.replace,Mt.N("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Jt=(0,Tt.q5)("find-replace-all",Oe.lA.replaceAll,Mt.N("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),ai=(0,Tt.q5)("find-previous-match",Oe.lA.arrowUp,Mt.N("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),yi=(0,Tt.q5)("find-next-match",Oe.lA.arrowDown,Mt.N("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),sn=Mt.N("label.find","Find"),Ji=Mt.N("placeholder.find","Find"),Qn=Mt.N("label.previousMatchButton","Previous Match"),Ui=Mt.N("label.nextMatchButton","Next Match"),on=Mt.N("label.toggleSelectionFind","Find in Selection"),wt=Mt.N("label.closeButton","Close"),ft=Mt.N("label.replace","Replace"),xt=Mt.N("placeholder.replace","Replace"),Ve=Mt.N("label.replaceButton","Replace"),qe=Mt.N("label.replaceAllButton","Replace All"),mt=Mt.N("label.toggleReplaceButton","Toggle Replace"),ut=Mt.N("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",b),ri=Mt.N("label.matchesLocation","{0} of {1}"),$i=Mt.N("label.noResults","No results"),_i=419,Gi=275-54;let hn=69;const pn=33,Ai="ctrlEnterReplaceAll.windows.donotask",pi=it.dz?256:2048;class _n{constructor(ge){this.afterLineNumber=ge,this.heightInPx=pn,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function En(mi,ge,ct){const gt=!!ge.match(/\n/);if(ct&&gt&&ct.selectionStart>0){mi.stopPropagation();return}}function is(mi,ge,ct){const gt=!!ge.match(/\n/);if(ct&&gt&&ct.selectionEnd<ct.value.length){mi.stopPropagation();return}}class ds extends ue.${constructor(ge,ct,gt,Wt,ti,Si,hi,Yt,Vi){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=ge,this._controller=ct,this._state=gt,this._contextViewProvider=Wt,this._keybindingService=ti,this._contextKeyService=Si,this._storageService=Yt,this._notificationService=Vi,this._ctrlEnterReplaceAllWarningPrompted=!!Yt.getBoolean(Ai,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new E.vp(500),this._register((0,O.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(Li=>this._onStateChanged(Li))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(Li=>{if(Li.hasChanged(80)&&(this._codeEditor.getOption(80)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),Li.hasChanged(129)&&this._tryUpdateWidgetWidth(),Li.hasChanged(2)&&this.updateAccessibilitySupport(),Li.hasChanged(35)){const Pn=this._codeEditor.getOption(35).addExtraSpaceOnTop;Pn&&!this._viewZone&&(this._viewZone=new _n(0),this._showViewZone()),!Pn&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>It(this,void 0,void 0,function*(){if(this._isVisible){let Li=yield this._controller.getGlobalBufferTerm();Li&&Li!==this._state.searchString&&(this._state.change({searchString:Li},!1),this._findInput.select())}}))),this._findInputFocused=ve.bindTo(Si),this._findFocusTracker=this._register(me.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=xe.bindTo(Si),this._replaceFocusTracker=this._register(me.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new _n(0)),this._applyTheme(hi.getColorTheme()),this._register(hi.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(Li=>{if(Li.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return ds.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(ge){if(ge.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(ge.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),ge.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),ge.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(80)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=me.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(ge.isRevealed||ge.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),ge.isRegex&&this._findInput.setRegex(this._state.isRegex),ge.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),ge.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),ge.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),ge.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),ge.searchString||ge.matchesCount||ge.matchesPosition){let ct=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",ct),this._updateMatchesCount(),this._updateButtons()}(ge.searchString||ge.currentMatch)&&this._layoutViewZone(),ge.updateHistory&&this._delayedUpdateHistory(),ge.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Ze.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=hn+"px",this._state.matchesCount>=b?this._matchesCount.title=ut:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let ge;if(this._state.matchesCount>0){let ct=String(this._state.matchesCount);this._state.matchesCount>=b&&(ct+="+");let gt=String(this._state.matchesPosition);gt==="0"&&(gt="?"),ge=Q.WU(ri,gt,ct)}else ge=$i;this._matchesCount.appendChild(document.createTextNode(ge)),(0,Pe.Z9)(this._getAriaLabel(ge,this._state.currentMatch,this._state.searchString)),hn=Math.max(hn,this._matchesCount.clientWidth)}_getAriaLabel(ge,ct,gt){if(ge===$i)return gt===""?Mt.N("ariaSearchNoResultEmpty","{0} found",ge):Mt.N("ariaSearchNoResult","{0} found for '{1}'",ge,gt);if(ct){const Wt=Mt.N("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",ge,gt,ct.startLineNumber+":"+ct.startColumn),ti=this._codeEditor.getModel();return ti&&ct.startLineNumber<=ti.getLineCount()&&ct.startLineNumber>=1?`${ti.getLineContent(ct.startLineNumber)}, ${Wt}`:Wt}return Mt.N("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",ge,gt)}_updateToggleSelectionFindButton(){let ge=this._codeEditor.getSelection(),ct=ge?ge.startLineNumber!==ge.endLineNumber||ge.startColumn!==ge.endColumn:!1,gt=this._toggleSelectionFind.checked;this._isVisible&&(gt||ct)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let ge=this._state.searchString.length>0,ct=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&ge&&ct&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&ge&&ct&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ge),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ge),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let gt=!this._codeEditor.getOption(80);this._toggleReplaceBtn.setEnabled(this._isVisible&&gt)}_reveal(){if(this._revealTimeouts.forEach(ge=>{clearTimeout(ge)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const ge=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const gt=!!ge&&ge.startLineNumber!==ge.endLineNumber;this._toggleSelectionFind.checked=gt;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let ct=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&ge){const gt=this._codeEditor.getDomNode();if(gt){const Wt=me.i(gt),ti=this._codeEditor.getScrolledVisiblePosition(ge.getStartPosition()),Si=Wt.left+(ti?ti.left:0),hi=ti?ti.top:0;if(this._viewZone&&hi<this._viewZone.heightInPx){ge.endLineNumber>ge.startLineNumber&&(ct=!1);const Yt=me.xQ(this._domNode).left;Si>Yt&&(ct=!1);const Vi=this._codeEditor.getScrolledVisiblePosition(ge.getEndPosition());Wt.left+(Vi?Vi.left:0)>Yt&&(ct=!1)}}}this._showViewZone(ct)}}_hide(ge){this._revealTimeouts.forEach(ct=>{clearTimeout(ct)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),ge&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(ge){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const gt=this._viewZone;this._viewZoneId!==void 0||!gt||this._codeEditor.changeViewZones(Wt=>{gt.heightInPx=this._getHeight(),this._viewZoneId=Wt.addZone(gt),this._codeEditor.setScrollTop(ge||this._codeEditor.getScrollTop()+gt.heightInPx)})}_showViewZone(ge=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new _n(0));const gt=this._viewZone;this._codeEditor.changeViewZones(Wt=>{if(this._viewZoneId!==void 0){const ti=this._getHeight();if(ti===gt.heightInPx)return;let Si=ti-gt.heightInPx;gt.heightInPx=ti,Wt.layoutZone(this._viewZoneId),ge&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+Si);return}else{let ti=this._getHeight();if(ti-=this._codeEditor.getOption(74).top,ti<=0)return;gt.heightInPx=ti,this._viewZoneId=Wt.addZone(gt),ge&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ti)}})}_removeViewZone(){this._codeEditor.changeViewZones(ge=>{this._viewZoneId!==void 0&&(ge.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(ge){let ct={inputActiveOptionBorder:ge.getColor(r.PR),inputActiveOptionBackground:ge.getColor(r.XE),inputActiveOptionForeground:ge.getColor(r.Pv),inputBackground:ge.getColor(r.sE),inputForeground:ge.getColor(r.zJ),inputBorder:ge.getColor(r.dt),inputValidationInfoBackground:ge.getColor(r._l),inputValidationInfoForeground:ge.getColor(r.YI),inputValidationInfoBorder:ge.getColor(r.EP),inputValidationWarningBackground:ge.getColor(r.RV),inputValidationWarningForeground:ge.getColor(r.SU),inputValidationWarningBorder:ge.getColor(r.C3),inputValidationErrorBackground:ge.getColor(r.p),inputValidationErrorForeground:ge.getColor(r._t),inputValidationErrorBorder:ge.getColor(r.OZ)};this._findInput.style(ct),this._replaceInput.style(ct),this._toggleSelectionFind.style(ct)}_tryUpdateWidgetWidth(){if(!this._isVisible||!me.Uw(this._domNode))return;const ge=this._codeEditor.getLayoutInfo();if(ge.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const gt=ge.width,Wt=ge.minimap.minimapWidth;let ti=!1,Si=!1,hi=!1;if(this._resized&&me.w(this._domNode)>_i){this._domNode.style.maxWidth=`${gt-28-Wt-15}px`,this._replaceInput.width=me.w(this._findInput.domNode);return}if(_i+28+Wt>=gt&&(Si=!0),_i+28+Wt-hn>=gt&&(hi=!0),_i+28+Wt-hn>=gt+50&&(ti=!0),this._domNode.classList.toggle("collapsed-find-widget",ti),this._domNode.classList.toggle("narrow-find-widget",hi),this._domNode.classList.toggle("reduced-find-widget",Si),!hi&&!ti&&(this._domNode.style.maxWidth=`${gt-28-Wt-15}px`),this._resized){this._findInput.inputBox.layout();let Yt=this._findInput.inputBox.element.clientWidth;Yt>0&&(this._replaceInput.width=Yt)}else this._isReplaceVisible&&(this._replaceInput.width=me.w(this._findInput.domNode))}_getHeight(){let ge=0;return ge+=4,ge+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(ge+=4,ge+=this._replaceInput.inputBox.height+2),ge+=4,ge}_tryUpdateHeight(){const ge=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===ge?!1:(this._cachedHeight=ge,this._domNode.style.height=`${ge}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let ge=this._codeEditor.getSelections();ge.map(ct=>{ct.endColumn===1&&ct.endLineNumber>ct.startLineNumber&&(ct=ct.setEndPosition(ct.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ct.endLineNumber-1)));const gt=this._state.currentMatch;return ct.startLineNumber!==ct.endLineNumber&&!s.e.equalsRange(ct,gt)?ct:null}).filter(ct=>!!ct),ge.length&&this._state.change({searchScope:ge},!0)}}_onFindInputMouseDown(ge){ge.middleButton&&ge.stopPropagation()}_onFindInputKeyDown(ge){if(ge.equals(pi|3))if(this._keybindingService.dispatchEvent(ge,ge.target)){ge.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),ge.preventDefault();return}if(ge.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),ge.preventDefault();return}if(ge.equals(2066)){this._codeEditor.focus(),ge.preventDefault();return}if(ge.equals(16))return En(ge,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(ge.equals(18))return is(ge,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(ge){if(ge.equals(pi|3))if(this._keybindingService.dispatchEvent(ge,ge.target)){ge.preventDefault();return}else{it.ED&&it.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(Mt.N("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Ai,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),ge.preventDefault();return}if(ge.equals(2)){this._findInput.focusOnCaseSensitive(),ge.preventDefault();return}if(ge.equals(1026)){this._findInput.focus(),ge.preventDefault();return}if(ge.equals(2066)){this._codeEditor.focus(),ge.preventDefault();return}if(ge.equals(16))return En(ge,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(ge.equals(18))return is(ge,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(ge){return 0}_keybindingLabelFor(ge){let ct=this._keybindingService.lookupKeybinding(ge);return ct?` (${ct.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new Mn(null,this._contextViewProvider,{width:Gi,label:sn,placeholder:Ji,appendCaseSensitiveLabel:this._keybindingLabelFor(m.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(m.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(m.ToggleRegexCommand),validation:Yt=>{if(Yt.length===0||!this._findInput.getRegex())return null;try{return new RegExp(Yt,"gu"),null}catch(Vi){return{content:Vi.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>$e(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(Yt=>this._onFindInputKeyDown(Yt))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(Yt=>{Yt.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),Yt.preventDefault())})),this._register(this._findInput.onRegexKeyDown(Yt=>{Yt.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),Yt.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(Yt=>{this._tryUpdateHeight()&&this._showViewZone()})),it.IJ&&this._register(this._findInput.onMouseDown(Yt=>this._onFindInputMouseDown(Yt))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Xn({label:Qn+this._keybindingLabelFor(m.PreviousMatchFindAction),icon:ai,onTrigger:()=>{this._codeEditor.getAction(m.PreviousMatchFindAction).run().then(void 0,Ze.dL)}})),this._nextBtn=this._register(new Xn({label:Ui+this._keybindingLabelFor(m.NextMatchFindAction),icon:yi,onTrigger:()=>{this._codeEditor.getAction(m.NextMatchFindAction).run().then(void 0,Ze.dL)}}));let gt=document.createElement("div");gt.className="find-part",gt.appendChild(this._findInput.domNode);const Wt=document.createElement("div");Wt.className="find-actions",gt.appendChild(Wt),Wt.appendChild(this._matchesCount),Wt.appendChild(this._prevBtn.domNode),Wt.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new ht({icon:Ge,title:on+this._keybindingLabelFor(m.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let Yt=this._codeEditor.getSelections();Yt.map(Vi=>(Vi.endColumn===1&&Vi.endLineNumber>Vi.startLineNumber&&(Vi=Vi.setEndPosition(Vi.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Vi.endLineNumber-1))),Vi.isEmpty()?null:Vi)).filter(Vi=>!!Vi),Yt.length&&this._state.change({searchScope:Yt},!0)}}else this._state.change({searchScope:null},!0)})),Wt.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Xn({label:wt+this._keybindingLabelFor(m.CloseFindWidgetCommand),icon:Tt.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:Yt=>{Yt.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),Yt.preventDefault())}})),Wt.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new an(null,void 0,{label:ft,placeholder:xt,appendPreserveCaseLabel:this._keybindingLabelFor(m.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>$e(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(Yt=>this._onReplaceInputKeyDown(Yt))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(Yt=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(Yt=>{Yt.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),Yt.preventDefault())})),this._replaceBtn=this._register(new Xn({label:Ve+this._keybindingLabelFor(m.ReplaceOneAction),icon:At,onTrigger:()=>{this._controller.replace()},onKeyDown:Yt=>{Yt.equals(1026)&&(this._closeBtn.focus(),Yt.preventDefault())}})),this._replaceAllBtn=this._register(new Xn({label:qe+this._keybindingLabelFor(m.ReplaceAllAction),icon:Jt,onTrigger:()=>{this._controller.replaceAll()}}));let ti=document.createElement("div");ti.className="replace-part",ti.appendChild(this._replaceInput.domNode);const Si=document.createElement("div");Si.className="replace-actions",ti.appendChild(Si),Si.appendChild(this._replaceBtn.domNode),Si.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Xn({label:mt,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=me.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${_i}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(gt),this._domNode.appendChild(ti),this._resizeSash=new ye.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let hi=_i;this._register(this._resizeSash.onDidStart(()=>{hi=me.w(this._domNode)})),this._register(this._resizeSash.onDidChange(Yt=>{this._resized=!0;let Vi=hi+Yt.startX-Yt.currentX;if(Vi<_i)return;const Li=parseFloat(me.Dx(this._domNode).maxWidth)||0;Vi>Li||(this._domNode.style.width=`${Vi}px`,this._isReplaceVisible&&(this._replaceInput.width=me.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const Yt=me.w(this._domNode);if(Yt<_i)return;let Vi=_i;if(!this._resized||Yt===_i){const Li=this._codeEditor.getLayoutInfo();Vi=Li.width-28-Li.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${Vi}px`,this._isReplaceVisible&&(this._replaceInput.width=me.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const ge=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(ge!==2)}}ds.ID="editor.contrib.findWidget";class Xn extends ue.${constructor(ge){super(),this._opts=ge;let ct="button";this._opts.className&&(ct=ct+" "+this._opts.className),this._opts.icon&&(ct=ct+" "+T.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=ct,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,gt=>{this._opts.onTrigger(),gt.preventDefault()}),this.onkeydown(this._domNode,gt=>{if(gt.equals(10)||gt.equals(3)){this._opts.onTrigger(),gt.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(gt)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(ge){this._domNode.classList.toggle("disabled",!ge),this._domNode.setAttribute("aria-disabled",String(!ge)),this._domNode.tabIndex=ge?0:-1}setExpanded(ge){this._domNode.setAttribute("aria-expanded",String(!!ge)),ge?(this._domNode.classList.remove(...T.kS.asClassNameArray(Xe)),this._domNode.classList.add(...T.kS.asClassNameArray(kt))):(this._domNode.classList.remove(...T.kS.asClassNameArray(kt)),this._domNode.classList.add(...T.kS.asClassNameArray(Xe)))}}(0,T.Ic)((mi,ge)=>{const ct=(re,Te)=>{Te&&ge.addRule(`.monaco-editor ${re} { background-color: ${Te}; }`)};ct(".findMatch",mi.getColor(r.MU)),ct(".currentFindMatch",mi.getColor(r.ny)),ct(".findScope",mi.getColor(r.jU));const gt=mi.getColor(r.D0);ct(".find-widget",gt);const Wt=mi.getColor(r.rh);Wt&&ge.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${Wt}; }`);const ti=mi.getColor(r.Ei);ti&&ge.addRule(`.monaco-editor .findMatch { border: 1px ${mi.type==="hc"?"dotted":"solid"} ${ti}; box-sizing: border-box; }`);const Si=mi.getColor(r.pn);Si&&ge.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${Si}; padding: 1px; box-sizing: border-box; }`);const hi=mi.getColor(r.gk);hi&&ge.addRule(`.monaco-editor .findScope { border: 1px ${mi.type==="hc"?"dashed":"solid"} ${hi}; }`);const Yt=mi.getColor(r.lR);Yt&&ge.addRule(`.monaco-editor .find-widget { border: 1px solid ${Yt}; }`);const Vi=mi.getColor(r.Hf);Vi&&ge.addRule(`.monaco-editor .find-widget { color: ${Vi}; }`);const Li=mi.getColor(r.Id);Li&&ge.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${Li}; }`);const Pn=mi.getColor(r.Ng);if(Pn)ge.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Pn}; }`);else{const re=mi.getColor(r.D1);re&&ge.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${re}; }`)}const Nt=mi.getColor(r.lU);Nt&&ge.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${Nt} !important;
		}
	`);const W=mi.getColor(r.R8);W&&ge.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${W}; }`)});var Rs=c(84144),Co=c(84972),js=c(5606),_s=c(91847),ho=c(59422),oo=c(87060),qs=function(mi,ge,ct,gt){var Wt=arguments.length,ti=Wt<3?ge:gt===null?gt=Object.getOwnPropertyDescriptor(ge,ct):gt,Si;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ti=Reflect.decorate(mi,ge,ct,gt);else for(var hi=mi.length-1;hi>=0;hi--)(Si=mi[hi])&&(ti=(Wt<3?Si(ti):Wt>3?Si(ge,ct,ti):Si(ge,ct))||ti);return Wt>3&&ti&&Object.defineProperty(ge,ct,ti),ti},Es=function(mi,ge){return function(ct,gt){ge(ct,gt,mi)}},Fs=function(mi,ge,ct,gt){function Wt(ti){return ti instanceof ct?ti:new ct(function(Si){Si(ti)})}return new(ct||(ct=Promise))(function(ti,Si){function hi(Li){try{Vi(gt.next(Li))}catch(Pn){Si(Pn)}}function Yt(Li){try{Vi(gt.throw(Li))}catch(Pn){Si(Pn)}}function Vi(Li){Li.done?ti(Li.value):Wt(Li.value).then(hi,Yt)}Vi((gt=gt.apply(mi,ge||[])).next())})};const Xs=524288;function ro(mi,ge="single",ct=!1){if(!mi.hasModel())return null;const gt=mi.getSelection();if(ge==="single"&&gt.startLineNumber===gt.endLineNumber||ge==="multiple"){if(gt.isEmpty()){const Wt=mi.getConfiguredWordAtPosition(gt.getStartPosition());if(Wt&&ct===!1)return Wt.word}else if(mi.getModel().getValueLengthInRange(gt)<Xs)return mi.getModel().getValueInRange(gt)}return null}let Ys=class mu extends O.JT{constructor(ge,ct,gt,Wt){super(),this._editor=ge,this._findWidgetVisible=pe.bindTo(ct),this._contextKeyService=ct,this._storageService=gt,this._clipboardService=Wt,this._updateHistoryDelayer=new E.vp(500),this._state=this._register(new Ne),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(ti=>this._onStateChanged(ti))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let ti=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),ti&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(ge){return ge.getContribution(mu.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(ge){this.saveQueryState(ge),ge.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),ge.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(ge){ge.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),ge.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),ge.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),ge.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!ve.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let ge=this._editor.getSelections();ge.map(ct=>(ct.endColumn===1&&ct.endLineNumber>ct.startLineNumber&&(ct=ct.setEndPosition(ct.endLineNumber-1,this._editor.getModel().getLineMaxColumn(ct.endLineNumber-1))),ct.isEmpty()?null:ct)).filter(ct=>!!ct),ge.length&&this._state.change({searchScope:ge},!0)}}setSearchString(ge){this._state.isRegex&&(ge=Q.ec(ge)),this._state.change({searchString:ge},!1)}highlightFindOptions(ge=!1){}_start(ge){return Fs(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let ct={isRevealed:!0};if(ge.seedSearchStringFromSelection==="single"){let gt=ro(this._editor,ge.seedSearchStringFromSelection,ge.seedSearchStringFromNonEmptySelection);gt&&(this._state.isRegex?ct.searchString=Q.ec(gt):ct.searchString=gt)}else if(ge.seedSearchStringFromSelection==="multiple"&&!ge.updateSearchScope){let gt=ro(this._editor,ge.seedSearchStringFromSelection);gt&&(ct.searchString=gt)}if(!ct.searchString&&ge.seedSearchStringFromGlobalClipboard){let gt=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;gt&&(ct.searchString=gt)}if(ge.forceRevealReplace?ct.isReplaceRevealed=!0:this._findWidgetVisible.get()||(ct.isReplaceRevealed=!1),ge.updateSearchScope){let gt=this._editor.getSelections();gt.some(Wt=>!Wt.isEmpty())&&(ct.searchScope=gt)}ct.loop=ge.loop,this._state.change(ct,!1),this._model||(this._model=new te(this._editor,this._state))})}start(ge){return this._start(ge)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Fs(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(ge){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(ge)}};Ys.ID="editor.contrib.findController",Ys=qs([Es(1,de.i6),Es(2,oo.Uy),Es(3,Co.p)],Ys);let $s=class extends Ys{constructor(ge,ct,gt,Wt,ti,Si,hi,Yt){super(ge,gt,hi,Yt),this._contextViewService=ct,this._keybindingService=Wt,this._themeService=ti,this._notificationService=Si,this._widget=null,this._findOptionsWidget=null}_start(ge){const ct=Object.create(null,{_start:{get:()=>super._start}});return Fs(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const gt=this._editor.getSelection();let Wt=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":Wt=!0;break;case"never":Wt=!1;break;case"multiline":Wt=!!gt&&gt.startLineNumber!==gt.endLineNumber;break;default:break}ge.updateSearchScope=Wt,yield ct._start.call(this,ge),this._widget&&(ge.shouldFocus===2?this._widget.focusReplaceInput():ge.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(ge=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!ge?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new ds(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new at(this._editor,this._state,this._keybindingService,this._themeService))}};$s=qs([Es(1,js.u),Es(2,de.i6),Es(3,_s.d),Es(4,T.XE),Es(5,ho.lT),Es(6,oo.Uy),Es(7,Co.p)],$s);const mo=(0,P.rn)(new P.jY({id:m.StartFindAction,label:Mt.N("startFindAction","Find"),alias:"Find",precondition:de.Ao.or(y.u.focus,de.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Rs.eH.MenubarEditMenu,group:"3_find",title:Mt.N({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));mo.addImplementation(0,(mi,ge,ct)=>{const gt=Ys.get(ge);return gt?gt.start({forceRevealReplace:!1,seedSearchStringFromSelection:ge.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:ge.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:ge.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:ge.getOption(35).loop}):!1});class Jn extends P.R6{constructor(){super({id:m.StartFindWithSelection,label:Mt.N("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(ge,ct){return Fs(this,void 0,void 0,function*(){let gt=Ys.get(ct);gt&&(yield gt.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:ct.getOption(35).loop}),gt.setGlobalBufferTerm(gt.getState().searchString))})}}class po extends P.R6{run(ge,ct){return Fs(this,void 0,void 0,function*(){let gt=Ys.get(ct);gt&&!this._run(gt)&&(yield gt.start({forceRevealReplace:!1,seedSearchStringFromSelection:gt.getState().searchString.length===0&&ct.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:ct.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:ct.getOption(35).loop}),this._run(gt))})}}class os extends po{constructor(){super({id:m.NextMatchFindAction,label:Mt.N("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:y.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:de.Ao.and(y.u.focus,ve),primary:3,weight:100}]})}_run(ge){return ge.moveToNextMatch()?(ge.editor.pushUndoStop(),!0):!1}}class jn extends po{constructor(){super({id:m.PreviousMatchFindAction,label:Mt.N("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:y.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:de.Ao.and(y.u.focus,ve),primary:1027,weight:100}]})}_run(ge){return ge.moveToPrevMatch()}}class ao extends P.R6{run(ge,ct){return Fs(this,void 0,void 0,function*(){let gt=Ys.get(ct);if(!gt)return;const Wt=ct.getOption(35).seedSearchStringFromSelection==="selection";let ti=null;ct.getOption(35).seedSearchStringFromSelection!=="never"&&(ti=ro(ct,"single",Wt)),ti&&gt.setSearchString(ti),this._run(gt)||(yield gt.start({forceRevealReplace:!1,seedSearchStringFromSelection:ct.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:Wt,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:ct.getOption(35).loop}),this._run(gt))})}}class es extends ao{constructor(){super({id:m.NextSelectionMatchFindAction,label:Mt.N("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:y.u.focus,primary:2109,weight:100}})}_run(ge){return ge.moveToNextMatch()}}class eo extends ao{constructor(){super({id:m.PreviousSelectionMatchFindAction,label:Mt.N("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:y.u.focus,primary:3133,weight:100}})}_run(ge){return ge.moveToPrevMatch()}}const xs=(0,P.rn)(new P.jY({id:m.StartFindReplaceAction,label:Mt.N("startReplace","Replace"),alias:"Replace",precondition:de.Ao.or(y.u.focus,de.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Rs.eH.MenubarEditMenu,group:"3_find",title:Mt.N({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));xs.addImplementation(0,(mi,ge,ct)=>{if(!ge.hasModel()||ge.getOption(80))return!1;const gt=Ys.get(ge);if(!gt)return!1;const Wt=ge.getSelection(),ti=gt.isFindInputFocused(),Si=!Wt.isEmpty()&&Wt.startLineNumber===Wt.endLineNumber&&ge.getOption(35).seedSearchStringFromSelection!=="never"&&!ti,hi=ti||Si?2:1;return gt.start({forceRevealReplace:!0,seedSearchStringFromSelection:Si?"single":"none",seedSearchStringFromNonEmptySelection:ge.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:ge.getOption(35).seedSearchStringFromSelection!=="never",shouldFocus:hi,shouldAnimate:!0,updateSearchScope:!1,loop:ge.getOption(35).loop})}),(0,P._K)(Ys.ID,$s),(0,P.Qr)(Jn),(0,P.Qr)(os),(0,P.Qr)(jn),(0,P.Qr)(es),(0,P.Qr)(eo);const io=P._l.bindToContribution(Ys.get);(0,P.fK)(new io({id:m.CloseFindWidgetCommand,precondition:pe,handler:mi=>mi.closeFindWidget(),kbOpts:{weight:105,kbExpr:de.Ao.and(y.u.focus,de.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,P.fK)(new io({id:m.ToggleCaseSensitiveCommand,precondition:void 0,handler:mi=>mi.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:y.u.focus,primary:le.primary,mac:le.mac,win:le.win,linux:le.linux}})),(0,P.fK)(new io({id:m.ToggleWholeWordCommand,precondition:void 0,handler:mi=>mi.toggleWholeWords(),kbOpts:{weight:105,kbExpr:y.u.focus,primary:Y.primary,mac:Y.mac,win:Y.win,linux:Y.linux}})),(0,P.fK)(new io({id:m.ToggleRegexCommand,precondition:void 0,handler:mi=>mi.toggleRegex(),kbOpts:{weight:105,kbExpr:y.u.focus,primary:j.primary,mac:j.mac,win:j.win,linux:j.linux}})),(0,P.fK)(new io({id:m.ToggleSearchScopeCommand,precondition:void 0,handler:mi=>mi.toggleSearchScope(),kbOpts:{weight:105,kbExpr:y.u.focus,primary:G.primary,mac:G.mac,win:G.win,linux:G.linux}})),(0,P.fK)(new io({id:m.TogglePreserveCaseCommand,precondition:void 0,handler:mi=>mi.togglePreserveCase(),kbOpts:{weight:105,kbExpr:y.u.focus,primary:q.primary,mac:q.mac,win:q.win,linux:q.linux}})),(0,P.fK)(new io({id:m.ReplaceOneAction,precondition:pe,handler:mi=>mi.replace(),kbOpts:{weight:105,kbExpr:y.u.focus,primary:3094}})),(0,P.fK)(new io({id:m.ReplaceOneAction,precondition:pe,handler:mi=>mi.replace(),kbOpts:{weight:105,kbExpr:de.Ao.and(y.u.focus,xe),primary:3}})),(0,P.fK)(new io({id:m.ReplaceAllAction,precondition:pe,handler:mi=>mi.replaceAll(),kbOpts:{weight:105,kbExpr:y.u.focus,primary:2563}})),(0,P.fK)(new io({id:m.ReplaceAllAction,precondition:pe,handler:mi=>mi.replaceAll(),kbOpts:{weight:105,kbExpr:de.Ao.and(y.u.focus,xe),primary:void 0,mac:{primary:2051}}})),(0,P.fK)(new io({id:m.SelectAllMatchesAction,precondition:pe,handler:mi=>mi.selectAllMatches(),kbOpts:{weight:105,kbExpr:y.u.focus,primary:515}}))},5697:function(Qt,He,c){"use strict";c.r(He),c.d(He,{FoldingController:function(){return ei},editorFoldForeground:function(){return Tt},foldBackgroundBackground:function(){return $e}});var E=c(15393),O=c(17301),Q=c(22258),P=c(5976),y=c(97295),X=c(98401),R=c(55812),B=c(16830),s=c(29102),N=c(10351),g=c(94660),D=c(4669);const H=65535,r=16777215,T=4278190080;class w{constructor(Ge,Xe,kt){if(Ge.length!==Xe.length||Ge.length>H)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=Ge,this._endIndexes=Xe,this._collapseStates=new Uint32Array(Math.ceil(Ge.length/32)),this._types=kt,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let Ge=[],Xe=(kt,At)=>{let Jt=Ge[Ge.length-1];return this.getStartLineNumber(Jt)<=kt&&this.getEndLineNumber(Jt)>=At};for(let kt=0,At=this._startIndexes.length;kt<At;kt++){let Jt=this._startIndexes[kt],ai=this._endIndexes[kt];if(Jt>r||ai>r)throw new Error("startLineNumber or endLineNumber must not exceed "+r);for(;Ge.length>0&&!Xe(Jt,ai);)Ge.pop();let yi=Ge.length>0?Ge[Ge.length-1]:-1;Ge.push(kt),this._startIndexes[kt]=Jt+((yi&255)<<24),this._endIndexes[kt]=ai+((yi&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(Ge){return this._startIndexes[Ge]&r}getEndLineNumber(Ge){return this._endIndexes[Ge]&r}getType(Ge){return this._types?this._types[Ge]:void 0}hasTypes(){return!!this._types}isCollapsed(Ge){let Xe=Ge/32|0,kt=Ge%32;return(this._collapseStates[Xe]&1<<kt)!==0}setCollapsed(Ge,Xe){let kt=Ge/32|0,At=Ge%32,Jt=this._collapseStates[kt];Xe?this._collapseStates[kt]=Jt|1<<At:this._collapseStates[kt]=Jt&~(1<<At)}setCollapsedAllOfType(Ge,Xe){let kt=!1;if(this._types)for(let At=0;At<this._types.length;At++)this._types[At]===Ge&&(this.setCollapsed(At,Xe),kt=!0);return kt}toRegion(Ge){return new x(this,Ge)}getParentIndex(Ge){this.ensureParentIndices();let Xe=((this._startIndexes[Ge]&T)>>>24)+((this._endIndexes[Ge]&T)>>>16);return Xe===H?-1:Xe}contains(Ge,Xe){return this.getStartLineNumber(Ge)<=Xe&&this.getEndLineNumber(Ge)>=Xe}findIndex(Ge){let Xe=0,kt=this._startIndexes.length;if(kt===0)return-1;for(;Xe<kt;){let At=Math.floor((Xe+kt)/2);Ge<this.getStartLineNumber(At)?kt=At:Xe=At+1}return Xe-1}findRange(Ge){let Xe=this.findIndex(Ge);if(Xe>=0){if(this.getEndLineNumber(Xe)>=Ge)return Xe;for(Xe=this.getParentIndex(Xe);Xe!==-1;){if(this.contains(Xe,Ge))return Xe;Xe=this.getParentIndex(Xe)}}return-1}toString(){let Ge=[];for(let Xe=0;Xe<this.length;Xe++)Ge[Xe]=`[${this.isCollapsed(Xe)?"+":"-"}] ${this.getStartLineNumber(Xe)}/${this.getEndLineNumber(Xe)}`;return Ge.join(", ")}}class x{constructor(Ge,Xe){this.ranges=Ge,this.index=Xe}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(Ge){return Ge.startLineNumber<=this.startLineNumber&&Ge.endLineNumber>=this.endLineNumber}containsLine(Ge){return this.startLineNumber<=Ge&&Ge<=this.endLineNumber}}class f{constructor(Ge,Xe){this._updateEventEmitter=new D.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=Ge,this._decorationProvider=Xe,this._regions=new w(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(Ge){if(!Ge.length)return;Ge=Ge.sort((kt,At)=>kt.regionIndex-At.regionIndex);const Xe={};this._decorationProvider.changeDecorations(kt=>{let At=0,Jt=-1,ai=-1;const yi=sn=>{for(;At<sn;){const Ji=this._regions.getEndLineNumber(At),Qn=this._regions.isCollapsed(At);Ji<=Jt&&kt.changeDecorationOptions(this._editorDecorationIds[At],this._decorationProvider.getDecorationOption(Qn,Ji<=ai)),Qn&&Ji>ai&&(ai=Ji),At++}};for(let sn of Ge){let Ji=sn.regionIndex,Qn=this._editorDecorationIds[Ji];if(Qn&&!Xe[Qn]){Xe[Qn]=!0,yi(Ji);let Ui=!this._regions.isCollapsed(Ji);this._regions.setCollapsed(Ji,Ui),Jt=Math.max(Jt,this._regions.getEndLineNumber(Ji))}}yi(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:Ge})}update(Ge,Xe=[]){let kt=[],At=(Ui,on)=>{for(let wt of Xe)if(Ui<wt&&wt<=on)return!0;return!1},Jt=-1,ai=(Ui,on)=>{const wt=Ge.getStartLineNumber(Ui),ft=Ge.getEndLineNumber(Ui);on||(on=Ge.isCollapsed(Ui)),on&&At(wt,ft)&&(on=!1),Ge.setCollapsed(Ui,on);const xt=this._textModel.getLineMaxColumn(wt),Ve={startLineNumber:wt,startColumn:Math.max(xt-1,1),endLineNumber:wt,endColumn:xt};kt.push({range:Ve,options:this._decorationProvider.getDecorationOption(on,ft<=Jt)}),on&&ft>Jt&&(Jt=ft)},yi=0,sn=()=>{for(;yi<this._regions.length;){let Ui=this._regions.isCollapsed(yi);if(yi++,Ui)return yi-1}return-1},Ji=0,Qn=sn();for(;Qn!==-1&&Ji<Ge.length;){let Ui=this._textModel.getDecorationRange(this._editorDecorationIds[Qn]);if(Ui){let on=Ui.startLineNumber;if(Ui.startColumn===Math.max(Ui.endColumn-1,1)&&this._textModel.getLineMaxColumn(on)===Ui.endColumn)for(;Ji<Ge.length;){let wt=Ge.getStartLineNumber(Ji);if(on>=wt)ai(Ji,on===wt),Ji++;else break}}Qn=sn()}for(;Ji<Ge.length;)ai(Ji,!1),Ji++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,kt),this._regions=Ge,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let Ge=[];for(let Xe=0;Xe<this._regions.length;Xe++)if(this._regions.isCollapsed(Xe)){let kt=this._textModel.getDecorationRange(this._editorDecorationIds[Xe]);if(kt){let At=kt.startLineNumber,Jt=kt.endLineNumber+this._regions.getEndLineNumber(Xe)-this._regions.getStartLineNumber(Xe);Ge.push({startLineNumber:At,endLineNumber:Jt})}}if(Ge.length>0)return Ge}applyMemento(Ge){if(!Array.isArray(Ge))return;let Xe=[];for(let kt of Ge){let At=this.getRegionAtLine(kt.startLineNumber);At&&!At.isCollapsed&&Xe.push(At)}this.toggleCollapseState(Xe)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(Ge,Xe){let kt=[];if(this._regions){let At=this._regions.findRange(Ge),Jt=1;for(;At>=0;){let ai=this._regions.toRegion(At);(!Xe||Xe(ai,Jt))&&kt.push(ai),Jt++,At=ai.parentIndex}}return kt}getRegionAtLine(Ge){if(this._regions){let Xe=this._regions.findRange(Ge);if(Xe>=0)return this._regions.toRegion(Xe)}return null}getRegionsInside(Ge,Xe){let kt=[],At=Ge?Ge.regionIndex+1:0,Jt=Ge?Ge.endLineNumber:Number.MAX_VALUE;if(Xe&&Xe.length===2){const ai=[];for(let yi=At,sn=this._regions.length;yi<sn;yi++){let Ji=this._regions.toRegion(yi);if(this._regions.getStartLineNumber(yi)<Jt){for(;ai.length>0&&!Ji.containedBy(ai[ai.length-1]);)ai.pop();ai.push(Ji),Xe(Ji,ai.length)&&kt.push(Ji)}else break}}else for(let ai=At,yi=this._regions.length;ai<yi;ai++){let sn=this._regions.toRegion(ai);if(this._regions.getStartLineNumber(ai)<Jt)(!Xe||Xe(sn))&&kt.push(sn);else break}return kt}}function p(It,Ge,Xe){let kt=[];for(let At of Xe){let Jt=It.getRegionAtLine(At);if(Jt){const ai=!Jt.isCollapsed;if(kt.push(Jt),Ge>1){let yi=It.getRegionsInside(Jt,(sn,Ji)=>sn.isCollapsed!==ai&&Ji<Ge);kt.push(...yi)}}}It.toggleCollapseState(kt)}function S(It,Ge,Xe=Number.MAX_VALUE,kt){let At=[];if(kt&&kt.length>0)for(let Jt of kt){let ai=It.getRegionAtLine(Jt);if(ai&&(ai.isCollapsed!==Ge&&At.push(ai),Xe>1)){let yi=It.getRegionsInside(ai,(sn,Ji)=>sn.isCollapsed!==Ge&&Ji<Xe);At.push(...yi)}}else{let Jt=It.getRegionsInside(null,(ai,yi)=>ai.isCollapsed!==Ge&&yi<Xe);At.push(...Jt)}It.toggleCollapseState(At)}function h(It,Ge,Xe,kt){let At=[];for(let Jt of kt){let ai=It.getAllRegionsAtLine(Jt,(yi,sn)=>yi.isCollapsed!==Ge&&sn<=Xe);At.push(...ai)}It.toggleCollapseState(At)}function L(It,Ge,Xe){let kt=[];for(let At of Xe){let Jt=It.getAllRegionsAtLine(At,ai=>ai.isCollapsed!==Ge);Jt.length>0&&kt.push(Jt[0])}It.toggleCollapseState(kt)}function v(It,Ge,Xe,kt){let At=(ai,yi)=>yi===Ge&&ai.isCollapsed!==Xe&&!kt.some(sn=>ai.containsLine(sn)),Jt=It.getRegionsInside(null,At);It.toggleCollapseState(Jt)}function V(It,Ge,Xe){let kt=[];for(let ai of Xe)kt.push(It.getAllRegionsAtLine(ai,void 0)[0]);let At=ai=>kt.every(yi=>!yi.containedBy(ai)&&!ai.containedBy(yi))&&ai.isCollapsed!==Ge,Jt=It.getRegionsInside(null,At);It.toggleCollapseState(Jt)}function $(It,Ge,Xe){let kt=It.textModel,At=It.regions,Jt=[];for(let ai=At.length-1;ai>=0;ai--)if(Xe!==At.isCollapsed(ai)){let yi=At.getStartLineNumber(ai);Ge.test(kt.getLineContent(yi))&&Jt.push(At.toRegion(ai))}It.toggleCollapseState(Jt)}function ee(It,Ge,Xe){let kt=It.regions,At=[];for(let Jt=kt.length-1;Jt>=0;Jt--)Xe!==kt.isCollapsed(Jt)&&Ge===kt.getType(Jt)&&At.push(kt.toRegion(Jt));It.toggleCollapseState(At)}function de(It,Ge){let Xe=null,kt=Ge.getRegionAtLine(It);if(kt!==null&&(Xe=kt.startLineNumber,It===Xe)){let At=kt.parentIndex;At!==-1?Xe=Ge.regions.getStartLineNumber(At):Xe=null}return Xe}function pe(It,Ge){let Xe=Ge.getRegionAtLine(It);if(Xe!==null&&Xe.startLineNumber===It){if(It!==Xe.startLineNumber)return Xe.startLineNumber;{let kt=Xe.parentIndex,At=0;for(kt!==-1&&(At=Ge.regions.getStartLineNumber(Xe.parentIndex));Xe!==null;)if(Xe.regionIndex>0){if(Xe=Ge.regions.toRegion(Xe.regionIndex-1),Xe.startLineNumber<=At)return null;if(Xe.parentIndex===kt)return Xe.startLineNumber}else return null}}else if(Ge.regions.length>0)for(Xe=Ge.regions.toRegion(Ge.regions.length-1);Xe!==null;){if(Xe.startLineNumber<It)return Xe.startLineNumber;Xe.regionIndex>0?Xe=Ge.regions.toRegion(Xe.regionIndex-1):Xe=null}return null}function ve(It,Ge){let Xe=Ge.getRegionAtLine(It);if(Xe!==null&&Xe.startLineNumber===It){let kt=Xe.parentIndex,At=0;if(kt!==-1)At=Ge.regions.getEndLineNumber(Xe.parentIndex);else{if(Ge.regions.length===0)return null;At=Ge.regions.getEndLineNumber(Ge.regions.length-1)}for(;Xe!==null;)if(Xe.regionIndex<Ge.regions.length){if(Xe=Ge.regions.toRegion(Xe.regionIndex+1),Xe.startLineNumber>=At)return null;if(Xe.parentIndex===kt)return Xe.startLineNumber}else return null}else if(Ge.regions.length>0)for(Xe=Ge.regions.toRegion(0);Xe!==null;){if(Xe.startLineNumber>It)return Xe.startLineNumber;Xe.regionIndex<Ge.regions.length?Xe=Ge.regions.toRegion(Xe.regionIndex+1):Xe=null}return null}var xe=c(9488),le=c(24314);class Y{constructor(Ge){this._updateEventEmitter=new D.Q5,this._foldingModel=Ge,this._foldingModelListener=Ge.onDidChange(Xe=>this.updateHiddenRanges()),this._hiddenRanges=[],Ge.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let Ge=!1,Xe=[],kt=0,At=0,Jt=Number.MAX_VALUE,ai=-1,yi=this._foldingModel.regions;for(;kt<yi.length;kt++){if(!yi.isCollapsed(kt))continue;let sn=yi.getStartLineNumber(kt)+1,Ji=yi.getEndLineNumber(kt);Jt<=sn&&Ji<=ai||(!Ge&&At<this._hiddenRanges.length&&this._hiddenRanges[At].startLineNumber===sn&&this._hiddenRanges[At].endLineNumber===Ji?(Xe.push(this._hiddenRanges[At]),At++):(Ge=!0,Xe.push(new le.e(sn,1,Ji,1))),Jt=sn,ai=Ji)}(Ge||At<this._hiddenRanges.length)&&this.applyHiddenRanges(Xe)}applyMemento(Ge){if(!Array.isArray(Ge)||Ge.length===0)return!1;let Xe=[];for(let kt of Ge){if(!kt.startLineNumber||!kt.endLineNumber)return!1;Xe.push(new le.e(kt.startLineNumber+1,1,kt.endLineNumber,1))}return this.applyHiddenRanges(Xe),!0}getMemento(){return this._hiddenRanges.map(Ge=>({startLineNumber:Ge.startLineNumber-1,endLineNumber:Ge.endLineNumber}))}applyHiddenRanges(Ge){this._hiddenRanges=Ge,this._updateEventEmitter.fire(Ge)}hasRanges(){return this._hiddenRanges.length>0}isHidden(Ge){return G(this._hiddenRanges,Ge)!==null}adjustSelections(Ge){let Xe=!1,kt=this._foldingModel.textModel,At=null,Jt=ai=>((!At||!j(ai,At))&&(At=G(this._hiddenRanges,ai)),At?At.startLineNumber-1:null);for(let ai=0,yi=Ge.length;ai<yi;ai++){let sn=Ge[ai],Ji=Jt(sn.startLineNumber);Ji&&(sn=sn.setStartPosition(Ji,kt.getLineMaxColumn(Ji)),Xe=!0);let Qn=Jt(sn.endLineNumber);Qn&&(sn=sn.setEndPosition(Qn,kt.getLineMaxColumn(Qn)),Xe=!0),Ge[ai]=sn}return Xe}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function j(It,Ge){return It>=Ge.startLineNumber&&It<=Ge.endLineNumber}function G(It,Ge){let Xe=(0,xe.lG)(It,kt=>Ge<kt.startLineNumber)-1;return Xe>=0&&It[Xe].endLineNumber>=Ge?It[Xe]:null}var q=c(24979);const m=5e3,b="indent";class F{constructor(Ge){this.editorModel=Ge,this.id=b}dispose(){}compute(Ge){let Xe=g.zu.getFoldingRules(this.editorModel.getLanguageId()),kt=Xe&&!!Xe.offSide,At=Xe&&Xe.markers;return Promise.resolve(me(this.editorModel,kt,At))}}class te{constructor(Ge){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=Ge}insertFirst(Ge,Xe,kt){if(Ge>r||Xe>r)return;let At=this._length;this._startIndexes[At]=Ge,this._endIndexes[At]=Xe,this._length++,kt<1e3&&(this._indentOccurrences[kt]=(this._indentOccurrences[kt]||0)+1)}toIndentRanges(Ge){if(this._length<=this._foldingRangesLimit){let Xe=new Uint32Array(this._length),kt=new Uint32Array(this._length);for(let At=this._length-1,Jt=0;At>=0;At--,Jt++)Xe[Jt]=this._startIndexes[At],kt[Jt]=this._endIndexes[At];return new w(Xe,kt)}else{let Xe=0,kt=this._indentOccurrences.length;for(let yi=0;yi<this._indentOccurrences.length;yi++){let sn=this._indentOccurrences[yi];if(sn){if(sn+Xe>this._foldingRangesLimit){kt=yi;break}Xe+=sn}}const At=Ge.getOptions().tabSize;let Jt=new Uint32Array(this._foldingRangesLimit),ai=new Uint32Array(this._foldingRangesLimit);for(let yi=this._length-1,sn=0;yi>=0;yi--){let Ji=this._startIndexes[yi],Qn=Ge.getLineContent(Ji),Ui=q.yO.computeIndentLevel(Qn,At);(Ui<kt||Ui===kt&&Xe++<this._foldingRangesLimit)&&(Jt[sn]=Ji,ai[sn]=this._endIndexes[yi],sn++)}return new w(Jt,ai)}}}function me(It,Ge,Xe,kt=m){const At=It.getOptions().tabSize;let Jt=new te(kt),ai;Xe&&(ai=new RegExp(`(${Xe.start.source})|(?:${Xe.end.source})`));let yi=[],sn=It.getLineCount()+1;yi.push({indent:-1,endAbove:sn,line:sn});for(let Ji=It.getLineCount();Ji>0;Ji--){let Qn=It.getLineContent(Ji),Ui=q.yO.computeIndentLevel(Qn,At),on=yi[yi.length-1];if(Ui===-1){Ge&&(on.endAbove=Ji);continue}let wt;if(ai&&(wt=Qn.match(ai)))if(wt[1]){let ft=yi.length-1;for(;ft>0&&yi[ft].indent!==-2;)ft--;if(ft>0){yi.length=ft+1,on=yi[ft],Jt.insertFirst(Ji,on.line,Ui),on.line=Ji,on.indent=Ui,on.endAbove=Ji;continue}}else{yi.push({indent:-2,endAbove:Ji,line:Ji});continue}if(on.indent>Ui){do yi.pop(),on=yi[yi.length-1];while(on.indent>Ui);let ft=on.endAbove-1;ft-Ji>=1&&Jt.insertFirst(Ji,ft,Ui)}on.indent===Ui?on.endAbove=Ji:yi.push({indent:Ui,endAbove:Ji,line:Ji})}return Jt.toIndentRanges(It)}const ue=5e3,Oe={},Re="syntax";class et{constructor(Ge,Xe,kt,At=ue){this.editorModel=Ge,this.providers=Xe,this.limit=At,this.id=Re;for(const Jt of Xe)typeof Jt.onDidChange=="function"&&(this.disposables||(this.disposables=new P.SL),this.disposables.add(Jt.onDidChange(kt)))}compute(Ge){return Dt(this.providers,this.editorModel,Ge).then(Xe=>Xe?Mt(Xe,this.limit):null)}dispose(){var Ge;(Ge=this.disposables)===null||Ge===void 0||Ge.dispose()}}function Dt(It,Ge,Xe){let kt=null,At=It.map((Jt,ai)=>Promise.resolve(Jt.provideFoldingRanges(Ge,Oe,Xe)).then(yi=>{if(!Xe.isCancellationRequested&&Array.isArray(yi)){Array.isArray(kt)||(kt=[]);let sn=Ge.getLineCount();for(let Ji of yi)Ji.start>0&&Ji.end>Ji.start&&Ji.end<=sn&&kt.push({start:Ji.start,end:Ji.end,rank:ai,kind:Ji.kind})}},O.Cp));return Promise.all(At).then(Jt=>kt)}class ht{constructor(Ge){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=Ge}add(Ge,Xe,kt,At){if(Ge>r||Xe>r)return;let Jt=this._length;this._startIndexes[Jt]=Ge,this._endIndexes[Jt]=Xe,this._nestingLevels[Jt]=At,this._types[Jt]=kt,this._length++,At<30&&(this._nestingLevelCounts[At]=(this._nestingLevelCounts[At]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let Ge=new Uint32Array(this._length),Xe=new Uint32Array(this._length);for(let kt=0;kt<this._length;kt++)Ge[kt]=this._startIndexes[kt],Xe[kt]=this._endIndexes[kt];return new w(Ge,Xe,this._types)}else{let Ge=0,Xe=this._nestingLevelCounts.length;for(let ai=0;ai<this._nestingLevelCounts.length;ai++){let yi=this._nestingLevelCounts[ai];if(yi){if(yi+Ge>this._foldingRangesLimit){Xe=ai;break}Ge+=yi}}let kt=new Uint32Array(this._foldingRangesLimit),At=new Uint32Array(this._foldingRangesLimit),Jt=[];for(let ai=0,yi=0;ai<this._length;ai++){let sn=this._nestingLevels[ai];(sn<Xe||sn===Xe&&Ge++<this._foldingRangesLimit)&&(kt[yi]=this._startIndexes[ai],At[yi]=this._endIndexes[ai],Jt[yi]=this._types[ai],yi++)}return new w(kt,At,Jt)}}}function Mt(It,Ge){let Xe=It.sort((ai,yi)=>{let sn=ai.start-yi.start;return sn===0&&(sn=ai.rank-yi.rank),sn}),kt=new ht(Ge),At,Jt=[];for(let ai of Xe)if(!At)At=ai,kt.add(ai.start,ai.end,ai.kind&&ai.kind.value,Jt.length);else if(ai.start>At.start)if(ai.end<=At.end)Jt.push(At),At=ai,kt.add(ai.start,ai.end,ai.kind&&ai.kind.value,Jt.length);else{if(ai.start>At.end){do At=Jt.pop();while(At&&ai.start>At.end);At&&Jt.push(At),At=ai}kt.add(ai.start,ai.end,ai.kind&&ai.kind.value,Jt.length)}return kt.toIndentRanges()}const Je="init";class tt{constructor(Ge,Xe,kt,At){if(this.editorModel=Ge,this.id=Je,Xe.length){let Jt=ai=>({range:{startLineNumber:ai.startLineNumber,startColumn:0,endLineNumber:ai.endLineNumber,endColumn:Ge.getLineLength(ai.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=Ge.deltaDecorations([],Xe.map(Jt)),this.timeout=setTimeout(kt,At)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(Ge){let Xe=[];if(this.decorationIds)for(let kt of this.decorationIds){let At=this.editorModel.getDecorationRange(kt);At&&Xe.push({start:At.startLineNumber,end:At.endLineNumber,rank:1})}return Promise.resolve(Mt(Xe,Number.MAX_VALUE))}}var ke=c(63580),fe=c(38819),Ie=c(73910),nt=c(97781),at=c(73046),ot=c(59554);const Ne=(0,ot.q5)("folding-expanded",at.lA.chevronDown,(0,ke.N)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),Pe=(0,ot.q5)("folding-collapsed",at.lA.chevronRight,(0,ke.N)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin."));class ye{constructor(Ge){this.editor=Ge,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(Ge,Xe){return Xe?ye.HIDDEN_RANGE_DECORATION:Ge?this.showFoldingHighlights?ye.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:ye.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?ye.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:ye.EXPANDED_VISUAL_DECORATION}deltaDecorations(Ge,Xe){return this.editor.deltaDecorations(Ge,Xe)}changeDecorations(Ge){return this.editor.changeDecorations(Ge)}}ye.COLLAPSED_VISUAL_DECORATION=q.qx.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:nt.kS.asClassName(Pe)}),ye.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=q.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:nt.kS.asClassName(Pe)}),ye.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=q.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:nt.kS.asClassName(Ne)}),ye.EXPANDED_VISUAL_DECORATION=q.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+nt.kS.asClassName(Ne)}),ye.HIDDEN_RANGE_DECORATION=q.qx.register({description:"folding-hidden-range-decoration",stickiness:1});var Ze=function(It,Ge,Xe,kt){var At=arguments.length,Jt=At<3?Ge:kt===null?kt=Object.getOwnPropertyDescriptor(Ge,Xe):kt,ai;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Jt=Reflect.decorate(It,Ge,Xe,kt);else for(var yi=It.length-1;yi>=0;yi--)(ai=It[yi])&&(Jt=(At<3?ai(Jt):At>3?ai(Ge,Xe,Jt):ai(Ge,Xe))||Jt);return At>3&&Jt&&Object.defineProperty(Ge,Xe,Jt),Jt},it=function(It,Ge){return function(Xe,kt){Ge(Xe,kt,It)}};const Ft=new fe.uy("foldingEnabled",!1);let ei=class pu extends P.JT{constructor(Ge,Xe){super(),this.contextKeyService=Xe,this.localToDispose=this._register(new P.SL),this.editor=Ge;const kt=this.editor.getOptions();this._isEnabled=kt.get(37),this._useFoldingProviders=kt.get(38)!=="indentation",this._unfoldOnClickAfterEndOfLine=kt.get(41),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=kt.get(40),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new ye(Ge),this.foldingDecorationProvider.autoHideFoldingControls=kt.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=kt.get(39),this.foldingEnabled=Ft.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(At=>{if(At.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),At.hasChanged(98)||At.hasChanged(39)){const Jt=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=Jt.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=Jt.get(39),this.onModelContentChanged()}At.hasChanged(38)&&(this._useFoldingProviders=this.editor.getOptions().get(38)!=="indentation",this.onFoldingStrategyChanged()),At.hasChanged(41)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(41)),At.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(Ge){return Ge.getContribution(pu.ID)}saveViewState(){let Ge=this.editor.getModel();if(!Ge||!this._isEnabled||Ge.isTooLargeForTokenization())return{};if(this.foldingModel){let Xe=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),kt=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:Xe,lineCount:Ge.getLineCount(),provider:kt,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(Ge){let Xe=this.editor.getModel();if(!Xe||!this._isEnabled||Xe.isTooLargeForTokenization()||!this.hiddenRangeModel||!Ge||Ge.lineCount!==Xe.getLineCount()||(this._currentModelHasFoldedImports=!!Ge.foldedImports,!Ge.collapsedRegions))return;(Ge.provider===Re||Ge.provider===Je)&&(this.foldingStateMemento=Ge);const kt=Ge.collapsedRegions;if(this.hiddenRangeModel.applyMemento(kt)){const At=this.getFoldingModel();At&&At.then(Jt=>{if(Jt){this._restoringViewState=!0;try{Jt.applyMemento(kt)}finally{this._restoringViewState=!1}}}).then(void 0,O.dL)}}onModelChanged(){this.localToDispose.clear();let Ge=this.editor.getModel();!this._isEnabled||!Ge||Ge.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new f(Ge,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new Y(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(Xe=>this.onHiddenRangesChanges(Xe))),this.updateScheduler=new E.vp(200),this.cursorChangedScheduler=new E.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(N.aC.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(Xe=>this.onEditorMouseDown(Xe))),this.localToDispose.add(this.editor.onMouseUp(Xe=>this.onEditorMouseUp(Xe))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(Ge){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new F(Ge),this._useFoldingProviders&&this.foldingModel){let Xe=N.aC.ordered(this.foldingModel.textModel);if(Xe.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new tt(Ge,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);Xe.length>0&&(this.rangeProvider=new et(Ge,Xe,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const Ge=this.foldingModel;if(!Ge)return null;const Xe=this.getRangeProvider(Ge.textModel);let kt=this.foldingRegionPromise=(0,E.PG)(At=>Xe.compute(At));return kt.then(At=>{if(At&&kt===this.foldingRegionPromise){let Jt;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const sn=At.setCollapsedAllOfType(N.AD.Imports.value,!0);sn&&(Jt=R.ZF.capture(this.editor),this._currentModelHasFoldedImports=sn)}let ai=this.editor.getSelections(),yi=ai?ai.map(sn=>sn.startLineNumber):[];Ge.update(At,yi),Jt&&Jt.restore(this.editor)}return Ge})}).then(void 0,Ge=>((0,O.dL)(Ge),null)))}onHiddenRangesChanges(Ge){if(this.hiddenRangeModel&&Ge.length&&!this._restoringViewState){let Xe=this.editor.getSelections();Xe&&this.hiddenRangeModel.adjustSelections(Xe)&&this.editor.setSelections(Xe)}this.editor.setHiddenAreas(Ge)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const Ge=this.getFoldingModel();Ge&&Ge.then(Xe=>{if(Xe){let kt=this.editor.getSelections();if(kt&&kt.length>0){let At=[];for(let Jt of kt){let ai=Jt.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(ai)&&At.push(...Xe.getAllRegionsAtLine(ai,yi=>yi.isCollapsed&&ai>yi.startLineNumber))}At.length&&(Xe.toggleCollapseState(At),this.reveal(kt[0].getPosition()))}}}).then(void 0,O.dL)}onEditorMouseDown(Ge){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!Ge.target||!Ge.target.range||!Ge.event.leftButton&&!Ge.event.middleButton)return;const Xe=Ge.target.range;let kt=!1;switch(Ge.target.type){case 4:const At=Ge.target.detail,Jt=Ge.target.element.offsetLeft;if(At.offsetX-Jt<5)return;kt=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!Ge.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let yi=this.editor.getModel();if(yi&&Xe.startColumn===yi.getLineMaxColumn(Xe.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:Xe.startLineNumber,iconClicked:kt}}onEditorMouseUp(Ge){const Xe=this.getFoldingModel();if(!Xe||!this.mouseDownInfo||!Ge.target)return;let kt=this.mouseDownInfo.lineNumber,At=this.mouseDownInfo.iconClicked,Jt=Ge.target.range;if(!(!Jt||Jt.startLineNumber!==kt)){if(At){if(Ge.target.type!==4)return}else{let ai=this.editor.getModel();if(!ai||Jt.startColumn!==ai.getLineMaxColumn(kt))return}Xe.then(ai=>{if(ai){let yi=ai.getRegionAtLine(kt);if(yi&&yi.startLineNumber===kt){let sn=yi.isCollapsed;if(At||sn){let Ji=Ge.event.altKey,Qn=[];if(Ji){let Ui=wt=>!wt.containedBy(yi)&&!yi.containedBy(wt),on=ai.getRegionsInside(null,Ui);for(const wt of on)wt.isCollapsed&&Qn.push(wt);Qn.length===0&&(Qn=on)}else{let Ui=Ge.event.middleButton||Ge.event.shiftKey;if(Ui)for(const on of ai.getRegionsInside(yi))on.isCollapsed===sn&&Qn.push(on);(sn||!Ui||Qn.length===0)&&Qn.push(yi)}ai.toggleCollapseState(Qn),this.reveal({lineNumber:kt,column:1})}}}}).then(void 0,O.dL)}}reveal(Ge){this.editor.revealPositionInCenterIfOutsideViewport(Ge,0)}};ei.ID="editor.contrib.folding",ei=Ze([it(1,fe.i6)],ei);class bi extends B.R6{runEditorCommand(Ge,Xe,kt){let At=ei.get(Xe);if(!At)return;let Jt=At.getFoldingModel();if(Jt)return this.reportTelemetry(Ge,Xe),Jt.then(ai=>{if(ai){this.invoke(At,ai,Xe,kt);const yi=Xe.getSelection();yi&&At.reveal(yi.getStartPosition())}})}getSelectedLines(Ge){let Xe=Ge.getSelections();return Xe?Xe.map(kt=>kt.startLineNumber):[]}getLineNumbers(Ge,Xe){return Ge&&Ge.selectionLines?Ge.selectionLines.map(kt=>kt+1):this.getSelectedLines(Xe)}run(Ge,Xe){}}function ii(It){if(!X.o8(It)){if(!X.Kn(It))return!1;const Ge=It;if(!X.o8(Ge.levels)&&!X.hj(Ge.levels)||!X.o8(Ge.direction)&&!X.HD(Ge.direction)||!X.o8(Ge.selectionLines)&&(!X.kJ(Ge.selectionLines)||!Ge.selectionLines.every(X.hj)))return!1}return!0}class Ot extends bi{constructor(){super({id:"editor.unfold",label:ke.N("unfoldAction.label","Unfold"),alias:"Unfold",precondition:Ft,kbOpts:{kbExpr:s.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:ii,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Ge,Xe,kt,At){let Jt=At&&At.levels||1,ai=this.getLineNumbers(At,kt);At&&At.direction==="up"?h(Xe,!1,Jt,ai):S(Xe,!1,Jt,ai)}}class en extends bi{constructor(){super({id:"editor.unfoldRecursively",label:ke.N("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Ft,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2137),weight:100}})}invoke(Ge,Xe,kt,At){S(Xe,!1,Number.MAX_VALUE,this.getSelectedLines(kt))}}class ui extends bi{constructor(){super({id:"editor.fold",label:ke.N("foldAction.label","Fold"),alias:"Fold",precondition:Ft,kbOpts:{kbExpr:s.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:ii,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Ge,Xe,kt,At){let Jt=this.getLineNumbers(At,kt);const ai=At&&At.levels,yi=At&&At.direction;typeof ai!="number"&&typeof yi!="string"?L(Xe,!0,Jt):yi==="up"?h(Xe,!0,ai||1,Jt):S(Xe,!0,ai||1,Jt)}}class Ke extends bi{constructor(){super({id:"editor.toggleFold",label:ke.N("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:Ft,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2090),weight:100}})}invoke(Ge,Xe,kt){let At=this.getSelectedLines(kt);p(Xe,1,At)}}class st extends bi{constructor(){super({id:"editor.foldRecursively",label:ke.N("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Ft,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2135),weight:100}})}invoke(Ge,Xe,kt){let At=this.getSelectedLines(kt);S(Xe,!0,Number.MAX_VALUE,At)}}class Mi extends bi{constructor(){super({id:"editor.foldAllBlockComments",label:ke.N("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Ft,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2133),weight:100}})}invoke(Ge,Xe,kt){if(Xe.regions.hasTypes())ee(Xe,N.AD.Comment.value,!0);else{const At=kt.getModel();if(!At)return;const Jt=g.zu.getComments(At.getLanguageId());if(Jt&&Jt.blockCommentStartToken){let ai=new RegExp("^\\s*"+(0,y.ec)(Jt.blockCommentStartToken));$(Xe,ai,!0)}}}}class ci extends bi{constructor(){super({id:"editor.foldAllMarkerRegions",label:ke.N("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Ft,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2077),weight:100}})}invoke(Ge,Xe,kt){if(Xe.regions.hasTypes())ee(Xe,N.AD.Region.value,!0);else{const At=kt.getModel();if(!At)return;const Jt=g.zu.getFoldingRules(At.getLanguageId());if(Jt&&Jt.markers&&Jt.markers.start){let ai=new RegExp(Jt.markers.start);$(Xe,ai,!0)}}}}class zi extends bi{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:ke.N("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Ft,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2078),weight:100}})}invoke(Ge,Xe,kt){if(Xe.regions.hasTypes())ee(Xe,N.AD.Region.value,!1);else{const At=kt.getModel();if(!At)return;const Jt=g.zu.getFoldingRules(At.getLanguageId());if(Jt&&Jt.markers&&Jt.markers.start){let ai=new RegExp(Jt.markers.start);$(Xe,ai,!1)}}}}class kn extends bi{constructor(){super({id:"editor.foldAllExcept",label:ke.N("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:Ft,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2131),weight:100}})}invoke(Ge,Xe,kt){let At=this.getSelectedLines(kt);V(Xe,!0,At)}}class Ki extends bi{constructor(){super({id:"editor.unfoldAllExcept",label:ke.N("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:Ft,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2129),weight:100}})}invoke(Ge,Xe,kt){let At=this.getSelectedLines(kt);V(Xe,!1,At)}}class ls extends bi{constructor(){super({id:"editor.foldAll",label:ke.N("foldAllAction.label","Fold All"),alias:"Fold All",precondition:Ft,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2069),weight:100}})}invoke(Ge,Xe,kt){S(Xe,!0)}}class Bn extends bi{constructor(){super({id:"editor.unfoldAll",label:ke.N("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Ft,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2088),weight:100}})}invoke(Ge,Xe,kt){S(Xe,!1)}}class On extends bi{getFoldingLevel(){return parseInt(this.id.substr(On.ID_PREFIX.length))}invoke(Ge,Xe,kt){v(Xe,this.getFoldingLevel(),!0,this.getSelectedLines(kt))}}On.ID_PREFIX="editor.foldLevel",On.ID=It=>On.ID_PREFIX+It;class Zi extends bi{constructor(){super({id:"editor.gotoParentFold",label:ke.N("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:Ft,kbOpts:{kbExpr:s.u.editorTextFocus,weight:100}})}invoke(Ge,Xe,kt){let At=this.getSelectedLines(kt);if(At.length>0){let Jt=de(At[0],Xe);Jt!==null&&kt.setSelection({startLineNumber:Jt,startColumn:1,endLineNumber:Jt,endColumn:1})}}}class Mn extends bi{constructor(){super({id:"editor.gotoPreviousFold",label:ke.N("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:Ft,kbOpts:{kbExpr:s.u.editorTextFocus,weight:100}})}invoke(Ge,Xe,kt){let At=this.getSelectedLines(kt);if(At.length>0){let Jt=pe(At[0],Xe);Jt!==null&&kt.setSelection({startLineNumber:Jt,startColumn:1,endLineNumber:Jt,endColumn:1})}}}class an extends bi{constructor(){super({id:"editor.gotoNextFold",label:ke.N("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:Ft,kbOpts:{kbExpr:s.u.editorTextFocus,weight:100}})}invoke(Ge,Xe,kt){let At=this.getSelectedLines(kt);if(At.length>0){let Jt=ve(At[0],Xe);Jt!==null&&kt.setSelection({startLineNumber:Jt,startColumn:1,endLineNumber:Jt,endColumn:1})}}}(0,B._K)(ei.ID,ei),(0,B.Qr)(Ot),(0,B.Qr)(en),(0,B.Qr)(ui),(0,B.Qr)(st),(0,B.Qr)(ls),(0,B.Qr)(Bn),(0,B.Qr)(Mi),(0,B.Qr)(ci),(0,B.Qr)(zi),(0,B.Qr)(kn),(0,B.Qr)(Ki),(0,B.Qr)(Ke),(0,B.Qr)(Zi),(0,B.Qr)(Mn),(0,B.Qr)(an);for(let It=1;It<=7;It++)(0,B.QG)(new On({id:On.ID(It),label:ke.N("foldLevelAction.label","Fold Level {0}",It),alias:`Fold Level ${It}`,precondition:Ft,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,Q.gx)(2089,2048|21+It),weight:100}}));const $e=(0,Ie.P6)("editor.foldBackground",{light:(0,Ie.Zn)(Ie.hE,.3),dark:(0,Ie.Zn)(Ie.hE,.3),hc:null},ke.N("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),Tt=(0,Ie.P6)("editorGutter.foldingControlForeground",{dark:Ie.XZ,light:Ie.XZ,hc:Ie.XZ},ke.N("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,nt.Ic)((It,Ge)=>{const Xe=It.getColor($e);Xe&&Ge.addRule(`.monaco-editor .folded-background { background-color: ${Xe}; }`);const kt=It.getColor(Tt);kt&&Ge.addRule(`
		.monaco-editor .cldr${nt.kS.asCSSSelector(Ne)},
		.monaco-editor .cldr${nt.kS.asCSSSelector(Pe)} {
			color: ${kt} !important;
		}
		`)})},93761:function(Qt,He,c){"use strict";c.d(He,{xC:function(){return $},Zg:function(){return v},x$:function(){return ee},Qq:function(){return pe},Qs:function(){return Y}});var E=c(35996),O=c(9488),Q=c(71050),P=c(17301),y=c(56899),X=c(91741),R=c(98401),B=c(70666),s=c(55812),N=c(65520),g=c(50187),D=c(24314),H=c(3860),r=c(10351),T=c(90469),w=c(88216),x=c(69939),f=c(63580),p=c(94565);class S{constructor(G){this.value=G,this._lower=G.toLowerCase()}static toKey(G){return typeof G=="string"?G.toLowerCase():G._lower}}var h=c(72065),L=function(j,G,q,m){function b(F){return F instanceof q?F:new q(function(te){te(F)})}return new(q||(q=Promise))(function(F,te){function me(Re){try{Oe(m.next(Re))}catch(et){te(et)}}function ue(Re){try{Oe(m.throw(Re))}catch(et){te(et)}}function Oe(Re){Re.done?F(Re.value):b(Re.value).then(me,ue)}Oe((m=m.apply(j,G||[])).next())})};function v(j){if(j=j.filter(b=>b.range),!j.length)return;let{range:G}=j[0];for(let b=1;b<j.length;b++)G=D.e.plusRange(G,j[b].range);const{startLineNumber:q,endLineNumber:m}=G;q===m?j.length===1?(0,E.Z9)(f.N("hint11","Made 1 formatting edit on line {0}",q)):(0,E.Z9)(f.N("hintn1","Made {0} formatting edits on line {1}",j.length,q)):j.length===1?(0,E.Z9)(f.N("hint1n","Made 1 formatting edit between lines {0} and {1}",q,m)):(0,E.Z9)(f.N("hintnn","Made {0} formatting edits between lines {1} and {2}",j.length,q,m))}function V(j){const G=[],q=new Set,m=r.Az.ordered(j);for(const F of m)G.push(F),F.extensionId&&q.add(S.toKey(F.extensionId));const b=r.vN.ordered(j);for(const F of b){if(F.extensionId){if(q.has(S.toKey(F.extensionId)))continue;q.add(S.toKey(F.extensionId))}G.push({displayName:F.displayName,extensionId:F.extensionId,provideDocumentFormattingEdits(te,me,ue){return F.provideDocumentRangeFormattingEdits(te,te.getFullModelRange(),me,ue)}})}return G}class ${static setFormatterSelector(G){return{dispose:$._selectors.unshift(G)}}static select(G,q,m){return L(this,void 0,void 0,function*(){if(G.length===0)return;const b=y.$.first($._selectors);if(b)return yield b(G,q,m)})}}$._selectors=new X.S;function ee(j,G,q,m,b,F){return L(this,void 0,void 0,function*(){const te=j.get(h.TG),me=(0,N.CL)(G)?G.getModel():G,ue=r.vN.ordered(me),Oe=yield $.select(ue,me,m);Oe&&(b.report(Oe),yield te.invokeFunction(de,Oe,G,q,F))})}function de(j,G,q,m,b){return L(this,void 0,void 0,function*(){const F=j.get(T.p);let te,me;(0,N.CL)(q)?(te=q.getModel(),me=new s.Dl(q,5,void 0,b)):(te=q,me=new s.YQ(q,b));let ue=[],Oe=0;for(let Mt of(0,O._2)(m).sort(D.e.compareRangesUsingStarts))Oe>0&&D.e.areIntersectingOrTouching(ue[Oe-1],Mt)?ue[Oe-1]=D.e.fromPositions(ue[Oe-1].getStartPosition(),Mt.getEndPosition()):Oe=ue.push(Mt);const Re=Mt=>L(this,void 0,void 0,function*(){return(yield G.provideDocumentRangeFormattingEdits(te,Mt,te.getFormattingOptions(),me.token))||[]}),et=(Mt,Je)=>{if(!Mt.length||!Je.length)return!1;const tt=Mt.reduce((ke,fe)=>D.e.plusRange(ke,fe.range),Mt[0].range);if(!Je.some(ke=>D.e.intersectRanges(tt,ke.range)))return!1;for(let ke of Mt)for(let fe of Je)if(D.e.intersectRanges(ke.range,fe.range))return!0;return!1},Dt=[],ht=[];try{for(let Mt of ue){if(me.token.isCancellationRequested)return!0;ht.push(yield Re(Mt))}for(let Mt=0;Mt<ue.length;++Mt)for(let Je=Mt+1;Je<ue.length;++Je){if(me.token.isCancellationRequested)return!0;if(et(ht[Mt],ht[Je])){const tt=D.e.plusRange(ue[Mt],ue[Je]),ke=yield Re(tt);ue.splice(Je,1),ue.splice(Mt,1),ue.push(tt),ht.splice(Je,1),ht.splice(Mt,1),ht.push(ke),Mt=0,Je=0}}for(let Mt of ht){if(me.token.isCancellationRequested)return!0;const Je=yield F.computeMoreMinimalEdits(te.uri,Mt);Je&&Dt.push(...Je)}}finally{me.dispose()}if(Dt.length===0)return!1;if((0,N.CL)(q))x.V.execute(q,Dt,!0),v(Dt),q.revealPositionInCenterIfOutsideViewport(q.getPosition(),1);else{const[{range:Mt}]=Dt,Je=new H.Y(Mt.startLineNumber,Mt.startColumn,Mt.endLineNumber,Mt.endColumn);te.pushEditOperations([Je],Dt.map(tt=>({text:tt.text,range:D.e.lift(tt.range),forceMoveMarkers:!0})),tt=>{for(const{range:ke}of tt)if(D.e.areIntersectingOrTouching(ke,Je))return[new H.Y(ke.startLineNumber,ke.startColumn,ke.endLineNumber,ke.endColumn)];return null})}return!0})}function pe(j,G,q,m,b){return L(this,void 0,void 0,function*(){const F=j.get(h.TG),te=(0,N.CL)(G)?G.getModel():G,me=V(te),ue=yield $.select(me,te,q);ue&&(m.report(ue),yield F.invokeFunction(ve,ue,G,q,b))})}function ve(j,G,q,m,b){return L(this,void 0,void 0,function*(){const F=j.get(T.p);let te,me;(0,N.CL)(q)?(te=q.getModel(),me=new s.Dl(q,5,void 0,b)):(te=q,me=new s.YQ(q,b));let ue;try{const Oe=yield G.provideDocumentFormattingEdits(te,te.getFormattingOptions(),me.token);if(ue=yield F.computeMoreMinimalEdits(te.uri,Oe),me.token.isCancellationRequested)return!0}finally{me.dispose()}if(!ue||ue.length===0)return!1;if((0,N.CL)(q))x.V.execute(q,ue,m!==2),m!==2&&(v(ue),q.revealPositionInCenterIfOutsideViewport(q.getPosition(),1));else{const[{range:Oe}]=ue,Re=new H.Y(Oe.startLineNumber,Oe.startColumn,Oe.endLineNumber,Oe.endColumn);te.pushEditOperations([Re],ue.map(et=>({text:et.text,range:D.e.lift(et.range),forceMoveMarkers:!0})),et=>{for(const{range:Dt}of et)if(D.e.areIntersectingOrTouching(Dt,Re))return[new H.Y(Dt.startLineNumber,Dt.startColumn,Dt.endLineNumber,Dt.endColumn)];return null})}return!0})}function xe(j,G,q,m,b){return L(this,void 0,void 0,function*(){const F=r.vN.ordered(G);for(const te of F){let me=yield Promise.resolve(te.provideDocumentRangeFormattingEdits(G,q,m,b)).catch(P.Cp);if((0,O.Of)(me))return yield j.computeMoreMinimalEdits(G.uri,me)}})}function le(j,G,q,m){return L(this,void 0,void 0,function*(){const b=V(G);for(const F of b){let te=yield Promise.resolve(F.provideDocumentFormattingEdits(G,q,m)).catch(P.Cp);if((0,O.Of)(te))return yield j.computeMoreMinimalEdits(G.uri,te)}})}function Y(j,G,q,m,b){const F=r.ln.ordered(G);return F.length===0||F[0].autoFormatTriggerCharacters.indexOf(m)<0?Promise.resolve(void 0):Promise.resolve(F[0].provideOnTypeFormattingEdits(G,q,m,b,Q.T.None)).catch(P.Cp).then(te=>j.computeMoreMinimalEdits(G.uri,te))}p.P.registerCommand("_executeFormatRangeProvider",function(j,...G){return L(this,void 0,void 0,function*(){const[q,m,b]=G;(0,R.p_)(B.o.isUri(q)),(0,R.p_)(D.e.isIRange(m));const F=j.get(w.S),te=j.get(T.p),me=yield F.createModelReference(q);try{return xe(te,me.object.textEditorModel,D.e.lift(m),b,Q.T.None)}finally{me.dispose()}})}),p.P.registerCommand("_executeFormatDocumentProvider",function(j,...G){return L(this,void 0,void 0,function*(){const[q,m]=G;(0,R.p_)(B.o.isUri(q));const b=j.get(w.S),F=j.get(T.p),te=yield b.createModelReference(q);try{return le(F,te.object.textEditorModel,m,Q.T.None)}finally{te.dispose()}})}),p.P.registerCommand("_executeFormatOnTypeProvider",function(j,...G){return L(this,void 0,void 0,function*(){const[q,m,b,F]=G;(0,R.p_)(B.o.isUri(q)),(0,R.p_)(g.L.isIPosition(m)),(0,R.p_)(typeof b=="string");const te=j.get(w.S),me=j.get(T.p),ue=yield te.createModelReference(q);try{return Y(me,ue.object.textEditorModel,g.L.lift(m),b,F)}finally{ue.dispose()}})})},44818:function(Qt,He,c){"use strict";c.r(He);var E=c(9488),O=c(71050),Q=c(17301),P=c(22258),y=c(5976),X=c(16830),R=c(11640),B=c(44906),s=c(24314),N=c(29102),g=c(10351),D=c(90469),H=c(93761),r=c(69939),T=c(63580),w=c(94565),x=c(38819),f=c(72065),p=c(90535),S=function(de,pe,ve,xe){var le=arguments.length,Y=le<3?pe:xe===null?xe=Object.getOwnPropertyDescriptor(pe,ve):xe,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(de,pe,ve,xe);else for(var G=de.length-1;G>=0;G--)(j=de[G])&&(Y=(le<3?j(Y):le>3?j(pe,ve,Y):j(pe,ve))||Y);return le>3&&Y&&Object.defineProperty(pe,ve,Y),Y},h=function(de,pe){return function(ve,xe){pe(ve,xe,de)}},L=function(de,pe,ve,xe){function le(Y){return Y instanceof ve?Y:new ve(function(j){j(Y)})}return new(ve||(ve=Promise))(function(Y,j){function G(b){try{m(xe.next(b))}catch(F){j(F)}}function q(b){try{m(xe.throw(b))}catch(F){j(F)}}function m(b){b.done?Y(b.value):le(b.value).then(G,q)}m((xe=xe.apply(de,pe||[])).next())})};let v=class{constructor(pe,ve){this._workerService=ve,this._callOnDispose=new y.SL,this._callOnModel=new y.SL,this._editor=pe,this._callOnDispose.add(pe.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(pe.onDidChangeModel(()=>this._update())),this._callOnDispose.add(pe.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(g.ln.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(48)||!this._editor.hasModel())return;const pe=this._editor.getModel(),[ve]=g.ln.ordered(pe);if(!ve||!ve.autoFormatTriggerCharacters)return;let xe=new B.q;for(let le of ve.autoFormatTriggerCharacters)xe.add(le.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(le=>{let Y=le.charCodeAt(le.length-1);xe.has(Y)&&this._trigger(String.fromCharCode(Y))}))}_trigger(pe){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const ve=this._editor.getModel(),xe=this._editor.getPosition();let le=!1;const Y=this._editor.onDidChangeModelContent(j=>{if(j.isFlush){le=!0,Y.dispose();return}for(let G=0,q=j.changes.length;G<q;G++)if(j.changes[G].range.endLineNumber<=xe.lineNumber){le=!0,Y.dispose();return}});(0,H.Qs)(this._workerService,ve,xe,pe,ve.getFormattingOptions()).then(j=>{Y.dispose(),!le&&(0,E.Of)(j)&&(r.V.execute(this._editor,j,!0),(0,H.Zg)(j))},j=>{throw Y.dispose(),j})}};v.ID="editor.contrib.autoFormat",v=S([h(1,D.p)],v);let V=class{constructor(pe,ve){this.editor=pe,this._instantiationService=ve,this._callOnDispose=new y.SL,this._callOnModel=new y.SL,this._callOnDispose.add(pe.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(pe.onDidChangeModel(()=>this._update())),this._callOnDispose.add(pe.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(g.vN.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(47)&&this.editor.hasModel()&&g.vN.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:pe})=>this._trigger(pe)))}_trigger(pe){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(H.x$,this.editor,pe,2,p.E.None,O.T.None).catch(Q.dL))}};V.ID="editor.contrib.formatOnPaste",V=S([h(1,f.TG)],V);class $ extends X.R6{constructor(){super({id:"editor.action.formatDocument",label:T.N("formatDocument.label","Format Document"),alias:"Format Document",precondition:x.Ao.and(N.u.notInCompositeEditor,N.u.writable,N.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:N.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(pe,ve){return L(this,void 0,void 0,function*(){if(ve.hasModel()){const xe=pe.get(f.TG);yield pe.get(p.e).showWhile(xe.invokeFunction(H.Qq,ve,1,p.E.None,O.T.None),250)}})}}class ee extends X.R6{constructor(){super({id:"editor.action.formatSelection",label:T.N("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:x.Ao.and(N.u.writable,N.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:N.u.editorTextFocus,primary:(0,P.gx)(2089,2084),weight:100},contextMenuOpts:{when:N.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(pe,ve){return L(this,void 0,void 0,function*(){if(!ve.hasModel())return;const xe=pe.get(f.TG),le=ve.getModel(),Y=ve.getSelections().map(G=>G.isEmpty()?new s.e(G.startLineNumber,1,G.startLineNumber,le.getLineMaxColumn(G.startLineNumber)):G);yield pe.get(p.e).showWhile(xe.invokeFunction(H.x$,ve,Y,1,p.E.None,O.T.None),250)})}}(0,X._K)(v.ID,v),(0,X._K)(V.ID,V),(0,X.Qr)($),(0,X.Qr)(ee),w.P.registerCommand("editor.action.format",de=>L(void 0,void 0,void 0,function*(){const pe=de.get(R.$).getFocusedCodeEditor();if(!pe||!pe.hasModel())return;const ve=de.get(w.H);pe.getSelection().isEmpty()?yield ve.executeCommand("editor.action.formatDocument"):yield ve.executeCommand("editor.action.formatSelection")}))},69939:function(Qt,He,c){"use strict";c.d(He,{V:function(){return Q}});var E=c(69386),O=c(24314);class Q{static _handleEolEdits(y,X){let R,B=[];for(let s of X)typeof s.eol=="number"&&(R=s.eol),s.range&&typeof s.text=="string"&&B.push(s);return typeof R=="number"&&y.hasModel()&&y.getModel().pushEOL(R),B}static _isFullModelReplaceEdit(y,X){if(!y.hasModel())return!1;const R=y.getModel(),B=R.validateRange(X.range);return R.getFullModelRange().equalsRange(B)}static execute(y,X,R){R&&y.pushUndoStop();const B=Q._handleEolEdits(y,X);B.length===1&&Q._isFullModelReplaceEdit(y,B[0])?y.executeEdits("formatEditsCommand",B.map(s=>E.h.replace(O.e.lift(s.range),s.text))):y.executeEdits("formatEditsCommand",B.map(s=>E.h.replaceMove(O.e.lift(s.range),s.text))),R&&y.pushUndoStop()}}},17369:function(Qt,He,c){"use strict";c.r(He),c.d(He,{ModesHoverController:function(){return Dr}});var E=c(22258),O=c(5976),Q=c(16830),P=c(24314),y=c(29102),X=c(71531),R=c(15393),B=c(17301),s=c(59365),N=c(98401),g=c(55812),D=c(50187),H=c(10351),r=c(88216),T=c(4669),w=c(1432);function x(be,a){return!!be[a]}class f{constructor(a,I){this.target=a.target,this.hasTriggerModifier=x(a.event,I.triggerModifier),this.hasSideBySideModifier=x(a.event,I.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=a.event.detail<=1}}class p{constructor(a,I){this.keyCodeIsTriggerKey=a.keyCode===I.triggerKey,this.keyCodeIsSideBySideKey=a.keyCode===I.triggerSideBySideKey,this.hasTriggerModifier=x(a,I.triggerModifier)}}class S{constructor(a,I,z,se){this.triggerKey=a,this.triggerModifier=I,this.triggerSideBySideKey=z,this.triggerSideBySideModifier=se}equals(a){return this.triggerKey===a.triggerKey&&this.triggerModifier===a.triggerModifier&&this.triggerSideBySideKey===a.triggerSideBySideKey&&this.triggerSideBySideModifier===a.triggerSideBySideModifier}}function h(be){return be==="altKey"?w.dz?new S(57,"metaKey",6,"altKey"):new S(5,"ctrlKey",6,"altKey"):w.dz?new S(6,"altKey",57,"metaKey"):new S(6,"altKey",5,"ctrlKey")}class L extends O.JT{constructor(a){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new T.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new T.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new T.Q5),this.onCancel=this._onCancel.event,this._editor=a,this._opts=h(this._editor.getOption(69)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(I=>{if(I.hasChanged(69)){const z=h(this._editor.getOption(69));if(this._opts.equals(z))return;this._opts=z,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(I=>this._onEditorMouseMove(new f(I,this._opts)))),this._register(this._editor.onMouseDown(I=>this._onEditorMouseDown(new f(I,this._opts)))),this._register(this._editor.onMouseUp(I=>this._onEditorMouseUp(new f(I,this._opts)))),this._register(this._editor.onKeyDown(I=>this._onEditorKeyDown(new p(I,this._opts)))),this._register(this._editor.onKeyUp(I=>this._onEditorKeyUp(new p(I,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(I=>this._onDidChangeCursorSelection(I))),this._register(this._editor.onDidChangeModel(I=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(I=>{(I.scrollTopChanged||I.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(a){a.selection&&a.selection.startColumn!==a.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(a){this._lastMouseMoveEvent=a,this._onMouseMoveOrRelevantKeyDown.fire([a,null])}_onEditorMouseDown(a){this._hasTriggerKeyOnMouseDown=a.hasTriggerModifier,this._lineNumberOnMouseDown=a.target.position?a.target.position.lineNumber:0}_onEditorMouseUp(a){const I=a.target.position?a.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===I&&this._onExecute.fire(a)}_onEditorKeyDown(a){this._lastMouseMoveEvent&&(a.keyCodeIsTriggerKey||a.keyCodeIsSideBySideKey&&a.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,a]):a.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(a){a.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var v=c(65321),V=c(90317),$=c(74741),ee=c(73046),de=c(41264),pe=c(36248),ve=c(11640),xe=c(84527),le=c(83080),Y=c(44742),j=c(24979);const G=new de.Il(new de.VS(0,122,204)),q={showArrow:!0,showFrame:!0,className:"",frameColor:G,arrowColor:G,keepEditorSelection:!1},m="vs.editor.contrib.zoneWidget";class b{constructor(a,I,z,se,ne,Se){this.id="",this.domNode=a,this.afterLineNumber=I,this.afterColumn=z,this.heightInLines=se,this._onDomNodeTop=ne,this._onComputedHeight=Se}onDomNodeTop(a){this._onDomNodeTop(a)}onComputedHeight(a){this._onComputedHeight(a)}}class F{constructor(a,I){this._id=a,this._domNode=I}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class te{constructor(a){this._editor=a,this._ruleName=te._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),v.uN(this._ruleName)}set color(a){this._color!==a&&(this._color=a,this._updateStyle())}set height(a){this._height!==a&&(this._height=a,this._updateStyle())}_updateStyle(){v.uN(this._ruleName),v.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(a){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:P.e.fromPositions(a),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}te._IdGenerator=new Y.R(".arrow-decoration-");class me{constructor(a,I={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new O.SL,this.container=null,this._isShowing=!1,this.editor=a,this.options=pe.I8(I),pe.jB(this.options,q,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(z=>{const se=this._getWidth(z);this.domNode.style.width=se+"px",this.domNode.style.left=this._getLeft(z)+"px",this._onWidth(se)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(a=>{this._viewZone&&a.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new te(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(a){a.frameColor&&(this.options.frameColor=a.frameColor),a.arrowColor&&(this.options.arrowColor=a.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let a=this.options.frameColor.toString();this.container.style.borderTopColor=a,this.container.style.borderBottomColor=a}if(this._arrow&&this.options.arrowColor){let a=this.options.arrowColor.toString();this._arrow.color=a}}_getWidth(a){return a.width-a.minimap.minimapWidth-a.verticalScrollbarWidth}_getLeft(a){return a.minimap.minimapWidth>0&&a.minimap.minimapLeft===0?a.minimap.minimapWidth:0}_onViewZoneTop(a){this.domNode.style.top=a+"px"}_onViewZoneHeight(a){if(this.domNode.style.height=`${a}px`,this.container){let I=a-this._decoratingElementsHeight();this.container.style.height=`${I}px`;const z=this.editor.getLayoutInfo();this._doLayout(I,this._getWidth(z))}this._resizeSash&&this._resizeSash.layout()}get position(){const[a]=this._positionMarkerId;if(!a)return;const I=this.editor.getModel();if(!I)return;const z=I.getDecorationRange(a);if(z)return z.getStartPosition()}show(a,I){const z=P.e.isIRange(a)?P.e.lift(a):P.e.fromPositions(a);this._isShowing=!0,this._showImpl(z,I),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:z,options:j.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(a=>{this._viewZone&&a.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let a=this.editor.getOption(58),I=0;if(this.options.showArrow){let z=Math.round(a/3);I+=2*z}if(this.options.showFrame){let z=Math.round(a/9);I+=2*z}return I}_showImpl(a,I){const z=a.getStartPosition(),se=this.editor.getLayoutInfo(),ne=this._getWidth(se);this.domNode.style.width=`${ne}px`,this.domNode.style.left=this._getLeft(se)+"px";const Se=document.createElement("div");Se.style.overflow="hidden";const je=this.editor.getOption(58),Vt=Math.max(12,this.editor.getLayoutInfo().height/je*.8);I=Math.min(I,Vt);let Ht=0,Et=0;if(this._arrow&&this.options.showArrow&&(Ht=Math.round(je/3),this._arrow.height=Ht,this._arrow.show(z)),this.options.showFrame&&(Et=Math.round(je/9)),this.editor.changeViewZones(Cn=>{this._viewZone&&Cn.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new b(Se,z.lineNumber,z.column,I,Hn=>this._onViewZoneTop(Hn),Hn=>this._onViewZoneHeight(Hn)),this._viewZone.id=Cn.addZone(this._viewZone),this._overlayWidget=new F(m+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const Cn=this.options.frameWidth?this.options.frameWidth:Et;this.container.style.borderTopWidth=Cn+"px",this.container.style.borderBottomWidth=Cn+"px"}let di=I*je-this._decoratingElementsHeight();this.container&&(this.container.style.top=Ht+"px",this.container.style.height=di+"px",this.container.style.overflow="hidden"),this._doLayout(di,ne),this.options.keepEditorSelection||this.editor.setSelection(a);const qi=this.editor.getModel();if(qi){const Cn=a.endLineNumber+1;Cn<=qi.getLineCount()?this.revealLine(Cn,!1):this.revealLine(qi.getLineCount(),!0)}}revealLine(a,I){I?this.editor.revealLineInCenter(a,0):this.editor.revealLine(a,0)}setCssClass(a,I){this.container&&(I&&this.container.classList.remove(I),this.container.classList.add(a))}_onWidth(a){}_doLayout(a,I){}_relayout(a){this._viewZone&&this._viewZone.heightInLines!==a&&this.editor.changeViewZones(I=>{this._viewZone&&(this._viewZone.heightInLines=a,I.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new le.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);let a;this._disposables.add(this._resizeSash.onDidStart(I=>{this._viewZone&&(a={startY:I.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{a=void 0})),this._disposables.add(this._resizeSash.onDidChange(I=>{if(a){let z=(I.currentY-a.startY)/this.editor.getOption(58),se=z<0?Math.ceil(z):Math.floor(z),ne=a.heightInLines+se;ne>5&&ne<35&&this._relayout(ne)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const a=this.editor.getLayoutInfo();return a.width-a.minimap.minimapWidth}}var ue=c(63580),Oe=c(42499),Re=c(38819),et=c(65026),Dt=c(72065),ht=c(73910),Mt=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},Je=function(be,a){return function(I,z){a(I,z,be)}};const tt=(0,Dt.yh)("IPeekViewService");(0,et.z)(tt,class{constructor(){this._widgets=new Map}addExclusiveWidget(be,a){const I=this._widgets.get(be);I&&(I.listener.dispose(),I.widget.dispose());const z=()=>{const se=this._widgets.get(be);se&&se.widget===a&&(se.listener.dispose(),this._widgets.delete(be))};this._widgets.set(be,{widget:a,listener:a.onDidClose(z)})}});var ke;(function(be){be.inPeekEditor=new Re.uy("inReferenceSearchEditor",!0,ue.N("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),be.notInPeekEditor=be.inPeekEditor.toNegated()})(ke||(ke={}));let fe=class{constructor(a,I){a instanceof xe.H&&ke.inPeekEditor.bindTo(I)}dispose(){}};fe.ID="editor.contrib.referenceController",fe=Mt([Je(1,Re.i6)],fe),(0,Q._K)(fe.ID,fe);function Ie(be){let a=be.get(ve.$).getFocusedCodeEditor();return a instanceof xe.H?a.getParentEditor():a}const nt={headerBackgroundColor:de.Il.white,primaryHeadingColor:de.Il.fromHex("#333333"),secondaryHeadingColor:de.Il.fromHex("#6c6c6cb3")};let at=class extends me{constructor(a,I,z){super(a,I),this.instantiationService=z,this._onDidClose=new T.Q5,this.onDidClose=this._onDidClose.event,pe.jB(this.options,nt,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(a){let I=this.options;a.headerBackgroundColor&&(I.headerBackgroundColor=a.headerBackgroundColor),a.primaryHeadingColor&&(I.primaryHeadingColor=a.primaryHeadingColor),a.secondaryHeadingColor&&(I.secondaryHeadingColor=a.secondaryHeadingColor),super.style(a)}_applyStyles(){super._applyStyles();let a=this.options;this._headElement&&a.headerBackgroundColor&&(this._headElement.style.backgroundColor=a.headerBackgroundColor.toString()),this._primaryHeading&&a.primaryHeadingColor&&(this._primaryHeading.style.color=a.primaryHeadingColor.toString()),this._secondaryHeading&&a.secondaryHeadingColor&&(this._secondaryHeading.style.color=a.secondaryHeadingColor.toString()),this._bodyElement&&a.frameColor&&(this._bodyElement.style.borderColor=a.frameColor.toString())}_fillContainer(a){this.setCssClass("peekview-widget"),this._headElement=v.$(".head"),this._bodyElement=v.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),a.appendChild(this._headElement),a.appendChild(this._bodyElement)}_fillHead(a,I){const z=v.$(".peekview-title");this.options.supportOnTitleClick&&(z.classList.add("clickable"),v.mu(z,"click",Se=>this._onTitleClick(Se))),v.R3(this._headElement,z),this._fillTitleIcon(z),this._primaryHeading=v.$("span.filename"),this._secondaryHeading=v.$("span.dirname"),this._metaHeading=v.$("span.meta"),v.R3(z,this._primaryHeading,this._secondaryHeading,this._metaHeading);const se=v.$(".peekview-actions");v.R3(this._headElement,se);const ne=this._getActionBarOptions();this._actionbarWidget=new V.o(se,ne),this._disposables.add(this._actionbarWidget),I||this._actionbarWidget.push(new $.aU("peekview.close",ue.N("label.close","Close"),ee.lA.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(a){}_getActionBarOptions(){return{actionViewItemProvider:Oe.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(a){}setTitle(a,I){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=a,this._primaryHeading.setAttribute("title",a),I?this._secondaryHeading.innerText=I:v.PO(this._secondaryHeading))}setMetaTitle(a){this._metaHeading&&(a?(this._metaHeading.innerText=a,v.$Z(this._metaHeading)):v.Cp(this._metaHeading))}_doLayout(a,I){if(!this._isShowing&&a<0){this.dispose();return}const z=Math.ceil(this.editor.getOption(58)*1.2),se=Math.round(a-(z+2));this._doLayoutHead(z,I),this._doLayoutBody(se,I)}_doLayoutHead(a,I){this._headElement&&(this._headElement.style.height=`${a}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(a,I){this._bodyElement&&(this._bodyElement.style.height=`${a}px`)}};at=Mt([Je(2,Dt.TG)],at);const ot=(0,ht.P6)("peekViewTitle.background",{dark:(0,ht.Zn)(ht.c6,.1),light:(0,ht.Zn)(ht.c6,.1),hc:null},ue.N("peekViewTitleBackground","Background color of the peek view title area.")),Ne=(0,ht.P6)("peekViewTitleLabel.foreground",{dark:de.Il.white,light:de.Il.black,hc:de.Il.white},ue.N("peekViewTitleForeground","Color of the peek view title.")),Pe=(0,ht.P6)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},ue.N("peekViewTitleInfoForeground","Color of the peek view title info.")),ye=(0,ht.P6)("peekView.border",{dark:ht.c6,light:ht.c6,hc:ht.lR},ue.N("peekViewBorder","Color of the peek view borders and arrow.")),Ze=(0,ht.P6)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:de.Il.black},ue.N("peekViewResultsBackground","Background color of the peek view result list.")),it=(0,ht.P6)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:de.Il.white},ue.N("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),Ft=(0,ht.P6)("peekViewResult.fileForeground",{dark:de.Il.white,light:"#1E1E1E",hc:de.Il.white},ue.N("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),ei=(0,ht.P6)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},ue.N("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),bi=(0,ht.P6)("peekViewResult.selectionForeground",{dark:de.Il.white,light:"#6C6C6C",hc:de.Il.white},ue.N("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),ii=(0,ht.P6)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:de.Il.black},ue.N("peekViewEditorBackground","Background color of the peek view editor.")),Ot=(0,ht.P6)("peekViewEditorGutter.background",{dark:ii,light:ii,hc:ii},ue.N("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),en=(0,ht.P6)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},ue.N("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),ui=(0,ht.P6)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},ue.N("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),Ke=(0,ht.P6)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:ht.xL},ue.N("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var st=c(97781),Mi=c(16268),ci=c(35996),zi=c(70666),kn=c(65520),Ki=c(94565),ls=c(33108),Bn=c(49989),On=c(38097),Zi=c(59422),Mn=c(87060),an=c(43702),$e=c(95935),Tt=c(97295),It=function(be,a,I,z){function se(ne){return ne instanceof I?ne:new I(function(Se){Se(ne)})}return new(I||(I=Promise))(function(ne,Se){function je(Et){try{Ht(z.next(Et))}catch(di){Se(di)}}function Vt(Et){try{Ht(z.throw(Et))}catch(di){Se(di)}}function Ht(Et){Et.done?ne(Et.value):se(Et.value).then(je,Vt)}Ht((z=z.apply(be,a||[])).next())})};class Ge{constructor(a,I,z,se){this.isProviderFirst=a,this.parent=I,this.link=z,this._rangeCallback=se,this.id=Y.a.nextId()}get uri(){return this.link.uri}get range(){var a,I;return(I=(a=this._range)!==null&&a!==void 0?a:this.link.targetSelectionRange)!==null&&I!==void 0?I:this.link.range}set range(a){this._range=a,this._rangeCallback(this)}get ariaMessage(){var a;const I=(a=this.parent.getPreview(this))===null||a===void 0?void 0:a.preview(this.range);return I?(0,ue.N)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,$e.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,I.value):(0,ue.N)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,$e.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class Xe{constructor(a){this._modelReference=a}dispose(){this._modelReference.dispose()}preview(a,I=8){const z=this._modelReference.object.textEditorModel;if(!z)return;const{startLineNumber:se,startColumn:ne,endLineNumber:Se,endColumn:je}=a,Vt=z.getWordUntilPosition({lineNumber:se,column:ne-I}),Ht=new P.e(se,Vt.startColumn,se,ne),Et=new P.e(Se,je,Se,1073741824),di=z.getValueInRange(Ht).replace(/^\s+/,""),qi=z.getValueInRange(a),Cn=z.getValueInRange(Et).replace(/\s+$/,"");return{value:di+qi+Cn,highlight:{start:di.length,end:di.length+qi.length}}}}class kt{constructor(a,I){this.parent=a,this.uri=I,this.children=[],this._previews=new an.Y9}dispose(){(0,O.B9)(this._previews.values()),this._previews.clear()}getPreview(a){return this._previews.get(a.uri)}get ariaMessage(){const a=this.children.length;return a===1?(0,ue.N)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,$e.EZ)(this.uri),this.uri.fsPath):(0,ue.N)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",a,(0,$e.EZ)(this.uri),this.uri.fsPath)}resolve(a){return It(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let I of this.children)if(!this._previews.has(I.uri))try{const z=yield a.createModelReference(I.uri);this._previews.set(I.uri,new Xe(z))}catch(z){(0,B.dL)(z)}return this})}}class At{constructor(a,I){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new T.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=a,this._title=I;const[z]=a;a.sort(At._compareReferences);let se;for(let ne of a)if((!se||!$e.SF.isEqual(se.uri,ne.uri,!0))&&(se=new kt(this,ne.uri),this.groups.push(se)),se.children.length===0||At._compareReferences(ne,se.children[se.children.length-1])!==0){const Se=new Ge(z===ne,se,ne,je=>this._onDidChangeReferenceRange.fire(je));this.references.push(Se),se.children.push(Se)}}dispose(){(0,O.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new At(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,ue.N)("aria.result.0","No results found"):this.references.length===1?(0,ue.N)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?(0,ue.N)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,ue.N)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(a,I){let{parent:z}=a,se=z.children.indexOf(a),ne=z.children.length,Se=z.parent.groups.length;return Se===1||I&&se+1<ne||!I&&se>0?(I?se=(se+1)%ne:se=(se+ne-1)%ne,z.children[se]):(se=z.parent.groups.indexOf(z),I?(se=(se+1)%Se,z.parent.groups[se].children[0]):(se=(se+Se-1)%Se,z.parent.groups[se].children[z.parent.groups[se].children.length-1]))}nearestReference(a,I){const z=this.references.map((se,ne)=>({idx:ne,prefixLen:Tt.Mh(se.uri.toString(),a.toString()),offsetDist:Math.abs(se.range.startLineNumber-I.lineNumber)*100+Math.abs(se.range.startColumn-I.column)})).sort((se,ne)=>se.prefixLen>ne.prefixLen?-1:se.prefixLen<ne.prefixLen?1:se.offsetDist<ne.offsetDist?-1:se.offsetDist>ne.offsetDist?1:0)[0];if(z)return this.references[z.idx]}referenceAt(a,I){for(const z of this.references)if(z.uri.toString()===a.toString()&&P.e.containsPosition(z.range,I))return z}firstReference(){for(const a of this.references)if(a.isProviderFirst)return a;return this.references[0]}static _compareReferences(a,I){return $e.SF.compare(a.uri,I.uri)||P.e.compareRangesUsingStarts(a.range,I.range)}}var Jt=c(33225),ai=c(66663),yi=c(94660),sn=c(85207),Ji=c(34650),Qn=c(26974),Ui=c(75392),on=c(68843),wt=c(91847),ft=c(44349),xt=c(88810),Ve=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},qe=function(be,a){return function(I,z){a(I,z,be)}};let mt=class{constructor(a){this._resolverService=a}hasChildren(a){return a instanceof At||a instanceof kt}getChildren(a){if(a instanceof At)return a.groups;if(a instanceof kt)return a.resolve(this._resolverService).then(I=>I.children);throw new Error("bad tree")}};mt=Ve([qe(0,r.S)],mt);class ut{getHeight(){return 23}getTemplateId(a){return a instanceof kt?Ni.id:hn.id}}let ri=class{constructor(a){this._keybindingService=a}getKeyboardNavigationLabel(a){var I;if(a instanceof Ge){const z=(I=a.parent.getPreview(a))===null||I===void 0?void 0:I.preview(a.range);if(z)return z.value}return(0,$e.EZ)(a.uri)}};ri=Ve([qe(0,wt.d)],ri);class $i{getId(a){return a instanceof Ge?a.id:a.uri}}let _i=class extends O.JT{constructor(a,I,z){super(),this._uriLabel=I;const se=document.createElement("div");se.classList.add("reference-file"),this.file=this._register(new Qn.g(se,{supportHighlights:!0})),this.badge=new sn.Z(v.R3(se,v.$(".count"))),this._register((0,xt.WZ)(this.badge,z)),a.appendChild(se)}set(a,I){let z=(0,$e.XX)(a.uri);this.file.setLabel((0,on.p)(a.uri),this._uriLabel.getUriLabel(z,{relative:!0}),{title:this._uriLabel.getUriLabel(a.uri),matches:I});const se=a.children.length;this.badge.setCount(se),se>1?this.badge.setTitleFormat((0,ue.N)("referencesCount","{0} references",se)):this.badge.setTitleFormat((0,ue.N)("referenceCount","{0} reference",se))}};_i=Ve([qe(1,ft.e),qe(2,st.XE)],_i);let Ni=class _u{constructor(a){this._instantiationService=a,this.templateId=_u.id}renderTemplate(a){return this._instantiationService.createInstance(_i,a)}renderElement(a,I,z){z.set(a.element,(0,Ui.mB)(a.filterData))}disposeTemplate(a){a.dispose()}};Ni.id="FileReferencesRenderer",Ni=Ve([qe(0,Dt.TG)],Ni);class Gi{constructor(a){this.label=new Ji.q(a,!1)}set(a,I){var z;const se=(z=a.parent.getPreview(a))===null||z===void 0?void 0:z.preview(a.range);if(!se||!se.value)this.label.set(`${(0,$e.EZ)(a.uri)}:${a.range.startLineNumber+1}:${a.range.startColumn+1}`);else{const{value:ne,highlight:Se}=se;I&&!Ui.CL.isDefault(I)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(ne,(0,Ui.mB)(I))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(ne,[Se]))}}}class hn{constructor(){this.templateId=hn.id}renderTemplate(a){return new Gi(a)}renderElement(a,I,z){z.set(a.element,a.filterData)}disposeTemplate(){}}hn.id="OneReferenceRenderer";class pn{getWidgetAriaLabel(){return(0,ue.N)("treeAriaLabel","References")}getAriaLabel(a){return a.ariaMessage}}var Ai=c(64862),pi=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},_n=function(be,a){return function(I,z){a(I,z,be)}},En=function(be,a,I,z){function se(ne){return ne instanceof I?ne:new I(function(Se){Se(ne)})}return new(I||(I=Promise))(function(ne,Se){function je(Et){try{Ht(z.next(Et))}catch(di){Se(di)}}function Vt(Et){try{Ht(z.throw(Et))}catch(di){Se(di)}}function Ht(Et){Et.done?ne(Et.value):se(Et.value).then(je,Vt)}Ht((z=z.apply(be,a||[])).next())})};class is{constructor(a,I){this._editor=a,this._model=I,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new O.SL,this._callOnModelChange=new O.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const a=this._editor.getModel();if(a){for(let I of this._model.references)if(I.uri.toString()===a.uri.toString()){this._addDecorations(I.parent);return}}}_addDecorations(a){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const I=[],z=[];for(let ne=0,Se=a.children.length;ne<Se;ne++){let je=a.children[ne];this._decorationIgnoreSet.has(je.id)||je.uri.toString()===this._editor.getModel().uri.toString()&&(I.push({range:je.range,options:is.DecorationOptions}),z.push(ne))}const se=this._editor.deltaDecorations([],I);for(let ne=0;ne<se.length;ne++)this._decorations.set(se[ne],a.children[z[ne]])}_onDecorationChanged(){const a=[],I=this._editor.getModel();if(I){for(let[z,se]of this._decorations){const ne=I.getDecorationRange(z);if(!ne)continue;let Se=!1;if(!P.e.equalsRange(ne,se.range)){if(P.e.spansMultipleLines(ne))Se=!0;else{const je=se.range.endColumn-se.range.startColumn,Vt=ne.endColumn-ne.startColumn;je!==Vt&&(Se=!0)}Se?(this._decorationIgnoreSet.add(se.id),a.push(z)):se.range=ne}}for(let z=0,se=a.length;z<se;z++)this._decorations.delete(a[z]);this._editor.deltaDecorations(a,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}is.DecorationOptions=j.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class ds{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(a){let I,z;try{const se=JSON.parse(a);I=se.ratio,z=se.heightInLines}catch(se){}return{ratio:I||.7,heightInLines:z||18}}}class Xn extends On.ls{}let Rs=class extends at{constructor(a,I,z,se,ne,Se,je,Vt,Ht,Et,di,qi){super(a,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},Se),this._defaultTreeKeyboardSupport=I,this.layoutData=z,this._textModelResolverService=ne,this._instantiationService=Se,this._peekViewService=je,this._uriLabel=Vt,this._undoRedoService=Ht,this._keybindingService=Et,this._modeService=di,this._languageConfigurationService=qi,this._disposeOnNewModel=new O.SL,this._callOnDispose=new O.SL,this._onDidSelectReference=new T.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new v.Ro(0,0),this._applyTheme(se.getColorTheme()),this._callOnDispose.add(se.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(a,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,O.B9)(this._preview),(0,O.B9)(this._previewNotAvailableMessage),(0,O.B9)(this._tree),(0,O.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(a){const I=a.getColor(ye)||de.Il.transparent;this.style({arrowColor:I,frameColor:I,headerBackgroundColor:a.getColor(ot)||de.Il.transparent,primaryHeadingColor:a.getColor(Ne),secondaryHeadingColor:a.getColor(Pe)})}show(a){this.editor.revealRangeInCenterIfOutsideViewport(a,0),super.show(a,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(a){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:a.ctrlKey||a.metaKey||a.altKey?"side":"open",source:"title"})}_fillBody(a){this.setCssClass("reference-zone-widget"),this._messageContainer=v.R3(a,v.$("div.messages")),v.Cp(this._messageContainer),this._splitView=new Jt.z(a,{orientation:1}),this._previewContainer=v.R3(a,v.$("div.preview.inline"));let I={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(xe.H,this._previewContainer,I,this.editor),v.Cp(this._previewContainer),this._previewNotAvailableMessage=new j.yO(ue.N("missingPreviewMessage","no preview available"),j.yO.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService,this._modeService,this._languageConfigurationService),this._treeContainer=v.R3(a,v.$("div.ref-tree.inline"));const z={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new pn,keyboardNavigationLabelProvider:this._instantiationService.createInstance(ri),identityProvider:new $i,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:Ze}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(v.mu(this._treeContainer,"keydown",ne=>{ne.equals(9)&&(this._keybindingService.dispatchEvent(ne,ne.target),ne.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(Xn,"ReferencesWidget",this._treeContainer,new ut,[this._instantiationService.createInstance(Ni),this._instantiationService.createInstance(hn)],this._instantiationService.createInstance(mt),z),this._splitView.addView({onDidChange:T.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:ne=>{this._preview.layout({height:this._dim.height,width:ne})}},Jt.M.Distribute),this._splitView.addView({onDidChange:T.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:ne=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${ne}px`,this._tree.layout(this._dim.height,ne)}},Jt.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let se=(ne,Se)=>{ne instanceof Ge&&(Se==="show"&&this._revealReference(ne,!1),this._onDidSelectReference.fire({element:ne,kind:Se,source:"tree"}))};this._tree.onDidOpen(ne=>{ne.sideBySide?se(ne.element,"side"):ne.editorOptions.pinned?se(ne.element,"goto"):se(ne.element,"show")}),v.Cp(this._treeContainer)}_onWidth(a){this._dim&&this._doLayoutBody(this._dim.height,a)}_doLayoutBody(a,I){super._doLayoutBody(a,I),this._dim=new v.Ro(I,a),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(I),this._splitView.resizeView(0,I*this.layoutData.ratio)}setSelection(a){return this._revealReference(a,!0).then(()=>{this._model&&(this._tree.setSelection([a]),this._tree.setFocus([a]))})}setModel(a){return this._disposeOnNewModel.clear(),this._model=a,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=ue.N("noResults","No results"),v.$Z(this._messageContainer),Promise.resolve(void 0)):(v.Cp(this._messageContainer),this._decorationsManager=new is(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(a=>this._tree.rerender(a))),this._disposeOnNewModel.add(this._preview.onMouseDown(a=>{const{event:I,target:z}=a;if(I.detail!==2)return;const se=this._getFocusedReference();se&&this._onDidSelectReference.fire({element:{uri:se.uri,range:z.range},kind:I.ctrlKey||I.metaKey||I.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),v.$Z(this._treeContainer),v.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[a]=this._tree.getFocus();if(a instanceof Ge)return a;if(a instanceof kt&&a.children.length>0)return a.children[0]}revealReference(a){return En(this,void 0,void 0,function*(){yield this._revealReference(a,!1),this._onDidSelectReference.fire({element:a,kind:"goto",source:"tree"})})}_revealReference(a,I){return En(this,void 0,void 0,function*(){if(this._revealedReference===a)return;this._revealedReference=a,a.uri.scheme!==ai.lg.inMemory?this.setTitle((0,$e.Hx)(a.uri),this._uriLabel.getUriLabel((0,$e.XX)(a.uri))):this.setTitle(ue.N("peekView.alternateTitle","References"));const z=this._textModelResolverService.createModelReference(a.uri);this._tree.getInput()===a.parent?this._tree.reveal(a):(I&&this._tree.reveal(a.parent),yield this._tree.expand(a.parent),this._tree.reveal(a));const se=yield z;if(!this._model){se.dispose();return}(0,O.B9)(this._previewModelReference);const ne=se.object;if(ne){const Se=this._preview.getModel()===ne.textEditorModel?0:1,je=P.e.lift(a.range).collapseToStart();this._previewModelReference=se,this._preview.setModel(ne.textEditorModel),this._preview.setSelection(je),this._preview.revealRangeInCenter(je,Se)}else this._preview.setModel(this._previewNotAvailableMessage),se.dispose()})}};Rs=pi([_n(3,st.XE),_n(4,r.S),_n(5,Dt.TG),_n(6,tt),_n(7,ft.e),_n(8,Ai.tJ),_n(9,wt.d),_n(10,X.h),_n(11,yi.c_)],Rs),(0,st.Ic)((be,a)=>{const I=be.getColor(en);I&&a.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${I}; }`);const z=be.getColor(ui);z&&a.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${z}; }`);const se=be.getColor(Ke);se&&a.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${se}; box-sizing: border-box; }`);const ne=be.getColor(ht.xL);ne&&a.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${ne}; box-sizing: border-box; }`);const Se=be.getColor(Ze);Se&&a.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${Se}; }`);const je=be.getColor(it);je&&a.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${je}; }`);const Vt=be.getColor(Ft);Vt&&a.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${Vt}; }`);const Ht=be.getColor(ei);Ht&&a.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${Ht}; }`);const Et=be.getColor(bi);Et&&a.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${Et} !important; }`);const di=be.getColor(ii);di&&a.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {	background-color: ${di};}`);const qi=be.getColor(Ot);qi&&a.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {	background-color: ${qi};}`)});var Co=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},js=function(be,a){return function(I,z){a(I,z,be)}},_s=function(be,a,I,z){function se(ne){return ne instanceof I?ne:new I(function(Se){Se(ne)})}return new(I||(I=Promise))(function(ne,Se){function je(Et){try{Ht(z.next(Et))}catch(di){Se(di)}}function Vt(Et){try{Ht(z.throw(Et))}catch(di){Se(di)}}function Ht(Et){Et.done?ne(Et.value):se(Et.value).then(je,Vt)}Ht((z=z.apply(be,a||[])).next())})};const ho=new Re.uy("referenceSearchVisible",!1,ue.N("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let oo=class yd{constructor(a,I,z,se,ne,Se,je,Vt){this._defaultTreeKeyboardSupport=a,this._editor=I,this._editorService=se,this._notificationService=ne,this._instantiationService=Se,this._storageService=je,this._configurationService=Vt,this._disposables=new O.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=ho.bindTo(z)}static get(a){return a.getContribution(yd.ID)}dispose(){var a,I;this._referenceSearchVisible.reset(),this._disposables.dispose(),(a=this._widget)===null||a===void 0||a.dispose(),(I=this._model)===null||I===void 0||I.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(a,I,z){let se;if(this._widget&&(se=this._widget.position),this.closeWidget(),se&&a.containsPosition(se))return;this._peekMode=z,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const ne="peekViewLayout",Se=ds.fromJSON(this._storageService.get(ne,0,"{}"));this._widget=this._instantiationService.createInstance(Rs,this._editor,this._defaultTreeKeyboardSupport,Se),this._widget.setTitle(ue.N("labelLoading","Loading...")),this._widget.show(a),this._disposables.add(this._widget.onDidClose(()=>{I.cancel(),this._widget&&(this._storageService.store(ne,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(Vt=>{let{element:Ht,kind:Et}=Vt;if(Ht)switch(Et){case"open":(Vt.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(Ht,!1,!1);break;case"side":this.openReference(Ht,!0,!1);break;case"goto":z?this._gotoReference(Ht):this.openReference(Ht,!1,!0);break}}));const je=++this._requestIdPool;I.then(Vt=>{var Ht;if(je!==this._requestIdPool||!this._widget){Vt.dispose();return}return(Ht=this._model)===null||Ht===void 0||Ht.dispose(),this._model=Vt,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(ue.N("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let Et=this._editor.getModel().uri,di=new D.L(a.startLineNumber,a.startColumn),qi=this._model.nearestReference(Et,di);if(qi)return this._widget.setSelection(qi).then(()=>{this._widget&&this._editor.getOption(76)==="editor"&&this._widget.focusOnPreviewEditor()})}})},Vt=>{this._notificationService.error(Vt)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(a){return _s(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const I=this._widget.position;if(!I)return;const z=this._model.nearestReference(this._editor.getModel().uri,I);if(!z)return;const se=this._model.nextOrPreviousReference(z,a),ne=this._editor.hasTextFocus(),Se=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(se),yield this._gotoReference(se),ne?this._editor.focus():this._widget&&Se&&this._widget.focusOnPreviewEditor()})}revealReference(a){return _s(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(a))})}closeWidget(a=!0){var I,z;(I=this._widget)===null||I===void 0||I.dispose(),(z=this._model)===null||z===void 0||z.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,a&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(a){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const I=P.e.lift(a.range).collapseToStart();return this._editorService.openCodeEditor({resource:a.uri,options:{selection:I}},this._editor).then(z=>{var se;if(this._ignoreModelChangeEvent=!1,!z||!this._widget){this.closeWidget();return}if(this._editor===z)this._widget.show(I),this._widget.focusOnReferenceTree();else{const ne=yd.get(z),Se=this._model.clone();this.closeWidget(),z.focus(),ne.toggleWidget(I,(0,R.PG)(je=>Promise.resolve(Se)),(se=this._peekMode)!==null&&se!==void 0?se:!1)}},z=>{this._ignoreModelChangeEvent=!1,(0,B.dL)(z)})}openReference(a,I,z){I||this.closeWidget();const{uri:se,range:ne}=a;this._editorService.openCodeEditor({resource:se,options:{selection:ne,pinned:z}},this._editor,I)}};oo.ID="editor.contrib.referencesController",oo=Co([js(2,Re.i6),js(3,ve.$),js(4,Zi.lT),js(5,Dt.TG),js(6,Mn.Uy),js(7,ls.Ui)],oo);function qs(be,a){const I=Ie(be);if(!I)return;let z=oo.get(I);z&&a(z)}Bn.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,E.gx)(2089,60),when:Re.Ao.or(ho,ke.inPeekEditor),handler(be){qs(be,a=>{a.changeFocusBetweenPreviewAndReferences()})}}),Bn.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:Re.Ao.or(ho,ke.inPeekEditor),handler(be){qs(be,a=>{a.goToNextOrPreviousReference(!0)})}}),Bn.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:Re.Ao.or(ho,ke.inPeekEditor),handler(be){qs(be,a=>{a.goToNextOrPreviousReference(!1)})}}),Ki.P.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),Ki.P.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),Ki.P.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),Ki.P.registerCommand("closeReferenceSearch",be=>qs(be,a=>a.closeWidget())),Bn.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:Re.Ao.and(ke.inPeekEditor,Re.Ao.not("config.editor.stablePeek"))}),Bn.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:Re.Ao.and(ho,Re.Ao.not("config.editor.stablePeek"))}),Bn.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:Re.Ao.and(ho,On.CQ),handler(be){var a;const z=(a=be.get(On.Lw).lastFocusedList)===null||a===void 0?void 0:a.getFocus();Array.isArray(z)&&z[0]instanceof Ge&&qs(be,se=>se.revealReference(z[0]))}}),Bn.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Re.Ao.and(ho,On.CQ),handler(be){var a;const z=(a=be.get(On.Lw).lastFocusedList)===null||a===void 0?void 0:a.getFocus();Array.isArray(z)&&z[0]instanceof Ge&&qs(be,se=>se.openReference(z[0],!0,!0))}}),Ki.P.registerCommand("openReference",be=>{var a;const z=(a=be.get(On.Lw).lastFocusedList)===null||a===void 0?void 0:a.getFocus();Array.isArray(z)&&z[0]instanceof Ge&&qs(be,se=>se.openReference(z[0],!1,!0))});var Es=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},Fs=function(be,a){return function(I,z){a(I,z,be)}};const Xs=new Re.uy("hasSymbols",!1,(0,ue.N)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),ro=(0,Dt.yh)("ISymbolNavigationService");let Ys=class{constructor(a,I,z,se){this._editorService=I,this._notificationService=z,this._keybindingService=se,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=Xs.bindTo(a)}reset(){var a,I;this._ctxHasSymbols.reset(),(a=this._currentState)===null||a===void 0||a.dispose(),(I=this._currentMessage)===null||I===void 0||I.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(a){const I=a.parent.parent;if(I.references.length<=1){this.reset();return}this._currentModel=I,this._currentIdx=I.references.indexOf(a),this._ctxHasSymbols.set(!0),this._showMessage();const z=new $s(this._editorService),se=z.onDidChange(ne=>{if(this._ignoreEditorChange)return;const Se=this._editorService.getActiveCodeEditor();if(!Se)return;const je=Se.getModel(),Vt=Se.getPosition();if(!je||!Vt)return;let Ht=!1,Et=!1;for(const di of I.references)if((0,$e.Xy)(di.uri,je.uri))Ht=!0,Et=Et||P.e.containsPosition(di.range,Vt);else if(Ht)break;(!Ht||!Et)&&this.reset()});this._currentState=(0,O.F8)(z,se)}revealNext(a){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const I=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:I.uri,options:{selection:P.e.collapseToStart(I.range),selectionRevealType:3}},a).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var a;(a=this._currentMessage)===null||a===void 0||a.dispose();const I=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),z=I?(0,ue.N)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,I.getLabel()):(0,ue.N)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(z)}};Ys=Es([Fs(0,Re.i6),Fs(1,ve.$),Fs(2,Zi.lT),Fs(3,wt.d)],Ys),(0,et.z)(ro,Ys,!0),(0,Q.fK)(new class extends Q._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:Xs,kbOpts:{weight:100,primary:70}})}runEditorCommand(be,a){return be.get(ro).revealNext(a)}}),Bn.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:Xs,primary:9,handler(be){be.get(ro).reset()}});let $s=class{constructor(a){this._listener=new Map,this._disposables=new O.SL,this._onDidChange=new T.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(a.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(a.onCodeEditorAdd(this._onDidAddEditor,this)),a.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,O.B9)(this._listener.values())}_onDidAddEditor(a){this._listener.set(a,(0,O.F8)(a.onDidChangeCursorPosition(I=>this._onDidChange.fire({editor:a})),a.onDidChangeModelContent(I=>this._onDidChange.fire({editor:a}))))}_onDidRemoveEditor(a){var I;(I=this._listener.get(a))===null||I===void 0||I.dispose(),this._listener.delete(a)}};$s=Es([Fs(0,ve.$)],$s);var mo=c(92321),Jn=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},po=function(be,a){return function(I,z){a(I,z,be)}};let os=class Ld{constructor(a,I){this._messageWidget=new O.XK,this._messageListeners=new O.SL,this._editor=a,this._visible=Ld.MESSAGE_VISIBLE.bindTo(I),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(a){return a.getContribution(Ld.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(a,I){(0,ci.Z9)(a),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new ao(this._editor,I,a),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new R._F(()=>this.closeMessage(),3e3));let z;this._messageListeners.add(this._editor.onMouseMove(se=>{se.target.position&&(z?z.containsPosition(se.target.position)||this.closeMessage():z=new P.e(I.lineNumber-3,1,se.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(ao.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(ue.N("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};os.ID="editor.contrib.messageController",os.MESSAGE_VISIBLE=new Re.uy("messageVisible",!1,ue.N("messageVisible","Whether the editor is currently showing an inline message")),os=Jn([po(1,Re.i6)],os);const jn=Q._l.bindToContribution(os.get);(0,Q.fK)(new jn({id:"leaveEditorMessage",precondition:os.MESSAGE_VISIBLE,handler:be=>be.closeMessage(),kbOpts:{weight:130,primary:9}}));class ao{constructor(a,{lineNumber:I,column:z},se){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=a,this._editor.revealLinesInCenterIfOutsideViewport(I,I,0),this._position={lineNumber:I,column:z-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const ne=document.createElement("div");ne.classList.add("anchor","top"),this._domNode.appendChild(ne);const Se=document.createElement("div");Se.classList.add("message"),Se.textContent=se,this._domNode.appendChild(Se);const je=document.createElement("div");je.classList.add("anchor","below"),this._domNode.appendChild(je),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(a){let I;const z=()=>{a.dispose(),clearTimeout(I),a.getDomNode().removeEventListener("animationend",z)};return I=setTimeout(z,110),a.getDomNode().addEventListener("animationend",z),a.getDomNode().classList.add("fadeOut"),{dispose:z}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(a){this._domNode.classList.toggle("below",a===2)}}(0,Q._K)(os.ID,os),(0,st.Ic)((be,a)=>{const I=be.getColor(ht.EP);if(I){let ne=be.type===mo.e.HIGH_CONTRAST?2:1;a.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${I}; }`),a.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${I}; }`),a.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${ne}px solid ${I}; }`)}const z=be.getColor(ht._l);z&&a.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${z}; }`);const se=be.getColor(ht.YI);se&&a.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${se}; }`)});var es=c(84144),eo=c(90535),xs=c(71050),io=function(be,a,I,z){function se(ne){return ne instanceof I?ne:new I(function(Se){Se(ne)})}return new(I||(I=Promise))(function(ne,Se){function je(Et){try{Ht(z.next(Et))}catch(di){Se(di)}}function Vt(Et){try{Ht(z.throw(Et))}catch(di){Se(di)}}function Ht(Et){Et.done?ne(Et.value):se(Et.value).then(je,Vt)}Ht((z=z.apply(be,a||[])).next())})};function mi(be,a,I,z){const ne=I.ordered(be).map(Se=>Promise.resolve(z(Se,be,a)).then(void 0,je=>{(0,B.Cp)(je)}));return Promise.all(ne).then(Se=>{const je=[];for(let Vt of Se)Array.isArray(Vt)?je.push(...Vt):Vt&&je.push(Vt);return je})}function ge(be,a,I){return mi(be,a,H.Ct,(z,se,ne)=>z.provideDefinition(se,ne,I))}function ct(be,a,I){return mi(be,a,H.RN,(z,se,ne)=>z.provideDeclaration(se,ne,I))}function gt(be,a,I){return mi(be,a,H.vI,(z,se,ne)=>z.provideImplementation(se,ne,I))}function Wt(be,a,I){return mi(be,a,H.tA,(z,se,ne)=>z.provideTypeDefinition(se,ne,I))}function ti(be,a,I,z){return mi(be,a,H.FL,(se,ne,Se)=>io(this,void 0,void 0,function*(){const je=yield se.provideReferences(ne,Se,{includeDeclaration:!0},z);if(!I||!je||je.length!==2)return je;const Vt=yield se.provideReferences(ne,Se,{includeDeclaration:!1},z);return Vt&&Vt.length===1?Vt:je}))}function Si(be){return io(this,void 0,void 0,function*(){const a=yield be(),I=new At(a,""),z=I.references.map(se=>se.link);return I.dispose(),z})}(0,Q.sb)("_executeDefinitionProvider",(be,a)=>Si(()=>ge(be,a,xs.T.None))),(0,Q.sb)("_executeDeclarationProvider",(be,a)=>Si(()=>ct(be,a,xs.T.None))),(0,Q.sb)("_executeImplementationProvider",(be,a)=>Si(()=>gt(be,a,xs.T.None))),(0,Q.sb)("_executeTypeDefinitionProvider",(be,a)=>Si(()=>Wt(be,a,xs.T.None))),(0,Q.sb)("_executeReferenceProvider",(be,a)=>Si(()=>ti(be,a,!1,xs.T.None)));var hi=function(be,a,I,z){function se(ne){return ne instanceof I?ne:new I(function(Se){Se(ne)})}return new(I||(I=Promise))(function(ne,Se){function je(Et){try{Ht(z.next(Et))}catch(di){Se(di)}}function Vt(Et){try{Ht(z.throw(Et))}catch(di){Se(di)}}function Ht(Et){Et.done?ne(Et.value):se(Et.value).then(je,Vt)}Ht((z=z.apply(be,a||[])).next())})},Yt,Vi,Li,Pn,Nt,W,re,Te;es.BH.appendMenuItem(es.eH.EditorContext,{submenu:es.eH.EditorContextPeek,title:ue.N("peek.submenu","Peek"),group:"navigation",order:100});const Ye=new Set;function bt(be){const a=new be;return(0,Q.QG)(a),Ye.add(a.id),a}class $t extends Q.R6{constructor(a,I){super(I),this._configuration=a}run(a,I){if(!I.hasModel())return Promise.resolve(void 0);const z=a.get(Zi.lT),se=a.get(ve.$),ne=a.get(eo.e),Se=a.get(ro),je=I.getModel(),Vt=I.getPosition(),Ht=new g.Dl(I,5),Et=(0,R.eP)(this._getLocationModel(je,Vt,Ht.token),Ht.token).then(di=>hi(this,void 0,void 0,function*(){if(!di||Ht.token.isCancellationRequested)return;(0,ci.Z9)(di.ariaMessage);let qi;if(di.referenceAt(je.uri,Vt)){const Hn=this._getAlternativeCommand(I);Hn!==this.id&&Ye.has(Hn)&&(qi=I.getAction(Hn))}const Cn=di.references.length;if(Cn===0){if(!this._configuration.muteMessage){const Hn=je.getWordAtPosition(Vt);os.get(I).showMessage(this._getNoResultFoundMessage(Hn),Vt)}}else if(Cn===1&&qi)qi.run();else return this._onResult(se,Se,I,di)}),di=>{z.error(di)}).finally(()=>{Ht.dispose()});return ne.showWhile(Et,250),Et}_onResult(a,I,z,se){return hi(this,void 0,void 0,function*(){const ne=this._getGoToPreference(z);if(!(z instanceof xe.H)&&(this._configuration.openInPeek||ne==="peek"&&se.references.length>1))this._openInPeek(z,se);else{const Se=se.firstReference(),je=se.references.length>1&&ne==="gotoAndPeek",Vt=yield this._openReference(z,a,Se,this._configuration.openToSide,!je);je&&Vt?this._openInPeek(Vt,se):se.dispose(),ne==="goto"&&I.put(Se)}})}_openReference(a,I,z,se,ne){return hi(this,void 0,void 0,function*(){let Se;if((0,H.vx)(z)&&(Se=z.targetSelectionRange),Se||(Se=z.range),!Se)return;const je=yield I.openCodeEditor({resource:z.uri,options:{selection:P.e.collapseToStart(Se),selectionRevealType:3}},a,se);if(je){if(ne){const Vt=je.getModel(),Ht=je.deltaDecorations([],[{range:Se,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{je.getModel()===Vt&&je.deltaDecorations(Ht,[])},350)}return je}})}_openInPeek(a,I){let z=oo.get(a);z&&a.hasModel()?z.toggleWidget(a.getSelection(),(0,R.PG)(se=>Promise.resolve(I)),this._configuration.openInPeek):I.dispose()}}class si extends $t{_getLocationModel(a,I,z){return hi(this,void 0,void 0,function*(){return new At(yield ge(a,I,z),ue.N("def.title","Definitions"))})}_getNoResultFoundMessage(a){return a&&a.word?ue.N("noResultWord","No definition found for '{0}'",a.word):ue.N("generic.noResults","No definition found")}_getAlternativeCommand(a){return a.getOption(50).alternativeDefinitionCommand}_getGoToPreference(a){return a.getOption(50).multipleDefinitions}}const gi=w.$L&&!Mi.$W?2118:70;bt((Yt=class Dd extends si{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Dd.id,label:ue.N("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:Re.Ao.and(y.u.hasDefinitionProvider,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:gi,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),Ki.P.registerCommandAlias("editor.action.goToDeclaration",Dd.id)}},Yt.id="editor.action.revealDefinition",Yt)),bt((Vi=class Ed extends si{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Ed.id,label:ue.N("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:Re.Ao.and(y.u.hasDefinitionProvider,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:(0,E.gx)(2089,gi),weight:100}}),Ki.P.registerCommandAlias("editor.action.openDeclarationToTheSide",Ed.id)}},Vi.id="editor.action.revealDefinitionAside",Vi)),bt((Li=class xd extends si{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:xd.id,label:ue.N("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:Re.Ao.and(y.u.hasDefinitionProvider,ke.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:es.eH.EditorContextPeek,group:"peek",order:2}}),Ki.P.registerCommandAlias("editor.action.previewDeclaration",xd.id)}},Li.id="editor.action.peekDefinition",Li));class Oi extends $t{_getLocationModel(a,I,z){return hi(this,void 0,void 0,function*(){return new At(yield ct(a,I,z),ue.N("decl.title","Declarations"))})}_getNoResultFoundMessage(a){return a&&a.word?ue.N("decl.noResultWord","No declaration found for '{0}'",a.word):ue.N("decl.generic.noResults","No declaration found")}_getAlternativeCommand(a){return a.getOption(50).alternativeDeclarationCommand}_getGoToPreference(a){return a.getOption(50).multipleDeclarations}}bt((Pn=class vu extends Oi{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:vu.id,label:ue.N("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:Re.Ao.and(y.u.hasDeclarationProvider,y.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(a){return a&&a.word?ue.N("decl.noResultWord","No declaration found for '{0}'",a.word):ue.N("decl.generic.noResults","No declaration found")}},Pn.id="editor.action.revealDeclaration",Pn)),bt(class extends Oi{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:ue.N("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:Re.Ao.and(y.u.hasDeclarationProvider,ke.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:es.eH.EditorContextPeek,group:"peek",order:3}})}});class xi extends $t{_getLocationModel(a,I,z){return hi(this,void 0,void 0,function*(){return new At(yield Wt(a,I,z),ue.N("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(a){return a&&a.word?ue.N("goToTypeDefinition.noResultWord","No type definition found for '{0}'",a.word):ue.N("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(a){return a.getOption(50).alternativeTypeDefinitionCommand}_getGoToPreference(a){return a.getOption(50).multipleTypeDefinitions}}bt((Nt=class Cu extends xi{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Cu.ID,label:ue.N("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:Re.Ao.and(y.u.hasTypeDefinitionProvider,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},Nt.ID="editor.action.goToTypeDefinition",Nt)),bt((W=class bu extends xi{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:bu.ID,label:ue.N("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:Re.Ao.and(y.u.hasTypeDefinitionProvider,ke.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:es.eH.EditorContextPeek,group:"peek",order:4}})}},W.ID="editor.action.peekTypeDefinition",W));class Hi extends $t{_getLocationModel(a,I,z){return hi(this,void 0,void 0,function*(){return new At(yield gt(a,I,z),ue.N("impl.title","Implementations"))})}_getNoResultFoundMessage(a){return a&&a.word?ue.N("goToImplementation.noResultWord","No implementation found for '{0}'",a.word):ue.N("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(a){return a.getOption(50).alternativeImplementationCommand}_getGoToPreference(a){return a.getOption(50).multipleImplementations}}bt((re=class wu extends Hi{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:wu.ID,label:ue.N("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:Re.Ao.and(y.u.hasImplementationProvider,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},re.ID="editor.action.goToImplementation",re)),bt((Te=class Su extends Hi{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Su.ID,label:ue.N("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:Re.Ao.and(y.u.hasImplementationProvider,ke.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:es.eH.EditorContextPeek,group:"peek",order:5}})}},Te.ID="editor.action.peekImplementation",Te));class cn extends $t{_getNoResultFoundMessage(a){return a?ue.N("references.no","No references found for '{0}'",a.word):ue.N("references.noGeneric","No references found")}_getAlternativeCommand(a){return a.getOption(50).alternativeReferenceCommand}_getGoToPreference(a){return a.getOption(50).multipleReferences}}bt(class extends cn{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:ue.N("goToReferences.label","Go to References"),alias:"Go to References",precondition:Re.Ao.and(y.u.hasReferenceProvider,ke.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(a,I,z){return hi(this,void 0,void 0,function*(){return new At(yield ti(a,I,!0,z),ue.N("ref.title","References"))})}}),bt(class extends cn{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:ue.N("references.action.label","Peek References"),alias:"Peek References",precondition:Re.Ao.and(y.u.hasReferenceProvider,ke.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:es.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(a,I,z){return hi(this,void 0,void 0,function*(){return new At(yield ti(a,I,!1,z),ue.N("ref.title","References"))})}});class Ii extends $t{constructor(a,I,z){super(a,{id:"editor.action.goToLocation",label:ue.N("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:Re.Ao.and(ke.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated())}),this._references=I,this._gotoMultipleBehaviour=z}_getLocationModel(a,I,z){return hi(this,void 0,void 0,function*(){return new At(this._references,ue.N("generic.title","Locations"))})}_getNoResultFoundMessage(a){return a&&ue.N("generic.noResult","No results for '{0}'",a.word)||""}_getGoToPreference(a){var I;return(I=this._gotoMultipleBehaviour)!==null&&I!==void 0?I:a.getOption(50).multipleReferences}_getAlternativeCommand(){return""}}Ki.P.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:zi.o},{name:"position",description:"The position at which to start",constraint:D.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(be,a,I,z,se,ne,Se)=>hi(void 0,void 0,void 0,function*(){(0,N.p_)(zi.o.isUri(a)),(0,N.p_)(D.L.isIPosition(I)),(0,N.p_)(Array.isArray(z)),(0,N.p_)(typeof se=="undefined"||typeof se=="string"),(0,N.p_)(typeof Se=="undefined"||typeof Se=="boolean");const je=be.get(ve.$),Vt=yield je.openCodeEditor({resource:a},je.getFocusedCodeEditor());if((0,kn.CL)(Vt))return Vt.setPosition(I),Vt.revealPositionInCenterIfOutsideViewport(I,0),Vt.invokeWithinContext(Ht=>{const Et=new class extends Ii{_getNoResultFoundMessage(di){return ne||super._getNoResultFoundMessage(di)}}({muteMessage:!ne,openInPeek:!!Se,openToSide:!1},z,se);Ht.get(Dt.TG).invokeFunction(Et.run.bind(Et),Vt)})})}),Ki.P.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:zi.o},{name:"position",description:"The position at which to start",constraint:D.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(be,a,I,z,se)=>hi(void 0,void 0,void 0,function*(){be.get(Ki.H).executeCommand("editor.action.goToLocations",a,I,z,se,void 0,!0)})}),Ki.P.registerCommand({id:"editor.action.findReferences",handler:(be,a,I)=>{(0,N.p_)(zi.o.isUri(a)),(0,N.p_)(D.L.isIPosition(I));const z=be.get(ve.$);return z.openCodeEditor({resource:a},z.getFocusedCodeEditor()).then(se=>{if(!(0,kn.CL)(se)||!se.hasModel())return;const ne=oo.get(se);if(!ne)return;const Se=(0,R.PG)(Vt=>ti(se.getModel(),D.L.lift(I),!1,Vt).then(Ht=>new At(Ht,ue.N("ref.title","References")))),je=new P.e(I.lineNumber,I.column,I.lineNumber,I.column);return Promise.resolve(ne.toggleWidget(je,Se,!1))})}}),Ki.P.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),es.BH.appendMenuItems([{id:es.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:ue.N({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:es.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:ue.N({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:es.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:ue.N({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:es.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:ue.N({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:es.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:ue.N({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}]);var ln=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},nn=function(be,a){return function(I,z){a(I,z,be)}};let wn=class ja{constructor(a,I,z){this.textModelResolverService=I,this.modeService=z,this.toUnhook=new O.SL,this.toUnhookForKeyboard=new O.SL,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=a;let se=new L(a);this.toUnhook.add(se),this.toUnhook.add(se.onMouseMoveOrRelevantKeyDown(([ne,Se])=>{this.startFindDefinitionFromMouse(ne,(0,N.f6)(Se))})),this.toUnhook.add(se.onExecute(ne=>{this.isEnabled(ne)&&this.gotoDefinition(ne.target.position,ne.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},Se=>{this.removeLinkDecorations(),(0,B.dL)(Se)})})),this.toUnhook.add(se.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(a){return a.getContribution(ja.ID)}startFindDefinitionFromCursor(a){return this.startFindDefinition(a).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(I=>{I&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(a,I){if(a.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(a,I)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const z=a.target.position;this.startFindDefinition(z)}startFindDefinition(a){var I;this.toUnhookForKeyboard.clear();const z=a?(I=this.editor.getModel())===null||I===void 0?void 0:I.getWordAtPosition(a):null;if(!z)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===z.startColumn&&this.currentWordAtPosition.endColumn===z.endColumn&&this.currentWordAtPosition.word===z.word)return Promise.resolve(0);this.currentWordAtPosition=z;let se=new g.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,R.PG)(ne=>this.findDefinition(a,ne)),this.previousPromise.then(ne=>{if(!ne||!ne.length||!se.validate(this.editor)){this.removeLinkDecorations();return}if(ne.length>1)this.addDecoration(new P.e(a.lineNumber,z.startColumn,a.lineNumber,z.endColumn),new s.W5().appendText(ue.N("multipleResults","Click to show {0} definitions.",ne.length)));else{let Se=ne[0];if(!Se.uri)return;this.textModelResolverService.createModelReference(Se.uri).then(je=>{if(!je.object||!je.object.textEditorModel){je.dispose();return}const{object:{textEditorModel:Vt}}=je,{startLineNumber:Ht}=Se.range;if(Ht<1||Ht>Vt.getLineCount()){je.dispose();return}const Et=this.getPreviewValue(Vt,Ht,Se);let di;Se.originSelectionRange?di=P.e.lift(Se.originSelectionRange):di=new P.e(a.lineNumber,z.startColumn,a.lineNumber,z.endColumn);const qi=this.modeService.getModeIdByFilepathOrFirstLine(Vt.uri);this.addDecoration(di,new s.W5().appendCodeblock(qi||"",Et)),je.dispose()})}}).then(void 0,B.dL)}getPreviewValue(a,I,z){let se=z.targetSelectionRange?z.range:this.getPreviewRangeBasedOnBrackets(a,I);return se.endLineNumber-se.startLineNumber>=ja.MAX_SOURCE_PREVIEW_LINES&&(se=this.getPreviewRangeBasedOnIndentation(a,I)),this.stripIndentationFromPreviewRange(a,I,se)}stripIndentationFromPreviewRange(a,I,z){let ne=a.getLineFirstNonWhitespaceColumn(I);for(let je=I+1;je<z.endLineNumber;je++){const Vt=a.getLineFirstNonWhitespaceColumn(je);ne=Math.min(ne,Vt)}return a.getValueInRange(z).replace(new RegExp(`^\\s{${ne-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(a,I){const z=a.getLineFirstNonWhitespaceColumn(I),se=Math.min(a.getLineCount(),I+ja.MAX_SOURCE_PREVIEW_LINES);let ne=I+1;for(;ne<se;ne++){let Se=a.getLineFirstNonWhitespaceColumn(ne);if(z===Se)break}return new P.e(I,1,ne+1,1)}getPreviewRangeBasedOnBrackets(a,I){const z=Math.min(a.getLineCount(),I+ja.MAX_SOURCE_PREVIEW_LINES),se=[];let ne=!0,Se=a.findNextBracket(new D.L(I,1));for(;Se!==null;){if(se.length===0)se.push(Se);else{const Et=se[se.length-1];if(Et.open[0]===Se.open[0]&&Et.isOpen&&!Se.isOpen?se.pop():se.push(Se),se.length===0)if(ne)ne=!1;else return new P.e(I,1,Se.range.endLineNumber+1,1)}const je=a.getLineMaxColumn(I);let Vt=Se.range.endLineNumber,Ht=Se.range.endColumn;if(je===Se.range.endColumn&&(Vt++,Ht=1),Vt>z)return new P.e(I,1,z+1,1);Se=a.findNextBracket(new D.L(Vt,Ht))}return new P.e(I,1,z+1,1)}addDecoration(a,I){const z={range:a,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:I}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[z])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(a,I){return this.editor.hasModel()&&a.isNoneOrSingleMouseDown&&a.target.type===6&&(a.hasTriggerModifier||(I?I.keyCodeIsTriggerKey:!1))&&H.Ct.has(this.editor.getModel())}findDefinition(a,I){const z=this.editor.getModel();return z?ge(z,a,I):Promise.resolve(null)}gotoDefinition(a,I){return this.editor.setPosition(a),this.editor.invokeWithinContext(z=>{const se=!I&&this.editor.getOption(77)&&!this.isInPeekEditor(z);return new si({openToSide:I,openInPeek:se,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(z,this.editor)})}isInPeekEditor(a){const I=a.get(Re.i6);return ke.inPeekEditor.getValue(I)}dispose(){this.toUnhook.dispose()}};wn.ID="editor.contrib.gotodefinitionatposition",wn.MAX_SOURCE_PREVIEW_LINES=8,wn=ln([nn(1,r.S),nn(2,X.h)],wn),(0,Q._K)(wn.ID,wn),(0,st.Ic)((be,a)=>{const I=be.getColor(ht._Y);I&&a.addRule(`.monaco-editor .goto-definition-link { color: ${I} !important; }`)});var Gn=c(13433);const Ts=v.$;class Ln extends O.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new Gn.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}class jt extends O.JT{constructor(a,I,z){super(),this.actionContainer=v.R3(a,Ts("div.action-container")),this.action=v.R3(this.actionContainer,Ts("a.action")),this.action.setAttribute("href","#"),this.action.setAttribute("role","button"),I.iconClass&&v.R3(this.action,Ts(`span.icon.${I.iconClass}`));const se=v.R3(this.action,Ts("span"));se.textContent=z?`${I.label} (${z})`:I.label,this._register(v.nm(this.actionContainer,v.tw.MOUSE_DOWN,ne=>{ne.stopPropagation(),ne.preventDefault(),I.run(this.actionContainer)})),this.setEnabled(!0)}static render(a,I,z){return new jt(a,I,z)}setEnabled(a){a?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var _e=c(93794),Me=c(9488),ze=c(51200);function vt(be,a){const I=[],se=H.OH.ordered(be).reverse().map(ne=>Promise.resolve(ne.provideDocumentColors(be,a)).then(Se=>{if(Array.isArray(Se))for(let je of Se)I.push({colorInfo:je,provider:ne})}));return Promise.all(se).then(()=>I)}function yt(be,a,I,z){return Promise.resolve(I.provideColorPresentations(be,a,z))}Ki.P.registerCommand("_executeDocumentColorProvider",function(be,...a){const[I]=a;if(!(I instanceof zi.o))throw(0,B.b1)();const z=be.get(ze.q).getModel(I);if(!z)throw(0,B.b1)();const se=[],Se=H.OH.ordered(z).reverse().map(je=>Promise.resolve(je.provideDocumentColors(z,xs.T.None)).then(Vt=>{if(Array.isArray(Vt))for(let Ht of Vt)se.push({range:Ht.range,color:[Ht.color.red,Ht.color.green,Ht.color.blue,Ht.color.alpha]})}));return Promise.all(Se).then(()=>se)}),Ki.P.registerCommand("_executeColorPresentationProvider",function(be,...a){const[I,z]=a,{uri:se,range:ne}=z;if(!(se instanceof zi.o)||!Array.isArray(I)||I.length!==4||!P.e.isIRange(ne))throw(0,B.b1)();const[Se,je,Vt,Ht]=I,Et=be.get(ze.q).getModel(se);if(!Et)throw(0,B.b1)();const di={range:ne,color:{red:Se,green:je,blue:Vt,alpha:Ht}},qi=[],Hn=H.OH.ordered(Et).reverse().map(go=>Promise.resolve(go.provideColorPresentations(Et,di,xs.T.None)).then(yo=>{Array.isArray(yo)&&qi.push(...yo)}));return Promise.all(Hn).then(()=>qi)});var oi=c(89954),qt=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},fn=function(be,a){return function(I,z){a(I,z,be)}};const Tn=500;let Bi=class yu extends O.JT{constructor(a,I,z){super(),this._editor=a,this._codeEditorService=I,this._configurationService=z,this._localToDispose=this._register(new O.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(a.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(a.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(H.OH.onDidChange(()=>this.onModelChanged())),this._register(a.onDidChangeConfiguration(()=>{let se=this._isEnabled;this._isEnabled=this.isEnabled(),se!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const a=this._editor.getModel();if(!a)return!1;const I=a.getLanguageId(),z=this._configurationService.getValue(I);if(z&&typeof z=="object"){const se=z.colorDecorators;if(se&&se.enable!==void 0&&!se.enable)return se.enable}return this._editor.getOption(17)}static get(a){return a.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const a=this._editor.getModel();!a||!H.OH.has(a)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new R._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},yu.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=(0,R.PG)(a=>{const I=this._editor.getModel();return I?vt(I,a):Promise.resolve([])}),this._computePromise.then(a=>{this.updateDecorations(a),this.updateColorDecorators(a),this._computePromise=null},B.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(a){const I=a.map(z=>({range:{startLineNumber:z.colorInfo.range.startLineNumber,startColumn:z.colorInfo.range.startColumn,endLineNumber:z.colorInfo.range.endLineNumber,endColumn:z.colorInfo.range.endColumn},options:j.qx.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,I),this._colorDatas=new Map,this._decorationsIds.forEach((z,se)=>this._colorDatas.set(z,a[se]))}updateColorDecorators(a){let I=[],z={};for(let se=0;se<a.length&&I.length<Tn;se++){const{red:ne,green:Se,blue:je,alpha:Vt}=a[se].colorInfo.color,Ht=new de.VS(Math.round(ne*255),Math.round(Se*255),Math.round(je*255),Vt);let Et=(0,oi.vp)(`rgba(${Ht.r},${Ht.g},${Ht.b},${Ht.a})`).toString(16),di=`rgba(${Ht.r}, ${Ht.g}, ${Ht.b}, ${Ht.a})`,qi="colorBox-"+Et;!this._decorationsTypes.has(qi)&&!z[qi]&&this._codeEditorService.registerDecorationType("color-detector-color",qi,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:di},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),z[qi]=!0,I.push({range:{startLineNumber:a[se].colorInfo.range.startLineNumber,startColumn:a[se].colorInfo.range.startColumn,endLineNumber:a[se].colorInfo.range.endLineNumber,endColumn:a[se].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(qi,!0)})}this._decorationsTypes.forEach(se=>{z[se]||this._codeEditorService.removeDecorationType(se)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,I)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(a=>{this._codeEditorService.removeDecorationType(a)})}getColorData(a){const I=this._editor.getModel();if(!I)return null;const z=I.getDecorationsInRange(P.e.fromPositions(a,a)).filter(se=>this._colorDatas.has(se.id));return z.length===0?null:this._colorDatas.get(z[0].id)}};Bi.ID="editor.contrib.colorDetector",Bi.RECOMPUTE_TIME=1e3,Bi=qt([fn(1,ve.$),fn(2,ls.Ui)],Bi),(0,Q._K)(Bi.ID,Bi);class dn{constructor(a,I,z){this.presentationIndex=z,this._onColorFlushed=new T.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new T.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new T.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=a,this._color=a,this._colorPresentations=I}get color(){return this._color}set color(a){this._color.equals(a)||(this._color=a,this._onDidChangeColor.fire(a))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(a){this._colorPresentations=a,this.presentationIndex>a.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(a,I){for(let z=0;z<this.colorPresentations.length;z++)if(I.toLowerCase()===this.colorPresentations[z].label){this.presentationIndex=z,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var yn=c(57974);const tn=v.$;class Zt extends O.JT{constructor(a,I,z){super(),this.model=I,this.domNode=tn(".colorpicker-header"),v.R3(a,this.domNode),this.pickedColorNode=v.R3(this.domNode,tn(".picked-color"));const se=(0,ue.N)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",se);const ne=v.R3(this.domNode,tn(".original-color"));ne.style.backgroundColor=de.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=z.getColorTheme().getColor(ht.yJ)||de.Il.white,this._register((0,st.Ic)((Se,je)=>{this.backgroundColor=Se.getColor(ht.yJ)||de.Il.white})),this._register(v.nm(this.pickedColorNode,v.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(v.nm(ne,v.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(I.onDidChangeColor(this.onDidChangeColor,this)),this._register(I.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=de.Il.Format.CSS.format(I.color)||"",this.pickedColorNode.classList.toggle("light",I.color.rgba.a<.5?this.backgroundColor.isLighter():I.color.isLighter())}onDidChangeColor(a){this.pickedColorNode.style.backgroundColor=de.Il.Format.CSS.format(a)||"",this.pickedColorNode.classList.toggle("light",a.rgba.a<.5?this.backgroundColor.isLighter():a.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(tn(".codicon.codicon-color-mode"))}}class vi extends O.JT{constructor(a,I,z){super(),this.model=I,this.pixelRatio=z,this.domNode=tn(".colorpicker-body"),v.R3(a,this.domNode),this.saturationBox=new Xi(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new us(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new Ls(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:a,v:I}){const z=this.model.color.hsva;this.model.color=new de.Il(new de.tx(z.h,a,I,z.a))}onDidOpacityChange(a){const I=this.model.color.hsva;this.model.color=new de.Il(new de.tx(I.h,I.s,I.v,a))}onDidHueChange(a){const I=this.model.color.hsva,z=(1-a)*360;this.model.color=new de.Il(new de.tx(z===360?0:z,I.s,I.v,I.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class Xi extends O.JT{constructor(a,I,z){super(),this.model=I,this.pixelRatio=z,this._onDidChange=new T.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new T.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=tn(".saturation-wrap"),v.R3(a,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",v.R3(this.domNode,this.canvas),this.selection=tn(".saturation-selection"),v.R3(this.domNode,this.selection),this.layout(),this._register(v.Lo(this.domNode,se=>this.onMouseDown(se))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(a){this.monitor=this._register(new yn.Z);const I=v.i(this.domNode);a.target!==this.selection&&this.onDidChangePosition(a.offsetX,a.offsetY),this.monitor.startMonitoring(a.target,a.buttons,yn.e,se=>this.onDidChangePosition(se.posx-I.left,se.posy-I.top),()=>null);const z=v.qV(document,()=>{this._onColorFlushed.fire(),z.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(a,I){const z=Math.max(0,Math.min(1,a/this.width)),se=Math.max(0,Math.min(1,1-I/this.height));this.paintSelection(z,se),this._onDidChange.fire({s:z,v:se})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const a=this.model.color.hsva;this.paintSelection(a.s,a.v)}paint(){const a=this.model.color.hsva,I=new de.Il(new de.tx(a.h,1,1,1)),z=this.canvas.getContext("2d"),se=z.createLinearGradient(0,0,this.canvas.width,0);se.addColorStop(0,"rgba(255, 255, 255, 1)"),se.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),se.addColorStop(1,"rgba(255, 255, 255, 0)");const ne=z.createLinearGradient(0,0,0,this.canvas.height);ne.addColorStop(0,"rgba(0, 0, 0, 0)"),ne.addColorStop(1,"rgba(0, 0, 0, 1)"),z.rect(0,0,this.canvas.width,this.canvas.height),z.fillStyle=de.Il.Format.CSS.format(I),z.fill(),z.fillStyle=se,z.fill(),z.fillStyle=ne,z.fill()}paintSelection(a,I){this.selection.style.left=`${a*this.width}px`,this.selection.style.top=`${this.height-I*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class ts extends O.JT{constructor(a,I){super(),this.model=I,this._onDidChange=new T.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new T.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=v.R3(a,tn(".strip")),this.overlay=v.R3(this.domNode,tn(".overlay")),this.slider=v.R3(this.domNode,tn(".slider")),this.slider.style.top="0px",this._register(v.Lo(this.domNode,z=>this.onMouseDown(z))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const a=this.getValue(this.model.color);this.updateSliderPosition(a)}onMouseDown(a){const I=this._register(new yn.Z),z=v.i(this.domNode);this.domNode.classList.add("grabbing"),a.target!==this.slider&&this.onDidChangeTop(a.offsetY),I.startMonitoring(a.target,a.buttons,yn.e,ne=>this.onDidChangeTop(ne.posy-z.top),()=>null);const se=v.qV(document,()=>{this._onColorFlushed.fire(),se.dispose(),I.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(a){const I=Math.max(0,Math.min(1,1-a/this.height));this.updateSliderPosition(I),this._onDidChange.fire(I)}updateSliderPosition(a){this.slider.style.top=`${(1-a)*this.height}px`}}class us extends ts{constructor(a,I){super(a,I),this.domNode.classList.add("opacity-strip"),this._register(I.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(a){const{r:I,g:z,b:se}=a.rgba,ne=new de.Il(new de.VS(I,z,se,1)),Se=new de.Il(new de.VS(I,z,se,0));this.overlay.style.background=`linear-gradient(to bottom, ${ne} 0%, ${Se} 100%)`}getValue(a){return a.hsva.a}}class Ls extends ts{constructor(a,I){super(a,I),this.domNode.classList.add("hue-strip")}getValue(a){return 1-a.hsva.h/360}}class Be extends _e.${constructor(a,I,z,se){super(),this.model=I,this.pixelRatio=z,this._register((0,Mi.fX)(()=>this.layout()));const ne=tn(".colorpicker-widget");a.appendChild(ne);const Se=new Zt(ne,this.model,se);this.body=new vi(ne,this.model,this.pixelRatio),this._register(Se),this._register(this.body)}layout(){this.body.layout()}}var d=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},M=function(be,a){return function(I,z){a(I,z,be)}},U=function(be,a,I,z){function se(ne){return ne instanceof I?ne:new I(function(Se){Se(ne)})}return new(I||(I=Promise))(function(ne,Se){function je(Et){try{Ht(z.next(Et))}catch(di){Se(di)}}function Vt(Et){try{Ht(z.throw(Et))}catch(di){Se(di)}}function Ht(Et){Et.done?ne(Et.value):se(Et.value).then(je,Vt)}Ht((z=z.apply(be,a||[])).next())})};class oe{constructor(a,I,z,se){this.owner=a,this.range=I,this.model=z,this.provider=se,this.forceShowAtRange=!0}isValidForHoverAnchor(a){return a.type===1&&this.range.startColumn<=a.range.startColumn&&this.range.endColumn>=a.range.endColumn}}let he=class{constructor(a,I,z){this._editor=a,this._hover=I,this._themeService=z}computeSync(a,I){return[]}computeAsync(a,I,z){return U(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const se=Bi.get(this._editor);for(const ne of I){if(ne.options.description!=="color-detector-color")continue;const Se=se.getColorData(ne.range.getStartPosition());if(Se)return[yield this._createColorHover(this._editor.getModel(),Se.colorInfo,Se.provider)]}return[]})}_createColorHover(a,I,z){return U(this,void 0,void 0,function*(){const se=a.getValueInRange(I.range),{red:ne,green:Se,blue:je,alpha:Vt}=I.color,Ht=new de.VS(Math.round(ne*255),Math.round(Se*255),Math.round(je*255),Vt),Et=new de.Il(Ht),di=yield yt(a,I,z,xs.T.None),qi=new dn(Et,[],0);return qi.colorPresentations=di||[],qi.guessColorPresentation(Et,se),new oe(this,P.e.lift(I.range),qi,z)})}renderHoverParts(a,I,z){if(a.length===0||!this._editor.hasModel())return O.JT.None;const se=new O.SL,ne=a[0],Se=this._editor.getModel(),je=ne.model,Vt=se.add(new Be(I,je,this._editor.getOption(127),this._themeService));let Ht=new P.e(ne.range.startLineNumber,ne.range.startColumn,ne.range.endLineNumber,ne.range.endColumn);const Et=()=>{let qi,Cn;if(je.presentation.textEdit){qi=[je.presentation.textEdit],Cn=new P.e(je.presentation.textEdit.range.startLineNumber,je.presentation.textEdit.range.startColumn,je.presentation.textEdit.range.endLineNumber,je.presentation.textEdit.range.endColumn);const Hn=this._editor.getModel()._setTrackedRange(null,Cn,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",qi),Cn=this._editor.getModel()._getTrackedRange(Hn)||Cn}else qi=[{identifier:null,range:Ht,text:je.presentation.label,forceMoveMarkers:!1}],Cn=Ht.setEndPosition(Ht.endLineNumber,Ht.startColumn+je.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",qi);je.presentation.additionalTextEdits&&(qi=[...je.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",qi),this._hover.hide()),this._editor.pushUndoStop(),Ht=Cn},di=qi=>yt(Se,{range:Ht,color:{red:qi.rgba.r/255,green:qi.rgba.g/255,blue:qi.rgba.b/255,alpha:qi.rgba.a}},ne.provider,xs.T.None).then(Cn=>{je.colorPresentations=Cn||[]});return se.add(je.onColorFlushed(qi=>{di(qi).then(Et)})),se.add(je.onDidChangeColor(di)),this._hover.setColorPicker(Vt),se}};he=d([M(2,st.XE)],he);class Le{constructor(a,I,z,se,ne){this._computer=a,this._state=0,this._hoverTime=ne,this._firstWaitScheduler=new R.pY(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new R.pY(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new R.pY(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=I,this._errorCallback=z,this._progressCallback=se}setHoverTime(a){this._hoverTime=a}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=(0,R.PG)(a=>this._computer.computeAsync(a)),this._asyncComputationPromise.then(a=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(a)},a=>this._onError(a))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(a){a&&this._computer.onResult(a,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(a){this._completeCallback(a)}_onError(a){this._errorCallback?this._errorCallback(a):(0,B.dL)(a)}_onProgress(a){this._progressCallback(a)}start(a){if(a===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}class We{constructor(a,I){this.priority=a,this.range=I,this.type=1}equals(a){return a.type===1&&this.range.equalsRange(a.range)}canAdoptVisibleHover(a,I){return a.type===1&&I.lineNumber===this.range.startLineNumber}}class lt{constructor(a,I,z){this.priority=a,this.owner=I,this.range=z,this.type=2}equals(a){return a.type===2&&this.owner===a.owner}canAdoptVisibleHover(a,I){return a.type===2&&this.owner===a.owner}}var Pt=c(53430);function St(be,a,I){const se=H.xp.ordered(be).map(ne=>Promise.resolve(ne.provideHover(be,a,I)).then(Se=>Se&&Rt(Se)?Se:void 0,Se=>{(0,B.Cp)(Se)}));return Promise.all(se).then(Me.kX)}(0,Q.sb)("_executeHoverProvider",(be,a)=>St(be,a,xs.T.None));function Rt(be){const a=typeof be.range!="undefined",I=typeof be.contents!="undefined"&&be.contents&&be.contents.length>0;return a&&I}var Gt=c(50988),li=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},ae=function(be,a){return function(I,z){a(I,z,be)}},we=function(be,a,I,z){function se(ne){return ne instanceof I?ne:new I(function(Se){Se(ne)})}return new(I||(I=Promise))(function(ne,Se){function je(Et){try{Ht(z.next(Et))}catch(di){Se(di)}}function Vt(Et){try{Ht(z.throw(Et))}catch(di){Se(di)}}function Ht(Et){Et.done?ne(Et.value):se(Et.value).then(je,Vt)}Ht((z=z.apply(be,a||[])).next())})};const dt=v.$;class pt{constructor(a,I,z){this.owner=a,this.range=I,this.contents=z}isValidForHoverAnchor(a){return a.type===1&&this.range.startColumn<=a.range.startColumn&&this.range.endColumn>=a.range.endColumn}}let rt=class{constructor(a,I,z,se,ne){this._editor=a,this._hover=I,this._modeService=z,this._openerService=se,this._configurationService=ne}createLoadingMessage(a){return new pt(this,a.range,[new s.W5().appendText(ue.N("modesContentHover.loading","Loading..."))])}computeSync(a,I){if(!this._editor.hasModel()||a.type!==1)return[];const z=this._editor.getModel(),se=a.range.startLineNumber,ne=z.getLineMaxColumn(se),Se=[];for(const Et of I){const di=Et.range.startLineNumber===se?Et.range.startColumn:1,qi=Et.range.endLineNumber===se?Et.range.endColumn:ne,Cn=Et.options.hoverMessage;if(!Cn||(0,s.CP)(Cn))continue;const Hn=new P.e(a.range.startLineNumber,di,a.range.startLineNumber,qi);Se.push(new pt(this,Hn,(0,Me._2)(Cn)))}const je=z.getLineLength(se),Vt=z.getLanguageIdAtPosition(a.range.startLineNumber,a.range.startColumn),Ht=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:Vt});return typeof Ht=="number"&&je>=Ht&&Se.push(new pt(this,a.range,[{value:ue.N("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}])),Se}computeAsync(a,I,z){return we(this,void 0,void 0,function*(){if(!this._editor.hasModel()||a.type!==1)return Promise.resolve([]);const se=this._editor.getModel();if(!H.xp.has(se))return Promise.resolve([]);const ne=yield St(se,new D.L(a.range.startLineNumber,a.range.startColumn),z),Se=[];for(const je of ne){if((0,s.CP)(je.contents))continue;const Vt=je.range?P.e.lift(je.range):a.range;Se.push(new pt(this,Vt,je.contents))}return Se})}renderHoverParts(a,I,z){const se=new O.SL;for(const ne of a)for(const Se of ne.contents){if((0,s.CP)(Se))continue;const je=dt("div.hover-row.markdown-hover"),Vt=v.R3(je,dt("div.hover-contents")),Ht=se.add(new Pt.$({editor:this._editor},this._modeService,this._openerService));se.add(Ht.onDidRenderAsync(()=>{Vt.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const Et=se.add(Ht.render(Se));Vt.appendChild(Et.element),I.appendChild(je)}return se}};rt=li([ae(2,X.h),ae(3,Gt.v4),ae(4,ls.Ui)],rt);var Ut=c(26479),ni=c(3860);class zt{constructor(a){this.value=a}equals(a){return this.value===a.value}contains(a){return this.equals(a)||this.value===""||a.value.startsWith(this.value+zt.sep)}intersects(a){return this.contains(a)||a.contains(this)}append(a){return new zt(this.value+zt.sep+a)}}zt.sep=".",zt.None=new zt("@@none@@"),zt.Empty=new zt(""),zt.QuickFix=new zt("quickfix"),zt.Refactor=new zt("refactor"),zt.Source=new zt("source"),zt.SourceOrganizeImports=zt.Source.append("organizeImports"),zt.SourceFixAll=zt.Source.append("fixAll");function Ri(be,a){return!(be.include&&!be.include.intersects(a)||be.excludes&&be.excludes.some(I=>Ei(a,I,be.include))||!be.includeSourceActions&&zt.Source.contains(a))}function Ci(be,a){const I=a.kind?new zt(a.kind):void 0;return!(be.include&&(!I||!be.include.contains(I))||be.excludes&&I&&be.excludes.some(z=>Ei(I,z,be.include))||!be.includeSourceActions&&I&&zt.Source.contains(I)||be.onlyIncludePreferredActions&&!a.isPreferred)}function Ei(be,a,I){return!(!a.contains(be)||I&&a.contains(I))}class wi{constructor(a,I,z){this.kind=a,this.apply=I,this.preferred=z}static fromUser(a,I){return!a||typeof a!="object"?new wi(I.kind,I.apply,!1):new wi(wi.getKindFromUser(a,I.kind),wi.getApplyFromUser(a,I.apply),wi.getPreferredUser(a))}static getApplyFromUser(a,I){switch(typeof a.apply=="string"?a.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return I}}static getKindFromUser(a,I){return typeof a.kind=="string"?new zt(a.kind):I}static getPreferredUser(a){return typeof a.preferred=="boolean"?a.preferred:!1}}var bn=function(be,a,I,z){function se(ne){return ne instanceof I?ne:new I(function(Se){Se(ne)})}return new(I||(I=Promise))(function(ne,Se){function je(Et){try{Ht(z.next(Et))}catch(di){Se(di)}}function Vt(Et){try{Ht(z.throw(Et))}catch(di){Se(di)}}function Ht(Et){Et.done?ne(Et.value):se(Et.value).then(je,Vt)}Ht((z=z.apply(be,a||[])).next())})};const ji="editor.action.codeAction",gn="editor.action.refactor",Wn="editor.action.sourceAction",zn="editor.action.organizeImports",Vn="editor.action.fixAll";class qn{constructor(a,I){this.action=a,this.provider=I}resolve(a){var I;return bn(this,void 0,void 0,function*(){if(!((I=this.provider)===null||I===void 0)&&I.resolveCodeAction&&!this.action.edit){let z;try{z=yield this.provider.resolveCodeAction(this.action,a)}catch(se){(0,B.Cp)(se)}z&&(this.action.edit=z.edit)}return this})}}class ws extends O.JT{constructor(a,I,z){super(),this.documentation=I,this._register(z),this.allActions=[...a].sort(ws.codeActionsComparator),this.validActions=this.allActions.filter(({action:se})=>!se.disabled)}static codeActionsComparator({action:a},{action:I}){return a.isPreferred&&!I.isPreferred?-1:!a.isPreferred&&I.isPreferred?1:(0,Me.Of)(a.diagnostics)?(0,Me.Of)(I.diagnostics)?a.diagnostics[0].message.localeCompare(I.diagnostics[0].message):-1:(0,Me.Of)(I.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:a})=>!!a.kind&&zt.QuickFix.contains(new zt(a.kind))&&!!a.isPreferred)}}const Us={actions:[],documentation:void 0};function Bs(be,a,I,z,se){var ne;const Se=I.filter||{},je={only:(ne=Se.include)===null||ne===void 0?void 0:ne.value,trigger:I.type},Vt=new g.YQ(be,se),Ht=cs(be,Se),Et=new O.SL,di=Ht.map(Cn=>bn(this,void 0,void 0,function*(){try{z.report(Cn);const Hn=yield Cn.provideCodeActions(be,a,je,Vt.token);if(Hn&&Et.add(Hn),Vt.token.isCancellationRequested)return Us;const go=((Hn==null?void 0:Hn.actions)||[]).filter(Wo=>Wo&&Ci(Se,Wo)),yo=Ws(Cn,go,Se.include);return{actions:go.map(Wo=>new qn(Wo,Cn)),documentation:yo}}catch(Hn){if((0,B.VV)(Hn))throw Hn;return(0,B.Cp)(Hn),Us}})),qi=H.H9.onDidChange(()=>{const Cn=H.H9.all(be);(0,Me.fS)(Cn,Ht)||Vt.cancel()});return Promise.all(di).then(Cn=>{const Hn=(0,Me.xH)(Cn.map(yo=>yo.actions)),go=(0,Me.kX)(Cn.map(yo=>yo.documentation));return new ws(Hn,go,Et)}).finally(()=>{qi.dispose(),Vt.dispose()})}function cs(be,a){return H.H9.all(be).filter(I=>I.providedCodeActionKinds?I.providedCodeActionKinds.some(z=>Ri(a,new zt(z))):!0)}function Ws(be,a,I){if(!be.documentation)return;const z=be.documentation.map(se=>({kind:new zt(se.kind),command:se.command}));if(I){let se;for(const ne of z)ne.kind.contains(I)&&(se?se.kind.contains(ne.kind)&&(se=ne):se=ne);if(se)return se==null?void 0:se.command}for(const se of a)if(se.kind){for(const ne of z)if(ne.kind.contains(new zt(se.kind)))return ne.command}}Ki.P.registerCommand("_executeCodeActionProvider",function(be,a,I,z,se){return bn(this,void 0,void 0,function*(){if(!(a instanceof zi.o))throw(0,B.b1)();const ne=be.get(ze.q).getModel(a);if(!ne)throw(0,B.b1)();const Se=ni.Y.isISelection(I)?ni.Y.liftSelection(I):P.e.isIRange(I)?ne.validateRange(I):void 0;if(!Se)throw(0,B.b1)();const je=typeof z=="string"?new zt(z):void 0,Vt=yield Bs(ne,Se,{type:1,filter:{includeSourceActions:!0,include:je}},eo.E.None,xs.T.None),Ht=[],Et=Math.min(Vt.validActions.length,typeof se=="number"?se:0);for(let di=0;di<Et;di++)Ht.push(Vt.validActions[di].resolve(xs.T.None));try{return yield Promise.all(Ht),Vt.validActions.map(di=>di.action)}finally{setTimeout(()=>Vt.dispose(),100)}})});class vs{constructor(a){this.executor=a,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(a){this._error=a}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var ss=c(66007),Ms=c(5606),uo=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},An=function(be,a){return function(I,z){a(I,z,be)}},Vs=function(be,a,I,z){function se(ne){return ne instanceof I?ne:new I(function(Se){Se(ne)})}return new(I||(I=Promise))(function(ne,Se){function je(Et){try{Ht(z.next(Et))}catch(di){Se(di)}}function Vt(Et){try{Ht(z.throw(Et))}catch(di){Se(di)}}function Ht(Et){Et.done?ne(Et.value):se(Et.value).then(je,Vt)}Ht((z=z.apply(be,a||[])).next())})};class Gs extends $.aU{constructor(a,I){super(a.command?a.command.id:a.title,Js(a.title),void 0,!a.disabled,I),this.action=a}}function Js(be){return be.replace(/\r\n|\r|\n/g," ")}let ms=class extends O.JT{constructor(a,I,z,se){super(),this._editor=a,this._delegate=I,this._contextMenuService=z,this._visible=!1,this._showingActions=this._register(new O.XK),this._keybindingResolver=new ps({getKeybindings:()=>se.getKeybindings()})}get isVisible(){return this._visible}show(a,I,z,se){return Vs(this,void 0,void 0,function*(){const ne=se.includeDisabledActions?I.allActions:I.validActions;if(!ne.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,B.F0)();this._visible=!0,this._showingActions.value=I;const Se=this.getMenuActions(a,ne,I.documentation),je=D.L.isIPosition(z)?this._toCoords(z):z||{x:0,y:0},Vt=this._keybindingResolver.getResolver(),Ht=this._editor.getOption(113);this._contextMenuService.showContextMenu({domForShadowRoot:Ht?this._editor.getDomNode():void 0,getAnchor:()=>je,getActions:()=>Se,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:Et=>Et instanceof Gs?Vt(Et.action):void 0})})}getMenuActions(a,I,z){var se,ne;const Se=Et=>new Gs(Et.action,()=>this._delegate.onSelectCodeAction(Et)),je=I.map(Se),Vt=[...z],Ht=this._editor.getModel();if(Ht&&je.length)for(const Et of H.H9.all(Ht))Et._getAdditionalMenuItems&&Vt.push(...Et._getAdditionalMenuItems({trigger:a.type,only:(ne=(se=a.filter)===null||se===void 0?void 0:se.include)===null||ne===void 0?void 0:ne.value},I.map(di=>di.action)));return Vt.length&&je.push(new $.Z0,...Vt.map(Et=>Se(new qn({title:Et.title,command:Et},void 0)))),je}_toCoords(a){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(a,1),this._editor.render();const I=this._editor.getScrolledVisiblePosition(a),z=(0,v.i)(this._editor.getDomNode()),se=z.left+I.left,ne=z.top+I.top+I.height;return{x:se,y:ne}}};ms=uo([An(2,Ms.i),An(3,wt.d)],ms);class ps{constructor(a){this._keybindingProvider=a}getResolver(){const a=new vs(()=>this._keybindingProvider.getKeybindings().filter(I=>ps.codeActionCommands.indexOf(I.command)>=0).filter(I=>I.resolvedKeybinding).map(I=>{let z=I.commandArgs;return I.command===zn?z={kind:zt.SourceOrganizeImports.value}:I.command===Vn&&(z={kind:zt.SourceFixAll.value}),Object.assign({resolvedKeybinding:I.resolvedKeybinding},wi.fromUser(z,{kind:zt.None,apply:"never"}))}));return I=>{if(I.kind){const z=this.bestKeybindingForCodeAction(I,a.getValue());return z==null?void 0:z.resolvedKeybinding}}}bestKeybindingForCodeAction(a,I){if(!a.kind)return;const z=new zt(a.kind);return I.filter(se=>se.kind.contains(z)).filter(se=>se.preferred?a.isPreferred:!0).reduceRight((se,ne)=>se?se.kind.contains(ne.kind)?ne:se:ne,void 0)}}ps.codeActionCommands=[gn,ji,Wn,zn,Vn];var Ss=c(10553),Is=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},Lo=function(be,a){return function(I,z){a(I,z,be)}},So;(function(be){be.Hidden={type:0};class a{constructor(z,se,ne,Se){this.actions=z,this.trigger=se,this.editorPosition=ne,this.widgetPosition=Se,this.type=1}}be.Showing=a})(So||(So={}));let bo=class Lu extends O.JT{constructor(a,I,z,se){super(),this._editor=a,this._quickFixActionId=I,this._preferredFixActionId=z,this._keybindingService=se,this._onClick=this._register(new T.Q5),this.onClick=this._onClick.event,this._state=So.Hidden,this._domNode=document.createElement("div"),this._domNode.className=ee.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(ne=>{const Se=this._editor.getModel();(this.state.type!==1||!Se||this.state.editorPosition.lineNumber>=Se.getLineCount())&&this.hide()})),Ss.o.ignoreTarget(this._domNode),this._register(v.Gw(this._domNode,ne=>{if(this.state.type!==1)return;this._editor.focus(),ne.preventDefault();const{top:Se,height:je}=v.i(this._domNode),Vt=this._editor.getOption(58);let Ht=Math.floor(Vt/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(Ht+=Vt),this._onClick.fire({x:ne.posx,y:Se+je+Ht,actions:this.state.actions,trigger:this.state.trigger})})),this._register(v.nm(this._domNode,"mouseenter",ne=>{if((ne.buttons&1)!==1)return;this.hide();const Se=new yn.Z;Se.startMonitoring(ne.target,ne.buttons,yn.e,()=>{},()=>{Se.dispose()})})),this._register(this._editor.onDidChangeConfiguration(ne=>{ne.hasChanged(56)&&!this._editor.getOption(56).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(a,I,z){if(a.validActions.length<=0)return this.hide();const se=this._editor.getOptions();if(!se.get(56).enabled)return this.hide();const ne=this._editor.getModel();if(!ne)return this.hide();const{lineNumber:Se,column:je}=ne.validatePosition(z),Vt=ne.getOptions().tabSize,Ht=se.get(43),Et=ne.getLineContent(Se),di=j.yO.computeIndentLevel(Et,Vt),qi=Ht.spaceWidth*di>22,Cn=go=>go>2&&this._editor.getTopForLineNumber(go)===this._editor.getTopForLineNumber(go-1);let Hn=Se;if(!qi){if(Se>1&&!Cn(Se-1))Hn-=1;else if(!Cn(Se+1))Hn+=1;else if(je*Ht.spaceWidth<22)return this.hide()}this.state=new So.Showing(a,I,z,{position:{lineNumber:Hn,column:1},preference:Lu._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=So.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(a){this._state=a,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...ee.lA.lightBulb.classNamesArray),this._domNode.classList.add(...ee.lA.lightbulbAutofix.classNamesArray);const I=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(I){this.title=ue.N("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",I.getLabel());return}}this._domNode.classList.remove(...ee.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...ee.lA.lightBulb.classNamesArray);const a=this._keybindingService.lookupKeybinding(this._quickFixActionId);a?this.title=ue.N("codeActionWithKb","Show Code Actions ({0})",a.getLabel()):this.title=ue.N("codeAction","Show Code Actions")}set title(a){this._domNode.title=a}};bo._posPref=[0],bo=Is([Lo(3,wt.d)],bo),(0,st.Ic)((be,a)=>{var I;const z=(I=be.getColor(ht.cv))===null||I===void 0?void 0:I.transparent(.7),se=be.getColor(ht.Fu);se&&a.addRule(`
		.monaco-editor .contentWidgets ${ee.lA.lightBulb.cssSelector} {
			color: ${se};
			background-color: ${z};
		}`);const ne=be.getColor(ht.sK);ne&&a.addRule(`
		.monaco-editor .contentWidgets ${ee.lA.lightbulbAutofix.cssSelector} {
			color: ${ne};
			background-color: ${z};
		}`)});var zo=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},lo=function(be,a){return function(I,z){a(I,z,be)}},Do=function(be,a,I,z){function se(ne){return ne instanceof I?ne:new I(function(Se){Se(ne)})}return new(I||(I=Promise))(function(ne,Se){function je(Et){try{Ht(z.next(Et))}catch(di){Se(di)}}function Vt(Et){try{Ht(z.throw(Et))}catch(di){Se(di)}}function Ht(Et){Et.done?ne(Et.value):se(Et.value).then(je,Vt)}Ht((z=z.apply(be,a||[])).next())})},Jo=function(be,a,I,z,se){if(z==="m")throw new TypeError("Private method is not writable");if(z==="a"&&!se)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?be!==a||!se:!a.has(be))throw new TypeError("Cannot write private member to an object whose class did not declare it");return z==="a"?se.call(be,I):se?se.value=I:a.set(be,I),I},Cs=function(be,a,I,z){if(I==="a"&&!z)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?be!==a||!z:!a.has(be))throw new TypeError("Cannot read private member from an object whose class did not declare it");return I==="m"?z:I==="a"?z.call(be):z?z.value:a.get(be)},ns;let ys=class extends O.JT{constructor(a,I,z,se,ne){super(),this._editor=a,this.delegate=se,this._activeCodeActions=this._register(new O.XK),ns.set(this,!1),this._codeActionWidget=new vs(()=>this._register(ne.createInstance(ms,this._editor,{onSelectCodeAction:Se=>Do(this,void 0,void 0,function*(){this.delegate.applyCodeAction(Se,!0)})}))),this._lightBulbWidget=new vs(()=>{const Se=this._register(ne.createInstance(bo,this._editor,I,z));return this._register(Se.onClick(je=>this.showCodeActionList(je.trigger,je.actions,je,{includeDisabledActions:!1}))),Se})}dispose(){Jo(this,ns,!0,"f"),super.dispose()}update(a){var I,z,se;return Do(this,void 0,void 0,function*(){if(a.type!==1){(I=this._lightBulbWidget.rawValue)===null||I===void 0||I.hide();return}let ne;try{ne=yield a.actions}catch(Se){(0,B.dL)(Se);return}if(!Cs(this,ns,"f"))if(this._lightBulbWidget.getValue().update(ne,a.trigger,a.position),a.trigger.type===1){if(!((z=a.trigger.filter)===null||z===void 0)&&z.include){const je=this.tryGetValidActionToApply(a.trigger,ne);if(je){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(je,!1)}finally{ne.dispose()}return}if(a.trigger.context){const Vt=this.getInvalidActionThatWouldHaveBeenApplied(a.trigger,ne);if(Vt&&Vt.action.disabled){os.get(this._editor).showMessage(Vt.action.disabled,a.trigger.context.position),ne.dispose();return}}}const Se=!!(!((se=a.trigger.filter)===null||se===void 0)&&se.include);if(a.trigger.context&&(!ne.allActions.length||!Se&&!ne.validActions.length)){os.get(this._editor).showMessage(a.trigger.context.notAvailableMessage,a.trigger.context.position),this._activeCodeActions.value=ne,ne.dispose();return}this._activeCodeActions.value=ne,this._codeActionWidget.getValue().show(a.trigger,ne,a.position,{includeDisabledActions:Se})}else this._codeActionWidget.getValue().isVisible?ne.dispose():this._activeCodeActions.value=ne})}getInvalidActionThatWouldHaveBeenApplied(a,I){if(I.allActions.length&&(a.autoApply==="first"&&I.validActions.length===0||a.autoApply==="ifSingle"&&I.allActions.length===1))return I.allActions.find(({action:z})=>z.disabled)}tryGetValidActionToApply(a,I){if(I.validActions.length&&(a.autoApply==="first"&&I.validActions.length>0||a.autoApply==="ifSingle"&&I.validActions.length===1))return I.validActions[0]}showCodeActionList(a,I,z,se){return Do(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(a,I,z,se)})}};ns=new WeakMap,ys=zo([lo(4,Dt.TG)],ys);var hs=c(98674),ks=c(10829),As=function(be,a,I,z){if(I==="a"&&!z)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?be!==a||!z:!a.has(be))throw new TypeError("Cannot read private member from an object whose class did not declare it");return I==="m"?z:I==="a"?z.call(be):z?z.value:a.get(be)},bs=function(be,a,I,z,se){if(z==="m")throw new TypeError("Private method is not writable");if(z==="a"&&!se)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?be!==a||!se:!a.has(be))throw new TypeError("Cannot write private member to an object whose class did not declare it");return z==="a"?se.call(be,I):se?se.value=I:a.set(be,I),I},un;const fs=new Re.uy("supportedCodeAction","");class co extends O.JT{constructor(a,I,z,se=250){super(),this._editor=a,this._markerService=I,this._signalChange=z,this._delay=se,this._autoTriggerTimer=this._register(new R._F),this._register(this._markerService.onMarkerChanged(ne=>this._onMarkerChanges(ne))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(a){const I=this._getRangeOfSelectionUnlessWhitespaceEnclosed(a);return this._createEventAndSignalChange(a,I)}_onMarkerChanges(a){const I=this._editor.getModel();I&&a.some(z=>(0,$e.Xy)(z,I.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(a){const I=this._editor.getModel();if(I)for(const z of this._markerService.read({resource:I.uri})){const se=I.validateRange(z);if(P.e.intersectRanges(se,a))return P.e.lift(se)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(a){if(!this._editor.hasModel())return;const I=this._editor.getModel(),z=this._editor.getSelection();if(z.isEmpty()&&a.type===2){const{lineNumber:se,column:ne}=z.getPosition(),Se=I.getLineContent(se);if(Se.length===0)return;if(ne===1){if(/\s/.test(Se[0]))return}else if(ne===I.getLineMaxColumn(se)){if(/\s/.test(Se[Se.length-1]))return}else if(/\s/.test(Se[ne-2])&&/\s/.test(Se[ne-1]))return}return z}_createEventAndSignalChange(a,I){const z=this._editor.getModel();if(!I||!z){this._signalChange(void 0);return}const se=this._getRangeOfMarker(I),ne=se?se.getStartPosition():I.getStartPosition(),Se={trigger:a,selection:I,position:ne};return this._signalChange(Se),Se}}var fo;(function(be){be.Empty={type:0};class a{constructor(z,se,ne,Se){this.trigger=z,this.rangeOrSelection=se,this.position=ne,this._cancellablePromise=Se,this.type=1,this.actions=Se.catch(je=>{if((0,B.VV)(je))return xo;throw je})}cancel(){this._cancellablePromise.cancel()}}be.Triggered=a})(fo||(fo={}));const xo={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class To extends O.JT{constructor(a,I,z,se){super(),this._editor=a,this._markerService=I,this._progressService=se,this._codeActionOracle=this._register(new O.XK),this._state=fo.Empty,this._onDidChangeState=this._register(new T.Q5),this.onDidChangeState=this._onDidChangeState.event,un.set(this,!1),this._supportedCodeActions=fs.bindTo(z),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(H.H9.onDidChange(()=>this._update())),this._update()}dispose(){As(this,un,"f")||(bs(this,un,!0,"f"),super.dispose(),this.setState(fo.Empty,!0))}_update(){if(As(this,un,"f"))return;this._codeActionOracle.value=void 0,this.setState(fo.Empty);const a=this._editor.getModel();if(a&&H.H9.has(a)&&!this._editor.getOption(80)){const I=[];for(const z of H.H9.all(a))Array.isArray(z.providedCodeActionKinds)&&I.push(...z.providedCodeActionKinds);this._supportedCodeActions.set(I.join(" ")),this._codeActionOracle.value=new co(this._editor,this._markerService,z=>{var se;if(!z){this.setState(fo.Empty);return}const ne=(0,R.PG)(Se=>Bs(a,z.selection,z.trigger,eo.E.None,Se));z.trigger.type===1&&((se=this._progressService)===null||se===void 0||se.showWhile(ne,250)),this.setState(new fo.Triggered(z.trigger,z.selection,z.position,ne))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(a){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(a)}setState(a,I){a!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=a,!I&&!As(this,un,"f")&&this._onDidChangeState.fire(a))}}un=new WeakMap;var ko=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},_o=function(be,a){return function(I,z){a(I,z,be)}},Yo=function(be,a,I,z){function se(ne){return ne instanceof I?ne:new I(function(Se){Se(ne)})}return new(I||(I=Promise))(function(ne,Se){function je(Et){try{Ht(z.next(Et))}catch(di){Se(di)}}function Vt(Et){try{Ht(z.throw(Et))}catch(di){Se(di)}}function Ht(Et){Et.done?ne(Et.value):se(Et.value).then(je,Vt)}Ht((z=z.apply(be,a||[])).next())})};function $o(be){return Re.Ao.regex(fs.keys()[0],new RegExp("(\\s|^)"+(0,Tt.ec)(be.value)+"\\b"))}const Qo={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:ue.N("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:ue.N("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[ue.N("args.schema.apply.first","Always apply the first returned code action."),ue.N("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),ue.N("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:ue.N("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let Bo=class Du extends O.JT{constructor(a,I,z,se,ne){super(),this._instantiationService=ne,this._editor=a,this._model=this._register(new To(this._editor,I,z,se)),this._register(this._model.onDidChangeState(Se=>this.update(Se))),this._ui=new vs(()=>this._register(new ys(a,qo.Id,rr.Id,{applyCodeAction:(Se,je)=>Yo(this,void 0,void 0,function*(){try{yield this._applyCodeAction(Se)}finally{je&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(a){return a.getContribution(Du.ID)}update(a){this._ui.getValue().update(a)}showCodeActions(a,I,z){return this._ui.getValue().showCodeActionList(a,I,z,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(a,I,z){if(!this._editor.hasModel())return;os.get(this._editor).closeMessage();const se=this._editor.getPosition();this._trigger({type:1,filter:I,autoApply:z,context:{notAvailableMessage:a,position:se}})}_trigger(a){return this._model.trigger(a)}_applyCodeAction(a){return this._instantiationService.invokeFunction(Uo,a,this._editor)}};Bo.ID="editor.contrib.quickFixController",Bo=ko([_o(1,hs.lT),_o(2,Re.i6),_o(3,eo.e),_o(4,Dt.TG)],Bo);function Uo(be,a,I){return Yo(this,void 0,void 0,function*(){const z=be.get(ss.vu),se=be.get(Ki.H),ne=be.get(ks.b),Se=be.get(Zi.lT);if(ne.publicLog2("codeAction.applyCodeAction",{codeActionTitle:a.action.title,codeActionKind:a.action.kind,codeActionIsPreferred:!!a.action.isPreferred}),yield a.resolve(xs.T.None),a.action.edit&&(yield z.apply(ss.fo.convert(a.action.edit),{editor:I,label:a.action.title})),a.action.command)try{yield se.executeCommand(a.action.command.id,...a.action.command.arguments||[])}catch(je){const Vt=Ko(je);Se.error(typeof Vt=="string"?Vt:ue.N("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function Ko(be){return typeof be=="string"?be:be instanceof Error&&typeof be.message=="string"?be.message:void 0}function Ao(be,a,I,z){if(be.hasModel()){const se=Bo.get(be);se&&se.manualTriggerAtCurrentPosition(a,I,z)}}class qo extends Q.R6{constructor(){super({id:qo.Id,label:ue.N("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Re.Ao.and(y.u.writable,y.u.hasCodeActionsProvider),kbOpts:{kbExpr:y.u.editorTextFocus,primary:2132,weight:100}})}run(a,I){return Ao(I,ue.N("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}qo.Id="editor.action.quickFix";class tr extends null{constructor(){super({id:codeActionCommandId,precondition:ContextKeyExpr.and(EditorContextKeys.writable,EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:Qo}]}})}runEditorCommand(a,I,z){const se=CodeActionCommandArgs.fromUser(z,{kind:CodeActionKind.Empty,apply:"ifSingle"});return Ao(I,typeof(z==null?void 0:z.kind)=="string"?se.preferred?nls.localize("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",z.kind):nls.localize("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",z.kind):se.preferred?nls.localize("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):nls.localize("editor.action.codeAction.noneMessage","No code actions available"),{include:se.kind,includeSourceActions:!0,onlyIncludePreferredActions:se.preferred},se.apply)}}class er extends null{constructor(){super({id:refactorCommandId,label:nls.localize("refactor.label","Refactor..."),alias:"Refactor...",precondition:ContextKeyExpr.and(EditorContextKeys.writable,EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:EditorContextKeys.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:ContextKeyExpr.and(EditorContextKeys.writable,$o(CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:Qo}]}})}run(a,I,z){const se=CodeActionCommandArgs.fromUser(z,{kind:CodeActionKind.Refactor,apply:"never"});return Ao(I,typeof(z==null?void 0:z.kind)=="string"?se.preferred?nls.localize("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",z.kind):nls.localize("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",z.kind):se.preferred?nls.localize("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):nls.localize("editor.action.refactor.noneMessage","No refactorings available"),{include:CodeActionKind.Refactor.contains(se.kind)?se.kind:CodeActionKind.None,onlyIncludePreferredActions:se.preferred},se.apply)}}class xr extends null{constructor(){super({id:sourceActionCommandId,label:nls.localize("source.label","Source Action..."),alias:"Source Action...",precondition:ContextKeyExpr.and(EditorContextKeys.writable,EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:ContextKeyExpr.and(EditorContextKeys.writable,$o(CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:Qo}]}})}run(a,I,z){const se=CodeActionCommandArgs.fromUser(z,{kind:CodeActionKind.Source,apply:"never"});return Ao(I,typeof(z==null?void 0:z.kind)=="string"?se.preferred?nls.localize("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",z.kind):nls.localize("editor.action.source.noneMessage.kind","No source actions for '{0}' available",z.kind):se.preferred?nls.localize("editor.action.source.noneMessage.preferred","No preferred source actions available"):nls.localize("editor.action.source.noneMessage","No source actions available"),{include:CodeActionKind.Source.contains(se.kind)?se.kind:CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:se.preferred},se.apply)}}class jo extends null{constructor(){super({id:organizeImportsCommandId,label:nls.localize("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:ContextKeyExpr.and(EditorContextKeys.writable,$o(CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:EditorContextKeys.editorTextFocus,primary:1581,weight:100}})}run(a,I){return Ao(I,nls.localize("editor.action.organize.noneMessage","No organize imports action available"),{include:CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}class yr extends null{constructor(){super({id:fixAllCommandId,label:nls.localize("fixAll.label","Fix All"),alias:"Fix All",precondition:ContextKeyExpr.and(EditorContextKeys.writable,$o(CodeActionKind.SourceFixAll))})}run(a,I){return Ao(I,nls.localize("fixAll.noneMessage","No fix all action available"),{include:CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}class rr extends Q.R6{constructor(){super({id:rr.Id,label:ue.N("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Re.Ao.and(y.u.writable,$o(zt.QuickFix)),kbOpts:{kbExpr:y.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(a,I){return Ao(I,ue.N("editor.action.autoFix.noneMessage","No auto fixes available"),{include:zt.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}rr.Id="editor.action.autoFix";var hr=c(91741),Io=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},pr=function(be,a){return function(I,z){a(I,z,be)}};class ar{constructor(a,I,z){this.marker=a,this.index=I,this.total=z}}let dr=class Eu{constructor(a,I){this._markerService=I,this._onDidChange=new T.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new O.SL,this._markers=[],this._nextIdx=-1,zi.o.isUri(a)?this._resourceFilter=se=>se.toString()===a.toString():a&&(this._resourceFilter=a);const z=()=>{this._markers=this._markerService.read({resource:zi.o.isUri(a)?a:void 0,severities:hs.ZL.Error|hs.ZL.Warning|hs.ZL.Info}),typeof a=="function"&&(this._markers=this._markers.filter(se=>this._resourceFilter(se.resource))),this._markers.sort(Eu._compareMarker)};z(),this._dispoables.add(I.onMarkerChanged(se=>{(!this._resourceFilter||se.some(ne=>this._resourceFilter(ne)))&&(z(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(a){return!this._resourceFilter&&!a?!0:!this._resourceFilter||!a?!1:this._resourceFilter(a)}get selected(){const a=this._markers[this._nextIdx];return a&&new ar(a,this._nextIdx+1,this._markers.length)}_initIdx(a,I,z){let se=!1,ne=this._markers.findIndex(Se=>Se.resource.toString()===a.uri.toString());ne<0&&(ne=(0,Me.ry)(this._markers,{resource:a.uri},(Se,je)=>(0,Tt.qu)(Se.resource.toString(),je.resource.toString())),ne<0&&(ne=~ne));for(let Se=ne;Se<this._markers.length;Se++){let je=P.e.lift(this._markers[Se]);if(je.isEmpty()){const Vt=a.getWordAtPosition(je.getStartPosition());Vt&&(je=new P.e(je.startLineNumber,Vt.startColumn,je.startLineNumber,Vt.endColumn))}if(I&&(je.containsPosition(I)||I.isBeforeOrEqual(je.getStartPosition()))){this._nextIdx=Se,se=!0;break}if(this._markers[Se].resource.toString()!==a.uri.toString())break}se||(this._nextIdx=z?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(a,I,z){if(this._markers.length===0)return!1;let se=this._nextIdx;return this._nextIdx===-1?this._initIdx(I,z,a):a?this._nextIdx=(this._nextIdx+1)%this._markers.length:a||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),se!==this._nextIdx}find(a,I){let z=this._markers.findIndex(se=>se.resource.toString()===a.toString());if(!(z<0)){for(;z<this._markers.length;z++)if(P.e.containsPosition(this._markers[z],I))return new ar(this._markers[z],z+1,this._markers.length)}}static _compareMarker(a,I){let z=(0,Tt.qu)(a.resource.toString(),I.resource.toString());return z===0&&(z=hs.ZL.compare(a.severity,I.severity)),z===0&&(z=P.e.compareRangesUsingStarts(a,I)),z}};dr=Io([pr(1,hs.lT)],dr);const fr=(0,Dt.yh)("IMarkerNavigationService");let ur=class{constructor(a){this._markerService=a,this._provider=new hr.S}getMarkerList(a){for(let I of this._provider){const z=I.getMarkerList(a);if(z)return z}return new dr(a,this._markerService)}};ur=Io([pr(0,hs.lT)],ur),(0,et.z)(fr,ur,!0);var Ar=c(59554),Ir=c(14603),ir;(function(be){function a(I){switch(I){case Ir.Z.Ignore:return"severity-ignore "+ee.lA.info.classNames;case Ir.Z.Info:return ee.lA.info.classNames;case Ir.Z.Warning:return ee.lA.warning.classNames;case Ir.Z.Error:return ee.lA.error.classNames;default:return""}}be.className=a})(ir||(ir={})),(0,st.Ic)((be,a)=>{const I=be.getColor(ht.Jp);if(I){const ne=ee.lA.error.cssSelector;a.addRule(`
			.monaco-editor .zone-widget ${ne},
			.markers-panel .marker-icon${ne},
			.text-search-provider-messages .providerMessage ${ne},
			.extensions-viewlet > .extensions ${ne} {
				color: ${I};
			}
		`)}const z=be.getColor(ht.BO);if(z){const ne=ee.lA.warning.cssSelector;a.addRule(`
			.monaco-editor .zone-widget ${ne},
			.markers-panel .marker-icon${ne},
			.extensions-viewlet > .extensions ${ne},
			.extension-editor ${ne},
			.text-search-provider-messages .providerMessage ${ne},
			.preferences-editor ${ne} {
				color: ${z};
			}
		`)}const se=be.getColor(ht.OL);if(se){const ne=ee.lA.info.cssSelector;a.addRule(`
			.monaco-editor .zone-widget ${ne},
			.markers-panel .marker-icon${ne},
			.extensions-viewlet > .extensions ${ne},
			.text-search-provider-messages .providerMessage ${ne},
			.extension-editor ${ne} {
				color: ${se};
			}
		`)}});var Cr=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},lr=function(be,a){return function(I,z){a(I,z,be)}};class Ns{constructor(a,I,z,se,ne){this._openerService=se,this._labelService=ne,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new O.SL,this._editor=I;const Se=document.createElement("div");Se.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),Se.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),Se.appendChild(this._relatedBlock),this._disposables.add(v.mu(this._relatedBlock,"click",je=>{je.preventDefault();const Vt=this._relatedDiagnostics.get(je.target);Vt&&z(Vt)})),this._scrollable=new Gn.NB(Se,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),a.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(je=>{Se.style.left=`-${je.scrollLeft}px`,Se.style.top=`-${je.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,O.B9)(this._disposables)}update(a){const{source:I,message:z,relatedInformation:se,code:ne}=a;let Se=((I==null?void 0:I.length)||0)+2;ne&&(typeof ne=="string"?Se+=ne.length:Se+=ne.value.length);const je=(0,Tt.uq)(z);this._lines=je.length,this._longestLineLength=0;for(const qi of je)this._longestLineLength=Math.max(qi.length+Se,this._longestLineLength);v.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(a)),this._editor.applyFontInfo(this._messageBlock);let Vt=this._messageBlock;for(const qi of je)Vt=document.createElement("div"),Vt.innerText=qi,qi===""&&(Vt.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(Vt);if(I||ne){const qi=document.createElement("span");if(qi.classList.add("details"),Vt.appendChild(qi),I){const Cn=document.createElement("span");Cn.innerText=I,Cn.classList.add("source"),qi.appendChild(Cn)}if(ne)if(typeof ne=="string"){const Cn=document.createElement("span");Cn.innerText=`(${ne})`,Cn.classList.add("code"),qi.appendChild(Cn)}else{this._codeLink=v.$("a.code-link"),this._codeLink.setAttribute("href",`${ne.target.toString()}`),this._codeLink.onclick=Hn=>{this._openerService.open(ne.target,{allowCommands:!0}),Hn.preventDefault(),Hn.stopPropagation()};const Cn=v.R3(this._codeLink,v.$("span"));Cn.innerText=ne.value,qi.appendChild(this._codeLink)}}if(v.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,Me.Of)(se)){const qi=this._relatedBlock.appendChild(document.createElement("div"));qi.style.paddingTop=`${Math.floor(this._editor.getOption(58)*.66)}px`,this._lines+=1;for(const Cn of se){let Hn=document.createElement("div"),go=document.createElement("a");go.classList.add("filename"),go.innerText=`${(0,on.p)(Cn.resource)}(${Cn.startLineNumber}, ${Cn.startColumn}): `,go.title=this._labelService.getUriLabel(Cn.resource),this._relatedDiagnostics.set(go,Cn);let yo=document.createElement("span");yo.innerText=Cn.message,Hn.appendChild(go),Hn.appendChild(yo),this._lines+=1,qi.appendChild(Hn)}}const Ht=this._editor.getOption(43),Et=Math.ceil(Ht.typicalFullwidthCharacterWidth*this._longestLineLength*.75),di=Ht.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:Et,scrollHeight:di})}layout(a,I){this._scrollable.getDomNode().style.height=`${a}px`,this._scrollable.getDomNode().style.width=`${I}px`,this._scrollable.setScrollDimensions({width:I,height:a})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(a){let I="";switch(a.severity){case hs.ZL.Error:I=ue.N("Error","Error");break;case hs.ZL.Warning:I=ue.N("Warning","Warning");break;case hs.ZL.Info:I=ue.N("Info","Info");break;case hs.ZL.Hint:I=ue.N("Hint","Hint");break}let z=ue.N("marker aria","{0} at {1}. ",I,a.startLineNumber+":"+a.startColumn);const se=this._editor.getModel();return se&&a.startLineNumber<=se.getLineCount()&&a.startLineNumber>=1&&(z=`${se.getLineContent(a.startLineNumber)}, ${z}`),z}}let Zn=class xu extends at{constructor(a,I,z,se,ne,Se,je){super(a,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},ne),this._themeService=I,this._openerService=z,this._menuService=se,this._contextKeyService=Se,this._labelService=je,this._callOnDispose=new O.SL,this._onDidSelectRelatedInformation=new T.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=hs.ZL.Warning,this._backgroundColor=de.Il.white,this._applyTheme(I.getColorTheme()),this._callOnDispose.add(I.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(a){this._backgroundColor=a.getColor(Vr);let I=vo,z=nr;this._severity===hs.ZL.Warning?(I=Vo,z=Xo):this._severity===hs.ZL.Info&&(I=to,z=Go);const se=a.getColor(I),ne=a.getColor(z);this.style({arrowColor:se,frameColor:se,headerBackgroundColor:ne,primaryHeadingColor:a.getColor(Ne),secondaryHeadingColor:a.getColor(Pe)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(a){super._fillHead(a),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(se=>this.editor.focus()));const I=[],z=this._menuService.createMenu(xu.TitleMenu,this._contextKeyService);(0,Oe.vr)(z,void 0,I),this._actionbarWidget.push(I,{label:!1,icon:!0,index:0}),z.dispose()}_fillTitleIcon(a){this._icon=v.R3(a,v.$(""))}_fillBody(a){this._parentContainer=a,a.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),a.appendChild(this._container),this._message=new Ns(this._container,this.editor,I=>this._onDidSelectRelatedInformation.fire(I),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(a,I,z){this._container.classList.remove("stale"),this._message.update(a),this._severity=a.severity,this._applyTheme(this._themeService.getColorTheme());let se=P.e.lift(a);const ne=this.editor.getPosition();let Se=ne&&se.containsPosition(ne)?ne:se.getStartPosition();super.show(Se,this.computeRequiredHeight());const je=this.editor.getModel();if(je){const Vt=z>1?ue.N("problems","{0} of {1} problems",I,z):ue.N("change","{0} of {1} problem",I,z);this.setTitle((0,$e.EZ)(je.uri),Vt)}this._icon.className=`codicon ${ir.className(hs.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(Se,0),this.editor.focus()}updateMarker(a){this._container.classList.remove("stale"),this._message.update(a)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(a,I){super._doLayoutBody(a,I),this._heightInPixel=a,this._message.layout(a,I),this._container.style.height=`${a}px`}_onWidth(a){this._message.layout(this._heightInPixel,a)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Zn.TitleMenu=new es.eH("gotoErrorTitleMenu"),Zn=Cr([lr(1,st.XE),lr(2,Gt.v4),lr(3,es.co),lr(4,Dt.TG),lr(5,Re.i6),lr(6,ft.e)],Zn);let rs=(0,ht.kw)(ht.lX,ht.b6),Os=(0,ht.kw)(ht.uo,ht.pW),Hs=(0,ht.kw)(ht.c6,ht.T8);const vo=(0,ht.P6)("editorMarkerNavigationError.background",{dark:rs,light:rs,hc:ht.lR},ue.N("editorMarkerNavigationError","Editor marker navigation widget error color.")),nr=(0,ht.P6)("editorMarkerNavigationError.headerBackground",{dark:(0,ht.Zn)(vo,.1),light:(0,ht.Zn)(vo,.1),hc:null},ue.N("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),Vo=(0,ht.P6)("editorMarkerNavigationWarning.background",{dark:Os,light:Os,hc:ht.lR},ue.N("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Xo=(0,ht.P6)("editorMarkerNavigationWarning.headerBackground",{dark:(0,ht.Zn)(Vo,.1),light:(0,ht.Zn)(Vo,.1),hc:"#0C141F"},ue.N("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),to=(0,ht.P6)("editorMarkerNavigationInfo.background",{dark:Hs,light:Hs,hc:ht.lR},ue.N("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),Go=(0,ht.P6)("editorMarkerNavigationInfo.headerBackground",{dark:(0,ht.Zn)(to,.1),light:(0,ht.Zn)(to,.1),hc:null},ue.N("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Vr=(0,ht.P6)("editorMarkerNavigation.background",{dark:ht.cv,light:ht.cv,hc:ht.cv},ue.N("editorMarkerNavigationBackground","Editor marker navigation widget background."));(0,st.Ic)((be,a)=>{const I=be.getColor(ht.ur);I&&a.addRule(`.monaco-editor .marker-widget a.code-link span { color: ${I}; }`);const z=be.getColor(ht.sg);z&&a.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${z}; }`)});var Nr=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},Or=function(be,a){return function(I,z){a(I,z,be)}},Tr=function(be,a,I,z){function se(ne){return ne instanceof I?ne:new I(function(Se){Se(ne)})}return new(I||(I=Promise))(function(ne,Se){function je(Et){try{Ht(z.next(Et))}catch(di){Se(di)}}function Vt(Et){try{Ht(z.throw(Et))}catch(di){Se(di)}}function Ht(Et){Et.done?ne(Et.value):se(Et.value).then(je,Vt)}Ht((z=z.apply(be,a||[])).next())})};let Eo=class Nl{constructor(a,I,z,se,ne){this._markerNavigationService=I,this._contextKeyService=z,this._editorService=se,this._instantiationService=ne,this._sessionDispoables=new O.SL,this._editor=a,this._widgetVisible=k.bindTo(this._contextKeyService)}static get(a){return a.getContribution(Nl.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(a){if(this._model&&this._model.matches(a))return this._model;let I=!1;return this._model&&(I=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(a),I&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Zn,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(z=>{var se,ne,Se;(!(!((se=this._model)===null||se===void 0)&&se.selected)||!P.e.containsPosition((ne=this._model)===null||ne===void 0?void 0:ne.selected.marker,z.position))&&((Se=this._model)===null||Se===void 0||Se.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const z=this._model.find(this._editor.getModel().uri,this._widget.position);z?this._widget.updateMarker(z.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(z=>{this._editorService.openCodeEditor({resource:z.resource,options:{pinned:!0,revealIfOpened:!0,selection:P.e.lift(z).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(a=!0){this._cleanUp(),a&&this._editor.focus()}showAtMarker(a){if(this._editor.hasModel()){const I=this._getOrCreateModel(this._editor.getModel().uri);I.resetIndex(),I.move(!0,this._editor.getModel(),new D.L(a.startLineNumber,a.startColumn)),I.selected&&this._widget.showAtMarker(I.selected.marker,I.selected.index,I.selected.total)}}nagivate(a,I){return Tr(this,void 0,void 0,function*(){if(this._editor.hasModel()){const z=this._getOrCreateModel(I?void 0:this._editor.getModel().uri);if(z.move(a,this._editor.getModel(),this._editor.getPosition()),!z.selected)return;if(z.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const se=yield this._editorService.openCodeEditor({resource:z.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:z.selected.marker}},this._editor);se&&(Nl.get(se).close(),Nl.get(se).nagivate(a,I))}else this._widget.showAtMarker(z.selected.marker,z.selected.index,z.selected.total)}})}};Eo.ID="editor.contrib.markerController",Eo=Nr([Or(1,fr),Or(2,Re.i6),Or(3,ve.$),Or(4,Dt.TG)],Eo);class Ct extends Q.R6{constructor(a,I,z){super(z),this._next=a,this._multiFile=I}run(a,I){return Tr(this,void 0,void 0,function*(){I.hasModel()&&Eo.get(I).nagivate(this._next,this._multiFile)})}}class e extends Ct{constructor(){super(!0,!1,{id:e.ID,label:e.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:y.u.focus,primary:578,weight:100},menuOpts:{menuId:Zn.TitleMenu,title:e.LABEL,icon:(0,Ar.q5)("marker-navigation-next",ee.lA.arrowDown,ue.N("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}e.ID="editor.action.marker.next",e.LABEL=ue.N("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class n extends Ct{constructor(){super(!1,!1,{id:n.ID,label:n.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:y.u.focus,primary:1602,weight:100},menuOpts:{menuId:Zn.TitleMenu,title:e.LABEL,icon:(0,Ar.q5)("marker-navigation-previous",ee.lA.arrowUp,ue.N("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}n.ID="editor.action.marker.prev",n.LABEL=ue.N("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class l extends Ct{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:ue.N("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:y.u.focus,primary:66,weight:100},menuOpts:{menuId:es.eH.MenubarGoMenu,title:ue.N({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class C extends Ct{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:ue.N("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:y.u.focus,primary:1090,weight:100},menuOpts:{menuId:es.eH.MenubarGoMenu,title:ue.N({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}(0,Q._K)(Eo.ID,Eo),(0,Q.Qr)(e),(0,Q.Qr)(n),(0,Q.Qr)(l),(0,Q.Qr)(C);const k=new Re.uy("markersNavigationVisible",!1),Z=Q._l.bindToContribution(Eo.get);(0,Q.fK)(new Z({id:"closeMarkersNavigation",precondition:k,handler:be=>be.close(),kbOpts:{weight:150,kbExpr:y.u.focus,primary:9,secondary:[1033]}}));var ie=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},ce=function(be,a){return function(I,z){a(I,z,be)}};const De=v.$;class Ae{constructor(a,I,z){this.owner=a,this.range=I,this.marker=z}isValidForHoverAnchor(a){return a.type===1&&this.range.startColumn<=a.range.startColumn&&this.range.endColumn>=a.range.endColumn}}const Ue={type:1,filter:{include:zt.QuickFix}};let Lt=class{constructor(a,I,z,se){this._editor=a,this._hover=I,this._markerDecorationsService=z,this._openerService=se,this.recentMarkerCodeActionsInfo=void 0}computeSync(a,I){if(!this._editor.hasModel()||a.type!==1)return[];const z=this._editor.getModel(),se=a.range.startLineNumber,ne=z.getLineMaxColumn(se),Se=[];for(const je of I){const Vt=je.range.startLineNumber===se?je.range.startColumn:1,Ht=je.range.endLineNumber===se?je.range.endColumn:ne,Et=this._markerDecorationsService.getMarker(z.uri,je);if(!Et)continue;const di=new P.e(a.range.startLineNumber,Vt,a.range.startLineNumber,Ht);Se.push(new Ae(this,di,Et))}return Se}renderHoverParts(a,I,z){if(!a.length)return O.JT.None;const se=new O.SL;a.forEach(Se=>I.appendChild(this.renderMarkerHover(Se,se)));const ne=a.length===1?a[0]:a.sort((Se,je)=>hs.ZL.compare(Se.marker.severity,je.marker.severity))[0];return this.renderMarkerStatusbar(ne,z,se),se}renderMarkerHover(a,I){const z=De("div.hover-row"),se=v.R3(z,De("div.marker.hover-contents")),{source:ne,message:Se,code:je,relatedInformation:Vt}=a.marker;this._editor.applyFontInfo(se);const Ht=v.R3(se,De("span"));if(Ht.style.whiteSpace="pre-wrap",Ht.innerText=Se,ne||je)if(je&&typeof je!="string"){const Et=De("span");if(ne){const Hn=v.R3(Et,De("span"));Hn.innerText=ne}const di=v.R3(Et,De("a.code-link"));di.setAttribute("href",je.target.toString()),I.add(v.nm(di,"click",Hn=>{this._openerService.open(je.target,{allowCommands:!0}),Hn.preventDefault(),Hn.stopPropagation()}));const qi=v.R3(di,De("span"));qi.innerText=je.value;const Cn=v.R3(se,Et);Cn.style.opacity="0.6",Cn.style.paddingLeft="6px"}else{const Et=v.R3(se,De("span"));Et.style.opacity="0.6",Et.style.paddingLeft="6px",Et.innerText=ne&&je?`${ne}(${je})`:ne||`(${je})`}if((0,Me.Of)(Vt))for(const{message:Et,resource:di,startLineNumber:qi,startColumn:Cn}of Vt){const Hn=v.R3(se,De("div"));Hn.style.marginTop="8px";const go=v.R3(Hn,De("a"));go.innerText=`${(0,$e.EZ)(di)}(${qi}, ${Cn}): `,go.style.cursor="pointer",I.add(v.nm(go,"click",Wo=>{Wo.stopPropagation(),Wo.preventDefault(),this._openerService&&this._openerService.open(di,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:qi,startColumn:Cn}}}).catch(B.dL)}));const yo=v.R3(Hn,De("span"));yo.innerText=Et,this._editor.applyFontInfo(yo)}return z}renderMarkerStatusbar(a,I,z){if((a.marker.severity===hs.ZL.Error||a.marker.severity===hs.ZL.Warning||a.marker.severity===hs.ZL.Info)&&I.addAction({label:ue.N("view problem","View Problem"),commandId:e.ID,run:()=>{this._hover.hide(),Eo.get(this._editor).showAtMarker(a.marker),this._editor.focus()}}),!this._editor.getOption(80)){const se=I.append(De("div"));this.recentMarkerCodeActionsInfo&&(hs.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===hs.H0.makeKey(a.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(se.textContent=ue.N("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const ne=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?O.JT.None:z.add((0,R.Vg)(()=>se.textContent=ue.N("checkingForQuickFixes","Checking for quick fixes..."),200));se.textContent||(se.textContent="\xA0");const Se=this.getCodeActions(a.marker);z.add((0,O.OF)(()=>Se.cancel())),Se.then(je=>{if(ne.dispose(),this.recentMarkerCodeActionsInfo={marker:a.marker,hasCodeActions:je.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){je.dispose(),se.textContent=ue.N("noQuickFixes","No quick fixes available");return}se.style.display="none";let Vt=!1;z.add((0,O.OF)(()=>{Vt||je.dispose()})),I.addAction({label:ue.N("quick fixes","Quick Fix..."),commandId:qo.Id,run:Ht=>{Vt=!0;const Et=Bo.get(this._editor),di=v.i(Ht);this._hover.hide(),Et.showCodeActions(Ue,je,{x:di.left+6,y:di.top+di.height+6})}})},B.dL)}}getCodeActions(a){return(0,R.PG)(I=>Bs(this._editor.getModel(),new P.e(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn),Ue,eo.E.None,I))}};Lt=ie([ce(2,Ut.i),ce(3,Gt.v4)],Lt),(0,st.Ic)((be,a)=>{const I=be.getColor(ht.ur);I&&a.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${I}; }`);const z=be.getColor(ht.sg);z&&a.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${z}; }`)});var _t=c(47707);const Bt="editor.action.inlineSuggest.commit";var Xt=c(89495),fi=c(69386);class Di{constructor(a,I,z=0){this.lineNumber=a,this.parts=I,this.additionalReservedLineCount=z}renderForScreenReader(a){if(this.parts.length===0)return"";const I=this.parts[this.parts.length-1],z=a.substr(0,I.column-1);return Ti(z,this.parts.map(ne=>({range:{startLineNumber:1,endLineNumber:1,startColumn:ne.column,endColumn:ne.column},text:ne.lines.join(`
`)}))).substring(this.parts[0].column-1)}}class Wi{constructor(a){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let I=0;I<a.length;I++)a.charAt(I)===`
`&&this.lineStartOffsetByLineIdx.push(I+1)}getOffset(a){return this.lineStartOffsetByLineIdx[a.lineNumber-1]+a.column-1}}function Ti(be,a){const I=new Wi(be),z=a.map(se=>{const ne=P.e.lift(se.range);return{startOffset:I.getOffset(ne.getStartPosition()),endOffset:I.getOffset(ne.getEndPosition()),text:se.text}});z.sort((se,ne)=>ne.startOffset-se.startOffset);for(const se of z)be=be.substring(0,se.startOffset)+se.text+be.substring(se.endOffset);return be}class Yi{constructor(a,I,z){this.column=a,this.lines=I,this.preview=z}}class Pi extends O.JT{constructor(a){super(),this.editor=a,this._expanded=void 0,this.onDidChangeEmitter=new T.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(a.onDidChangeConfiguration(I=>{I.hasChanged(105)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(a){this._expanded=!0,this.onDidChangeEmitter.fire()}}var Dn=c(22571);function vn(be,a){return be===a?!0:!be||!a?!1:be.range.equalsRange(a.range)&&be.text===a.text&&be.command===a.command}function Qi(be,a,I,z,se=0){if(be.range.startLineNumber!==be.range.endLineNumber)return;const ne=a.getLineContent(be.range.startLineNumber),Se=Tt.V8(ne).length;if(be.range.startColumn-1<=Se){const Cn=Tt.V8(be.text).length,Hn=ne.substring(be.range.startColumn-1,Se),go=P.e.fromPositions(be.range.getStartPosition().delta(0,Hn.length),be.range.getEndPosition()),yo=be.text.startsWith(Hn)?be.text.substring(Hn.length):be.text.substring(Cn);be={range:go,text:yo,command:be.command}}const Vt=a.getValueInRange(be.range),Ht=Sn(Vt,be.text);if(!Ht)return;const Et=be.range.startLineNumber,di=new Array;if(I==="prefix"){const Cn=Ht.filter(Hn=>Hn.originalLength===0);if(Cn.length>1||Cn.length===1&&Cn[0].originalStart!==Vt.length)return}const qi=be.text.length-se;for(const Cn of Ht){const Hn=be.range.startColumn+Cn.originalStart+Cn.originalLength;if(I==="subwordSmart"&&z&&z.lineNumber===be.range.startLineNumber&&Hn<z.column||Cn.originalLength>0)return;if(Cn.modifiedLength===0)continue;const go=Cn.modifiedStart+Cn.modifiedLength,yo=Math.max(Cn.modifiedStart,Math.min(go,qi)),Wo=be.text.substring(Cn.modifiedStart,yo),sr=be.text.substring(yo,Math.max(Cn.modifiedStart,go));if(Wo.length>0){const _r=Tt.uq(Wo);di.push(new Yi(Hn,_r,!1))}if(sr.length>0){const _r=Tt.uq(sr);di.push(new Yi(Hn,_r,!0))}}return new Di(Et,di,0)}let mn;function Sn(be,a){if((mn==null?void 0:mn.originalValue)===be&&(mn==null?void 0:mn.newValue)===a)return mn==null?void 0:mn.changes;{const I=Un(be,a);return mn={originalValue:be,newValue:a,changes:I},I}}function Un(be,a){if(be.length>5e3||a.length>5e3)return;function I(Vt){let Ht=0;for(let Et=0,di=Vt.length;Et<di;Et++){const qi=Vt.charCodeAt(Et);qi>Ht&&(Ht=qi)}return Ht}const z=Math.max(I(be),I(a));function se(Vt){if(Vt<0)throw new Error("unexpected");return z+Vt+1}function ne(Vt){let Ht=0,Et=0;const di=new Int32Array(Vt.length);for(let qi=0,Cn=Vt.length;qi<Cn;qi++){const Hn=Et*100+Ht;Vt[qi]==="("?(di[qi]=se(2*Hn),Ht++):Vt[qi]===")"?(di[qi]=se(2*Hn+1),Ht===1&&Et++,Ht=Math.max(Ht-1,0)):di[qi]=Vt.charCodeAt(qi)}return di}const Se=ne(be),je=ne(a);return new Dn.Hs({getElements:()=>Se},{getElements:()=>je}).ComputeDiff(!1).changes}var Qs=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},no=function(be,a){return function(I,z){a(I,z,be)}},Ks=function(be,a,I,z){function se(ne){return ne instanceof I?ne:new I(function(Se){Se(ne)})}return new(I||(I=Promise))(function(ne,Se){function je(Et){try{Ht(z.next(Et))}catch(di){Se(di)}}function Vt(Et){try{Ht(z.throw(Et))}catch(di){Se(di)}}function Ht(Et){Et.done?ne(Et.value):se(Et.value).then(je,Vt)}Ht((z=z.apply(be,a||[])).next())})};let Ps=class extends O.JT{constructor(a,I,z){super(),this.editor=a,this.cache=I,this.commandService=z,this.onDidChangeEmitter=new T.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new O.XK),this.active=!1,this.disposed=!1,this._register(z.onDidExecuteCommand(se=>{new Set([Q.n_.id,Q.kz.id,Xt.CoreEditingCommands.Tab.id,Xt.CoreEditingCommands.DeleteLeft.id,Xt.CoreEditingCommands.DeleteRight.id,Bt,"acceptSelectedSuggestion"]).has(se.commandId)&&a.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(se=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(se=>{this.session&&!this.session.isValid&&this.hide()})),this._register((0,O.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var a;return(a=this.session)===null||a===void 0?void 0:a.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(a){var I;(I=this.session)===null||I===void 0||I.setExpanded(a)}setActive(a){var I;this.active=a,a&&((I=this.session)===null||I===void 0||I.scheduleAutomaticUpdate())}startSessionIfTriggered(){this.editor.getOption(54).enabled&&(this.session&&this.session.isValid||this.trigger(H.bw.Automatic))}trigger(a){if(this.completionSession.value){a===H.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new Oo(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,a),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var a;(a=this.session)===null||a===void 0||a.commitCurrentCompletion()}showNext(){var a;(a=this.session)===null||a===void 0||a.showNextInlineCompletion()}showPrevious(){var a;(a=this.session)===null||a===void 0||a.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var a;return Ks(this,void 0,void 0,function*(){const I=yield(a=this.session)===null||a===void 0?void 0:a.hasMultipleInlineCompletions();return I!==void 0?I:!1})}};Ps=Qs([no(2,Ki.H)],Ps);class Oo extends Pi{constructor(a,I,z,se,ne,Se){super(a),this.triggerPosition=I,this.shouldUpdate=z,this.commandService=se,this.cache=ne,this.initialTriggerKind=Se,this.minReservedLineCount=0,this.updateOperation=this._register(new O.XK),this.updateSoon=this._register(new R.pY(()=>{let Vt=this.initialTriggerKind;return this.initialTriggerKind=H.bw.Automatic,this.update(Vt)},50)),this.currentlySelectedCompletionId=void 0;let je;this._register(this.onDidChange(()=>{const Vt=this.currentCompletion;if(Vt&&Vt.sourceInlineCompletion!==je){je=Vt.sourceInlineCompletion;const Ht=Vt.sourceProvider;Ht.handleItemDidShow&&Ht.handleItemDidShow(Vt.sourceInlineCompletions,je)}})),this._register((0,O.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(Vt=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(Vt=>{this.scheduleAutomaticUpdate()})),this._register(H.zu.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const a=this.cache.value.completions.findIndex(I=>I.semanticId===this.currentlySelectedCompletionId);return a===-1?(this.currentlySelectedCompletionId=void 0,0):a}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var a;return Ks(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const I=((a=this.cache.value)===null||a===void 0?void 0:a.completions)||[];if(I.length>0){const z=(this.fixAndGetIndexOfCurrentSelection()+1)%I.length;this.currentlySelectedCompletionId=I[z].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var a;return Ks(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const I=((a=this.cache.value)===null||a===void 0?void 0:a.completions)||[];if(I.length>0){const z=(this.fixAndGetIndexOfCurrentSelection()+I.length-1)%I.length;this.currentlySelectedCompletionId=I[z].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var a;return Ks(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===H.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(H.bw.Explicit):((a=this.cache.value)===null||a===void 0?void 0:a.triggerKind)!==H.bw.Explicit&&(yield this.update(H.bw.Explicit))})}hasMultipleInlineCompletions(){var a;return Ks(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((a=this.cache.value)===null||a===void 0?void 0:a.completions.length)||0)>1})}get ghostText(){const a=this.currentCompletion,I=this.editor.getOptions().get(54).mode;return a?Qi(a,this.editor.getModel(),I,this.editor.getPosition()):void 0}get currentCompletion(){const a=this.currentCachedCompletion;if(a)return a.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(a){return Ks(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const I=this.editor.getPosition(),z=(0,R.PG)(ne=>Ks(this,void 0,void 0,function*(){let Se;try{Se=yield Hr(I,this.editor.getModel(),{triggerKind:a,selectedSuggestionInfo:void 0},ne)}catch(je){(0,B.dL)(je);return}ne.isCancellationRequested||(this.cache.setValue(this.editor,Se,a),this.onDidChangeEmitter.fire())})),se=new No(z,a);this.updateOperation.value=se,yield z,this.updateOperation.value===se&&this.updateOperation.clear()})}takeOwnership(a){this._register(a)}commitCurrentCompletion(){if(!this.ghostText)return;const a=this.currentCompletion;a&&this.commit(a)}commit(a){const I=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[fi.h.replaceMove(a.range,a.text)]),a.command?this.commandService.executeCommand(a.command.id,...a.command.arguments||[]).finally(()=>{I==null||I.dispose()}).then(void 0,B.Cp):I==null||I.dispose(),this.onDidChangeEmitter.fire()}}class No{constructor(a,I){this.promise=a,this.triggerKind=I}dispose(){this.promise.cancel()}}class Mo extends O.JT{constructor(a,I,z,se){super(),this.triggerKind=se;const ne=a.deltaDecorations([],I.items.map(Se=>({range:Se.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,O.OF)(()=>{a.deltaDecorations(ne,[])})),this.completions=I.items.map((Se,je)=>new Zo(Se,ne[je])),this._register(a.onDidChangeModelContent(()=>{let Se=!1;const je=a.getModel();for(const Vt of this.completions){const Ht=je.getDecorationRange(Vt.decorationId);if(!Ht){(0,B.dL)(new Error("Decoration has no range"));continue}Vt.synchronizedRange.equalsRange(Ht)||(Se=!0,Vt.synchronizedRange=Ht)}Se&&z()})),this._register(I)}}class Zo{constructor(a,I){this.inlineCompletion=a,this.decorationId=I,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=a.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function sa(be,a){const I=a.getWordAtPosition(be),z=a.getLineMaxColumn(be.lineNumber);return I?new P.e(be.lineNumber,I.startColumn,be.lineNumber,z):P.e.fromPositions(be,be.with(void 0,z))}function Hr(be,a,I,z=xs.T.None){return Ks(this,void 0,void 0,function*(){const se=sa(be,a),ne=H.zu.all(a),Se=yield Promise.all(ne.map(Vt=>Ks(this,void 0,void 0,function*(){const Ht=yield Vt.provideInlineCompletions(a,be,I,z);return{completions:Ht,provider:Vt,dispose:()=>{Ht&&Vt.freeInlineCompletions(Ht)}}}))),je=new Map;for(const Vt of Se){const Ht=Vt.completions;if(Ht)for(const Et of Ht.items.map(di=>({text:di.text,range:di.range?P.e.lift(di.range):se,command:di.command,sourceProvider:Vt.provider,sourceInlineCompletions:Ht,sourceInlineCompletion:di})))Et.range.startLineNumber===Et.range.endLineNumber&&je.set(JSON.stringify({text:Et.text,range:Et.range}),Et)}return{items:[...je.values()],dispose:()=>{for(const Vt of Se)Vt.dispose()}}})}function _a(be,a){if(!a)return a;const I=be.getValueInRange(a.range),z=(0,Tt.Mh)(I,a.text),se=be.getOffsetAt(a.range.getStartPosition())+z,ne=be.getPositionAt(se),Se=I.substr(z),je=(0,Tt.P1)(Se,a.text),Vt=be.getPositionAt(Math.max(se,be.getOffsetAt(a.range.getEndPosition())-je));return{range:P.e.fromPositions(ne,Vt),text:a.text.substr(z,a.text.length-z-je)}}var oa=c(63472),Ya=c(44951),zr=c(73707);function Lr(be,a){return{object:be,dispose:()=>a==null?void 0:a.dispose()}}function kl(be,a){return(I,z)=>a(be(I),be(z))}function Qr(){return(be,a)=>be-a}function Qa(be,a){let I;for(const z of be)(I===void 0||a(z,I)>0)&&(I=z);return I}class Al extends O.JT{constructor(a,I){super(),this.editor=a,this.suggestControllerPreselector=I,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentInlineCompletion=void 0,this.onDidChangeEmitter=new T.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new R.pY(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(a.onKeyDown(se=>{se.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(a.onKeyUp(se=>{se.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const z=zr.SuggestController.get(this.editor);if(z){this._register(z.registerSelector({priority:100,select:(Se,je,Vt)=>{const Ht=this.editor.getModel(),Et=_a(Ht,this.suggestControllerPreselector());if(!Et)return-1;const di=D.L.lift(je),qi=Vt.map((Hn,go)=>{const yo=va(z,di,Hn,this.isShiftKeyPressed),Wo=_a(Ht,yo);if(!Wo)return;const sr=Ma(Et.range,Wo.range)&&Et.text.startsWith(Wo.text);return{index:go,valid:sr,prefixLength:Wo.text.length,suggestItem:Hn}}).filter(Hn=>Hn&&Hn.valid),Cn=Qa(qi,kl(Hn=>Hn.prefixLength,Qr()));return Cn?Cn.index:-1}}));let se=!1;const ne=()=>{se||(se=!0,this._register(z.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(z.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(z.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(T.ju.once(z.model.onDidTrigger)(Se=>{ne()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItemAsInlineCompletion:this._currentInlineCompletion}}update(a){const I=this.getInlineCompletion();let z=!1;vn(this._currentInlineCompletion,I)||(this._currentInlineCompletion=I,z=!0),this._isActive!==a&&(this._isActive=a,z=!0),z&&this.onDidChangeEmitter.fire()}getInlineCompletion(){const a=zr.SuggestController.get(this.editor);if(!a||!this.isSuggestWidgetVisible)return;const I=a.widget.value.getFocusedItem();if(I)return va(a,this.editor.getPosition(),I.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const a=zr.SuggestController.get(this.editor);a&&a.stopForceRenderingAbove()}forceRenderingAbove(){const a=zr.SuggestController.get(this.editor);a&&a.forceRenderingAbove()}}function Ma(be,a){return be.startLineNumber===a.startLineNumber&&be.startColumn===a.startColumn&&(be.endLineNumber<a.endLineNumber||be.endLineNumber===a.endLineNumber&&be.endColumn<=a.endColumn)}function va(be,a,I,z){if(Array.isArray(I.completion.additionalTextEdits)&&I.completion.additionalTextEdits.length>0)return{text:"",range:P.e.fromPositions(a,a)};let{insertText:se}=I.completion;if(I.completion.insertTextRules&4){const Se=new oa.Yj().parse(se),je=be.editor.getModel();if(Se.children.length>100)return;Ya.l.adjustWhitespace(je,a,Se,!0,!0),se=Se.toString()}const ne=be.getOverwriteInfo(I,z);return{text:se,range:P.e.fromPositions(a.delta(0,-ne.overwriteBefore),a.delta(0,Math.max(ne.overwriteAfter,0)))}}var Xa=function(be,a,I,z){function se(ne){return ne instanceof I?ne:new I(function(Se){Se(ne)})}return new(I||(I=Promise))(function(ne,Se){function je(Et){try{Ht(z.next(Et))}catch(di){Se(di)}}function Vt(Et){try{Ht(z.throw(Et))}catch(di){Se(di)}}function Ht(Et){Et.done?ne(Et.value):se(Et.value).then(je,Vt)}Ht((z=z.apply(be,a||[])).next())})};class Ol extends Pi{constructor(a,I){super(a),this.cache=I,this.suggestionInlineCompletionSource=this._register(new Al(this.editor,()=>{var z,se;return(se=(z=this.cache.value)===null||z===void 0?void 0:z.completions[0])===null||se===void 0?void 0:se.toLiveInlineCompletion()})),this.updateOperation=this._register(new O.XK),this.updateCacheSoon=this._register(new R.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const se=this.ghostText;se&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,Pr(se.parts.map(ne=>ne.lines.length-1)))),this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(z=>{this.isSuggestionPreviewEnabled()&&(this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire())})),this._register((0,O.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(105).preview}updateCache(){return Xa(this,void 0,void 0,function*(){const a=this.suggestionInlineCompletionSource.state;if(!a||!a.selectedItemAsInlineCompletion)return;const I={text:a.selectedItemAsInlineCompletion.text,range:a.selectedItemAsInlineCompletion.range},z=this.editor.getPosition(),se=(0,R.PG)(Se=>Xa(this,void 0,void 0,function*(){let je;try{je=yield Hr(z,this.editor.getModel(),{triggerKind:H.bw.Automatic,selectedSuggestionInfo:I},Se)}catch(Vt){(0,B.dL)(Vt);return}Se.isCancellationRequested||(this.cache.setValue(this.editor,je,H.bw.Automatic),this.onDidChangeEmitter.fire())})),ne=new No(se,H.bw.Automatic);this.updateOperation.value=ne,yield se,this.updateOperation.value===ne&&this.updateOperation.clear()})}get ghostText(){var a,I;if(!this.isSuggestionPreviewEnabled())return;const z=this.suggestionInlineCompletionSource.state,se=_a(this.editor.getModel(),z==null?void 0:z.selectedItemAsInlineCompletion),ne=_a(this.editor.getModel(),(I=(a=this.cache.value)===null||a===void 0?void 0:a.completions[0])===null||I===void 0?void 0:I.toLiveInlineCompletion()),Se=ne&&se&&ne.text.startsWith(se.text)&&ne.range.equalsRange(se.range)?ne:se||ne,je=se?((Se==null?void 0:Se.text.length)||0)-se.text.length:0;return(Et=>{const di=this.editor.getOptions().get(105).previewMode;return Et?Qi(Et,this.editor.getModel(),di,this.editor.getPosition(),je)||new Di(Et.range.endLineNumber,[],this.minReservedLineCount):void 0})(Se)}}function Pr(be){return be.reduce((a,I)=>a+I,0)}var Pl=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},Fl=function(be,a){return function(I,z){a(I,z,be)}},Bl=function(be,a,I,z){function se(ne){return ne instanceof I?ne:new I(function(Se){Se(ne)})}return new(I||(I=Promise))(function(ne,Se){function je(Et){try{Ht(z.next(Et))}catch(di){Se(di)}}function Vt(Et){try{Ht(z.throw(Et))}catch(di){Se(di)}}function Ht(Et){Et.done?ne(Et.value):se(Et.value).then(je,Vt)}Ht((z=z.apply(be,a||[])).next())})};class Ja extends O.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new T.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new O.XK)}get targetModel(){var a;return(a=this.currentModelRef.value)===null||a===void 0?void 0:a.object}setTargetModel(a){var I;((I=this.currentModelRef.value)===null||I===void 0?void 0:I.object)!==a&&(this.currentModelRef.clear(),this.currentModelRef.value=a?Lr(a,a.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var a,I;return this.hasCachedGhostText||(this.cachedGhostText=(I=(a=this.currentModelRef.value)===null||a===void 0?void 0:a.object)===null||I===void 0?void 0:I.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(a){var I;(I=this.targetModel)===null||I===void 0||I.setExpanded(a)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let Ra=class extends Ja{constructor(a,I){super(),this.editor=a,this.commandService=I,this.sharedCache=this._register(new Ur),this.suggestWidgetAdapterModel=this._register(new Ol(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new Ps(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(a){var I;const z=(I=this.activeInlineCompletionsModel)===null||I===void 0?void 0:I.ghostText;return z?z.parts.some(se=>a.containsPosition(new D.L(z.lineNumber,se.column))):!1}triggerInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.trigger(H.bw.Explicit)}commitInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.commitCurrentSuggestion()}hideInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.hide()}showNextInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.showNext()}showPreviousInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.showPrevious()}hasMultipleInlineCompletions(){var a;return Bl(this,void 0,void 0,function*(){const I=yield(a=this.activeInlineCompletionsModel)===null||a===void 0?void 0:a.hasMultipleInlineCompletions();return I!==void 0?I:!1})}};Ra=Pl([Fl(1,Ki.H)],Ra);class Ur extends O.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new T.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new O.XK)}get value(){return this.cache.value}setValue(a,I,z){this.cache.value=new Mo(a,I,()=>this.onDidChangeEmitter.fire(),z)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var ra=c(87917),qa=c(64141),Wl=c(33181),el=c(78411),Vl=c(50072),aa=c(27869),tl=c(92550),il=c(77736),Hl=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},Xr=function(be,a){return function(I,z){a(I,z,be)}},Ca;const nl=(Ca=window.trustedTypes)===null||Ca===void 0?void 0:Ca.createPolicy("editorGhostText",{createHTML:be=>be});let Fr=class extends O.JT{constructor(a,I,z,se){super(),this.editor=a,this.model=I,this.instantiationService=z,this.modeService=se,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(Mr,this.editor)),this.additionalLinesWidget=this._register(new zl(this.editor,this.modeService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(ne=>{(ne.hasChanged(29)||ne.hasChanged(104)||ne.hasChanged(87)||ne.hasChanged(82)||ne.hasChanged(44)||ne.hasChanged(43)||ne.hasChanged(58))&&this.update()})),this._register((0,O.OF)(()=>{var ne;this.disposed=!0,this.update(),(ne=this.viewMoreContentWidget)===null||ne===void 0||ne.dispose(),this.viewMoreContentWidget=void 0})),this._register(I.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(a){return this.additionalLinesWidget.viewZoneId===a}update(){var a;const I=this.model.ghostText;if(!this.editor.hasModel()||!I||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}const z=new Array,se=new Array;function ne(Ht,Et){if(se.length>0){const di=se[se.length-1];Et&&di.decorations.push(new tl.Kp(di.content.length+1,di.content.length+1+Ht[0].length,Et,0)),di.content+=Ht[0],Ht=Ht.slice(1)}for(const di of Ht)se.push({content:di,decorations:Et?[new tl.Kp(1,di.length+1,Et,0)]:[]})}const Se=this.editor.getModel().getLineContent(I.lineNumber);this.editor.getModel().getLineTokens(I.lineNumber);let je,Vt=0;for(const Ht of I.parts){let Et=Ht.lines;je===void 0?(z.push({column:Ht.column,text:Et[0],preview:Ht.preview}),Et=Et.slice(1)):ne([Se.substring(Vt,Ht.column-1)],void 0),Et.length>0&&(ne(Et,"ghost-text"),je===void 0&&Ht.column<=Se.length&&(je=Ht.column)),Vt=Ht.column-1}je!==void 0&&ne([Se.substring(Vt)],void 0),this.partsWidget.setParts(I.lineNumber,z,je!==void 0?{column:je,length:Se.length+1-je}:void 0),this.additionalLinesWidget.updateLines(I.lineNumber,se,I.additionalReservedLineCount),I.parts.some(Ht=>Ht.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new D.L(I.lineNumber,this.editor.getModel().getLineMaxColumn(I.lineNumber)),"",0):((a=this.viewMoreContentWidget)===null||a===void 0||a.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(a,I,z){const se=this.editor.getOption(43),ne=document.createElement("div");ne.className="suggest-preview-additional-widget",ra.V.applyFontInfoSlow(ne,se);const Se=document.createElement("span");Se.className="content-spacer",Se.append(I),ne.append(Se);const je=document.createElement("span");je.className="content-newline suggest-preview-text",je.append("\u23CE  "),ne.append(je);const Vt=new O.SL,Ht=document.createElement("div");return Ht.className="button suggest-preview-text",Ht.append(`+${z} lines\u2026`),Vt.add(v.mu(Ht,"mousedown",Et=>{var di;(di=this.model)===null||di===void 0||di.setExpanded(!0),Et.preventDefault(),this.editor.focus()})),ne.append(Ht),new sl(this.editor,a,ne,Vt)}};Fr=Hl([Xr(2,Dt.TG),Xr(3,X.h)],Fr);let Mr=class{constructor(a,I,z,se){this.editor=a,this.codeEditorService=I,this.themeService=z,this.contextKeyService=se,this.decorationIds=[],this.disposableStore=new O.SL}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(a,I,z){this.disposableStore.clear();const se=this.themeService.getColorTheme(),ne=se.getColor(aa.N5);let Se,je;ne&&(Se=String(ne.rgba.a),je=de.Il.Format.CSS.format(ka(ne)));const Vt=se.getColor(aa.x3);let Ht;Vt&&(Ht=`2px dashed ${Vt}`);const Et=this.editor.getModel();if(!Et)return;const{tabSize:di}=Et.getOptions(),qi=Et.getLineContent(a)||"";let Cn=0,Hn="";const go=new Array;z&&go.push({range:P.e.fromPositions(new D.L(a,z.column),new D.L(a,z.column+z.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});const yo=this.contextKeyService.getContextKeyValue("config.editor.useInjectedText"),Wo=yo===void 0?!0:!!yo;this.decorationIds=this.editor.deltaDecorations(this.decorationIds,I.map(sr=>{Hn+=qi.substring(Cn,sr.column-1),Cn=sr.column-1;const _r=Wo?sr.text:this.renderSingleLineText(sr.text,Hn,di,!1),La=this.disposableStore.add(ba(this.codeEditorService,"ghost-text","0-ghost-text-",{after:{contentText:_r,opacity:Se,color:je,border:Ht,fontWeight:sr.preview?"bold":"normal"}}));return{range:P.e.fromPositions(new D.L(a,sr.column)),options:Wo?{description:"ghost-text",after:{content:_r,inlineClassName:sr.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}:Object.assign({},La.resolve())}}).concat(go))}renderSingleLineText(a,I,z,se){const ne=I+a,Se=Wl.io.visibleColumnsByColumns(ne,z);let je="",Vt=I.length+1;for(const Ht of a){if(Ht==="	"){const Et=Se[Vt+1]-Se[Vt];if(se){je+="\u2192";for(let di=1;di<Et;di++)je+="\xA0"}else for(let di=0;di<Et;di++)je+="\xA0"}else Ht===" "?se?je+="\xB7":je+="\xA0":je+=Ht;Vt+=1}return je}};Mr=Hl([Xr(1,ve.$),Xr(2,st.XE),Xr(3,Re.i6)],Mr);function ka(be){const{r:a,b:I,g:z}=be.rgba;return new de.Il(new de.VS(a,z,I,255))}class zl{constructor(a,I){this.editor=a,this.languageIdCodec=I,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(a=>{this._viewZoneId&&(a.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(a,I,z){const se=this.editor.getModel();if(!se)return;const{tabSize:ne}=se.getOptions();this.editor.changeViewZones(Se=>{this._viewZoneId&&(Se.removeZone(this._viewZoneId),this._viewZoneId=void 0);const je=Math.max(I.length,z);if(je>0){const Vt=document.createElement("div");Ul(Vt,ne,I,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=Se.addZone({afterLineNumber:a,heightInLines:je,domNode:Vt})}})}}function Ul(be,a,I,z,se){const ne=z.get(29),Se=z.get(104),je="none",Vt=z.get(82),Ht=z.get(44),Et=z.get(43),di=z.get(58),qi=(0,Vl.l$)(1e4);qi.appendASCIIString('<div class="suggest-preview-text">');for(let go=0,yo=I.length;go<yo;go++){const Wo=I[go],sr=Wo.content;qi.appendASCIIString('<div class="view-line'),qi.appendASCIIString('" style="top:'),qi.appendASCIIString(String(go*di)),qi.appendASCIIString('px;width:1000000px;">');const _r=Tt.$i(sr),La=Tt.Ut(sr),ul=el.A.createEmpty(sr,se);(0,il.d1)(new il.IJ(Et.isMonospace&&!ne,Et.canUseHalfwidthRightwardsArrow,sr,!1,_r,La,0,ul,Wo.decorations,a,0,Et.spaceWidth,Et.middotWidth,Et.wsmiddotWidth,Se,je,Vt,Ht!==qa.n0.OFF,null),qi),qi.appendASCIIString("</div>")}qi.appendASCIIString("</div>"),ra.V.applyFontInfoSlow(be,Et);const Cn=qi.build(),Hn=nl?nl.createHTML(Cn):Cn;be.innerHTML=Hn}let $l=0;function ba(be,a,I,z){const se=I+$l++;return be.registerDecorationType(a,se,z),{dispose(){be.removeDecorationType(se)},resolve(){return be.resolveDecorationOptions(se,!0)}}}class sl extends O.JT{constructor(a,I,z,se){super(),this.editor=a,this.position=I,this.domNode=z,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(se),this._register((0,O.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,st.Ic)((be,a)=>{const I=be.getColor(aa.N5);if(I){const se=String(I.rgba.a),ne=de.Il.Format.CSS.format(ka(I));a.addRule(`.monaco-editor .ghost-text-decoration { opacity: ${se} !important; color: ${ne} !important; }`),a.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${I.toString()} !important; }`),a.addRule(`.monaco-editor .suggest-preview-text .ghost-text { opacity: ${se} !important; color: ${ne} !important; }`)}const z=be.getColor(aa.x3);z&&(a.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${z}; }`),a.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${z}; }`),a.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${z}; }`))});var Aa=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},Oa=function(be,a){return function(I,z){a(I,z,be)}},wa=function(be,a,I,z){function se(ne){return ne instanceof I?ne:new I(function(Se){Se(ne)})}return new(I||(I=Promise))(function(ne,Se){function je(Et){try{Ht(z.next(Et))}catch(di){Se(di)}}function Vt(Et){try{Ht(z.throw(Et))}catch(di){Se(di)}}function Ht(Et){Et.done?ne(Et.value):se(Et.value).then(je,Vt)}Ht((z=z.apply(be,a||[])).next())})};let Ho=class Iu extends O.JT{constructor(a,I){super(),this.editor=a,this.instantiationService=I,this.triggeredExplicitly=!1,this.activeController=this._register(new O.XK),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(z=>{z.hasChanged(105)&&this.updateModelController(),z.hasChanged(54)&&this.updateModelController()})),this.updateModelController()}static get(a){return a.getContribution(Iu.ID)}get activeModel(){var a;return(a=this.activeController.value)===null||a===void 0?void 0:a.model}updateModelController(){const a=this.editor.getOption(105),I=this.editor.getOption(54);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(a.preview||I.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(Rr,this.editor):void 0}shouldShowHoverAt(a){var I;return((I=this.activeModel)===null||I===void 0?void 0:I.shouldShowHoverAt(a))||!1}shouldShowHoverAtViewZone(a){var I,z;return((z=(I=this.activeController.value)===null||I===void 0?void 0:I.widget)===null||z===void 0?void 0:z.shouldShowHoverAtViewZone(a))||!1}trigger(){var a;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(a=this.activeModel)===null||a===void 0||a.triggerInlineCompletion()}commit(){var a;(a=this.activeModel)===null||a===void 0||a.commitInlineCompletion()}hide(){var a;(a=this.activeModel)===null||a===void 0||a.hideInlineCompletion()}showNextInlineCompletion(){var a;(a=this.activeModel)===null||a===void 0||a.showNextInlineCompletion()}showPreviousInlineCompletion(){var a;(a=this.activeModel)===null||a===void 0||a.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var a;return wa(this,void 0,void 0,function*(){const I=yield(a=this.activeModel)===null||a===void 0?void 0:a.hasMultipleInlineCompletions();return I!==void 0?I:!1})}};Ho.inlineSuggestionVisible=new Re.uy("inlineSuggestionVisible",!1,ue.N("inlineSuggestionVisible","Whether an inline suggestion is visible")),Ho.inlineSuggestionHasIndentation=new Re.uy("inlineSuggestionHasIndentation",!1,ue.N("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),Ho.inlineSuggestionHasIndentationLessThanTabSize=new Re.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,ue.N("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),Ho.ID="editor.contrib.ghostTextController",Ho=Aa([Oa(1,Dt.TG)],Ho);class Gr{constructor(a){this.contextKeyService=a,this.inlineCompletionVisible=Ho.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Ho.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=Ho.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let Rr=class extends O.JT{constructor(a,I,z){super(),this.editor=a,this.instantiationService=I,this.contextKeyService=z,this.contextKeys=new Gr(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(Ra,this.editor)),this.widget=this._register(this.instantiationService.createInstance(Fr,this.editor,this.model)),this._register((0,O.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var a;this.contextKeys.inlineCompletionVisible.set(((a=this.model.activeInlineCompletionsModel)===null||a===void 0?void 0:a.ghostText)!==void 0);let I=!1,z=!0;const se=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&se&&se.parts.length>0){const{column:ne,lines:Se}=se.parts[0],je=Se[0],Vt=this.editor.getModel().getLineIndentColumn(se.lineNumber);if(ne<=Vt){let Et=(0,Tt.LC)(je);Et===-1&&(Et=je.length-1),I=Et>0;const di=this.editor.getModel().getOptions().tabSize;z=_t.i.visibleColumnFromColumn(je,Et+1,di)<di}}this.contextKeys.inlineCompletionSuggestsIndentation.set(I),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(z)}};Rr=Aa([Oa(1,Dt.TG),Oa(2,Re.i6)],Rr);const ol=Q._l.bindToContribution(Ho.get),la=new ol({id:Bt,precondition:Ho.inlineSuggestionVisible,handler(be){be.commit(),be.editor.focus()}});(0,Q.fK)(la),Bn.W.registerKeybindingRule({primary:2,weight:200,id:la.id,when:Re.Ao.and(la.precondition,y.u.tabMovesFocus.toNegated(),Ho.inlineSuggestionHasIndentationLessThanTabSize)}),(0,Q.fK)(new ol({id:"editor.action.inlineSuggest.hide",precondition:Ho.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(be){be.hide()}}));class Jr extends Q.R6{constructor(){super({id:Jr.ID,label:ue.N("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Re.Ao.and(y.u.writable,Ho.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(a,I){return wa(this,void 0,void 0,function*(){const z=Ho.get(I);z&&(z.showNextInlineCompletion(),I.focus())})}}Jr.ID="editor.action.inlineSuggest.showNext";class qr extends Q.R6{constructor(){super({id:qr.ID,label:ue.N("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Re.Ao.and(y.u.writable,Ho.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(a,I){return wa(this,void 0,void 0,function*(){const z=Ho.get(I);z&&(z.showPreviousInlineCompletion(),I.focus())})}}qr.ID="editor.action.inlineSuggest.showPrevious";class Kl extends Q.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:ue.N("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:y.u.writable})}run(a,I){return wa(this,void 0,void 0,function*(){const z=Ho.get(I);z&&z.trigger()})}}(0,Q._K)(Ho.ID,Ho),(0,Q.Qr)(Kl),(0,Q.Qr)(Jr),(0,Q.Qr)(qr);var rl=c(31106),jl=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},ea=function(be,a){return function(I,z){a(I,z,be)}};class Gl{constructor(a,I,z){this.owner=a,this.range=I,this.controller=z}isValidForHoverAnchor(a){return a.type===1&&this.range.startColumn<=a.range.startColumn&&this.range.endColumn>=a.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let da=class{constructor(a,I,z,se,ne,Se,je,Vt){this._editor=a,this._hover=I,this._commandService=z,this._menuService=se,this._contextKeyService=ne,this._modeService=Se,this._openerService=je,this.accessibilityService=Vt}suggestHoverAnchor(a){const I=Ho.get(this._editor);if(!I)return null;if(a.target.type===8){const z=a.target.detail;if(I.shouldShowHoverAtViewZone(z.viewZoneId))return new lt(1e3,this,P.e.fromPositions(z.positionBefore||z.position,z.positionBefore||z.position))}return a.target.type===7&&a.target.range&&I.shouldShowHoverAt(a.target.range)?new lt(1e3,this,a.target.range):a.target.type===6&&a.target.range&&a.target.detail&&a.target.detail.mightBeForeignElement&&I.shouldShowHoverAt(a.target.range)?new lt(1e3,this,a.target.range):null}computeSync(a,I){const z=Ho.get(this._editor);return z&&z.shouldShowHoverAt(a.range)?[new Gl(this,a.range,z)]:[]}renderHoverParts(a,I,z){const se=new O.SL,ne=a[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(ne,I,se);const Se=se.add(this._menuService.createMenu(es.eH.InlineCompletionsActions,this._contextKeyService)),je=z.addAction({label:ue.N("showNextInlineSuggestion","Next"),commandId:Jr.ID,run:()=>this._commandService.executeCommand(Jr.ID)}),Vt=z.addAction({label:ue.N("showPreviousInlineSuggestion","Previous"),commandId:qr.ID,run:()=>this._commandService.executeCommand(qr.ID)});z.addAction({label:ue.N("acceptInlineSuggestion","Accept"),commandId:la.id,run:()=>this._commandService.executeCommand(la.id)});const Ht=[je,Vt];for(const Et of Ht)Et.setEnabled(!1);ne.hasMultipleSuggestions().then(Et=>{for(const di of Ht)di.setEnabled(Et)});for(const[Et,di]of Se.getActions())for(const qi of di)qi instanceof es.U8&&z.addAction({label:qi.label,commandId:qi.item.id,run:()=>this._commandService.executeCommand(qi.item.id)});return se}renderScreenReaderText(a,I,z){var se,ne;const Se=v.$,je=Se("div.hover-row.markdown-hover"),Vt=v.R3(je,Se("div.hover-contents")),Ht=z.add(new Pt.$({editor:this._editor},this._modeService,this._openerService)),Et=qi=>{z.add(Ht.onDidRenderAsync(()=>{Vt.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const Cn=ue.N("inlineSuggestionFollows","Suggestion:"),Hn=z.add(Ht.render(new s.W5().appendText(Cn).appendCodeblock("text",qi)));Vt.replaceChildren(Hn.element)},di=(ne=(se=a.controller.activeModel)===null||se===void 0?void 0:se.inlineCompletionsModel)===null||ne===void 0?void 0:ne.ghostText;if(di){const qi=this._editor.getModel().getLineContent(di.lineNumber);Et(di.renderForScreenReader(qi))}I.appendChild(je)}};da=jl([ea(2,Ki.H),ea(3,es.co),ea(4,Re.i6),ea(5,X.h),ea(6,Gt.v4),ea(7,rl.F)],da);var Pa=c(79599),al=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},Sa=function(be,a){return function(I,z){a(I,z,be)}},ll=function(be,a,I,z){function se(ne){return ne instanceof I?ne:new I(function(Se){Se(ne)})}return new(I||(I=Promise))(function(ne,Se){function je(Et){try{Ht(z.next(Et))}catch(di){Se(di)}}function Vt(Et){try{Ht(z.throw(Et))}catch(di){Se(di)}}function Ht(Et){Et.done?ne(Et.value):se(Et.value).then(je,Vt)}Ht((z=z.apply(be,a||[])).next())})};const dl=v.$;let ua=class extends O.JT{constructor(a){super(),this._keybindingService=a,this._hasContent=!1,this.hoverElement=dl("div.hover-row.status-bar"),this.actionsElement=v.R3(this.hoverElement,dl("div.actions"))}get hasContent(){return this._hasContent}addAction(a){const I=this._keybindingService.lookupKeybinding(a.commandId),z=I?I.getLabel():null;return this._hasContent=!0,this._register(jt.render(this.actionsElement,a,z))}append(a){const I=v.R3(this.actionsElement,a);return this._hasContent=!0,I}};ua=al([Sa(0,wt.d)],ua);class ya{constructor(a,I){this._participants=I,this._editor=a,this._result=[],this._anchor=null}setAnchor(a){this._anchor=a,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(a,I){if(I.type!==1)return[];const z=a.getModel(),se=I.range.startLineNumber,ne=z.getLineMaxColumn(se);return a.getLineDecorations(se).filter(Se=>{if(Se.options.isWholeLine)return!0;const je=Se.range.startLineNumber===se?Se.range.startColumn:1,Vt=Se.range.endLineNumber===se?Se.range.endColumn:ne;return!(je>I.range.startColumn||I.range.endColumn>Vt)})}computeAsync(a){return ll(this,void 0,void 0,function*(){const I=this._anchor;if(!this._editor.hasModel()||!I)return Promise.resolve([]);const z=ya._getLineDecorations(this._editor,I),se=yield Promise.all(this._participants.map(ne=>this._computeAsync(ne,z,I,a)));return(0,Me.xH)(se)})}_computeAsync(a,I,z,se){return ll(this,void 0,void 0,function*(){return a.computeAsync?a.computeAsync(z,I,se):[]})}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const a=ya._getLineDecorations(this._editor,this._anchor);let I=[];for(const z of this._participants)I=I.concat(z.computeSync(this._anchor,a));return(0,Me.kX)(I)}onResult(a,I){I?this._result=a.concat(this._result):this._result=this._result.concat(a)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor){for(const a of this._participants)if(a.createLoadingMessage){const I=a.createLoadingMessage(this._anchor);if(I)return this._result.slice(0).concat([I])}}return this._result.slice(0)}}let gr=class Id extends _e.${constructor(a,I,z,se,ne){super(),this._hoverVisibleKey=I,this._keybindingService=se,this._contextKeyService=ne,this.allowEditorOverflow=!0,this._participants=[z.createInstance(he,a,this),z.createInstance(rt,a,this),z.createInstance(da,a,this),z.createInstance(Lt,a,this)],this._editor=a,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this._hover=this._register(new Ln),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this.onkeydown(this._hover.containerDomNode,Se=>{Se.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(Se=>{Se.hasChanged(43)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastAnchor=null,this._computer=new ya(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._preferAbove=this._editor.getOption(52).above,this._hoverOperation=new Le(this._computer,Se=>this._withResult(Se,!0),null,Se=>this._withResult(Se,!1),this._editor.getOption(52).delay),this._register(v.mu(this.getDomNode(),v.tw.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(v.mu(this.getDomNode(),v.tw.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(a.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(52).delay),this._preferAbove=this._editor.getOption(52).above})),this._register(H.RW.onDidChange(()=>{this._isVisible&&this._lastAnchor&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return Id.ID}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(a){const I=a.target.type;if(I===6)return!0;if(I===7){const z=this._editor.getOption(43).typicalHalfwidthCharacterWidth/2,se=a.target.detail;if(se&&!se.isAfterLines&&typeof se.horizontalDistanceToText=="number"&&se.horizontalDistanceToText<z)return!0}return!1}maybeShowAt(a){var I;const z=[];for(const se of this._participants)if(typeof se.suggestHoverAnchor=="function"){const ne=se.suggestHoverAnchor(a);ne&&z.push(ne)}if(this._shouldShowAt(a)&&a.target.range){const ne=[...((I=a.target.element)===null||I===void 0?void 0:I.classList.values())||[]].find(Se=>Se.startsWith("ced-colorBox"))&&a.target.range.endColumn-a.target.range.startColumn===1?new P.e(a.target.range.startLineNumber,a.target.range.startColumn+1,a.target.range.endLineNumber,a.target.range.endColumn+1):a.target.range;z.push(new We(0,ne))}return z.length===0?!1:(z.sort((se,ne)=>ne.priority-se.priority),this._startShowingAt(z[0],0,!1),!0)}_showAt(a,I,z){this._showAtPosition=a,this._showAtRange=I,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=z,z&&this._hover.containerDomNode.focus()}getPosition(){if(this._isVisible){let a=this._preferAbove;return!a&&this._contextKeyService.getContextKeyValue(Pa._y.Visible.key)&&(a=!0),{position:this._showAtPosition,range:this._showAtRange,preference:a?[1,2]:[2,1]}}return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(I=>this._editor.applyFontInfo(I))}_updateContents(a){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(a),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const a=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:I,lineHeight:z}=this._editor.getOption(43);this._hover.contentsDomNode.style.fontSize=`${I}px`,this._hover.contentsDomNode.style.lineHeight=`${z/I}`,this._hover.contentsDomNode.style.maxHeight=`${a}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(a,I,z){this._startShowingAt(new We(0,a),I,z)}_startShowingAt(a,I,z){if(!(this._lastAnchor&&this._lastAnchor.equals(a))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||!this._lastAnchor||!a.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition))this.hide();else{const se=this._messages.filter(ne=>ne.isValidForHoverAnchor(a));if(se.length===0)this.hide();else{if(se.length===this._messages.length)return;this._renderMessages(a,se)}}this._lastAnchor=a,this._computer.setAnchor(a),this._shouldFocus=z,this._hoverOperation.start(I)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(a){this._colorPicker=a}onContentsChanged(){this._hover.onContentsChanged()}_withResult(a,I){this._messages=a,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):I&&this.hide()}_renderMessages(a,I){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let z=1073741824,se=I[0].range,ne=null,Se=document.createDocumentFragment();const je=new O.SL,Vt=new Map;for(const Et of I)z=Math.min(z,Et.range.startColumn),se=P.e.plusRange(se,Et.range),Et.forceShowAtRange&&(ne=Et.range),Vt.has(Et.owner)||Vt.set(Et.owner,[]),Vt.get(Et.owner).push(Et);const Ht=je.add(new ua(this._keybindingService));for(const[Et,di]of Vt)je.add(Et.renderHoverParts(di,Se,Ht));Ht.hasContent&&Se.appendChild(Ht.hoverElement),this._renderDisposable=je,Se.hasChildNodes()&&(ne?this._showAt(ne.getStartPosition(),ne,this._shouldFocus):this._showAt(new D.L(a.range.startLineNumber,z),se,this._shouldFocus),this._updateContents(Se)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,se?[{range:se,options:Id._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};gr.ID="editor.contrib.modesContentHoverWidget",gr._DECORATION_OPTIONS=j.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),gr=al([Sa(2,Dt.TG),Sa(3,wt.d),Sa(4,Re.i6)],gr);const ca=v.$;class ta{constructor(a){this._editor=a,this._lineNumber=-1,this._result=[]}setLineNumber(a){this._lineNumber=a,this._result=[]}clearResult(){this._result=[]}computeSync(){const a=se=>({value:se}),I=this._editor.getLineDecorations(this._lineNumber),z=[];if(!I)return z;for(const se of I){if(!se.options.glyphMarginClassName)continue;const ne=se.options.glyphMarginHoverMessage;!ne||(0,s.CP)(ne)||z.push(...(0,Me._2)(ne).map(a))}return z}onResult(a,I){this._result=this._result.concat(a)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class Zr extends _e.${constructor(a,I,z=Gt.SW){super(),this._renderDisposeables=this._register(new O.SL),this._editor=a,this._isVisible=!1,this._messages=[],this._lastLineNumber=-1,this._hover=this._register(new Ln),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Pt.$({editor:this._editor},I,z)),this._computer=new ta(this._editor),this._hoverOperation=new Le(this._computer,se=>this._withResult(se),void 0,se=>this._withResult(se),300),this._register(this._editor.onDidChangeConfiguration(se=>{se.hasChanged(43)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._hoverOperation.cancel(),this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Zr.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_showAt(a){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const I=this._editor.getLayoutInfo(),z=this._editor.getTopForLineNumber(a),se=this._editor.getScrollTop(),ne=this._editor.getOption(58),Se=this._hover.containerDomNode.clientHeight,je=z-se-(Se-ne)/2;this._hover.containerDomNode.style.left=`${I.glyphMarginLeft+I.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(je),0)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(I=>this._editor.applyFontInfo(I))}_updateContents(a){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(a),this._updateFont()}onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(a){this._lastLineNumber!==a&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=a,this._computer.setLineNumber(a),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(a){this._messages=a,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(a,I){this._renderDisposeables.clear();const z=document.createDocumentFragment();for(const se of I){const ne=ca("div.hover-row.markdown-hover"),Se=v.R3(ne,ca("div.hover-contents")),je=this._renderDisposeables.add(this._markdownRenderer.render(se.value));Se.appendChild(je.element),z.appendChild(ne)}this._updateContents(z),this._showAt(a)}}Zr.ID="editor.contrib.modesGlyphHoverWidget";var Zl=function(be,a,I,z){var se=arguments.length,ne=se<3?a:z===null?z=Object.getOwnPropertyDescriptor(a,I):z,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(be,a,I,z);else for(var je=be.length-1;je>=0;je--)(Se=be[je])&&(ne=(se<3?Se(ne):se>3?Se(a,I,ne):Se(a,I))||ne);return se>3&&ne&&Object.defineProperty(a,I,ne),ne},ha=function(be,a){return function(I,z){a(I,z,be)}};let Dr=class Nu{constructor(a,I,z,se,ne){this._editor=a,this._instantiationService=I,this._openerService=z,this._modeService=se,this._toUnhook=new O.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(Se=>{Se.hasChanged(52)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=y.u.hoverVisible.bindTo(ne)}static get(a){return a.getContribution(Nu.ID)}_hookEvents(){const a=()=>this._hideWidgets(),I=this._editor.getOption(52);this._isHoverEnabled=I.enabled,this._isHoverSticky=I.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(z=>this._onEditorMouseDown(z))),this._toUnhook.add(this._editor.onMouseUp(z=>this._onEditorMouseUp(z))),this._toUnhook.add(this._editor.onMouseMove(z=>this._onEditorMouseMove(z))),this._toUnhook.add(this._editor.onKeyDown(z=>this._onKeyDown(z))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(z=>this._onEditorMouseMove(z))),this._toUnhook.add(this._editor.onKeyDown(z=>this._onKeyDown(z)))),this._toUnhook.add(this._editor.onMouseLeave(a)),this._toUnhook.add(this._editor.onDidChangeModel(a)),this._toUnhook.add(this._editor.onDidScrollChange(z=>this._onEditorScrollChanged(z)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var a,I;(a=this._contentWidget)===null||a===void 0||a.onModelDecorationsChanged(),(I=this._glyphWidget)===null||I===void 0||I.onModelDecorationsChanged()}_onEditorScrollChanged(a){(a.scrollTopChanged||a.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(a){this._isMouseDown=!0;const I=a.target.type;if(I===9&&a.target.detail===gr.ID){this._hoverClicked=!0;return}I===12&&a.target.detail===Zr.ID||(I!==12&&a.target.detail!==Zr.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(a){this._isMouseDown=!1}_onEditorMouseMove(a){var I,z,se,ne,Se;let je=a.target.type;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&je===9&&a.target.detail===gr.ID||this._isHoverSticky&&!(!((z=(I=a.event.browserEvent.view)===null||I===void 0?void 0:I.getSelection())===null||z===void 0)&&z.isCollapsed)||!this._isHoverSticky&&je===9&&a.target.detail===gr.ID&&(!((se=this._contentWidget)===null||se===void 0)&&se.isColorPickerVisible())||this._isHoverSticky&&je===12&&a.target.detail===Zr.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(a)){(ne=this._glyphWidget)===null||ne===void 0||ne.hide();return}if(je===2&&a.target.position){(Se=this._contentWidget)===null||Se===void 0||Se.hide(),this._glyphWidget||(this._glyphWidget=new Zr(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(a.target.position.lineNumber);return}this._hideWidgets()}_onKeyDown(a){a.keyCode!==5&&a.keyCode!==6&&a.keyCode!==57&&a.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var a,I,z;this._isMouseDown&&this._hoverClicked&&(!((a=this._contentWidget)===null||a===void 0)&&a.isColorPickerVisible())||(this._hoverClicked=!1,(I=this._glyphWidget)===null||I===void 0||I.hide(),(z=this._contentWidget)===null||z===void 0||z.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(gr,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var a;return((a=this._contentWidget)===null||a===void 0?void 0:a.isColorPickerVisible())||!1}showContentHover(a,I,z){this._getOrCreateContentWidget().startShowingAtRange(a,I,z)}dispose(){var a,I;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(a=this._glyphWidget)===null||a===void 0||a.dispose(),(I=this._contentWidget)===null||I===void 0||I.dispose()}};Dr.ID="editor.contrib.hover",Dr=Zl([ha(1,Dt.TG),ha(2,Gt.v4),ha(3,X.h),ha(4,Re.i6)],Dr);class Fa extends Q.R6{constructor(){super({id:"editor.action.showHover",label:ue.N({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:y.u.editorTextFocus,primary:(0,E.gx)(2089,2087),weight:100}})}run(a,I){if(!I.hasModel())return;let z=Dr.get(I);if(!z)return;const se=I.getPosition(),ne=new P.e(se.lineNumber,se.column,se.lineNumber,se.column),Se=I.getOption(2)===2;z.showContentHover(ne,1,Se)}}class Ba extends Q.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:ue.N({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(a,I){let z=Dr.get(I);if(!z)return;const se=I.getPosition();if(!se)return;const ne=new P.e(se.lineNumber,se.column,se.lineNumber,se.column);wn.get(I).startFindDefinitionFromCursor(se).then(()=>{z.showContentHover(ne,1,!0)})}}(0,Q._K)(Dr.ID,Dr),(0,Q.Qr)(Fa),(0,Q.Qr)(Ba),(0,st.Ic)((be,a)=>{const I=be.getColor(ht.pt);I&&a.addRule(`.monaco-editor .hoverHighlight { background-color: ${I}; }`);const z=be.getColor(ht.yJ);z&&a.addRule(`.monaco-editor .monaco-hover { background-color: ${z}; }`);const se=be.getColor(ht.CN);se&&(a.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${se}; }`),a.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${se.transparent(.5)}; }`),a.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${se.transparent(.5)}; }`),a.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${se.transparent(.5)}; }`));const ne=be.getColor(ht.ur);ne&&a.addRule(`.monaco-editor .monaco-hover a { color: ${ne}; }`);const Se=be.getColor(ht.sg);Se&&a.addRule(`.monaco-editor .monaco-hover a:hover { color: ${Se}; }`);const je=be.getColor(ht.Sb);je&&a.addRule(`.monaco-editor .monaco-hover { color: ${je}; }`);const Vt=be.getColor(ht.Lo);Vt&&a.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${Vt}; }`);const Ht=be.getColor(ht.Sw);Ht&&a.addRule(`.monaco-editor .monaco-hover code { background-color: ${Ht}; }`)})},80689:function(Qt,He,c){"use strict";c.d(He,{x:function(){return y}});var E=c(91741),O=c(50187),Q=c(24314),P=function(X,R,B,s){function N(g){return g instanceof B?g:new B(function(D){D(g)})}return new(B||(B=Promise))(function(g,D){function H(w){try{T(s.next(w))}catch(x){D(x)}}function r(w){try{T(s.throw(w))}catch(x){D(x)}}function T(w){w.done?g(w.value):N(w.value).then(H,r)}T((s=s.apply(X,R||[])).next())})};class y{provideSelectionRanges(R,B){return P(this,void 0,void 0,function*(){const s=[];for(const N of B){const g=[];s.push(g);const D=new Map;yield new Promise(H=>y._bracketsRightYield(H,0,R,N,D)),yield new Promise(H=>y._bracketsLeftYield(H,0,R,N,D,g))}return s})}static _bracketsRightYield(R,B,s,N,g){const D=new Map,H=Date.now();for(;;){if(B>=y._maxRounds){R();break}if(!N){R();break}let r=s.findNextBracket(N);if(!r){R();break}if(Date.now()-H>y._maxDuration){setTimeout(()=>y._bracketsRightYield(R,B+1,s,N,g));break}const w=r.close[0];if(r.isOpen){let x=D.has(w)?D.get(w):0;D.set(w,x+1)}else{let x=D.has(w)?D.get(w):0;if(x-=1,D.set(w,Math.max(0,x)),x<0){let f=g.get(w);f||(f=new E.S,g.set(w,f)),f.push(r.range)}}N=r.range.getEndPosition()}}static _bracketsLeftYield(R,B,s,N,g,D){const H=new Map,r=Date.now();for(;;){if(B>=y._maxRounds&&g.size===0){R();break}if(!N){R();break}let T=s.findPrevBracket(N);if(!T){R();break}if(Date.now()-r>y._maxDuration){setTimeout(()=>y._bracketsLeftYield(R,B+1,s,N,g,D));break}const x=T.close[0];if(T.isOpen){let f=H.has(x)?H.get(x):0;if(f-=1,H.set(x,Math.max(0,f)),f<0){let p=g.get(x);if(p){let S=p.shift();p.size===0&&g.delete(x);const h=Q.e.fromPositions(T.range.getEndPosition(),S.getStartPosition()),L=Q.e.fromPositions(T.range.getStartPosition(),S.getEndPosition());D.push({range:h}),D.push({range:L}),y._addBracketLeading(s,L,D)}}}else{let f=H.has(x)?H.get(x):0;H.set(x,f+1)}N=T.range.getStartPosition()}}static _addBracketLeading(R,B,s){if(B.startLineNumber===B.endLineNumber)return;const N=B.startLineNumber,g=R.getLineFirstNonWhitespaceColumn(N);g!==0&&g!==B.startColumn&&(s.push({range:Q.e.fromPositions(new O.L(N,g),B.getEndPosition())}),s.push({range:Q.e.fromPositions(new O.L(N,1),B.getEndPosition())}));const D=N-1;if(D>0){const H=R.getLineFirstNonWhitespaceColumn(D);H===B.startColumn&&H!==R.getLineLastNonWhitespaceColumn(D)&&(s.push({range:Q.e.fromPositions(new O.L(D,H),B.getEndPosition())}),s.push({range:Q.e.fromPositions(new O.L(D,1),B.getEndPosition())}))}}}y._maxDuration=30,y._maxRounds=2},5964:function(Qt,He,c){"use strict";c.r(He),c.d(He,{provideSelectionRanges:function(){return L}});var E=c(9488),O=c(71050),Q=c(17301),P=c(16830),y=c(50187),X=c(24314),R=c(3860),B=c(29102),s=c(10351),N=c(80689),g=c(97295);class D{provideSelectionRanges(V,$){const ee=[];for(const de of $){const pe=[];ee.push(pe),this._addInWordRanges(pe,V,de),this._addWordRanges(pe,V,de),this._addWhitespaceLine(pe,V,de),pe.push({range:V.getFullModelRange()})}return ee}_addInWordRanges(V,$,ee){const de=$.getWordAtPosition(ee);if(!de)return;let{word:pe,startColumn:ve}=de,xe=ee.column-ve,le=xe,Y=xe,j=0;for(;le>=0;le--){let G=pe.charCodeAt(le);if(le!==xe&&(G===95||G===45))break;if((0,g.mK)(G)&&(0,g.df)(j))break;j=G}for(le+=1;Y<pe.length;Y++){let G=pe.charCodeAt(Y);if((0,g.df)(G)&&(0,g.mK)(j))break;if(G===95||G===45)break;j=G}le<Y&&V.push({range:new X.e(ee.lineNumber,ve+le,ee.lineNumber,ve+Y)})}_addWordRanges(V,$,ee){const de=$.getWordAtPosition(ee);de&&V.push({range:new X.e(ee.lineNumber,de.startColumn,ee.lineNumber,de.endColumn)})}_addWhitespaceLine(V,$,ee){$.getLineLength(ee.lineNumber)>0&&$.getLineFirstNonWhitespaceColumn(ee.lineNumber)===0&&$.getLineLastNonWhitespaceColumn(ee.lineNumber)===0&&V.push({range:new X.e(ee.lineNumber,1,ee.lineNumber,$.getLineMaxColumn(ee.lineNumber))})}}var H=c(63580),r=c(84144),T=c(94565),w=function(v,V,$,ee){function de(pe){return pe instanceof $?pe:new $(function(ve){ve(pe)})}return new($||($=Promise))(function(pe,ve){function xe(j){try{Y(ee.next(j))}catch(G){ve(G)}}function le(j){try{Y(ee.throw(j))}catch(G){ve(G)}}function Y(j){j.done?pe(j.value):de(j.value).then(xe,le)}Y((ee=ee.apply(v,V||[])).next())})};class x{constructor(V,$){this.index=V,this.ranges=$}mov(V){let $=this.index+(V?1:-1);if($<0||$>=this.ranges.length)return this;const ee=new x($,this.ranges);return ee.ranges[$].equalsRange(this.ranges[this.index])?ee.mov(V):ee}}class f{constructor(V){this._editor=V,this._ignoreSelection=!1}static get(V){return V.getContribution(f.ID)}dispose(){var V;(V=this._selectionListener)===null||V===void 0||V.dispose()}run(V){return w(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const $=this._editor.getSelections(),ee=this._editor.getModel();if(!s.AC.has(ee)||(this._state||(yield L(ee,$.map(pe=>pe.getPosition()),this._editor.getOption(101),O.T.None).then(pe=>{var ve;if(!(!E.Of(pe)||pe.length!==$.length)&&!(!this._editor.hasModel()||!E.fS(this._editor.getSelections(),$,(xe,le)=>xe.equalsSelection(le)))){for(let xe=0;xe<pe.length;xe++)pe[xe]=pe[xe].filter(le=>le.containsPosition($[xe].getStartPosition())&&le.containsPosition($[xe].getEndPosition())),pe[xe].unshift($[xe]);this._state=pe.map(xe=>new x(0,xe)),(ve=this._selectionListener)===null||ve===void 0||ve.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var xe;this._ignoreSelection||((xe=this._selectionListener)===null||xe===void 0||xe.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(pe=>pe.mov(V));const de=this._state.map(pe=>R.Y.fromPositions(pe.ranges[pe.index].getStartPosition(),pe.ranges[pe.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(de)}finally{this._ignoreSelection=!1}})}}f.ID="editor.contrib.smartSelectController";class p extends P.R6{constructor(V,$){super($),this._forward=V}run(V,$){return w(this,void 0,void 0,function*(){let ee=f.get($);ee&&(yield ee.run(this._forward))})}}class S extends p{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:H.N("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:B.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"1_basic",title:H.N({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}T.P.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class h extends p{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:H.N("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:B.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"1_basic",title:H.N({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}(0,P._K)(f.ID,f),(0,P.Qr)(S),(0,P.Qr)(h),s.AC.register("*",new D);function L(v,V,$,ee){return w(this,void 0,void 0,function*(){const de=s.AC.all(v);de.length===1&&de.unshift(new N.x);let pe=[],ve=[];for(const xe of de)pe.push(Promise.resolve(xe.provideSelectionRanges(v,V,ee)).then(le=>{if(E.Of(le)&&le.length===V.length)for(let Y=0;Y<V.length;Y++){ve[Y]||(ve[Y]=[]);for(const j of le[Y])X.e.isIRange(j.range)&&X.e.containsPosition(j.range,V[Y])&&ve[Y].push(X.e.lift(j.range))}},Q.Cp));return yield Promise.all(pe),ve.map(xe=>{if(xe.length===0)return[];xe.sort((G,q)=>y.L.isBefore(G.getStartPosition(),q.getStartPosition())?1:y.L.isBefore(q.getStartPosition(),G.getStartPosition())||y.L.isBefore(G.getEndPosition(),q.getEndPosition())?-1:y.L.isBefore(q.getEndPosition(),G.getEndPosition())?1:0);let le=[],Y;for(const G of xe)(!Y||X.e.containsRange(G,Y)&&!X.e.equalsRange(G,Y))&&(le.push(G),Y=G);if(!$.selectLeadingAndTrailingWhitespace)return le;let j=[le[0]];for(let G=1;G<le.length;G++){const q=le[G-1],m=le[G];if(m.startLineNumber!==q.startLineNumber||m.endLineNumber!==q.endLineNumber){const b=new X.e(q.startLineNumber,v.getLineFirstNonWhitespaceColumn(q.startLineNumber),q.endLineNumber,v.getLineLastNonWhitespaceColumn(q.endLineNumber));b.containsRange(q)&&!b.equalsRange(q)&&m.containsRange(b)&&!m.equalsRange(b)&&j.push(b);const F=new X.e(q.startLineNumber,1,q.endLineNumber,v.getLineMaxColumn(q.endLineNumber));F.containsRange(q)&&!F.equalsRange(b)&&m.containsRange(F)&&!m.equalsRange(F)&&j.push(F)}j.push(m)}return j})})}(0,P.f)("_executeSelectionRangeProvider",function(v,...V){const[$]=V;return L(v,$,{selectLeadingAndTrailingWhitespace:!0},O.T.None)})},22860:function(Qt,He,c){"use strict";c.r(He),c.d(He,{SnippetController2:function(){return r}});var E=c(5976),O=c(16830),Q=c(24314),P=c(3860),y=c(29102),X=c(79599),R=c(63580),B=c(38819),s=c(43557),N=c(44951),g=function(w,x,f,p){var S=arguments.length,h=S<3?x:p===null?p=Object.getOwnPropertyDescriptor(x,f):p,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(w,x,f,p);else for(var v=w.length-1;v>=0;v--)(L=w[v])&&(h=(S<3?L(h):S>3?L(x,f,h):L(x,f))||h);return S>3&&h&&Object.defineProperty(x,f,h),h},D=function(w,x){return function(f,p){x(f,p,w)}};const H={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let r=class Ga{constructor(x,f,p){this._editor=x,this._logService=f,this._snippetListener=new E.SL,this._modelVersionId=-1,this._inSnippet=Ga.InSnippetMode.bindTo(p),this._hasNextTabstop=Ga.HasNextTabstop.bindTo(p),this._hasPrevTabstop=Ga.HasPrevTabstop.bindTo(p)}static get(x){return x.getContribution(Ga.ID)}dispose(){var x;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(x=this._session)===null||x===void 0||x.dispose(),this._snippetListener.dispose()}insert(x,f){try{this._doInsert(x,typeof f=="undefined"?H:Object.assign(Object.assign({},H),f))}catch(p){this.cancel(),this._logService.error(p),this._logService.error("snippet_error"),this._logService.error("insert_template=",x),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(x,f){this._editor.hasModel()&&(this._snippetListener.clear(),f.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(x,f):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new N.l(this._editor,x,f),this._session.insert()),f.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(p=>p.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:x}=this._session;if(!x){this._currentChoice=void 0;return}if(this._currentChoice!==x){this._currentChoice=x,this._editor.setSelections(this._editor.getSelections().map(p=>P.Y.fromPositions(p.getStartPosition())));const[f]=x.options;(0,X.i5)(this._editor,x.options.map((p,S)=>({kind:13,label:p.value,insertText:p.value,sortText:"a".repeat(S+1),range:Q.e.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,f.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(x=!1){var f;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(f=this._session)===null||f===void 0||f.dispose(),this._session=void 0,this._modelVersionId=-1,x&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};r.ID="snippetController2",r.InSnippetMode=new B.uy("inSnippetMode",!1,(0,R.N)("inSnippetMode","Whether the editor in current in snippet mode")),r.HasNextTabstop=new B.uy("hasNextTabstop",!1,(0,R.N)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),r.HasPrevTabstop=new B.uy("hasPrevTabstop",!1,(0,R.N)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),r=g([D(1,s.VZ),D(2,B.i6)],r),(0,O._K)(r.ID,r);const T=O._l.bindToContribution(r.get);(0,O.fK)(new T({id:"jumpToNextSnippetPlaceholder",precondition:B.Ao.and(r.InSnippetMode,r.HasNextTabstop),handler:w=>w.next(),kbOpts:{weight:130,kbExpr:y.u.editorTextFocus,primary:2}})),(0,O.fK)(new T({id:"jumpToPrevSnippetPlaceholder",precondition:B.Ao.and(r.InSnippetMode,r.HasPrevTabstop),handler:w=>w.prev(),kbOpts:{weight:130,kbExpr:y.u.editorTextFocus,primary:1026}})),(0,O.fK)(new T({id:"leaveSnippet",precondition:r.InSnippetMode,handler:w=>w.cancel(!0),kbOpts:{weight:130,kbExpr:y.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,O.fK)(new T({id:"acceptSnippet",precondition:r.InSnippetMode,handler:w=>w.finish()}))},63472:function(Qt,He,c){"use strict";c.d(He,{Lv:function(){return X},Vm:function(){return y},Yj:function(){return D},xv:function(){return Q}});class E{constructor(){this.value="",this.pos=0}static isDigitCharacter(r){return r>=48&&r<=57}static isVariableCharacter(r){return r===95||r>=97&&r<=122||r>=65&&r<=90}text(r){this.value=r,this.pos=0}tokenText(r){return this.value.substr(r.pos,r.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let r=this.pos,T=0,w=this.value.charCodeAt(r),x;if(x=E._table[w],typeof x=="number")return this.pos+=1,{type:x,pos:r,len:1};if(E.isDigitCharacter(w)){x=8;do T+=1,w=this.value.charCodeAt(r+T);while(E.isDigitCharacter(w));return this.pos+=T,{type:x,pos:r,len:T}}if(E.isVariableCharacter(w)){x=9;do w=this.value.charCodeAt(r+ ++T);while(E.isVariableCharacter(w)||E.isDigitCharacter(w));return this.pos+=T,{type:x,pos:r,len:T}}x=10;do T+=1,w=this.value.charCodeAt(r+T);while(!isNaN(w)&&typeof E._table[w]=="undefined"&&!E.isDigitCharacter(w)&&!E.isVariableCharacter(w));return this.pos+=T,{type:x,pos:r,len:T}}}E._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class O{constructor(){this._children=[]}appendChild(r){return r instanceof Q&&this._children[this._children.length-1]instanceof Q?this._children[this._children.length-1].value+=r.value:(r.parent=this,this._children.push(r)),this}replace(r,T){const{parent:w}=r,x=w.children.indexOf(r),f=w.children.slice(0);f.splice(x,1,...T),w._children=f,function p(S,h){for(const L of S)L.parent=h,p(L.children,L)}(T,w)}get children(){return this._children}get snippet(){let r=this;for(;;){if(!r)return;if(r instanceof g)return r;r=r.parent}}toString(){return this.children.reduce((r,T)=>r+T.toString(),"")}len(){return 0}}class Q extends O{constructor(r){super(),this.value=r}toString(){return this.value}len(){return this.value.length}clone(){return new Q(this.value)}}class P extends O{}class y extends P{constructor(r){super(),this.index=r}static compareByIndex(r,T){return r.index===T.index?0:r.isFinalTabstop?1:T.isFinalTabstop||r.index<T.index?-1:r.index>T.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof X?this._children[0]:void 0}clone(){let r=new y(this.index);return this.transform&&(r.transform=this.transform.clone()),r._children=this.children.map(T=>T.clone()),r}}class X extends O{constructor(){super(...arguments),this.options=[]}appendChild(r){return r instanceof Q&&(r.parent=this,this.options.push(r)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let r=new X;return this.options.forEach(r.appendChild,r),r}}class R extends O{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(r){const T=this;let w=!1,x=r.replace(this.regexp,function(){return w=!0,T._replace(Array.prototype.slice.call(arguments,0,-2))});return!w&&this._children.some(f=>f instanceof B&&!!f.elseValue)&&(x=this._replace([])),x}_replace(r){let T="";for(const w of this._children)if(w instanceof B){let x=r[w.index]||"";x=w.resolve(x),T+=x}else T+=w.toString();return T}toString(){return""}clone(){let r=new R;return r.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),r._children=this.children.map(T=>T.clone()),r}}class B extends O{constructor(r,T,w,x){super(),this.index=r,this.shorthandName=T,this.ifValue=w,this.elseValue=x}resolve(r){return this.shorthandName==="upcase"?r?r.toLocaleUpperCase():"":this.shorthandName==="downcase"?r?r.toLocaleLowerCase():"":this.shorthandName==="capitalize"?r?r[0].toLocaleUpperCase()+r.substr(1):"":this.shorthandName==="pascalcase"?r?this._toPascalCase(r):"":this.shorthandName==="camelcase"?r?this._toCamelCase(r):"":r&&typeof this.ifValue=="string"?this.ifValue:!r&&typeof this.elseValue=="string"?this.elseValue:r||""}_toPascalCase(r){const T=r.match(/[a-z0-9]+/gi);return T?T.map(w=>w.charAt(0).toUpperCase()+w.substr(1).toLowerCase()).join(""):r}_toCamelCase(r){const T=r.match(/[a-z0-9]+/gi);return T?T.map((w,x)=>x===0?w.toLowerCase():w.charAt(0).toUpperCase()+w.substr(1).toLowerCase()).join(""):r}clone(){return new B(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class s extends P{constructor(r){super(),this.name=r}resolve(r){let T=r.resolve(this);return this.transform&&(T=this.transform.resolve(T||"")),T!==void 0?(this._children=[new Q(T)],!0):!1}clone(){const r=new s(this.name);return this.transform&&(r.transform=this.transform.clone()),r._children=this.children.map(T=>T.clone()),r}}function N(H,r){const T=[...H];for(;T.length>0;){const w=T.shift();if(!r(w))break;T.unshift(...w.children)}}class g extends O{get placeholderInfo(){if(!this._placeholders){let r=[],T;this.walk(function(w){return w instanceof y&&(r.push(w),T=!T||T.index<w.index?w:T),!0}),this._placeholders={all:r,last:T}}return this._placeholders}get placeholders(){const{all:r}=this.placeholderInfo;return r}offset(r){let T=0,w=!1;return this.walk(x=>x===r?(w=!0,!1):(T+=x.len(),!0)),w?T:-1}fullLen(r){let T=0;return N([r],w=>(T+=w.len(),!0)),T}enclosingPlaceholders(r){let T=[],{parent:w}=r;for(;w;)w instanceof y&&T.push(w),w=w.parent;return T}resolveVariables(r){return this.walk(T=>(T instanceof s&&T.resolve(r)&&(this._placeholders=void 0),!0)),this}appendChild(r){return this._placeholders=void 0,super.appendChild(r)}replace(r,T){return this._placeholders=void 0,super.replace(r,T)}clone(){let r=new g;return this._children=this.children.map(T=>T.clone()),r}walk(r){N(this.children,r)}}class D{constructor(){this._scanner=new E,this._token={type:14,pos:0,len:0}}static escape(r){return r.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(r){return/\${?CLIPBOARD/.test(r)}parse(r,T,w){this._scanner.text(r),this._token=this._scanner.next();const x=new g;for(;this._parse(x););const f=new Map,p=[];let S=0;x.walk(h=>(h instanceof y&&(S+=1,h.isFinalTabstop?f.set(0,void 0):!f.has(h.index)&&h.children.length>0?f.set(h.index,h.children):p.push(h)),!0));for(const h of p){const L=f.get(h.index);if(L){const v=new y(h.index);v.transform=h.transform;for(const V of L)v.appendChild(V.clone());x.replace(h,[v])}}return w||(w=S>0&&T),!f.has(0)&&w&&x.appendChild(new y(0)),x}_accept(r,T){if(r===void 0||this._token.type===r){let w=T?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),w}return!1}_backTo(r){return this._scanner.pos=r.pos+r.len,this._token=r,!1}_until(r){const T=this._token;for(;this._token.type!==r;){if(this._token.type===14)return!1;if(this._token.type===5){const x=this._scanner.next();if(x.type!==0&&x.type!==4&&x.type!==5)return!1}this._token=this._scanner.next()}const w=this._scanner.value.substring(T.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),w}_parse(r){return this._parseEscaped(r)||this._parseTabstopOrVariableName(r)||this._parseComplexPlaceholder(r)||this._parseComplexVariable(r)||this._parseAnything(r)}_parseEscaped(r){let T;return(T=this._accept(5,!0))?(T=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||T,r.appendChild(new Q(T)),!0):!1}_parseTabstopOrVariableName(r){let T;const w=this._token;return this._accept(0)&&(T=this._accept(9,!0)||this._accept(8,!0))?(r.appendChild(/^\d+$/.test(T)?new y(Number(T)):new s(T)),!0):this._backTo(w)}_parseComplexPlaceholder(r){let T;const w=this._token;if(!(this._accept(0)&&this._accept(3)&&(T=this._accept(8,!0))))return this._backTo(w);const f=new y(Number(T));if(this._accept(1))for(;;){if(this._accept(4))return r.appendChild(f),!0;if(!this._parse(f))return r.appendChild(new Q("${"+T+":")),f.children.forEach(r.appendChild,r),!0}else if(f.index>0&&this._accept(7)){const p=new X;for(;;){if(this._parseChoiceElement(p)){if(this._accept(2))continue;if(this._accept(7)&&(f.appendChild(p),this._accept(4)))return r.appendChild(f),!0}return this._backTo(w),!1}}else return this._accept(6)?this._parseTransform(f)?(r.appendChild(f),!0):(this._backTo(w),!1):this._accept(4)?(r.appendChild(f),!0):this._backTo(w)}_parseChoiceElement(r){const T=this._token,w=[];for(;!(this._token.type===2||this._token.type===7);){let x;if((x=this._accept(5,!0))?x=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||x:x=this._accept(void 0,!0),!x)return this._backTo(T),!1;w.push(x)}return w.length===0?(this._backTo(T),!1):(r.appendChild(new Q(w.join(""))),!0)}_parseComplexVariable(r){let T;const w=this._token;if(!(this._accept(0)&&this._accept(3)&&(T=this._accept(9,!0))))return this._backTo(w);const f=new s(T);if(this._accept(1))for(;;){if(this._accept(4))return r.appendChild(f),!0;if(!this._parse(f))return r.appendChild(new Q("${"+T+":")),f.children.forEach(r.appendChild,r),!0}else return this._accept(6)?this._parseTransform(f)?(r.appendChild(f),!0):(this._backTo(w),!1):this._accept(4)?(r.appendChild(f),!0):this._backTo(w)}_parseTransform(r){let T=new R,w="",x="";for(;!this._accept(6);){let f;if(f=this._accept(5,!0)){f=this._accept(6,!0)||f,w+=f;continue}if(this._token.type!==14){w+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let f;if(f=this._accept(5,!0)){f=this._accept(5,!0)||this._accept(6,!0)||f,T.appendChild(new Q(f));continue}if(!(this._parseFormatString(T)||this._parseAnything(T)))return!1}for(;!this._accept(4);){if(this._token.type!==14){x+=this._accept(void 0,!0);continue}return!1}try{T.regexp=new RegExp(w,x)}catch(f){return!1}return r.transform=T,!0}_parseFormatString(r){const T=this._token;if(!this._accept(0))return!1;let w=!1;this._accept(3)&&(w=!0);let x=this._accept(8,!0);if(x)if(w){if(this._accept(4))return r.appendChild(new B(Number(x))),!0;if(!this._accept(1))return this._backTo(T),!1}else return r.appendChild(new B(Number(x))),!0;else return this._backTo(T),!1;if(this._accept(6)){let f=this._accept(9,!0);return!f||!this._accept(4)?(this._backTo(T),!1):(r.appendChild(new B(Number(x),f)),!0)}else if(this._accept(11)){let f=this._until(4);if(f)return r.appendChild(new B(Number(x),void 0,f,void 0)),!0}else if(this._accept(12)){let f=this._until(4);if(f)return r.appendChild(new B(Number(x),void 0,void 0,f)),!0}else if(this._accept(13)){let f=this._until(1);if(f){let p=this._until(4);if(p)return r.appendChild(new B(Number(x),void 0,f,p)),!0}}else{let f=this._until(4);if(f)return r.appendChild(new B(Number(x),void 0,void 0,f)),!0}return this._backTo(T),!1}_parseAnything(r){return this._token.type!==14?(r.appendChild(new Q(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}},44951:function(Qt,He,c){"use strict";c.d(He,{l:function(){return m}});var E=c(9488),O=c(5976),Q=c(97295),P=c(69386),y=c(24314),X=c(3860),R=c(24979),B=c(44349),s=c(73910),N=c(97781),g=c(40382),D=c(63472),H=c(68843),r=c(55336),T=c(95935);const w=new Uint8Array(16),x=[];for(let b=0;b<256;b++)x.push(b.toString(16).padStart(2,"0"));let f;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?f=crypto.getRandomValues.bind(crypto):f=function(b){for(let F=0;F<b.length;F++)b[F]=Math.floor(Math.random()*256);return b};function p(){f(w),w[6]=w[6]&15|64,w[8]=w[8]&63|128;let b=0,F="";return F+=x[w[b++]],F+=x[w[b++]],F+=x[w[b++]],F+=x[w[b++]],F+="-",F+=x[w[b++]],F+=x[w[b++]],F+="-",F+=x[w[b++]],F+=x[w[b++]],F+="-",F+=x[w[b++]],F+=x[w[b++]],F+="-",F+=x[w[b++]],F+=x[w[b++]],F+=x[w[b++]],F+=x[w[b++]],F+=x[w[b++]],F+=x[w[b++]],F}var S=c(94660),h=c(63580),L=c(70666);const v="code-workspace";function V(b){const F=b;return typeof(F==null?void 0:F.id)=="string"&&L.o.isUri(F.uri)}function $(b){if(b.configuration)return{id:b.id,configPath:b.configuration};if(b.folders.length===1)return{id:b.id,uri:b.folders[0].uri}}class ee{constructor(F){this._delegates=F}resolve(F){for(const te of this._delegates){let me=te.resolve(F);if(me!==void 0)return me}}}class de{constructor(F,te,me,ue){this._model=F,this._selection=te,this._selectionIdx=me,this._overtypingCapturer=ue}resolve(F){const{name:te}=F;if(te==="SELECTION"||te==="TM_SELECTED_TEXT"){let me=this._model.getValueInRange(this._selection)||void 0,ue=this._selection.startLineNumber!==this._selection.endLineNumber;if(!me&&this._overtypingCapturer){const Oe=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);Oe&&(me=Oe.value,ue=Oe.multiline)}if(me&&ue&&F.snippet){const Oe=this._model.getLineContent(this._selection.startLineNumber),Re=(0,Q.V8)(Oe,0,this._selection.startColumn-1);let et=Re;F.snippet.walk(ht=>ht===F?!1:(ht instanceof D.xv&&(et=(0,Q.V8)((0,Q.uq)(ht.value).pop())),!0));const Dt=(0,Q.Mh)(et,Re);me=me.replace(/(\r\n|\r|\n)(.*)/g,(ht,Mt,Je)=>`${Mt}${et.substr(Dt)}${Je}`)}return me}else{if(te==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(te==="TM_CURRENT_WORD"){const me=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return me&&me.word||void 0}else{if(te==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(te==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}class pe{constructor(F,te){this._labelService=F,this._model=te}resolve(F){const{name:te}=F;if(te==="TM_FILENAME")return r.EZ(this._model.uri.fsPath);if(te==="TM_FILENAME_BASE"){const me=r.EZ(this._model.uri.fsPath),ue=me.lastIndexOf(".");return ue<=0?me:me.slice(0,ue)}else{if(te==="TM_DIRECTORY")return r.XX(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,T.XX)(this._model.uri));if(te==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(te==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class ve{constructor(F,te,me,ue){this._readClipboardText=F,this._selectionIdx=te,this._selectionCount=me,this._spread=ue}resolve(F){if(F.name!=="CLIPBOARD")return;const te=this._readClipboardText();if(te){if(this._spread){const me=te.split(/\r\n|\n|\r/).filter(ue=>!(0,Q.m5)(ue));if(me.length===this._selectionCount)return me[this._selectionIdx]}return te}}}class xe{constructor(F,te){this._model=F,this._selection=te}resolve(F){const{name:te}=F,me=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),ue=S.zu.getComments(me);if(ue){if(te==="LINE_COMMENT")return ue.lineCommentToken||void 0;if(te==="BLOCK_COMMENT_START")return ue.blockCommentStartToken||void 0;if(te==="BLOCK_COMMENT_END")return ue.blockCommentEndToken||void 0}}}class le{constructor(){this._date=new Date}resolve(F){const{name:te}=F;if(te==="CURRENT_YEAR")return String(this._date.getFullYear());if(te==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(te==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(te==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(te==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(te==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(te==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(te==="CURRENT_DAY_NAME")return le.dayNames[this._date.getDay()];if(te==="CURRENT_DAY_NAME_SHORT")return le.dayNamesShort[this._date.getDay()];if(te==="CURRENT_MONTH_NAME")return le.monthNames[this._date.getMonth()];if(te==="CURRENT_MONTH_NAME_SHORT")return le.monthNamesShort[this._date.getMonth()];if(te==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}le.dayNames=[h.N("Sunday","Sunday"),h.N("Monday","Monday"),h.N("Tuesday","Tuesday"),h.N("Wednesday","Wednesday"),h.N("Thursday","Thursday"),h.N("Friday","Friday"),h.N("Saturday","Saturday")],le.dayNamesShort=[h.N("SundayShort","Sun"),h.N("MondayShort","Mon"),h.N("TuesdayShort","Tue"),h.N("WednesdayShort","Wed"),h.N("ThursdayShort","Thu"),h.N("FridayShort","Fri"),h.N("SaturdayShort","Sat")],le.monthNames=[h.N("January","January"),h.N("February","February"),h.N("March","March"),h.N("April","April"),h.N("May","May"),h.N("June","June"),h.N("July","July"),h.N("August","August"),h.N("September","September"),h.N("October","October"),h.N("November","November"),h.N("December","December")],le.monthNamesShort=[h.N("JanuaryShort","Jan"),h.N("FebruaryShort","Feb"),h.N("MarchShort","Mar"),h.N("AprilShort","Apr"),h.N("MayShort","May"),h.N("JuneShort","Jun"),h.N("JulyShort","Jul"),h.N("AugustShort","Aug"),h.N("SeptemberShort","Sep"),h.N("OctoberShort","Oct"),h.N("NovemberShort","Nov"),h.N("DecemberShort","Dec")];class Y{constructor(F){this._workspaceService=F}resolve(F){if(!this._workspaceService)return;const te=$(this._workspaceService.getWorkspace());if(te){if(F.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(te);if(F.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(te)}}_resolveWorkspaceName(F){if(V(F))return r.EZ(F.uri.path);let te=r.EZ(F.configPath.path);return te.endsWith(v)&&(te=te.substr(0,te.length-v.length-1)),te}_resoveWorkspacePath(F){if(V(F))return(0,H.D)(F.uri.fsPath);let te=r.EZ(F.configPath.path),me=F.configPath.fsPath;return me.endsWith(te)&&(me=me.substr(0,me.length-te.length-1)),me?(0,H.D)(me):"/"}}class j{resolve(F){const{name:te}=F;if(te==="RANDOM")return Math.random().toString().slice(-6);if(te==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(te==="UUID")return p()}}(0,N.Ic)((b,F)=>{function te(me){const ue=b.getColor(me);return ue?ue.toString():"transparent"}F.addRule(`.monaco-editor .snippet-placeholder { background-color: ${te(s.u2)}; outline-color: ${te(s.Pk)}; }`),F.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${te(s.I1)}; outline-color: ${te(s.U6)}; }`)});class G{constructor(F,te,me,ue){this._editor=F,this._snippet=te,this._offset=me,this._snippetLineLeadingWhitespace=ue,this._nestingLevel=1,this._placeholderGroups=(0,E.vM)(te.placeholders,D.Vm.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const F=this._editor.getModel();this._editor.changeDecorations(te=>{for(const me of this._snippet.placeholders){const ue=this._snippet.offset(me),Oe=this._snippet.fullLen(me),Re=y.e.fromPositions(F.getPositionAt(this._offset+ue),F.getPositionAt(this._offset+ue+Oe)),et=me.isFinalTabstop?G._decor.inactiveFinal:G._decor.inactive,Dt=te.addDecoration(Re,et);this._placeholderDecorations.set(me,Dt)}})}move(F){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let ue=[];for(const Oe of this._placeholderGroups[this._placeholderGroupsIdx])if(Oe.transform){const Re=this._placeholderDecorations.get(Oe),et=this._editor.getModel().getDecorationRange(Re),Dt=this._editor.getModel().getValueInRange(et),ht=Oe.transform.resolve(Dt).split(/\r\n|\r|\n/);for(let Mt=1;Mt<ht.length;Mt++)ht[Mt]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+ht[Mt]);ue.push(P.h.replace(et,ht.join(this._editor.getModel().getEOL())))}ue.length>0&&this._editor.executeEdits("snippet.placeholderTransform",ue)}let te=!1;F===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,te=!0):F===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,te=!0);const me=this._editor.getModel().changeDecorations(ue=>{const Oe=new Set,Re=[];for(const et of this._placeholderGroups[this._placeholderGroupsIdx]){const Dt=this._placeholderDecorations.get(et),ht=this._editor.getModel().getDecorationRange(Dt);Re.push(new X.Y(ht.startLineNumber,ht.startColumn,ht.endLineNumber,ht.endColumn)),te=te&&this._hasPlaceholderBeenCollapsed(et),ue.changeDecorationOptions(Dt,et.isFinalTabstop?G._decor.activeFinal:G._decor.active),Oe.add(et);for(const Mt of this._snippet.enclosingPlaceholders(et)){const Je=this._placeholderDecorations.get(Mt);ue.changeDecorationOptions(Je,Mt.isFinalTabstop?G._decor.activeFinal:G._decor.active),Oe.add(Mt)}}for(const[et,Dt]of this._placeholderDecorations)Oe.has(et)||ue.changeDecorationOptions(Dt,et.isFinalTabstop?G._decor.inactiveFinal:G._decor.inactive);return Re});return te?this.move(F):me!=null?me:[]}_hasPlaceholderBeenCollapsed(F){let te=F;for(;te;){if(te instanceof D.Vm){const me=this._placeholderDecorations.get(te);if(this._editor.getModel().getDecorationRange(me).isEmpty()&&te.toString().length>0)return!0}te=te.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const F=new Map;for(const te of this._placeholderGroups){let me;for(const ue of te){if(ue.isFinalTabstop)break;me||(me=[],F.set(ue.index,me));const Oe=this._placeholderDecorations.get(ue),Re=this._editor.getModel().getDecorationRange(Oe);if(!Re){F.delete(ue.index);break}me.push(Re)}}return F}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(F){const te=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(me=>{for(const ue of this._placeholderGroups[this._placeholderGroupsIdx]){const Oe=F.shift();console.assert(!Oe._placeholderDecorations);const Re=Oe._snippet.placeholderInfo.last.index;for(const Dt of Oe._snippet.placeholderInfo.all)Dt.isFinalTabstop?Dt.index=ue.index+(Re+1)/this._nestingLevel:Dt.index=ue.index+Dt.index/this._nestingLevel;this._snippet.replace(ue,Oe._snippet.children);const et=this._placeholderDecorations.get(ue);me.removeDecoration(et),this._placeholderDecorations.delete(ue);for(const Dt of Oe._snippet.placeholders){const ht=Oe._snippet.offset(Dt),Mt=Oe._snippet.fullLen(Dt),Je=y.e.fromPositions(te.getPositionAt(Oe._offset+ht),te.getPositionAt(Oe._offset+ht+Mt)),tt=me.addDecoration(Je,G._decor.inactive);this._placeholderDecorations.set(Dt,tt)}}this._placeholderGroups=(0,E.vM)(this._snippet.placeholders,D.Vm.compareByIndex)})}}G._decor={active:R.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:R.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:R.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:R.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const q={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class m{constructor(F,te,me=q){this._templateMerges=[],this._snippets=[],this._editor=F,this._template=te,this._options=me}static adjustWhitespace(F,te,me,ue,Oe){const Re=F.getLineContent(te.lineNumber),et=(0,Q.V8)(Re,0,te.column-1);let Dt;return me.walk(ht=>{if(!(ht instanceof D.xv)||ht.parent instanceof D.Lv)return!0;const Mt=ht.value.split(/\r\n|\r|\n/);if(ue){const tt=me.offset(ht);if(tt===0)Mt[0]=F.normalizeIndentation(Mt[0]);else{Dt=Dt!=null?Dt:me.toString();let ke=Dt.charCodeAt(tt-1);(ke===10||ke===13)&&(Mt[0]=F.normalizeIndentation(et+Mt[0]))}for(let ke=1;ke<Mt.length;ke++)Mt[ke]=F.normalizeIndentation(et+Mt[ke])}const Je=Mt.join(F.getEOL());return Je!==ht.value&&(ht.parent.replace(ht,[new D.xv(Je)]),Dt=void 0),!0}),et}static adjustSelection(F,te,me,ue){if(me!==0||ue!==0){const{positionLineNumber:Oe,positionColumn:Re}=te,et=Re-me,Dt=Re+ue,ht=F.validateRange({startLineNumber:Oe,startColumn:et,endLineNumber:Oe,endColumn:Dt});te=X.Y.createWithDirection(ht.startLineNumber,ht.startColumn,ht.endLineNumber,ht.endColumn,te.getDirection())}return te}static createEditsAndSnippets(F,te,me,ue,Oe,Re,et,Dt){const ht=[],Mt=[];if(!F.hasModel())return{edits:ht,snippets:Mt};const Je=F.getModel(),tt=F.invokeWithinContext(Pe=>Pe.get(g.ec)),ke=F.invokeWithinContext(Pe=>new pe(Pe.get(B.e),Je)),fe=()=>et;let Ie=0,nt=Je.getValueInRange(m.adjustSelection(Je,F.getSelection(),me,0)),at=Je.getValueInRange(m.adjustSelection(Je,F.getSelection(),0,ue)),ot=Je.getLineFirstNonWhitespaceColumn(F.getSelection().positionLineNumber);const Ne=F.getSelections().map((Pe,ye)=>({selection:Pe,idx:ye})).sort((Pe,ye)=>y.e.compareRangesUsingStarts(Pe.selection,ye.selection));for(const{selection:Pe,idx:ye}of Ne){let Ze=m.adjustSelection(Je,Pe,me,0),it=m.adjustSelection(Je,Pe,0,ue);nt!==Je.getValueInRange(Ze)&&(Ze=Pe),at!==Je.getValueInRange(it)&&(it=Pe);const Ft=Pe.setStartPosition(Ze.startLineNumber,Ze.startColumn).setEndPosition(it.endLineNumber,it.endColumn),ei=new D.Yj().parse(te,!0,Oe),bi=Ft.getStartPosition(),ii=m.adjustWhitespace(Je,bi,ei,Re||ye>0&&ot!==Je.getLineFirstNonWhitespaceColumn(Pe.positionLineNumber),!0);ei.resolveVariables(new ee([ke,new ve(fe,ye,Ne.length,F.getOption(70)==="spread"),new de(Je,Pe,ye,Dt),new xe(Je,Pe),new le,new Y(tt),new j]));const Ot=Je.getOffsetAt(bi)+Ie;Ie+=ei.toString().length-Je.getValueLengthInRange(Ft),ht[ye]=P.h.replace(Ft,ei.toString()),ht[ye].identifier={major:ye,minor:0},Mt[ye]=new G(F,ei,Ot,ii)}return{edits:ht,snippets:Mt}}dispose(){(0,O.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:F,snippets:te}=m.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=te,this._editor.executeEdits("snippet",F,me=>this._snippets[0].hasPlaceholder?this._move(!0):me.filter(ue=>!!ue.identifier).map(ue=>X.Y.fromPositions(ue.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(F,te=q){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,F]);const{edits:me,snippets:ue}=m.createEditsAndSnippets(this._editor,F,te.overwriteBefore,te.overwriteAfter,!0,te.adjustWhitespace,te.clipboardText,te.overtypingCapturer);this._editor.executeEdits("snippet",me,Oe=>{for(const Re of this._snippets)Re.merge(ue);return console.assert(ue.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):Oe.filter(Re=>!!Re.identifier).map(Re=>X.Y.fromPositions(Re.range.getEndPosition()))})}next(){const F=this._move(!0);this._editor.setSelections(F),this._editor.revealPositionInCenterIfOutsideViewport(F[0].getPosition())}prev(){const F=this._move(!1);this._editor.setSelections(F),this._editor.revealPositionInCenterIfOutsideViewport(F[0].getPosition())}_move(F){const te=[];for(const me of this._snippets){const ue=me.move(F);te.push(...ue)}return te}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const F=this._editor.getSelections();if(F.length<this._snippets.length)return!1;let te=new Map;for(const me of this._snippets){const ue=me.computePossibleSelections();if(te.size===0)for(const[Oe,Re]of ue){Re.sort(y.e.compareRangesUsingStarts);for(const et of F)if(Re[0].containsRange(et)){te.set(Oe,[]);break}}if(te.size===0)return!1;te.forEach((Oe,Re)=>{Oe.push(...ue.get(Re))})}F.sort(y.e.compareRangesUsingStarts);for(let[me,ue]of te){if(ue.length!==F.length){te.delete(me);continue}ue.sort(y.e.compareRangesUsingStarts);for(let Oe=0;Oe<ue.length;Oe++)if(!ue[Oe].containsRange(F[Oe])){te.delete(me);continue}}return te.size>0}}},79599:function(Qt,He,c){"use strict";c.d(He,{A9:function(){return h},GI:function(){return p},ZJ:function(){return v},_y:function(){return f},i5:function(){return Y},kL:function(){return $},wg:function(){return xe}});var E=c(71050),O=c(17301),Q=c(75392),P=c(5976),y=c(84013),X=c(98401),R=c(70666),B=c(50187),s=c(24314),N=c(10351),g=c(88216),D=c(63472),H=c(63580),r=c(84144),T=c(94565),w=c(38819),x=function(j,G,q,m){function b(F){return F instanceof q?F:new q(function(te){te(F)})}return new(q||(q=Promise))(function(F,te){function me(Re){try{Oe(m.next(Re))}catch(et){te(et)}}function ue(Re){try{Oe(m.throw(Re))}catch(et){te(et)}}function Oe(Re){Re.done?F(Re.value):b(Re.value).then(me,ue)}Oe((m=m.apply(j,G||[])).next())})};const f={Visible:new w.uy("suggestWidgetVisible",!1,(0,H.N)("suggestWidgetVisible","Whether suggestion are visible")),DetailsVisible:new w.uy("suggestWidgetDetailsVisible",!1,(0,H.N)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new w.uy("suggestWidgetMultipleSuggestions",!1,(0,H.N)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new w.uy("suggestionMakesTextEdit",!0,(0,H.N)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new w.uy("acceptSuggestionOnEnter",!0,(0,H.N)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new w.uy("suggestionHasInsertAndReplaceRange",!1,(0,H.N)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new w.uy("suggestionInsertMode",void 0,{type:"string",description:(0,H.N)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new w.uy("suggestionCanResolve",!1,(0,H.N)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},p=new r.eH("suggestWidgetStatusBar");class S{constructor(G,q,m,b){this.position=G,this.completion=q,this.container=m,this.provider=b,this.isInvalid=!1,this.score=Q.CL.Default,this.distance=0,this.textLabel=typeof q.label=="string"?q.label:q.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=q.sortText&&q.sortText.toLowerCase(),this.filterTextLow=q.filterText&&q.filterText.toLowerCase(),s.e.isIRange(q.range)?(this.editStart=new B.L(q.range.startLineNumber,q.range.startColumn),this.editInsertEnd=new B.L(q.range.endLineNumber,q.range.endColumn),this.editReplaceEnd=new B.L(q.range.endLineNumber,q.range.endColumn),this.isInvalid=this.isInvalid||s.e.spansMultipleLines(q.range)||q.range.startLineNumber!==G.lineNumber):(this.editStart=new B.L(q.range.insert.startLineNumber,q.range.insert.startColumn),this.editInsertEnd=new B.L(q.range.insert.endLineNumber,q.range.insert.endColumn),this.editReplaceEnd=new B.L(q.range.replace.endLineNumber,q.range.replace.endColumn),this.isInvalid=this.isInvalid||s.e.spansMultipleLines(q.range.insert)||s.e.spansMultipleLines(q.range.replace)||q.range.insert.startLineNumber!==G.lineNumber||q.range.replace.startLineNumber!==G.lineNumber||q.range.insert.startColumn!==q.range.replace.startColumn),typeof b.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(G){return x(this,void 0,void 0,function*(){if(!this._resolveCache){const q=G.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,G)).then(m=>{Object.assign(this.completion,m),this._isResolved=!0,q.dispose()},m=>{(0,O.VV)(m)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class h{constructor(G=2,q=new Set,m=new Set,b=!0){this.snippetSortOrder=G,this.kindFilter=q,this.providerFilter=m,this.showDeprecated=b}}h.default=new h;let L;function v(){return L}class V{constructor(G,q,m,b){this.items=G,this.needsClipboard=q,this.durations=m,this.disposable=b}}function $(j,G,q=h.default,m={triggerKind:0},b=E.T.None){return x(this,void 0,void 0,function*(){const F=new y.G(!0);G=G.clone();const te=j.getWordAtPosition(G),me=te?new s.e(G.lineNumber,te.startColumn,G.lineNumber,te.endColumn):s.e.fromPositions(G),ue={replace:me,insert:me.setEndPosition(G.lineNumber,G.column)},Oe=[],Re=new P.SL,et=[];let Dt=!1;const ht=(Je,tt,ke)=>{var fe,Ie,nt;if(tt){for(let at of tt.suggestions)if(!q.kindFilter.has(at.kind)){if(!q.showDeprecated&&(!((fe=at==null?void 0:at.tags)===null||fe===void 0)&&fe.includes(1)))continue;at.range||(at.range=ue),at.sortText||(at.sortText=typeof at.label=="string"?at.label:at.label.label),!Dt&&at.insertTextRules&&at.insertTextRules&4&&(Dt=D.Yj.guessNeedsClipboard(at.insertText)),Oe.push(new S(G,at,tt,Je))}(0,P.Wf)(tt)&&Re.add(tt),et.push({providerName:(Ie=Je._debugDisplayName)!==null&&Ie!==void 0?Ie:"unkown_provider",elapsedProvider:(nt=tt.duration)!==null&&nt!==void 0?nt:-1,elapsedOverall:ke.elapsed()})}},Mt=x(this,void 0,void 0,function*(){if(!L||q.kindFilter.has(27)||q.providerFilter.size>0&&!q.providerFilter.has(L))return;const Je=new y.G(!0),tt=yield L.provideCompletionItems(j,G,m,b);ht(L,tt,Je)});for(let Je of N.KZ.orderedGroups(j)){let tt=Oe.length;if(yield Promise.all(Je.map(ke=>x(this,void 0,void 0,function*(){if(!(q.providerFilter.size>0&&!q.providerFilter.has(ke)))try{const fe=new y.G(!0),Ie=yield ke.provideCompletionItems(j,G,m,b);ht(ke,Ie,fe)}catch(fe){(0,O.Cp)(fe)}}))),tt!==Oe.length||b.isCancellationRequested)break}return yield Mt,b.isCancellationRequested?(Re.dispose(),Promise.reject((0,O.F0)())):new V(Oe.sort(xe(q.snippetSortOrder)),Dt,{entries:et,elapsed:F.elapsed()},Re)})}function ee(j,G){if(j.sortTextLow&&G.sortTextLow){if(j.sortTextLow<G.sortTextLow)return-1;if(j.sortTextLow>G.sortTextLow)return 1}return j.completion.label<G.completion.label?-1:j.completion.label>G.completion.label?1:j.completion.kind-G.completion.kind}function de(j,G){if(j.completion.kind!==G.completion.kind){if(j.completion.kind===27)return-1;if(G.completion.kind===27)return 1}return ee(j,G)}function pe(j,G){if(j.completion.kind!==G.completion.kind){if(j.completion.kind===27)return 1;if(G.completion.kind===27)return-1}return ee(j,G)}const ve=new Map;ve.set(0,de),ve.set(2,pe),ve.set(1,ee);function xe(j){return ve.get(j)}T.P.registerCommand("_executeCompletionItemProvider",(j,...G)=>x(void 0,void 0,void 0,function*(){const[q,m,b,F]=G;(0,X.p_)(R.o.isUri(q)),(0,X.p_)(B.L.isIPosition(m)),(0,X.p_)(typeof b=="string"||!b),(0,X.p_)(typeof F=="number"||!F);const te=yield j.get(g.S).createModelReference(q);try{const me={incomplete:!1,suggestions:[]},ue=[],Oe=yield $(te.object.textEditorModel,B.L.lift(m),void 0,{triggerCharacter:b,triggerKind:b?1:0});for(const Re of Oe.items)ue.length<(F!=null?F:0)&&ue.push(Re.resolve(E.T.None)),me.incomplete=me.incomplete||Re.container.incomplete,me.suggestions.push(Re.completion);try{return yield Promise.all(ue),me}finally{setTimeout(()=>Oe.disposable.dispose(),100)}}finally{te.dispose()}}));const le=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let G={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,G}};N.KZ.register("*",le);function Y(j,G){setTimeout(()=>{le.onlyOnceSuggestions.push(...G),j.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(le))},0)}},73707:function(Qt,He,c){"use strict";c.r(He),c.d(He,{SuggestController:function(){return nn},TriggerSuggestAction:function(){return Gn}});var E=c(35996),O=c(9488),Q=c(15393),P=c(71050),y=c(17301),X=c(4669),R=c(8313),B=c(5976),s=c(1432),N=c(84013),g=c(98401),D=c(55812),H=c(16830),r=c(69386),T=c(50187),w=c(24314),x=c(29102),f=c(22860),p=c(63472),S=c(43702),h=c(10351),L=c(33108),v=c(65026),V=c(72065),$=c(87060),ee=function(jt,_e,Me,ze){var vt=arguments.length,yt=vt<3?_e:ze===null?ze=Object.getOwnPropertyDescriptor(_e,Me):ze,oi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(jt,_e,Me,ze);else for(var qt=jt.length-1;qt>=0;qt--)(oi=jt[qt])&&(yt=(vt<3?oi(yt):vt>3?oi(_e,Me,yt):oi(_e,Me))||yt);return vt>3&&yt&&Object.defineProperty(_e,Me,yt),yt},de=function(jt,_e){return function(Me,ze){_e(Me,ze,jt)}};class pe{constructor(_e){this.name=_e}select(_e,Me,ze){if(ze.length===0)return 0;let vt=ze[0].score[0];for(let yt=0;yt<ze.length;yt++){const{score:oi,completion:qt}=ze[yt];if(oi[0]!==vt)break;if(qt.preselect)return yt}return 0}}class ve extends pe{constructor(){super("first")}memorize(_e,Me,ze){}toJSON(){}fromJSON(){}}class xe extends pe{constructor(){super("recentlyUsed"),this._cache=new S.z6(300,.66),this._seq=0}memorize(_e,Me,ze){const vt=`${_e.getLanguageId()}/${ze.textLabel}`;this._cache.set(vt,{touch:this._seq++,type:ze.completion.kind,insertText:ze.completion.insertText})}select(_e,Me,ze){if(ze.length===0)return 0;const vt=_e.getLineContent(Me.lineNumber).substr(Me.column-10,Me.column-1);if(/\s$/.test(vt))return super.select(_e,Me,ze);let yt=ze[0].score[0],oi=-1,qt=-1,fn=-1;for(let Tn=0;Tn<ze.length&&ze[Tn].score[0]===yt;Tn++){const Bi=`${_e.getLanguageId()}/${ze[Tn].textLabel}`,dn=this._cache.peek(Bi);if(dn&&dn.touch>fn&&dn.type===ze[Tn].completion.kind&&dn.insertText===ze[Tn].completion.insertText&&(fn=dn.touch,qt=Tn),ze[Tn].completion.preselect&&oi===-1)return oi=Tn}return qt!==-1?qt:oi!==-1?oi:0}toJSON(){return this._cache.toJSON()}fromJSON(_e){this._cache.clear();let Me=0;for(const[ze,vt]of _e)vt.touch=Me,vt.type=typeof vt.type=="number"?vt.type:(0,h.jr)(vt.type),this._cache.set(ze,vt);this._seq=this._cache.size}}class le extends pe{constructor(){super("recentlyUsedByPrefix"),this._trie=S.Id.forStrings(),this._seq=0}memorize(_e,Me,ze){const{word:vt}=_e.getWordUntilPosition(Me),yt=`${_e.getLanguageId()}/${vt}`;this._trie.set(yt,{type:ze.completion.kind,insertText:ze.completion.insertText,touch:this._seq++})}select(_e,Me,ze){let{word:vt}=_e.getWordUntilPosition(Me);if(!vt)return super.select(_e,Me,ze);let yt=`${_e.getLanguageId()}/${vt}`,oi=this._trie.get(yt);if(oi||(oi=this._trie.findSubstr(yt)),oi)for(let qt=0;qt<ze.length;qt++){let{kind:fn,insertText:Tn}=ze[qt].completion;if(fn===oi.type&&Tn===oi.insertText)return qt}return super.select(_e,Me,ze)}toJSON(){let _e=[];return this._trie.forEach((Me,ze)=>_e.push([ze,Me])),_e.sort((Me,ze)=>-(Me[1].touch-ze[1].touch)).forEach((Me,ze)=>Me[1].touch=ze),_e.slice(0,200)}fromJSON(_e){if(this._trie.clear(),_e.length>0){this._seq=_e[0][1].touch+1;for(const[Me,ze]of _e)ze.type=typeof ze.type=="number"?ze.type:(0,h.jr)(ze.type),this._trie.set(Me,ze)}}}let Y=class Tl{constructor(_e,Me){this._storageService=_e,this._configService=Me,this._disposables=new B.SL,this._persistSoon=new Q.pY(()=>this._saveState(),500),this._disposables.add(_e.onWillSaveState(ze=>{ze.reason===$.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(_e,Me,ze){this._withStrategy(_e,Me).memorize(_e,Me,ze),this._persistSoon.schedule()}select(_e,Me,ze){return this._withStrategy(_e,Me).select(_e,Me,ze)}_withStrategy(_e,Me){var ze;const vt=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:_e.getLanguageIdAtPosition(Me.lineNumber,Me.column),resource:_e.uri});if(((ze=this._strategy)===null||ze===void 0?void 0:ze.name)!==vt){this._saveState();const yt=Tl._strategyCtors.get(vt)||ve;this._strategy=new yt;try{const qt=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,fn=this._storageService.get(`${Tl._storagePrefix}/${vt}`,qt);fn&&this._strategy.fromJSON(JSON.parse(fn))}catch(oi){}}return this._strategy}_saveState(){if(this._strategy){const Me=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,ze=JSON.stringify(this._strategy);this._storageService.store(`${Tl._storagePrefix}/${this._strategy.name}`,ze,Me,1)}}};Y._strategyCtors=new Map([["recentlyUsedByPrefix",le],["recentlyUsed",xe],["first",ve]]),Y._storagePrefix="suggest/memories",Y=ee([de(0,$.Uy),de(1,L.Ui)],Y);const j=(0,V.yh)("ISuggestMemories");(0,v.z)(j,Y,!0);var G=c(38819),q=function(jt,_e,Me,ze){var vt=arguments.length,yt=vt<3?_e:ze===null?ze=Object.getOwnPropertyDescriptor(_e,Me):ze,oi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(jt,_e,Me,ze);else for(var qt=jt.length-1;qt>=0;qt--)(oi=jt[qt])&&(yt=(vt<3?oi(yt):vt>3?oi(_e,Me,yt):oi(_e,Me))||yt);return vt>3&&yt&&Object.defineProperty(_e,Me,yt),yt},m=function(jt,_e){return function(Me,ze){_e(Me,ze,jt)}};let b=class Tu{constructor(_e,Me){this._editor=_e,this._enabled=!1,this._ckAtEnd=Tu.AtEnd.bindTo(Me),this._configListener=this._editor.onDidChangeConfiguration(ze=>ze.hasChanged(110)&&this._update()),this._update()}dispose(){var _e;this._configListener.dispose(),(_e=this._selectionListener)===null||_e===void 0||_e.dispose(),this._ckAtEnd.reset()}_update(){const _e=this._editor.getOption(110)==="on";if(this._enabled!==_e)if(this._enabled=_e,this._enabled){const Me=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const ze=this._editor.getModel(),vt=this._editor.getSelection(),yt=ze.getWordAtPosition(vt.getStartPosition());if(!yt){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(yt.endColumn===vt.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(Me),Me()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};b.AtEnd=new G.uy("atEndOfWord",!1),b=q([m(1,G.i6)],b);var F=c(63580),te=c(84144),me=c(94565),ue=c(49989),Oe=c(43557),Re=c(79599),et=function(jt,_e,Me,ze){var vt=arguments.length,yt=vt<3?_e:ze===null?ze=Object.getOwnPropertyDescriptor(_e,Me):ze,oi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(jt,_e,Me,ze);else for(var qt=jt.length-1;qt>=0;qt--)(oi=jt[qt])&&(yt=(vt<3?oi(yt):vt>3?oi(_e,Me,yt):oi(_e,Me))||yt);return vt>3&&yt&&Object.defineProperty(_e,Me,yt),yt},Dt=function(jt,_e){return function(Me,ze){_e(Me,ze,jt)}};let ht=class Ml{constructor(_e,Me){this._editor=_e,this._index=0,this._ckOtherSuggestions=Ml.OtherSuggestions.bindTo(Me)}dispose(){this.reset()}reset(){var _e;this._ckOtherSuggestions.reset(),(_e=this._listener)===null||_e===void 0||_e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:_e,index:Me},ze){if(_e.items.length===0){this.reset();return}if(Ml._moveIndex(!0,_e,Me)===Me){this.reset();return}this._acceptNext=ze,this._model=_e,this._index=Me,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(_e,Me,ze){let vt=ze;for(;vt=(vt+Me.items.length+(_e?1:-1))%Me.items.length,!(vt===ze||!Me.items[vt].completion.additionalTextEdits););return vt}next(){this._move(!0)}prev(){this._move(!1)}_move(_e){if(this._model)try{this._ignore=!0,this._index=Ml._moveIndex(_e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};ht.OtherSuggestions=new G.uy("hasOtherSuggestions",!1),ht=et([Dt(1,G.i6)],ht);var Mt=c(44906);class Je{constructor(_e,Me,ze){this._disposables=new B.SL,this._disposables.add(Me.onDidShow(()=>this._onItem(Me.getFocusedItem()))),this._disposables.add(Me.onDidFocus(this._onItem,this)),this._disposables.add(Me.onDidHide(this.reset,this)),this._disposables.add(_e.onWillType(vt=>{if(this._active&&!Me.isFrozen()){const yt=vt.charCodeAt(vt.length-1);this._active.acceptCharacters.has(yt)&&_e.getOption(0)&&ze(this._active.item)}}))}_onItem(_e){if(!_e||!(0,O.Of)(_e.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===_e.item)return;const Me=new Mt.q;for(const ze of _e.item.completion.commitCharacters)ze.length>0&&Me.add(ze.charCodeAt(0));this._active={acceptCharacters:Me,item:_e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var tt=c(97295),ke=c(3860),fe=c(90469),Ie=c(80689),nt=function(jt,_e,Me,ze){function vt(yt){return yt instanceof Me?yt:new Me(function(oi){oi(yt)})}return new(Me||(Me=Promise))(function(yt,oi){function qt(Bi){try{Tn(ze.next(Bi))}catch(dn){oi(dn)}}function fn(Bi){try{Tn(ze.throw(Bi))}catch(dn){oi(dn)}}function Tn(Bi){Bi.done?yt(Bi.value):vt(Bi.value).then(qt,fn)}Tn((ze=ze.apply(jt,_e||[])).next())})};class at{static create(_e,Me){return nt(this,void 0,void 0,function*(){if(!Me.getOption(105).localityBonus||!Me.hasModel())return at.None;const ze=Me.getModel(),vt=Me.getPosition();if(!_e.canComputeWordRanges(ze.uri))return at.None;const[yt]=yield new Ie.x().provideSelectionRanges(ze,[vt]);if(yt.length===0)return at.None;const oi=yield _e.computeWordRanges(ze.uri,yt[0].range);if(!oi)return at.None;const qt=ze.getWordUntilPosition(vt);return delete oi[qt.word],new class extends at{distance(fn,Tn){if(!vt.equals(Me.getPosition()))return 0;if(Tn.kind===17)return 2<<20;let Bi=typeof Tn.label=="string"?Tn.label:Tn.label.label,dn=oi[Bi];if((0,O.XY)(dn))return 2<<20;let yn=(0,O.ry)(dn,w.e.fromPositions(fn),w.e.compareRangesUsingStarts),tn=yn>=0?dn[yn]:dn[Math.max(0,~yn-1)],Zt=yt.length;for(const vi of yt){if(!w.e.containsRange(vi.range,tn))break;Zt-=1}return Zt}}})}}at.None=new class extends at{distance(){return 0}};var ot=c(84972),Ne=c(10829),Pe=c(75392);class ye{constructor(_e,Me){this.leadingLineContent=_e,this.characterCountDelta=Me}}class Ze{constructor(_e,Me,ze,vt,yt,oi,qt){this.clipboardText=qt,this._snippetCompareFn=Ze._compareCompletionItems,this._items=_e,this._column=Me,this._wordDistance=vt,this._options=yt,this._refilterKind=1,this._lineContext=ze,oi==="top"?this._snippetCompareFn=Ze._compareCompletionItemsSnippetsUp:oi==="bottom"&&(this._snippetCompareFn=Ze._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(_e){(this._lineContext.leadingLineContent!==_e.leadingLineContent||this._lineContext.characterCountDelta!==_e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<_e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=_e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const _e=new Set;for(let[Me,ze]of this._providerInfo)ze&&_e.add(Me);return _e}adopt(_e){let Me=[];for(let ze=0;ze<this._items.length;)_e.has(this._items[ze].provider)?ze++:(Me.push(this._items[ze]),this._items[ze]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,Me}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const _e=[],{leadingLineContent:Me,characterCountDelta:ze}=this._lineContext;let vt="",yt="";const oi=this._refilterKind===1?this._items:this._filteredItems,qt=[],fn=!this._options.filterGraceful||oi.length>2e3?Pe.EW:Pe.l7;for(let Tn=0;Tn<oi.length;Tn++){const Bi=oi[Tn];if(Bi.isInvalid)continue;this._providerInfo.set(Bi.provider,!!Bi.container.incomplete);const dn=Bi.position.column-Bi.editStart.column,yn=dn+ze-(Bi.position.column-this._column);if(vt.length!==yn&&(vt=yn===0?"":Me.slice(-yn),yt=vt.toLowerCase()),Bi.word=vt,yn===0)Bi.score=Pe.CL.Default;else{let tn=0;for(;tn<dn;){const Zt=vt.charCodeAt(tn);if(Zt===32||Zt===9)tn+=1;else break}if(tn>=yn)Bi.score=Pe.CL.Default;else if(typeof Bi.completion.filterText=="string"){let Zt=fn(vt,yt,tn,Bi.completion.filterText,Bi.filterTextLow,0,!1);if(!Zt)continue;(0,tt.zY)(Bi.completion.filterText,Bi.textLabel)===0?Bi.score=Zt:(Bi.score=(0,Pe.jB)(vt,yt,tn,Bi.textLabel,Bi.labelLow,0),Bi.score[0]=Zt[0])}else{let Zt=fn(vt,yt,tn,Bi.textLabel,Bi.labelLow,0,!1);if(!Zt)continue;Bi.score=Zt}}Bi.idx=Tn,Bi.distance=this._wordDistance.distance(Bi.position,Bi.completion),qt.push(Bi),_e.push(Bi.textLabel.length)}this._filteredItems=qt.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:_e.length?(0,O.HW)(_e.length-.85,_e,(Tn,Bi)=>Tn-Bi):0}}static _compareCompletionItems(_e,Me){return _e.score[0]>Me.score[0]?-1:_e.score[0]<Me.score[0]?1:_e.distance<Me.distance?-1:_e.distance>Me.distance?1:_e.idx<Me.idx?-1:_e.idx>Me.idx?1:0}static _compareCompletionItemsSnippetsDown(_e,Me){if(_e.completion.kind!==Me.completion.kind){if(_e.completion.kind===27)return 1;if(Me.completion.kind===27)return-1}return Ze._compareCompletionItems(_e,Me)}static _compareCompletionItemsSnippetsUp(_e,Me){if(_e.completion.kind!==Me.completion.kind){if(_e.completion.kind===27)return-1;if(Me.completion.kind===27)return 1}return Ze._compareCompletionItems(_e,Me)}}var it=function(jt,_e,Me,ze){var vt=arguments.length,yt=vt<3?_e:ze===null?ze=Object.getOwnPropertyDescriptor(_e,Me):ze,oi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(jt,_e,Me,ze);else for(var qt=jt.length-1;qt>=0;qt--)(oi=jt[qt])&&(yt=(vt<3?oi(yt):vt>3?oi(_e,Me,yt):oi(_e,Me))||yt);return vt>3&&yt&&Object.defineProperty(_e,Me,yt),yt},Ft=function(jt,_e){return function(Me,ze){_e(Me,ze,jt)}},ei=function(jt,_e,Me,ze){function vt(yt){return yt instanceof Me?yt:new Me(function(oi){oi(yt)})}return new(Me||(Me=Promise))(function(yt,oi){function qt(Bi){try{Tn(ze.next(Bi))}catch(dn){oi(dn)}}function fn(Bi){try{Tn(ze.throw(Bi))}catch(dn){oi(dn)}}function Tn(Bi){Bi.done?yt(Bi.value):vt(Bi.value).then(qt,fn)}Tn((ze=ze.apply(jt,_e||[])).next())})};class bi{constructor(_e,Me,ze,vt){this.leadingLineContent=_e.getLineContent(Me.lineNumber).substr(0,Me.column-1),this.leadingWord=_e.getWordUntilPosition(Me),this.lineNumber=Me.lineNumber,this.column=Me.column,this.auto=ze,this.shy=vt}static shouldAutoTrigger(_e){if(!_e.hasModel())return!1;const Me=_e.getModel(),ze=_e.getPosition();Me.tokenizeIfCheap(ze.lineNumber);const vt=Me.getWordAtPosition(ze);return!(!vt||vt.endColumn!==ze.column||!isNaN(Number(vt.word)))}}function ii(jt){return jt.getOption(105).preview}function Ot(jt,_e,Me){if(!_e.getContextKeyValue("inlineSuggestionVisible"))return!0;const ze=Me.getValue("editor.inlineSuggest.allowQuickSuggestions");return ze!==void 0?!!ze:!1}function en(jt,_e,Me){if(!_e.getContextKeyValue("inlineSuggestionVisible"))return!0;const ze=Me.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return ze!==void 0?!!ze:!1}let ui=class Mu{constructor(_e,Me,ze,vt,yt,oi,qt){this._editor=_e,this._editorWorkerService=Me,this._clipboardService=ze,this._telemetryService=vt,this._logService=yt,this._contextKeyService=oi,this._configurationService=qt,this._toDispose=new B.SL,this._quickSuggestDelay=10,this._triggerCharacterListener=new B.SL,this._triggerQuickSuggest=new Q._F,this._state=0,this._completionDisposables=new B.SL,this._onDidCancel=new X.Q5,this._onDidTrigger=new X.Q5,this._onDidSuggest=new X.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new ke.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(h.KZ.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(Tn=>{this._onCursorChange(Tn)}));let fn=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{fn=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{fn=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{fn||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,B.B9)(this._triggerCharacterListener),(0,B.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(79),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(80)||!this._editor.hasModel()||!this._editor.getOption(108))return;const _e=new Map;for(const ze of h.KZ.all(this._editor.getModel()))for(const vt of ze.triggerCharacters||[]){let yt=_e.get(vt);yt||(yt=new Set,yt.add((0,Re.ZJ)()),_e.set(vt,yt)),yt.add(ze)}const Me=ze=>{if(!en(this._editor,this._contextKeyService,this._configurationService)||bi.shouldAutoTrigger(this._editor))return;if(!ze){const oi=this._editor.getPosition();ze=this._editor.getModel().getLineContent(oi.lineNumber).substr(0,oi.column-1)}let vt="";(0,tt.YK)(ze.charCodeAt(ze.length-1))?(0,tt.ZG)(ze.charCodeAt(ze.length-2))&&(vt=ze.substr(ze.length-2)):vt=ze.charAt(ze.length-1);const yt=_e.get(vt);if(yt){const oi=this._completionModel?{items:this._completionModel.adopt(yt),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:vt},!!this._completionModel,yt,oi)}};this._triggerCharacterListener.add(this._editor.onDidType(Me)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(Me))}get state(){return this._state}cancel(_e=!1){var Me;this._state!==0&&(this._triggerQuickSuggest.cancel(),(Me=this._requestToken)===null||Me===void 0||Me.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:_e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!h.KZ.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(_e){if(!this._editor.hasModel())return;const Me=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!_e.selection.isEmpty()||_e.reason!==0&&_e.reason!==3||_e.source!=="keyboard"&&_e.source!=="deleteLeft"){this.cancel();return}this._state===0&&_e.reason===0?(Me.containsRange(this._currentSelection)||Me.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&_e.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){this._editor.getOption(78)!==!1&&(this._editor.getOption(105).snippetsPreventQuickSuggestions&&f.SnippetController2.get(this._editor).isInSnippet()||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!bi.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const _e=this._editor.getModel(),Me=this._editor.getPosition(),ze=this._editor.getOption(78);if(ze!==!1){if(ze!==!0){_e.tokenizeIfCheap(Me.lineNumber);const vt=_e.getLineTokens(Me.lineNumber),yt=vt.getStandardTokenType(vt.findTokenIndexAtOffset(Math.max(Me.column-1-1,0)));if(!(ze.other&&yt===0||ze.comments&&yt===1||ze.strings&&yt===2))return}Ot(this._editor,this._contextKeyService,this._configurationService)&&h.KZ.has(_e)&&this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const _e=this._editor.getModel(),Me=this._editor.getPosition(),ze=new bi(_e,Me,this._state===2,!1);this._onNewContext(ze)})}trigger(_e,Me=!1,ze,vt){var yt;if(!this._editor.hasModel())return;const oi=this._editor.getModel(),qt=_e.auto,fn=new bi(oi,this._editor.getPosition(),qt,_e.shy);this.cancel(Me),this._state=qt?2:1,this._onDidTrigger.fire({auto:qt,shy:_e.shy,position:this._editor.getPosition()}),this._context=fn;let Tn={triggerKind:(yt=_e.triggerKind)!==null&&yt!==void 0?yt:0};_e.triggerCharacter&&(Tn={triggerKind:1,triggerCharacter:_e.triggerCharacter}),this._requestToken=new P.A;const Bi=this._editor.getOption(100);let dn=1;switch(Bi){case"top":dn=0;break;case"bottom":dn=2;break}const{itemKind:yn,showDeprecated:tn}=Mu._createSuggestFilter(this._editor),Zt=at.create(this._editorWorkerService,this._editor),vi=(0,Re.kL)(oi,this._editor.getPosition(),new Re.A9(dn,yn,ze,tn),Tn,this._requestToken.token);Promise.all([vi,Zt]).then(([Xi,ts])=>ei(this,void 0,void 0,function*(){var us;if((us=this._requestToken)===null||us===void 0||us.dispose(),!this._editor.hasModel())return;let Ls=vt==null?void 0:vt.clipboardText;if(!Ls&&Xi.needsClipboard&&(Ls=yield this._clipboardService.readText()),this._state===0)return;const Be=this._editor.getModel();let d=Xi.items;if(vt){const U=(0,Re.wg)(dn);d=d.concat(vt.items).sort(U)}const M=new bi(Be,this._editor.getPosition(),qt,_e.shy);this._completionModel=new Ze(d,this._context.column,{leadingLineContent:M.leadingLineContent,characterCountDelta:M.column-this._context.column},ts,this._editor.getOption(105),this._editor.getOption(100),Ls),this._completionDisposables.add(Xi.disposable),this._onNewContext(M),this._reportDurationsTelemetry(Xi.durations)})).catch(y.dL)}_reportDurationsTelemetry(_e){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(_e)}),this._logService.debug("suggest.durations.json",_e)})}static _createSuggestFilter(_e){const Me=new Set;_e.getOption(100)==="none"&&Me.add(27);const vt=_e.getOption(105);return vt.showMethods||Me.add(0),vt.showFunctions||Me.add(1),vt.showConstructors||Me.add(2),vt.showFields||Me.add(3),vt.showVariables||Me.add(4),vt.showClasses||Me.add(5),vt.showStructs||Me.add(6),vt.showInterfaces||Me.add(7),vt.showModules||Me.add(8),vt.showProperties||Me.add(9),vt.showEvents||Me.add(10),vt.showOperators||Me.add(11),vt.showUnits||Me.add(12),vt.showValues||Me.add(13),vt.showConstants||Me.add(14),vt.showEnums||Me.add(15),vt.showEnumMembers||Me.add(16),vt.showKeywords||Me.add(17),vt.showWords||Me.add(18),vt.showColors||Me.add(19),vt.showFiles||Me.add(20),vt.showReferences||Me.add(21),vt.showColors||Me.add(22),vt.showFolders||Me.add(23),vt.showTypeParameters||Me.add(24),vt.showSnippets||Me.add(27),vt.showUsers||Me.add(25),vt.showIssues||Me.add(26),{itemKind:Me,showDeprecated:vt.showDeprecated}}_onNewContext(_e){if(this._context){if(_e.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,tt.V8)(_e.leadingLineContent)!==(0,tt.V8)(this._context.leadingLineContent)){this.cancel();return}if(_e.column<this._context.column){_e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(this._completionModel){if(_e.leadingWord.word.length!==0&&_e.leadingWord.startColumn>this._context.leadingWord.startColumn){const Me=new Set(h.KZ.all(this._editor.getModel()));for(let vt of this._completionModel.allProvider)Me.delete(vt);const ze=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,Me,{items:ze,clipboardText:this._completionModel.clipboardText});return}if(_e.column>this._context.column&&this._completionModel.incomplete.size>0&&_e.leadingWord.word.length!==0){const{incomplete:Me}=this._completionModel,ze=this._completionModel.adopt(Me);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,Me,{items:ze,clipboardText:this._completionModel.clipboardText})}else{let Me=this._completionModel.lineContext,ze=!1;if(this._completionModel.lineContext={leadingLineContent:_e.leadingLineContent,characterCountDelta:_e.column-this._context.column},this._completionModel.items.length===0){if(bi.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<_e.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=Me,ze=this._completionModel.items.length>0,ze&&_e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:ze})}}}}};ui=it([Ft(1,fe.p),Ft(2,ot.p),Ft(3,Ne.b),Ft(4,Oe.VZ),Ft(5,G.i6),Ft(6,L.Ui)],ui);class Ke{constructor(_e,Me){this._disposables=new B.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(_e.onWillType(()=>{if(!this._empty||!_e.hasModel())return;const ze=_e.getSelections(),vt=ze.length;let yt=!1;for(let qt=0;qt<vt;qt++)if(!ze[qt].isEmpty()){yt=!0;break}if(!yt)return;this._lastOvertyped=[];const oi=_e.getModel();for(let qt=0;qt<vt;qt++){const fn=ze[qt];if(oi.getValueLengthInRange(fn)>Ke._maxSelectionLength)return;this._lastOvertyped[qt]={value:oi.getValueInRange(fn),multiline:fn.startLineNumber!==fn.endLineNumber}}this._empty=!1})),this._disposables.add(Me.onDidCancel(ze=>{!this._empty&&!ze.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(_e){if(!this._empty&&_e>=0&&_e<this._lastOvertyped.length)return this._lastOvertyped[_e]}dispose(){this._disposables.dispose()}}Ke._maxSelectionLength=51200;var st=c(65321),Mi=c(15375),ci=c(69047),zi=c(59870),kn=c(84527),Ki=c(90317),ls=c(42499),Bn=function(jt,_e,Me,ze){var vt=arguments.length,yt=vt<3?_e:ze===null?ze=Object.getOwnPropertyDescriptor(_e,Me):ze,oi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(jt,_e,Me,ze);else for(var qt=jt.length-1;qt>=0;qt--)(oi=jt[qt])&&(yt=(vt<3?oi(yt):vt>3?oi(_e,Me,yt):oi(_e,Me))||yt);return vt>3&&yt&&Object.defineProperty(_e,Me,yt),yt},On=function(jt,_e){return function(Me,ze){_e(Me,ze,jt)}};class Zi extends ls.Mm{updateLabel(){const _e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!_e)return super.updateLabel();this.label&&(this.label.textContent=(0,F.N)("ddd","{0} ({1})",this._action.label,Zi.symbolPrintEnter(_e)))}static symbolPrintEnter(_e){var Me;return(Me=_e.getLabel())===null||Me===void 0?void 0:Me.replace(/\benter\b/gi,"\u23CE")}}let Mn=class{constructor(_e,Me,ze,vt){this._menuService=ze,this._contextKeyService=vt,this._menuDisposables=new B.SL,this.element=st.R3(_e,st.$(".suggest-status-bar"));const yt=oi=>oi instanceof te.U8?Me.createInstance(Zi,oi,void 0):void 0;this._leftActions=new Ki.o(this.element,{actionViewItemProvider:yt}),this._rightActions=new Ki.o(this.element,{actionViewItemProvider:yt}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const _e=this._menuService.createMenu(Re.GI,this._contextKeyService),Me=()=>{const ze=[],vt=[];for(let[yt,oi]of _e.getActions())yt==="left"?ze.push(...oi):vt.push(...oi);this._leftActions.clear(),this._leftActions.push(ze),this._rightActions.clear(),this._rightActions.push(vt)};this._menuDisposables.add(_e.onDidChange(()=>Me())),this._menuDisposables.add(_e)}hide(){this._menuDisposables.clear()}};Mn=Bn([On(1,V.TG),On(2,te.co),On(3,G.i6)],Mn);var an=c(73046),$e=c(73910),Tt=c(97781);const It=(0,$e.P6)("symbolIcon.arrayForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ge=(0,$e.P6)("symbolIcon.booleanForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xe=(0,$e.P6)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,F.N)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),kt=(0,$e.P6)("symbolIcon.colorForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),At=(0,$e.P6)("symbolIcon.constantForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Jt=(0,$e.P6)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,F.N)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ai=(0,$e.P6)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,F.N)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),yi=(0,$e.P6)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,F.N)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),sn=(0,$e.P6)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,F.N)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ji=(0,$e.P6)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,F.N)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Qn=(0,$e.P6)("symbolIcon.fileForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ui=(0,$e.P6)("symbolIcon.folderForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),on=(0,$e.P6)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,F.N)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),wt=(0,$e.P6)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,F.N)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ft=(0,$e.P6)("symbolIcon.keyForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),xt=(0,$e.P6)("symbolIcon.keywordForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ve=(0,$e.P6)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,F.N)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),qe=(0,$e.P6)("symbolIcon.moduleForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),mt=(0,$e.P6)("symbolIcon.namespaceForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ut=(0,$e.P6)("symbolIcon.nullForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ri=(0,$e.P6)("symbolIcon.numberForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$i=(0,$e.P6)("symbolIcon.objectForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_i=(0,$e.P6)("symbolIcon.operatorForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ni=(0,$e.P6)("symbolIcon.packageForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Gi=(0,$e.P6)("symbolIcon.propertyForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hn=(0,$e.P6)("symbolIcon.referenceForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pn=(0,$e.P6)("symbolIcon.snippetForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ai=(0,$e.P6)("symbolIcon.stringForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pi=(0,$e.P6)("symbolIcon.structForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_n=(0,$e.P6)("symbolIcon.textForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),En=(0,$e.P6)("symbolIcon.typeParameterForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),is=(0,$e.P6)("symbolIcon.unitForeground",{dark:$e.dR,light:$e.dR,hc:$e.dR},(0,F.N)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ds=(0,$e.P6)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,F.N)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,Tt.Ic)((jt,_e)=>{const Me=jt.getColor(It);Me&&_e.addRule(`${an.lA.symbolArray.cssSelector} { color: ${Me}; }`);const ze=jt.getColor(Ge);ze&&_e.addRule(`${an.lA.symbolBoolean.cssSelector} { color: ${ze}; }`);const vt=jt.getColor(Xe);vt&&_e.addRule(`${an.lA.symbolClass.cssSelector} { color: ${vt}; }`);const yt=jt.getColor(Ve);yt&&_e.addRule(`${an.lA.symbolMethod.cssSelector} { color: ${yt}; }`);const oi=jt.getColor(kt);oi&&_e.addRule(`${an.lA.symbolColor.cssSelector} { color: ${oi}; }`);const qt=jt.getColor(At);qt&&_e.addRule(`${an.lA.symbolConstant.cssSelector} { color: ${qt}; }`);const fn=jt.getColor(Jt);fn&&_e.addRule(`${an.lA.symbolConstructor.cssSelector} { color: ${fn}; }`);const Tn=jt.getColor(ai);Tn&&_e.addRule(`
			${an.lA.symbolValue.cssSelector},${an.lA.symbolEnum.cssSelector} { color: ${Tn}; }`);const Bi=jt.getColor(yi);Bi&&_e.addRule(`${an.lA.symbolEnumMember.cssSelector} { color: ${Bi}; }`);const dn=jt.getColor(sn);dn&&_e.addRule(`${an.lA.symbolEvent.cssSelector} { color: ${dn}; }`);const yn=jt.getColor(Ji);yn&&_e.addRule(`${an.lA.symbolField.cssSelector} { color: ${yn}; }`);const tn=jt.getColor(Qn);tn&&_e.addRule(`${an.lA.symbolFile.cssSelector} { color: ${tn}; }`);const Zt=jt.getColor(Ui);Zt&&_e.addRule(`${an.lA.symbolFolder.cssSelector} { color: ${Zt}; }`);const vi=jt.getColor(on);vi&&_e.addRule(`${an.lA.symbolFunction.cssSelector} { color: ${vi}; }`);const Xi=jt.getColor(wt);Xi&&_e.addRule(`${an.lA.symbolInterface.cssSelector} { color: ${Xi}; }`);const ts=jt.getColor(ft);ts&&_e.addRule(`${an.lA.symbolKey.cssSelector} { color: ${ts}; }`);const us=jt.getColor(xt);us&&_e.addRule(`${an.lA.symbolKeyword.cssSelector} { color: ${us}; }`);const Ls=jt.getColor(qe);Ls&&_e.addRule(`${an.lA.symbolModule.cssSelector} { color: ${Ls}; }`);const Be=jt.getColor(mt);Be&&_e.addRule(`${an.lA.symbolNamespace.cssSelector} { color: ${Be}; }`);const d=jt.getColor(ut);d&&_e.addRule(`${an.lA.symbolNull.cssSelector} { color: ${d}; }`);const M=jt.getColor(ri);M&&_e.addRule(`${an.lA.symbolNumber.cssSelector} { color: ${M}; }`);const U=jt.getColor($i);U&&_e.addRule(`${an.lA.symbolObject.cssSelector} { color: ${U}; }`);const oe=jt.getColor(_i);oe&&_e.addRule(`${an.lA.symbolOperator.cssSelector} { color: ${oe}; }`);const he=jt.getColor(Ni);he&&_e.addRule(`${an.lA.symbolPackage.cssSelector} { color: ${he}; }`);const Le=jt.getColor(Gi);Le&&_e.addRule(`${an.lA.symbolProperty.cssSelector} { color: ${Le}; }`);const We=jt.getColor(hn);We&&_e.addRule(`${an.lA.symbolReference.cssSelector} { color: ${We}; }`);const lt=jt.getColor(pn);lt&&_e.addRule(`${an.lA.symbolSnippet.cssSelector} { color: ${lt}; }`);const Pt=jt.getColor(Ai);Pt&&_e.addRule(`${an.lA.symbolString.cssSelector} { color: ${Pt}; }`);const St=jt.getColor(pi);St&&_e.addRule(`${an.lA.symbolStruct.cssSelector} { color: ${St}; }`);const Rt=jt.getColor(_n);Rt&&_e.addRule(`${an.lA.symbolText.cssSelector} { color: ${Rt}; }`);const Gt=jt.getColor(En);Gt&&_e.addRule(`${an.lA.symbolTypeParameter.cssSelector} { color: ${Gt}; }`);const li=jt.getColor(is);li&&_e.addRule(`${an.lA.symbolUnit.cssSelector} { color: ${li}; }`);const ae=jt.getColor(ds);ae&&_e.addRule(`${an.lA.symbolVariable.cssSelector} { color: ${ae}; }`)});var Xn=c(88810),Rs=c(83080);class Co{constructor(){this._onDidWillResize=new X.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new X.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new B.SL,this._size=new st.Ro(0,0),this._minSize=new st.Ro(0,0),this._maxSize=new st.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new Rs.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new Rs.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new Rs.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:Rs.l.North}),this._southSash=new Rs.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:Rs.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let _e,Me=0,ze=0;this._sashListener.add(X.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{_e===void 0&&(this._onDidWillResize.fire(),_e=this._size,Me=0,ze=0)})),this._sashListener.add(X.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{_e!==void 0&&(_e=void 0,Me=0,ze=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(vt=>{_e&&(ze=vt.currentX-vt.startX,this.layout(_e.height+Me,_e.width+ze),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(vt=>{_e&&(ze=-(vt.currentX-vt.startX),this.layout(_e.height+Me,_e.width+ze),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(vt=>{_e&&(Me=-(vt.currentY-vt.startY),this.layout(_e.height+Me,_e.width+ze),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(vt=>{_e&&(Me=vt.currentY-vt.startY,this.layout(_e.height+Me,_e.width+ze),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(X.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(vt=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(X.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(vt=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(_e,Me,ze,vt){this._northSash.state=_e?3:0,this._eastSash.state=Me?3:0,this._southSash.state=ze?3:0,this._westSash.state=vt?3:0}layout(_e=this.size.height,Me=this.size.width){const{height:ze,width:vt}=this._minSize,{height:yt,width:oi}=this._maxSize;_e=Math.max(ze,Math.min(yt,_e)),Me=Math.max(vt,Math.min(oi,Me));const qt=new st.Ro(Me,_e);st.Ro.equals(qt,this._size)||(this.domNode.style.height=_e+"px",this.domNode.style.width=Me+"px",this._size=qt,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(_e){this._maxSize=_e}get maxSize(){return this._maxSize}set minSize(_e){this._minSize=_e}get minSize(){return this._minSize}set preferredSize(_e){this._preferredSize=_e}get preferredSize(){return this._preferredSize}}var js=c(16268),_s=c(13433),ho=c(59365),oo=c(53430),qs=c(64141),Es=function(jt,_e,Me,ze){var vt=arguments.length,yt=vt<3?_e:ze===null?ze=Object.getOwnPropertyDescriptor(_e,Me):ze,oi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(jt,_e,Me,ze);else for(var qt=jt.length-1;qt>=0;qt--)(oi=jt[qt])&&(yt=(vt<3?oi(yt):vt>3?oi(_e,Me,yt):oi(_e,Me))||yt);return vt>3&&yt&&Object.defineProperty(_e,Me,yt),yt},Fs=function(jt,_e){return function(Me,ze){_e(Me,ze,jt)}};function Xs(jt){return!!jt&&!!(jt.completion.documentation||jt.completion.detail&&jt.completion.detail!==jt.completion.label)}let ro=class{constructor(_e,Me){this._editor=_e,this._onDidClose=new X.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new X.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new B.SL,this._renderDisposeable=new B.SL,this._borderWidth=1,this._size=new st.Ro(330,0),this.domNode=st.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=Me.createInstance(oo.$,{editor:_e}),this._body=st.$(".body"),this._scrollbar=new _s.s$(this._body,{}),st.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=st.R3(this._body,st.$(".header")),this._close=st.R3(this._header,st.$("span"+an.lA.close.cssSelector)),this._close.title=F.N("details.close","Close"),this._type=st.R3(this._header,st.$("p.type")),this._docs=st.R3(this._body,st.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(ze=>{ze.hasChanged(43)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const _e=this._editor.getOptions(),Me=_e.get(43),ze=Me.getMassagedFontFamily(js.G6?qs.hL.fontFamily:null),vt=_e.get(106)||Me.fontSize,yt=_e.get(107)||Me.lineHeight,oi=Me.fontWeight,qt=`${vt}px`,fn=`${yt}px`;this.domNode.style.fontSize=qt,this.domNode.style.lineHeight=`${yt/vt}`,this.domNode.style.fontWeight=oi,this.domNode.style.fontFeatureSettings=Me.fontFeatureSettings,this._type.style.fontFamily=ze,this._close.style.height=fn,this._close.style.width=fn}getLayoutInfo(){const _e=this._editor.getOption(107)||this._editor.getOption(43).lineHeight,Me=this._borderWidth,ze=Me*2;return{lineHeight:_e,borderWidth:Me,borderHeight:ze,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=F.N("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(_e,Me){var ze,vt;this._renderDisposeable.clear();let{detail:yt,documentation:oi}=_e.completion;if(Me){let qt="";qt+=`score: ${_e.score[0]}
`,qt+=`prefix: ${(ze=_e.word)!==null&&ze!==void 0?ze:"(no prefix)"}
`,qt+=`word: ${_e.completion.filterText?_e.completion.filterText+" (filterText)":_e.textLabel}
`,qt+=`distance: ${_e.distance} (localityBonus-setting)
`,qt+=`index: ${_e.idx}, based on ${_e.completion.sortText&&`sortText: "${_e.completion.sortText}"`||"label"}
`,qt+=`commit_chars: ${(vt=_e.completion.commitCharacters)===null||vt===void 0?void 0:vt.join("")}
`,oi=new ho.W5().appendCodeblock("empty",qt),yt=`Provider: ${_e.provider._debugDisplayName}`}if(!Me&&!Xs(_e)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),yt){const qt=yt.length>1e5?`${yt.substr(0,1e5)}\u2026`:yt;this._type.textContent=qt,this._type.title=qt,st.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(qt))}else st.PO(this._type),this._type.title="",st.Cp(this._type),this.domNode.classList.add("no-type");if(st.PO(this._docs),typeof oi=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=oi;else if(oi){this._docs.classList.add("markdown-docs"),st.PO(this._docs);const qt=this._markdownRenderer.render(oi);this._docs.appendChild(qt.element),this._renderDisposeable.add(qt),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=qt=>{qt.preventDefault(),qt.stopPropagation()},this._close.onclick=qt=>{qt.preventDefault(),qt.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(_e,Me){const ze=new st.Ro(_e,Me);st.Ro.equals(ze,this._size)||(this._size=ze,st.dp(this.domNode,_e,Me)),this._scrollbar.scanDomNode()}scrollDown(_e=8){this._body.scrollTop+=_e}scrollUp(_e=8){this._body.scrollTop-=_e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(_e){this._borderWidth=_e}get borderWidth(){return this._borderWidth}};ro=Es([Fs(1,V.TG)],ro);class Ys{constructor(_e,Me){this.widget=_e,this._editor=Me,this._disposables=new B.SL,this._added=!1,this._resizable=new Co,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(_e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let ze,vt,yt=0,oi=0;this._disposables.add(this._resizable.onDidWillResize(()=>{ze=this._topLeft,vt=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(qt=>{if(ze&&vt){this.widget.layout(qt.dimension.width,qt.dimension.height);let fn=!1;qt.west&&(oi=vt.width-qt.dimension.width,fn=!0),qt.north&&(yt=vt.height-qt.dimension.height,fn=!0),fn&&this._applyTopLeft({top:ze.top+yt,left:ze.left+oi})}qt.done&&(ze=void 0,vt=void 0,yt=0,oi=0,this._userSize=qt.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var qt;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(qt=this._userSize)!==null&&qt!==void 0?qt:this.widget.size)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(_e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),_e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(_e){var Me;const ze=st.i(_e);this._anchorBox=ze,this._placeAtAnchor(this._anchorBox,(Me=this._userSize)!==null&&Me!==void 0?Me:this.widget.size)}_placeAtAnchor(_e,Me){var ze;const vt=st.D6(document.body),yt=this.widget.getLayoutInfo(),oi=new st.Ro(220,2*yt.lineHeight),qt=_e.top,fn=function(){const us=vt.width-(_e.left+_e.width+yt.borderWidth+yt.horizontalPadding),Ls=-yt.borderWidth+_e.left+_e.width,Be=new st.Ro(us,vt.height-_e.top-yt.borderHeight-yt.verticalPadding),d=Be.with(void 0,_e.top+_e.height-yt.borderHeight-yt.verticalPadding);return{top:qt,left:Ls,fit:us-Me.width,maxSizeTop:Be,maxSizeBottom:d,minSize:oi.with(Math.min(us,oi.width))}}(),Tn=function(){const us=_e.left-yt.borderWidth-yt.horizontalPadding,Ls=Math.max(yt.horizontalPadding,_e.left-Me.width-yt.borderWidth),Be=new st.Ro(us,vt.height-_e.top-yt.borderHeight-yt.verticalPadding),d=Be.with(void 0,_e.top+_e.height-yt.borderHeight-yt.verticalPadding);return{top:qt,left:Ls,fit:us-Me.width,maxSizeTop:Be,maxSizeBottom:d,minSize:oi.with(Math.min(us,oi.width))}}(),Bi=function(){const us=_e.left,Ls=-yt.borderWidth+_e.top+_e.height,Be=new st.Ro(_e.width-yt.borderHeight,vt.height-_e.top-_e.height-yt.verticalPadding);return{top:Ls,left:us,fit:Be.height-Me.height,maxSizeBottom:Be,maxSizeTop:Be,minSize:oi.with(Be.width)}}(),dn=[fn,Tn,Bi],yn=(ze=dn.find(us=>us.fit>=0))!==null&&ze!==void 0?ze:dn.sort((us,Ls)=>Ls.fit-us.fit)[0],tn=_e.top+_e.height-yt.borderHeight;let Zt,vi=Me.height;const Xi=Math.max(yn.maxSizeTop.height,yn.maxSizeBottom.height);vi>Xi&&(vi=Xi);let ts;vi<=yn.maxSizeTop.height?(Zt=!0,ts=yn.maxSizeTop):(Zt=!1,ts=yn.maxSizeBottom),this._applyTopLeft({left:yn.left,top:Zt?yn.top:tn-vi}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!Zt,yn===fn,Zt,yn!==fn),this._resizable.minSize=yn.minSize,this._resizable.maxSize=ts,this._resizable.layout(vi,Math.min(ts.width,Me.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(_e){this._topLeft=_e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var $s=c(26974),mo=c(70666),Jn=c(66663),po=c(95935),os=c(71144),jn;(function(jt){jt[jt.FILE=0]="FILE",jt[jt.FOLDER=1]="FOLDER",jt[jt.ROOT_FOLDER=2]="ROOT_FOLDER"})(jn||(jn={}));function ao(jt,_e,Me,ze){const vt=ze===jn.ROOT_FOLDER?["rootfolder-icon"]:ze===jn.FOLDER?["folder-icon"]:["file-icon"];if(Me){let yt;if(Me.scheme===Jn.lg.data?yt=po.Vb.parseMetaData(Me).get(po.Vb.META_DATA_LABEL):yt=eo((0,po.Hx)(Me).toLowerCase()),ze===jn.FOLDER)vt.push(`${yt}-name-folder-icon`);else{if(yt){if(vt.push(`${yt}-name-file-icon`),yt.length<=255){const qt=yt.split(".");for(let fn=1;fn<qt.length;fn++)vt.push(`${qt.slice(fn).join(".")}-ext-file-icon`)}vt.push("ext-file-icon")}const oi=es(jt,_e,Me);oi&&vt.push(`${eo(oi)}-lang-file-icon`)}}return vt}function es(jt,_e,Me){if(!Me)return null;let ze=null;if(Me.scheme===Jn.lg.data){const yt=po.Vb.parseMetaData(Me).get(po.Vb.META_DATA_MIME);yt&&(ze=_e.getModeId(yt))}else{const vt=jt.getModel(Me);vt&&(ze=vt.getLanguageId())}return ze&&ze!==os.XT?ze:_e.getModeIdByFilepathOrFirstLine(Me)}function eo(jt){return jt.replace(/[\11\12\14\15\40]/g,"/")}var xs=c(51200),io=c(71531),mi=c(59554),ge=function(jt,_e,Me,ze){var vt=arguments.length,yt=vt<3?_e:ze===null?ze=Object.getOwnPropertyDescriptor(_e,Me):ze,oi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(jt,_e,Me,ze);else for(var qt=jt.length-1;qt>=0;qt--)(oi=jt[qt])&&(yt=(vt<3?oi(yt):vt>3?oi(_e,Me,yt):oi(_e,Me))||yt);return vt>3&&yt&&Object.defineProperty(_e,Me,yt),yt},ct=function(jt,_e){return function(Me,ze){_e(Me,ze,jt)}},gt;function Wt(jt){return`suggest-aria-id:${jt}`}const ti=(0,mi.q5)("suggest-more-info",an.lA.chevronRight,F.N("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),Si=new(gt=class Rl{extract(_e,Me){if(_e.textLabel.match(Rl._regexStrict))return Me[0]=_e.textLabel,!0;if(_e.completion.detail&&_e.completion.detail.match(Rl._regexStrict))return Me[0]=_e.completion.detail,!0;if(typeof _e.completion.documentation=="string"){const ze=Rl._regexRelaxed.exec(_e.completion.documentation);if(ze&&(ze.index===0||ze.index+ze[0].length===_e.completion.documentation.length))return Me[0]=ze[0],!0}return!1}},gt._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,gt._regexStrict=new RegExp(`^${gt._regexRelaxed.source}$`,"i"),gt);let hi=class{constructor(_e,Me,ze,vt){this._editor=_e,this._modelService=Me,this._modeService=ze,this._themeService=vt,this._onDidToggleDetails=new X.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(_e){const Me=Object.create(null);Me.disposables=new B.SL,Me.root=_e,Me.root.classList.add("show-file-icons"),Me.icon=(0,st.R3)(_e,(0,st.$)(".icon")),Me.colorspan=(0,st.R3)(Me.icon,(0,st.$)("span.colorspan"));const ze=(0,st.R3)(_e,(0,st.$)(".contents")),vt=(0,st.R3)(ze,(0,st.$)(".main"));Me.iconContainer=(0,st.R3)(vt,(0,st.$)(".icon-label.codicon")),Me.left=(0,st.R3)(vt,(0,st.$)("span.left")),Me.right=(0,st.R3)(vt,(0,st.$)("span.right")),Me.iconLabel=new $s.g(Me.left,{supportHighlights:!0,supportIcons:!0}),Me.disposables.add(Me.iconLabel),Me.parametersLabel=(0,st.R3)(Me.left,(0,st.$)("span.signature-label")),Me.qualifierLabel=(0,st.R3)(Me.left,(0,st.$)("span.qualifier-label")),Me.detailsLabel=(0,st.R3)(Me.right,(0,st.$)("span.details-label")),Me.readMore=(0,st.R3)(Me.right,(0,st.$)("span.readMore"+Tt.kS.asCSSSelector(ti))),Me.readMore.title=F.N("readMore","Read More");const yt=()=>{const oi=this._editor.getOptions(),qt=oi.get(43),fn=qt.getMassagedFontFamily(js.G6?qs.hL.fontFamily:null),Tn=qt.fontFeatureSettings,Bi=oi.get(106)||qt.fontSize,dn=oi.get(107)||qt.lineHeight,yn=qt.fontWeight,tn=`${Bi}px`,Zt=`${dn}px`;Me.root.style.fontSize=tn,Me.root.style.fontWeight=yn,vt.style.fontFamily=fn,vt.style.fontFeatureSettings=Tn,vt.style.lineHeight=Zt,Me.icon.style.height=Zt,Me.icon.style.width=Zt,Me.readMore.style.height=Zt,Me.readMore.style.width=Zt};return yt(),Me.disposables.add(this._editor.onDidChangeConfiguration(oi=>{(oi.hasChanged(43)||oi.hasChanged(106)||oi.hasChanged(107))&&yt()})),Me}renderElement(_e,Me,ze){const{completion:vt}=_e;ze.root.id=Wt(Me),ze.colorspan.style.backgroundColor="";const yt={labelEscapeNewLines:!0,matches:(0,Pe.mB)(_e.score)};let oi=[];if(vt.kind===19&&Si.extract(_e,oi))ze.icon.className="icon customcolor",ze.iconContainer.className="icon hide",ze.colorspan.style.backgroundColor=oi[0];else if(vt.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){ze.icon.className="icon hide",ze.iconContainer.className="icon hide";const qt=ao(this._modelService,this._modeService,mo.o.from({scheme:"fake",path:_e.textLabel}),jn.FILE),fn=ao(this._modelService,this._modeService,mo.o.from({scheme:"fake",path:vt.detail}),jn.FILE);yt.extraClasses=qt.length>fn.length?qt:fn}else vt.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(ze.icon.className="icon hide",ze.iconContainer.className="icon hide",yt.extraClasses=(0,O.xH)([ao(this._modelService,this._modeService,mo.o.from({scheme:"fake",path:_e.textLabel}),jn.FOLDER),ao(this._modelService,this._modeService,mo.o.from({scheme:"fake",path:vt.detail}),jn.FOLDER)])):(ze.icon.className="icon hide",ze.iconContainer.className="",ze.iconContainer.classList.add("suggest-icon",...(0,h.Sy)(vt.kind).split(" ")));vt.tags&&vt.tags.indexOf(1)>=0&&(yt.extraClasses=(yt.extraClasses||[]).concat(["deprecated"]),yt.matches=[]),ze.iconLabel.setLabel(_e.textLabel,void 0,yt),typeof vt.label=="string"?(ze.parametersLabel.textContent="",ze.detailsLabel.textContent=Yt(vt.detail||""),ze.root.classList.add("string-label")):(ze.parametersLabel.textContent=Yt(vt.label.detail||""),ze.detailsLabel.textContent=Yt(vt.label.description||""),ze.root.classList.remove("string-label")),this._editor.getOption(105).showInlineDetails?(0,st.$Z)(ze.detailsLabel):(0,st.Cp)(ze.detailsLabel),Xs(_e)?(ze.right.classList.add("can-expand-details"),(0,st.$Z)(ze.readMore),ze.readMore.onmousedown=qt=>{qt.stopPropagation(),qt.preventDefault()},ze.readMore.onclick=qt=>{qt.stopPropagation(),qt.preventDefault(),this._onDidToggleDetails.fire()}):(ze.right.classList.remove("can-expand-details"),(0,st.Cp)(ze.readMore),ze.readMore.onmousedown=null,ze.readMore.onclick=null)}disposeTemplate(_e){_e.disposables.dispose()}};hi=ge([ct(1,xs.q),ct(2,io.h),ct(3,Tt.XE)],hi);function Yt(jt){return jt.replace(/\r\n|\r|\n/g,"")}var Vi=function(jt,_e,Me,ze){var vt=arguments.length,yt=vt<3?_e:ze===null?ze=Object.getOwnPropertyDescriptor(_e,Me):ze,oi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(jt,_e,Me,ze);else for(var qt=jt.length-1;qt>=0;qt--)(oi=jt[qt])&&(yt=(vt<3?oi(yt):vt>3?oi(_e,Me,yt):oi(_e,Me))||yt);return vt>3&&yt&&Object.defineProperty(_e,Me,yt),yt},Li=function(jt,_e){return function(Me,ze){_e(Me,ze,jt)}},Pn=function(jt,_e,Me,ze){function vt(yt){return yt instanceof Me?yt:new Me(function(oi){oi(yt)})}return new(Me||(Me=Promise))(function(yt,oi){function qt(Bi){try{Tn(ze.next(Bi))}catch(dn){oi(dn)}}function fn(Bi){try{Tn(ze.throw(Bi))}catch(dn){oi(dn)}}function Tn(Bi){Bi.done?yt(Bi.value):vt(Bi.value).then(qt,fn)}Tn((ze=ze.apply(jt,_e||[])).next())})};const Nt=(0,$e.P6)("editorSuggestWidget.background",{dark:$e.D0,light:$e.D0,hc:$e.D0},F.N("editorSuggestWidgetBackground","Background color of the suggest widget.")),W=(0,$e.P6)("editorSuggestWidget.border",{dark:$e.D1,light:$e.D1,hc:$e.D1},F.N("editorSuggestWidgetBorder","Border color of the suggest widget.")),re=(0,$e.P6)("editorSuggestWidget.foreground",{dark:$e.NO,light:$e.NO,hc:$e.NO},F.N("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),Te=(0,$e.P6)("editorSuggestWidget.selectedForeground",{dark:$e.NP,light:$e.NP,hc:$e.NP},F.N("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),Ye=(0,$e.P6)("editorSuggestWidget.selectedIconForeground",{dark:$e.cb,light:$e.cb,hc:$e.cb},F.N("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),bt=(0,$e.P6)("editorSuggestWidget.selectedBackground",{dark:$e.Vq,light:$e.Vq,hc:$e.Vq},F.N("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),$t=(0,$e.P6)("editorSuggestWidget.highlightForeground",{dark:$e.Gw,light:$e.Gw,hc:$e.Gw},F.N("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),si=(0,$e.P6)("editorSuggestWidget.focusHighlightForeground",{dark:$e.PX,light:$e.PX,hc:$e.PX},F.N("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));class gi{constructor(_e,Me){this._service=_e,this._key=`suggestWidget.size/${Me.getEditorType()}/${Me instanceof kn.H}`}restore(){var _e;const Me=(_e=this._service.get(this._key,0))!==null&&_e!==void 0?_e:"";try{const ze=JSON.parse(Me);if(st.Ro.is(ze))return st.Ro.lift(ze)}catch(ze){}}store(_e){this._service.store(this._key,JSON.stringify(_e),0,1)}reset(){this._service.remove(this._key,0)}}let Oi=class Nd{constructor(_e,Me,ze,vt,yt){this.editor=_e,this._storageService=Me,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new Q._F,this._disposables=new B.SL,this._onDidSelect=new X.Q5,this._onDidFocus=new X.Q5,this._onDidHide=new X.Q5,this._onDidShow=new X.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new X.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Co,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new xi(this,_e),this._persistedSize=new gi(Me,_e);class oi{constructor(tn,Zt,vi=!1,Xi=!1){this.persistedSize=tn,this.currentSize=Zt,this.persistHeight=vi,this.persistWidth=Xi}}let qt;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),qt=new oi(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(yn=>{var tn,Zt,vi,Xi;if(this._resize(yn.dimension.width,yn.dimension.height),qt&&(qt.persistHeight=qt.persistHeight||!!yn.north||!!yn.south,qt.persistWidth=qt.persistWidth||!!yn.east||!!yn.west),!!yn.done){if(qt){const{itemHeight:ts,defaultSize:us}=this.getLayoutInfo(),Ls=Math.round(ts/2);let{width:Be,height:d}=this.element.size;(!qt.persistHeight||Math.abs(qt.currentSize.height-d)<=Ls)&&(d=(Zt=(tn=qt.persistedSize)===null||tn===void 0?void 0:tn.height)!==null&&Zt!==void 0?Zt:us.height),(!qt.persistWidth||Math.abs(qt.currentSize.width-Be)<=Ls)&&(Be=(Xi=(vi=qt.persistedSize)===null||vi===void 0?void 0:vi.width)!==null&&Xi!==void 0?Xi:us.width),this._persistedSize.store(new st.Ro(Be,d))}this._contentWidget.unlockPreference(),qt=void 0}})),this._messageElement=st.R3(this.element.domNode,st.$(".message")),this._listElement=st.R3(this.element.domNode,st.$(".tree"));const fn=yt.createInstance(ro,this.editor);fn.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Ys(fn,this.editor);const Tn=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(105).showIcons);Tn();const Bi=yt.createInstance(hi,this.editor);this._disposables.add(Bi),this._disposables.add(Bi.onDidToggleDetails(()=>this.toggleDetails())),this._list=new ci.aV("SuggestWidget",this._listElement,{getHeight:yn=>this.getLayoutInfo().itemHeight,getTemplateId:yn=>"suggestion"},[Bi],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:yn=>{if(yn.isResolved&&this._isDetailsVisible()){const{documentation:tn,detail:Zt}=yn.completion,vi=tt.WU("{0}{1}",Zt||"",tn?typeof tn=="string"?tn:tn.value:"");return F.N("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",yn.textLabel,vi)}else return yn.textLabel},getWidgetAriaLabel:()=>F.N("suggest","Suggest"),getWidgetRole:()=>"listbox"}}),this._status=yt.createInstance(Mn,this.element.domNode);const dn=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(105).showStatusBar);dn(),this._disposables.add((0,Xn.Jl)(this._list,vt,{listInactiveFocusBackground:bt,listInactiveFocusOutline:$e.xL})),this._disposables.add(vt.onDidColorThemeChange(yn=>this._onThemeChange(yn))),this._onThemeChange(vt.getColorTheme()),this._disposables.add(this._list.onMouseDown(yn=>this._onListMouseDownOrTap(yn))),this._disposables.add(this._list.onTap(yn=>this._onListMouseDownOrTap(yn))),this._disposables.add(this._list.onDidChangeSelection(yn=>this._onListSelection(yn))),this._disposables.add(this._list.onDidChangeFocus(yn=>this._onListFocus(yn))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(yn=>{yn.hasChanged(105)&&(dn(),Tn())})),this._ctxSuggestWidgetVisible=Re._y.Visible.bindTo(ze),this._ctxSuggestWidgetDetailsVisible=Re._y.DetailsVisible.bindTo(ze),this._ctxSuggestWidgetMultipleSuggestions=Re._y.MultipleSuggestions.bindTo(ze),this._disposables.add(st.mu(this._details.widget.domNode,"keydown",yn=>{this._onDetailsKeydown.fire(yn)})),this._disposables.add(this.editor.onMouseDown(yn=>this._onEditorMouseDown(yn)))}dispose(){var _e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(_e=this._loadingTimeout)===null||_e===void 0||_e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(_e){this._details.widget.domNode.contains(_e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(_e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(_e){typeof _e.element=="undefined"||typeof _e.index=="undefined"||(_e.browserEvent.preventDefault(),_e.browserEvent.stopPropagation(),this._select(_e.element,_e.index))}_onListSelection(_e){_e.elements.length&&this._select(_e.elements[0],_e.indexes[0])}_select(_e,Me){const ze=this._completionModel;ze&&(this._onDidSelect.fire({item:_e,index:Me,model:ze}),this.editor.focus())}_onThemeChange(_e){const Me=_e.getColor(Nt);Me&&(this.element.domNode.style.backgroundColor=Me.toString(),this._messageElement.style.backgroundColor=Me.toString(),this._details.widget.domNode.style.backgroundColor=Me.toString());const ze=_e.getColor(W);ze&&(this.element.domNode.style.borderColor=ze.toString(),this._messageElement.style.borderColor=ze.toString(),this._status.element.style.borderTopColor=ze.toString(),this._details.widget.domNode.style.borderColor=ze.toString(),this._detailsBorderColor=ze.toString());const vt=_e.getColor($e.R8);vt&&(this._detailsFocusBorderColor=vt.toString()),this._details.widget.borderWidth=_e.type==="hc"?2:1}_onListFocus(_e){var Me;if(this._ignoreFocusEvents)return;if(!_e.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const ze=_e.elements[0],vt=_e.indexes[0];ze!==this._focusedItem&&((Me=this._currentSuggestionDetails)===null||Me===void 0||Me.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=ze,this._list.reveal(vt),this._currentSuggestionDetails=(0,Q.PG)(yt=>Pn(this,void 0,void 0,function*(){const oi=(0,Q.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);yt.onCancellationRequested(()=>oi.dispose());const qt=yield ze.resolve(yt);return oi.dispose(),qt})),this._currentSuggestionDetails.then(()=>{vt>=this._list.length||ze!==this._list.element(vt)||(this._ignoreFocusEvents=!0,this._list.splice(vt,1,[ze]),this._list.setFocus([vt]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Wt(vt)}))}).catch(y.dL)),this._onDidFocus.fire({item:ze,index:vt,model:this._completionModel})}_setState(_e){if(this._state!==_e)switch(this._state=_e,this.element.domNode.classList.toggle("frozen",_e===4),this.element.domNode.classList.remove("message"),_e){case 0:st.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Nd.LOADING_MESSAGE,st.Cp(this._listElement,this._status.element),st.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Nd.NO_SUGGESTIONS_MESSAGE,st.Cp(this._listElement,this._status.element),st.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:st.Cp(this._messageElement),st.$Z(this._listElement,this._status.element),this._show();break;case 4:st.Cp(this._messageElement),st.$Z(this._listElement,this._status.element),this._show();break;case 5:st.Cp(this._messageElement),st.$Z(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(_e,Me){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!_e,this._isAuto||(this._loadingTimeout=(0,Q.Vg)(()=>this._setState(1),Me)))}showSuggestions(_e,Me,ze,vt){var yt,oi;if(this._contentWidget.setPosition(this.editor.getPosition()),(yt=this._loadingTimeout)===null||yt===void 0||yt.dispose(),(oi=this._currentSuggestionDetails)===null||oi===void 0||oi.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==_e&&(this._completionModel=_e),ze&&this._state!==2&&this._state!==0){this._setState(4);return}const qt=this._completionModel.items.length,fn=qt===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(qt>1),fn){this._setState(vt?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(ze?4:3),this._list.reveal(Me,0),this._list.setFocus([Me]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(Xs(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(_e){this._details.show(),_e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var _e;(_e=this._loadingTimeout)===null||_e===void 0||_e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const Me=this._persistedSize.restore(),ze=Math.ceil(this.getLayoutInfo().itemHeight*4.3);Me&&Me.height<ze&&this._persistedSize.store(Me.with(void 0,ze))}isFrozen(){return this._state===4}_afterRender(_e){if(_e===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(_e){var Me,ze,vt;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const yt=st.D6(document.body),oi=this.getLayoutInfo();_e||(_e=oi.defaultSize);let qt=_e.height,fn=_e.width;if(this._status.element.style.lineHeight=`${oi.itemHeight}px`,this._state===2||this._state===1)qt=oi.itemHeight+oi.borderHeight,fn=oi.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new st.Ro(fn,qt),this._contentWidget.setPreference(2);else{const Tn=yt.width-oi.borderHeight-2*oi.horizontalPadding;fn>Tn&&(fn=Tn);const Bi=this._completionModel?this._completionModel.stats.pLabelLen*oi.typicalHalfwidthCharacterWidth:fn,dn=oi.statusBarHeight+this._list.contentHeight+oi.borderHeight,yn=oi.itemHeight+oi.statusBarHeight,tn=st.i(this.editor.getDomNode()),Zt=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),vi=tn.top+Zt.top+Zt.height,Xi=Math.min(yt.height-vi-oi.verticalPadding,dn),ts=tn.top+Zt.top-oi.verticalPadding,us=Math.min(ts,dn);let Ls=Math.min(Math.max(us,Xi)+oi.borderHeight,dn);qt===((Me=this._cappedHeight)===null||Me===void 0?void 0:Me.capped)&&(qt=this._cappedHeight.wanted),qt<yn&&(qt=yn),qt>Ls&&(qt=Ls),qt>Xi||this._forceRenderingAbove&&ts>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),Ls=us):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),Ls=Xi),this.element.preferredSize=new st.Ro(Bi,oi.defaultSize.height),this.element.maxSize=new st.Ro(Tn,Ls),this.element.minSize=new st.Ro(220,yn),this._cappedHeight=qt===dn?{wanted:(vt=(ze=this._cappedHeight)===null||ze===void 0?void 0:ze.wanted)!==null&&vt!==void 0?vt:_e.height,capped:qt}:void 0}this._resize(fn,qt)}_resize(_e,Me){const{width:ze,height:vt}=this.element.maxSize;_e=Math.min(ze,_e),Me=Math.min(vt,Me);const{statusBarHeight:yt}=this.getLayoutInfo();this._list.layout(Me-yt,_e),this._listElement.style.height=`${Me-yt}px`,this.element.layout(Me,_e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const _e=this.editor.getOption(43),Me=(0,zi.u)(this.editor.getOption(107)||_e.lineHeight,8,1e3),ze=!this.editor.getOption(105).showStatusBar||this._state===2||this._state===1?0:Me,vt=this._details.widget.borderWidth,yt=2*vt;return{itemHeight:Me,statusBarHeight:ze,borderWidth:vt,borderHeight:yt,typicalHalfwidthCharacterWidth:_e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new st.Ro(430,ze+12*Me+yt)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(_e){this._storageService.store("expandSuggestionDocs",_e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};Oi.LOADING_MESSAGE=F.N("suggestWidget.loading","Loading..."),Oi.NO_SUGGESTIONS_MESSAGE=F.N("suggestWidget.noSuggestions","No suggestions."),Oi=Vi([Li(1,$.Uy),Li(2,G.i6),Li(3,Tt.XE),Li(4,V.TG)],Oi);class xi{constructor(_e,Me){this._widget=_e,this._editor=Me,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:_e,width:Me}=this._widget.element.size,{borderWidth:ze,horizontalPadding:vt}=this._widget.getLayoutInfo();return new st.Ro(Me+2*ze+vt,_e+2*ze)}afterRender(_e){this._widget._afterRender(_e)}setPreference(_e){this._preferenceLocked||(this._preference=_e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(_e){this._position=_e}}(0,Tt.Ic)((jt,_e)=>{const Me=jt.getColor($t);Me&&_e.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${Me}; }`);const ze=jt.getColor(si);Me&&_e.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight { color: ${ze}; }`);const vt=jt.getColor(re);vt&&_e.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${vt}; }`);const yt=jt.getColor(Te);yt&&_e.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused { color: ${yt}; }`);const oi=jt.getColor(Ye);oi&&_e.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon { color: ${oi}; }`);const qt=jt.getColor($e.ur);qt&&_e.addRule(`.monaco-editor .suggest-details a { color: ${qt}; }`);const fn=jt.getColor($e.sg);fn&&_e.addRule(`.monaco-editor .suggest-details a:hover { color: ${fn}; }`);const Tn=jt.getColor($e.Sw);Tn&&_e.addRule(`.monaco-editor .suggest-details code { background-color: ${Tn}; }`)});var Hi=function(jt,_e,Me,ze){var vt=arguments.length,yt=vt<3?_e:ze===null?ze=Object.getOwnPropertyDescriptor(_e,Me):ze,oi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(jt,_e,Me,ze);else for(var qt=jt.length-1;qt>=0;qt--)(oi=jt[qt])&&(yt=(vt<3?oi(yt):vt>3?oi(_e,Me,yt):oi(_e,Me))||yt);return vt>3&&yt&&Object.defineProperty(_e,Me,yt),yt},cn=function(jt,_e){return function(Me,ze){_e(Me,ze,jt)}};let Ii=!1;class ln{constructor(_e,Me){if(this._model=_e,this._position=Me,_e.getLineMaxColumn(Me.lineNumber)!==Me.column){const vt=_e.getOffsetAt(Me),yt=_e.getPositionAt(vt+1);this._marker=_e.deltaDecorations([],[{range:w.e.fromPositions(Me,yt),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(_e){if(this._model.isDisposed()||this._position.lineNumber!==_e.lineNumber)return 0;if(this._marker){const Me=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(Me.getStartPosition())-this._model.getOffsetAt(_e)}else return this._model.getLineMaxColumn(_e.lineNumber)-_e.column}}let nn=class Ru{constructor(_e,Me,ze,vt,yt,oi){this._memoryService=Me,this._commandService=ze,this._contextKeyService=vt,this._instantiationService=yt,this._logService=oi,this._lineSuffix=new B.XK,this._toDispose=new B.SL,this._selectors=new wn(Bi=>Bi.priority),this.editor=_e,this.model=yt.createInstance(ui,this.editor);const qt=Re._y.InsertMode.bindTo(vt);qt.set(_e.getOption(105).insertMode),this.model.onDidTrigger(()=>qt.set(_e.getOption(105).insertMode)),this.widget=this._toDispose.add(new Q.Ue(()=>{const Bi=this._instantiationService.createInstance(Oi,this.editor);this._toDispose.add(Bi),this._toDispose.add(Bi.onDidSelect(vi=>this._insertSuggestion(vi,0),this));const dn=new Je(this.editor,Bi,vi=>this._insertSuggestion(vi,2));this._toDispose.add(dn),this._toDispose.add(this.model.onDidSuggest(vi=>{vi.completionModel.items.length===0&&dn.reset()}));const yn=Re._y.MakesTextEdit.bindTo(this._contextKeyService),tn=Re._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),Zt=Re._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,B.OF)(()=>{yn.reset(),tn.reset(),Zt.reset()})),this._toDispose.add(Bi.onDidFocus(({item:vi})=>{const Xi=this.editor.getPosition(),ts=vi.editStart.column,us=Xi.column;let Ls=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!vi.completion.additionalTextEdits&&!(vi.completion.insertTextRules&4)&&us-ts===vi.completion.insertText.length&&(Ls=this.editor.getModel().getValueInRange({startLineNumber:Xi.lineNumber,startColumn:ts,endLineNumber:Xi.lineNumber,endColumn:us})!==vi.completion.insertText),yn.set(Ls),tn.set(!T.L.equals(vi.editInsertEnd,vi.editReplaceEnd)),Zt.set(!!vi.provider.resolveCompletionItem||!!vi.completion.documentation||vi.completion.detail!==vi.completion.label)})),this._toDispose.add(Bi.onDetailsKeyDown(vi=>{if(vi.toKeybinding().equals(new R.QC(!0,!1,!1,!1,33))||s.dz&&vi.toKeybinding().equals(new R.QC(!1,!1,!1,!0,33))){vi.stopPropagation();return}vi.toKeybinding().isModifierKey()||this.editor.focus()})),Bi})),this._overtypingCapturer=this._toDispose.add(new Q.Ue(()=>this._toDispose.add(new Ke(this.editor,this.model)))),this._alternatives=this._toDispose.add(new Q.Ue(()=>this._toDispose.add(new ht(this.editor,this._contextKeyService)))),this._toDispose.add(yt.createInstance(b,_e)),this._toDispose.add(this.model.onDidTrigger(Bi=>{this.widget.value.showTriggered(Bi.auto,Bi.shy?250:50),this._lineSuffix.value=new ln(this.editor.getModel(),Bi.position)})),this._toDispose.add(this.model.onDidSuggest(Bi=>{if(!Bi.shy){let dn=-1;for(const yn of this._selectors.itemsOrderedByPriorityDesc)if(dn=yn.select(this.editor.getModel(),this.editor.getPosition(),Bi.completionModel.items),dn!==-1)break;dn===-1&&(dn=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Bi.completionModel.items)),this.widget.value.showSuggestions(Bi.completionModel,dn,Bi.isFrozen,Bi.auto)}})),this._toDispose.add(this.model.onDidCancel(Bi=>{Bi.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{Ii||(this.model.cancel(),this.model.clear())}));let fn=Re._y.AcceptSuggestionsOnEnter.bindTo(vt),Tn=()=>{const Bi=this.editor.getOption(1);fn.set(Bi==="on"||Bi==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>Tn())),Tn()}static get(_e){return _e.getContribution(Ru.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(_e,Me){if(!_e||!_e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const ze=this.editor.getModel(),vt=ze.getAlternativeVersionId(),{item:yt}=_e,oi=[],qt=new P.A;Me&1||this.editor.pushUndoStop();const fn=this.getOverwriteInfo(yt,!!(Me&8));if(this._memoryService.memorize(ze,this.editor.getPosition(),yt),Array.isArray(yt.completion.additionalTextEdits)){const Bi=D.ZF.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",yt.completion.additionalTextEdits.map(dn=>r.h.replace(w.e.lift(dn.range),dn.text))),Bi.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!yt.isResolved){const Bi=new N.G(!0);let dn;const yn=ze.onDidChangeContent(Xi=>{if(Xi.isFlush){qt.cancel(),yn.dispose();return}for(let ts of Xi.changes){const us=w.e.getEndPosition(ts.range);(!dn||T.L.isBefore(us,dn))&&(dn=us)}});let tn=Me;Me|=2;let Zt=!1,vi=this.editor.onWillType(()=>{vi.dispose(),Zt=!0,tn&2||this.editor.pushUndoStop()});oi.push(yt.resolve(qt.token).then(()=>{if(!yt.completion.additionalTextEdits||qt.token.isCancellationRequested||dn&&yt.completion.additionalTextEdits.some(ts=>T.L.isBefore(dn,w.e.getStartPosition(ts.range))))return!1;Zt&&this.editor.pushUndoStop();const Xi=D.ZF.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",yt.completion.additionalTextEdits.map(ts=>r.h.replace(w.e.lift(ts.range),ts.text))),Xi.restoreRelativeVerticalPositionOfCursor(this.editor),(Zt||!(tn&2))&&this.editor.pushUndoStop(),!0}).then(Xi=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",Bi.elapsed(),Xi),yn.dispose(),vi.dispose()}))}let{insertText:Tn}=yt.completion;yt.completion.insertTextRules&4||(Tn=p.Yj.escape(Tn)),f.SnippetController2.get(this.editor).insert(Tn,{overwriteBefore:fn.overwriteBefore,overwriteAfter:fn.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(yt.completion.insertTextRules&1),clipboardText:_e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),Me&2||this.editor.pushUndoStop(),yt.completion.command?yt.completion.command.id===Gn.id?this.model.trigger({auto:!0,shy:!1},!0):(oi.push(this._commandService.executeCommand(yt.completion.command.id,...yt.completion.command.arguments?[...yt.completion.command.arguments]:[]).catch(y.dL)),this.model.cancel()):this.model.cancel(),Me&4&&this._alternatives.value.set(_e,Bi=>{for(qt.cancel();ze.canUndo();){vt!==ze.getAlternativeVersionId()&&ze.undo(),this._insertSuggestion(Bi,3|(Me&8?8:0));break}}),this._alertCompletionItem(yt),Promise.all(oi).finally(()=>{this.model.clear(),qt.dispose()})}getOverwriteInfo(_e,Me){(0,g.p_)(this.editor.hasModel());let ze=this.editor.getOption(105).insertMode==="replace";Me&&(ze=!ze);const vt=_e.position.column-_e.editStart.column,yt=(ze?_e.editReplaceEnd.column:_e.editInsertEnd.column)-_e.position.column,oi=this.editor.getPosition().column-_e.position.column,qt=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:vt+oi,overwriteAfter:yt+qt}}_alertCompletionItem(_e){if((0,O.Of)(_e.completion.additionalTextEdits)){let Me=F.N("aria.alert.snippet","Accepting '{0}' made {1} additional edits",_e.textLabel,_e.completion.additionalTextEdits.length);(0,E.Z9)(Me)}}triggerSuggest(_e){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,_e),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(_e){if(!this.editor.hasModel())return;const Me=this.editor.getPosition(),ze=()=>{Me.equals(this.editor.getPosition())&&this._commandService.executeCommand(_e.fallback)},vt=yt=>{if(yt.completion.insertTextRules&4||yt.completion.additionalTextEdits)return!0;const oi=this.editor.getPosition(),qt=yt.editStart.column,fn=oi.column;return fn-qt!==yt.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:oi.lineNumber,startColumn:qt,endLineNumber:oi.lineNumber,endColumn:fn})!==yt.completion.insertText};X.ju.once(this.model.onDidTrigger)(yt=>{let oi=[];X.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,B.B9)(oi),ze()},void 0,oi),this.model.onDidSuggest(({completionModel:qt})=>{if((0,B.B9)(oi),qt.items.length===0){ze();return}const fn=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),qt.items),Tn=qt.items[fn];if(!vt(Tn)){ze();return}this.editor.pushUndoStop(),this._insertSuggestion({index:fn,item:Tn,model:qt},7)},void 0,oi)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(Me,0),this.editor.focus()}acceptSelectedSuggestion(_e,Me){const ze=this.widget.value.getFocusedItem();let vt=0;_e&&(vt|=4),Me&&(vt|=8),this._insertSuggestion(ze,vt)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(_e){return this._selectors.register(_e)}};nn.ID="editor.contrib.suggestController",nn=Hi([cn(1,j),cn(2,me.H),cn(3,G.i6),cn(4,V.TG),cn(5,Oe.VZ)],nn);class wn{constructor(_e){this.prioritySelector=_e,this._items=new Array}register(_e){if(this._items.indexOf(_e)!==-1)throw new Error("Value is already registered");return this._items.push(_e),this._items.sort((Me,ze)=>this.prioritySelector(ze)-this.prioritySelector(Me)),{dispose:()=>{const Me=this._items.indexOf(_e);Me>=0&&this._items.splice(Me,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class Gn extends H.R6{constructor(){super({id:Gn.id,label:F.N("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:G.Ao.and(x.u.writable,x.u.hasCompletionItemProvider),kbOpts:{kbExpr:x.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(_e,Me){const ze=nn.get(Me);ze&&ze.triggerSuggest()}}Gn.id="editor.action.triggerSuggest",(0,H._K)(nn.ID,nn),(0,H.Qr)(Gn);const Ts=190,Ln=H._l.bindToContribution(nn.get);(0,H.fK)(new Ln({id:"acceptSelectedSuggestion",precondition:Re._y.Visible,handler(jt){jt.acceptSelectedSuggestion(!0,!1)}})),ue.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:G.Ao.and(Re._y.Visible,x.u.textInputFocus),primary:2,weight:Ts}),ue.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:G.Ao.and(Re._y.Visible,x.u.textInputFocus,Re._y.AcceptSuggestionsOnEnter,Re._y.MakesTextEdit),primary:3,weight:Ts}),te.BH.appendMenuItem(Re.GI,{command:{id:"acceptSelectedSuggestion",title:F.N("accept.insert","Insert")},group:"left",order:1,when:Re._y.HasInsertAndReplaceRange.toNegated()}),te.BH.appendMenuItem(Re.GI,{command:{id:"acceptSelectedSuggestion",title:F.N("accept.insert","Insert")},group:"left",order:1,when:G.Ao.and(Re._y.HasInsertAndReplaceRange,Re._y.InsertMode.isEqualTo("insert"))}),te.BH.appendMenuItem(Re.GI,{command:{id:"acceptSelectedSuggestion",title:F.N("accept.replace","Replace")},group:"left",order:1,when:G.Ao.and(Re._y.HasInsertAndReplaceRange,Re._y.InsertMode.isEqualTo("replace"))}),(0,H.fK)(new Ln({id:"acceptAlternativeSelectedSuggestion",precondition:G.Ao.and(Re._y.Visible,x.u.textInputFocus),kbOpts:{weight:Ts,kbExpr:x.u.textInputFocus,primary:1027,secondary:[1026]},handler(jt){jt.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Re.GI,group:"left",order:2,when:G.Ao.and(Re._y.HasInsertAndReplaceRange,Re._y.InsertMode.isEqualTo("insert")),title:F.N("accept.replace","Replace")},{menuId:Re.GI,group:"left",order:2,when:G.Ao.and(Re._y.HasInsertAndReplaceRange,Re._y.InsertMode.isEqualTo("replace")),title:F.N("accept.insert","Insert")}]})),me.P.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,H.fK)(new Ln({id:"hideSuggestWidget",precondition:Re._y.Visible,handler:jt=>jt.cancelSuggestWidget(),kbOpts:{weight:Ts,kbExpr:x.u.textInputFocus,primary:9,secondary:[1033]}})),(0,H.fK)(new Ln({id:"selectNextSuggestion",precondition:G.Ao.and(Re._y.Visible,Re._y.MultipleSuggestions),handler:jt=>jt.selectNextSuggestion(),kbOpts:{weight:Ts,kbExpr:x.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,H.fK)(new Ln({id:"selectNextPageSuggestion",precondition:G.Ao.and(Re._y.Visible,Re._y.MultipleSuggestions),handler:jt=>jt.selectNextPageSuggestion(),kbOpts:{weight:Ts,kbExpr:x.u.textInputFocus,primary:12,secondary:[2060]}})),(0,H.fK)(new Ln({id:"selectLastSuggestion",precondition:G.Ao.and(Re._y.Visible,Re._y.MultipleSuggestions),handler:jt=>jt.selectLastSuggestion()})),(0,H.fK)(new Ln({id:"selectPrevSuggestion",precondition:G.Ao.and(Re._y.Visible,Re._y.MultipleSuggestions),handler:jt=>jt.selectPrevSuggestion(),kbOpts:{weight:Ts,kbExpr:x.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,H.fK)(new Ln({id:"selectPrevPageSuggestion",precondition:G.Ao.and(Re._y.Visible,Re._y.MultipleSuggestions),handler:jt=>jt.selectPrevPageSuggestion(),kbOpts:{weight:Ts,kbExpr:x.u.textInputFocus,primary:11,secondary:[2059]}})),(0,H.fK)(new Ln({id:"selectFirstSuggestion",precondition:G.Ao.and(Re._y.Visible,Re._y.MultipleSuggestions),handler:jt=>jt.selectFirstSuggestion()})),(0,H.fK)(new Ln({id:"toggleSuggestionDetails",precondition:Re._y.Visible,handler:jt=>jt.toggleSuggestionDetails(),kbOpts:{weight:Ts,kbExpr:x.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:Re.GI,group:"right",order:1,when:G.Ao.and(Re._y.DetailsVisible,Re._y.CanResolve),title:F.N("detail.more","show less")},{menuId:Re.GI,group:"right",order:1,when:G.Ao.and(Re._y.DetailsVisible.toNegated(),Re._y.CanResolve),title:F.N("detail.less","show more")}]})),(0,H.fK)(new Ln({id:"toggleExplainMode",precondition:Re._y.Visible,handler:jt=>jt.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,H.fK)(new Ln({id:"toggleSuggestionFocus",precondition:Re._y.Visible,handler:jt=>jt.toggleSuggestionFocus(),kbOpts:{weight:Ts,kbExpr:x.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,H.fK)(new Ln({id:"insertBestCompletion",precondition:G.Ao.and(x.u.textInputFocus,G.Ao.equals("config.editor.tabCompletion","on"),b.AtEnd,Re._y.Visible.toNegated(),ht.OtherSuggestions.toNegated(),f.SnippetController2.InSnippetMode.toNegated()),handler:(jt,_e)=>{jt.triggerSuggestAndAcceptBest((0,g.Kn)(_e)?Object.assign({fallback:"tab"},_e):{fallback:"tab"})},kbOpts:{weight:Ts,primary:2}})),(0,H.fK)(new Ln({id:"insertNextSuggestion",precondition:G.Ao.and(x.u.textInputFocus,G.Ao.equals("config.editor.tabCompletion","on"),ht.OtherSuggestions,Re._y.Visible.toNegated(),f.SnippetController2.InSnippetMode.toNegated()),handler:jt=>jt.acceptNextSuggestion(),kbOpts:{weight:Ts,kbExpr:x.u.textInputFocus,primary:2}})),(0,H.fK)(new Ln({id:"insertPrevSuggestion",precondition:G.Ao.and(x.u.textInputFocus,G.Ao.equals("config.editor.tabCompletion","on"),ht.OtherSuggestions,Re._y.Visible.toNegated(),f.SnippetController2.InSnippetMode.toNegated()),handler:jt=>jt.acceptPrevSuggestion(),kbOpts:{weight:Ts,kbExpr:x.u.textInputFocus,primary:1026}})),(0,H.Qr)(class extends H.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:F.N("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(jt,_e){nn.get(_e).resetWidgetSize()}})},96480:function(Qt,He,c){"use strict";c.r(He),c.d(He,{CancellationTokenSource:function(){return Ph},Emitter:function(){return Fh},KeyCode:function(){return Bh},KeyMod:function(){return Wh},MarkerSeverity:function(){return $h},MarkerTag:function(){return Kh},Position:function(){return Vh},Range:function(){return Hh},Selection:function(){return zh},SelectionDirection:function(){return Uh},Token:function(){return Gh},Uri:function(){return jh},editor:function(){return Zh},languages:function(){return Yh}});var E=c(64141),O=c(71050),Q=c(4669),P=c(22258),y=c(70666),X=c(50187),R=c(24314),B=c(3860),s=c(85600),N;(function(u){u[u.Unknown=0]="Unknown",u[u.Disabled=1]="Disabled",u[u.Enabled=2]="Enabled"})(N||(N={}));var g;(function(u){u[u.KeepWhitespace=1]="KeepWhitespace",u[u.InsertAsSnippet=4]="InsertAsSnippet"})(g||(g={}));var D;(function(u){u[u.Method=0]="Method",u[u.Function=1]="Function",u[u.Constructor=2]="Constructor",u[u.Field=3]="Field",u[u.Variable=4]="Variable",u[u.Class=5]="Class",u[u.Struct=6]="Struct",u[u.Interface=7]="Interface",u[u.Module=8]="Module",u[u.Property=9]="Property",u[u.Event=10]="Event",u[u.Operator=11]="Operator",u[u.Unit=12]="Unit",u[u.Value=13]="Value",u[u.Constant=14]="Constant",u[u.Enum=15]="Enum",u[u.EnumMember=16]="EnumMember",u[u.Keyword=17]="Keyword",u[u.Text=18]="Text",u[u.Color=19]="Color",u[u.File=20]="File",u[u.Reference=21]="Reference",u[u.Customcolor=22]="Customcolor",u[u.Folder=23]="Folder",u[u.TypeParameter=24]="TypeParameter",u[u.User=25]="User",u[u.Issue=26]="Issue",u[u.Snippet=27]="Snippet"})(D||(D={}));var H;(function(u){u[u.Deprecated=1]="Deprecated"})(H||(H={}));var r;(function(u){u[u.Invoke=0]="Invoke",u[u.TriggerCharacter=1]="TriggerCharacter",u[u.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(r||(r={}));var T;(function(u){u[u.EXACT=0]="EXACT",u[u.ABOVE=1]="ABOVE",u[u.BELOW=2]="BELOW"})(T||(T={}));var w;(function(u){u[u.NotSet=0]="NotSet",u[u.ContentFlush=1]="ContentFlush",u[u.RecoverFromMarkers=2]="RecoverFromMarkers",u[u.Explicit=3]="Explicit",u[u.Paste=4]="Paste",u[u.Undo=5]="Undo",u[u.Redo=6]="Redo"})(w||(w={}));var x;(function(u){u[u.LF=1]="LF",u[u.CRLF=2]="CRLF"})(x||(x={}));var f;(function(u){u[u.Text=0]="Text",u[u.Read=1]="Read",u[u.Write=2]="Write"})(f||(f={}));var p;(function(u){u[u.None=0]="None",u[u.Keep=1]="Keep",u[u.Brackets=2]="Brackets",u[u.Advanced=3]="Advanced",u[u.Full=4]="Full"})(p||(p={}));var S;(function(u){u[u.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",u[u.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",u[u.accessibilitySupport=2]="accessibilitySupport",u[u.accessibilityPageSize=3]="accessibilityPageSize",u[u.ariaLabel=4]="ariaLabel",u[u.autoClosingBrackets=5]="autoClosingBrackets",u[u.autoClosingDelete=6]="autoClosingDelete",u[u.autoClosingOvertype=7]="autoClosingOvertype",u[u.autoClosingQuotes=8]="autoClosingQuotes",u[u.autoIndent=9]="autoIndent",u[u.automaticLayout=10]="automaticLayout",u[u.autoSurround=11]="autoSurround",u[u.bracketPairColorization=12]="bracketPairColorization",u[u.guides=13]="guides",u[u.codeLens=14]="codeLens",u[u.codeLensFontFamily=15]="codeLensFontFamily",u[u.codeLensFontSize=16]="codeLensFontSize",u[u.colorDecorators=17]="colorDecorators",u[u.columnSelection=18]="columnSelection",u[u.comments=19]="comments",u[u.contextmenu=20]="contextmenu",u[u.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",u[u.cursorBlinking=22]="cursorBlinking",u[u.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",u[u.cursorStyle=24]="cursorStyle",u[u.cursorSurroundingLines=25]="cursorSurroundingLines",u[u.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",u[u.cursorWidth=27]="cursorWidth",u[u.disableLayerHinting=28]="disableLayerHinting",u[u.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",u[u.domReadOnly=30]="domReadOnly",u[u.dragAndDrop=31]="dragAndDrop",u[u.emptySelectionClipboard=32]="emptySelectionClipboard",u[u.extraEditorClassName=33]="extraEditorClassName",u[u.fastScrollSensitivity=34]="fastScrollSensitivity",u[u.find=35]="find",u[u.fixedOverflowWidgets=36]="fixedOverflowWidgets",u[u.folding=37]="folding",u[u.foldingStrategy=38]="foldingStrategy",u[u.foldingHighlight=39]="foldingHighlight",u[u.foldingImportsByDefault=40]="foldingImportsByDefault",u[u.unfoldOnClickAfterEndOfLine=41]="unfoldOnClickAfterEndOfLine",u[u.fontFamily=42]="fontFamily",u[u.fontInfo=43]="fontInfo",u[u.fontLigatures=44]="fontLigatures",u[u.fontSize=45]="fontSize",u[u.fontWeight=46]="fontWeight",u[u.formatOnPaste=47]="formatOnPaste",u[u.formatOnType=48]="formatOnType",u[u.glyphMargin=49]="glyphMargin",u[u.gotoLocation=50]="gotoLocation",u[u.hideCursorInOverviewRuler=51]="hideCursorInOverviewRuler",u[u.hover=52]="hover",u[u.inDiffEditor=53]="inDiffEditor",u[u.inlineSuggest=54]="inlineSuggest",u[u.letterSpacing=55]="letterSpacing",u[u.lightbulb=56]="lightbulb",u[u.lineDecorationsWidth=57]="lineDecorationsWidth",u[u.lineHeight=58]="lineHeight",u[u.lineNumbers=59]="lineNumbers",u[u.lineNumbersMinChars=60]="lineNumbersMinChars",u[u.linkedEditing=61]="linkedEditing",u[u.links=62]="links",u[u.matchBrackets=63]="matchBrackets",u[u.minimap=64]="minimap",u[u.mouseStyle=65]="mouseStyle",u[u.mouseWheelScrollSensitivity=66]="mouseWheelScrollSensitivity",u[u.mouseWheelZoom=67]="mouseWheelZoom",u[u.multiCursorMergeOverlapping=68]="multiCursorMergeOverlapping",u[u.multiCursorModifier=69]="multiCursorModifier",u[u.multiCursorPaste=70]="multiCursorPaste",u[u.occurrencesHighlight=71]="occurrencesHighlight",u[u.overviewRulerBorder=72]="overviewRulerBorder",u[u.overviewRulerLanes=73]="overviewRulerLanes",u[u.padding=74]="padding",u[u.parameterHints=75]="parameterHints",u[u.peekWidgetDefaultFocus=76]="peekWidgetDefaultFocus",u[u.definitionLinkOpensInPeek=77]="definitionLinkOpensInPeek",u[u.quickSuggestions=78]="quickSuggestions",u[u.quickSuggestionsDelay=79]="quickSuggestionsDelay",u[u.readOnly=80]="readOnly",u[u.renameOnType=81]="renameOnType",u[u.renderControlCharacters=82]="renderControlCharacters",u[u.renderFinalNewline=83]="renderFinalNewline",u[u.renderLineHighlight=84]="renderLineHighlight",u[u.renderLineHighlightOnlyWhenFocus=85]="renderLineHighlightOnlyWhenFocus",u[u.renderValidationDecorations=86]="renderValidationDecorations",u[u.renderWhitespace=87]="renderWhitespace",u[u.revealHorizontalRightPadding=88]="revealHorizontalRightPadding",u[u.roundedSelection=89]="roundedSelection",u[u.rulers=90]="rulers",u[u.scrollbar=91]="scrollbar",u[u.scrollBeyondLastColumn=92]="scrollBeyondLastColumn",u[u.scrollBeyondLastLine=93]="scrollBeyondLastLine",u[u.scrollPredominantAxis=94]="scrollPredominantAxis",u[u.selectionClipboard=95]="selectionClipboard",u[u.selectionHighlight=96]="selectionHighlight",u[u.selectOnLineNumbers=97]="selectOnLineNumbers",u[u.showFoldingControls=98]="showFoldingControls",u[u.showUnused=99]="showUnused",u[u.snippetSuggestions=100]="snippetSuggestions",u[u.smartSelect=101]="smartSelect",u[u.smoothScrolling=102]="smoothScrolling",u[u.stickyTabStops=103]="stickyTabStops",u[u.stopRenderingLineAfter=104]="stopRenderingLineAfter",u[u.suggest=105]="suggest",u[u.suggestFontSize=106]="suggestFontSize",u[u.suggestLineHeight=107]="suggestLineHeight",u[u.suggestOnTriggerCharacters=108]="suggestOnTriggerCharacters",u[u.suggestSelection=109]="suggestSelection",u[u.tabCompletion=110]="tabCompletion",u[u.tabIndex=111]="tabIndex",u[u.unusualLineTerminators=112]="unusualLineTerminators",u[u.useShadowDOM=113]="useShadowDOM",u[u.useTabStops=114]="useTabStops",u[u.wordSeparators=115]="wordSeparators",u[u.wordWrap=116]="wordWrap",u[u.wordWrapBreakAfterCharacters=117]="wordWrapBreakAfterCharacters",u[u.wordWrapBreakBeforeCharacters=118]="wordWrapBreakBeforeCharacters",u[u.wordWrapColumn=119]="wordWrapColumn",u[u.wordWrapOverride1=120]="wordWrapOverride1",u[u.wordWrapOverride2=121]="wordWrapOverride2",u[u.wrappingIndent=122]="wrappingIndent",u[u.wrappingStrategy=123]="wrappingStrategy",u[u.showDeprecated=124]="showDeprecated",u[u.inlayHints=125]="inlayHints",u[u.editorClassName=126]="editorClassName",u[u.pixelRatio=127]="pixelRatio",u[u.tabFocusMode=128]="tabFocusMode",u[u.layoutInfo=129]="layoutInfo",u[u.wrappingInfo=130]="wrappingInfo"})(S||(S={}));var h;(function(u){u[u.TextDefined=0]="TextDefined",u[u.LF=1]="LF",u[u.CRLF=2]="CRLF"})(h||(h={}));var L;(function(u){u[u.LF=0]="LF",u[u.CRLF=1]="CRLF"})(L||(L={}));var v;(function(u){u[u.None=0]="None",u[u.Indent=1]="Indent",u[u.IndentOutdent=2]="IndentOutdent",u[u.Outdent=3]="Outdent"})(v||(v={}));var V;(function(u){u[u.Other=0]="Other",u[u.Type=1]="Type",u[u.Parameter=2]="Parameter"})(V||(V={}));var $;(function(u){u[u.Automatic=0]="Automatic",u[u.Explicit=1]="Explicit"})($||($={}));var ee;(function(u){u[u.DependsOnKbLayout=-1]="DependsOnKbLayout",u[u.Unknown=0]="Unknown",u[u.Backspace=1]="Backspace",u[u.Tab=2]="Tab",u[u.Enter=3]="Enter",u[u.Shift=4]="Shift",u[u.Ctrl=5]="Ctrl",u[u.Alt=6]="Alt",u[u.PauseBreak=7]="PauseBreak",u[u.CapsLock=8]="CapsLock",u[u.Escape=9]="Escape",u[u.Space=10]="Space",u[u.PageUp=11]="PageUp",u[u.PageDown=12]="PageDown",u[u.End=13]="End",u[u.Home=14]="Home",u[u.LeftArrow=15]="LeftArrow",u[u.UpArrow=16]="UpArrow",u[u.RightArrow=17]="RightArrow",u[u.DownArrow=18]="DownArrow",u[u.Insert=19]="Insert",u[u.Delete=20]="Delete",u[u.Digit0=21]="Digit0",u[u.Digit1=22]="Digit1",u[u.Digit2=23]="Digit2",u[u.Digit3=24]="Digit3",u[u.Digit4=25]="Digit4",u[u.Digit5=26]="Digit5",u[u.Digit6=27]="Digit6",u[u.Digit7=28]="Digit7",u[u.Digit8=29]="Digit8",u[u.Digit9=30]="Digit9",u[u.KeyA=31]="KeyA",u[u.KeyB=32]="KeyB",u[u.KeyC=33]="KeyC",u[u.KeyD=34]="KeyD",u[u.KeyE=35]="KeyE",u[u.KeyF=36]="KeyF",u[u.KeyG=37]="KeyG",u[u.KeyH=38]="KeyH",u[u.KeyI=39]="KeyI",u[u.KeyJ=40]="KeyJ",u[u.KeyK=41]="KeyK",u[u.KeyL=42]="KeyL",u[u.KeyM=43]="KeyM",u[u.KeyN=44]="KeyN",u[u.KeyO=45]="KeyO",u[u.KeyP=46]="KeyP",u[u.KeyQ=47]="KeyQ",u[u.KeyR=48]="KeyR",u[u.KeyS=49]="KeyS",u[u.KeyT=50]="KeyT",u[u.KeyU=51]="KeyU",u[u.KeyV=52]="KeyV",u[u.KeyW=53]="KeyW",u[u.KeyX=54]="KeyX",u[u.KeyY=55]="KeyY",u[u.KeyZ=56]="KeyZ",u[u.Meta=57]="Meta",u[u.ContextMenu=58]="ContextMenu",u[u.F1=59]="F1",u[u.F2=60]="F2",u[u.F3=61]="F3",u[u.F4=62]="F4",u[u.F5=63]="F5",u[u.F6=64]="F6",u[u.F7=65]="F7",u[u.F8=66]="F8",u[u.F9=67]="F9",u[u.F10=68]="F10",u[u.F11=69]="F11",u[u.F12=70]="F12",u[u.F13=71]="F13",u[u.F14=72]="F14",u[u.F15=73]="F15",u[u.F16=74]="F16",u[u.F17=75]="F17",u[u.F18=76]="F18",u[u.F19=77]="F19",u[u.NumLock=78]="NumLock",u[u.ScrollLock=79]="ScrollLock",u[u.Semicolon=80]="Semicolon",u[u.Equal=81]="Equal",u[u.Comma=82]="Comma",u[u.Minus=83]="Minus",u[u.Period=84]="Period",u[u.Slash=85]="Slash",u[u.Backquote=86]="Backquote",u[u.BracketLeft=87]="BracketLeft",u[u.Backslash=88]="Backslash",u[u.BracketRight=89]="BracketRight",u[u.Quote=90]="Quote",u[u.OEM_8=91]="OEM_8",u[u.IntlBackslash=92]="IntlBackslash",u[u.Numpad0=93]="Numpad0",u[u.Numpad1=94]="Numpad1",u[u.Numpad2=95]="Numpad2",u[u.Numpad3=96]="Numpad3",u[u.Numpad4=97]="Numpad4",u[u.Numpad5=98]="Numpad5",u[u.Numpad6=99]="Numpad6",u[u.Numpad7=100]="Numpad7",u[u.Numpad8=101]="Numpad8",u[u.Numpad9=102]="Numpad9",u[u.NumpadMultiply=103]="NumpadMultiply",u[u.NumpadAdd=104]="NumpadAdd",u[u.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",u[u.NumpadSubtract=106]="NumpadSubtract",u[u.NumpadDecimal=107]="NumpadDecimal",u[u.NumpadDivide=108]="NumpadDivide",u[u.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",u[u.ABNT_C1=110]="ABNT_C1",u[u.ABNT_C2=111]="ABNT_C2",u[u.AudioVolumeMute=112]="AudioVolumeMute",u[u.AudioVolumeUp=113]="AudioVolumeUp",u[u.AudioVolumeDown=114]="AudioVolumeDown",u[u.BrowserSearch=115]="BrowserSearch",u[u.BrowserHome=116]="BrowserHome",u[u.BrowserBack=117]="BrowserBack",u[u.BrowserForward=118]="BrowserForward",u[u.MediaTrackNext=119]="MediaTrackNext",u[u.MediaTrackPrevious=120]="MediaTrackPrevious",u[u.MediaStop=121]="MediaStop",u[u.MediaPlayPause=122]="MediaPlayPause",u[u.LaunchMediaPlayer=123]="LaunchMediaPlayer",u[u.LaunchMail=124]="LaunchMail",u[u.LaunchApp2=125]="LaunchApp2",u[u.MAX_VALUE=126]="MAX_VALUE"})(ee||(ee={}));var de;(function(u){u[u.Hint=1]="Hint",u[u.Info=2]="Info",u[u.Warning=4]="Warning",u[u.Error=8]="Error"})(de||(de={}));var pe;(function(u){u[u.Unnecessary=1]="Unnecessary",u[u.Deprecated=2]="Deprecated"})(pe||(pe={}));var ve;(function(u){u[u.Inline=1]="Inline",u[u.Gutter=2]="Gutter"})(ve||(ve={}));var xe;(function(u){u[u.UNKNOWN=0]="UNKNOWN",u[u.TEXTAREA=1]="TEXTAREA",u[u.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",u[u.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",u[u.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",u[u.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",u[u.CONTENT_TEXT=6]="CONTENT_TEXT",u[u.CONTENT_EMPTY=7]="CONTENT_EMPTY",u[u.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",u[u.CONTENT_WIDGET=9]="CONTENT_WIDGET",u[u.OVERVIEW_RULER=10]="OVERVIEW_RULER",u[u.SCROLLBAR=11]="SCROLLBAR",u[u.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",u[u.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(xe||(xe={}));var le;(function(u){u[u.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",u[u.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",u[u.TOP_CENTER=2]="TOP_CENTER"})(le||(le={}));var Y;(function(u){u[u.Left=1]="Left",u[u.Center=2]="Center",u[u.Right=4]="Right",u[u.Full=7]="Full"})(Y||(Y={}));var j;(function(u){u[u.Off=0]="Off",u[u.On=1]="On",u[u.Relative=2]="Relative",u[u.Interval=3]="Interval",u[u.Custom=4]="Custom"})(j||(j={}));var G;(function(u){u[u.None=0]="None",u[u.Text=1]="Text",u[u.Blocks=2]="Blocks"})(G||(G={}));var q;(function(u){u[u.Smooth=0]="Smooth",u[u.Immediate=1]="Immediate"})(q||(q={}));var m;(function(u){u[u.Auto=1]="Auto",u[u.Hidden=2]="Hidden",u[u.Visible=3]="Visible"})(m||(m={}));var b;(function(u){u[u.LTR=0]="LTR",u[u.RTL=1]="RTL"})(b||(b={}));var F;(function(u){u[u.Invoke=1]="Invoke",u[u.TriggerCharacter=2]="TriggerCharacter",u[u.ContentChange=3]="ContentChange"})(F||(F={}));var te;(function(u){u[u.File=0]="File",u[u.Module=1]="Module",u[u.Namespace=2]="Namespace",u[u.Package=3]="Package",u[u.Class=4]="Class",u[u.Method=5]="Method",u[u.Property=6]="Property",u[u.Field=7]="Field",u[u.Constructor=8]="Constructor",u[u.Enum=9]="Enum",u[u.Interface=10]="Interface",u[u.Function=11]="Function",u[u.Variable=12]="Variable",u[u.Constant=13]="Constant",u[u.String=14]="String",u[u.Number=15]="Number",u[u.Boolean=16]="Boolean",u[u.Array=17]="Array",u[u.Object=18]="Object",u[u.Key=19]="Key",u[u.Null=20]="Null",u[u.EnumMember=21]="EnumMember",u[u.Struct=22]="Struct",u[u.Event=23]="Event",u[u.Operator=24]="Operator",u[u.TypeParameter=25]="TypeParameter"})(te||(te={}));var me;(function(u){u[u.Deprecated=1]="Deprecated"})(me||(me={}));var ue;(function(u){u[u.Hidden=0]="Hidden",u[u.Blink=1]="Blink",u[u.Smooth=2]="Smooth",u[u.Phase=3]="Phase",u[u.Expand=4]="Expand",u[u.Solid=5]="Solid"})(ue||(ue={}));var Oe;(function(u){u[u.Line=1]="Line",u[u.Block=2]="Block",u[u.Underline=3]="Underline",u[u.LineThin=4]="LineThin",u[u.BlockOutline=5]="BlockOutline",u[u.UnderlineThin=6]="UnderlineThin"})(Oe||(Oe={}));var Re;(function(u){u[u.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",u[u.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",u[u.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",u[u.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(Re||(Re={}));var et;(function(u){u[u.None=0]="None",u[u.Same=1]="Same",u[u.Indent=2]="Indent",u[u.DeepIndent=3]="DeepIndent"})(et||(et={}));class Dt{static chord(t,i){return(0,P.gx)(t,i)}}Dt.CtrlCmd=2048,Dt.Shift=1024,Dt.Alt=512,Dt.WinCtrl=256;function ht(){return{editor:void 0,languages:void 0,CancellationTokenSource:O.A,Emitter:Q.Q5,KeyCode:ee,KeyMod:Dt,Position:X.L,Range:R.e,Selection:B.Y,SelectionDirection:b,MarkerSeverity:de,MarkerTag:pe,Uri:y.o,Token:s.WU}}var Mt=c(11640),Je=c(65321),tt=c(91741),ke=c(43702),fe=c(23897),Ie=c(66663),nt=c(95935),at=c(94565),ot;(function(u){u[u.API=0]="API",u[u.USER=1]="USER"})(ot||(ot={}));var Ne=c(50988),Pe=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},ye=function(u,t){return function(i,o){t(i,o,u)}},Ze=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function J(Fe){try{Ee(o.next(Fe))}catch(Qe){K(Qe)}}function Ce(Fe){try{Ee(o.throw(Fe))}catch(Qe){K(Qe)}}function Ee(Fe){Fe.done?A(Fe.value):_(Fe.value).then(J,Ce)}Ee((o=o.apply(u,t||[])).next())})};let it=class{constructor(t){this._commandService=t}open(t,i){return Ze(this,void 0,void 0,function*(){if(!(0,Ne.xn)(t,Ie.lg.command))return!1;if(!(i!=null&&i.allowCommands))return!0;typeof t=="string"&&(t=y.o.parse(t));let o=[];try{o=(0,fe.Q)(decodeURIComponent(t.query))}catch(_){try{o=(0,fe.Q)(t.query)}catch(A){}}return Array.isArray(o)||(o=[o]),yield this._commandService.executeCommand(t.path,...o),!0})}};it=Pe([ye(0,at.H)],it);let Ft=class{constructor(t){this._editorService=t}open(t,i){return Ze(this,void 0,void 0,function*(){typeof t=="string"&&(t=y.o.parse(t));let o;const _=/^L?(\d+)(?:,(\d+))?/.exec(t.fragment);return _&&(o={startLineNumber:parseInt(_[1]),startColumn:_[2]?parseInt(_[2]):1},t=t.with({fragment:""})),t.scheme===Ie.lg.file&&(t=(0,nt.AH)(t)),yield this._editorService.openCodeEditor({resource:t,options:Object.assign({selection:o,context:i!=null&&i.fromUserGesture?ot.USER:ot.API},i==null?void 0:i.editorOptions)},this._editorService.getFocusedCodeEditor(),i==null?void 0:i.openToSide),!0})}};Ft=Pe([ye(0,Mt.$)],Ft);let ei=class{constructor(t,i){this._openers=new tt.S,this._validators=new tt.S,this._resolvers=new tt.S,this._resolvedUriTargets=new ke.Y9(o=>o.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new tt.S,this._defaultExternalOpener={openExternal:o=>Ze(this,void 0,void 0,function*(){return(0,Ne.xn)(o,Ie.lg.http)||(0,Ne.xn)(o,Ie.lg.https)?Je.V3(o):window.location.href=o,!0})},this._openers.push({open:(o,_)=>Ze(this,void 0,void 0,function*(){return _!=null&&_.openExternal||(0,Ne.xn)(o,Ie.lg.mailto)||(0,Ne.xn)(o,Ie.lg.http)||(0,Ne.xn)(o,Ie.lg.https)?(yield this._doOpenExternal(o,_),!0):!1})}),this._openers.push(new it(i)),this._openers.push(new Ft(t))}registerOpener(t){return{dispose:this._openers.unshift(t)}}registerValidator(t){return{dispose:this._validators.push(t)}}registerExternalUriResolver(t){return{dispose:this._resolvers.push(t)}}setDefaultExternalOpener(t){this._defaultExternalOpener=t}registerExternalOpener(t){return{dispose:this._externalOpeners.push(t)}}open(t,i){var o;return Ze(this,void 0,void 0,function*(){const _=typeof t=="string"?y.o.parse(t):t,A=(o=this._resolvedUriTargets.get(_))!==null&&o!==void 0?o:t;for(const K of this._validators)if(!(yield K.shouldOpen(A)))return!1;for(const K of this._openers)if(yield K.open(t,i))return!0;return!1})}resolveExternalUri(t,i){return Ze(this,void 0,void 0,function*(){for(const o of this._resolvers)try{const _=yield o.resolveExternalUri(t,i);if(_)return this._resolvedUriTargets.has(_.resolved)||this._resolvedUriTargets.set(_.resolved,t),_}catch(_){}throw new Error("Could not resolve external URI: "+t.toString())})}_doOpenExternal(t,i){return Ze(this,void 0,void 0,function*(){const o=typeof t=="string"?y.o.parse(t):t;let _;try{_=(yield this.resolveExternalUri(o,i)).resolved}catch(K){_=o}let A;if(typeof t=="string"&&o.toString()===_.toString()?A=t:A=encodeURI(_.toString(!0)),i!=null&&i.allowContributedOpeners){const K=typeof(i==null?void 0:i.allowContributedOpeners)=="string"?i==null?void 0:i.allowContributedOpeners:void 0;for(const J of this._externalOpeners)if(yield J.openExternal(A,{sourceUri:o,preferredOpenerId:K},O.T.None))return!0}return this._defaultExternalOpener.openExternal(A,{sourceUri:o},O.T.None)})}dispose(){this._validators.clear()}};ei=Pe([ye(0,Mt.$),ye(1,at.H)],ei);var bi=c(35146),ii=c(5976),Ot=c(36248);const en={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class ui extends ii.JT{constructor(t,i={}){super(),this._onDidUpdate=this._register(new Q.Q5),this._editor=t,this._options=Ot.jB(i,en,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=!!this._options.alwaysRevealFirst,this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(o=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(o=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(t){this.ranges=[],t&&t.forEach(i=>{!this._options.ignoreCharChanges&&i.charChanges?i.charChanges.forEach(o=>{this.ranges.push({rhs:!0,range:new R.e(o.modifiedStartLineNumber,o.modifiedStartColumn,o.modifiedEndLineNumber,o.modifiedEndColumn)})}):i.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new R.e(i.modifiedStartLineNumber,1,i.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new R.e(i.modifiedStartLineNumber,1,i.modifiedEndLineNumber+1,1)})}),this.ranges.sort((i,o)=>R.e.compareRangesUsingStarts(i.range,o.range)),this._onDidUpdate.fire(this)}_initIdx(t){let i=!1,o=this._editor.getPosition();if(!o){this.nextIdx=0;return}for(let _=0,A=this.ranges.length;_<A&&!i;_++){let K=this.ranges[_].range;o.isBeforeOrEqual(K.getStartPosition())&&(this.nextIdx=_+(t?0:-1),i=!0)}i||(this.nextIdx=t?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(t,i){if(bi.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(t):t?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let o=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let _=o.range.getStartPosition();this._editor.setPosition(_),this._editor.revealRangeInCenter(o.range,i)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(t=0){this._move(!0,t)}previous(t=0){this._move(!1,t)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}var Ke=c(27374),st=c(96518),Mi=c(84973),ci=c(10351),zi=c(28111),kn=c(90469),Ki=c(71531),ls=c(88216),Bn=c(15393),On=c(17301),Zi=c(1432),Mn=c(98401),an=c(97295);const $e="$initialize";let Tt=!1;function It(u){Zi.$L&&(Tt||(Tt=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(u.message))}class Ge{constructor(t,i,o,_){this.vsWorker=t,this.req=i,this.method=o,this.args=_,this.type=0}}class Xe{constructor(t,i,o,_){this.vsWorker=t,this.seq=i,this.res=o,this.err=_,this.type=1}}class kt{constructor(t,i,o,_){this.vsWorker=t,this.req=i,this.eventName=o,this.arg=_,this.type=2}}class At{constructor(t,i,o){this.vsWorker=t,this.req=i,this.event=o,this.type=3}}class Jt{constructor(t,i){this.vsWorker=t,this.req=i,this.type=4}}class ai{constructor(t){this._workerId=-1,this._handler=t,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(t){this._workerId=t}sendMessage(t,i){const o=String(++this._lastSentReq);return new Promise((_,A)=>{this._pendingReplies[o]={resolve:_,reject:A},this._send(new Ge(this._workerId,o,t,i))})}listen(t,i){let o=null;const _=new Q.Q5({onFirstListenerAdd:()=>{o=String(++this._lastSentReq),this._pendingEmitters.set(o,_),this._send(new kt(this._workerId,o,t,i))},onLastListenerRemove:()=>{this._pendingEmitters.delete(o),this._send(new Jt(this._workerId,o)),o=null}});return _.event}handleMessage(t){!t||!t.vsWorker||this._workerId!==-1&&t.vsWorker!==this._workerId||this._handleMessage(t)}_handleMessage(t){switch(t.type){case 1:return this._handleReplyMessage(t);case 0:return this._handleRequestMessage(t);case 2:return this._handleSubscribeEventMessage(t);case 3:return this._handleEventMessage(t);case 4:return this._handleUnsubscribeEventMessage(t)}}_handleReplyMessage(t){if(!this._pendingReplies[t.seq]){console.warn("Got reply to unknown seq");return}let i=this._pendingReplies[t.seq];if(delete this._pendingReplies[t.seq],t.err){let o=t.err;t.err.$isError&&(o=new Error,o.name=t.err.name,o.message=t.err.message,o.stack=t.err.stack),i.reject(o);return}i.resolve(t.res)}_handleRequestMessage(t){let i=t.req;this._handler.handleMessage(t.method,t.args).then(_=>{this._send(new Xe(this._workerId,i,_,void 0))},_=>{_.detail instanceof Error&&(_.detail=(0,On.ri)(_.detail)),this._send(new Xe(this._workerId,i,void 0,(0,On.ri)(_)))})}_handleSubscribeEventMessage(t){const i=t.req,o=this._handler.handleEvent(t.eventName,t.arg)(_=>{this._send(new At(this._workerId,i,_))});this._pendingEvents.set(i,o)}_handleEventMessage(t){if(!this._pendingEmitters.has(t.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(t.req).fire(t.event)}_handleUnsubscribeEventMessage(t){if(!this._pendingEvents.has(t.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(t.req).dispose(),this._pendingEvents.delete(t.req)}_send(t){let i=[];if(t.type===0)for(let o=0;o<t.args.length;o++)t.args[o]instanceof ArrayBuffer&&i.push(t.args[o]);else t.type===1&&t.res instanceof ArrayBuffer&&i.push(t.res);this._handler.sendMessage(t,i)}}class yi extends ii.JT{constructor(t,i,o){super();let _=null;this._worker=this._register(t.create("vs/base/common/worker/simpleWorker",Ee=>{this._protocol.handleMessage(Ee)},Ee=>{_&&_(Ee)})),this._protocol=new ai({sendMessage:(Ee,Fe)=>{this._worker.postMessage(Ee,Fe)},handleMessage:(Ee,Fe)=>{if(typeof o[Ee]!="function")return Promise.reject(new Error("Missing method "+Ee+" on main thread host."));try{return Promise.resolve(o[Ee].apply(o,Fe))}catch(Qe){return Promise.reject(Qe)}},handleEvent:(Ee,Fe)=>{if(Ji(Ee)){const Qe=o[Ee].call(o,Fe);if(typeof Qe!="function")throw new Error(`Missing dynamic event ${Ee} on main thread host.`);return Qe}if(sn(Ee)){const Qe=o[Ee];if(typeof Qe!="function")throw new Error(`Missing event ${Ee} on main thread host.`);return Qe}throw new Error(`Malformed event name ${Ee}`)}}),this._protocol.setWorkerId(this._worker.getId());let A=null;typeof Zi.li.require!="undefined"&&typeof Zi.li.require.getConfig=="function"?A=Zi.li.require.getConfig():typeof Zi.li.requirejs!="undefined"&&(A=Zi.li.requirejs.s.contexts._.config);const K=Mn.$E(o);this._onModuleLoaded=this._protocol.sendMessage($e,[this._worker.getId(),JSON.parse(JSON.stringify(A)),i,K]);const J=(Ee,Fe)=>this._request(Ee,Fe),Ce=(Ee,Fe)=>this._protocol.listen(Ee,Fe);this._lazyProxy=new Promise((Ee,Fe)=>{_=Fe,this._onModuleLoaded.then(Qe=>{Ee(Qn(Qe,J,Ce))},Qe=>{Fe(Qe),this._onError("Worker failed to load "+i,Qe)})})}getProxyObject(){return this._lazyProxy}_request(t,i){return new Promise((o,_)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(t,i).then(o,_)},_)})}_onError(t,i){console.error(t),console.info(i)}}function sn(u){return u[0]==="o"&&u[1]==="n"&&an.df(u.charCodeAt(2))}function Ji(u){return/^onDynamic/.test(u)&&an.df(u.charCodeAt(9))}function Qn(u,t,i){const o=K=>function(){const J=Array.prototype.slice.call(arguments,0);return t(K,J)},_=K=>function(J){return i(K,J)};let A={};for(const K of u){if(Ji(K)){A[K]=_(K);continue}if(sn(K)){A[K]=i(K,void 0);continue}A[K]=o(K)}return A}class Ui{constructor(t,i){this._requestHandlerFactory=i,this._requestHandler=null,this._protocol=new ai({sendMessage:(o,_)=>{t(o,_)},handleMessage:(o,_)=>this._handleMessage(o,_),handleEvent:(o,_)=>this._handleEvent(o,_)})}onmessage(t){this._protocol.handleMessage(t)}_handleMessage(t,i){if(t===$e)return this.initialize(i[0],i[1],i[2],i[3]);if(!this._requestHandler||typeof this._requestHandler[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._requestHandler[t].apply(this._requestHandler,i))}catch(o){return Promise.reject(o)}}_handleEvent(t,i){if(!this._requestHandler)throw new Error("Missing requestHandler");if(Ji(t)){const o=this._requestHandler[t].call(this._requestHandler,i);if(typeof o!="function")throw new Error(`Missing dynamic event ${t} on request handler.`);return o}if(sn(t)){const o=this._requestHandler[t];if(typeof o!="function")throw new Error(`Missing event ${t} on request handler.`);return o}throw new Error(`Malformed event name ${t}`)}initialize(t,i,o,_){this._protocol.setWorkerId(t);const J=Qn(_,(Ce,Ee)=>this._protocol.sendMessage(Ce,Ee),(Ce,Ee)=>this._protocol.listen(Ce,Ee));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(J),Promise.resolve(types.getAllMethodNames(this._requestHandler))):(i&&(typeof i.baseUrl!="undefined"&&delete i.baseUrl,typeof i.paths!="undefined"&&typeof i.paths.vs!="undefined"&&delete i.paths.vs,typeof i.trustedTypesPolicy!==void 0&&delete i.trustedTypesPolicy,i.catchError=!0,globals.require.config(i)),new Promise((Ce,Ee)=>{const Fe=globals.require;Fe([o],Qe=>{if(this._requestHandler=Qe.create(J),!this._requestHandler){Ee(new Error("No RequestHandler!"));return}Ce(types.getAllMethodNames(this._requestHandler))},Ee)}))}}function on(u){return new Ui(u,null)}var wt;const ft=(wt=window.trustedTypes)===null||wt===void 0?void 0:wt.createPolicy("defaultWorkerFactory",{createScriptURL:u=>u});function xt(u,t){if(Zi.li.MonacoEnvironment){if(typeof Zi.li.MonacoEnvironment.getWorker=="function")return Zi.li.MonacoEnvironment.getWorker(u,t);if(typeof Zi.li.MonacoEnvironment.getWorkerUrl=="function"){const i=Zi.li.MonacoEnvironment.getWorkerUrl(u,t);return new Worker(ft?ft.createScriptURL(i):i,{name:t})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function Ve(u){return typeof u.then=="function"}class qe{constructor(t,i,o,_,A){this.id=i;const K=xt("workerMain.js",o);Ve(K)?this.worker=K:this.worker=Promise.resolve(K),this.postMessage(t,[]),this.worker.then(J=>{J.onmessage=function(Ce){_(Ce.data)},J.onmessageerror=A,typeof J.addEventListener=="function"&&J.addEventListener("error",A)})}getId(){return this.id}postMessage(t,i){this.worker&&this.worker.then(o=>o.postMessage(t,i))}dispose(){this.worker&&this.worker.then(t=>t.terminate()),this.worker=null}}class mt{constructor(t){this._label=t,this._webWorkerFailedBeforeError=!1}create(t,i,o){let _=++mt.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new qe(t,_,this._label||"anonymous"+_,i,A=>{It(A),this._webWorkerFailedBeforeError=A,o(A)})}}mt.LAST_WORKER_ID=0;var ut=c(94660),ri=c(22571);const $i=3;function _i(u,t,i,o){return new ri.Hs(u,t,i).ComputeDiff(o)}class Ni{constructor(t){const i=[],o=[];for(let _=0,A=t.length;_<A;_++)i[_]=_n(t[_],1),o[_]=En(t[_],1);this.lines=t,this._startColumns=i,this._endColumns=o}getElements(){const t=[];for(let i=0,o=this.lines.length;i<o;i++)t[i]=this.lines[i].substring(this._startColumns[i]-1,this._endColumns[i]-1);return t}getStrictElement(t){return this.lines[t]}getStartLineNumber(t){return t+1}getEndLineNumber(t){return t+1}createCharSequence(t,i,o){const _=[],A=[],K=[];let J=0;for(let Ce=i;Ce<=o;Ce++){const Ee=this.lines[Ce],Fe=t?this._startColumns[Ce]:1,Qe=t?this._endColumns[Ce]:Ee.length+1;for(let Kt=Fe;Kt<Qe;Kt++)_[J]=Ee.charCodeAt(Kt-1),A[J]=Ce+1,K[J]=Kt,J++}return new Gi(_,A,K)}}class Gi{constructor(t,i,o){this._charCodes=t,this._lineNumbers=i,this._columns=o}getElements(){return this._charCodes}getStartLineNumber(t){return this._lineNumbers[t]}getStartColumn(t){return this._columns[t]}getEndLineNumber(t){return this._lineNumbers[t]}getEndColumn(t){return this._columns[t]+1}}class hn{constructor(t,i,o,_,A,K,J,Ce){this.originalStartLineNumber=t,this.originalStartColumn=i,this.originalEndLineNumber=o,this.originalEndColumn=_,this.modifiedStartLineNumber=A,this.modifiedStartColumn=K,this.modifiedEndLineNumber=J,this.modifiedEndColumn=Ce}static createFromDiffChange(t,i,o){let _,A,K,J,Ce,Ee,Fe,Qe;return t.originalLength===0?(_=0,A=0,K=0,J=0):(_=i.getStartLineNumber(t.originalStart),A=i.getStartColumn(t.originalStart),K=i.getEndLineNumber(t.originalStart+t.originalLength-1),J=i.getEndColumn(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(Ce=0,Ee=0,Fe=0,Qe=0):(Ce=o.getStartLineNumber(t.modifiedStart),Ee=o.getStartColumn(t.modifiedStart),Fe=o.getEndLineNumber(t.modifiedStart+t.modifiedLength-1),Qe=o.getEndColumn(t.modifiedStart+t.modifiedLength-1)),new hn(_,A,K,J,Ce,Ee,Fe,Qe)}}function pn(u){if(u.length<=1)return u;const t=[u[0]];let i=t[0];for(let o=1,_=u.length;o<_;o++){const A=u[o],K=A.originalStart-(i.originalStart+i.originalLength),J=A.modifiedStart-(i.modifiedStart+i.modifiedLength);Math.min(K,J)<$i?(i.originalLength=A.originalStart+A.originalLength-i.originalStart,i.modifiedLength=A.modifiedStart+A.modifiedLength-i.modifiedStart):(t.push(A),i=A)}return t}class Ai{constructor(t,i,o,_,A){this.originalStartLineNumber=t,this.originalEndLineNumber=i,this.modifiedStartLineNumber=o,this.modifiedEndLineNumber=_,this.charChanges=A}static createFromDiffResult(t,i,o,_,A,K,J){let Ce,Ee,Fe,Qe,Kt;if(i.originalLength===0?(Ce=o.getStartLineNumber(i.originalStart)-1,Ee=0):(Ce=o.getStartLineNumber(i.originalStart),Ee=o.getEndLineNumber(i.originalStart+i.originalLength-1)),i.modifiedLength===0?(Fe=_.getStartLineNumber(i.modifiedStart)-1,Qe=0):(Fe=_.getStartLineNumber(i.modifiedStart),Qe=_.getEndLineNumber(i.modifiedStart+i.modifiedLength-1)),K&&i.originalLength>0&&i.originalLength<20&&i.modifiedLength>0&&i.modifiedLength<20&&A()){const ki=o.createCharSequence(t,i.originalStart,i.originalStart+i.originalLength-1),Fi=_.createCharSequence(t,i.modifiedStart,i.modifiedStart+i.modifiedLength-1);let rn=_i(ki,Fi,A,!0).changes;J&&(rn=pn(rn)),Kt=[];for(let In=0,$n=rn.length;In<$n;In++)Kt.push(hn.createFromDiffChange(rn[In],ki,Fi))}return new Ai(Ce,Ee,Fe,Qe,Kt)}}class pi{constructor(t,i,o){this.shouldComputeCharChanges=o.shouldComputeCharChanges,this.shouldPostProcessCharChanges=o.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=o.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=o.shouldMakePrettyDiff,this.originalLines=t,this.modifiedLines=i,this.original=new Ni(t),this.modified=new Ni(i),this.continueLineDiff=is(o.maxComputationTime),this.continueCharDiff=is(o.maxComputationTime===0?0:Math.min(o.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const t=_i(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),i=t.changes,o=t.quitEarly;if(this.shouldIgnoreTrimWhitespace){const J=[];for(let Ce=0,Ee=i.length;Ce<Ee;Ce++)J.push(Ai.createFromDiffResult(this.shouldIgnoreTrimWhitespace,i[Ce],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:o,changes:J}}const _=[];let A=0,K=0;for(let J=-1,Ce=i.length;J<Ce;J++){const Ee=J+1<Ce?i[J+1]:null,Fe=Ee?Ee.originalStart:this.originalLines.length,Qe=Ee?Ee.modifiedStart:this.modifiedLines.length;for(;A<Fe&&K<Qe;){const Kt=this.originalLines[A],ki=this.modifiedLines[K];if(Kt!==ki){{let Fi=_n(Kt,1),rn=_n(ki,1);for(;Fi>1&&rn>1;){const In=Kt.charCodeAt(Fi-2),$n=ki.charCodeAt(rn-2);if(In!==$n)break;Fi--,rn--}(Fi>1||rn>1)&&this._pushTrimWhitespaceCharChange(_,A+1,1,Fi,K+1,1,rn)}{let Fi=En(Kt,1),rn=En(ki,1);const In=Kt.length+1,$n=ki.length+1;for(;Fi<In&&rn<$n;){const Yn=Kt.charCodeAt(Fi-1),xn=Kt.charCodeAt(rn-1);if(Yn!==xn)break;Fi++,rn++}(Fi<In||rn<$n)&&this._pushTrimWhitespaceCharChange(_,A+1,Fi,In,K+1,rn,$n)}}A++,K++}Ee&&(_.push(Ai.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Ee,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),A+=Ee.originalLength,K+=Ee.modifiedLength)}return{quitEarly:o,changes:_}}_pushTrimWhitespaceCharChange(t,i,o,_,A,K,J){if(this._mergeTrimWhitespaceCharChange(t,i,o,_,A,K,J))return;let Ce;this.shouldComputeCharChanges&&(Ce=[new hn(i,o,i,_,A,K,A,J)]),t.push(new Ai(i,i,A,A,Ce))}_mergeTrimWhitespaceCharChange(t,i,o,_,A,K,J){const Ce=t.length;if(Ce===0)return!1;const Ee=t[Ce-1];return Ee.originalEndLineNumber===0||Ee.modifiedEndLineNumber===0?!1:Ee.originalEndLineNumber+1===i&&Ee.modifiedEndLineNumber+1===A?(Ee.originalEndLineNumber=i,Ee.modifiedEndLineNumber=A,this.shouldComputeCharChanges&&Ee.charChanges&&Ee.charChanges.push(new hn(i,o,i,_,A,K,A,J)),!0):!1}}function _n(u,t){const i=an.LC(u);return i===-1?t:i+1}function En(u,t){const i=an.ow(u);return i===-1?t:i+2}function is(u){if(u===0)return()=>!0;const t=Date.now();return()=>Date.now()-t<u}var ds=c(3544);class Xn{constructor(t,i,o,_){this._uri=t,this._lines=i,this._eol=o,this._versionId=_,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(t){t.eol&&t.eol!==this._eol&&(this._eol=t.eol,this._lineStarts=null);const i=t.changes;for(const o of i)this._acceptDeleteRange(o.range),this._acceptInsertText(new X.L(o.range.startLineNumber,o.range.startColumn),o.text);this._versionId=t.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const t=this._eol.length,i=this._lines.length,o=new Uint32Array(i);for(let _=0;_<i;_++)o[_]=this._lines[_].length+t;this._lineStarts=new ds.o(o)}}_setLineText(t,i){this._lines[t]=i,this._lineStarts&&this._lineStarts.changeValue(t,this._lines[t].length+this._eol.length)}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.startLineNumber-1].substring(t.endColumn-1));return}this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.endLineNumber-1].substring(t.endColumn-1)),this._lines.splice(t.startLineNumber,t.endLineNumber-t.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(t.startLineNumber,t.endLineNumber-t.startLineNumber)}_acceptInsertText(t,i){if(i.length===0)return;let o=(0,an.uq)(i);if(o.length===1){this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+o[0]+this._lines[t.lineNumber-1].substring(t.column-1));return}o[o.length-1]+=this._lines[t.lineNumber-1].substring(t.column-1),this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+o[0]);let _=new Uint32Array(o.length-1);for(let A=1;A<o.length;A++)this._lines.splice(t.lineNumber+A-1,0,o[A]),_[A-1]=o[A].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(t.lineNumber,_)}}var Rs=c(97461),Co=c(44906);class js{constructor(t,i,o){const _=new Uint8Array(t*i);for(let A=0,K=t*i;A<K;A++)_[A]=o;this._data=_,this.rows=t,this.cols=i}get(t,i){return this._data[t*this.cols+i]}set(t,i,o){this._data[t*this.cols+i]=o}}class _s{constructor(t){let i=0,o=0;for(let A=0,K=t.length;A<K;A++){let[J,Ce,Ee]=t[A];Ce>i&&(i=Ce),J>o&&(o=J),Ee>o&&(o=Ee)}i++,o++;let _=new js(o,i,0);for(let A=0,K=t.length;A<K;A++){let[J,Ce,Ee]=t[A];_.set(J,Ce,Ee)}this._states=_,this._maxCharCode=i}nextState(t,i){return i<0||i>=this._maxCharCode?0:this._states.get(t,i)}}let ho=null;function oo(){return ho===null&&(ho=new _s([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),ho}let qs=null;function Es(){if(qs===null){qs=new Co.N(0);const u=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let i=0;i<u.length;i++)qs.set(u.charCodeAt(i),1);const t=".,;";for(let i=0;i<t.length;i++)qs.set(t.charCodeAt(i),2)}return qs}class Fs{static _createLink(t,i,o,_,A){let K=A-1;do{const J=i.charCodeAt(K);if(t.get(J)!==2)break;K--}while(K>_);if(_>0){const J=i.charCodeAt(_-1),Ce=i.charCodeAt(K);(J===40&&Ce===41||J===91&&Ce===93||J===123&&Ce===125)&&K--}return{range:{startLineNumber:o,startColumn:_+1,endLineNumber:o,endColumn:K+2},url:i.substring(_,K+1)}}static computeLinks(t,i=oo()){const o=Es();let _=[];for(let A=1,K=t.getLineCount();A<=K;A++){const J=t.getLineContent(A),Ce=J.length;let Ee=0,Fe=0,Qe=0,Kt=1,ki=!1,Fi=!1,rn=!1,In=!1;for(;Ee<Ce;){let $n=!1;const Yn=J.charCodeAt(Ee);if(Kt===13){let xn;switch(Yn){case 40:ki=!0,xn=0;break;case 41:xn=ki?0:1;break;case 91:rn=!0,Fi=!0,xn=0;break;case 93:rn=!1,xn=Fi?0:1;break;case 123:In=!0,xn=0;break;case 125:xn=In?0:1;break;case 39:xn=Qe===34||Qe===96?0:1;break;case 34:xn=Qe===39||Qe===96?0:1;break;case 96:xn=Qe===39||Qe===34?0:1;break;case 42:xn=Qe===42?1:0;break;case 124:xn=Qe===124?1:0;break;case 32:xn=rn?0:1;break;default:xn=o.get(Yn)}xn===1&&(_.push(Fs._createLink(o,J,A,Fe,Ee)),$n=!0)}else if(Kt===12){let xn;Yn===91?(Fi=!0,xn=0):xn=o.get(Yn),xn===1?$n=!0:Kt=13}else Kt=i.nextState(Kt,Yn),Kt===0&&($n=!0);$n&&(Kt=1,ki=!1,Fi=!1,In=!1,Fe=Ee+1,Qe=Yn),Ee++}Kt===13&&_.push(Fs._createLink(o,J,A,Fe,Ce))}return _}}function Xs(u){return!u||typeof u.getLineCount!="function"||typeof u.getLineContent!="function"?[]:Fs.computeLinks(u)}class ro{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(t,i,o,_,A){if(t&&i){let K=this.doNavigateValueSet(i,A);if(K)return{range:t,value:K}}if(o&&_){let K=this.doNavigateValueSet(_,A);if(K)return{range:o,value:K}}return null}doNavigateValueSet(t,i){let o=this.numberReplace(t,i);return o!==null?o:this.textReplace(t,i)}numberReplace(t,i){let o=Math.pow(10,t.length-(t.lastIndexOf(".")+1)),_=Number(t),A=parseFloat(t);return!isNaN(_)&&!isNaN(A)&&_===A?_===0&&!i?null:(_=Math.floor(_*o),_+=i?o:-o,String(_/o)):null}textReplace(t,i){return this.valueSetsReplace(this._defaultValueSet,t,i)}valueSetsReplace(t,i,o){let _=null;for(let A=0,K=t.length;_===null&&A<K;A++)_=this.valueSetReplace(t[A],i,o);return _}valueSetReplace(t,i,o){let _=t.indexOf(i);return _>=0?(_+=o?1:-1,_<0?_=t.length-1:_%=t.length,t[_]):null}}ro.INSTANCE=new ro;var Ys=c(84013),$s=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function J(Fe){try{Ee(o.next(Fe))}catch(Qe){K(Qe)}}function Ce(Fe){try{Ee(o.throw(Fe))}catch(Qe){K(Qe)}}function Ee(Fe){Fe.done?A(Fe.value):_(Fe.value).then(J,Ce)}Ee((o=o.apply(u,t||[])).next())})};class mo extends Xn{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(t){return this._lines[t-1]}getWordAtPosition(t,i){let o=(0,Rs.t2)(t.column,(0,Rs.eq)(i),this._lines[t.lineNumber-1],0);return o?new R.e(t.lineNumber,o.startColumn,t.lineNumber,o.endColumn):null}words(t){const i=this._lines,o=this._wordenize.bind(this);let _=0,A="",K=0,J=[];return{*[Symbol.iterator](){for(;;)if(K<J.length){const Ce=A.substring(J[K].start,J[K].end);K+=1,yield Ce}else if(_<i.length)A=i[_],J=o(A,t),K=0,_+=1;else break}}}getLineWords(t,i){let o=this._lines[t-1],_=this._wordenize(o,i),A=[];for(const K of _)A.push({word:o.substring(K.start,K.end),startColumn:K.start+1,endColumn:K.end+1});return A}_wordenize(t,i){const o=[];let _;for(i.lastIndex=0;(_=i.exec(t))&&_[0].length!==0;)o.push({start:_.index,end:_.index+_[0].length});return o}getValueInRange(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);let i=this._eol,o=t.startLineNumber-1,_=t.endLineNumber-1,A=[];A.push(this._lines[o].substring(t.startColumn-1));for(let K=o+1;K<_;K++)A.push(this._lines[K]);return A.push(this._lines[_].substring(0,t.endColumn-1)),A.join(i)}offsetAt(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getPrefixSum(t.lineNumber-2)+(t.column-1)}positionAt(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();let i=this._lineStarts.getIndexOf(t),o=this._lines[i.index].length;return{lineNumber:1+i.index,column:1+Math.min(i.remainder,o)}}_validateRange(t){const i=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),o=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return i.lineNumber!==t.startLineNumber||i.column!==t.startColumn||o.lineNumber!==t.endLineNumber||o.column!==t.endColumn?{startLineNumber:i.lineNumber,startColumn:i.column,endLineNumber:o.lineNumber,endColumn:o.column}:t}_validatePosition(t){if(!X.L.isIPosition(t))throw new Error("bad position");let{lineNumber:i,column:o}=t,_=!1;if(i<1)i=1,o=1,_=!0;else if(i>this._lines.length)i=this._lines.length,o=this._lines[i-1].length+1,_=!0;else{let A=this._lines[i-1].length+1;o<1?(o=1,_=!0):o>A&&(o=A,_=!0)}return _?{lineNumber:i,column:o}:t}}class Jn{constructor(t,i){this._host=t,this._models=Object.create(null),this._foreignModuleFactory=i,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(t){return this._models[t]}_getModels(){let t=[];return Object.keys(this._models).forEach(i=>t.push(this._models[i])),t}acceptNewModel(t){this._models[t.url]=new mo(y.o.parse(t.url),t.lines,t.EOL,t.versionId)}acceptModelChanged(t,i){if(!this._models[t])return;this._models[t].onEvents(i)}acceptRemovedModel(t){this._models[t]&&delete this._models[t]}computeDiff(t,i,o,_){return $s(this,void 0,void 0,function*(){const A=this._getModel(t),K=this._getModel(i);if(!A||!K)return null;const J=A.getLinesContent(),Ce=K.getLinesContent(),Fe=new pi(J,Ce,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:o,shouldMakePrettyDiff:!0,maxComputationTime:_}).computeDiff(),Qe=Fe.changes.length>0?!1:this._modelsAreIdentical(A,K);return{quitEarly:Fe.quitEarly,identical:Qe,changes:Fe.changes}})}_modelsAreIdentical(t,i){const o=t.getLineCount(),_=i.getLineCount();if(o!==_)return!1;for(let A=1;A<=o;A++){const K=t.getLineContent(A),J=i.getLineContent(A);if(K!==J)return!1}return!0}computeMoreMinimalEdits(t,i){return $s(this,void 0,void 0,function*(){const o=this._getModel(t);if(!o)return i;const _=[];let A;i=i.slice(0).sort((K,J)=>{if(K.range&&J.range)return R.e.compareRangesUsingStarts(K.range,J.range);let Ce=K.range?0:1,Ee=J.range?0:1;return Ce-Ee});for(let{range:K,text:J,eol:Ce}of i){if(typeof Ce=="number"&&(A=Ce),R.e.isEmpty(K)&&!J)continue;const Ee=o.getValueInRange(K);if(J=J.replace(/\r\n|\n|\r/g,o.eol),Ee===J)continue;if(Math.max(J.length,Ee.length)>Jn._diffLimit){_.push({range:K,text:J});continue}const Fe=(0,ri.a$)(Ee,J,!1),Qe=o.offsetAt(R.e.lift(K).getStartPosition());for(const Kt of Fe){const ki=o.positionAt(Qe+Kt.originalStart),Fi=o.positionAt(Qe+Kt.originalStart+Kt.originalLength),rn={text:J.substr(Kt.modifiedStart,Kt.modifiedLength),range:{startLineNumber:ki.lineNumber,startColumn:ki.column,endLineNumber:Fi.lineNumber,endColumn:Fi.column}};o.getValueInRange(rn.range)!==rn.text&&_.push(rn)}}return typeof A=="number"&&_.push({eol:A,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),_})}computeLinks(t){return $s(this,void 0,void 0,function*(){let i=this._getModel(t);return i?Xs(i):null})}textualSuggest(t,i,o,_){return $s(this,void 0,void 0,function*(){const A=new Ys.G(!0),K=new RegExp(o,_),J=new Set;e:for(let Ce of t){const Ee=this._getModel(Ce);if(Ee){for(let Fe of Ee.words(K))if(!(Fe===i||!isNaN(Number(Fe)))&&(J.add(Fe),J.size>Jn._suggestionsLimit))break e}}return{words:Array.from(J),duration:A.elapsed()}})}computeWordRanges(t,i,o,_){return $s(this,void 0,void 0,function*(){let A=this._getModel(t);if(!A)return Object.create(null);const K=new RegExp(o,_),J=Object.create(null);for(let Ce=i.startLineNumber;Ce<i.endLineNumber;Ce++){let Ee=A.getLineWords(Ce,K);for(const Fe of Ee){if(!isNaN(Number(Fe.word)))continue;let Qe=J[Fe.word];Qe||(Qe=[],J[Fe.word]=Qe),Qe.push({startLineNumber:Ce,startColumn:Fe.startColumn,endLineNumber:Ce,endColumn:Fe.endColumn})}}return J})}navigateValueSet(t,i,o,_,A){return $s(this,void 0,void 0,function*(){let K=this._getModel(t);if(!K)return null;let J=new RegExp(_,A);i.startColumn===i.endColumn&&(i={startLineNumber:i.startLineNumber,startColumn:i.startColumn,endLineNumber:i.endLineNumber,endColumn:i.endColumn+1});let Ce=K.getValueInRange(i),Ee=K.getWordAtPosition({lineNumber:i.startLineNumber,column:i.startColumn},J);if(!Ee)return null;let Fe=K.getValueInRange(Ee);return ro.INSTANCE.navigateValueSet(i,Ce,Ee,Fe,o)})}loadForeignModule(t,i,o){const _=(J,Ce)=>this._host.fhr(J,Ce);let K={host:Mn.IU(o,_),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(K,i),Promise.resolve(Mn.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(t,i){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,i))}catch(o){return Promise.reject(o)}}}Jn._diffLimit=1e5,Jn._suggestionsLimit=1e4;function po(u){return new Jn(u,null)}typeof importScripts=="function"&&(Zi.li.monaco=ht());var os=c(51200),jn=c(72065);const ao=(0,jn.yh)("textResourceConfigurationService"),es=(0,jn.yh)("textResourcePropertiesService");var eo=c(9488),xs=c(43557),io=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},mi=function(u,t){return function(i,o){t(i,o,u)}},ge=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function J(Fe){try{Ee(o.next(Fe))}catch(Qe){K(Qe)}}function Ce(Fe){try{Ee(o.throw(Fe))}catch(Qe){K(Qe)}}function Ee(Fe){Fe.done?A(Fe.value):_(Fe.value).then(J,Ce)}Ee((o=o.apply(u,t||[])).next())})};const ct=60*1e3,gt=5*60*1e3;function Wt(u,t){let i=u.getModel(t);return!(!i||i.isTooLargeForSyncing())}let ti=class extends ii.JT{constructor(t,i,o){super(),this._modelService=t,this._workerManager=this._register(new hi(this._modelService)),this._logService=o,this._register(ci.pM.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(_,A)=>Wt(this._modelService,_.uri)?this._workerManager.withWorker().then(K=>K.computeLinks(_.uri)).then(K=>K&&{links:K}):Promise.resolve({links:[]})})),this._register(ci.KZ.register("*",new Si(this._workerManager,i,this._modelService)))}dispose(){super.dispose()}computeDiff(t,i,o,_){return this._workerManager.withWorker().then(A=>A.computeDiff(t,i,o,_))}computeMoreMinimalEdits(t,i){if((0,eo.Of)(i)){if(!Wt(this._modelService,t))return Promise.resolve(i);const o=Ys.G.create(!0),_=this._workerManager.withWorker().then(A=>A.computeMoreMinimalEdits(t,i));return _.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",t.toString(!0),o.elapsed())),Promise.race([_,(0,Bn.Vs)(1e3).then(()=>i)])}else return Promise.resolve(void 0)}canNavigateValueSet(t){return Wt(this._modelService,t)}navigateValueSet(t,i,o){return this._workerManager.withWorker().then(_=>_.navigateValueSet(t,i,o))}canComputeWordRanges(t){return Wt(this._modelService,t)}computeWordRanges(t,i){return this._workerManager.withWorker().then(o=>o.computeWordRanges(t,i))}};ti=io([mi(0,os.q),mi(1,ao),mi(2,xs.VZ)],ti);class Si{constructor(t,i,o){this._debugDisplayName="wordbasedCompletions",this._workerManager=t,this._configurationService=i,this._modelService=o}provideCompletionItems(t,i){return ge(this,void 0,void 0,function*(){const o=this._configurationService.getValue(t.uri,i,"editor");if(!o.wordBasedSuggestions)return;const _=[];if(o.wordBasedSuggestionsMode==="currentDocument")Wt(this._modelService,t.uri)&&_.push(t.uri);else for(const Qe of this._modelService.getModels())Wt(this._modelService,Qe.uri)&&(Qe===t?_.unshift(Qe.uri):(o.wordBasedSuggestionsMode==="allDocuments"||Qe.getLanguageId()===t.getLanguageId())&&_.push(Qe.uri));if(_.length===0)return;const A=ut.zu.getWordDefinition(t.getLanguageId()),K=t.getWordAtPosition(i),J=K?new R.e(i.lineNumber,K.startColumn,i.lineNumber,K.endColumn):R.e.fromPositions(i),Ce=J.setEndPosition(i.lineNumber,i.column),Fe=yield(yield this._workerManager.withWorker()).textualSuggest(_,K==null?void 0:K.word,A);if(Fe)return{duration:Fe.duration,suggestions:Fe.words.map(Qe=>({kind:18,label:Qe,insertText:Qe,range:{insert:Ce,replace:J}}))}})}}class hi extends ii.JT{constructor(t){super(),this._modelService=t,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new Bn.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(gt/2)),this._register(this._modelService.onModelRemoved(o=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>gt&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Pn(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class Yt extends ii.JT{constructor(t,i,o){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=t,this._modelService=i,!o){let _=new Bn.zh;_.cancelAndSet(()=>this._checkStopModelSync(),Math.round(ct/2)),this._register(_)}}dispose(){for(let t in this._syncedModels)(0,ii.B9)(this._syncedModels[t]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(t,i){for(const o of t){let _=o.toString();this._syncedModels[_]||this._beginModelSync(o,i),this._syncedModels[_]&&(this._syncedModelsLastUsedTime[_]=new Date().getTime())}}_checkStopModelSync(){let t=new Date().getTime(),i=[];for(let o in this._syncedModelsLastUsedTime)t-this._syncedModelsLastUsedTime[o]>ct&&i.push(o);for(const o of i)this._stopModelSync(o)}_beginModelSync(t,i){let o=this._modelService.getModel(t);if(!o||!i&&o.isTooLargeForSyncing())return;let _=t.toString();this._proxy.acceptNewModel({url:o.uri.toString(),lines:o.getLinesContent(),EOL:o.getEOL(),versionId:o.getVersionId()});const A=new ii.SL;A.add(o.onDidChangeContent(K=>{this._proxy.acceptModelChanged(_.toString(),K)})),A.add(o.onWillDispose(()=>{this._stopModelSync(_)})),A.add((0,ii.OF)(()=>{this._proxy.acceptRemovedModel(_)})),this._syncedModels[_]=A}_stopModelSync(t){let i=this._syncedModels[t];delete this._syncedModels[t],delete this._syncedModelsLastUsedTime[t],(0,ii.B9)(i)}}class Vi{constructor(t){this._instance=t,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class Li{constructor(t){this._workerClient=t}fhr(t,i){return this._workerClient.fhr(t,i)}}class Pn extends ii.JT{constructor(t,i,o){super(),this._disposed=!1,this._modelService=t,this._keepIdleModels=i,this._workerFactory=new mt(o),this._worker=null,this._modelManager=null}fhr(t,i){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new yi(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Li(this)))}catch(t){It(t),this._worker=new Vi(new Jn(new Li(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,t=>(It(t),this._worker=new Vi(new Jn(new Li(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(t){return this._modelManager||(this._modelManager=this._register(new Yt(t,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(t,i=!1){return ge(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,On.F0)()):this._getProxy().then(o=>(this._getOrCreateModelManager(o).ensureSyncedResources(t,i),o))})}computeDiff(t,i,o,_){return this._withSyncedResources([t,i],!0).then(A=>A.computeDiff(t.toString(),i.toString(),o,_))}computeMoreMinimalEdits(t,i){return this._withSyncedResources([t]).then(o=>o.computeMoreMinimalEdits(t.toString(),i))}computeLinks(t){return this._withSyncedResources([t]).then(i=>i.computeLinks(t.toString()))}textualSuggest(t,i,o){return ge(this,void 0,void 0,function*(){const _=yield this._withSyncedResources(t),A=o.source,K=(0,an.mr)(o);return _.textualSuggest(t.map(J=>J.toString()),i,A,K)})}computeWordRanges(t,i){return this._withSyncedResources([t]).then(o=>{let _=this._modelService.getModel(t);if(!_)return Promise.resolve(null);let A=ut.zu.getWordDefinition(_.getLanguageId()),K=A.source,J=(0,an.mr)(A);return o.computeWordRanges(t.toString(),i,K,J)})}navigateValueSet(t,i,o){return this._withSyncedResources([t]).then(_=>{let A=this._modelService.getModel(t);if(!A)return null;let K=ut.zu.getWordDefinition(A.getLanguageId()),J=K.source,Ce=(0,an.mr)(K);return _.navigateValueSet(t.toString(),i,o,J,Ce)})}dispose(){super.dispose(),this._disposed=!0}}function Nt(u,t){return new W(u,t)}class W extends Pn{constructor(t,i){super(t,i.keepIdleModels||!1,i.label),this._foreignModuleId=i.moduleId,this._foreignModuleCreateData=i.createData||null,this._foreignModuleHost=i.host||null,this._foreignProxy=null}fhr(t,i){if(!this._foreignModuleHost||typeof this._foreignModuleHost[t]!="function")return Promise.reject(new Error("Missing method "+t+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[t].apply(this._foreignModuleHost,i))}catch(o){return Promise.reject(o)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(t=>{const i=this._foreignModuleHost?Mn.$E(this._foreignModuleHost):[];return t.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,i).then(o=>{this._foreignModuleCreateData=null;const _=(J,Ce)=>t.fmr(J,Ce),A=(J,Ce)=>function(){const Ee=Array.prototype.slice.call(arguments,0);return Ce(J,Ee)};let K={};for(const J of o)K[J]=A(J,_);return K})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(t){return this._withSyncedResources(t).then(i=>this.getProxy())}}var re=c(78411),Te=c(77736),Ye=c(13824);function bt(u){return Array.isArray(u)}function $t(u){return!bt(u)}function si(u){return typeof u=="string"}function gi(u){return!si(u)}function Oi(u){return!u}function xi(u,t){return u.ignoreCase&&t?t.toLowerCase():t}function Hi(u){return u.replace(/[&<>'"_]/g,"-")}function cn(u,t){console.log(`${u.languageId}: ${t}`)}function Ii(u,t){return new Error(`${u.languageId}: ${t}`)}function ln(u,t,i,o,_){const A=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let K=null;return t.replace(A,function(J,Ce,Ee,Fe,Qe,Kt,ki,Fi,rn){return Oi(Ee)?Oi(Fe)?!Oi(Qe)&&Qe<o.length?xi(u,o[Qe]):!Oi(ki)&&u&&typeof u[ki]=="string"?u[ki]:(K===null&&(K=_.split("."),K.unshift(_)),!Oi(Kt)&&Kt<K.length?xi(u,K[Kt]):""):xi(u,i):"$"})}function nn(u,t){let i=t;for(;i&&i.length>0;){const o=u.tokenizer[i];if(o)return o;const _=i.lastIndexOf(".");_<0?i=null:i=i.substr(0,_)}return null}function wn(u,t){let i=t;for(;i&&i.length>0;){if(u.stateNames[i])return!0;const _=i.lastIndexOf(".");_<0?i=null:i=i.substr(0,_)}return!1}const Gn=5;class Ts{constructor(t){this._maxCacheDepth=t,this._entries=Object.create(null)}static create(t,i){return this._INSTANCE.create(t,i)}create(t,i){if(t!==null&&t.depth>=this._maxCacheDepth)return new Ln(t,i);let o=Ln.getStackElementId(t);o.length>0&&(o+="|"),o+=i;let _=this._entries[o];return _||(_=new Ln(t,i),this._entries[o]=_,_)}}Ts._INSTANCE=new Ts(Gn);class Ln{constructor(t,i){this.parent=t,this.state=i,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(t){let i="";for(;t!==null;)i.length>0&&(i+="|"),i+=t.state,t=t.parent;return i}static _equals(t,i){for(;t!==null&&i!==null;){if(t===i)return!0;if(t.state!==i.state)return!1;t=t.parent,i=i.parent}return t===null&&i===null}equals(t){return Ln._equals(this,t)}push(t){return Ts.create(this,t)}pop(){return this.parent}popall(){let t=this;for(;t.parent;)t=t.parent;return t}switchTo(t){return Ts.create(this.parent,t)}}class jt{constructor(t,i){this.languageId=t,this.state=i}equals(t){return this.languageId===t.languageId&&this.state.equals(t.state)}clone(){return this.state.clone()===this.state?this:new jt(this.languageId,this.state)}}class _e{constructor(t){this._maxCacheDepth=t,this._entries=Object.create(null)}static create(t,i){return this._INSTANCE.create(t,i)}create(t,i){if(i!==null)return new Me(t,i);if(t!==null&&t.depth>=this._maxCacheDepth)return new Me(t,i);let o=Ln.getStackElementId(t),_=this._entries[o];return _||(_=new Me(t,null),this._entries[o]=_,_)}}_e._INSTANCE=new _e(Gn);class Me{constructor(t,i){this.stack=t,this.embeddedModeData=i}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:_e.create(this.stack,this.embeddedModeData)}equals(t){return!(t instanceof Me)||!this.stack.equals(t.stack)?!1:this.embeddedModeData===null&&t.embeddedModeData===null?!0:this.embeddedModeData===null||t.embeddedModeData===null?!1:this.embeddedModeData.equals(t.embeddedModeData)}}class ze{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(t,i){this._languageId=i}emit(t,i){this._lastTokenType===i&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=i,this._lastTokenLanguage=this._languageId,this._tokens.push(new s.WU(t,i,this._languageId)))}nestedModeTokenize(t,i,o,_){const A=o.languageId,K=o.state,J=ci.RW.get(A);if(!J)return this.enterMode(_,A),this.emit(_,""),K;let Ce=J.tokenize(t,i,K,_);return this._tokens=this._tokens.concat(Ce.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,Ce.endState}finalize(t){return new s.hG(this._tokens,t)}}class vt{constructor(t,i){this._modeService=t,this._theme=i,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(t,i){this._currentLanguageId=this._modeService.languageIdCodec.encodeLanguageId(i)}emit(t,i){let o=this._theme.match(this._currentLanguageId,i);this._lastTokenMetadata!==o&&(this._lastTokenMetadata=o,this._tokens.push(t),this._tokens.push(o))}static _merge(t,i,o){let _=t!==null?t.length:0,A=i.length,K=o!==null?o.length:0;if(_===0&&A===0&&K===0)return new Uint32Array(0);if(_===0&&A===0)return o;if(A===0&&K===0)return t;let J=new Uint32Array(_+A+K);t!==null&&J.set(t);for(let Ce=0;Ce<A;Ce++)J[_+Ce]=i[Ce];return o!==null&&J.set(o,_+A),J}nestedModeTokenize(t,i,o,_){const A=o.languageId,K=o.state,J=ci.RW.get(A);if(!J)return this.enterMode(_,A),this.emit(_,""),K;let Ce=J.tokenize2(t,i,K,_);return this._prependTokens=vt._merge(this._prependTokens,this._tokens,Ce.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,Ce.endState}finalize(t){return new s.Hi(vt._merge(this._prependTokens,this._tokens,null),t)}}class yt{constructor(t,i,o,_){this._modeService=t,this._standaloneThemeService=i,this._languageId=o,this._lexer=_,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let A=!1;this._tokenizationRegistryListener=ci.RW.onDidChange(K=>{if(A)return;let J=!1;for(let Ce=0,Ee=K.changedLanguages.length;Ce<Ee;Ce++){let Fe=K.changedLanguages[Ce];if(this._embeddedModes[Fe]){J=!0;break}}J&&(A=!0,ci.RW.fire([this._languageId]),A=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let t=[];for(let i in this._embeddedModes){const o=ci.RW.get(i);if(o){if(o instanceof yt){const A=o.getLoadStatus();A.loaded===!1&&t.push(A.promise)}continue}const _=ci.RW.getPromise(i);_&&t.push(_)}return t.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(t).then(i=>{})}}getInitialState(){let t=Ts.create(null,this._lexer.start);return _e.create(t,null)}tokenize(t,i,o,_){let A=new ze,K=this._tokenize(t,i,o,_,A);return A.finalize(K)}tokenize2(t,i,o,_){let A=new vt(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),K=this._tokenize(t,i,o,_,A);return A.finalize(K)}_tokenize(t,i,o,_,A){return o.embeddedModeData?this._nestedTokenize(t,i,o,_,A):this._myTokenize(t,i,o,_,A)}_findLeavingNestedModeOffset(t,i){let o=this._lexer.tokenizer[i.stack.state];if(!o&&(o=nn(this._lexer,i.stack.state),!o))throw Ii(this._lexer,"tokenizer state is not defined: "+i.stack.state);let _=-1,A=!1;for(const K of o){if(!gi(K.action)||K.action.nextEmbedded!=="@pop")continue;A=!0;let J=K.regex,Ce=K.regex.source;if(Ce.substr(0,4)==="^(?:"&&Ce.substr(Ce.length-1,1)===")"){let Fe=(J.ignoreCase?"i":"")+(J.unicode?"u":"");J=new RegExp(Ce.substr(4,Ce.length-5),Fe)}let Ee=t.search(J);Ee===-1||Ee!==0&&K.matchOnlyAtLineStart||(_===-1||Ee<_)&&(_=Ee)}if(!A)throw Ii(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+i.stack.state);return _}_nestedTokenize(t,i,o,_,A){let K=this._findLeavingNestedModeOffset(t,o);if(K===-1){let Ee=A.nestedModeTokenize(t,i,o.embeddedModeData,_);return _e.create(o.stack,new jt(o.embeddedModeData.languageId,Ee))}let J=t.substring(0,K);J.length>0&&A.nestedModeTokenize(J,!1,o.embeddedModeData,_);let Ce=t.substring(K);return this._myTokenize(Ce,i,o,_+K,A)}_safeRuleName(t){return t?t.name:"(unknown)"}_myTokenize(t,i,o,_,A){A.enterMode(_,this._languageId);const K=t.length,J=i&&this._lexer.includeLF?t+`
`:t,Ce=J.length;let Ee=o.embeddedModeData,Fe=o.stack,Qe=0,Kt=null,ki=!0;for(;ki||Qe<Ce;){const Fi=Qe,rn=Fe.depth,In=Kt?Kt.groups.length:0,$n=Fe.state;let Yn=null,xn=null,Rn=null,Zs=null,Ds=null;if(Kt){Yn=Kt.matches;const as=Kt.groups.shift();xn=as.matched,Rn=as.action,Zs=Kt.rule,Kt.groups.length===0&&(Kt=null)}else{if(!ki&&Qe>=Ce)break;ki=!1;let as=this._lexer.tokenizer[$n];if(!as&&(as=nn(this._lexer,$n),!as))throw Ii(this._lexer,"tokenizer state is not defined: "+$n);let Kn=J.substr(Qe);for(const zs of as)if((Qe===0||!zs.matchOnlyAtLineStart)&&(Yn=Kn.match(zs.regex),Yn)){xn=Yn[0],Rn=zs.action;break}}if(Yn||(Yn=[""],xn=""),Rn||(Qe<Ce&&(Yn=[J.charAt(Qe)],xn=Yn[0]),Rn=this._lexer.defaultToken),xn===null)break;for(Qe+=xn.length;$t(Rn)&&gi(Rn)&&Rn.test;)Rn=Rn.test(xn,Yn,$n,Qe===Ce);let Fn=null;if(typeof Rn=="string"||Array.isArray(Rn))Fn=Rn;else if(Rn.group)Fn=Rn.group;else if(Rn.token!==null&&Rn.token!==void 0){if(Rn.tokenSubst?Fn=ln(this._lexer,Rn.token,xn,Yn,$n):Fn=Rn.token,Rn.nextEmbedded)if(Rn.nextEmbedded==="@pop"){if(!Ee)throw Ii(this._lexer,"cannot pop embedded mode if not inside one");Ee=null}else{if(Ee)throw Ii(this._lexer,"cannot enter embedded mode from within an embedded mode");Ds=ln(this._lexer,Rn.nextEmbedded,xn,Yn,$n)}if(Rn.goBack&&(Qe=Math.max(0,Qe-Rn.goBack)),Rn.switchTo&&typeof Rn.switchTo=="string"){let as=ln(this._lexer,Rn.switchTo,xn,Yn,$n);if(as[0]==="@"&&(as=as.substr(1)),nn(this._lexer,as))Fe=Fe.switchTo(as);else throw Ii(this._lexer,"trying to switch to a state '"+as+"' that is undefined in rule: "+this._safeRuleName(Zs))}else{if(Rn.transform&&typeof Rn.transform=="function")throw Ii(this._lexer,"action.transform not supported");if(Rn.next)if(Rn.next==="@push"){if(Fe.depth>=this._lexer.maxStack)throw Ii(this._lexer,"maximum tokenizer stack size reached: ["+Fe.state+","+Fe.parent.state+",...]");Fe=Fe.push($n)}else if(Rn.next==="@pop"){if(Fe.depth<=1)throw Ii(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Zs));Fe=Fe.pop()}else if(Rn.next==="@popall")Fe=Fe.popall();else{let as=ln(this._lexer,Rn.next,xn,Yn,$n);if(as[0]==="@"&&(as=as.substr(1)),nn(this._lexer,as))Fe=Fe.push(as);else throw Ii(this._lexer,"trying to set a next state '"+as+"' that is undefined in rule: "+this._safeRuleName(Zs))}}Rn.log&&typeof Rn.log=="string"&&cn(this._lexer,this._lexer.languageId+": "+ln(this._lexer,Rn.log,xn,Yn,$n))}if(Fn===null)throw Ii(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Zs));const Nn=as=>{let Kn=this._modeService.getModeIdForLanguageName(as);Kn&&(as=Kn);const zs=this._getNestedEmbeddedModeData(as);if(Qe<Ce){const wo=t.substr(Qe);return this._nestedTokenize(wo,i,_e.create(Fe,zs),_+Qe,A)}else return _e.create(Fe,zs)};if(Array.isArray(Fn)){if(Kt&&Kt.groups.length>0)throw Ii(this._lexer,"groups cannot be nested: "+this._safeRuleName(Zs));if(Yn.length!==Fn.length+1)throw Ii(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Zs));let as=0;for(let Kn=1;Kn<Yn.length;Kn++)as+=Yn[Kn].length;if(as!==xn.length)throw Ii(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Zs));Kt={rule:Zs,matches:Yn,groups:[]};for(let Kn=0;Kn<Fn.length;Kn++)Kt.groups[Kn]={action:Fn[Kn],matched:Yn[Kn+1]};Qe-=xn.length;continue}else{if(Fn==="@rematch"&&(Qe-=xn.length,xn="",Yn=null,Fn="",Ds!==null))return Nn(Ds);if(xn.length===0){if(Ce===0||rn!==Fe.depth||$n!==Fe.state||(Kt?Kt.groups.length:0)!==In)continue;throw Ii(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Zs))}let as=null;if(si(Fn)&&Fn.indexOf("@brackets")===0){let Kn=Fn.substr(9),zs=oi(this._lexer,xn);if(!zs)throw Ii(this._lexer,"@brackets token returned but no bracket defined as: "+xn);as=Hi(zs.token+Kn)}else{let Kn=Fn===""?"":Fn+this._lexer.tokenPostfix;as=Hi(Kn)}Fi<K&&A.emit(Fi+_,as)}if(Ds!==null)return Nn(Ds)}return _e.create(Fe,Ee)}_getNestedEmbeddedModeData(t){let i=this._locateMode(t);if(i){let o=ci.RW.get(i);if(o)return new jt(i,o.getInitialState())}return new jt(i||zi.TG,zi.nO)}_locateMode(t){if(!t||!this._modeService.isRegisteredMode(t))return null;if(t===this._languageId)return t;const i=this._modeService.getModeId(t);return i&&(this._modeService.triggerMode(i),this._embeddedModes[i]=!0),i}}function oi(u,t){if(!t)return null;t=xi(u,t);let i=u.brackets;for(const o of i){if(o.open===t)return{token:o.token,bracketType:1};if(o.close===t)return{token:o.token,bracketType:-1}}return null}function qt(u,t,i,o){return new yt(u,t,i,o)}var fn;const Tn=(fn=window.trustedTypes)===null||fn===void 0?void 0:fn.createPolicy("standaloneColorizer",{createHTML:u=>u});class Bi{static colorizeElement(t,i,o,_){_=_||{};let A=_.theme||"vs",K=_.mimeType||o.getAttribute("lang")||o.getAttribute("data-lang");if(!K)return console.error("Mode not detected"),Promise.resolve();t.setTheme(A);let J=o.firstChild?o.firstChild.nodeValue:"";o.className+=" "+A;let Ce=Ee=>{var Fe;const Qe=(Fe=Tn==null?void 0:Tn.createHTML(Ee))!==null&&Fe!==void 0?Fe:Ee;o.innerHTML=Qe};return this.colorize(i,J||"",K,_).then(Ce,Ee=>console.error(Ee))}static colorize(t,i,o,_){const A=t.languageIdCodec;let K=4;_&&typeof _.tabSize=="number"&&(K=_.tabSize),an.uS(i)&&(i=i.substr(1));let J=an.uq(i),Ce=t.getModeId(o);if(!Ce)return Promise.resolve(yn(J,K,A));t.triggerMode(Ce);const Ee=ci.RW.get(Ce);if(Ee)return dn(J,K,Ee,A);const Fe=ci.RW.getPromise(Ce);return Fe?new Promise((Qe,Kt)=>{Fe.then(ki=>{dn(J,K,ki,A).then(Qe,Kt)},Kt)}):new Promise((Qe,Kt)=>{let ki=null,Fi=null;const rn=()=>{ki&&(ki.dispose(),ki=null),Fi&&(Fi.dispose(),Fi=null);const In=ci.RW.get(Ce);if(In){dn(J,K,In,A).then(Qe,Kt);return}Qe(yn(J,K,A))};Fi=new Bn._F,Fi.cancelAndSet(rn,500),ki=ci.RW.onDidChange(In=>{In.changedLanguages.indexOf(Ce)>=0&&rn()})})}static colorizeLine(t,i,o,_,A=4){const K=Ye.wA.isBasicASCII(t,i),J=Ye.wA.containsRTL(t,K,o);return(0,Te.tF)(new Te.IJ(!1,!0,t,!1,K,J,0,_,[],A,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(t,i,o=4){let _=t.getLineContent(i);t.forceTokenization(i);let K=t.getLineTokens(i).inflate();return this.colorizeLine(_,t.mightContainNonBasicASCII(),t.mightContainRTL(),K,o)}}function dn(u,t,i,o){return new Promise((_,A)=>{const K=()=>{const J=tn(u,t,i,o);if(i instanceof yt){const Ce=i.getLoadStatus();if(Ce.loaded===!1){Ce.promise.then(K,A);return}}_(J)};K()})}function yn(u,t,i){let o=[];const A=new Uint32Array(2);A[0]=0,A[1]=16793600;for(let K=0,J=u.length;K<J;K++){let Ce=u[K];A[0]=Ce.length;const Ee=new re.A(A,Ce,i),Fe=Ye.wA.isBasicASCII(Ce,!0),Qe=Ye.wA.containsRTL(Ce,Fe,!0);let Kt=(0,Te.tF)(new Te.IJ(!1,!0,Ce,!1,Fe,Qe,0,Ee,[],t,0,0,0,0,-1,"none",!1,!1,null));o=o.concat(Kt.html),o.push("<br/>")}return o.join("")}function tn(u,t,i,o){let _=[],A=i.getInitialState();for(let K=0,J=u.length;K<J;K++){let Ce=u[K],Ee=i.tokenize2(Ce,!0,A,0);re.A.convertToEndOffset(Ee.tokens,Ce.length);let Fe=new re.A(Ee.tokens,Ce,o);const Qe=Ye.wA.isBasicASCII(Ce,!0),Kt=Ye.wA.containsRTL(Ce,Qe,!0);let ki=(0,Te.tF)(new Te.IJ(!1,!0,Ce,!1,Qe,Kt,0,Fe.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));_=_.concat(ki.html),_.push("<br/>"),A=Ee.endState}return _.join("")}var Zt=c(59069),vi=c(8313),Xi=c(14603),ts=c(65520),us=c(66007),Ls=c(56345),Be=c(69386),d=c(33108),M=c(23193);class U{constructor(t={},i=[],o=[]){this._contents=t,this._keys=i,this._overrides=o,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(t){return t?(0,d.Mt)(this.contents,t):this.contents}override(t){let i=this.overrideConfigurations.get(t);return i||(i=this.createOverrideConfigurationModel(t),this.overrideConfigurations.set(t,i)),i}merge(...t){const i=Ot.I8(this.contents),o=Ot.I8(this.overrides),_=[...this.keys];for(const A of t){this.mergeContents(i,A.contents);for(const K of A.overrides){const[J]=o.filter(Ce=>eo.fS(Ce.identifiers,K.identifiers));J?this.mergeContents(J.contents,K.contents):o.push(Ot.I8(K))}for(const K of A.keys)_.indexOf(K)===-1&&_.push(K)}return new U(i,_,o)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(t){const i=this.getContentsForOverrideIdentifer(t);if(!i||typeof i!="object"||!Object.keys(i).length)return this;let o={};for(const _ of eo.EB([...Object.keys(this.contents),...Object.keys(i)])){let A=this.contents[_],K=i[_];K&&(typeof A=="object"&&typeof K=="object"?(A=Ot.I8(A),this.mergeContents(A,K)):A=K),o[_]=A}return new U(o,this.keys,this.overrides)}mergeContents(t,i){for(const o of Object.keys(i)){if(o in t&&Mn.Kn(t[o])&&Mn.Kn(i[o])){this.mergeContents(t[o],i[o]);continue}t[o]=Ot.I8(i[o])}}checkAndFreeze(t){return this.isFrozen&&!Object.isFrozen(t)?Ot._A(t):t}getContentsForOverrideIdentifer(t){for(const i of this.overrides)if(i.identifiers.indexOf(t)!==-1)return i.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(t,i){this.addKey(t),(0,d.KV)(this.contents,t,i,o=>{throw new Error(o)})}removeValue(t){this.removeKey(t)&&(0,d.xL)(this.contents,t)}addKey(t){let i=this.keys.length;for(let o=0;o<i;o++)t.indexOf(this.keys[o])===0&&(i=o);this.keys.splice(i,1,t)}removeKey(t){let i=this.keys.indexOf(t);return i!==-1?(this.keys.splice(i,1),!0):!1}}class oe extends U{constructor(){const t=(0,d.O4)(),i=(0,d.MR)(),o=[];for(const _ of Object.keys(t))M.G1.test(_)&&o.push({identifiers:[(0,M.Uh)(_).trim()],keys:Object.keys(t[_]),contents:(0,d.Od)(t[_],A=>console.error(`Conflict in default settings file: ${A}`))});super(t,i,o)}}class he{constructor(t,i,o=new U,_=new U,A=new ke.Y9,K=new U,J=new ke.Y9,Ce=!0){this._defaultConfiguration=t,this._localUserConfiguration=i,this._remoteUserConfiguration=o,this._workspaceConfiguration=_,this._folderConfigurations=A,this._memoryConfiguration=K,this._memoryConfigurationByResource=J,this._freeze=Ce,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new ke.Y9,this._userConfiguration=null}getValue(t,i,o){return this.getConsolidateConfigurationModel(i,o).getValue(t)}updateValue(t,i,o={}){let _;o.resource?(_=this._memoryConfigurationByResource.get(o.resource),_||(_=new U,this._memoryConfigurationByResource.set(o.resource,_))):_=this._memoryConfiguration,i===void 0?_.removeValue(t):_.setValue(t,i),o.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(t,i){let o=this.getConsolidatedConfigurationModelForResource(t,i);return t.overrideIdentifier?o.override(t.overrideIdentifier):o}getConsolidatedConfigurationModelForResource({resource:t},i){let o=this.getWorkspaceConsolidatedConfiguration();if(i&&t){const _=i.getFolder(t);_&&(o=this.getFolderConsolidatedConfiguration(_.uri)||o);const A=this._memoryConfigurationByResource.get(t);A&&(o=o.merge(A))}return o}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(t){let i=this._foldersConsolidatedConfigurations.get(t);if(!i){const o=this.getWorkspaceConsolidatedConfiguration(),_=this._folderConfigurations.get(t);_?(i=o.merge(_),this._freeze&&(i=i.freeze()),this._foldersConsolidatedConfigurations.set(t,i)):i=o}return i}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((t,i)=>{const{contents:o,overrides:_,keys:A}=this._folderConfigurations.get(i);return t.push([i,{contents:o,overrides:_,keys:A}]),t},[])}}static parse(t){const i=this.parseConfigurationModel(t.defaults),o=this.parseConfigurationModel(t.user),_=this.parseConfigurationModel(t.workspace),A=t.folders.reduce((K,J)=>(K.set(y.o.revive(J[0]),this.parseConfigurationModel(J[1])),K),new ke.Y9);return new he(i,o,new U,_,A,new U,new ke.Y9,!1)}static parseConfigurationModel(t){return new U(t.contents,t.keys,t.overrides).freeze()}}class Le{constructor(t,i,o,_){this.change=t,this.previous=i,this.currentConfiguraiton=o,this.currentWorkspace=_,this._previousConfiguration=void 0;const A=new Set;t.keys.forEach(J=>A.add(J)),t.overrides.forEach(([,J])=>J.forEach(Ce=>A.add(Ce))),this.affectedKeys=[...A.values()];const K=new U;this.affectedKeys.forEach(J=>K.setValue(J,{})),this.affectedKeysTree=K.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=he.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(t,i){var o;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,t)){if(i){const _=this.previousConfiguration?this.previousConfiguration.getValue(t,i,(o=this.previous)===null||o===void 0?void 0:o.workspace):void 0,A=this.currentConfiguraiton.getValue(t,i,this.currentWorkspace);return!Ot.fS(_,A)}return!0}return!1}doesAffectedKeysTreeContains(t,i){let o=(0,d.Od)({[i]:!0},()=>{}),_;for(;typeof o=="object"&&(_=Object.keys(o)[0]);){if(t=t[_],!t)return!1;o=o[_]}return!0}}var We=c(63580);const lt=/^(cursor|delete)/;class Pt extends ii.JT{constructor(t,i,o,_,A){super(),this._contextKeyService=t,this._commandService=i,this._telemetryService=o,this._notificationService=_,this._logService=A,this._onDidUpdateKeybindings=this._register(new Q.Q5),this._currentChord=null,this._currentChordChecker=new Bn.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=St.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Bn._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Q.ju.None}dispose(){super.dispose()}_log(t){this._logging&&this._logService.info(`[KeybindingService]: ${t}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(t,i){const o=this._getResolver().lookupPrimaryKeybinding(t,i||this._contextKeyService);if(o)return o.resolvedKeybinding}dispatchEvent(t,i){return this._dispatch(t,i)}softDispatch(t,i){const o=this.resolveKeyboardEvent(t);if(o.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[_]=o.getDispatchParts();if(_===null)return null;const A=this._contextKeyService.getContext(i),K=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(A,K,_)}_enterChordMode(t,i){this._currentChord={keypress:t,label:i},this._currentChordStatusMessage=this._notificationService.status(We.N("first.chord","({0}) was pressed. Waiting for second key of chord...",i));const o=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-o>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(t,i){return this._doDispatch(this.resolveKeyboardEvent(t),i,!1)}_singleModifierDispatch(t,i){const o=this.resolveKeyboardEvent(t),[_]=o.getSingleModifierDispatchParts();if(_)return this._ignoreSingleModifiers.has(_)?(this._log(`+ Ignoring single modifier ${_} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=St.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=St.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${_}.`),this._currentSingleModifier=_,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):_===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${_} ${_}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(o,i,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${_}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[A]=o.getParts();return this._ignoreSingleModifiers=new St(A),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(t,i,o=!1){let _=!1;if(t.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let A=null,K=null;if(o){const[Fe]=t.getSingleModifierDispatchParts();A=Fe,K=Fe}else[A]=t.getDispatchParts(),K=this._currentChord?this._currentChord.keypress:null;if(A===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),_;const J=this._contextKeyService.getContext(i),Ce=t.getLabel(),Ee=this._getResolver().resolve(J,K,A);return this._logService.trace("KeybindingService#dispatch",Ce,Ee==null?void 0:Ee.commandId),Ee&&Ee.enterChord?(_=!0,this._enterChordMode(A,Ce),_):(this._currentChord&&(!Ee||!Ee.commandId)&&(this._notificationService.status(We.N("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,Ce),{hideAfter:10*1e3}),_=!0),this._leaveChordMode(),Ee&&Ee.commandId&&(Ee.bubble||(_=!0),typeof Ee.commandArgs=="undefined"?this._commandService.executeCommand(Ee.commandId).then(void 0,Fe=>this._notificationService.warn(Fe)):this._commandService.executeCommand(Ee.commandId,Ee.commandArgs).then(void 0,Fe=>this._notificationService.warn(Fe)),lt.test(Ee.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:Ee.commandId,from:"keybinding"})),_)}mightProducePrintableCharacter(t){return t.ctrlKey||t.metaKey?!1:t.keyCode>=31&&t.keyCode<=56||t.keyCode>=21&&t.keyCode<=30}}class St{constructor(t){this._ctrlKey=t?t.ctrlKey:!1,this._shiftKey=t?t.shiftKey:!1,this._altKey=t?t.altKey:!1,this._metaKey=t?t.metaKey:!1}has(t){switch(t){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}St.EMPTY=new St(null);var Rt=c(38819);class Gt{constructor(t,i,o){this._log=o,this._defaultKeybindings=t,this._defaultBoundCommands=new Map;for(let _=0,A=t.length;_<A;_++){const K=t[_].command;K&&this._defaultBoundCommands.set(K,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=Gt.combine(t,i);for(let _=0,A=this._keybindings.length;_<A;_++){let K=this._keybindings[_];K.keypressParts.length!==0&&(K.when&&K.when.type===0||this._addKeyPress(K.keypressParts[0],K))}}static _isTargetedForRemoval(t,i,o,_,A){return!(t.command!==_||i&&t.keypressParts[0]!==i||o&&t.keypressParts[1]!==o||A&&(!t.when||!(0,Rt.Fb)(A,t.when)))}static combine(t,i){t=t.slice(0);let o=[];for(const _ of i){if(!_.command||_.command.length===0||_.command.charAt(0)!=="-"){o.push(_);continue}const A=_.command.substr(1),K=_.keypressParts[0],J=_.keypressParts[1],Ce=_.when;for(let Ee=t.length-1;Ee>=0;Ee--)this._isTargetedForRemoval(t[Ee],K,J,A,Ce)&&t.splice(Ee,1)}return t.concat(o)}_addKeyPress(t,i){const o=this._map.get(t);if(typeof o=="undefined"){this._map.set(t,[i]),this._addToLookupMap(i);return}for(let _=o.length-1;_>=0;_--){let A=o[_];if(A.command===i.command)continue;const K=A.keypressParts.length>1,J=i.keypressParts.length>1;K&&J&&A.keypressParts[1]!==i.keypressParts[1]||Gt.whenIsEntirelyIncluded(A.when,i.when)&&this._removeFromLookupMap(A)}o.push(i),this._addToLookupMap(i)}_addToLookupMap(t){if(!t.command)return;let i=this._lookupMap.get(t.command);typeof i=="undefined"?(i=[t],this._lookupMap.set(t.command,i)):i.push(t)}_removeFromLookupMap(t){if(!t.command)return;let i=this._lookupMap.get(t.command);if(typeof i!="undefined"){for(let o=0,_=i.length;o<_;o++)if(i[o]===t){i.splice(o,1);return}}}static whenIsEntirelyIncluded(t,i){return!i||i.type===1?!0:!t||t.type===1?!1:(0,Rt.K8)(t,i)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(t,i){const o=this._lookupMap.get(t);if(typeof o=="undefined"||o.length===0)return null;if(o.length===1)return o[0];for(let _=o.length-1;_>=0;_--){const A=o[_];if(i.contextMatchesRules(A.when))return A}return o[o.length-1]}resolve(t,i,o){this._log(`| Resolving ${o}${i?` chorded from ${i}`:""}`);let _=null;if(i!==null){const K=this._map.get(i);if(typeof K=="undefined")return this._log("\\ No keybinding entries."),null;_=[];for(let J=0,Ce=K.length;J<Ce;J++){let Ee=K[J];Ee.keypressParts[1]===o&&_.push(Ee)}}else{const K=this._map.get(o);if(typeof K=="undefined")return this._log("\\ No keybinding entries."),null;_=K}let A=this._findCommand(t,_);return A?i===null&&A.keypressParts.length>1&&A.keypressParts[1]!==null?(this._log(`\\ From ${_.length} keybinding entries, matched chord, when: ${li(A.when)}, source: ${ae(A)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${_.length} keybinding entries, matched ${A.command}, when: ${li(A.when)}, source: ${ae(A)}.`),{enterChord:!1,leaveChord:A.keypressParts.length>1,commandId:A.command,commandArgs:A.commandArgs,bubble:A.bubble}):(this._log(`\\ From ${_.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(t,i){for(let o=i.length-1;o>=0;o--){let _=i[o];if(Gt.contextMatchesRules(t,_.when))return _}return null}static contextMatchesRules(t,i){return i?i.evaluate(t):!0}}function li(u){return u?`${u.serialize()}`:"no when condition"}function ae(u){return u.extensionId?u.isBuiltinExtension?`built-in extension ${u.extensionId}`:`user extension ${u.extensionId}`:u.isDefault?"built-in":"user"}var we=c(49989);class dt{constructor(t,i,o,_,A,K,J){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=t,this.keypressParts=t?pt(t.getDispatchParts()):[],t&&this.keypressParts.length===0&&(this.keypressParts=pt(t.getSingleModifierDispatchParts())),this.bubble=i?i.charCodeAt(0)===94:!1,this.command=this.bubble?i.substr(1):i,this.commandArgs=o,this.when=_,this.isDefault=A,this.extensionId=K,this.isBuiltinExtension=J}}function pt(u){let t=[];for(let i=0,o=u.length;i<o;i++){const _=u[i];if(!_)return t;t.push(_)}return t}var rt=c(8030);class Ut extends vi.f1{constructor(t,i){if(super(),i.length===0)throw(0,On.b1)("parts");this._os=t,this._parts=i}getLabel(){return rt.xo.toLabel(this._os,this._parts,t=>this._getLabel(t))}getAriaLabel(){return rt.X4.toLabel(this._os,this._parts,t=>this._getAriaLabel(t))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:rt.jC.toLabel(this._os,this._parts,t=>this._getElectronAccelerator(t))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(t=>this._getPart(t))}_getPart(t){return new vi.BQ(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,this._getLabel(t),this._getAriaLabel(t))}getDispatchParts(){return this._parts.map(t=>this._getDispatchPart(t))}getSingleModifierDispatchParts(){return this._parts.map(t=>this._getSingleModifierDispatchPart(t))}}class ni extends Ut{constructor(t,i){super(i,t.parts)}_keyCodeToUILabel(t){if(this._os===2)switch(t){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return P.kL.toString(t)}_getLabel(t){return t.isDuplicateModifierCase()?"":this._keyCodeToUILabel(t.keyCode)}_getAriaLabel(t){return t.isDuplicateModifierCase()?"":P.kL.toString(t.keyCode)}_getElectronAccelerator(t){return P.kL.toElectronAccelerator(t.keyCode)}_getDispatchPart(t){return ni.getDispatchStr(t)}static getDispatchStr(t){if(t.isModifierKey())return null;let i="";return t.ctrlKey&&(i+="ctrl+"),t.shiftKey&&(i+="shift+"),t.altKey&&(i+="alt+"),t.metaKey&&(i+="meta+"),i+=P.kL.toString(t.keyCode),i}_getSingleModifierDispatchPart(t){return t.keyCode===5&&!t.shiftKey&&!t.altKey&&!t.metaKey?"ctrl":t.keyCode===4&&!t.ctrlKey&&!t.altKey&&!t.metaKey?"shift":t.keyCode===6&&!t.ctrlKey&&!t.shiftKey&&!t.metaKey?"alt":t.keyCode===57&&!t.ctrlKey&&!t.shiftKey&&!t.altKey?"meta":null}static _scanCodeToKeyCode(t){const i=P.Vd[t];if(i!==-1)return i;switch(t){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(t){if(!t)return null;if(t instanceof vi.QC)return t;const i=this._scanCodeToKeyCode(t.scanCode);return i===0?null:new vi.QC(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,i)}static resolveUserBinding(t,i){const o=pt(t.map(_=>this._resolveSimpleUserBinding(_)));return o.length>0?[new ni(new vi.X_(o),i)]:[]}}var zt=c(59422),Ri=c(40382),Ci;(function(u){u.noSelection=We.N("noSelection","No selection"),u.singleSelectionRange=We.N("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),u.singleSelection=We.N("singleSelection","Line {0}, Column {1}"),u.multiSelectionRange=We.N("multiSelectionRange","{0} selections ({1} characters selected)"),u.multiSelection=We.N("multiSelection","{0} selections"),u.emergencyConfOn=We.N("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),u.openingDocs=We.N("openingDocs","Now opening the Editor Accessibility documentation page."),u.readonlyDiffEditor=We.N("readonlyDiffEditor"," in a read-only pane of a diff editor."),u.editableDiffEditor=We.N("editableDiffEditor"," in a pane of a diff editor."),u.readonlyEditor=We.N("readonlyEditor"," in a read-only code editor"),u.editableEditor=We.N("editableEditor"," in a code editor"),u.changeConfigToOnMac=We.N("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),u.changeConfigToOnWinLinux=We.N("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),u.auto_on=We.N("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),u.auto_off=We.N("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),u.tabFocusModeOnMsg=We.N("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),u.tabFocusModeOnMsgNoKb=We.N("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),u.tabFocusModeOffMsg=We.N("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),u.tabFocusModeOffMsgNoKb=We.N("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),u.openDocMac=We.N("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),u.openDocWinLinux=We.N("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),u.outroMsg=We.N("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),u.showAccessibilityHelpAction=We.N("showAccessibilityHelpAction","Show Accessibility Help")})(Ci||(Ci={}));var Ei;(function(u){u.inspectTokensAction=We.N("inspectTokens","Developer: Inspect Tokens")})(Ei||(Ei={}));var wi;(function(u){u.gotoLineActionLabel=We.N("gotoLineActionLabel","Go to Line/Column...")})(wi||(wi={}));var bn;(function(u){u.helpQuickAccessActionLabel=We.N("helpQuickAccess","Show all Quick Access Providers")})(bn||(bn={}));var ji;(function(u){u.quickCommandActionLabel=We.N("quickCommandActionLabel","Command Palette"),u.quickCommandHelp=We.N("quickCommandActionHelp","Show And Run Commands")})(ji||(ji={}));var gn;(function(u){u.quickOutlineActionLabel=We.N("quickOutlineActionLabel","Go to Symbol..."),u.quickOutlineByCategoryActionLabel=We.N("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(gn||(gn={}));var Wn;(function(u){u.editorViewAccessibleLabel=We.N("editorViewAccessibleLabel","Editor content"),u.accessibilityHelpMessage=We.N("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(Wn||(Wn={}));var zn;(function(u){u.toggleHighContrast=We.N("toggleHighContrast","Toggle High Contrast Theme")})(zn||(zn={}));var Vn;(function(u){u.bulkEditServiceSummary=We.N("bulkEditServiceSummary","Made {0} edits in {1} files")})(Vn||(Vn={}));var qn=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},ws=function(u,t){return function(i,o){t(i,o,u)}},Us=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function J(Fe){try{Ee(o.next(Fe))}catch(Qe){K(Qe)}}function Ce(Fe){try{Ee(o.throw(Fe))}catch(Qe){K(Qe)}}function Ee(Fe){Fe.done?A(Fe.value):_(Fe.value).then(J,Ce)}Ee((o=o.apply(u,t||[])).next())})};class Bs{constructor(t){this.disposed=!1,this.model=t,this._onWillDispose=new Q.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}function cs(u,t,i){return(0,ts.CL)(u)?t(u):i(u)}let Ws=class{constructor(t){this.modelService=t}setEditor(t){this.editor=t}createModelReference(t){let i=null;return this.editor&&(i=cs(this.editor,o=>this.findModel(o,t),o=>this.findModel(o.getOriginalEditor(),t)||this.findModel(o.getModifiedEditor(),t))),i?Promise.resolve(new ii.Jz(new Bs(i))):Promise.reject(new Error("Model not found"))}findModel(t,i){let o=this.modelService.getModel(i);return o&&o.uri.toString()!==i.toString()?null:o}};Ws=qn([ws(0,os.q)],Ws);class vs{show(){return vs.NULL_PROGRESS_RUNNER}showWhile(t,i){return Us(this,void 0,void 0,function*(){yield t})}}vs.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class ss{confirm(t){return this.doConfirm(t).then(i=>({confirmed:i,checkboxChecked:!1}))}doConfirm(t){let i=t.message;return t.detail&&(i=i+`

`+t.detail),Promise.resolve(window.confirm(i))}show(t,i,o,_){return Promise.resolve({choice:0})}}class Ms{info(t){return this.notify({severity:Xi.Z.Info,message:t})}warn(t){return this.notify({severity:Xi.Z.Warning,message:t})}error(t){return this.notify({severity:Xi.Z.Error,message:t})}notify(t){switch(t.severity){case Xi.Z.Error:console.error(t.message);break;case Xi.Z.Warning:console.warn(t.message);break;default:console.log(t.message);break}return Ms.NO_OP}status(t,i){return ii.JT.None}}Ms.NO_OP=new zt.EO;class uo{constructor(t){this._onWillExecuteCommand=new Q.Q5,this._onDidExecuteCommand=new Q.Q5,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=t}executeCommand(t,...i){const o=at.P.getCommand(t);if(!o)return Promise.reject(new Error(`command '${t}' not found`));try{this._onWillExecuteCommand.fire({commandId:t,args:i});const _=this._instantiationService.invokeFunction.apply(this._instantiationService,[o.handler,...i]);return this._onDidExecuteCommand.fire({commandId:t,args:i}),Promise.resolve(_)}catch(_){return Promise.reject(_)}}}class An extends Pt{constructor(t,i,o,_,A,K){super(t,i,o,_,A),this._cachedResolver=null,this._dynamicKeybindings=[],this._register(Je.nm(K,Je.tw.KEY_DOWN,J=>{const Ce=new Zt.y(J);this._dispatch(Ce,Ce.target)&&(Ce.preventDefault(),Ce.stopPropagation())})),this._register(Je.nm(window,Je.tw.KEY_UP,J=>{const Ce=new Zt.y(J);this._singleModifierDispatch(Ce,Ce.target)&&Ce.preventDefault()}))}addDynamicKeybinding(t,i,o,_){const A=(0,vi.gm)(i,Zi.OS),K=new ii.SL;return A&&(this._dynamicKeybindings.push({keybinding:A.parts,command:t,when:_,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),K.add((0,ii.OF)(()=>{for(let J=0;J<this._dynamicKeybindings.length;J++)if(this._dynamicKeybindings[J].command===t){this._dynamicKeybindings.splice(J,1),this.updateResolver({source:1});return}}))),K.add(at.P.registerCommand(t,o)),this.updateResolver({source:1}),K}updateResolver(t){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(t)}_getResolver(){if(!this._cachedResolver){const t=this._toNormalizedKeybindingItems(we.W.getDefaultKeybindings(),!0),i=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Gt(t,i,o=>this._log(o))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(t,i){let o=[],_=0;for(const A of t){const K=A.when||void 0,J=A.keybinding;if(!J)o[_++]=new dt(void 0,A.command,A.commandArgs,K,i,null,!1);else{const Ce=ni.resolveUserBinding(J,Zi.OS);for(const Ee of Ce)o[_++]=new dt(Ee,A.command,A.commandArgs,K,i,null,!1)}}return o}resolveKeyboardEvent(t){let i=new vi.QC(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,t.keyCode).toChord();return new ni(i,Zi.OS)}}function Vs(u){return u&&typeof u=="object"&&(!u.overrideIdentifier||typeof u.overrideIdentifier=="string")&&(!u.resource||u.resource instanceof y.o)}class Gs{constructor(){this._onDidChangeConfiguration=new Q.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new he(new oe,new U)}getValue(t,i){const o=typeof t=="string"?t:void 0,_=Vs(t)?t:Vs(i)?i:{};return this._configuration.getValue(o,_,void 0)}updateValues(t){const i={data:this._configuration.toData()};let o=[];for(const _ of t){const[A,K]=_;this.getValue(A)!==K&&(this._configuration.updateValue(A,K),o.push(A))}if(o.length>0){const _=new Le({keys:o,overrides:[]},i,this._configuration);_.source=7,_.sourceConfig=null,this._onDidChangeConfiguration.fire(_)}return Promise.resolve()}}class Js{constructor(t){this.configurationService=t,this._onDidChangeConfiguration=new Q.Q5,this.configurationService.onDidChangeConfiguration(i=>{this._onDidChangeConfiguration.fire({affectedKeys:i.affectedKeys,affectsConfiguration:(o,_)=>i.affectsConfiguration(_)})})}getValue(t,i,o){const A=(X.L.isIPosition(i)?i:null)?typeof o=="string"?o:void 0:typeof i=="string"?i:void 0;return typeof A=="undefined"?this.configurationService.getValue():this.configurationService.getValue(A)}}let ms=class{constructor(t){this.configurationService=t}getEOL(t,i){const o=this.configurationService.getValue("files.eol",{overrideIdentifier:i,resource:t});return o&&typeof o=="string"&&o!=="auto"?o:Zi.IJ||Zi.dz?`
`:`\r
`}};ms=qn([ws(0,d.Ui)],ms);class ps{publicLog(t,i){return Promise.resolve(void 0)}publicLog2(t,i){return this.publicLog(t,i)}}class Ss{constructor(){const t=y.o.from({scheme:Ss.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new Ri.md({uri:t,name:"",index:0})]}}getWorkspace(){return this.workspace}}Ss.SCHEME="inmemory";function Is(u,t,i){if(!t||!(u instanceof Gs))return;let o=[];Object.keys(t).forEach(_=>{(0,Ls.ei)(_)&&o.push([`editor.${_}`,t[_]]),i&&(0,Ls.Pe)(_)&&o.push([`diffEditor.${_}`,t[_]])}),o.length>0&&u.updateValues(o)}class Lo{constructor(t){this._modelService=t}hasPreviewHandler(){return!1}apply(t,i){return Us(this,void 0,void 0,function*(){const o=new Map;for(let K of t){if(!(K instanceof us.Gl))throw new Error("bad edit - only text edits are supported");const J=this._modelService.getModel(K.resource);if(!J)throw new Error("bad edit - model not found");if(typeof K.versionId=="number"&&J.getVersionId()!==K.versionId)throw new Error("bad state - model changed in the meantime");let Ce=o.get(J);Ce||(Ce=[],o.set(J,Ce)),Ce.push(Be.h.replaceMove(R.e.lift(K.textEdit.range),K.textEdit.text))}let _=0,A=0;for(const[K,J]of o)K.pushStackElement(),K.pushEditOperations([],J,()=>[]),K.pushStackElement(),A+=1,_+=J.length;return{ariaSummary:an.WU(Vn.bulkEditServiceSummary,_,A)}})}}class So{getUriLabel(t,i){return t.scheme==="file"?t.fsPath:t.path}}class bo{constructor(t,i){this._codeEditorService=t,this._container=i,this.onDidLayout=Q.ju.None}get dimension(){return this._dimension||(this._dimension=Je.D6(window.document.body)),this._dimension}get container(){return this._container}focus(){var t;(t=this._codeEditorService.getFocusedCodeEditor())===null||t===void 0||t.focus()}}var zo=c(35996),lo=c(53418),Do=c(38626),Jo=c(83080),Cs=c(87917),ns=c(55812),ys=c(90317),hs=c(13433),ks=c(74741),As=c(16830),bs=c(27869),un=c(73910),fs=c(97781),co=c(73046),fo=c(59554),xo=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},To=function(u,t){return function(i,o){t(i,o,u)}},ko=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function J(Fe){try{Ee(o.next(Fe))}catch(Qe){K(Qe)}}function Ce(Fe){try{Ee(o.throw(Fe))}catch(Qe){K(Qe)}}function Ee(Fe){Fe.done?A(Fe.value):_(Fe.value).then(J,Ce)}Ee((o=o.apply(u,t||[])).next())})},_o;const Yo=3;class $o{constructor(t,i,o,_){this.originalLineStart=t,this.originalLineEnd=i,this.modifiedLineStart=o,this.modifiedLineEnd=_}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class Qo{constructor(t){this.entries=t}}const Bo=(0,fo.q5)("diff-review-insert",co.lA.add,We.N("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),Uo=(0,fo.q5)("diff-review-remove",co.lA.remove,We.N("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),Ko=(0,fo.q5)("diff-review-close",co.lA.close,We.N("diffReviewCloseIcon","Icon for 'Close' in diff review."));let Ao=class pa extends ii.JT{constructor(t,i){super(),this._modeService=i,this._width=0,this._diffEditor=t,this._isVisible=!1,this.shadow=(0,Do.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,Do.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new ys.o(this.actionBarContainer.domNode)),this._actionBar.push(new ks.aU("diffreview.close",We.N("label.close","Close"),"close-diff-review "+fs.kS.asClassName(Ko),!0,()=>ko(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,Do.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,Do.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new hs.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(t.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(t.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(Je.mu(this.domNode.domNode,"click",o=>{o.preventDefault();let _=Je.Fx(o.target,"diff-review-row");_&&this._goToRow(_)})),this._register(Je.mu(this.domNode.domNode,"keydown",o=>{(o.equals(18)||o.equals(2066)||o.equals(530))&&(o.preventDefault(),this._goToRow(this._getNextRow())),(o.equals(16)||o.equals(2064)||o.equals(528))&&(o.preventDefault(),this._goToRow(this._getPrevRow())),(o.equals(9)||o.equals(2057)||o.equals(521)||o.equals(1033))&&(o.preventDefault(),this.hide()),(o.equals(10)||o.equals(3))&&(o.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let o=-1;for(let _=0,A=this._diffs.length;_<A;_++)if(this._diffs[_]===this._currentDiff){o=_;break}t=this._diffs.length+o-1}else t=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;t=t%this._diffs.length;const i=this._diffs[t].entries;this._diffEditor.setPosition(new X.L(i[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:i[0].modifiedLineStart,endColumn:1073741824,endLineNumber:i[i.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let o=-1;for(let _=0,A=this._diffs.length;_<A;_++)if(this._diffs[_]===this._currentDiff){o=_;break}t=o+1}else t=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;t=t%this._diffs.length;const i=this._diffs[t].entries;this._diffEditor.setPosition(new X.L(i[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:i[0].modifiedLineStart,endColumn:1073741824,endLineNumber:i[i.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let t=-1,i=this._getCurrentFocusedRow();if(i){let o=parseInt(i.getAttribute("data-line"),10);isNaN(o)||(t=o)}this.hide(),t!==-1&&(this._diffEditor.setPosition(new X.L(t,1)),this._diffEditor.revealPosition(new X.L(t,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let t=this._getCurrentFocusedRow();return t?t.previousElementSibling?t.previousElementSibling:t:this._getFirstRow()}_getNextRow(){let t=this._getCurrentFocusedRow();return t?t.nextElementSibling?t.nextElementSibling:t:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let t=document.activeElement;return t&&/diff-review-row/.test(t.className)?t:null}_goToRow(t){let i=this._getCurrentFocusedRow();t.tabIndex=0,t.focus(),i&&i!==t&&(i.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(t,i,o){this._width=i,this.shadow.setTop(t-6),this.shadow.setWidth(i),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(t),this.domNode.setWidth(i),this.domNode.setHeight(o),this._content.setHeight(o),this._content.setWidth(i),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const t=this._diffEditor.getLineChanges();if(!t||t.length===0)return[];const i=this._diffEditor.getOriginalEditor().getModel(),o=this._diffEditor.getModifiedEditor().getModel();return!i||!o?[]:pa._mergeAdjacent(t,i.getLineCount(),o.getLineCount())}static _mergeAdjacent(t,i,o){if(!t||t.length===0)return[];let _=[],A=0;for(let Ee=0,Fe=t.length;Ee<Fe;Ee++){const Qe=t[Ee],Kt=Qe.originalStartLineNumber,ki=Qe.originalEndLineNumber,Fi=Qe.modifiedStartLineNumber,rn=Qe.modifiedEndLineNumber;let In=[],$n=0;{const Yn=ki===0?Kt:Kt-1,xn=rn===0?Fi:Fi-1;let Rn=1,Zs=1;if(Ee>0){const Nn=t[Ee-1];Nn.originalEndLineNumber===0?Rn=Nn.originalStartLineNumber+1:Rn=Nn.originalEndLineNumber+1,Nn.modifiedEndLineNumber===0?Zs=Nn.modifiedStartLineNumber+1:Zs=Nn.modifiedEndLineNumber+1}let Ds=Yn-Yo+1,Fn=xn-Yo+1;if(Ds<Rn){const Nn=Rn-Ds;Ds=Ds+Nn,Fn=Fn+Nn}if(Fn<Zs){const Nn=Zs-Fn;Ds=Ds+Nn,Fn=Fn+Nn}In[$n++]=new $o(Ds,Yn,Fn,xn)}ki!==0&&(In[$n++]=new $o(Kt,ki,0,0)),rn!==0&&(In[$n++]=new $o(0,0,Fi,rn));{const Yn=ki===0?Kt+1:ki+1,xn=rn===0?Fi+1:rn+1;let Rn=i,Zs=o;if(Ee+1<Fe){const Nn=t[Ee+1];Nn.originalEndLineNumber===0?Rn=Nn.originalStartLineNumber:Rn=Nn.originalStartLineNumber-1,Nn.modifiedEndLineNumber===0?Zs=Nn.modifiedStartLineNumber:Zs=Nn.modifiedStartLineNumber-1}let Ds=Yn+Yo-1,Fn=xn+Yo-1;if(Ds>Rn){const Nn=Rn-Ds;Ds=Ds+Nn,Fn=Fn+Nn}if(Fn>Zs){const Nn=Zs-Fn;Ds=Ds+Nn,Fn=Fn+Nn}In[$n++]=new $o(Yn,Ds,xn,Fn)}_[A++]=new Qo(In)}let K=_[0].entries,J=[],Ce=0;for(let Ee=1,Fe=_.length;Ee<Fe;Ee++){const Qe=_[Ee].entries,Kt=K[K.length-1],ki=Qe[0];if(Kt.getType()===0&&ki.getType()===0&&ki.originalLineStart<=Kt.originalLineEnd){K[K.length-1]=new $o(Kt.originalLineStart,ki.originalLineEnd,Kt.modifiedLineStart,ki.modifiedLineEnd),K=K.concat(Qe.slice(1));continue}J[Ce++]=new Qo(K),K=Qe}return J[Ce++]=new Qo(K),J}_findDiffIndex(t){const i=t.lineNumber;for(let o=0,_=this._diffs.length;o<_;o++){const A=this._diffs[o].entries,K=A[A.length-1].modifiedLineEnd;if(i<=K)return o}return 0}_render(){const t=this._diffEditor.getOriginalEditor().getOptions(),i=this._diffEditor.getModifiedEditor().getOptions(),o=this._diffEditor.getOriginalEditor().getModel(),_=this._diffEditor.getModifiedEditor().getModel(),A=o.getOptions(),K=_.getOptions();if(!this._isVisible||!o||!_){Je.PO(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const J=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[J]===this._currentDiff)return;this._currentDiff=this._diffs[J];const Ce=this._diffs[J].entries;let Ee=document.createElement("div");Ee.className="diff-review-table",Ee.setAttribute("role","list"),Ee.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),Cs.V.applyFontInfoSlow(Ee,i.get(43));let Fe=0,Qe=0,Kt=0,ki=0;for(let Fn=0,Nn=Ce.length;Fn<Nn;Fn++){const as=Ce[Fn],Kn=as.originalLineStart,zs=as.originalLineEnd,wo=as.modifiedLineStart,gs=as.modifiedLineEnd;Kn!==0&&(Fe===0||Kn<Fe)&&(Fe=Kn),zs!==0&&(Qe===0||zs>Qe)&&(Qe=zs),wo!==0&&(Kt===0||wo<Kt)&&(Kt=wo),gs!==0&&(ki===0||gs>ki)&&(ki=gs)}let Fi=document.createElement("div");Fi.className="diff-review-row";let rn=document.createElement("div");rn.className="diff-review-cell diff-review-summary";const In=Qe-Fe+1,$n=ki-Kt+1;rn.appendChild(document.createTextNode(`${J+1}/${this._diffs.length}: @@ -${Fe},${In} +${Kt},${$n} @@`)),Fi.setAttribute("data-line",String(Kt));const Yn=Fn=>Fn===0?We.N("no_lines_changed","no lines changed"):Fn===1?We.N("one_line_changed","1 line changed"):We.N("more_lines_changed","{0} lines changed",Fn),xn=Yn(In),Rn=Yn($n);Fi.setAttribute("aria-label",We.N({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",J+1,this._diffs.length,Fe,xn,Kt,Rn)),Fi.appendChild(rn),Fi.setAttribute("role","listitem"),Ee.appendChild(Fi);const Zs=i.get(58);let Ds=Kt;for(let Fn=0,Nn=Ce.length;Fn<Nn;Fn++){const as=Ce[Fn];pa._renderSection(Ee,as,Ds,Zs,this._width,t,o,A,i,_,K,this._modeService.languageIdCodec),as.modifiedLineStart!==0&&(Ds=as.modifiedLineEnd)}Je.PO(this._content.domNode),this._content.domNode.appendChild(Ee),this.scrollbar.scanDomNode()}static _renderSection(t,i,o,_,A,K,J,Ce,Ee,Fe,Qe,Kt){const ki=i.getType();let Fi="diff-review-row",rn="";const In="diff-review-spacer";let $n=null;switch(ki){case 1:Fi="diff-review-row line-insert",rn=" char-insert",$n=Bo;break;case 2:Fi="diff-review-row line-delete",rn=" char-delete",$n=Uo;break}const Yn=i.originalLineStart,xn=i.originalLineEnd,Rn=i.modifiedLineStart,Zs=i.modifiedLineEnd,Ds=Math.max(Zs-Rn,xn-Yn),Fn=K.get(129),Nn=Fn.glyphMarginWidth+Fn.lineNumbersWidth,as=Ee.get(129),Kn=10+as.glyphMarginWidth+as.lineNumbersWidth;for(let zs=0;zs<=Ds;zs++){const wo=Yn===0?0:Yn+zs,gs=Rn===0?0:Rn+zs,Fo=document.createElement("div");Fo.style.minWidth=A+"px",Fo.className=Fi,Fo.setAttribute("role","listitem"),gs!==0&&(o=gs),Fo.setAttribute("data-line",String(o));let mr=document.createElement("div");mr.className="diff-review-cell",mr.style.height=`${_}px`,Fo.appendChild(mr);const Ro=document.createElement("span");Ro.style.width=Nn+"px",Ro.style.minWidth=Nn+"px",Ro.className="diff-review-line-number"+rn,wo!==0?Ro.appendChild(document.createTextNode(String(wo))):Ro.innerText="\xA0",mr.appendChild(Ro);const vr=document.createElement("span");vr.style.width=Kn+"px",vr.style.minWidth=Kn+"px",vr.style.paddingRight="10px",vr.className="diff-review-line-number"+rn,gs!==0?vr.appendChild(document.createTextNode(String(gs))):vr.innerText="\xA0",mr.appendChild(vr);const Er=document.createElement("span");if(Er.className=In,$n){const Sr=document.createElement("span");Sr.className=fs.kS.asClassName($n),Sr.innerText="\xA0\xA0",Er.appendChild(Sr)}else Er.innerText="\xA0\xA0";mr.appendChild(Er);let kr;if(gs!==0){let Sr=this._renderLine(Fe,Ee,Qe.tabSize,gs,Kt);pa._ttPolicy&&(Sr=pa._ttPolicy.createHTML(Sr)),mr.insertAdjacentHTML("beforeend",Sr),kr=Fe.getLineContent(gs)}else{let Sr=this._renderLine(J,K,Ce.tabSize,wo,Kt);pa._ttPolicy&&(Sr=pa._ttPolicy.createHTML(Sr)),mr.insertAdjacentHTML("beforeend",Sr),kr=J.getLineContent(wo)}kr.length===0&&(kr=We.N("blankLine","blank"));let Wr="";switch(ki){case 0:wo===gs?Wr=We.N({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",kr,wo):Wr=We.N("equalLine","{0} original line {1} modified line {2}",kr,wo,gs);break;case 1:Wr=We.N("insertLine","+ {0} modified line {1}",kr,gs);break;case 2:Wr=We.N("deleteLine","- {0} original line {1}",kr,wo);break}Fo.setAttribute("aria-label",Wr),t.appendChild(Fo)}}static _renderLine(t,i,o,_,A){const K=t.getLineContent(_),J=i.get(43),Ce=re.A.createEmpty(K,A),Ee=Ye.wA.isBasicASCII(K,t.mightContainNonBasicASCII()),Fe=Ye.wA.containsRTL(K,Ee,t.mightContainRTL());return(0,Te.tF)(new Te.IJ(J.isMonospace&&!i.get(29),J.canUseHalfwidthRightwardsArrow,K,!1,Ee,Fe,0,Ce,[],o,0,J.spaceWidth,J.middotWidth,J.wsmiddotWidth,i.get(104),i.get(87),i.get(82),i.get(44)!==E.n0.OFF,null)).html}};Ao._ttPolicy=(_o=window.trustedTypes)===null||_o===void 0?void 0:_o.createPolicy("diffReview",{createHTML:u=>u}),Ao=xo([To(1,Ki.h)],Ao),(0,fs.Ic)((u,t)=>{const i=u.getColor(bs.hw);i&&t.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${i}; }`);const o=u.getColor(un._w);o&&t.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${o} 0 -6px 6px -6px inset; }`)});class qo extends As.R6{constructor(){super({id:"editor.action.diffReview.next",label:We.N("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:Rt.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(t,i){const o=er(t);o&&o.diffReviewNext()}}class tr extends As.R6{constructor(){super({id:"editor.action.diffReview.prev",label:We.N("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:Rt.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(t,i){const o=er(t);o&&o.diffReviewPrev()}}function er(u){const t=u.get(Mt.$),i=t.listDiffEditors(),o=t.getActiveCodeEditor();if(!o)return null;for(let _=0,A=i.length;_<A;_++){const K=i[_];if(K.getModifiedEditor().getId()===o.getId()||K.getOriginalEditor().getId()===o.getId())return K}return null}(0,As.Qr)(qo),(0,As.Qr)(tr);var xr=c(50072),jo=c(24979),yr=c(92003),rr=c(92550),hr=c(60972),Io=c(5606),pr=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function J(Fe){try{Ee(o.next(Fe))}catch(Qe){K(Qe)}}function Ce(Fe){try{Ee(o.throw(Fe))}catch(Qe){K(Qe)}}function Ee(Fe){Fe.done?A(Fe.value):_(Fe.value).then(J,Ce)}Ee((o=o.apply(u,t||[])).next())})};class ar extends ii.JT{constructor(t,i,o,_,A,K){super(),this._viewZoneId=t,this._marginDomNode=i,this.editor=o,this.diff=_,this._contextMenuService=A,this._clipboardService=K,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=co.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const J=o.getOption(58),Ce=o.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${J}px`,this._diffActions.style.lineHeight=`${J}px`,this._marginDomNode.appendChild(this._diffActions);const Ee=[],Fe=_.modifiedEndLineNumber===0;Ee.push(new ks.aU("diff.clipboard.copyDeletedContent",Fe?_.originalEndLineNumber>_.modifiedStartLineNumber?We.N("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):We.N("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):_.originalEndLineNumber>_.modifiedStartLineNumber?We.N("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):We.N("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>pr(this,void 0,void 0,function*(){const rn=new R.e(_.originalStartLineNumber,1,_.originalEndLineNumber+1,1),In=_.originalModel.getValueInRange(rn);yield this._clipboardService.writeText(In)})));let Qe=0,Kt;_.originalEndLineNumber>_.modifiedStartLineNumber&&(Kt=new ks.aU("diff.clipboard.copyDeletedLineContent",Fe?We.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",_.originalStartLineNumber):We.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",_.originalStartLineNumber),void 0,!0,()=>pr(this,void 0,void 0,function*(){const rn=_.originalModel.getLineContent(_.originalStartLineNumber+Qe);if(rn===""){const In=_.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(In===0?`
`:`\r
`)}else yield this._clipboardService.writeText(rn)})),Ee.push(Kt)),o.getOption(80)||Ee.push(new ks.aU("diff.inline.revertChange",We.N("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>pr(this,void 0,void 0,function*(){const rn=new R.e(_.originalStartLineNumber,1,_.originalEndLineNumber,_.originalModel.getLineMaxColumn(_.originalEndLineNumber)),In=_.originalModel.getValueInRange(rn);if(_.modifiedEndLineNumber===0){const $n=o.getModel().getLineMaxColumn(_.modifiedStartLineNumber);o.executeEdits("diffEditor",[{range:new R.e(_.modifiedStartLineNumber,$n,_.modifiedStartLineNumber,$n),text:Ce+In}])}else{const $n=o.getModel().getLineMaxColumn(_.modifiedEndLineNumber);o.executeEdits("diffEditor",[{range:new R.e(_.modifiedStartLineNumber,1,_.modifiedEndLineNumber,$n),text:In}])}})));const Fi=(rn,In)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:rn,y:In}),getActions:()=>(Kt&&(Kt.label=Fe?We.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",_.originalStartLineNumber+Qe):We.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",_.originalStartLineNumber+Qe)),Ee),autoSelectFirstItem:!0})};this._register(Je.mu(this._diffActions,"mousedown",rn=>{const{top:In,height:$n}=Je.i(this._diffActions);let Yn=Math.floor(J/3);rn.preventDefault(),Fi(rn.posx,In+$n+Yn)})),this._register(o.onMouseMove(rn=>{rn.target.type===8||rn.target.type===5?rn.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,Qe=this._updateLightBulbPosition(this._marginDomNode,rn.event.browserEvent.y,J)):this.visibility=!1:this.visibility=!1})),this._register(o.onMouseDown(rn=>{rn.event.rightButton&&(rn.target.type===8||rn.target.type===5)&&rn.target.detail.viewZoneId===this._viewZoneId&&(rn.event.preventDefault(),Qe=this._updateLightBulbPosition(this._marginDomNode,rn.event.browserEvent.y,J),Fi(rn.event.posx,rn.event.posy+J))}))}get visibility(){return this._visibility}set visibility(t){this._visibility!==t&&(this._visibility=t,t?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(t,i,o){const{top:_}=Je.i(t),A=i-_,K=Math.floor(A/o),J=K*o;if(this._diffActions.style.top=`${J}px`,this.diff.viewLineCounts){let Ce=0;for(let Ee=0;Ee<this.diff.viewLineCounts.length;Ee++)if(Ce+=this.diff.viewLineCounts[Ee],K<Ce)return Ee}return K}}var dr=c(84972),fr=c(90535),ur=c(54534),Ar=c(49335),Ir=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},ir=function(u,t){return function(i,o){t(i,o,u)}},Cr;class lr{constructor(t,i){this._contextMenuService=t,this._clipboardService=i,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(t){return t.filter(i=>!this._zonesMap[String(i.id)])}clean(t){this._zones.length>0&&t.changeViewZones(i=>{for(const o of this._zones)i.removeZone(o)}),this._zones=[],this._zonesMap={},this._decorations=t.deltaDecorations(this._decorations,[])}apply(t,i,o,_){const A=_?ns.ZF.capture(t):null;t.changeViewZones(K=>{var J;for(const Ce of this._zones)K.removeZone(Ce);for(const Ce of this._inlineDiffMargins)Ce.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Ce=0,Ee=o.zones.length;Ce<Ee;Ce++){const Fe=o.zones[Ce];Fe.suppressMouseDown=!0;const Qe=K.addZone(Fe);this._zones.push(Qe),this._zonesMap[String(Qe)]=!0,o.zones[Ce].diff&&Fe.marginDomNode&&(Fe.suppressMouseDown=!1,((J=o.zones[Ce].diff)===null||J===void 0?void 0:J.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new ar(Qe,Fe.marginDomNode,t,o.zones[Ce].diff,this._contextMenuService,this._clipboardService)))}}),A&&A.restore(t),this._decorations=t.deltaDecorations(this._decorations,o.decorations),i&&i.setZones(o.overviewZones)}}let Ns=0;const Zn=(0,fo.q5)("diff-insert",co.lA.add,We.N("diffInsertIcon","Line decoration for inserts in the diff editor.")),rs=(0,fo.q5)("diff-remove",co.lA.remove,We.N("diffRemoveIcon","Line decoration for removals in the diff editor.")),Os=(Cr=window.trustedTypes)===null||Cr===void 0?void 0:Cr.createPolicy("diffEditorWidget",{createHTML:u=>u});let Hs=class or extends ii.JT{constructor(t,i,o,_,A,K,J,Ce,Ee,Fe,Qe,Kt){super(),this._editorProgressService=Kt,this._onDidDispose=this._register(new Q.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new Q.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new Q.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=A,this._codeEditorService=Ce,this._contextKeyService=this._register(K.createScoped(t)),this._instantiationService=J.createChild(new hr.y([Rt.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Ee,this._notificationService=Fe,this._id=++Ns,this._state=0,this._updatingDiffProgress=null,this._domElement=t,i=i||{},this._options=l(i,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof i.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",i.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new Bn.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=or._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,Do.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(Je.mu(this._overviewDomElement,"mousedown",Fi=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(Fi)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new lr(Qe,_),this._modifiedEditorState=new lr(Qe,_),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new ur.I(this._containerDomElement,i.dimension,()=>this._onDidContainerSizeChanged())),i.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(i,o.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(i,o.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=J.createInstance(Ao,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new Go(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Nr(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Ee.onDidColorThemeChange(Fi=>{this._strategy&&this._strategy.applyColors(Fi)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=or._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const ki=As.Uc.getDiffEditorContributions();for(const Fi of ki)try{this._register(J.createInstance(Fi.ctor,this))}catch(rn){(0,On.dL)(rn)}this._codeEditorService.addDiffEditor(this)}_setState(t){this._state!==t&&(this._state=t,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(t,i){let o="monaco-diff-editor monaco-editor-background ";return i&&(o+="side-by-side "),o+=(0,fs.m6)(t.type),o}_recreateOverviewRulers(){this._options.renderOverviewRuler&&(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(t,i){const o=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(t),i);this._register(o.onDidScrollChange(A=>{this._isHandlingScrollEvent||!A.scrollTopChanged&&!A.scrollLeftChanged&&!A.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:A.scrollLeft,scrollTop:A.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(o.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(o.onDidChangeConfiguration(A=>{o.getModel()&&(A.hasChanged(43)&&this._updateDecorationsRunner.schedule(),A.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(o.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(o.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const _=this._contextKeyService.createKey("isInDiffLeftEditor",o.hasWidgetFocus());return this._register(o.onDidFocusEditorWidget(()=>_.set(!0))),this._register(o.onDidBlurEditorWidget(()=>_.set(!1))),this._register(o.onDidContentSizeChange(A=>{const K=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+or.ONE_OVERVIEW_WIDTH,J=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:J,contentWidth:K,contentHeightChanged:A.contentHeightChanged,contentWidthChanged:A.contentWidthChanged})})),o}_createRightHandSideEditor(t,i){const o=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t),i);this._register(o.onDidScrollChange(A=>{this._isHandlingScrollEvent||!A.scrollTopChanged&&!A.scrollLeftChanged&&!A.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:A.scrollLeft,scrollTop:A.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(o.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(o.onDidChangeConfiguration(A=>{o.getModel()&&(A.hasChanged(43)&&this._updateDecorationsRunner.schedule(),A.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(o.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(o.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(o.onDidChangeModelOptions(A=>{A.tabSize&&this._updateDecorationsRunner.schedule()}));const _=this._contextKeyService.createKey("isInDiffRightEditor",o.hasWidgetFocus());return this._register(o.onDidFocusEditorWidget(()=>_.set(!0))),this._register(o.onDidBlurEditorWidget(()=>_.set(!1))),this._register(o.onDidContentSizeChange(A=>{const K=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+or.ONE_OVERVIEW_WIDTH,J=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:J,contentWidth:K,contentHeightChanged:A.contentHeightChanged,contentWidthChanged:A.contentWidthChanged})})),o}_createInnerEditor(t,i,o,_){return t.createInstance(lo.Gm,i,o,_)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return st.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(t){const i=l(t,this._options),o=C(this._options,i);this._options=i;const _=o.ignoreTrimWhitespace||o.renderIndicators,A=this._isVisible&&(o.maxComputationTime||o.maxFileSize);_?this._beginUpdateDecorations():A&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),o.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new Go(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Nr(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=or._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),o.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(t){if(t&&(!t.original||!t.modified))throw new Error(t.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(t?t.original:null),this._modifiedEditor.setModel(t?t.modified:null),this._updateDecorationsRunner.cancel(),t&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),t&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(t){return this._modifiedEditor.getVisibleColumnFromPosition(t)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(t){this._modifiedEditor.setPosition(t)}revealLine(t,i=0){this._modifiedEditor.revealLine(t,i)}revealLineInCenter(t,i=0){this._modifiedEditor.revealLineInCenter(t,i)}revealLineInCenterIfOutsideViewport(t,i=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(t,i)}revealLineNearTop(t,i=0){this._modifiedEditor.revealLineNearTop(t,i)}revealPosition(t,i=0){this._modifiedEditor.revealPosition(t,i)}revealPositionInCenter(t,i=0){this._modifiedEditor.revealPositionInCenter(t,i)}revealPositionInCenterIfOutsideViewport(t,i=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(t,i)}revealPositionNearTop(t,i=0){this._modifiedEditor.revealPositionNearTop(t,i)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(t){this._modifiedEditor.setSelection(t)}setSelections(t){this._modifiedEditor.setSelections(t)}revealLines(t,i,o=0){this._modifiedEditor.revealLines(t,i,o)}revealLinesInCenter(t,i,o=0){this._modifiedEditor.revealLinesInCenter(t,i,o)}revealLinesInCenterIfOutsideViewport(t,i,o=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(t,i,o)}revealLinesNearTop(t,i,o=0){this._modifiedEditor.revealLinesNearTop(t,i,o)}revealRange(t,i=0,o=!1,_=!0){this._modifiedEditor.revealRange(t,i,o,_)}revealRangeInCenter(t,i=0){this._modifiedEditor.revealRangeInCenter(t,i)}revealRangeInCenterIfOutsideViewport(t,i=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(t,i)}revealRangeNearTop(t,i=0){this._modifiedEditor.revealRangeNearTop(t,i)}revealRangeNearTopIfOutsideViewport(t,i=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(t,i)}revealRangeAtTop(t,i=0){this._modifiedEditor.revealRangeAtTop(t,i)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const t=this._originalEditor.saveViewState(),i=this._modifiedEditor.saveViewState();return{original:t,modified:i}}restoreViewState(t){if(t&&t.original&&t.modified){const i=t;this._originalEditor.restoreViewState(i.original),this._modifiedEditor.restoreViewState(i.modified)}}layout(t){this._elementSizeObserver.observe(t)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(t,i,o){this._modifiedEditor.trigger(t,i,o)}changeDecorations(t){return this._modifiedEditor.changeDecorations(t)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),o=or.ENTIRE_DIFF_OVERVIEW_WIDTH-2*or.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:or.ONE_OVERVIEW_WIDTH,right:o+or.ONE_OVERVIEW_WIDTH,height:t-i}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:or.ONE_OVERVIEW_WIDTH,height:t-i}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),or.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(t,i){return!t&&!i?!0:!t||!i?!1:t.toString()===i.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const t=this._originalEditor.getModel(),i=this._modifiedEditor.getModel();if(!t||!i)return;this._diffComputationToken++;const o=this._diffComputationToken,_=this._options.maxFileSize*1024*1024,A=K=>{const J=K.getValueLength();return _===0||J<=_};if(!A(t)||!A(i)){(!or._equals(t.uri,this._lastOriginalWarning)||!or._equals(i.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=i.uri,this._notificationService.warn(We.N("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._editorWorkerService.computeDiff(t.uri,i.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(K=>{o===this._diffComputationToken&&t===this._originalEditor.getModel()&&i===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=K,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},K=>{o===this._diffComputationToken&&t===this._originalEditor.getModel()&&i===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const t=this._diffComputationResult?this._diffComputationResult.changes:[],i=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),o=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),_=this._strategy.getEditorsDiffDecorations(t,this._options.ignoreTrimWhitespace,this._options.renderIndicators,i,o);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,_.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,_.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(t){const i=Object.assign({},t);return i.inDiffEditor=!0,i.automaticLayout=!1,i.scrollbar=Object.assign({},i.scrollbar||{}),i.scrollbar.vertical="visible",i.folding=!1,i.codeLens=this._options.diffCodeLens,i.fixedOverflowWidgets=!0,i.minimap=Object.assign({},i.minimap||{}),i.minimap.enabled=!1,i}_adjustOptionsForLeftHandSide(t){const i=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide?i.wordWrapOverride1=this._options.diffWordWrap:i.wordWrapOverride1="off",t.originalAriaLabel&&(i.ariaLabel=t.originalAriaLabel),i.readOnly=!this._options.originalEditable,i.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},i),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(t){const i=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(i.ariaLabel=t.modifiedAriaLabel),i.wordWrapOverride1=this._options.diffWordWrap,i.revealHorizontalRightPadding=E.BH.revealHorizontalRightPadding.defaultValue+or.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},i),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const t=this._elementSizeObserver.getWidth(),i=this._elementSizeObserver.getHeight(),o=this._getReviewHeight(),_=this._strategy.layout();this._originalDomNode.style.width=_+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=t-_+"px",this._modifiedDomNode.style.left=_+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=i-o+"px",this._overviewDomElement.style.width=or.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=t-or.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(or.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:_,height:i-o}),this._modifiedEditor.layout({width:t-_-(this._options.renderOverviewRuler?or.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:i-o}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(i-o,t,o),this._layoutOverviewViewport()}_layoutOverviewViewport(){const t=this._computeOverviewViewport();t?(this._overviewViewportDomElement.setTop(t.top),this._overviewViewportDomElement.setHeight(t.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const t=this._modifiedEditor.getLayoutInfo();if(!t)return null;const i=this._modifiedEditor.getScrollTop(),o=this._modifiedEditor.getScrollHeight(),_=Math.max(0,t.height),A=Math.max(0,_-2*0),K=o>0?A/o:0,J=Math.max(0,Math.floor(t.height*K)),Ce=Math.floor(i*K);return{height:J,top:Ce}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(t){this._strategy&&this._strategy.dispose(),this._strategy=t,t.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(t,i){const o=this._diffComputationResult?this._diffComputationResult.changes:[];if(o.length===0||t<i(o[0]))return null;let _=0,A=o.length-1;for(;_<A;){const K=Math.floor((_+A)/2),J=i(o[K]),Ce=K+1<=A?i(o[K+1]):1073741824;t<J?A=K-1:t>=Ce?_=K+1:(_=K,A=K)}return o[_]}_getEquivalentLineForOriginalLineNumber(t){const i=this._getLineChangeAtOrBeforeLineNumber(t,Ce=>Ce.originalStartLineNumber);if(!i)return t;const o=i.originalStartLineNumber+(i.originalEndLineNumber>0?-1:0),_=i.modifiedStartLineNumber+(i.modifiedEndLineNumber>0?-1:0),A=i.originalEndLineNumber>0?i.originalEndLineNumber-i.originalStartLineNumber+1:0,K=i.modifiedEndLineNumber>0?i.modifiedEndLineNumber-i.modifiedStartLineNumber+1:0,J=t-o;return J<=A?_+Math.min(J,K):_+K-A+J}_getEquivalentLineForModifiedLineNumber(t){const i=this._getLineChangeAtOrBeforeLineNumber(t,Ce=>Ce.modifiedStartLineNumber);if(!i)return t;const o=i.originalStartLineNumber+(i.originalEndLineNumber>0?-1:0),_=i.modifiedStartLineNumber+(i.modifiedEndLineNumber>0?-1:0),A=i.originalEndLineNumber>0?i.originalEndLineNumber-i.originalStartLineNumber+1:0,K=i.modifiedEndLineNumber>0?i.modifiedEndLineNumber-i.modifiedStartLineNumber+1:0,J=t-_;return J<=K?o+Math.min(J,A):o+A-K+J}getDiffLineInformationForOriginal(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(t)}:null}getDiffLineInformationForModified(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(t)}:null}};Hs.ONE_OVERVIEW_WIDTH=15,Hs.ENTIRE_DIFF_OVERVIEW_WIDTH=30,Hs.UPDATE_DIFF_DECORATIONS_DELAY=200,Hs=Ir([ir(3,dr.p),ir(4,kn.p),ir(5,Rt.i6),ir(6,jn.TG),ir(7,Mt.$),ir(8,fs.XE),ir(9,zt.lT),ir(10,Io.i),ir(11,fr.e)],Hs);class vo extends ii.JT{constructor(t){super(),this._dataSource=t,this._insertColor=null,this._removeColor=null}applyColors(t){const i=(t.getColor(un.yp)||un.Cz).transparent(2),o=(t.getColor(un.P4)||un.ke).transparent(2),_=!i.equals(this._insertColor)||!o.equals(this._removeColor);return this._insertColor=i,this._removeColor=o,_}getEditorsDiffDecorations(t,i,o,_,A){A=A.sort((Ee,Fe)=>Ee.afterLineNumber-Fe.afterLineNumber),_=_.sort((Ee,Fe)=>Ee.afterLineNumber-Fe.afterLineNumber);const K=this._getViewZones(t,_,A,o),J=this._getOriginalEditorDecorations(t,i,o),Ce=this._getModifiedEditorDecorations(t,i,o);return{original:{decorations:J.decorations,overviewZones:J.overviewZones,zones:K.original},modified:{decorations:Ce.decorations,overviewZones:Ce.overviewZones,zones:K.modified}}}}class nr{constructor(t){this._source=t,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class Vo{constructor(t,i,o,_,A){this._lineChanges=t,this._originalForeignVZ=i,this._modifiedForeignVZ=o,this._originalEditor=_,this._modifiedEditor=A}static _getViewLineCount(t,i,o){const _=t.getModel(),A=t._getViewModel();if(_&&A){const K=n(_,A,i,o);return K.endLineNumber-K.startLineNumber+1}return o-i+1}getViewZones(){const t=this._originalEditor.getOption(58),i=this._modifiedEditor.getOption(58),o=this._originalEditor.getOption(130).wrappingColumn!==-1,_=this._modifiedEditor.getOption(130).wrappingColumn!==-1,A=o||_,K=this._originalEditor.getModel(),J=this._originalEditor._getViewModel().coordinatesConverter,Ce=this._modifiedEditor._getViewModel().coordinatesConverter,Ee={original:[],modified:[]};let Fe=0,Qe=0,Kt=0,ki=0,Fi=0,rn=0;const In=(Ds,Fn)=>Ds.afterLineNumber-Fn.afterLineNumber,$n=(Ds,Fn)=>{if(Fn.domNode===null&&Ds.length>0){const Nn=Ds[Ds.length-1];if(Nn.afterLineNumber===Fn.afterLineNumber&&Nn.domNode===null){Nn.heightInLines+=Fn.heightInLines;return}}Ds.push(Fn)},Yn=new nr(this._modifiedForeignVZ),xn=new nr(this._originalForeignVZ);let Rn=1,Zs=1;for(let Ds=0,Fn=this._lineChanges.length;Ds<=Fn;Ds++){const Nn=Ds<Fn?this._lineChanges[Ds]:null;Nn!==null?(Kt=Nn.originalStartLineNumber+(Nn.originalEndLineNumber>0?-1:0),ki=Nn.modifiedStartLineNumber+(Nn.modifiedEndLineNumber>0?-1:0),Qe=Nn.originalEndLineNumber>0?Vo._getViewLineCount(this._originalEditor,Nn.originalStartLineNumber,Nn.originalEndLineNumber):0,Fe=Nn.modifiedEndLineNumber>0?Vo._getViewLineCount(this._modifiedEditor,Nn.modifiedStartLineNumber,Nn.modifiedEndLineNumber):0,Fi=Math.max(Nn.originalStartLineNumber,Nn.originalEndLineNumber),rn=Math.max(Nn.modifiedStartLineNumber,Nn.modifiedEndLineNumber)):(Kt+=1e7+Qe,ki+=1e7+Fe,Fi=Kt,rn=ki);let as=[],Kn=[];if(A){let gs;Nn?Nn.originalEndLineNumber>0?gs=Nn.originalStartLineNumber-Rn:gs=Nn.modifiedStartLineNumber-Zs:gs=K.getLineCount()-Rn;for(let Fo=0;Fo<gs;Fo++){const mr=Rn+Fo,Ro=Zs+Fo,vr=J.getModelLineViewLineCount(mr),Er=Ce.getModelLineViewLineCount(Ro);vr<Er?as.push({afterLineNumber:mr,heightInLines:Er-vr,domNode:null,marginDomNode:null}):vr>Er&&Kn.push({afterLineNumber:Ro,heightInLines:vr-Er,domNode:null,marginDomNode:null})}Nn&&(Rn=(Nn.originalEndLineNumber>0?Nn.originalEndLineNumber:Nn.originalStartLineNumber)+1,Zs=(Nn.modifiedEndLineNumber>0?Nn.modifiedEndLineNumber:Nn.modifiedStartLineNumber)+1)}for(;Yn.current&&Yn.current.afterLineNumber<=rn;){let gs;Yn.current.afterLineNumber<=ki?gs=Kt-ki+Yn.current.afterLineNumber:gs=Fi;let Fo=null;Nn&&Nn.modifiedStartLineNumber<=Yn.current.afterLineNumber&&Yn.current.afterLineNumber<=Nn.modifiedEndLineNumber&&(Fo=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),as.push({afterLineNumber:gs,heightInLines:Yn.current.height/i,domNode:null,marginDomNode:Fo}),Yn.advance()}for(;xn.current&&xn.current.afterLineNumber<=Fi;){let gs;xn.current.afterLineNumber<=Kt?gs=ki-Kt+xn.current.afterLineNumber:gs=rn,Kn.push({afterLineNumber:gs,heightInLines:xn.current.height/t,domNode:null}),xn.advance()}if(Nn!==null&&Eo(Nn)){const gs=this._produceOriginalFromDiff(Nn,Qe,Fe);gs&&as.push(gs)}if(Nn!==null&&Ct(Nn)){const gs=this._produceModifiedFromDiff(Nn,Qe,Fe);gs&&Kn.push(gs)}let zs=0,wo=0;for(as=as.sort(In),Kn=Kn.sort(In);zs<as.length&&wo<Kn.length;){const gs=as[zs],Fo=Kn[wo],mr=gs.afterLineNumber-Kt,Ro=Fo.afterLineNumber-ki;mr<Ro?($n(Ee.original,gs),zs++):Ro<mr?($n(Ee.modified,Fo),wo++):gs.shouldNotShrink?($n(Ee.original,gs),zs++):Fo.shouldNotShrink?($n(Ee.modified,Fo),wo++):gs.heightInLines>=Fo.heightInLines?(gs.heightInLines-=Fo.heightInLines,wo++):(Fo.heightInLines-=gs.heightInLines,zs++)}for(;zs<as.length;)$n(Ee.original,as[zs]),zs++;for(;wo<Kn.length;)$n(Ee.modified,Kn[wo]),wo++}return{original:Vo._ensureDomNodes(Ee.original),modified:Vo._ensureDomNodes(Ee.modified)}}static _ensureDomNodes(t){return t.map(i=>(i.domNode||(i.domNode=e()),i))}}function Xo(u,t,i,o,_){return{range:new R.e(u,t,i,o),options:_}}const to={charDelete:jo.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:jo.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:jo.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:jo.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:jo.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:jo.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+fs.kS.asClassName(Zn),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:jo.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:jo.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+fs.kS.asClassName(rs),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:jo.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class Go extends vo{constructor(t,i){super(t),this._disableSash=i===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new Jo.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(o=>this._onSashDrag(o)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(t){const i=t===!1;this._disableSash!==i&&(this._disableSash=i,this._sash.state=this._disableSash?0:3)}layout(t=this._sashRatio){const o=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Hs.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let _=Math.floor((t||.5)*o);const A=Math.floor(.5*o);return _=this._disableSash?A:_||A,o>Go.MINIMUM_EDITOR_WIDTH*2?(_<Go.MINIMUM_EDITOR_WIDTH&&(_=Go.MINIMUM_EDITOR_WIDTH),_>o-Go.MINIMUM_EDITOR_WIDTH&&(_=o-Go.MINIMUM_EDITOR_WIDTH)):_=A,this._sashPosition!==_&&(this._sashPosition=_,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(t){const o=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Hs.ENTIRE_DIFF_OVERVIEW_WIDTH:0),_=this.layout((this._startSashPosition+(t.currentX-t.startX))/o);this._sashRatio=_/o,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(t){return 0}getVerticalSashLeft(t){return this._sashPosition}getVerticalSashHeight(t){return this._dataSource.getHeight()}_getViewZones(t,i,o){const _=this._dataSource.getOriginalEditor(),A=this._dataSource.getModifiedEditor();return new Vr(t,i,o,_,A).getViewZones()}_getOriginalEditorDecorations(t,i,o){const _=this._dataSource.getOriginalEditor(),A=String(this._removeColor),K={decorations:[],overviewZones:[]},J=_.getModel(),Ce=_._getViewModel();for(const Ee of t)if(Ct(Ee)){K.decorations.push({range:new R.e(Ee.originalStartLineNumber,1,Ee.originalEndLineNumber,1073741824),options:o?to.lineDeleteWithSign:to.lineDelete}),(!Eo(Ee)||!Ee.charChanges)&&K.decorations.push(Xo(Ee.originalStartLineNumber,1,Ee.originalEndLineNumber,1073741824,to.charDeleteWholeLine));const Fe=n(J,Ce,Ee.originalStartLineNumber,Ee.originalEndLineNumber);if(K.overviewZones.push(new yr.EY(Fe.startLineNumber,Fe.endLineNumber,A)),Ee.charChanges){for(const Qe of Ee.charChanges)if(Ct(Qe))if(i)for(let Kt=Qe.originalStartLineNumber;Kt<=Qe.originalEndLineNumber;Kt++){let ki,Fi;Kt===Qe.originalStartLineNumber?ki=Qe.originalStartColumn:ki=J.getLineFirstNonWhitespaceColumn(Kt),Kt===Qe.originalEndLineNumber?Fi=Qe.originalEndColumn:Fi=J.getLineLastNonWhitespaceColumn(Kt),K.decorations.push(Xo(Kt,ki,Kt,Fi,to.charDelete))}else K.decorations.push(Xo(Qe.originalStartLineNumber,Qe.originalStartColumn,Qe.originalEndLineNumber,Qe.originalEndColumn,to.charDelete))}}return K}_getModifiedEditorDecorations(t,i,o){const _=this._dataSource.getModifiedEditor(),A=String(this._insertColor),K={decorations:[],overviewZones:[]},J=_.getModel(),Ce=_._getViewModel();for(const Ee of t)if(Eo(Ee)){K.decorations.push({range:new R.e(Ee.modifiedStartLineNumber,1,Ee.modifiedEndLineNumber,1073741824),options:o?to.lineInsertWithSign:to.lineInsert}),(!Ct(Ee)||!Ee.charChanges)&&K.decorations.push(Xo(Ee.modifiedStartLineNumber,1,Ee.modifiedEndLineNumber,1073741824,to.charInsertWholeLine));const Fe=n(J,Ce,Ee.modifiedStartLineNumber,Ee.modifiedEndLineNumber);if(K.overviewZones.push(new yr.EY(Fe.startLineNumber,Fe.endLineNumber,A)),Ee.charChanges){for(const Qe of Ee.charChanges)if(Eo(Qe))if(i)for(let Kt=Qe.modifiedStartLineNumber;Kt<=Qe.modifiedEndLineNumber;Kt++){let ki,Fi;Kt===Qe.modifiedStartLineNumber?ki=Qe.modifiedStartColumn:ki=J.getLineFirstNonWhitespaceColumn(Kt),Kt===Qe.modifiedEndLineNumber?Fi=Qe.modifiedEndColumn:Fi=J.getLineLastNonWhitespaceColumn(Kt),K.decorations.push(Xo(Kt,ki,Kt,Fi,to.charInsert))}else K.decorations.push(Xo(Qe.modifiedStartLineNumber,Qe.modifiedStartColumn,Qe.modifiedEndLineNumber,Qe.modifiedEndColumn,to.charInsert))}}return K}}Go.MINIMUM_EDITOR_WIDTH=100;class Vr extends Vo{constructor(t,i,o,_,A){super(t,i,o,_,A)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(t,i,o){return o>i?{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:o-i,domNode:null}:null}_produceModifiedFromDiff(t,i,o){return i>o?{afterLineNumber:Math.max(t.modifiedStartLineNumber,t.modifiedEndLineNumber),heightInLines:i-o,domNode:null}:null}}class Nr extends vo{constructor(t,i){super(t),this._decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(t.getOriginalEditor().onDidLayoutChange(o=>{this._decorationsLeft!==o.decorationsLeft&&(this._decorationsLeft=o.decorationsLeft,t.relayoutEditors())}))}setEnableSplitViewResizing(t){}_getViewZones(t,i,o,_){const A=this._dataSource.getOriginalEditor(),K=this._dataSource.getModifiedEditor();return new Or(t,i,o,A,K,_).getViewZones()}_getOriginalEditorDecorations(t,i,o){const _=String(this._removeColor),A={decorations:[],overviewZones:[]},K=this._dataSource.getOriginalEditor(),J=K.getModel(),Ce=K._getViewModel();for(const Ee of t)if(Ct(Ee)){A.decorations.push({range:new R.e(Ee.originalStartLineNumber,1,Ee.originalEndLineNumber,1073741824),options:to.lineDeleteMargin});const Fe=n(J,Ce,Ee.originalStartLineNumber,Ee.originalEndLineNumber);A.overviewZones.push(new yr.EY(Fe.startLineNumber,Fe.endLineNumber,_))}return A}_getModifiedEditorDecorations(t,i,o){const _=this._dataSource.getModifiedEditor(),A=String(this._insertColor),K={decorations:[],overviewZones:[]},J=_.getModel(),Ce=_._getViewModel();for(const Ee of t)if(Eo(Ee)){K.decorations.push({range:new R.e(Ee.modifiedStartLineNumber,1,Ee.modifiedEndLineNumber,1073741824),options:o?to.lineInsertWithSign:to.lineInsert});const Fe=n(J,Ce,Ee.modifiedStartLineNumber,Ee.modifiedEndLineNumber);if(K.overviewZones.push(new yr.EY(Fe.startLineNumber,Fe.endLineNumber,A)),Ee.charChanges){for(const Qe of Ee.charChanges)if(Eo(Qe))if(i)for(let Kt=Qe.modifiedStartLineNumber;Kt<=Qe.modifiedEndLineNumber;Kt++){let ki,Fi;Kt===Qe.modifiedStartLineNumber?ki=Qe.modifiedStartColumn:ki=J.getLineFirstNonWhitespaceColumn(Kt),Kt===Qe.modifiedEndLineNumber?Fi=Qe.modifiedEndColumn:Fi=J.getLineLastNonWhitespaceColumn(Kt),K.decorations.push(Xo(Kt,ki,Kt,Fi,to.charInsert))}else K.decorations.push(Xo(Qe.modifiedStartLineNumber,Qe.modifiedStartColumn,Qe.modifiedEndLineNumber,Qe.modifiedEndColumn,to.charInsert))}else K.decorations.push(Xo(Ee.modifiedStartLineNumber,1,Ee.modifiedEndLineNumber,1073741824,to.charInsertWholeLine))}return K}layout(){return Math.max(5,this._decorationsLeft)}}class Or extends Vo{constructor(t,i,o,_,A,K){super(t,i,o,_,A),this._originalModel=_.getModel(),this._renderIndicators=K,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const t=super.getViewZones();return this._finalize(t),t}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const t=document.createElement("div");return t.className="inline-added-margin-view-zone",t}_produceOriginalFromDiff(t,i,o){const _=document.createElement("div");return _.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:o,domNode:document.createElement("div"),marginDomNode:_}}_produceModifiedFromDiff(t,i,o){const _=document.createElement("div");_.className=`view-lines line-delete ${Ar.S}`;const A=document.createElement("div");A.className="inline-deleted-margin-view-zone";const K={shouldNotShrink:!0,afterLineNumber:t.modifiedEndLineNumber===0?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1,heightInLines:i,minWidthInPx:0,domNode:_,marginDomNode:A,diff:{originalStartLineNumber:t.originalStartLineNumber,originalEndLineNumber:t.originalEndLineNumber,modifiedStartLineNumber:t.modifiedStartLineNumber,modifiedEndLineNumber:t.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let J=t.originalStartLineNumber;J<=t.originalEndLineNumber;J++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(J),null,null);return this._pendingLineChange.push(t),this._pendingViewZones.push(K),K}_finalize(t){const i=this._modifiedEditor.getOptions(),o=this._modifiedEditor.getModel().getOptions().tabSize,_=i.get(43),A=i.get(29),K=_.typicalHalfwidthCharacterWidth,J=i.get(92),Ce=this._originalModel.mightContainNonBasicASCII(),Ee=this._originalModel.mightContainRTL(),Fe=i.get(58),Kt=i.get(129).decorationsWidth,ki=i.get(104),Fi=i.get(87),rn=i.get(82),In=i.get(44),$n=this._lineBreaksComputer.finalize();let Yn=0;for(let xn=0;xn<this._pendingLineChange.length;xn++){const Rn=this._pendingLineChange[xn],Zs=this._pendingViewZones[xn],Ds=Zs.domNode;Cs.V.applyFontInfoSlow(Ds,_);const Fn=Zs.marginDomNode;Cs.V.applyFontInfoSlow(Fn,_);const Nn=[];if(Rn.charChanges)for(const Ro of Rn.charChanges)Ct(Ro)&&Nn.push(new Ye.$t(new R.e(Ro.originalStartLineNumber,Ro.originalStartColumn,Ro.originalEndLineNumber,Ro.originalEndColumn),"char-delete",0));const as=Nn.length>0,Kn=(0,xr.l$)(1e4);let zs=0,wo=0,gs=null;for(let Ro=Rn.originalStartLineNumber;Ro<=Rn.originalEndLineNumber;Ro++){const vr=Ro-Rn.originalStartLineNumber,Er=this._originalModel.getLineTokens(Ro),kr=Er.getLineContent(),Wr=$n[Yn++],Sr=rr.Kp.filter(Nn,Ro,1,kr.length+1);if(Wr){let El=0;for(const xl of Wr.breakOffsets){const Qh=Er.sliceAndInflate(El,xl,0),Xh=kr.substring(El,xl);zs=Math.max(zs,this._renderOriginalLine(wo++,Xh,Qh,rr.Kp.extractWrapped(Sr,El,xl),as,Ce,Ee,_,A,Fe,Kt,ki,Fi,rn,In,o,Kn,Fn)),El=xl}for(gs||(gs=[]);gs.length<vr;)gs[gs.length]=1;gs[vr]=Wr.breakOffsets.length,Zs.heightInLines+=Wr.breakOffsets.length-1;const fu=document.createElement("div");fu.className="line-delete",t.original.push({afterLineNumber:Ro,afterColumn:0,heightInLines:Wr.breakOffsets.length-1,domNode:e(),marginDomNode:fu})}else zs=Math.max(zs,this._renderOriginalLine(wo++,kr,Er,Sr,as,Ce,Ee,_,A,Fe,Kt,ki,Fi,rn,In,o,Kn,Fn))}zs+=J;const Fo=Kn.build(),mr=Os?Os.createHTML(Fo):Fo;if(Ds.innerHTML=mr,Zs.minWidthInPx=zs*K,gs){const Ro=Rn.originalEndLineNumber-Rn.originalStartLineNumber;for(;gs.length<=Ro;)gs[gs.length]=1}Zs.diff.viewLineCounts=gs}t.original.sort((xn,Rn)=>xn.afterLineNumber-Rn.afterLineNumber)}_renderOriginalLine(t,i,o,_,A,K,J,Ce,Ee,Fe,Qe,Kt,ki,Fi,rn,In,$n,Yn){$n.appendASCIIString('<div class="view-line'),A||$n.appendASCIIString(" char-delete"),$n.appendASCIIString('" style="top:'),$n.appendASCIIString(String(t*Fe)),$n.appendASCIIString('px;width:1000000px;">');const xn=Ye.wA.isBasicASCII(i,K),Rn=Ye.wA.containsRTL(i,xn,J),Zs=(0,Te.d1)(new Te.IJ(Ce.isMonospace&&!Ee,Ce.canUseHalfwidthRightwardsArrow,i,!1,xn,Rn,0,o,_,In,0,Ce.spaceWidth,Ce.middotWidth,Ce.wsmiddotWidth,Kt,ki,Fi,rn!==E.n0.OFF,null),$n);if($n.appendASCIIString("</div>"),this._renderIndicators){const Ds=document.createElement("div");Ds.className=`delete-sign ${fs.kS.asClassName(rs)}`,Ds.setAttribute("style",`position:absolute;top:${t*Fe}px;width:${Qe}px;height:${Fe}px;right:0;`),Yn.appendChild(Ds)}return Zs.characterMapping.getAbsoluteOffset(Zs.characterMapping.length)}}function Tr(u,t){return(0,E.NY)(u,t,["off","on","inherit"])}function Eo(u){return u.modifiedEndLineNumber>0}function Ct(u){return u.originalEndLineNumber>0}function e(){const u=document.createElement("div");return u.className="diagonal-fill",u}function n(u,t,i,o){const _=u.getLineCount();return i=Math.min(_,Math.max(1,i)),o=Math.min(_,Math.max(1,o)),t.coordinatesConverter.convertModelRangeToViewRange(new R.e(i,u.getLineMinColumn(i),o,u.getLineMaxColumn(o)))}function l(u,t){return{enableSplitViewResizing:(0,E.O7)(u.enableSplitViewResizing,t.enableSplitViewResizing),renderSideBySide:(0,E.O7)(u.renderSideBySide,t.renderSideBySide),maxComputationTime:(0,E.Zc)(u.maxComputationTime,t.maxComputationTime,0,1073741824),maxFileSize:(0,E.Zc)(u.maxFileSize,t.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,E.O7)(u.ignoreTrimWhitespace,t.ignoreTrimWhitespace),renderIndicators:(0,E.O7)(u.renderIndicators,t.renderIndicators),originalEditable:(0,E.O7)(u.originalEditable,t.originalEditable),diffCodeLens:(0,E.O7)(u.diffCodeLens,t.diffCodeLens),renderOverviewRuler:(0,E.O7)(u.renderOverviewRuler,t.renderOverviewRuler),diffWordWrap:Tr(u.diffWordWrap,t.diffWordWrap)}}function C(u,t){return{enableSplitViewResizing:u.enableSplitViewResizing!==t.enableSplitViewResizing,renderSideBySide:u.renderSideBySide!==t.renderSideBySide,maxComputationTime:u.maxComputationTime!==t.maxComputationTime,maxFileSize:u.maxFileSize!==t.maxFileSize,ignoreTrimWhitespace:u.ignoreTrimWhitespace!==t.ignoreTrimWhitespace,renderIndicators:u.renderIndicators!==t.renderIndicators,originalEditable:u.originalEditable!==t.originalEditable,diffCodeLens:u.diffCodeLens!==t.diffCodeLens,renderOverviewRuler:u.renderOverviewRuler!==t.renderOverviewRuler,diffWordWrap:u.diffWordWrap!==t.diffWordWrap}}(0,fs.Ic)((u,t)=>{const i=u.getColor(un.yp);i&&(t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${i}; }`));const o=u.getColor(un.P4);o&&(t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${o}; }`),t.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${o}; }`),t.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${o}; }`));const _=u.getColor(un.XL);_&&t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${u.type==="hc"?"dashed":"solid"} ${_}; }`);const A=u.getColor(un.mH);A&&t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${u.type==="hc"?"dashed":"solid"} ${A}; }`);const K=u.getColor(un._w);K&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${K}; }`);const J=u.getColor(un.LL);J&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${J}; }`);const Ce=u.getColor(un.et);Ce&&t.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Ce};
			}
		`);const Ee=u.getColor(un.AB);Ee&&t.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Ee};
			}
		`);const Fe=u.getColor(un.yn);Fe&&t.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${Fe};
			}
		`);const Qe=u.getColor(un.L_);t.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${Qe} 12.5%,
			#0000 12.5%, #0000 50%,
			${Qe} 50%, ${Qe} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)});var k=c(30653);const Z=(0,jn.yh)("themeService");var ie=c(84144),ce=c(91847),De=c(31106);class Ae extends ii.JT{constructor(){super(),this._onCodeEditorAdd=this._register(new Q.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new Q.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new Q.Q5),this._onDiffEditorRemove=this._register(new Q.Q5),this._onDecorationTypeRegistered=this._register(new Q.Q5),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(t){this._codeEditors[t.getId()]=t,this._onCodeEditorAdd.fire(t)}removeCodeEditor(t){delete this._codeEditors[t.getId()]&&this._onCodeEditorRemove.fire(t)}listCodeEditors(){return Object.keys(this._codeEditors).map(t=>this._codeEditors[t])}addDiffEditor(t){this._diffEditors[t.getId()]=t,this._onDiffEditorAdd.fire(t)}removeDiffEditor(t){delete this._diffEditors[t.getId()]&&this._onDiffEditorRemove.fire(t)}listDiffEditors(){return Object.keys(this._diffEditors).map(t=>this._diffEditors[t])}getFocusedCodeEditor(){let t=null;const i=this.listCodeEditors();for(const o of i){if(o.hasTextFocus())return o;o.hasWidgetFocus()&&(t=o)}return t}setModelProperty(t,i,o){const _=t.toString();let A;this._modelProperties.has(_)?A=this._modelProperties.get(_):(A=new Map,this._modelProperties.set(_,A)),A.set(i,o)}getModelProperty(t,i){const o=t.toString();if(this._modelProperties.has(o))return this._modelProperties.get(o).get(i)}}var Ue=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},Lt=function(u,t){return function(i,o){t(i,o,u)}};class _t{constructor(t,i,o){this._parent=t,this._editorId=i,this._styleSheet=o,this._refCount=0}ref(){this._refCount++}unref(){var t;this._refCount--,this._refCount===0&&((t=this._styleSheet.parentNode)===null||t===void 0||t.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(t,i){this._styleSheet.sheet.insertRule(t,i)}removeRulesContainingSelector(t){Je.uN(t,this._styleSheet)}}class Bt{constructor(t){this._styleSheet=t}ref(){}unref(){}insertRule(t,i){this._styleSheet.sheet.insertRule(t,i)}removeRulesContainingSelector(t){Je.uN(t,this._styleSheet)}}let Xt=class extends Ae{constructor(t,i){super(),this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=t||null,this._themeService=i}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new Bt(Je.dS())),this._globalStyleSheet}_getOrCreateStyleSheet(t){if(!t)return this._getOrCreateGlobalStyleSheet();const i=t.getContainerDomNode();if(!Je.OO(i))return this._getOrCreateGlobalStyleSheet();const o=t.getId();if(!this._editorStyleSheets.has(o)){const _=new _t(this,o,Je.dS(i));this._editorStyleSheets.set(o,_)}return this._editorStyleSheets.get(o)}_removeEditorStyleSheets(t){this._editorStyleSheets.delete(t)}registerDecorationType(t,i,o,_,A){let K=this._decorationOptionProviders.get(i);if(!K){const J=this._getOrCreateStyleSheet(A),Ce={styleSheet:J,key:i,parentTypeKey:_,options:o||Object.create(null)};_?K=new fi(this._themeService,J,Ce):K=new Di(t,this._themeService,J,Ce),this._decorationOptionProviders.set(i,K),this._onDecorationTypeRegistered.fire(i)}K.refCount++}removeDecorationType(t){const i=this._decorationOptionProviders.get(t);i&&(i.refCount--,i.refCount<=0&&(this._decorationOptionProviders.delete(t),i.dispose(),this.listCodeEditors().forEach(o=>o.removeDecorations(t))))}resolveDecorationOptions(t,i){const o=this._decorationOptionProviders.get(t);if(!o)throw new Error("Unknown decoration type key: "+t);return o.getOptions(this,i)}};Xt=Ue([Lt(1,fs.XE)],Xt);class fi{constructor(t,i,o){this._styleSheet=i,this._styleSheet.ref(),this._parentTypeKey=o.parentTypeKey,this.refCount=0,this._beforeContentRules=new Ti(3,o,t),this._afterContentRules=new Ti(4,o,t)}getOptions(t,i){const o=t.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(o.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(o.afterContentClassName=this._afterContentRules.className),o}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}class Di{constructor(t,i,o,_){this._disposables=new ii.SL,this.description=t,this._styleSheet=o,this._styleSheet.ref(),this.refCount=0;const A=Qe=>{const Kt=new Ti(Qe,_,i);if(this._disposables.add(Kt),Kt.hasContent)return Kt.className},K=Qe=>{const Kt=new Ti(Qe,_,i);return this._disposables.add(Kt),Kt.hasContent?{className:Kt.className,hasLetterSpacing:Kt.hasLetterSpacing}:null};this.className=A(0);const J=K(1);if(J&&(this.inlineClassName=J.className,this.inlineClassNameAffectsLetterSpacing=J.hasLetterSpacing),this.beforeContentClassName=A(3),this.afterContentClassName=A(4),_.options.beforeInjectedText&&_.options.beforeInjectedText.contentText){const Qe=K(5);this.beforeInjectedText={content:_.options.beforeInjectedText.contentText,inlineClassName:Qe==null?void 0:Qe.className,inlineClassNameAffectsLetterSpacing:(Qe==null?void 0:Qe.hasLetterSpacing)||_.options.beforeInjectedText.affectsLetterSpacing}}if(_.options.afterInjectedText&&_.options.afterInjectedText.contentText){const Qe=K(6);this.afterInjectedText={content:_.options.afterInjectedText.contentText,inlineClassName:Qe==null?void 0:Qe.className,inlineClassNameAffectsLetterSpacing:(Qe==null?void 0:Qe.hasLetterSpacing)||_.options.afterInjectedText.affectsLetterSpacing}}this.glyphMarginClassName=A(2);const Ce=_.options;this.isWholeLine=!!Ce.isWholeLine,this.stickiness=Ce.rangeBehavior;const Ee=Ce.light&&Ce.light.overviewRulerColor||Ce.overviewRulerColor,Fe=Ce.dark&&Ce.dark.overviewRulerColor||Ce.overviewRulerColor;(typeof Ee!="undefined"||typeof Fe!="undefined")&&(this.overviewRuler={color:Ee||Fe,darkColor:Fe||Ee,position:Ce.overviewRulerLane||Mi.sh.Center})}getOptions(t,i){return i?{description:this.description,inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness,before:this.beforeInjectedText,after:this.afterInjectedText}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}const Wi={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};",verticalAlign:"vertical-align:{0};"};class Ti{constructor(t,i,o){this._theme=o.getColorTheme(),this._ruleType=t,this._providerArgs=i,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let _=Yi.getClassName(this._providerArgs.key,t);this._providerArgs.parentTypeKey&&(_=_+" "+Yi.getClassName(this._providerArgs.parentTypeKey,t)),this._className=_,this._unThemedSelector=Yi.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,t),this._buildCSS(),this._usesThemeColors?this._themeListener=o.onDidColorThemeChange(A=>{this._theme=o.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const t=this._providerArgs.options;let i,o,_;switch(this._ruleType){case 0:i=this.getCSSTextForModelDecorationClassName(t),o=this.getCSSTextForModelDecorationClassName(t.light),_=this.getCSSTextForModelDecorationClassName(t.dark);break;case 1:i=this.getCSSTextForModelDecorationInlineClassName(t),o=this.getCSSTextForModelDecorationInlineClassName(t.light),_=this.getCSSTextForModelDecorationInlineClassName(t.dark);break;case 2:i=this.getCSSTextForModelDecorationGlyphMarginClassName(t),o=this.getCSSTextForModelDecorationGlyphMarginClassName(t.light),_=this.getCSSTextForModelDecorationGlyphMarginClassName(t.dark);break;case 3:i=this.getCSSTextForModelDecorationContentClassName(t.before),o=this.getCSSTextForModelDecorationContentClassName(t.light&&t.light.before),_=this.getCSSTextForModelDecorationContentClassName(t.dark&&t.dark.before);break;case 4:i=this.getCSSTextForModelDecorationContentClassName(t.after),o=this.getCSSTextForModelDecorationContentClassName(t.light&&t.light.after),_=this.getCSSTextForModelDecorationContentClassName(t.dark&&t.dark.after);break;case 5:i=this.getCSSTextForModelDecorationContentClassName(t.beforeInjectedText),o=this.getCSSTextForModelDecorationContentClassName(t.light&&t.light.beforeInjectedText),_=this.getCSSTextForModelDecorationContentClassName(t.dark&&t.dark.beforeInjectedText);break;case 6:i=this.getCSSTextForModelDecorationContentClassName(t.afterInjectedText),o=this.getCSSTextForModelDecorationContentClassName(t.light&&t.light.afterInjectedText),_=this.getCSSTextForModelDecorationContentClassName(t.dark&&t.dark.afterInjectedText);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const A=this._providerArgs.styleSheet;let K=!1;i.length>0&&(A.insertRule(`${this._unThemedSelector} {${i}}`,0),K=!0),o.length>0&&(A.insertRule(`.vs${this._unThemedSelector} {${o}}`,0),K=!0),_.length>0&&(A.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${_}}`,0),K=!0),this._hasContent=K}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(t){if(!t)return"";const i=[];return this.collectCSSText(t,["backgroundColor"],i),this.collectCSSText(t,["outline","outlineColor","outlineStyle","outlineWidth"],i),this.collectBorderSettingsCSSText(t,i),i.join("")}getCSSTextForModelDecorationInlineClassName(t){if(!t)return"";const i=[];return this.collectCSSText(t,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],i),t.letterSpacing&&(this._hasLetterSpacing=!0),i.join("")}getCSSTextForModelDecorationContentClassName(t){if(!t)return"";const i=[];if(typeof t!="undefined"){if(this.collectBorderSettingsCSSText(t,i),typeof t.contentIconPath!="undefined"&&i.push(an.WU(Wi.contentIconPath,Je.wY(y.o.revive(t.contentIconPath)))),typeof t.contentText=="string"){const _=t.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");i.push(an.WU(Wi.contentText,_))}this.collectCSSText(t,["verticalAlign","fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],i),this.collectCSSText(t,["width","height"],i)&&i.push("display:inline-block;")}return i.join("")}getCSSTextForModelDecorationGlyphMarginClassName(t){if(!t)return"";const i=[];return typeof t.gutterIconPath!="undefined"&&(i.push(an.WU(Wi.gutterIconPath,Je.wY(y.o.revive(t.gutterIconPath)))),typeof t.gutterIconSize!="undefined"&&i.push(an.WU(Wi.gutterIconSize,t.gutterIconSize))),i.join("")}collectBorderSettingsCSSText(t,i){return this.collectCSSText(t,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],i)?(i.push(an.WU("box-sizing: border-box;")),!0):!1}collectCSSText(t,i,o){const _=o.length;for(let A of i){const K=this.resolveValue(t[A]);typeof K=="string"&&o.push(an.WU(Wi[A],K))}return o.length!==_}resolveValue(t){if((0,st.I)(t)){this._usesThemeColors=!0;const i=this._theme.getColor(t.id);return i?i.toString():"transparent"}return t}}class Yi{static getClassName(t,i){return"ced-"+t+"-"+i}static getSelector(t,i,o){let _=".monaco-editor ."+this.getClassName(t,o);return i&&(_=_+"."+this.getClassName(i,o)),o===3?_+="::before":o===4&&(_+="::after"),_}}var Pi=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},Dn=function(u,t){return function(i,o){t(i,o,u)}};let vn=class extends Xt{constructor(t,i,o){super(t,o),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=i.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let t=!1;for(const i of this.listCodeEditors())if(!i.isSimpleWidget){t=!0;break}this._editorIsOpen.set(t)}setActiveCodeEditor(t){this._activeCodeEditor=t}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(t,i,o){return i?Promise.resolve(this.doOpenEditor(i,t)):Promise.resolve(null)}doOpenEditor(t,i){if(!this.findModel(t,i.resource)){if(i.resource){const A=i.resource.scheme;if(A===Ie.lg.http||A===Ie.lg.https)return(0,Je.V3)(i.resource.toString()),t}return null}const _=i.options?i.options.selection:null;if(_)if(typeof _.endLineNumber=="number"&&typeof _.endColumn=="number")t.setSelection(_),t.revealRangeInCenter(_,1);else{const A={lineNumber:_.startLineNumber,column:_.startColumn};t.setPosition(A),t.revealPositionInCenter(A,1)}return t}findModel(t,i){const o=t.getModel();return o&&o.uri.toString()!==i.toString()?null:o}};vn=Pi([Dn(1,Rt.i6),Dn(2,fs.XE)],vn);var Qi=c(81170),mn=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},Sn=function(u,t){return function(i,o){t(i,o,u)}};let Un=0,Qs=!1;function no(u){if(!u){if(Qs)return;Qs=!0}zo.wW(u||document.body)}let Ks=class extends lo.Gm{constructor(t,i,o,_,A,K,J,Ce,Ee,Fe){const Qe=Object.assign({},i);Qe.ariaLabel=Qe.ariaLabel||Wn.editorViewAccessibleLabel,Qe.ariaLabel=Qe.ariaLabel+";"+Wn.accessibilityHelpMessage,super(t,Qe,{},o,_,A,K,Ce,Ee,Fe),J instanceof An?this._standaloneKeybindingService=J:this._standaloneKeybindingService=null,no(Qe.ariaContainerElement)}addCommand(t,i,o){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let _="DYNAMIC_"+ ++Un,A=Rt.Ao.deserialize(o);return this._standaloneKeybindingService.addDynamicKeybinding(_,t,i,A),_}createContextKey(t,i){return this._contextKeyService.createKey(t,i)}addAction(t){if(typeof t.id!="string"||typeof t.label!="string"||typeof t.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),ii.JT.None;const i=t.id,o=t.label,_=Rt.Ao.and(Rt.Ao.equals("editorId",this.getId()),Rt.Ao.deserialize(t.precondition)),A=t.keybindings,K=Rt.Ao.and(_,Rt.Ao.deserialize(t.keybindingContext)),J=t.contextMenuGroupId||null,Ce=t.contextMenuOrder||0,Ee=(ki,...Fi)=>Promise.resolve(t.run(this,...Fi)),Fe=new ii.SL,Qe=this.getId()+":"+i;if(Fe.add(at.P.registerCommand(Qe,Ee)),J){let ki={command:{id:Qe,title:o},when:_,group:J,order:Ce};Fe.add(ie.BH.appendMenuItem(ie.eH.EditorContext,ki))}if(Array.isArray(A))for(const ki of A)Fe.add(this._standaloneKeybindingService.addDynamicKeybinding(Qe,ki,Ee,K));let Kt=new k.p(Qe,o,o,_,Ee,this._contextKeyService);return this._actions[i]=Kt,Fe.add((0,ii.OF)(()=>{delete this._actions[i]})),Fe}_triggerCommand(t,i){if(this._codeEditorService instanceof vn)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(t,i)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(t,i)}};Ks=mn([Sn(2,jn.TG),Sn(3,Mt.$),Sn(4,at.H),Sn(5,Rt.i6),Sn(6,ce.d),Sn(7,fs.XE),Sn(8,zt.lT),Sn(9,De.F)],Ks);let Ps=class extends Ks{constructor(t,i,o,_,A,K,J,Ce,Ee,Fe,Qe,Kt,ki,Fi,rn){const In=Object.assign({},i);Is(Kt,In,!1);const $n=Fe.registerEditorContainer(t);typeof In.theme=="string"&&Fe.setTheme(In.theme),typeof In.autoDetectHighContrast!="undefined"&&Fe.setAutoDetectHighContrast(!!In.autoDetectHighContrast);let Yn=In.model;delete In.model,super(t,In,_,A,K,J,Ce,Fe,Qe,ki),this._contextViewService=Ee,this._configurationService=Kt,this._standaloneThemeService=Fe,this._register(o),this._register($n);let xn;if(typeof Yn=="undefined"?(xn=No(Fi,rn,In.value||"",In.language||Qi.vW.text,void 0),this._ownsModel=!0):(xn=Yn,this._ownsModel=!1),this._attachModel(xn),xn){let Rn={oldModelUrl:null,newModelUrl:xn.uri};this._onDidChangeModel.fire(Rn)}}dispose(){super.dispose()}updateOptions(t){Is(this._configurationService,t,!1),typeof t.theme=="string"&&this._standaloneThemeService.setTheme(t.theme),typeof t.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!t.autoDetectHighContrast),super.updateOptions(t)}_attachModel(t){super._attachModel(t),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(t){super._postDetachModelCleanup(t),t&&this._ownsModel&&(t.dispose(),this._ownsModel=!1)}};Ps=mn([Sn(3,jn.TG),Sn(4,Mt.$),Sn(5,at.H),Sn(6,Rt.i6),Sn(7,ce.d),Sn(8,Io.u),Sn(9,Z),Sn(10,zt.lT),Sn(11,d.Ui),Sn(12,De.F),Sn(13,os.q),Sn(14,Ki.h)],Ps);let Oo=class extends Hs{constructor(t,i,o,_,A,K,J,Ce,Ee,Fe,Qe,Kt,ki,Fi,rn){const In=Object.assign({},i);Is(Kt,In,!0);const $n=Fe.registerEditorContainer(t);typeof In.theme=="string"&&Fe.setTheme(In.theme),typeof In.autoDetectHighContrast!="undefined"&&Fe.setAutoDetectHighContrast(!!In.autoDetectHighContrast),super(t,In,{},rn,Ce,A,_,Ee,Fe,Qe,ki,Fi),this._contextViewService=J,this._configurationService=Kt,this._standaloneThemeService=Fe,this._register(o),this._register($n),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(t){Is(this._configurationService,t,!0),typeof t.theme=="string"&&this._standaloneThemeService.setTheme(t.theme),typeof t.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!t.autoDetectHighContrast),super.updateOptions(t)}_createInnerEditor(t,i,o){return t.createInstance(Ks,i,o)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(t,i,o){return this.getModifiedEditor().addCommand(t,i,o)}createContextKey(t,i){return this.getModifiedEditor().createContextKey(t,i)}addAction(t){return this.getModifiedEditor().addAction(t)}};Oo=mn([Sn(3,jn.TG),Sn(4,Rt.i6),Sn(5,ce.d),Sn(6,Io.u),Sn(7,kn.p),Sn(8,Mt.$),Sn(9,Z),Sn(10,zt.lT),Sn(11,d.Ui),Sn(12,Io.i),Sn(13,fr.e),Sn(14,dr.p)],Oo);function No(u,t,i,o,_){if(i=i||"",!o){const A=i.indexOf(`
`);let K=i;return A!==-1&&(K=i.substring(0,A)),Mo(u,i,t.createByFilepathOrFirstLine(_||null,K),_)}return Mo(u,i,t.create(o),_)}function Mo(u,t,i,o){return u.createModel(t,i,o)}var Zo=c(71144),sa=c(89872);const Hr=Object.prototype.hasOwnProperty;class _a{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(zi.TG,0),this._register(Zo.XT,1),this._nextLanguageId=2}_register(t,i){this._languageIdToLanguage[i]=t,this._languageToLanguageId.set(t,i)}register(t){if(this._languageToLanguageId.has(t))return;const i=this._nextLanguageId++;this._register(t,i)}encodeLanguageId(t){return this._languageToLanguageId.get(t)||0}decodeLanguageId(t){return this._languageIdToLanguage[t]||zi.TG}}class oa extends ii.JT{constructor(t=!0,i=!1){super(),this._onDidChange=this._register(new Q.Q5),this.onDidChange=this._onDidChange.event,oa.instanceCount++,this._warnOnOverwrite=i,this.languageIdCodec=new _a,this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},t&&(this._initializeFromRegistry(),this._register(Zo.dQ.onDidChangeLanguages(o=>{this._initializeFromRegistry()})))}dispose(){oa.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Qi.bS();const t=Zo.dQ.getLanguages();this._registerLanguages(t)}_registerLanguages(t){for(const i of t)this._registerLanguage(i);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(i=>{let o=this._languages[i];o.name&&(this._nameMap[o.name]=o.identifier),o.aliases.forEach(_=>{this._lowercaseNameMap[_.toLowerCase()]=o.identifier}),o.mimetypes.forEach(_=>{this._mimeTypesMap[_]=o.identifier})}),sa.B.as(M.IP.Configuration).registerOverrideIdentifiers(Zo.dQ.getLanguages().map(i=>i.id)),this._onDidChange.fire()}_registerLanguage(t){const i=t.id;let o;Hr.call(this._languages,i)?o=this._languages[i]:(this.languageIdCodec.register(i),o={identifier:i,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[i]=o),this._mergeLanguage(o,t)}_mergeLanguage(t,i){const o=i.id;let _=null;if(Array.isArray(i.mimetypes)&&i.mimetypes.length>0&&(t.mimetypes.push(...i.mimetypes),_=i.mimetypes[0]),_||(_=`text/x-${o}`,t.mimetypes.push(_)),Array.isArray(i.extensions)){i.configuration?t.extensions=i.extensions.concat(t.extensions):t.extensions=t.extensions.concat(i.extensions);for(let J of i.extensions)Qi.sA({id:o,mime:_,extension:J},this._warnOnOverwrite)}if(Array.isArray(i.filenames))for(let J of i.filenames)Qi.sA({id:o,mime:_,filename:J},this._warnOnOverwrite),t.filenames.push(J);if(Array.isArray(i.filenamePatterns))for(let J of i.filenamePatterns)Qi.sA({id:o,mime:_,filepattern:J},this._warnOnOverwrite);if(typeof i.firstLine=="string"&&i.firstLine.length>0){let J=i.firstLine;J.charAt(0)!=="^"&&(J="^"+J);try{let Ce=new RegExp(J);an.IO(Ce)||Qi.sA({id:o,mime:_,firstline:Ce},this._warnOnOverwrite)}catch(Ce){(0,On.dL)(Ce)}}t.aliases.push(o);let A=null;if(typeof i.aliases!="undefined"&&Array.isArray(i.aliases)&&(i.aliases.length===0?A=[null]:A=i.aliases),A!==null)for(const J of A)!J||J.length===0||t.aliases.push(J);let K=A!==null&&A.length>0;if(!(K&&A[0]===null)){let J=(K?A[0]:null)||o;(K||!t.name)&&(t.name=J)}i.configuration&&t.configurationFiles.push(i.configuration)}isRegisteredMode(t){return Hr.call(this._mimeTypesMap,t)?!0:Hr.call(this._languages,t)}getModeIdForLanguageNameLowercase(t){return Hr.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}extractModeIds(t){return t?t.split(",").map(i=>i.trim()).map(i=>Hr.call(this._mimeTypesMap,i)?this._mimeTypesMap[i]:i).filter(i=>Hr.call(this._languages,i)):[]}validateLanguageId(t){return!t||t===zi.TG?zi.TG:Hr.call(this._languages,t)?t:null}getModeIdsFromFilepathOrFirstLine(t,i){if(!t&&!i)return[];let o=Qi.G8(t,i);return this.extractModeIds(o.join(","))}}oa.instanceCount=0;class Ya{constructor(t,i){this._selector=i,this.languageId=this._selector();let o;this._onDidChange=new Q.Q5({onFirstListenerAdd:()=>{o=t(()=>this._evaluate())},onLastListenerRemove:()=>{o.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){const t=this._selector();t!==this.languageId&&(this.languageId=t,this._onDidChange.fire(this.languageId))}}class zr extends ii.JT{constructor(t=!1){super(),this._onDidEncounterLanguage=this._register(new Q.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onLanguagesMaybeChanged=this._register(new Q.Q5({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,zr.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new oa(!0,t)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}dispose(){zr.instanceCount--,super.dispose()}isRegisteredMode(t){return this._registry.isRegisteredMode(t)}getModeIdForLanguageName(t){return this._registry.getModeIdForLanguageNameLowercase(t)}getModeIdByFilepathOrFirstLine(t,i){const o=this._registry.getModeIdsFromFilepathOrFirstLine(t,i);return(0,eo.Xh)(o,null)}getModeId(t){const i=this._registry.extractModeIds(t);return(0,eo.Xh)(i,null)}validateLanguageId(t){return this._registry.validateLanguageId(t)}create(t){return new Ya(this.onLanguagesMaybeChanged,()=>{const i=this.getModeId(t);return this._createModeAndGetLanguageIdentifier(i)})}createByFilepathOrFirstLine(t,i){return new Ya(this.onLanguagesMaybeChanged,()=>{const o=this.getModeIdByFilepathOrFirstLine(t,i);return this._createModeAndGetLanguageIdentifier(o)})}_createModeAndGetLanguageIdentifier(t){const i=this.validateLanguageId(t||"plaintext")||zi.TG;return this._getOrCreateMode(i),i}triggerMode(t){const i=this.getModeId(t);this._getOrCreateMode(i||"plaintext")}_getOrCreateMode(t){if(!this._encounteredLanguages.has(t)){this._encounteredLanguages.add(t);const i=this.validateLanguageId(t)||zi.TG;this._onDidEncounterLanguage.fire(i)}}}zr.instanceCount=0;var Lr=c(64862),kl=c(89954),Qr=c(95215),Qa=c(58409),Al=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},Ma=function(u,t){return function(i,o){t(i,o,u)}};let va=class{constructor(t,i,o,_){this._legend=t,this._themeService=i,this._modeService=o,this._logService=_,this._hashTable=new Pr,this._hasWarnedOverlappingTokens=!1}getMetadata(t,i,o){const _=this._modeService.languageIdCodec.encodeLanguageId(o),A=this._hashTable.get(t,i,_);let K;if(A)K=A.metadata,this._logService.getLevel()===xs.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${t} / ${i}: foreground ${ci.NX.getForeground(K)}, fontStyle ${ci.NX.getFontStyle(K).toString(2)}`);else{let J=this._legend.tokenTypes[t];const Ce=[];if(J){let Ee=i;for(let Qe=0;Ee>0&&Qe<this._legend.tokenModifiers.length;Qe++)Ee&1&&Ce.push(this._legend.tokenModifiers[Qe]),Ee=Ee>>1;Ee>0&&this._logService.getLevel()===xs.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${i.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),Ce.push("not-in-legend"));const Fe=this._themeService.getColorTheme().getTokenStyleMetadata(J,Ce,o);if(typeof Fe=="undefined")K=2147483647;else{if(K=0,typeof Fe.italic!="undefined"){const Qe=(Fe.italic?1:0)<<11;K|=Qe|1}if(typeof Fe.bold!="undefined"){const Qe=(Fe.bold?2:0)<<11;K|=Qe|2}if(typeof Fe.underline!="undefined"){const Qe=(Fe.underline?4:0)<<11;K|=Qe|4}if(Fe.foreground){const Qe=Fe.foreground<<14;K|=Qe|8}K===0&&(K=2147483647)}}else this._logService.getLevel()===xs.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${t} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),K=2147483647,J="not-in-legend";this._hashTable.add(t,i,_,K),this._logService.getLevel()===xs.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${t} (${J}) / ${i} (${Ce.join(" ")}): foreground ${ci.NX.getForeground(K)}, fontStyle ${ci.NX.getFontStyle(K).toString(2)}`)}return K}warnOverlappingSemanticTokens(t,i){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${t}, column ${i}`))}};va=Al([Ma(1,fs.XE),Ma(2,Ki.h),Ma(3,xs.VZ)],va);function Xa(u,t,i){const o=u.data,_=u.data.length/5|0,A=Math.max(Math.ceil(_/1024),400),K=[];let J=0,Ce=1,Ee=0;for(;J<_;){const Fe=J;let Qe=Math.min(Fe+A,_);if(Qe<_){let xn=Qe;for(;xn-1>Fe&&o[5*xn]===0;)xn--;if(xn-1===Fe){let Rn=Qe;for(;Rn+1<_&&o[5*Rn]===0;)Rn++;Qe=Rn}else Qe=xn}let Kt=new Uint32Array((Qe-Fe)*4),ki=0,Fi=0,rn=0,In=0,$n=0;for(;J<Qe;){const xn=5*J,Rn=o[xn],Zs=o[xn+1],Ds=Ce+Rn|0,Fn=Rn===0?Ee+Zs|0:Zs,Nn=o[xn+2],as=o[xn+3],Kn=o[xn+4],zs=t.getMetadata(as,Kn,i);zs!==2147483647&&(Fi===0&&(Fi=Ds),rn===Ds&&$n>Fn&&(t.warnOverlappingSemanticTokens(Ds,Fn+1),In<Fn?Kt[ki-4+2]=Fn:ki-=4),Kt[ki]=Ds-Fi,Kt[ki+1]=Fn,Kt[ki+2]=Fn+Nn,Kt[ki+3]=zs,ki+=4,rn=Ds,In=Fn,$n=Fn+Nn),Ce=Ds,Ee=Fn,J++}ki!==Kt.length&&(Kt=Kt.subarray(0,ki));const Yn=new Qa.Wz(Fi,new Qa.OU(Kt));K.push(Yn)}return K}class Ol{constructor(t,i,o,_){this.tokenTypeIndex=t,this.tokenModifierSet=i,this.languageId=o,this.metadata=_,this.next=null}}class Pr{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=Pr._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<Pr._SIZES.length?2/3*this._currentLength:0),this._elements=[],Pr._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(t,i){for(let o=0;o<i;o++)t[o]=null}_hash2(t,i){return(t<<5)-t+i|0}_hashFunc(t,i,o){return this._hash2(this._hash2(t,i),o)%this._currentLength}get(t,i,o){const _=this._hashFunc(t,i,o);let A=this._elements[_];for(;A;){if(A.tokenTypeIndex===t&&A.tokenModifierSet===i&&A.languageId===o)return A;A=A.next}return null}add(t,i,o,_){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const A=this._elements;this._currentLengthIndex++,this._currentLength=Pr._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<Pr._SIZES.length?2/3*this._currentLength:0),this._elements=[],Pr._nullOutEntries(this._elements,this._currentLength);for(const K of A){let J=K;for(;J;){const Ce=J.next;J.next=null,this._add(J),J=Ce}}}this._add(new Ol(t,i,o,_))}_add(t){const i=this._hashFunc(t.tokenTypeIndex,t.tokenModifierSet,t.languageId);t.next=this._elements[i],this._elements[i]=t}}Pr._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];var Pl=c(53060);function Fl(u){for(let t=0,i=u.length;t<i;t+=4){const o=u[t+0],_=u[t+1],A=u[t+2],K=u[t+3];u[t+0]=K,u[t+1]=A,u[t+2]=_,u[t+3]=o}}function Bl(u){const t=new Uint8Array(u.buffer,u.byteOffset,u.length*4);return Zi.r()||Fl(t),Pl.KN.wrap(t)}function Ja(u){const t=new Uint32Array(Ra(u));let i=0;if(t[i++]=u.id,u.type==="full")t[i++]=1,t[i++]=u.data.length,t.set(u.data,i),i+=u.data.length;else{t[i++]=2,t[i++]=u.deltas.length;for(const o of u.deltas)t[i++]=o.start,t[i++]=o.deleteCount,o.data?(t[i++]=o.data.length,t.set(o.data,i),i+=o.data.length):t[i++]=0}return Bl(t)}function Ra(u){let t=0;if(t+=2,u.type==="full")t+=1+u.data.length;else{t+=1,t+=3*u.deltas.length;for(const i of u.deltas)i.data&&(t+=i.data.length)}return t}var Ur=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function J(Fe){try{Ee(o.next(Fe))}catch(Qe){K(Qe)}}function Ce(Fe){try{Ee(o.throw(Fe))}catch(Qe){K(Qe)}}function Ee(Fe){Fe.done?A(Fe.value):_(Fe.value).then(J,Ce)}Ee((o=o.apply(u,t||[])).next())})};function ra(u){return u&&!!u.data}function qa(u){return u&&Array.isArray(u.edits)}class Wl{constructor(t,i){this.provider=t,this.tokens=i}}function el(u){return ci.wT.has(u)}function Vl(u){const t=ci.wT.orderedGroups(u);return t.length>0?t[0]:[]}function aa(u,t,i,o){return Ur(this,void 0,void 0,function*(){const _=Vl(u),A=yield Promise.all(_.map(K=>Ur(this,void 0,void 0,function*(){let J;try{J=yield K.provideDocumentSemanticTokens(u,K===t?i:null,o)}catch(Ce){(0,On.Cp)(Ce),J=null}return(!J||!ra(J)&&!qa(J))&&(J=null),new Wl(K,J)})));for(const K of A)if(K.tokens)return K;return A.length>0?A[0]:null})}function tl(u){const t=ci.wT.orderedGroups(u);return t.length>0?t[0]:null}class il{constructor(t,i){this.provider=t,this.tokens=i}}function Hl(u){return DocumentRangeSemanticTokensProviderRegistry.has(u)}function Xr(u){const t=ci.K7.orderedGroups(u);return t.length>0?t[0]:[]}function Ca(u,t,i){return Ur(this,void 0,void 0,function*(){const o=Xr(u),_=yield Promise.all(o.map(A=>Ur(this,void 0,void 0,function*(){let K;try{K=yield A.provideDocumentRangeSemanticTokens(u,t,i)}catch(J){(0,On.Cp)(J),K=null}return(!K||!ra(K))&&(K=null),new il(A,K)})));for(const A of _)if(A.tokens)return A;return _.length>0?_[0]:null})}at.P.registerCommand("_provideDocumentSemanticTokensLegend",(u,...t)=>Ur(void 0,void 0,void 0,function*(){const[i]=t;(0,Mn.p_)(i instanceof y.o);const o=u.get(os.q).getModel(i);if(!o)return;const _=tl(o);return _?_[0].getLegend():u.get(at.H).executeCommand("_provideDocumentRangeSemanticTokensLegend",i)})),at.P.registerCommand("_provideDocumentSemanticTokens",(u,...t)=>Ur(void 0,void 0,void 0,function*(){const[i]=t;(0,Mn.p_)(i instanceof y.o);const o=u.get(os.q).getModel(i);if(!o)return;if(!el(o))return u.get(at.H).executeCommand("_provideDocumentRangeSemanticTokens",i,o.getFullModelRange());const _=yield aa(o,null,null,O.T.None);if(!_)return;const{provider:A,tokens:K}=_;if(!K||!ra(K))return;const J=Ja({id:0,type:"full",data:K.data});return K.resultId&&A.releaseDocumentSemanticTokens(K.resultId),J})),at.P.registerCommand("_provideDocumentRangeSemanticTokensLegend",(u,...t)=>Ur(void 0,void 0,void 0,function*(){const[i,o]=t;(0,Mn.p_)(i instanceof y.o);const _=u.get(os.q).getModel(i);if(!_)return;const A=Xr(_);if(A.length===0)return;if(A.length===1)return A[0].getLegend();if(!o||!R.e.isIRange(o))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),A[0].getLegend();const K=yield Ca(_,R.e.lift(o),O.T.None);if(K)return K.provider.getLegend()})),at.P.registerCommand("_provideDocumentRangeSemanticTokens",(u,...t)=>Ur(void 0,void 0,void 0,function*(){const[i,o]=t;(0,Mn.p_)(i instanceof y.o),(0,Mn.p_)(R.e.isIRange(o));const _=u.get(os.q).getModel(i);if(!_)return;const A=yield Ca(_,R.e.lift(o),O.T.None);if(!(!A||!A.tokens))return Ja({id:0,type:"full",data:A.tokens.data})}));var nl=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},Fr=function(u,t){return function(i,o){t(i,o,u)}};function Mr(u){return u.toString()}function ka(u){const t=new kl.yP,i=u.createSnapshot();let o;for(;o=i.read();)t.update(o);return t.digest()}class zl{constructor(t,i,o){this._modelEventListeners=new ii.SL,this.model=t,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(t.onWillDispose(()=>i(t))),this._modelEventListeners.add(t.onDidChangeLanguage(_=>o(t,_)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(t){this._disposeLanguageSelection(),this._languageSelection=t,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(t.languageId)),this.model.setMode(t.languageId)}}const Ul=Zi.IJ||Zi.dz?1:2;class $l{constructor(t,i,o,_,A,K,J,Ce){this.uri=t,this.initialUndoRedoSnapshot=i,this.time=o,this.sharesUndoRedoStack=_,this.heapSize=A,this.sha1=K,this.versionId=J,this.alternativeVersionId=Ce}}let ba=class Za extends ii.JT{constructor(t,i,o,_,A,K,J){super(),this._configurationService=t,this._resourcePropertiesService=i,this._themeService=o,this._logService=_,this._undoRedoService=A,this._modeService=K,this._languageConfigurationService=J,this._onModelAdded=this._register(new Q.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new Q.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new Q.Q5),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new wa(this._themeService,this._modeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new Oa(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(t,i){var o;let _=E.DB.tabSize;if(t.editor&&typeof t.editor.tabSize!="undefined"){const ki=parseInt(t.editor.tabSize,10);isNaN(ki)||(_=ki),_<1&&(_=1)}let A=_;if(t.editor&&typeof t.editor.indentSize!="undefined"&&t.editor.indentSize!=="tabSize"){const ki=parseInt(t.editor.indentSize,10);isNaN(ki)||(A=ki),A<1&&(A=1)}let K=E.DB.insertSpaces;t.editor&&typeof t.editor.insertSpaces!="undefined"&&(K=t.editor.insertSpaces==="false"?!1:!!t.editor.insertSpaces);let J=Ul;const Ce=t.eol;Ce===`\r
`?J=2:Ce===`
`&&(J=1);let Ee=E.DB.trimAutoWhitespace;t.editor&&typeof t.editor.trimAutoWhitespace!="undefined"&&(Ee=t.editor.trimAutoWhitespace==="false"?!1:!!t.editor.trimAutoWhitespace);let Fe=E.DB.detectIndentation;t.editor&&typeof t.editor.detectIndentation!="undefined"&&(Fe=t.editor.detectIndentation==="false"?!1:!!t.editor.detectIndentation);let Qe=E.DB.largeFileOptimizations;t.editor&&typeof t.editor.largeFileOptimizations!="undefined"&&(Qe=t.editor.largeFileOptimizations==="false"?!1:!!t.editor.largeFileOptimizations);let Kt=E.DB.bracketPairColorizationOptions;return!((o=t.editor)===null||o===void 0)&&o.bracketPairColorization&&typeof t.editor.bracketPairColorization=="object"&&(Kt={enabled:!!t.editor.bracketPairColorization.enabled}),{isForSimpleWidget:i,tabSize:_,indentSize:A,insertSpaces:K,detectIndentation:Fe,defaultEOL:J,trimAutoWhitespace:Ee,largeFileOptimizations:Qe,bracketPairColorizationOptions:Kt}}_getEOL(t,i){if(t)return this._resourcePropertiesService.getEOL(t,i);const o=this._configurationService.getValue("files.eol",{overrideIdentifier:i});return o&&typeof o=="string"&&o!=="auto"?o:Zi.OS===3||Zi.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const t=this._configurationService.getValue("files.restoreUndoStack");return typeof t=="boolean"?t:!0}getCreationOptions(t,i,o){let _=this._modelCreationOptionsByLanguageAndResource[t+i];if(!_){const A=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:i}),K=this._getEOL(i,t);_=Za._readModelOptions({editor:A,eol:K},o),this._modelCreationOptionsByLanguageAndResource[t+i]=_}return _}_updateModelOptions(){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let o=0,_=i.length;o<_;o++){const A=i[o],K=this._models[A],J=K.model.getLanguageId(),Ce=K.model.uri,Ee=t[J+Ce],Fe=this.getCreationOptions(J,Ce,K.model.isForSimpleWidget);Za._setModelOptionsForModel(K.model,Fe,Ee)}}static _setModelOptionsForModel(t,i,o){o&&o.defaultEOL!==i.defaultEOL&&t.getLineCount()===1&&t.setEOL(i.defaultEOL===1?0:1),!(o&&o.detectIndentation===i.detectIndentation&&o.insertSpaces===i.insertSpaces&&o.tabSize===i.tabSize&&o.indentSize===i.indentSize&&o.trimAutoWhitespace===i.trimAutoWhitespace&&(0,Ot.fS)(o.bracketPairColorizationOptions,i.bracketPairColorizationOptions))&&(i.detectIndentation?(t.detectIndentation(i.insertSpaces,i.tabSize),t.updateOptions({trimAutoWhitespace:i.trimAutoWhitespace,bracketColorizationOptions:i.bracketPairColorizationOptions})):t.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.indentSize,trimAutoWhitespace:i.trimAutoWhitespace,bracketColorizationOptions:i.bracketPairColorizationOptions}))}_insertDisposedModel(t){this._disposedModels.set(Mr(t.uri),t),this._disposedModelsHeapSize+=t.heapSize}_removeDisposedModel(t){const i=this._disposedModels.get(Mr(t));return i&&(this._disposedModelsHeapSize-=i.heapSize),this._disposedModels.delete(Mr(t)),i}_ensureDisposedModelsHeapSize(t){if(this._disposedModelsHeapSize>t){const i=[];for(this._disposedModels.forEach(o=>{o.sharesUndoRedoStack||i.push(o)}),i.sort((o,_)=>o.time-_.time);i.length>0&&this._disposedModelsHeapSize>t;){const o=i.shift();this._removeDisposedModel(o.uri),o.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(o.initialUndoRedoSnapshot)}}}_createModelData(t,i,o,_){const A=this.getCreationOptions(i,o,_),K=new jo.yO(t,A,i,o,this._undoRedoService,this._modeService,this._languageConfigurationService);if(o&&this._disposedModels.has(Mr(o))){const Ee=this._removeDisposedModel(o),Fe=this._undoRedoService.getElements(o),Qe=ka(K)===Ee.sha1;if(Qe||Ee.sharesUndoRedoStack){for(const Kt of Fe.past)(0,Qr.e9)(Kt)&&Kt.matchesResource(o)&&Kt.setModel(K);for(const Kt of Fe.future)(0,Qr.e9)(Kt)&&Kt.matchesResource(o)&&Kt.setModel(K);this._undoRedoService.setElementsValidFlag(o,!0,Kt=>(0,Qr.e9)(Kt)&&Kt.matchesResource(o)),Qe&&(K._overwriteVersionId(Ee.versionId),K._overwriteAlternativeVersionId(Ee.alternativeVersionId),K._overwriteInitialUndoRedoSnapshot(Ee.initialUndoRedoSnapshot))}else Ee.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(Ee.initialUndoRedoSnapshot)}const J=Mr(K.uri);if(this._models[J])throw new Error("ModelService: Cannot add model because it already exists!");const Ce=new zl(K,Ee=>this._onWillDispose(Ee),(Ee,Fe)=>this._onDidChangeLanguage(Ee,Fe));return this._models[J]=Ce,Ce}createModel(t,i,o,_=!1){let A;return i?(A=this._createModelData(t,i.languageId,o,_),this.setMode(A.model,i)):A=this._createModelData(t,Zo.XT,o,_),this._onModelAdded.fire(A.model),A.model}setMode(t,i){if(!i)return;const o=this._models[Mr(t.uri)];o&&o.setLanguage(i)}getModels(){const t=[],i=Object.keys(this._models);for(let o=0,_=i.length;o<_;o++){const A=i[o];t.push(this._models[A].model)}return t}getModel(t){const i=Mr(t),o=this._models[i];return o?o.model:null}getSemanticTokensProviderStyling(t){return this._semanticStyling.get(t)}_schemaShouldMaintainUndoRedoElements(t){return t.scheme===Ie.lg.file||t.scheme===Ie.lg.vscodeRemote||t.scheme===Ie.lg.userData||t.scheme===Ie.lg.vscodeNotebookCell||t.scheme==="fake-fs"}_onWillDispose(t){const i=Mr(t.uri),o=this._models[i],_=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let A=!1,K=0;if(_||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(t.uri)){const Ce=this._undoRedoService.getElements(t.uri);if(Ce.past.length>0||Ce.future.length>0){for(const Ee of Ce.past)(0,Qr.e9)(Ee)&&Ee.matchesResource(t.uri)&&(A=!0,K+=Ee.heapSize(t.uri),Ee.setModel(t.uri));for(const Ee of Ce.future)(0,Qr.e9)(Ee)&&Ee.matchesResource(t.uri)&&(A=!0,K+=Ee.heapSize(t.uri),Ee.setModel(t.uri))}}const J=Za.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(A)if(!_&&K>J){const Ce=o.model.getInitialUndoRedoSnapshot();Ce!==null&&this._undoRedoService.restoreSnapshot(Ce)}else this._ensureDisposedModelsHeapSize(J-K),this._undoRedoService.setElementsValidFlag(t.uri,!1,Ce=>(0,Qr.e9)(Ce)&&Ce.matchesResource(t.uri)),this._insertDisposedModel(new $l(t.uri,o.model.getInitialUndoRedoSnapshot(),Date.now(),_,K,ka(t),t.getVersionId(),t.getAlternativeVersionId()));else if(!_){const Ce=o.model.getInitialUndoRedoSnapshot();Ce!==null&&this._undoRedoService.restoreSnapshot(Ce)}delete this._models[i],o.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageId()+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,i){const o=i.oldLanguage,_=t.getLanguageId(),A=this.getCreationOptions(o,t.uri,t.isForSimpleWidget),K=this.getCreationOptions(_,t.uri,t.isForSimpleWidget);Za._setModelOptionsForModel(t,K,A),this._onModelModeChanged.fire({model:t,oldModeId:o})}};ba.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,ba=nl([Fr(0,d.Ui),Fr(1,es),Fr(2,fs.XE),Fr(3,xs.VZ),Fr(4,Lr.tJ),Fr(5,Ki.h),Fr(6,ut.c_)],ba);const sl="editor.semanticHighlighting";function Aa(u,t,i){var o;const _=(o=i.getValue(sl,{overrideIdentifier:u.getLanguageId(),resource:u.uri}))===null||o===void 0?void 0:o.enabled;return typeof _=="boolean"?_:t.getColorTheme().semanticHighlighting}class Oa extends ii.JT{constructor(t,i,o,_){super(),this._watchers=Object.create(null),this._semanticStyling=_;const A=Ce=>{this._watchers[Ce.uri.toString()]=new Gr(Ce,i,this._semanticStyling)},K=(Ce,Ee)=>{Ee.dispose(),delete this._watchers[Ce.uri.toString()]},J=()=>{for(let Ce of t.getModels()){const Ee=this._watchers[Ce.uri.toString()];Aa(Ce,i,o)?Ee||A(Ce):Ee&&K(Ce,Ee)}};this._register(t.onModelAdded(Ce=>{Aa(Ce,i,o)&&A(Ce)})),this._register(t.onModelRemoved(Ce=>{const Ee=this._watchers[Ce.uri.toString()];Ee&&K(Ce,Ee)})),this._register(o.onDidChangeConfiguration(Ce=>{Ce.affectsConfiguration(sl)&&J()})),this._register(i.onDidColorThemeChange(J))}}class wa extends ii.JT{constructor(t,i,o){super(),this._themeService=t,this._modeService=i,this._logService=o,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(t){return this._caches.has(t)||this._caches.set(t,new va(t.getLegend(),this._themeService,this._modeService,this._logService)),this._caches.get(t)}}class Ho{constructor(t,i,o){this.provider=t,this.resultId=i,this.data=o}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}class Gr extends ii.JT{constructor(t,i,o){super(),this._isDisposed=!1,this._model=t,this._semanticStyling=o,this._fetchDocumentSemanticTokens=this._register(new Bn.pY(()=>this._fetchDocumentSemanticTokensNow(),Gr.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const _=()=>{(0,ii.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const A of ci.wT.all(t))typeof A.onDidChange=="function"&&this._documentProvidersChangeListeners.push(A.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};_(),this._register(ci.wT.onDidChange(()=>{_(),this._fetchDocumentSemanticTokens.schedule()})),this._register(i.onDidColorThemeChange(A=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!el(this._model)){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const t=new O.A,i=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,o=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,_=aa(this._model,i,o,t.token);this._currentDocumentRequestCancellationTokenSource=t;const A=[],K=this._model.onDidChangeContent(J=>{A.push(J)});_.then(J=>{if(this._currentDocumentRequestCancellationTokenSource=null,K.dispose(),!J)this._setDocumentSemanticTokens(null,null,null,A);else{const{provider:Ce,tokens:Ee}=J,Fe=this._semanticStyling.get(Ce);this._setDocumentSemanticTokens(Ce,Ee||null,Fe,A)}},J=>{J&&(On.VV(J)||typeof J.message=="string"&&J.message.indexOf("busy")!==-1)||On.dL(J),this._currentDocumentRequestCancellationTokenSource=null,K.dispose(),A.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(t,i,o,_,A){for(let K=0;K<A;K++)o[_+K]=t[i+K]}_setDocumentSemanticTokens(t,i,o,_){const A=this._currentDocumentResponse,K=()=>{_.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){t&&i&&t.releaseDocumentSemanticTokens(i.resultId);return}if(!t||!o){this._model.setSemanticTokens(null,!1);return}if(!i){this._model.setSemanticTokens(null,!0),K();return}if(qa(i)){if(!A){this._model.setSemanticTokens(null,!0);return}if(i.edits.length===0)i={resultId:i.resultId,data:A.data};else{let J=0;for(const Kt of i.edits)J+=(Kt.data?Kt.data.length:0)-Kt.deleteCount;const Ce=A.data,Ee=new Uint32Array(Ce.length+J);let Fe=Ce.length,Qe=Ee.length;for(let Kt=i.edits.length-1;Kt>=0;Kt--){const ki=i.edits[Kt],Fi=Fe-(ki.start+ki.deleteCount);Fi>0&&(Gr._copy(Ce,Fe-Fi,Ee,Qe-Fi,Fi),Qe-=Fi),ki.data&&(Gr._copy(ki.data,0,Ee,Qe-ki.data.length,ki.data.length),Qe-=ki.data.length),Fe=ki.start}Fe>0&&Gr._copy(Ce,0,Ee,0,Fe),i={resultId:i.resultId,data:Ee}}}if(ra(i)){this._currentDocumentResponse=new Ho(t,i.resultId,i.data);const J=Xa(i,o,this._model.getLanguageId());if(_.length>0)for(const Ce of _)for(const Ee of J)for(const Fe of Ce.changes)Ee.applyEdit(Fe.range,Fe.text);this._model.setSemanticTokens(J,!0)}else this._model.setSemanticTokens(null,!0);K()}}Gr.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300;var Rr=c(41264);class ol{constructor(t,i,o,_,A){this._parsedThemeRuleBrand=void 0,this.token=t,this.index=i,this.fontStyle=o,this.foreground=_,this.background=A}}function la(u){if(!u||!Array.isArray(u))return[];let t=[],i=0;for(let o=0,_=u.length;o<_;o++){let A=u[o],K=-1;if(typeof A.fontStyle=="string"){K=0;let Ee=A.fontStyle.split(" ");for(let Fe=0,Qe=Ee.length;Fe<Qe;Fe++)switch(Ee[Fe]){case"italic":K=K|1;break;case"bold":K=K|2;break;case"underline":K=K|4;break}}let J=null;typeof A.foreground=="string"&&(J=A.foreground);let Ce=null;typeof A.background=="string"&&(Ce=A.background),t[i++]=new ol(A.token||"",o,K,J,Ce)}return t}function Jr(u,t){u.sort((Fe,Qe)=>{let Kt=Gl(Fe.token,Qe.token);return Kt!==0?Kt:Fe.index-Qe.index});let i=0,o="000000",_="ffffff";for(;u.length>=1&&u[0].token==="";){let Fe=u.shift();Fe.fontStyle!==-1&&(i=Fe.fontStyle),Fe.foreground!==null&&(o=Fe.foreground),Fe.background!==null&&(_=Fe.background)}let A=new Kl;for(let Fe of t)A.getId(Fe);let K=A.getId(o),J=A.getId(_),Ce=new da(i,K,J),Ee=new Pa(Ce);for(let Fe=0,Qe=u.length;Fe<Qe;Fe++){let Kt=u[Fe];Ee.insert(Kt.token,Kt.fontStyle,A.getId(Kt.foreground),A.getId(Kt.background))}return new rl(A,Ee)}const qr=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class Kl{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(t){if(t===null)return 0;const i=t.match(qr);if(!i)throw new Error("Illegal value for token color: "+t);t=i[1].toUpperCase();let o=this._color2id.get(t);return o||(o=++this._lastColorId,this._color2id.set(t,o),this._id2color[o]=Rr.Il.fromHex("#"+t),o)}getColorMap(){return this._id2color.slice(0)}}class rl{constructor(t,i){this._colorMap=t,this._root=i,this._cache=new Map}static createFromRawTokenTheme(t,i){return this.createFromParsedTokenTheme(la(t),i)}static createFromParsedTokenTheme(t,i){return Jr(t,i)}getColorMap(){return this._colorMap.getColorMap()}_match(t){return this._root.match(t)}match(t,i){let o=this._cache.get(i);if(typeof o=="undefined"){let _=this._match(i),A=ea(i);o=(_.metadata|A<<8)>>>0,this._cache.set(i,o)}return(o|t<<0)>>>0}}const jl=/\b(comment|string|regex|regexp)\b/;function ea(u){let t=u.match(jl);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}function Gl(u,t){return u<t?-1:u>t?1:0}class da{constructor(t,i,o){this._themeTrieElementRuleBrand=void 0,this._fontStyle=t,this._foreground=i,this._background=o,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new da(this._fontStyle,this._foreground,this._background)}acceptOverwrite(t,i,o){t!==-1&&(this._fontStyle=t),i!==0&&(this._foreground=i),o!==0&&(this._background=o),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class Pa{constructor(t){this._themeTrieElementBrand=void 0,this._mainRule=t,this._children=new Map}match(t){if(t==="")return this._mainRule;let i=t.indexOf("."),o,_;i===-1?(o=t,_=""):(o=t.substring(0,i),_=t.substring(i+1));let A=this._children.get(o);return typeof A!="undefined"?A.match(_):this._mainRule}insert(t,i,o,_){if(t===""){this._mainRule.acceptOverwrite(i,o,_);return}let A=t.indexOf("."),K,J;A===-1?(K=t,J=""):(K=t.substring(0,A),J=t.substring(A+1));let Ce=this._children.get(K);typeof Ce=="undefined"&&(Ce=new Pa(this._mainRule.clone()),this._children.set(K,Ce)),Ce.insert(J,i,o,_)}}function al(u){let t=[];for(let i=1,o=u.length;i<o;i++){let _=u[i];t[i]=`.mtk${i} { color: ${_}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join(`
`)}const Sa={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[un.cv]:"#FFFFFE",[un.NO]:"#000000",[un.ES]:"#E5EBF1",[bs.tR]:"#D3D3D3",[bs.Ym]:"#939393",[un.Rz]:"#ADD6FF4D"}},ll={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[un.cv]:"#1E1E1E",[un.NO]:"#D4D4D4",[un.ES]:"#3A3D41",[bs.tR]:"#404040",[bs.Ym]:"#707070",[un.Rz]:"#ADD6FF26"}},dl={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[un.cv]:"#000000",[un.NO]:"#FFFFFF",[bs.tR]:"#FFFFFF",[bs.Ym]:"#FFFFFF"}};var ua=c(92321);function ya(){const u=new Q.Q5,t=(0,fo.Ks)();return t.onDidChange(()=>u.fire()),{onDidChange:u.event,getCSS(){const i={},o=A=>{let K=A.defaults;for(;fs.kS.isThemeIcon(K);){const Ce=t.getIcon(K.id);if(!Ce)return;K=Ce.defaults}const J=K.fontId;if(J){const Ce=t.getIconFont(J);if(Ce)return i[J]=Ce,`.codicon-${A.id}:before { content: '${K.fontCharacter}'; font-family: ${(0,Je._h)(J)}; }`}return`.codicon-${A.id}:before { content: '${K.fontCharacter}'; }`},_=[];for(let A of t.getIcons()){const K=o(A);K&&_.push(K)}for(let A in i){const J=i[A].definition.src.map(Ce=>`${(0,Je.wY)(Ce.location)} format('${Ce.format}')`).join(", ");_.push(`@font-face { src: ${J}; font-family: ${(0,Je._h)(A)}; font-display: block; }`)}return _.join(`
`)}}}const gr="vs",ca="vs-dark",ta="hc-black",Zr=sa.B.as(un.IP.ColorContribution),Zl=sa.B.as(fs.IP.ThemingContribution);class ha{constructor(t,i){this.semanticHighlighting=!1,this.themeData=i;let o=i.base;t.length>0?(Dr(t)?this.id=t:this.id=o+" "+t,this.themeName=t):(this.id=o,this.themeName=o),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const t=new Map;for(let i in this.themeData.colors)t.set(i,Rr.Il.fromHex(this.themeData.colors[i]));if(this.themeData.inherit){let i=Fa(this.themeData.base);for(let o in i.colors)t.has(o)||t.set(o,Rr.Il.fromHex(i.colors[o]))}this.colors=t}return this.colors}getColor(t,i){const o=this.getColors().get(t);if(o)return o;if(i!==!1)return this.getDefault(t)}getDefault(t){let i=this.defaultColors[t];return i||(i=Zr.resolveDefaultColor(t,this),this.defaultColors[t]=i,i)}defines(t){return Object.prototype.hasOwnProperty.call(this.getColors(),t)}get type(){switch(this.base){case gr:return ua.e.LIGHT;case ta:return ua.e.HIGH_CONTRAST;default:return ua.e.DARK}}get tokenTheme(){if(!this._tokenTheme){let t=[],i=[];if(this.themeData.inherit){let A=Fa(this.themeData.base);t=A.rules,A.encodedTokensColors&&(i=A.encodedTokensColors)}const o=this.themeData.colors["editor.foreground"],_=this.themeData.colors["editor.background"];if(o||_){const A={token:""};o&&(A.foreground=o),_&&(A.background=_),t.push(A)}t=t.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(i=this.themeData.encodedTokensColors),this._tokenTheme=rl.createFromRawTokenTheme(t,i)}return this._tokenTheme}getTokenStyleMetadata(t,i,o){const A=this.tokenTheme._match([t].concat(i).join(".")).metadata,K=ci.NX.getForeground(A),J=ci.NX.getFontStyle(A);return{foreground:K,italic:!!(J&1),bold:!!(J&2),underline:!!(J&4)}}}function Dr(u){return u===gr||u===ca||u===ta}function Fa(u){switch(u){case gr:return Sa;case ca:return ll;case ta:return dl}}function Ba(u){let t=Fa(u);return new ha(u,t)}class be extends ii.JT{constructor(){super(),this._onColorThemeChange=this._register(new Q.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(gr,Ba(gr)),this._knownThemes.set(ca,Ba(ca)),this._knownThemes.set(ta,Ba(ta));const t=ya();this._codiconCSS=t.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(gr),t.onDidChange(()=>{this._codiconCSS=t.getCSS(),this._updateCSS()}),Je.uB("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(t){return Je.OO(t)?this._registerShadowDomContainer(t):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=Je.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),ii.JT.None}_registerShadowDomContainer(t){const i=Je.dS(t);return i.className="monaco-colors",i.textContent=this._allCSS,this._styleElements.push(i),{dispose:()=>{for(let o=0;o<this._styleElements.length;o++)if(this._styleElements[o]===i){this._styleElements.splice(o,1);return}}}}defineTheme(t,i){if(!/^[a-z0-9\-]+$/i.test(t))throw new Error("Illegal theme name!");if(!Dr(i.base)&&!Dr(t))throw new Error("Illegal theme base!");this._knownThemes.set(t,new ha(t,i)),Dr(t)&&this._knownThemes.forEach(o=>{o.base===t&&o.notifyBaseUpdated()}),this._theme.themeName===t&&this.setTheme(t)}getColorTheme(){return this._theme}setColorMapOverride(t){this._colorMapOverride=t,this._updateThemeOrColorMap()}setTheme(t){let i;this._knownThemes.has(t)?i=this._knownThemes.get(t):i=this._knownThemes.get(gr),this._desiredTheme=i,this._updateActualTheme()}_updateActualTheme(){const t=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(ta):this._desiredTheme;this._theme!==t&&(this._theme=t,this._updateThemeOrColorMap())}setAutoDetectHighContrast(t){this._autoDetectHighContrast=t,this._updateActualTheme()}_updateThemeOrColorMap(){let t=[],i={},o={addRule:A=>{i[A]||(t.push(A),i[A]=!0)}};Zl.getThemingParticipants().forEach(A=>A(this._theme,o,this._environment));const _=this._colorMapOverride||this._theme.tokenTheme.getColorMap();o.addRule(al(_)),this._themeCSS=t.join(`
`),this._updateCSS(),ci.RW.setColorMap(_),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(t=>t.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}var a=c(56899),I=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},z=function(u,t){return function(i,o){t(i,o,u)}};const se="data-keybinding-context";class ne{constructor(t,i){this._id=t,this._parent=i,this._value=Object.create(null),this._value._contextId=t}setValue(t,i){return this._value[t]!==i?(this._value[t]=i,!0):!1}removeValue(t){return t in this._value?(delete this._value[t],!0):!1}getValue(t){const i=this._value[t];return typeof i=="undefined"&&this._parent?this._parent.getValue(t):i}}class Se extends ne{constructor(){super(-1,null)}setValue(t,i){return!1}removeValue(t){return!1}getValue(t){}}Se.INSTANCE=new Se;class je extends ne{constructor(t,i,o){super(t,null),this._configurationService=i,this._values=ke.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(_=>{if(_.source===6){const A=Array.from(a.$.map(this._values,([K])=>K));this._values.clear(),o.fire(new Et(A))}else{const A=[];for(const K of _.affectedKeys){const J=`config.${K}`,Ce=this._values.findSuperstr(J);Ce!==void 0&&(A.push(...a.$.map(Ce,([Ee])=>Ee)),this._values.deleteSuperstr(J)),this._values.has(J)&&(A.push(J),this._values.delete(J))}o.fire(new Et(A))}})}dispose(){this._listener.dispose()}getValue(t){if(t.indexOf(je._keyPrefix)!==0)return super.getValue(t);if(this._values.has(t))return this._values.get(t);const i=t.substr(je._keyPrefix.length),o=this._configurationService.getValue(i);let _;switch(typeof o){case"number":case"boolean":case"string":_=o;break;default:Array.isArray(o)?_=JSON.stringify(o):_=o}return this._values.set(t,_),_}setValue(t,i){return super.setValue(t,i)}removeValue(t){return super.removeValue(t)}}je._keyPrefix="config.";class Vt{constructor(t,i,o){this._service=t,this._key=i,this._defaultValue=o,this.reset()}set(t){this._service.setContext(this._key,t)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Ht{constructor(t){this.key=t}affectsSome(t){return t.has(this.key)}}class Et{constructor(t){this.keys=t}affectsSome(t){for(const i of this.keys)if(t.has(i))return!0;return!1}}class di{constructor(t){this.events=t}affectsSome(t){for(const i of this.events)if(i.affectsSome(t))return!0;return!1}}class qi{constructor(t){this._onDidChangeContext=new Q.K3({merge:i=>new di(i)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=t}createKey(t,i){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Vt(this,t,i)}bufferChangeEvents(t){this._onDidChangeContext.pause();try{t()}finally{this._onDidChangeContext.resume()}}createScoped(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Hn(this,t)}contextMatchesRules(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const i=this.getContextValuesContainer(this._myContextId);return Gt.contextMatchesRules(i,t)}getContextKeyValue(t){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(t)}setContext(t,i){if(this._isDisposed)return;const o=this.getContextValuesContainer(this._myContextId);o&&o.setValue(t,i)&&this._onDidChangeContext.fire(new Ht(t))}removeContext(t){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(t)&&this._onDidChangeContext.fire(new Ht(t))}getContext(t){return this._isDisposed?Se.INSTANCE:this.getContextValuesContainer(go(t))}}let Cn=class extends qi{constructor(t){super(0),this._contexts=new Map,this._toDispose=new ii.SL,this._lastContextId=0;const i=new je(this._myContextId,t,this._onDidChangeContext);this._contexts.set(this._myContextId,i),this._toDispose.add(i)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(t){return this._isDisposed?Se.INSTANCE:this._contexts.get(t)||Se.INSTANCE}createChildContext(t=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let i=++this._lastContextId;return this._contexts.set(i,new ne(i,this.getContextValuesContainer(t))),i}disposeContext(t){this._isDisposed||this._contexts.delete(t)}};Cn=I([z(0,d.Ui)],Cn);class Hn extends qi{constructor(t,i){if(super(t.createChildContext()),this._parentChangeListener=new ii.XK,this._parent=t,this._updateParentChangeListener(),this._domNode=i,this._domNode.hasAttribute(se)){let o="";this._domNode.classList&&(o=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${o?": "+o:""}`)}this._domNode.setAttribute(se,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(se),this._isDisposed=!0)}getContextValuesContainer(t){return this._isDisposed?Se.INSTANCE:this._parent.getContextValuesContainer(t)}createChildContext(t=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(t)}disposeContext(t){this._isDisposed||this._parent.disposeContext(t)}}function go(u){for(;u;){if(u.hasAttribute(se)){const t=u.getAttribute(se);return t?parseInt(t,10):NaN}u=u.parentElement}return 0}at.P.registerCommand(Rt.Eq,function(u,t,i){u.get(Rt.i6).createKey(String(t),i)}),at.P.registerCommand({id:"getContextKeyInfo",handler(){return[...Rt.uy.all()].sort((u,t)=>u.key.localeCompare(t.key))},description:{description:(0,We.N)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),at.P.registerCommand("_generateContextKeyInfo",function(){const u=[],t=new Set;for(let i of Rt.uy.all())t.has(i.key)||(t.add(i.key),u.push(i));u.sort((i,o)=>i.key.localeCompare(o.key)),console.log(JSON.stringify(u,void 0,2))});var yo=c(10829),Wo=c(23938),sr=c(16268),_r=c(10553),La=c(76033),ul=c(15375),Au=c(10161),Td=c(61134),ia;(function(u){u[u.AVOID=0]="AVOID",u[u.ALIGN=1]="ALIGN"})(ia||(ia={}));function Da(u,t,i){const o=i.mode===ia.ALIGN?i.offset:i.offset+i.size,_=i.mode===ia.ALIGN?i.offset+i.size:i.offset;return i.position===0?t<=u-o?o:t<=_?_-t:Math.max(u-t,0):t<=_?_-t:t<=u-o?o:0}class Ea extends ii.JT{constructor(t,i){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=ii.JT.None,this.toDisposeOnSetContainer=ii.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=Je.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,Je.Cp(this.view),this.setContainer(t,i),this._register((0,ii.OF)(()=>this.setContainer(null,1)))}setContainer(t,i){var o;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(o=this.shadowRootHostElement)===null||o===void 0||o.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),t){if(this.container=t,this.useFixedPosition=i!==1,this.useShadowDOM=i===3,this.useShadowDOM){this.shadowRootHostElement=Je.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const A=document.createElement("style");A.textContent=Ou,this.shadowRoot.appendChild(A),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(Je.$("slot"))}else this.container.appendChild(this.view);const _=new ii.SL;Ea.BUBBLE_UP_EVENTS.forEach(A=>{_.add(Je.mu(this.container,A,K=>{this.onDOMEvent(K,!1)}))}),Ea.BUBBLE_DOWN_EVENTS.forEach(A=>{_.add(Je.mu(this.container,A,K=>{this.onDOMEvent(K,!0)},!0))}),this.toDisposeOnSetContainer=_}}show(t){this.isVisible()&&this.hide(),Je.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",Je.$Z(this.view),this.toDisposeOnClean=t.render(this.view)||ii.JT.None,this.delegate=t,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(Zi.gn&&Au.D.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let t=this.delegate.getAnchor(),i;if(Je.Re(t)){let Qe=Je.i(t);i={top:Qe.top,left:Qe.left,width:Qe.width,height:Qe.height}}else i={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const o=Je.w(this.view),_=Je.wn(this.view),A=this.delegate.anchorPosition||0,K=this.delegate.anchorAlignment||0,J=this.delegate.anchorAxisAlignment||0;let Ce,Ee;if(J===0){const Qe={offset:i.top-window.pageYOffset,size:i.height,position:A===0?0:1},Kt={offset:i.left,size:i.width,position:K===0?0:1,mode:ia.ALIGN};Ce=Da(window.innerHeight,_,Qe)+window.pageYOffset,Td.e.intersects({start:Ce,end:Ce+_},{start:Qe.offset,end:Qe.offset+Qe.size})&&(Kt.mode=ia.AVOID),Ee=Da(window.innerWidth,o,Kt)}else{const Qe={offset:i.left,size:i.width,position:K===0?0:1},Kt={offset:i.top,size:i.height,position:A===0?0:1,mode:ia.ALIGN};Ee=Da(window.innerWidth,o,Qe),Td.e.intersects({start:Ee,end:Ee+o},{start:Qe.offset,end:Qe.offset+Qe.size})&&(Kt.mode=ia.AVOID),Ce=Da(window.innerHeight,_,Kt)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(A===0?"bottom":"top"),this.view.classList.add(K===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const Fe=Je.i(this.container);this.view.style.top=`${Ce-(this.useFixedPosition?Je.i(this.view).top:Fe.top)}px`,this.view.style.left=`${Ee-(this.useFixedPosition?Je.i(this.view).left:Fe.left)}px`,this.view.style.width="initial"}hide(t){const i=this.delegate;this.delegate=null,i!=null&&i.onHide&&i.onHide(t),this.toDisposeOnClean.dispose(),Je.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(t,i){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,document.activeElement):i&&!Je.jg(t.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}Ea.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],Ea.BUBBLE_DOWN_EVENTS=["click"];let Ou=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var Yr=c(21212);const Yl=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Ql=/(&amp;)?(&amp;)([^\s&])/g,Md=(0,co.CM)("menu-selection",co.lA.check),Rd=(0,co.CM)("menu-submenu",co.lA.chevronRight);var cl;(function(u){u[u.Right=0]="Right",u[u.Left=1]="Left"})(cl||(cl={}));class fa extends ys.o{constructor(t,i,o={}){t.classList.add("monaco-menu-container"),t.setAttribute("role","presentation");const _=document.createElement("div");_.classList.add("monaco-menu"),_.setAttribute("role","presentation"),super(_,{orientation:1,actionViewItemProvider:J=>this.doGetActionViewItem(J,o,A),context:o.context,actionRunner:o.actionRunner,ariaLabel:o.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Zi.dz||Zi.IJ?[10]:[]],keyDown:!0}}),this.menuElement=_,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new ii.SL),this.initializeStyleSheet(t),this._register(_r.o.addTarget(_)),(0,Je.nm)(_,Je.tw.KEY_DOWN,J=>{new Zt.y(J).equals(2)&&J.preventDefault()}),o.enableMnemonics&&this.menuDisposables.add((0,Je.nm)(_,Je.tw.KEY_DOWN,J=>{const Ce=J.key.toLocaleLowerCase();if(this.mnemonics.has(Ce)){Je.zB.stop(J,!0);const Ee=this.mnemonics.get(Ce);if(Ee.length===1&&(Ee[0]instanceof kd&&Ee[0].container&&this.focusItemByElement(Ee[0].container),Ee[0].onClick(J)),Ee.length>1){const Fe=Ee.shift();Fe&&Fe.container&&(this.focusItemByElement(Fe.container),Ee.push(Fe)),this.mnemonics.set(Ce,Ee)}}})),Zi.IJ&&this._register((0,Je.nm)(_,Je.tw.KEY_DOWN,J=>{const Ce=new Zt.y(J);Ce.equals(14)||Ce.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Je.zB.stop(J,!0)):(Ce.equals(13)||Ce.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Je.zB.stop(J,!0))})),this._register((0,Je.nm)(this.domNode,Je.tw.MOUSE_OUT,J=>{let Ce=J.relatedTarget;(0,Je.jg)(Ce,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),J.stopPropagation())})),this._register((0,Je.nm)(this.actionsList,Je.tw.MOUSE_OVER,J=>{let Ce=J.target;if(!(!Ce||!(0,Je.jg)(Ce,this.actionsList)||Ce===this.actionsList)){for(;Ce.parentElement!==this.actionsList&&Ce.parentElement!==null;)Ce=Ce.parentElement;if(Ce.classList.contains("action-item")){const Ee=this.focusedItem;this.setFocusedItem(Ce),Ee!==this.focusedItem&&this.updateFocus()}}})),this._register(_r.o.addTarget(this.actionsList)),this._register((0,Je.nm)(this.actionsList,_r.t.Tap,J=>{let Ce=J.initialTarget;if(!(!Ce||!(0,Je.jg)(Ce,this.actionsList)||Ce===this.actionsList)){for(;Ce.parentElement!==this.actionsList&&Ce.parentElement!==null;)Ce=Ce.parentElement;if(Ce.classList.contains("action-item")){const Ee=this.focusedItem;this.setFocusedItem(Ce),Ee!==this.focusedItem&&this.updateFocus()}}}));let A={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new hs.s$(_,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const K=this.scrollableElement.getDomNode();K.style.position="",this._register((0,Je.nm)(_,_r.t.Change,J=>{Je.zB.stop(J,!0);const Ce=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:Ce-J.translationY})})),this._register((0,Je.nm)(K,Je.tw.MOUSE_UP,J=>{J.preventDefault()})),_.style.maxHeight=`${Math.max(10,window.innerHeight-t.getBoundingClientRect().top-35)}px`,i=i.filter(J=>{var Ce;return!((Ce=o.submenuIds)===null||Ce===void 0)&&Ce.has(J.id)?(console.warn(`Found submenu cycle: ${J.id}`),!1):!0}),this.push(i,{icon:!0,label:!0,isMenu:!0}),t.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(J=>!(J instanceof Jl)).forEach((J,Ce,Ee)=>{J.updatePositionInSet(Ce+1,Ee.length)})}initializeStyleSheet(t){(0,Je.OO)(t)?(this.styleSheet=(0,Je.dS)(t),this.styleSheet.textContent=Ad):(fa.globalStyleSheet||(fa.globalStyleSheet=(0,Je.dS)(),fa.globalStyleSheet.textContent=Ad),this.styleSheet=fa.globalStyleSheet)}style(t){const i=this.getContainer(),o=t.foregroundColor?`${t.foregroundColor}`:"",_=t.backgroundColor?`${t.backgroundColor}`:"",A=t.borderColor?`1px solid ${t.borderColor}`:"",K=t.shadowColor?`0 2px 4px ${t.shadowColor}`:"";i.style.border=A,this.domNode.style.color=o,this.domNode.style.backgroundColor=_,i.style.boxShadow=K,this.viewItems&&this.viewItems.forEach(J=>{(J instanceof Xl||J instanceof Jl)&&J.style(t)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(t){const i=this.focusedItem;this.setFocusedItem(t),i!==this.focusedItem&&this.updateFocus()}setFocusedItem(t){for(let i=0;i<this.actionsList.children.length;i++){let o=this.actionsList.children[i];if(t===o){this.focusedItem=i;break}}}updateFocus(t){super.updateFocus(t,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(t,i,o){if(t instanceof ks.Z0)return new Jl(i.context,t,{icon:!0});if(t instanceof ks.wY){const _=new kd(t,t.actions,o,Object.assign(Object.assign({},i),{submenuIds:new Set([...i.submenuIds||[],t.id])}));if(i.enableMnemonics){const A=_.getMnemonic();if(A&&_.isEnabled()){let K=[];this.mnemonics.has(A)&&(K=this.mnemonics.get(A)),K.push(_),this.mnemonics.set(A,K)}}return _}else{const _={enableMnemonics:i.enableMnemonics,useEventAsContext:i.useEventAsContext};if(i.getKeyBinding){const K=i.getKeyBinding(t);if(K){const J=K.getLabel();J&&(_.keybinding=J)}}const A=new Xl(i.context,t,_);if(i.enableMnemonics){const K=A.getMnemonic();if(K&&A.isEnabled()){let J=[];this.mnemonics.has(K)&&(J=this.mnemonics.get(K)),J.push(A),this.mnemonics.set(K,J)}}return A}}}class Xl extends La.Y{constructor(t,i,o={}){if(o.isMenu=!0,super(i,i,o),this.options=o,this.options.icon=o.icon!==void 0?o.icon:!1,this.options.label=o.label!==void 0?o.label:!0,this.cssClass="",this.options.label&&o.enableMnemonics){let _=this.getAction().label;if(_){let A=Yl.exec(_);A&&(this.mnemonic=(A[1]?A[1]:A[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Bn.pY(()=>{this.element&&(this._register((0,Je.nm)(this.element,Je.tw.MOUSE_UP,_=>{if(Je.zB.stop(_,!0),sr.vU){if(new Wo.n(_).rightButton)return;this.onClick(_)}else setTimeout(()=>{this.onClick(_)},0)})),this._register((0,Je.nm)(this.element,Je.tw.CONTEXT_MENU,_=>{Je.zB.stop(_,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(t){super.render(t),this.element&&(this.container=t,this.item=(0,Je.R3)(this.element,(0,Je.$)("a.action-menu-item")),this._action.id===ks.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,Je.R3)(this.item,(0,Je.$)("span.menu-item-check"+Md.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,Je.R3)(this.item,(0,Je.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,Je.R3)(this.item,(0,Je.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(t,i){this.item&&(this.item.setAttribute("aria-posinset",`${t}`),this.item.setAttribute("aria-setsize",`${i}`))}updateLabel(){if(this.label&&this.options.label){(0,Je.PO)(this.label);let t=(0,Yr.x$)(this.getAction().label);if(t){const i=Pu(t);this.options.enableMnemonics||(t=i),this.label.setAttribute("aria-label",i.replace(/&&/g,"&"));const o=Yl.exec(t);if(o){t=an.YU(t),Ql.lastIndex=0;let _=Ql.exec(t);for(;_&&_[1];)_=Ql.exec(t);const A=K=>K.replace(/&amp;&amp;/g,"&amp;");_?this.label.append(an.j3(A(t.substr(0,_.index))," "),(0,Je.$)("u",{"aria-hidden":"true"},_[3]),an.oL(A(t.substr(_.index+_[0].length))," ")):this.label.innerText=A(t).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(o[1]?o[1]:o[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){let t=null;this.getAction().tooltip?t=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(t=this.getAction().label,this.options.keybinding&&(t=We.N({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",t,this.options.keybinding))),t&&this.item&&(this.item.title=t)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const t=this.getAction().checked;this.item.classList.toggle("checked",!!t),t!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",t?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const t=this.element&&this.element.classList.contains("focused"),i=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,o=t&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,_=t&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=i?i.toString():"",this.item.style.backgroundColor=o?o.toString():""),this.check&&(this.check.style.color=i?i.toString():""),this.container&&(this.container.style.border=_)}style(t){this.menuStyle=t,this.applyStyle()}}class kd extends Xl{constructor(t,i,o,_){super(t,t,_),this.submenuActions=i,this.parentData=o,this.submenuOptions=_,this.mysubmenu=null,this.submenuDisposables=this._register(new ii.SL),this.mouseOver=!1,this.expandDirection=_&&_.expandDirection!==void 0?_.expandDirection:cl.Right,this.showScheduler=new Bn.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new Bn.pY(()=>{this.element&&!(0,Je.jg)((0,Je.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(t){super.render(t),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,Je.R3)(this.item,(0,Je.$)("span.submenu-indicator"+Rd.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,Je.nm)(this.element,Je.tw.KEY_UP,i=>{let o=new Zt.y(i);(o.equals(17)||o.equals(3))&&(Je.zB.stop(i,!0),this.createSubmenu(!0))})),this._register((0,Je.nm)(this.element,Je.tw.KEY_DOWN,i=>{let o=new Zt.y(i);(0,Je.vY)()===this.item&&(o.equals(17)||o.equals(3))&&Je.zB.stop(i,!0)})),this._register((0,Je.nm)(this.element,Je.tw.MOUSE_OVER,i=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,Je.nm)(this.element,Je.tw.MOUSE_LEAVE,i=>{this.mouseOver=!1})),this._register((0,Je.nm)(this.element,Je.tw.FOCUS_OUT,i=>{this.element&&!(0,Je.jg)((0,Je.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(t){Je.zB.stop(t,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(t){if(this.parentData.submenu&&(t||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(i){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(t,i,o,_){const A={top:0,left:0};return A.left=Da(t.width,i.width,{position:_===cl.Right?0:1,offset:o.left,size:o.width}),A.left>=o.left&&A.left<o.left+o.width&&(o.left+10+i.width<=t.width&&(A.left=o.left+10),o.top+=10,o.height=0),A.top=Da(t.height,i.height,{position:0,offset:o.top,size:0}),A.top+i.height===o.top&&A.top+o.height+i.height<=t.height&&(A.top+=o.height),A}createSubmenu(t=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,Je.R3)(this.element,(0,Je.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const i=getComputedStyle(this.parentData.parent.domNode),o=parseFloat(i.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new fa(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new ks.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const _=this.element.getBoundingClientRect(),A={top:_.top-o,left:_.left,height:_.height+2*o,width:_.width},K=this.submenuContainer.getBoundingClientRect(),{top:J,left:Ce}=this.calculateSubmenuMenuLayout(new Je.Ro(window.innerWidth,window.innerHeight),Je.Ro.lift(K),A,this.expandDirection);this.submenuContainer.style.left=`${Ce-K.left}px`,this.submenuContainer.style.top=`${J-K.top}px`,this.submenuDisposables.add((0,Je.nm)(this.submenuContainer,Je.tw.KEY_UP,Ee=>{new Zt.y(Ee).equals(15)&&(Je.zB.stop(Ee,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,Je.nm)(this.submenuContainer,Je.tw.KEY_DOWN,Ee=>{new Zt.y(Ee).equals(15)&&Je.zB.stop(Ee,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(t),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(t){var i;this.item&&((i=this.item)===null||i===void 0||i.setAttribute("aria-expanded",t))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const i=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=i?`${i}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Jl extends La.g{style(t){this.label&&(this.label.style.borderBottomColor=t.separatorColor?`${t.separatorColor}`:"")}}function Pu(u){const t=Yl,i=t.exec(u);if(!i)return u;const o=!i[1];return u.replace(t,o?"$2$3":"").trim()}let Ad=`
.monaco-menu {
	font-size: 13px;

}

${(0,ul.a)(Md)}
${(0,ul.a)(Rd)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
	box-shadow: #DDD 0 6px 6px -6px inset;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
	box-shadow: #DDD 6px 0 6px -6px inset;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top.left {
	box-shadow: #DDD 6px 6px 6px -6px inset;
}

/* ---------- Default Style ---------- */

:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(100, 100, 100, .4);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(121, 121, 121, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(111, 195, 223, .6);
}

.monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(100, 100, 100, .7);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(111, 195, 223, .8);
}

.monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(0, 0, 0, .6);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(191, 191, 191, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(111, 195, 223, 1);
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {
	box-shadow: #000 6px 0 6px -6px inset;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {
	box-shadow: #000 6px 6px 6px -6px inset;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.left {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {
	box-shadow: none;
}
`;var na=c(88810);class Fu{constructor(t,i,o,_,A){this.contextViewService=t,this.telemetryService=i,this.notificationService=o,this.keybindingService=_,this.themeService=A,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(t){this.options=t}showContextMenu(t){const i=t.getActions();if(!i.length)return;this.focusToReturn=document.activeElement;let o,_=(0,Je.Re)(t.domForShadowRoot)?t.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>t.getAnchor(),canRelayout:!1,anchorAlignment:t.anchorAlignment,anchorAxisAlignment:t.anchorAxisAlignment,render:A=>{let K=t.getMenuClassName?t.getMenuClassName():"";K&&(A.className+=" "+K),this.options.blockMouse&&(this.block=A.appendChild((0,Je.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,Je.nm)(this.block,Je.tw.MOUSE_DOWN,Ee=>Ee.stopPropagation()));const J=new ii.SL,Ce=t.actionRunner||new ks.Wi;return Ce.onBeforeRun(this.onActionRun,this,J),Ce.onDidRun(this.onDidActionRun,this,J),o=new fa(A,i,{actionViewItemProvider:t.getActionViewItem,context:t.getActionsContext?t.getActionsContext():null,actionRunner:Ce,getKeyBinding:t.getKeyBinding?t.getKeyBinding:Ee=>this.keybindingService.lookupKeybinding(Ee.id)}),J.add((0,na.tj)(o,this.themeService)),o.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,J),o.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,J),J.add((0,Je.nm)(window,Je.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),J.add((0,Je.nm)(window,Je.tw.MOUSE_DOWN,Ee=>{if(Ee.defaultPrevented)return;let Fe=new Wo.n(Ee),Qe=Fe.target;if(!Fe.rightButton){for(;Qe;){if(Qe===A)return;Qe=Qe.parentElement}this.contextViewService.hideContextView(!0)}})),(0,ii.F8)(J,o)},focus:()=>{o&&o.focus(!!t.autoSelectFirstItem)},onHide:A=>{t.onHide&&t.onHide(!!A),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},_,!!_)}onActionRun(t){this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(t){t.error&&!(0,On.VV)(t.error)&&this.notificationService.error(t.error)}}var Bu=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},Wa=function(u,t){return function(i,o){t(i,o,u)}};let ql=class extends ii.JT{constructor(t,i,o,_,A){super(),this.contextMenuHandler=new Fu(o,t,i,_,A)}configure(t){this.contextMenuHandler.configure(t)}showContextMenu(t){this.contextMenuHandler.showContextMenu(t),Je._q.getInstance().resetKeyStatus()}};ql=Bu([Wa(0,yo.b),Wa(1,zt.lT),Wa(2,Io.u),Wa(3,ce.d),Wa(4,fs.XE)],ql);const hl=(0,jn.yh)("layoutService");var Wu=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},Vu=function(u,t){return function(i,o){t(i,o,u)}};let ed=class extends ii.JT{constructor(t){super(),this.layoutService=t,this.currentViewDisposable=ii.JT.None,this.container=t.container,this.contextView=this._register(new Ea(this.container,1)),this.layout(),this._register(t.onDidLayout(()=>this.layout()))}setContainer(t,i){this.contextView.setContainer(t,i||1)}showContextView(t,i,o){i?i!==this.container&&(this.container=i,this.setContainer(i,o?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(t);const _=(0,ii.OF)(()=>{this.currentViewDisposable===_&&this.hideContextView()});return this.currentViewDisposable=_,_}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(t){this.contextView.hide(t)}};ed=Wu([Vu(0,hl)],ed);const Od=(0,jn.yh)("dialogService");var xa=c(97108);class Hu{constructor(t){this.incoming=new Map,this.outgoing=new Map,this.data=t}}class zu{constructor(t){this._hashFn=t,this._nodes=new Map}roots(){const t=[];for(let i of this._nodes.values())i.outgoing.size===0&&t.push(i);return t}insertEdge(t,i){const o=this.lookupOrInsertNode(t),_=this.lookupOrInsertNode(i);o.outgoing.set(this._hashFn(i),_),_.incoming.set(this._hashFn(t),o)}removeNode(t){const i=this._hashFn(t);this._nodes.delete(i);for(let o of this._nodes.values())o.outgoing.delete(i),o.incoming.delete(i)}lookupOrInsertNode(t){const i=this._hashFn(t);let o=this._nodes.get(i);return o||(o=new Hu(t),this._nodes.set(i,o)),o}isEmpty(){return this._nodes.size===0}toString(){let t=[];for(let[i,o]of this._nodes)t.push(`${i}, (incoming)[${[...o.incoming.keys()].join(", ")}], (outgoing)[${[...o.outgoing.keys()].join(",")}]`);return t.join(`
`)}findCycleSlow(){for(let[t,i]of this._nodes){const o=new Set([t]),_=this._findCycle(i,o);if(_)return _}}_findCycle(t,i){for(let[o,_]of t.outgoing){if(i.has(o))return[...i,o].join(" -> ");i.add(o);const A=this._findCycle(_,i);if(A)return A;i.delete(o)}}}const Pd=!1;class Fd extends Error{constructor(t){var i;super("cyclic dependency between services"),this.message=(i=t.findCycleSlow())!==null&&i!==void 0?i:`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}}class fl{constructor(t=new hr.y,i=!1,o){this._activeInstantiations=new Set,this._services=t,this._strict=i,this._parent=o,this._services.set(jn.TG,this)}createChild(t){return new fl(t,this._strict,this)}invokeFunction(t,...i){let o=br.traceInvocation(t),_=!1;try{return t({get:(K,J)=>{if(_)throw(0,On.L6)("service accessor is only valid during the invocation of its target method");const Ce=this._getOrCreateServiceInstance(K,o);if(!Ce&&J!==jn.jt)throw new Error(`[invokeFunction] unknown service '${K}'`);return Ce}},...i)}finally{_=!0,o.stop()}}createInstance(t,...i){let o,_;return t instanceof xa.M?(o=br.traceCreation(t.ctor),_=this._createInstance(t.ctor,t.staticArguments.concat(i),o)):(o=br.traceCreation(t),_=this._createInstance(t,i,o)),o.stop(),_}_createInstance(t,i=[],o){let _=jn.I8.getServiceDependencies(t).sort((J,Ce)=>J.index-Ce.index),A=[];for(const J of _){let Ce=this._getOrCreateServiceInstance(J.id,o);if(!Ce&&this._strict&&!J.optional)throw new Error(`[createInstance] ${t.name} depends on UNKNOWN service ${J.id}.`);A.push(Ce)}let K=_.length>0?_[0].index:i.length;if(i.length!==K){console.warn(`[createInstance] First service dependency of ${t.name} at position ${K+1} conflicts with ${i.length} static arguments`);let J=K-i.length;J>0?i=i.concat(new Array(J)):i=i.slice(0,K)}return new t(...i,...A)}_setServiceInstance(t,i){if(this._services.get(t)instanceof xa.M)this._services.set(t,i);else if(this._parent)this._parent._setServiceInstance(t,i);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){let i=this._services.get(t);return!i&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):i}_getOrCreateServiceInstance(t,i){let o=this._getServiceInstanceOrDescriptor(t);return o instanceof xa.M?this._safeCreateAndCacheServiceInstance(t,o,i.branch(t,!0)):(i.branch(t,!1),o)}_safeCreateAndCacheServiceInstance(t,i,o){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,i,o)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,i,o){const _=new zu(J=>J.id.toString());let A=0;const K=[{id:t,desc:i,_trace:o}];for(;K.length;){const J=K.pop();if(_.lookupOrInsertNode(J),A++>1e3)throw new Fd(_);for(let Ce of jn.I8.getServiceDependencies(J.desc.ctor)){let Ee=this._getServiceInstanceOrDescriptor(Ce.id);if(!Ee&&!Ce.optional&&console.warn(`[createInstance] ${t} depends on ${Ce.id} which is NOT registered.`),Ee instanceof xa.M){const Fe={id:Ce.id,desc:Ee,_trace:J._trace.branch(Ce.id,!0)};_.insertEdge(J,Fe),K.push(Fe)}}}for(;;){const J=_.roots();if(J.length===0){if(!_.isEmpty())throw new Fd(_);break}for(const{data:Ce}of J){if(this._getServiceInstanceOrDescriptor(Ce.id)instanceof xa.M){const Fe=this._createServiceInstanceWithOwner(Ce.id,Ce.desc.ctor,Ce.desc.staticArguments,Ce.desc.supportsDelayedInstantiation,Ce._trace);this._setServiceInstance(Ce.id,Fe)}_.removeNode(Ce)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,i,o=[],_,A){if(this._services.get(t)instanceof xa.M)return this._createServiceInstance(i,o,_,A);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,i,o,_,A);throw new Error(`illegalState - creating UNKNOWN service instance ${i.name}`)}_createServiceInstance(t,i=[],o,_){if(o){const A=new Bn.Ue(()=>this._createInstance(t,i,_));return new Proxy(Object.create(null),{get(K,J){if(J in K)return K[J];let Ce=A.value,Ee=Ce[J];return typeof Ee!="function"||(Ee=Ee.bind(Ce),K[J]=Ee),Ee},set(K,J,Ce){return A.value[J]=Ce,!0}})}else return this._createInstance(t,i,_)}}class br{constructor(t,i){this.type=t,this.name=i,this._start=Date.now(),this._dep=[]}static traceInvocation(t){return Pd?new br(1,t.name||t.toString().substring(0,42).replace(/\n/g,"")):br._None}static traceCreation(t){return Pd?new br(0,t.name):br._None}branch(t,i){let o=new br(2,t.toString());return this._dep.push([t,i,o]),o}stop(){let t=Date.now()-this._start;br._totals+=t;let i=!1;function o(A,K){let J=[],Ce=new Array(A+1).join("	");for(const[Ee,Fe,Qe]of K._dep)if(Fe&&Qe){i=!0,J.push(`${Ce}CREATES -> ${Ee}`);let Kt=o(A+1,Qe);Kt&&J.push(Kt)}else J.push(`${Ce}uses -> ${Ee}`);return J.join(`
`)}let _=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${o(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${br._totals.toFixed(2)}ms)`];(t>2||i)&&console.log(_.join(`
`))}}br._None=new class extends br{constructor(){super(-1,null)}stop(){}branch(){return this}},br._totals=0;var Uu=c(44349),td=c(38097),$r=c(98674);class $u{constructor(){this._byResource=new ke.Y9,this._byOwner=new Map}set(t,i,o){let _=this._byResource.get(t);_||(_=new Map,this._byResource.set(t,_)),_.set(i,o);let A=this._byOwner.get(i);A||(A=new ke.Y9,this._byOwner.set(i,A)),A.set(t,o)}get(t,i){let o=this._byResource.get(t);return o==null?void 0:o.get(i)}delete(t,i){let o=!1,_=!1,A=this._byResource.get(t);A&&(o=A.delete(i));let K=this._byOwner.get(i);if(K&&(_=K.delete(t)),o!==_)throw new Error("illegal state");return o&&_}values(t){var i,o,_,A;return typeof t=="string"?(o=(i=this._byOwner.get(t))===null||i===void 0?void 0:i.values())!==null&&o!==void 0?o:a.$.empty():y.o.isUri(t)?(A=(_=this._byResource.get(t))===null||_===void 0?void 0:_.values())!==null&&A!==void 0?A:a.$.empty():a.$.map(a.$.concat(...this._byOwner.values()),K=>K[1])}}class Ku{constructor(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new ke.Y9,this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(t){for(const i of t){const o=this._data.get(i);o&&this._substract(o);const _=this._resourceStats(i);this._add(_),this._data.set(i,_)}}_resourceStats(t){const i={errors:0,warnings:0,infos:0,unknowns:0};if(t.scheme===Ie.lg.inMemory||t.scheme===Ie.lg.walkThrough||t.scheme===Ie.lg.walkThroughSnippet)return i;for(const{severity:o}of this._service.read({resource:t}))o===$r.ZL.Error?i.errors+=1:o===$r.ZL.Warning?i.warnings+=1:o===$r.ZL.Info?i.infos+=1:i.unknowns+=1;return i}_substract(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns}_add(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns}}class ga{constructor(){this._onMarkerChanged=new Q.D0({delay:0,merge:ga._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new $u,this._stats=new Ku(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(t,i){for(const o of i||[])this.changeOne(t,o,[])}changeOne(t,i,o){if((0,eo.XY)(o))this._data.delete(i,t)&&this._onMarkerChanged.fire([i]);else{const _=[];for(const A of o){const K=ga._toMarker(t,i,A);K&&_.push(K)}this._data.set(i,t,_),this._onMarkerChanged.fire([i])}}static _toMarker(t,i,o){let{code:_,severity:A,message:K,source:J,startLineNumber:Ce,startColumn:Ee,endLineNumber:Fe,endColumn:Qe,relatedInformation:Kt,tags:ki}=o;if(K)return Ce=Ce>0?Ce:1,Ee=Ee>0?Ee:1,Fe=Fe>=Ce?Fe:Ce,Qe=Qe>0?Qe:Ee,{resource:i,owner:t,code:_,severity:A,message:K,source:J,startLineNumber:Ce,startColumn:Ee,endLineNumber:Fe,endColumn:Qe,relatedInformation:Kt,tags:ki}}read(t=Object.create(null)){let{owner:i,resource:o,severities:_,take:A}=t;if((!A||A<0)&&(A=-1),i&&o){const K=this._data.get(o,i);if(K){const J=[];for(const Ce of K)if(ga._accept(Ce,_)){const Ee=J.push(Ce);if(A>0&&Ee===A)break}return J}else return[]}else if(!i&&!o){const K=[];for(let J of this._data.values())for(let Ce of J)if(ga._accept(Ce,_)){const Ee=K.push(Ce);if(A>0&&Ee===A)return K}return K}else{const K=this._data.values(o!=null?o:i),J=[];for(const Ce of K)for(const Ee of Ce)if(ga._accept(Ee,_)){const Fe=J.push(Ee);if(A>0&&Fe===A)return J}return J}}static _accept(t,i){return i===void 0||(i&t.severity)===t.severity}static _merge(t){const i=new ke.Y9;for(let o of t)for(let _ of o)i.set(_,!0);return Array.from(i.keys())}}var Bd=c(87060),Wd=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},gl=function(u,t){return function(i,o){t(i,o,u)}};let id=class{constructor(t){this._commandService=t}createMenu(t,i,o){return new nd(t,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},o),this._commandService,i,this)}};id=Wd([gl(0,at.H)],id);let nd=class Ta{constructor(t,i,o,_,A){this._id=t,this._options=i,this._commandService=o,this._contextKeyService=_,this._menuService=A,this._disposables=new ii.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const K=new Bn.pY(()=>{this._build(),this._onDidChange.fire(this)},i.eventDebounceDelay);this._disposables.add(K),this._disposables.add(ie.BH.onDidChangeMenu(Ee=>{Ee.has(t)&&K.schedule()}));const J=this._disposables.add(new ii.SL),Ce=()=>{const Ee=new Bn.pY(()=>this._onDidChange.fire(this),i.eventDebounceDelay);J.add(Ee),J.add(_.onDidChangeContext(Fe=>{Fe.affectsSome(this._contextKeys)&&Ee.schedule()}))};this._onDidChange=new Q.Q5({onFirstListenerAdd:Ce,onLastListenerRemove:J.clear.bind(J)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=ie.BH.getMenuItems(this._id);let i;t.sort(Ta._compareMenuItems);for(const o of t){const _=o.group||"";(!i||i[0]!==_)&&(i=[_,[]],this._menuGroups.push(i)),i[1].push(o),this._collectContextKeys(o)}}_collectContextKeys(t){if(Ta._fillInKbExprKeys(t.when,this._contextKeys),(0,ie.vr)(t)){if(t.command.precondition&&Ta._fillInKbExprKeys(t.command.precondition,this._contextKeys),t.command.toggled){const i=t.command.toggled.condition||t.command.toggled;Ta._fillInKbExprKeys(i,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&ie.BH.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}getActions(t){const i=[];for(let o of this._menuGroups){const[_,A]=o,K=[];for(const J of A)if(this._contextKeyService.contextMatchesRules(J.when)){const Ce=(0,ie.vr)(J)?new ie.U8(J.command,J.alt,t,this._contextKeyService,this._commandService):new ie.NZ(J,this._menuService,this._contextKeyService,t);K.push(Ce)}K.length>0&&i.push([_,K])}return i}static _fillInKbExprKeys(t,i){if(t)for(let o of t.keys())i.add(o)}static _compareMenuItems(t,i){let o=t.group,_=i.group;if(o!==_){if(o){if(!_)return-1}else return 1;if(o==="navigation")return-1;if(_==="navigation")return 1;let J=o.localeCompare(_);if(J!==0)return J}let A=t.order||0,K=i.order||0;return A<K?-1:A>K?1:Ta._compareTitles((0,ie.vr)(t)?t.command.title:t.title,(0,ie.vr)(i)?i.command.title:i.title)}static _compareTitles(t,i){const o=typeof t=="string"?t:t.original,_=typeof i=="string"?i:i.original;return o.localeCompare(_)}};nd=Wd([gl(2,at.H),gl(3,Rt.i6),gl(4,ie.co)],nd);var ju=c(26479),Gu=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},Vd=function(u,t){return function(i,o){t(i,o,u)}};class Zu extends ii.JT{constructor(t){super(),this.model=t,this._markersData=new Map,this._register((0,ii.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(t,i){const o=[...this._markersData.keys()];this._markersData.clear();const _=this.model.deltaDecorations(o,i);for(let A=0;A<_.length;A++)this._markersData.set(_[A],t[A]);return o.length!==0||_.length!==0}getMarker(t){return this._markersData.get(t.id)}}let sd=class extends ii.JT{constructor(t,i){super(),this._markerService=i,this._onDidChangeMarker=this._register(new Q.Q5),this._markerDecorations=new ke.Y9,t.getModels().forEach(o=>this._onModelAdded(o)),this._register(t.onModelAdded(this._onModelAdded,this)),this._register(t.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(t=>t.dispose()),this._markerDecorations.clear()}getMarker(t,i){const o=this._markerDecorations.get(t);return o&&o.getMarker(i)||null}_handleMarkerChange(t){t.forEach(i=>{const o=this._markerDecorations.get(i);o&&this._updateDecorations(o)})}_onModelAdded(t){const i=new Zu(t);this._markerDecorations.set(t.uri,i),this._updateDecorations(i)}_onModelRemoved(t){const i=this._markerDecorations.get(t.uri);i&&(i.dispose(),this._markerDecorations.delete(t.uri)),(t.uri.scheme===Ie.lg.inMemory||t.uri.scheme===Ie.lg.internal||t.uri.scheme===Ie.lg.vscode)&&this._markerService&&this._markerService.read({resource:t.uri}).map(o=>o.owner).forEach(o=>this._markerService.remove(o,[t.uri]))}_updateDecorations(t){const i=this._markerService.read({resource:t.model.uri,take:500});let o=i.map(_=>({range:this._createDecorationRange(t.model,_),options:this._createDecorationOption(_)}));t.update(i,o)&&this._onDidChangeMarker.fire(t.model)}_createDecorationRange(t,i){let o=R.e.lift(i);return i.severity===$r.ZL.Hint&&!this._hasMarkerTag(i,1)&&!this._hasMarkerTag(i,2)&&(o=o.setEndPosition(o.startLineNumber,o.startColumn+2)),t.validateRange(o)}_createDecorationOption(t){let i,o,_,A,K;switch(t.severity){case $r.ZL.Hint:this._hasMarkerTag(t,2)?i=void 0:this._hasMarkerTag(t,1)?i="squiggly-unnecessary":i="squiggly-hint",_=0;break;case $r.ZL.Warning:i="squiggly-warning",o=(0,fs.EN)(bs.Re),_=20,K={color:(0,fs.EN)(un.Iv),position:Mi.F5.Inline};break;case $r.ZL.Info:i="squiggly-info",o=(0,fs.EN)(bs.eS),_=10;break;case $r.ZL.Error:default:i="squiggly-error",o=(0,fs.EN)(bs.lK),_=30,K={color:(0,fs.EN)(un.Gj),position:Mi.F5.Inline};break}return t.tags&&(t.tags.indexOf(1)!==-1&&(A="squiggly-inline-unnecessary"),t.tags.indexOf(2)!==-1&&(A="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:i,showIfCollapsed:!0,overviewRuler:{color:o,position:Mi.sh.Right},minimap:K,zIndex:_,inlineClassName:A}}_hasMarkerTag(t,i){return t.tags?t.tags.indexOf(i)>=0:!1}};sd=Gu([Vd(0,os.q),Vd(1,$r.lT)],sd);var Hd=c(65026),Yu=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},zd=function(u,t){return function(i,o){t(i,o,u)}};let od=class extends ii.JT{constructor(t,i){super(),this._contextKeyService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new Q.Q5,this._accessibilityModeEnabledContext=De.U.bindTo(this._contextKeyService);const o=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(_=>{_.affectsConfiguration("editor.accessibilitySupport")&&(o(),this._onDidChangeScreenReaderOptimized.fire())})),o(),this.onDidChangeScreenReaderOptimized(()=>o())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const t=this._configurationService.getValue("editor.accessibilitySupport");return t==="on"||t==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};od=Yu([zd(0,Rt.i6),zd(1,d.Ui)],od);var ml=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function J(Fe){try{Ee(o.next(Fe))}catch(Qe){K(Qe)}}function Ce(Fe){try{Ee(o.throw(Fe))}catch(Qe){K(Qe)}}function Ee(Fe){Fe.done?A(Fe.value):_(Fe.value).then(J,Ce)}Ee((o=o.apply(u,t||[])).next())})};class Qu{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(t,i){return ml(this,void 0,void 0,function*(){if(i){this.mapTextToType.set(i,t);return}try{return yield navigator.clipboard.writeText(t)}catch(A){console.error(A)}const o=document.activeElement,_=document.body.appendChild((0,Je.$)("textarea",{"aria-hidden":!0}));_.style.height="1px",_.style.width="1px",_.style.position="absolute",_.value=t,_.focus(),_.select(),document.execCommand("copy"),o instanceof HTMLElement&&o.focus(),document.body.removeChild(_)})}readText(t){return ml(this,void 0,void 0,function*(){if(t)return this.mapTextToType.get(t)||"";try{return yield navigator.clipboard.readText()}catch(i){return console.error(i),""}})}readFindText(){return ml(this,void 0,void 0,function*(){return this.findText})}writeFindText(t){return ml(this,void 0,void 0,function*(){this.findText=t})}}var Xu=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},Ud=function(u,t){return function(i,o){t(i,o,u)}},pl=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function J(Fe){try{Ee(o.next(Fe))}catch(Qe){K(Qe)}}function Ce(Fe){try{Ee(o.throw(Fe))}catch(Qe){K(Qe)}}function Ee(Fe){Fe.done?A(Fe.value):_(Fe.value).then(J,Ce)}Ee((o=o.apply(u,t||[])).next())})};const Ia=!1;function _l(u){return u.scheme===Ie.lg.file?u.fsPath:u.path}let $d=0;class vl{constructor(t,i,o,_,A,K,J){this.id=++$d,this.type=0,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabel=i,this.strResource=o,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=_,this.groupOrder=A,this.sourceId=K,this.sourceOrder=J,this.isValid=!0}setValid(t){this.isValid=t}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Kd{constructor(t,i){this.resourceLabel=t,this.reason=i}}class jd{constructor(){this.elements=new Map}createMessage(){const t=[],i=[];for(const[,_]of this.elements)(_.reason===0?t:i).push(_.resourceLabel);let o=[];return t.length>0&&o.push(We.N({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",t.join(", "))),i.length>0&&o.push(We.N({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",i.join(", "))),o.join(`
`)}get size(){return this.elements.size}has(t){return this.elements.has(t)}set(t,i){this.elements.set(t,i)}delete(t){return this.elements.delete(t)}}class Ju{constructor(t,i,o,_,A,K,J){this.id=++$d,this.type=1,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabels=i,this.strResources=o,this.groupId=_,this.groupOrder=A,this.sourceId=K,this.sourceOrder=J,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(t,i,o){this.removedResources||(this.removedResources=new jd),this.removedResources.has(i)||this.removedResources.set(i,new Kd(t,o))}setValid(t,i,o){o?this.invalidatedResources&&(this.invalidatedResources.delete(i),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new jd),this.invalidatedResources.has(i)||this.invalidatedResources.set(i,new Kd(t,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Gd{constructor(t,i){this.resourceLabel=t,this.strResource=i,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const t of this._past)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,0);for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let t=[];t.push(`* ${this.strResource}:`);for(let i=0;i<this._past.length;i++)t.push(`   * [UNDO] ${this._past[i]}`);for(let i=this._future.length-1;i>=0;i--)t.push(`   * [REDO] ${this._future[i]}`);return t.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(t,i){t.type===1?t.setValid(this.resourceLabel,this.strResource,i):t.setValid(i)}setElementsValidFlag(t,i){for(const o of this._past)i(o.actual)&&this._setElementValidFlag(o,t);for(const o of this._future)i(o.actual)&&this._setElementValidFlag(o,t)}pushElement(t){for(const i of this._future)i.type===1&&i.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(t),this.versionId++}createSnapshot(t){const i=[];for(let o=0,_=this._past.length;o<_;o++)i.push(this._past[o].id);for(let o=this._future.length-1;o>=0;o--)i.push(this._future[o].id);return new Lr.YO(t,i)}restoreSnapshot(t){const i=t.elements.length;let o=!0,_=0,A=-1;for(let J=0,Ce=this._past.length;J<Ce;J++,_++){const Ee=this._past[J];o&&(_>=i||Ee.id!==t.elements[_])&&(o=!1,A=0),!o&&Ee.type===1&&Ee.removeResource(this.resourceLabel,this.strResource,0)}let K=-1;for(let J=this._future.length-1;J>=0;J--,_++){const Ce=this._future[J];o&&(_>=i||Ce.id!==t.elements[_])&&(o=!1,K=J),!o&&Ce.type===1&&Ce.removeResource(this.resourceLabel,this.strResource,0)}A!==-1&&(this._past=this._past.slice(0,A)),K!==-1&&(this._future=this._future.slice(K+1)),this.versionId++}getElements(){const t=[],i=[];for(const o of this._past)t.push(o.actual);for(const o of this._future)i.push(o.actual);return{past:t,future:i}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(t,i){for(let o=this._past.length-1;o>=0;o--)if(this._past[o]===t){i.has(this.strResource)?this._past[o]=i.get(this.strResource):this._past.splice(o,1);break}this.versionId++}splitFutureWorkspaceElement(t,i){for(let o=this._future.length-1;o>=0;o--)if(this._future[o]===t){i.has(this.strResource)?this._future[o]=i.get(this.strResource):this._future.splice(o,1);break}this.versionId++}moveBackward(t){this._past.pop(),this._future.push(t),this.versionId++}moveForward(t){this._future.pop(),this._past.push(t),this.versionId++}}class rd{constructor(t){this.editStacks=t,this._versionIds=[];for(let i=0,o=this.editStacks.length;i<o;i++)this._versionIds[i]=this.editStacks[i].versionId}isValid(){for(let t=0,i=this.editStacks.length;t<i;t++)if(this._versionIds[t]!==this.editStacks[t].versionId)return!1;return!0}}const Zd=new Gd("","");Zd.locked=!0;let Cl=class{constructor(t,i){this._dialogService=t,this._notificationService=i,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(t){for(const i of this._uriComparisonKeyComputers)if(i[0]===t.scheme)return i[1].getComparisonKey(t);return t.toString()}_print(t){console.log("------------------------------------"),console.log(`AFTER ${t}: `);let i=[];for(const o of this._editStacks)i.push(o[1].toString());console.log(i.join(`
`))}pushElement(t,i=Lr.Xt.None,o=Lr.gJ.None){if(t.type===0){const _=_l(t.resource),A=this.getUriComparisonKey(t.resource);this._pushElement(new vl(t,_,A,i.id,i.nextOrder(),o.id,o.nextOrder()))}else{const _=new Set,A=[],K=[];for(const J of t.resources){const Ce=_l(J),Ee=this.getUriComparisonKey(J);_.has(Ee)||(_.add(Ee),A.push(Ce),K.push(Ee))}A.length===1?this._pushElement(new vl(t,A[0],K[0],i.id,i.nextOrder(),o.id,o.nextOrder())):this._pushElement(new Ju(t,A,K,i.id,i.nextOrder(),o.id,o.nextOrder()))}Ia&&this._print("pushElement")}_pushElement(t){for(let i=0,o=t.strResources.length;i<o;i++){const _=t.resourceLabels[i],A=t.strResources[i];let K;this._editStacks.has(A)?K=this._editStacks.get(A):(K=new Gd(_,A),this._editStacks.set(A,K)),K.pushElement(t)}}getLastElement(t){const i=this.getUriComparisonKey(t);if(this._editStacks.has(i)){const o=this._editStacks.get(i);if(o.hasFutureElements())return null;const _=o.getClosestPastElement();return _?_.actual:null}return null}_splitPastWorkspaceElement(t,i){const o=t.actual.split(),_=new Map;for(const A of o){const K=_l(A.resource),J=this.getUriComparisonKey(A.resource),Ce=new vl(A,K,J,0,0,0,0);_.set(Ce.strResource,Ce)}for(const A of t.strResources){if(i&&i.has(A))continue;this._editStacks.get(A).splitPastWorkspaceElement(t,_)}}_splitFutureWorkspaceElement(t,i){const o=t.actual.split(),_=new Map;for(const A of o){const K=_l(A.resource),J=this.getUriComparisonKey(A.resource),Ce=new vl(A,K,J,0,0,0,0);_.set(Ce.strResource,Ce)}for(const A of t.strResources){if(i&&i.has(A))continue;this._editStacks.get(A).splitFutureWorkspaceElement(t,_)}}removeElements(t){const i=typeof t=="string"?t:this.getUriComparisonKey(t);this._editStacks.has(i)&&(this._editStacks.get(i).dispose(),this._editStacks.delete(i)),Ia&&this._print("removeElements")}setElementsValidFlag(t,i,o){const _=this.getUriComparisonKey(t);this._editStacks.has(_)&&this._editStacks.get(_).setElementsValidFlag(i,o),Ia&&this._print("setElementsValidFlag")}createSnapshot(t){const i=this.getUriComparisonKey(t);return this._editStacks.has(i)?this._editStacks.get(i).createSnapshot(t):new Lr.YO(t,[])}restoreSnapshot(t){const i=this.getUriComparisonKey(t.resource);if(this._editStacks.has(i)){const o=this._editStacks.get(i);o.restoreSnapshot(t),!o.hasPastElements()&&!o.hasFutureElements()&&(o.dispose(),this._editStacks.delete(i))}Ia&&this._print("restoreSnapshot")}getElements(t){const i=this.getUriComparisonKey(t);return this._editStacks.has(i)?this._editStacks.get(i).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(t){if(!t)return[null,null];let i=null,o=null;for(const[_,A]of this._editStacks){const K=A.getClosestPastElement();K&&K.sourceId===t&&(!i||K.sourceOrder>i.sourceOrder)&&(i=K,o=_)}return[i,o]}canUndo(t){if(t instanceof Lr.gJ){const[,o]=this._findClosestUndoElementWithSource(t.id);return!!o}const i=this.getUriComparisonKey(t);return this._editStacks.has(i)?this._editStacks.get(i).hasPastElements():!1}_onError(t,i){(0,On.dL)(t);for(const o of i.strResources)this.removeElements(o);this._notificationService.error(t)}_acquireLocks(t){for(const i of t.editStacks)if(i.locked)throw new Error("Cannot acquire edit stack lock");for(const i of t.editStacks)i.locked=!0;return()=>{for(const i of t.editStacks)i.locked=!1}}_safeInvokeWithLocks(t,i,o,_,A){const K=this._acquireLocks(o);let J;try{J=i()}catch(Ce){return K(),_.dispose(),this._onError(Ce,t)}return J?J.then(()=>(K(),_.dispose(),A()),Ce=>(K(),_.dispose(),this._onError(Ce,t))):(K(),_.dispose(),A())}_invokeWorkspacePrepare(t){return pl(this,void 0,void 0,function*(){if(typeof t.actual.prepareUndoRedo=="undefined")return ii.JT.None;const i=t.actual.prepareUndoRedo();return typeof i=="undefined"?ii.JT.None:i})}_invokeResourcePrepare(t,i){if(t.actual.type!==1||typeof t.actual.prepareUndoRedo=="undefined")return i(ii.JT.None);const o=t.actual.prepareUndoRedo();return o?(0,ii.Wf)(o)?i(o):o.then(_=>i(_)):i(ii.JT.None)}_getAffectedEditStacks(t){const i=[];for(const o of t.strResources)i.push(this._editStacks.get(o)||Zd);return new rd(i)}_tryToSplitAndUndo(t,i,o,_){if(i.canSplit())return this._splitPastWorkspaceElement(i,o),this._notificationService.warn(_),new bl(this._undo(t,0,!0));for(const A of i.strResources)this.removeElements(A);return this._notificationService.warn(_),new bl}_checkWorkspaceUndo(t,i,o,_){if(i.removedResources)return this._tryToSplitAndUndo(t,i,i.removedResources,We.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",i.label,i.removedResources.createMessage()));if(_&&i.invalidatedResources)return this._tryToSplitAndUndo(t,i,i.invalidatedResources,We.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",i.label,i.invalidatedResources.createMessage()));const A=[];for(const J of o.editStacks)J.getClosestPastElement()!==i&&A.push(J.resourceLabel);if(A.length>0)return this._tryToSplitAndUndo(t,i,null,We.N({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",i.label,A.join(", ")));const K=[];for(const J of o.editStacks)J.locked&&K.push(J.resourceLabel);return K.length>0?this._tryToSplitAndUndo(t,i,null,We.N({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",i.label,K.join(", "))):o.isValid()?null:this._tryToSplitAndUndo(t,i,null,We.N({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",i.label))}_workspaceUndo(t,i,o){const _=this._getAffectedEditStacks(i),A=this._checkWorkspaceUndo(t,i,_,!1);return A?A.returnValue:this._confirmAndExecuteWorkspaceUndo(t,i,_,o)}_isPartOfUndoGroup(t){if(!t.groupId)return!1;for(const[,i]of this._editStacks){const o=i.getClosestPastElement();if(o){if(o===t){const _=i.getSecondClosestPastElement();if(_&&_.groupId===t.groupId)return!0}if(o.groupId===t.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(t,i,o,_){return pl(this,void 0,void 0,function*(){if(i.canSplit()&&!this._isPartOfUndoGroup(i)){const J=yield this._dialogService.show(Xi.Z.Info,We.N("confirmWorkspace","Would you like to undo '{0}' across all files?",i.label),[We.N({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",o.editStacks.length),We.N("nok","Undo this File"),We.N("cancel","Cancel")],{cancelId:2});if(J.choice===2)return;if(J.choice===1)return this._splitPastWorkspaceElement(i,null),this._undo(t,0,!0);const Ce=this._checkWorkspaceUndo(t,i,o,!1);if(Ce)return Ce.returnValue;_=!0}let A;try{A=yield this._invokeWorkspacePrepare(i)}catch(J){return this._onError(J,i)}const K=this._checkWorkspaceUndo(t,i,o,!0);if(K)return A.dispose(),K.returnValue;for(const J of o.editStacks)J.moveBackward(i);return this._safeInvokeWithLocks(i,()=>i.actual.undo(),o,A,()=>this._continueUndoInGroup(i.groupId,_))})}_resourceUndo(t,i,o){if(!i.isValid){t.flushAllElements();return}if(t.locked){const _=We.N({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",i.label);this._notificationService.warn(_);return}return this._invokeResourcePrepare(i,_=>(t.moveBackward(i),this._safeInvokeWithLocks(i,()=>i.actual.undo(),new rd([t]),_,()=>this._continueUndoInGroup(i.groupId,o))))}_findClosestUndoElementInGroup(t){if(!t)return[null,null];let i=null,o=null;for(const[_,A]of this._editStacks){const K=A.getClosestPastElement();K&&K.groupId===t&&(!i||K.groupOrder>i.groupOrder)&&(i=K,o=_)}return[i,o]}_continueUndoInGroup(t,i){if(!t)return;const[,o]=this._findClosestUndoElementInGroup(t);if(o)return this._undo(o,0,i)}undo(t){if(t instanceof Lr.gJ){const[,i]=this._findClosestUndoElementWithSource(t.id);return i?this._undo(i,t.id,!1):void 0}return typeof t=="string"?this._undo(t,0,!1):this._undo(this.getUriComparisonKey(t),0,!1)}_undo(t,i=0,o){if(!this._editStacks.has(t))return;const _=this._editStacks.get(t),A=_.getClosestPastElement();if(!A)return;if(A.groupId){const[J,Ce]=this._findClosestUndoElementInGroup(A.groupId);if(A!==J&&Ce)return this._undo(Ce,i,o)}if((A.sourceId!==i||A.confirmBeforeUndo)&&!o)return this._confirmAndContinueUndo(t,i,A);try{return A.type===1?this._workspaceUndo(t,A,o):this._resourceUndo(_,A,o)}finally{Ia&&this._print("undo")}}_confirmAndContinueUndo(t,i,o){return pl(this,void 0,void 0,function*(){if((yield this._dialogService.show(Xi.Z.Info,We.N("confirmDifferentSource","Would you like to undo '{0}'?",o.label),[We.N("confirmDifferentSource.yes","Yes"),We.N("cancel","Cancel")],{cancelId:1})).choice!==1)return this._undo(t,i,!0)})}_findClosestRedoElementWithSource(t){if(!t)return[null,null];let i=null,o=null;for(const[_,A]of this._editStacks){const K=A.getClosestFutureElement();K&&K.sourceId===t&&(!i||K.sourceOrder<i.sourceOrder)&&(i=K,o=_)}return[i,o]}canRedo(t){if(t instanceof Lr.gJ){const[,o]=this._findClosestRedoElementWithSource(t.id);return!!o}const i=this.getUriComparisonKey(t);return this._editStacks.has(i)?this._editStacks.get(i).hasFutureElements():!1}_tryToSplitAndRedo(t,i,o,_){if(i.canSplit())return this._splitFutureWorkspaceElement(i,o),this._notificationService.warn(_),new bl(this._redo(t));for(const A of i.strResources)this.removeElements(A);return this._notificationService.warn(_),new bl}_checkWorkspaceRedo(t,i,o,_){if(i.removedResources)return this._tryToSplitAndRedo(t,i,i.removedResources,We.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",i.label,i.removedResources.createMessage()));if(_&&i.invalidatedResources)return this._tryToSplitAndRedo(t,i,i.invalidatedResources,We.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",i.label,i.invalidatedResources.createMessage()));const A=[];for(const J of o.editStacks)J.getClosestFutureElement()!==i&&A.push(J.resourceLabel);if(A.length>0)return this._tryToSplitAndRedo(t,i,null,We.N({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",i.label,A.join(", ")));const K=[];for(const J of o.editStacks)J.locked&&K.push(J.resourceLabel);return K.length>0?this._tryToSplitAndRedo(t,i,null,We.N({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",i.label,K.join(", "))):o.isValid()?null:this._tryToSplitAndRedo(t,i,null,We.N({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",i.label))}_workspaceRedo(t,i){const o=this._getAffectedEditStacks(i),_=this._checkWorkspaceRedo(t,i,o,!1);return _?_.returnValue:this._executeWorkspaceRedo(t,i,o)}_executeWorkspaceRedo(t,i,o){return pl(this,void 0,void 0,function*(){let _;try{_=yield this._invokeWorkspacePrepare(i)}catch(K){return this._onError(K,i)}const A=this._checkWorkspaceRedo(t,i,o,!0);if(A)return _.dispose(),A.returnValue;for(const K of o.editStacks)K.moveForward(i);return this._safeInvokeWithLocks(i,()=>i.actual.redo(),o,_,()=>this._continueRedoInGroup(i.groupId))})}_resourceRedo(t,i){if(!i.isValid){t.flushAllElements();return}if(t.locked){const o=We.N({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",i.label);this._notificationService.warn(o);return}return this._invokeResourcePrepare(i,o=>(t.moveForward(i),this._safeInvokeWithLocks(i,()=>i.actual.redo(),new rd([t]),o,()=>this._continueRedoInGroup(i.groupId))))}_findClosestRedoElementInGroup(t){if(!t)return[null,null];let i=null,o=null;for(const[_,A]of this._editStacks){const K=A.getClosestFutureElement();K&&K.groupId===t&&(!i||K.groupOrder<i.groupOrder)&&(i=K,o=_)}return[i,o]}_continueRedoInGroup(t){if(!t)return;const[,i]=this._findClosestRedoElementInGroup(t);if(i)return this._redo(i)}redo(t){if(t instanceof Lr.gJ){const[,i]=this._findClosestRedoElementWithSource(t.id);return i?this._redo(i):void 0}return typeof t=="string"?this._redo(t):this._redo(this.getUriComparisonKey(t))}_redo(t){if(!this._editStacks.has(t))return;const i=this._editStacks.get(t),o=i.getClosestFutureElement();if(o){if(o.groupId){const[_,A]=this._findClosestRedoElementInGroup(o.groupId);if(o!==_&&A)return this._redo(A)}try{return o.type===1?this._workspaceRedo(t,o):this._resourceRedo(i,o)}finally{Ia&&this._print("redo")}}}};Cl=Xu([Ud(0,Od),Ud(1,zt.lT)],Cl);class bl{constructor(t){this.returnValue=t}}(0,Hd.z)(Lr.tJ,Cl);var Yd=c(56811);const qu={buttonBackground:Rr.Il.fromHex("#0E639C"),buttonHoverBackground:Rr.Il.fromHex("#006BB3"),buttonForeground:Rr.Il.white};class Qd extends ii.JT{constructor(t,i){super(),this._onDidClick=this._register(new Q.Q5),this.options=i||Object.create(null),(0,Ot.jB)(this.options,qu,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),t.appendChild(this._element),this._register(_r.o.addTarget(this._element)),[Je.tw.CLICK,_r.t.Tap].forEach(o=>{this._register((0,Je.nm)(this._element,o,_=>{if(!this.enabled){Je.zB.stop(_);return}this._onDidClick.fire(_)}))}),this._register((0,Je.nm)(this._element,Je.tw.KEY_DOWN,o=>{const _=new Zt.y(o);let A=!1;this.enabled&&(_.equals(3)||_.equals(10))?(this._onDidClick.fire(o),A=!0):_.equals(9)&&(this._element.blur(),A=!0),A&&Je.zB.stop(_,!0)})),this._register((0,Je.nm)(this._element,Je.tw.MOUSE_OVER,o=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,Je.nm)(this._element,Je.tw.MOUSE_OUT,o=>{this.applyStyles()})),this.focusTracker=this._register((0,Je.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let t;this.options.secondary?t=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:t=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,t&&(this._element.style.backgroundColor=t)}style(t){this.buttonForeground=t.buttonForeground,this.buttonBackground=t.buttonBackground,this.buttonHoverBackground=t.buttonHoverBackground,this.buttonSecondaryForeground=t.buttonSecondaryForeground,this.buttonSecondaryBackground=t.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=t.buttonSecondaryHoverBackground,this.buttonBorder=t.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let t,i;this.options.secondary?(i=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",t=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(i=this.buttonForeground?this.buttonForeground.toString():"",t=this.buttonBackground?this.buttonBackground.toString():"");const o=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=i,this._element.style.backgroundColor=t,this._element.style.borderWidth=o?"1px":"",this._element.style.borderStyle=o?"solid":"",this._element.style.borderColor=o}}get element(){return this._element}set label(t){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,Je.mc)(this._element,...(0,Yd.T)(t)):this._element.textContent=t,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=t)}set enabled(t){t?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var Xd=c(85207);const Jd="done",qd="active",ad="infinite",eu="discrete",ec={progressBarBackground:Rr.Il.fromHex("#0E70C0")};class tc extends ii.JT{constructor(t,i){super(),this.options=i||Object.create(null),(0,Ot.jB)(this.options,ec,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new Bn.pY(()=>(0,Je.$Z)(this.element),0)),this.create(t)}create(t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),t.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(qd,ad,eu),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(t){return this.element.classList.add(Jd),this.element.classList.contains(ad)?(this.bit.style.opacity="0",t?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",t?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(eu,Jd),this.element.classList.add(qd,ad),this}getContainer(){return this.element}style(t){this.progressBarBackground=t.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const t=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=t}}}var ic=c(44742);const ld={},nc=new ic.R("quick-input-button-icon-");function dd(u){if(!u)return;let t;const i=u.dark.toString();return ld[i]?t=ld[i]:(t=nc.nextId(),Je.fk(`.${t}`,`background-image: ${Je.wY(u.light||u.dark)}`),Je.fk(`.vs-dark .${t}, .hc-black .${t}`,`background-image: ${Je.wY(u.dark)}`),ld[i]=t),t}const sc={ctrlCmd:!1,alt:!1};var Va;(function(u){u[u.Blur=1]="Blur",u[u.Gesture=2]="Gesture",u[u.Other=3]="Other"})(Va||(Va={}));var Br;(function(u){u[u.NONE=0]="NONE",u[u.FIRST=1]="FIRST",u[u.SECOND=2]="SECOND",u[u.LAST=3]="LAST"})(Br||(Br={}));var oc=c(97862);const rc=Je.$;class ac extends ii.JT{constructor(t){super(),this.parent=t,this.onKeyDown=i=>Je.nm(this.inputBox.inputElement,Je.tw.KEY_DOWN,o=>{i(new Zt.y(o))}),this.onMouseDown=i=>Je.nm(this.inputBox.inputElement,Je.tw.MOUSE_DOWN,o=>{i(new Wo.n(o))}),this.onDidChange=i=>this.inputBox.onDidChange(i),this.container=Je.R3(this.parent,rc(".quick-input-box")),this.inputBox=this._register(new oc.W(this.container,void 0))}get value(){return this.inputBox.value}set value(t){this.inputBox.value=t}select(t=null){this.inputBox.select(t)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(t){this.inputBox.setPlaceHolder(t)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(t){this.inputBox.setAriaLabel(t)}get password(){return this.inputBox.inputElement.type==="password"}set password(t){this.inputBox.inputElement.type=t?"password":"text"}setAttribute(t,i){this.inputBox.inputElement.setAttribute(t,i)}removeAttribute(t){this.inputBox.inputElement.removeAttribute(t)}showDecoration(t){t===Xi.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:t===Xi.Z.Info?1:t===Xi.Z.Warning?2:3,content:""})}stylesForType(t){return this.inputBox.stylesForType(t===Xi.Z.Info?1:t===Xi.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(t){this.inputBox.style(t)}}var lc=c(34650),dc=c(26974);const wl=Je.$;class ud{constructor(t,i,o){this.os=i,this.keyElements=new Set,this.options=o||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=Je.R3(t,wl(".monaco-keybinding")),this.didEverRender=!1,t.appendChild(this.domNode)}get element(){return this.domNode}set(t,i){this.didEverRender&&this.keybinding===t&&ud.areSame(this.matches,i)||(this.keybinding=t,this.matches=i,this.render())}render(){if(this.clear(),this.keybinding){let[t,i]=this.keybinding.getParts();t&&this.renderPart(this.domNode,t,this.matches?this.matches.firstPart:null),i&&(Je.R3(this.domNode,wl("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,i,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){Je.PO(this.domNode),this.keyElements.clear()}renderPart(t,i,o){const _=rt.xo.modifierLabels[this.os];i.ctrlKey&&this.renderKey(t,_.ctrlKey,!!(o!=null&&o.ctrlKey),_.separator),i.shiftKey&&this.renderKey(t,_.shiftKey,!!(o!=null&&o.shiftKey),_.separator),i.altKey&&this.renderKey(t,_.altKey,!!(o!=null&&o.altKey),_.separator),i.metaKey&&this.renderKey(t,_.metaKey,!!(o!=null&&o.metaKey),_.separator);const A=i.keyLabel;A&&this.renderKey(t,A,!!(o!=null&&o.keyCode),"")}renderKey(t,i,o,_){Je.R3(t,this.createKeyElement(i,o?".highlight":"")),_&&Je.R3(t,wl("span.monaco-keybinding-key-separator",void 0,_))}renderUnbound(t){Je.R3(t,this.createKeyElement((0,We.N)("unbound","Unbound")))}createKeyElement(t,i=""){const o=wl("span.monaco-keybinding-key"+i,void 0,t);return this.keyElements.add(o),o}style(t){this.labelBackground=t.keybindingLabelBackground,this.labelForeground=t.keybindingLabelForeground,this.labelBorder=t.keybindingLabelBorder,this.labelBottomBorder=t.keybindingLabelBottomBorder,this.labelShadow=t.keybindingLabelShadow,this.applyStyles()}applyStyles(){var t;if(this.element){for(const i of this.keyElements)this.labelBackground&&(i.style.backgroundColor=(t=this.labelBackground)===null||t===void 0?void 0:t.toString()),this.labelBorder&&(i.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(i.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(i.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(t,i){return t===i||!t&&!i?!0:!!t&&!!i&&(0,Ot.fS)(t.firstPart,i.firstPart)&&(0,Ot.fS)(t.chordPart,i.chordPart)}}const tu=new Bn.Ue(()=>{const u=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:u,collatorIsNumeric:u.resolvedOptions().numeric}});function uc(u,t,i=!1){const o=u||"",_=t||"",A=tu.value.collator.compare(o,_);return tu.value.collatorIsNumeric&&A===0&&o!==_?o<_?-1:1:A}function cc(u,t,i){const o=u.toLowerCase(),_=t.toLowerCase(),A=hc(u,t,i);if(A)return A;const K=o.endsWith(i),J=_.endsWith(i);if(K!==J)return K?-1:1;const Ce=uc(o,_);return Ce!==0?Ce:o.localeCompare(_)}function hc(u,t,i){const o=u.toLowerCase(),_=t.toLowerCase(),A=o.startsWith(i),K=_.startsWith(i);if(A!==K)return A?-1:1;if(A&&K){if(o.length<_.length)return-1;if(o.length>_.length)return 1}return 0}var iu=c(49898),nu=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},fc=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function J(Fe){try{Ee(o.next(Fe))}catch(Qe){K(Qe)}}function Ce(Fe){try{Ee(o.throw(Fe))}catch(Qe){K(Qe)}}function Ee(Fe){Fe.done?A(Fe.value):_(Fe.value).then(J,Ce)}Ee((o=o.apply(u,t||[])).next())})};const Kr=Je.$;class gc{constructor(t){this.hidden=!1,this._onChecked=new Q.Q5,this.onChecked=this._onChecked.event,Object.assign(this,t)}get checked(){return!!this._checked}set checked(t){t!==this._checked&&(this._checked=t,this._onChecked.fire(t))}dispose(){this._onChecked.dispose()}}class Ha{get templateId(){return Ha.ID}renderTemplate(t){const i=Object.create(null);i.toDisposeElement=[],i.toDisposeTemplate=[],i.entry=Je.R3(t,Kr(".quick-input-list-entry"));const o=Je.R3(i.entry,Kr("label.quick-input-list-label"));i.toDisposeTemplate.push(Je.mu(o,Je.tw.CLICK,Ee=>{i.checkbox.offsetParent||Ee.preventDefault()})),i.checkbox=Je.R3(o,Kr("input.quick-input-list-checkbox")),i.checkbox.type="checkbox",i.toDisposeTemplate.push(Je.mu(i.checkbox,Je.tw.CHANGE,Ee=>{i.element.checked=i.checkbox.checked}));const _=Je.R3(o,Kr(".quick-input-list-rows")),A=Je.R3(_,Kr(".quick-input-list-row")),K=Je.R3(_,Kr(".quick-input-list-row"));i.label=new dc.g(A,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const J=Je.R3(A,Kr(".quick-input-list-entry-keybinding"));i.keybinding=new ud(J,Zi.OS);const Ce=Je.R3(K,Kr(".quick-input-list-label-meta"));return i.detail=new lc.q(Ce,!0),i.separator=Je.R3(i.entry,Kr(".quick-input-list-separator")),i.actionBar=new ys.o(i.entry),i.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),i.toDisposeTemplate.push(i.actionBar),i}renderElement(t,i,o){o.toDisposeElement=(0,ii.B9)(o.toDisposeElement),o.element=t,o.checkbox.checked=t.checked,o.toDisposeElement.push(t.onChecked(Ee=>o.checkbox.checked=Ee));const{labelHighlights:_,descriptionHighlights:A,detailHighlights:K}=t,J=Object.create(null);J.matches=_||[],J.descriptionTitle=t.saneDescription,J.descriptionMatches=A||[],J.extraClasses=t.item.iconClasses,J.italic=t.item.italic,J.strikethrough=t.item.strikethrough,o.label.setLabel(t.saneLabel,t.saneDescription,J),o.keybinding.set(t.item.keybinding),o.detail.set(t.saneDetail,K),t.separator&&t.separator.label?(o.separator.textContent=t.separator.label,o.separator.style.display=""):o.separator.style.display="none",o.entry.classList.toggle("quick-input-list-separator-border",!!t.separator),o.actionBar.clear();const Ce=t.item.buttons;Ce&&Ce.length?(o.actionBar.push(Ce.map((Ee,Fe)=>{let Qe=Ee.iconClass||(Ee.iconPath?dd(Ee.iconPath):void 0);Ee.alwaysVisible&&(Qe=Qe?`${Qe} always-visible`:"always-visible");const Kt=new ks.aU(`id-${Fe}`,"",Qe,!0,()=>fc(this,void 0,void 0,function*(){t.fireButtonTriggered({button:Ee,item:t.item})}));return Kt.tooltip=Ee.tooltip||"",Kt}),{icon:!0,label:!1}),o.entry.classList.add("has-actions")):o.entry.classList.remove("has-actions")}disposeElement(t,i,o){o.toDisposeElement=(0,ii.B9)(o.toDisposeElement)}disposeTemplate(t){t.toDisposeElement=(0,ii.B9)(t.toDisposeElement),t.toDisposeTemplate=(0,ii.B9)(t.toDisposeTemplate)}}Ha.ID="listelement";class mc{getHeight(t){return t.saneDetail?44:22}getTemplateId(t){return Ha.ID}}var Po;(function(u){u[u.First=1]="First",u[u.Second=2]="Second",u[u.Last=3]="Last",u[u.Next=4]="Next",u[u.Previous=5]="Previous",u[u.NextPage=6]="NextPage",u[u.PreviousPage=7]="PreviousPage"})(Po||(Po={}));class cd{constructor(t,i,o){this.parent=t,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new Q.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new Q.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new Q.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new Q.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new Q.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new Q.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new Q.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=i,this.container=Je.R3(this.parent,Kr(".quick-input-list"));const _=new mc,A=new _c;this.list=o.createList("QuickInput",this.container,_,[new Ha],{identityProvider:{getId:K=>K.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:A}),this.list.getHTMLElement().id=i,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(K=>{const J=new Zt.y(K);switch(J.keyCode){case 10:this.toggleCheckbox();break;case 31:(Zi.dz?K.metaKey:K.ctrlKey)&&this.list.setFocus((0,eo.w6)(this.list.length));break;case 16:const Ce=this.list.getFocus();Ce.length===1&&Ce[0]===0&&this._onLeave.fire();break;case 18:const Ee=this.list.getFocus();Ee.length===1&&Ee[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(J)})),this.disposables.push(this.list.onMouseDown(K=>{K.browserEvent.button!==2&&K.browserEvent.preventDefault()})),this.disposables.push(Je.nm(this.container,Je.tw.CLICK,K=>{(K.x||K.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(K=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(K=>{typeof K.index=="number"&&(K.browserEvent.preventDefault(),this.list.setSelection([K.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return Q.ju.map(this.list.onDidChangeFocus,t=>t.elements.map(i=>i.item))}get onDidChangeSelection(){return Q.ju.map(this.list.onDidChangeSelection,t=>({items:t.elements.map(i=>i.item),event:t.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(t){this.list.scrollTop=t}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(t,i=!0){for(let o=0,_=t.length;o<_;o++){const A=t[o];if(!A.hidden)if(A.checked)i=!0;else return!1}return i}getCheckedCount(){let t=0;const i=this.elements;for(let o=0,_=i.length;o<_;o++)i[o].checked&&t++;return t}getVisibleCount(){let t=0;const i=this.elements;for(let o=0,_=i.length;o<_;o++)i[o].hidden||t++;return t}setAllVisibleChecked(t){try{this._fireCheckedEvents=!1,this.elements.forEach(i=>{i.hidden||(i.checked=t)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(t){this.elementDisposables=(0,ii.B9)(this.elementDisposables);const i=o=>this.fireButtonTriggered(o);this.inputElements=t,this.elements=t.reduce((o,_,A)=>{var K,J,Ce;if(_.type!=="separator"){const Ee=A&&t[A-1],Fe=_.label&&_.label.replace(/\r?\n/g," "),Qe=_.meta&&_.meta.replace(/\r?\n/g," "),Kt=_.description&&_.description.replace(/\r?\n/g," "),ki=_.detail&&_.detail.replace(/\r?\n/g," "),Fi=_.ariaLabel||[Fe,Kt,ki].map(rn=>(0,co.JL)(rn)).filter(rn=>!!rn).join(", ");o.push(new gc({index:A,item:_,saneLabel:Fe,saneMeta:Qe,saneAriaLabel:Fi,saneDescription:Kt,saneDetail:ki,labelHighlights:(K=_.highlights)===null||K===void 0?void 0:K.label,descriptionHighlights:(J=_.highlights)===null||J===void 0?void 0:J.description,detailHighlights:(Ce=_.highlights)===null||Ce===void 0?void 0:Ce.detail,checked:!1,separator:Ee&&Ee.type==="separator"?Ee:void 0,fireButtonTriggered:i}))}return o},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(o=>o.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((o,_,A)=>(o.set(_.item,A),o),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(t=>t.item)}setFocusedElements(t){if(this.list.setFocus(t.filter(i=>this.elementsToIndexes.has(i)).map(i=>this.elementsToIndexes.get(i))),t.length>0){const i=this.list.getFocus()[0];typeof i=="number"&&this.list.reveal(i)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(t){this.list.setSelection(t.filter(i=>this.elementsToIndexes.has(i)).map(i=>this.elementsToIndexes.get(i)))}getCheckedElements(){return this.elements.filter(t=>t.checked).map(t=>t.item)}setCheckedElements(t){try{this._fireCheckedEvents=!1;const i=new Set;for(const o of t)i.add(o);for(const o of this.elements)o.checked=i.has(o.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(t){this.list.getHTMLElement().style.pointerEvents=t?"":"none"}focus(t){if(!this.list.length)return;switch(t===Po.Next&&this.list.getFocus()[0]===this.list.length-1&&(t=Po.First),t===Po.Previous&&this.list.getFocus()[0]===0&&(t=Po.Last),t===Po.Second&&this.list.length<2&&(t=Po.First),t){case Po.First:this.list.focusFirst();break;case Po.Second:this.list.focusNth(1);break;case Po.Last:this.list.focusLast();break;case Po.Next:this.list.focusNext();break;case Po.Previous:this.list.focusPrevious();break;case Po.NextPage:this.list.focusNextPage();break;case Po.PreviousPage:this.list.focusPreviousPage();break}const i=this.list.getFocus()[0];typeof i=="number"&&this.list.reveal(i)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(t){this.list.getHTMLElement().style.maxHeight=t?`calc(${Math.floor(t/44)*44}px)`:"",this.list.layout()}filter(t){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(t=t.trim(),!t||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(o=>{o.labelHighlights=void 0,o.descriptionHighlights=void 0,o.detailHighlights=void 0,o.hidden=!1;const _=o.index&&this.inputElements[o.index-1];o.separator=_&&_.type==="separator"?_:void 0});else{let o;this.elements.forEach(_=>{const A=this.matchOnLabel?(0,Mn.f6)((0,Yr.Gt)(t,(0,Yr.Ho)(_.saneLabel))):void 0,K=this.matchOnDescription?(0,Mn.f6)((0,Yr.Gt)(t,(0,Yr.Ho)(_.saneDescription||""))):void 0,J=this.matchOnDetail?(0,Mn.f6)((0,Yr.Gt)(t,(0,Yr.Ho)(_.saneDetail||""))):void 0,Ce=this.matchOnMeta?(0,Mn.f6)((0,Yr.Gt)(t,(0,Yr.Ho)(_.saneMeta||""))):void 0;if(A||K||J||Ce?(_.labelHighlights=A,_.descriptionHighlights=K,_.detailHighlights=J,_.hidden=!1):(_.labelHighlights=void 0,_.descriptionHighlights=void 0,_.detailHighlights=void 0,_.hidden=!_.item.alwaysShow),_.separator=void 0,!this.sortByLabel){const Ee=_.index&&this.inputElements[_.index-1];o=Ee&&Ee.type==="separator"?Ee:o,o&&!_.hidden&&(_.separator=o,o=void 0)}})}const i=this.elements.filter(o=>!o.hidden);if(this.sortByLabel&&t){const o=t.toLowerCase();i.sort((_,A)=>pc(_,A,o))}return this.elementsToIndexes=i.reduce((o,_,A)=>(o.set(_.item,A),o),new Map),this.list.splice(0,this.list.length,i),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(i.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const t=this.list.getFocusedElements(),i=this.allVisibleChecked(t);for(const o of t)o.checked=!i}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(t){this.container.style.display=t?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,ii.B9)(this.elementDisposables),this.disposables=(0,ii.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(t){this._onButtonTriggered.fire(t)}style(t){this.list.style(t)}}nu([iu.H],cd.prototype,"onDidChangeFocus",null),nu([iu.H],cd.prototype,"onDidChangeSelection",null);function pc(u,t,i){const o=u.labelHighlights||[],_=t.labelHighlights||[];return o.length&&!_.length?-1:!o.length&&_.length?1:o.length===0&&_.length===0?0:cc(u.saneLabel,t.saneLabel,i)}class _c{getWidgetAriaLabel(){return(0,We.N)("quickInput","Quick Input")}getAriaLabel(t){return t.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}var su=function(u,t,i,o){function _(A){return A instanceof i?A:new i(function(K){K(A)})}return new(i||(i=Promise))(function(A,K){function J(Fe){try{Ee(o.next(Fe))}catch(Qe){K(Qe)}}function Ce(Fe){try{Ee(o.throw(Fe))}catch(Qe){K(Qe)}}function Ee(Fe){Fe.done?A(Fe.value):_(Fe.value).then(J,Ce)}Ee((o=o.apply(u,t||[])).next())})};const wr=Je.$,hd={iconClass:(0,co.CM)("quick-input-back",co.lA.arrowLeft).classNames,tooltip:(0,We.N)("quickInput.back","Back"),handle:-1};class Sl extends ii.JT{constructor(t){super(),this.ui=t,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=Sl.noPromptMessage,this._severity=Xi.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new Q.Q5),this.onDidHideEmitter=this._register(new Q.Q5),this.onDisposeEmitter=this._register(new Q.Q5),this.visibleDisposables=this._register(new ii.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(t){this._title=t,this.update()}get description(){return this._description}set description(t){this._description=t,this.update()}get step(){return this._steps}set step(t){this._steps=t,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(t){this._totalSteps=t,this.update()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.update()}get contextKey(){return this._contextKey}set contextKey(t){this._contextKey=t,this.update()}get busy(){return this._busy}set busy(t){this._busy=t,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(t){const i=this._ignoreFocusOut!==t&&!Zi.gn;this._ignoreFocusOut=t&&!Zi.gn,i&&this.update()}get buttons(){return this._buttons}set buttons(t){this._buttons=t,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(t){this._validationMessage=t,this.update()}get severity(){return this._severity}set severity(t){this._severity=t,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(t=>{this.buttons.indexOf(t)!==-1&&this.onDidTriggerButtonEmitter.fire(t)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(t=Va.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:t})}update(){if(!this.visible)return;const t=this.getTitle();t&&this.ui.title.textContent!==t?this.ui.title.textContent=t:!t&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const i=this.getDescription();if(this.ui.description1.textContent!==i&&(this.ui.description1.textContent=i),this.ui.description2.textContent!==i&&(this.ui.description2.textContent=i),this.busy&&!this.busyDelay&&(this.busyDelay=new Bn._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const _=this.buttons.filter(K=>K===hd);this.ui.leftActionBar.push(_.map((K,J)=>{const Ce=new ks.aU(`id-${J}`,"",K.iconClass||dd(K.iconPath),!0,()=>su(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(K)}));return Ce.tooltip=K.tooltip||"",Ce}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const A=this.buttons.filter(K=>K!==hd);this.ui.rightActionBar.push(A.map((K,J)=>{const Ce=new ks.aU(`id-${J}`,"",K.iconClass||dd(K.iconPath),!0,()=>su(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(K)}));return Ce.tooltip=K.tooltip||"",Ce}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const o=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==o&&(this._lastValidationMessage=o,Je.mc(this.ui.message,...(0,Yd.T)(o))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,We.N)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(t){if(this.ui.inputBox.showDecoration(t),t!==Xi.Z.Ignore){const i=this.ui.inputBox.stylesForType(t);this.ui.message.style.color=i.foreground?`${i.foreground}`:"",this.ui.message.style.backgroundColor=i.background?`${i.background}`:"",this.ui.message.style.border=i.border?`1px solid ${i.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}Sl.noPromptMessage=(0,We.N)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class za extends Sl{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new Q.Q5),this.onWillAcceptEmitter=this._register(new Q.Q5),this.onDidAcceptEmitter=this._register(new Q.Q5),this.onDidCustomEmitter=this._register(new Q.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?Br.NONE:Br.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new Q.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new Q.Q5),this.onDidTriggerItemButtonEmitter=this._register(new Q.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=t=>t,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(t){this._quickNavigate=t,this.update()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(t){this._ariaLabel=t,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(t){this.ui.list.scrollTop=t}set items(t){this._items=t,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(t){this._canSelectMany=t,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(t){this._canAcceptInBackground=t}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(t){this._matchOnDescription=t,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(t){this._matchOnDetail=t,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(t){this._matchOnLabel=t,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(t){this._sortByLabel=t,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(t){this._autoFocusOnList=t,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(t){this._keepScrollPosition=t}get itemActivation(){return this._itemActivation}set itemActivation(t){this._itemActivation=t}get activeItems(){return this._activeItems}set activeItems(t){this._activeItems=t,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(t){this._selectedItems=t,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?sc:this.ui.keyMods}set valueSelection(t){this._valueSelection=t,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(t){this._customButton=t,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(t){this._customButtonLabel=t,this.update()}get customHover(){return this._customButtonHover}set customHover(t){this._customButtonHover=t,this.update()}get ok(){return this._ok}set ok(t){this._ok=t,this.update()}get hideInput(){return!!this._hideInput}set hideInput(t){this._hideInput=t,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Po.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(t=>{if(t===this.value)return;this._value=t,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(t)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(t=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(t=>{switch(t.keyCode){case 18:this.ui.list.focus(Po.Next),this.canSelectMany&&this.ui.list.domFocus(),Je.zB.stop(t,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Po.Previous):this.ui.list.focus(Po.Last),this.canSelectMany&&this.ui.list.domFocus(),Je.zB.stop(t,!0);break;case 12:this.ui.list.focus(Po.NextPage),this.canSelectMany&&this.ui.list.domFocus(),Je.zB.stop(t,!0);break;case 11:this.ui.list.focus(Po.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),Je.zB.stop(t,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(t.ctrlKey||t.metaKey)&&!t.shiftKey&&!t.altKey&&(this.ui.list.focus(Po.First),Je.zB.stop(t,!0));break;case 13:(t.ctrlKey||t.metaKey)&&!t.shiftKey&&!t.altKey&&(this.ui.list.focus(Po.Last),Je.zB.stop(t,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(t=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,eo.fS)(t,this._activeItems,(i,o)=>i===o)||(this._activeItems=t,this.onDidChangeActiveEmitter.fire(t))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:t,event:i})=>{if(this.canSelectMany){t.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,eo.fS)(t,this._selectedItems,(o,_)=>o===_)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t),t.length&&this.handleAccept(i instanceof MouseEvent&&i.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(t=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,eo.fS)(t,this._selectedItems,(i,o)=>i===o)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(t=>this.onDidTriggerItemButtonEmitter.fire(t))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(t){let i=!1;this.onWillAcceptEmitter.fire({veto:()=>i=!0}),i||this.onDidAcceptEmitter.fire({inBackground:t})}registerQuickNavigation(){return Je.nm(this.ui.container,Je.tw.KEY_UP,t=>{if(this.canSelectMany||!this._quickNavigate)return;const i=new Zt.y(t),o=i.keyCode;this._quickNavigate.keybindings.some(K=>{const[J,Ce]=K.getParts();return Ce?!1:J.shiftKey&&o===4?!(i.ctrlKey||i.altKey||i.metaKey):!!(J.altKey&&o===6||J.ctrlKey&&o===5||J.metaKey&&o===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const t=this.keepScrollPosition?this.scrollTop:0,i=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",i&&!this.description);const o={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!i,progressBar:!i,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(o),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const _=this.ariaLabel||this.placeholder||za.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==_&&(this.ui.inputBox.ariaLabel=_),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Br.NONE:this._itemActivation=Br.FIRST;break;case Br.SECOND:this.ui.list.focus(Po.Second),this._itemActivation=Br.FIRST;break;case Br.LAST:this.ui.list.focus(Po.Last),this._itemActivation=Br.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),o.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Po.First)),this.keepScrollPosition&&(this.scrollTop=t)}}za.DEFAULT_ARIA_LABEL=(0,We.N)("quickInputBox.ariaLabel","Type to narrow down results.");class yl extends ii.JT{constructor(t){super(),this.options=t,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new Q.Q5),this.onDidCustomEmitter=this._register(new Q.Q5),this.onDidTriggerButtonEmitter=this._register(new Q.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new Q.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new Q.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=t.idPrefix,this.parentElement=t.container,this.styles=t.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const t=i=>{this.keyMods.ctrlCmd=i.ctrlKey||i.metaKey,this.keyMods.alt=i.altKey};this._register(Je.nm(window,Je.tw.KEY_DOWN,t,!0)),this._register(Je.nm(window,Je.tw.KEY_UP,t,!0)),this._register(Je.nm(window,Je.tw.MOUSE_DOWN,t,!0))}getUI(){if(this.ui)return this.ui;const t=Je.R3(this.parentElement,wr(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const i=Je.dS(t),o=Je.R3(t,wr(".quick-input-titlebar")),_=this._register(new ys.o(o));_.domNode.classList.add("quick-input-left-action-bar");const A=Je.R3(o,wr(".quick-input-title")),K=this._register(new ys.o(o));K.domNode.classList.add("quick-input-right-action-bar");const J=Je.R3(t,wr(".quick-input-description")),Ce=Je.R3(t,wr(".quick-input-header")),Ee=Je.R3(Ce,wr("input.quick-input-check-all"));Ee.type="checkbox",this._register(Je.mu(Ee,Je.tw.CHANGE,Kn=>{const zs=Ee.checked;Fn.setAllVisibleChecked(zs)})),this._register(Je.nm(Ee,Je.tw.CLICK,Kn=>{(Kn.x||Kn.y)&&ki.setFocus()}));const Fe=Je.R3(Ce,wr(".quick-input-description")),Qe=Je.R3(Ce,wr(".quick-input-and-message")),Kt=Je.R3(Qe,wr(".quick-input-filter")),ki=this._register(new ac(Kt));ki.setAttribute("aria-describedby",`${this.idPrefix}message`);const Fi=Je.R3(Kt,wr(".quick-input-visible-count"));Fi.setAttribute("aria-live","polite"),Fi.setAttribute("aria-atomic","true");const rn=new Xd.Z(Fi,{countFormat:(0,We.N)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),In=Je.R3(Kt,wr(".quick-input-count"));In.setAttribute("aria-live","polite");const $n=new Xd.Z(In,{countFormat:(0,We.N)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),Yn=Je.R3(Ce,wr(".quick-input-action")),xn=new Qd(Yn);xn.label=(0,We.N)("ok","OK"),this._register(xn.onDidClick(Kn=>{this.onDidAcceptEmitter.fire()}));const Rn=Je.R3(Ce,wr(".quick-input-action")),Zs=new Qd(Rn);Zs.label=(0,We.N)("custom","Custom"),this._register(Zs.onDidClick(Kn=>{this.onDidCustomEmitter.fire()}));const Ds=Je.R3(Qe,wr(`#${this.idPrefix}message.quick-input-message`)),Fn=this._register(new cd(t,this.idPrefix+"list",this.options));this._register(Fn.onChangedAllVisibleChecked(Kn=>{Ee.checked=Kn})),this._register(Fn.onChangedVisibleCount(Kn=>{rn.setCount(Kn)})),this._register(Fn.onChangedCheckedCount(Kn=>{$n.setCount(Kn)})),this._register(Fn.onLeave(()=>{setTimeout(()=>{ki.setFocus(),this.controller instanceof za&&this.controller.canSelectMany&&Fn.clearFocus()},0)})),this._register(Fn.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const Nn=new tc(t);Nn.getContainer().classList.add("quick-input-progress");const as=Je.go(t);return this._register(as),this._register(Je.nm(t,Je.tw.FOCUS,Kn=>{this.previousFocusElement=Kn.relatedTarget instanceof HTMLElement?Kn.relatedTarget:void 0},!0)),this._register(as.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Va.Blur),this.previousFocusElement=void 0})),this._register(Je.nm(t,Je.tw.FOCUS,Kn=>{ki.setFocus()})),this._register(Je.nm(t,Je.tw.KEY_DOWN,Kn=>{const zs=new Zt.y(Kn);switch(zs.keyCode){case 3:Je.zB.stop(Kn,!0),this.onDidAcceptEmitter.fire();break;case 9:Je.zB.stop(Kn,!0),this.hide(Va.Gesture);break;case 2:if(!zs.altKey&&!zs.ctrlKey&&!zs.metaKey){const wo=[".action-label.codicon"];t.classList.contains("show-checkboxes")?wo.push("input"):wo.push("input[type=text]"),this.getUI().list.isDisplayed()&&wo.push(".monaco-list");const gs=t.querySelectorAll(wo.join(", "));zs.shiftKey&&zs.target===gs[0]?(Je.zB.stop(Kn,!0),gs[gs.length-1].focus()):!zs.shiftKey&&zs.target===gs[gs.length-1]&&(Je.zB.stop(Kn,!0),gs[0].focus())}break}})),this.ui={container:t,styleSheet:i,leftActionBar:_,titleBar:o,title:A,description1:J,description2:Fe,rightActionBar:K,checkAll:Ee,filterContainer:Kt,inputBox:ki,visibleCountContainer:Fi,visibleCount:rn,countContainer:In,count:$n,okContainer:Yn,ok:xn,message:Ds,customButtonContainer:Rn,customButton:Zs,list:Fn,progressBar:Nn,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:Kn=>this.show(Kn),hide:()=>this.hide(),setVisibilities:Kn=>this.setVisibilities(Kn),setComboboxAccessibility:Kn=>this.setComboboxAccessibility(Kn),setEnabled:Kn=>this.setEnabled(Kn),setContextKey:Kn=>this.options.setContextKey(Kn)},this.updateStyles(),this.ui}pick(t,i={},o=O.T.None){return new Promise((_,A)=>{let K=Fe=>{K=_,i.onKeyMods&&i.onKeyMods(J.keyMods),_(Fe)};if(o.isCancellationRequested){K(void 0);return}const J=this.createQuickPick();let Ce;const Ee=[J,J.onDidAccept(()=>{if(J.canSelectMany)K(J.selectedItems.slice()),J.hide();else{const Fe=J.activeItems[0];Fe&&(K(Fe),J.hide())}}),J.onDidChangeActive(Fe=>{const Qe=Fe[0];Qe&&i.onDidFocus&&i.onDidFocus(Qe)}),J.onDidChangeSelection(Fe=>{if(!J.canSelectMany){const Qe=Fe[0];Qe&&(K(Qe),J.hide())}}),J.onDidTriggerItemButton(Fe=>i.onDidTriggerItemButton&&i.onDidTriggerItemButton(Object.assign(Object.assign({},Fe),{removeItem:()=>{const Qe=J.items.indexOf(Fe.item);if(Qe!==-1){const Kt=J.items.slice(),ki=Kt.splice(Qe,1),Fi=J.activeItems.filter(In=>In!==ki[0]),rn=J.keepScrollPosition;J.keepScrollPosition=!0,J.items=Kt,Fi&&(J.activeItems=Fi),J.keepScrollPosition=rn}}}))),J.onDidChangeValue(Fe=>{Ce&&!Fe&&(J.activeItems.length!==1||J.activeItems[0]!==Ce)&&(J.activeItems=[Ce])}),o.onCancellationRequested(()=>{J.hide()}),J.onDidHide(()=>{(0,ii.B9)(Ee),K(void 0)})];J.title=i.title,J.canSelectMany=!!i.canPickMany,J.placeholder=i.placeHolder,J.ignoreFocusOut=!!i.ignoreFocusLost,J.matchOnDescription=!!i.matchOnDescription,J.matchOnDetail=!!i.matchOnDetail,J.matchOnLabel=i.matchOnLabel===void 0||i.matchOnLabel,J.autoFocusOnList=i.autoFocusOnList===void 0||i.autoFocusOnList,J.quickNavigate=i.quickNavigate,J.contextKey=i.contextKey,J.busy=!0,Promise.all([t,i.activeItem]).then(([Fe,Qe])=>{Ce=Qe,J.busy=!1,J.items=Fe,J.canSelectMany&&(J.selectedItems=Fe.filter(Kt=>Kt.type!=="separator"&&Kt.picked)),Ce&&(J.activeItems=[Ce])}),J.show(),Promise.resolve(t).then(void 0,Fe=>{A(Fe),J.hide()})})}createQuickPick(){const t=this.getUI();return new za(t)}show(t){const i=this.getUI();this.onShowEmitter.fire();const o=this.controller;this.controller=t,o&&o.didHide(),this.setEnabled(!0),i.leftActionBar.clear(),i.title.textContent="",i.description1.textContent="",i.description2.textContent="",i.rightActionBar.clear(),i.checkAll.checked=!1,i.inputBox.placeholder="",i.inputBox.password=!1,i.inputBox.showDecoration(Xi.Z.Ignore),i.visibleCount.setCount(0),i.count.setCount(0),Je.mc(i.message),i.progressBar.stop(),i.list.setElements([]),i.list.matchOnDescription=!1,i.list.matchOnDetail=!1,i.list.matchOnLabel=!0,i.list.sortByLabel=!0,i.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),i.inputBox.ariaLabel="";const _=this.options.backKeybindingLabel();hd.tooltip=_?(0,We.N)("quickInput.backWithKeybinding","Back ({0})",_):(0,We.N)("quickInput.back","Back"),i.container.style.display="",this.updateLayout(),i.inputBox.setFocus()}setVisibilities(t){const i=this.getUI();i.title.style.display=t.title?"":"none",i.description1.style.display=t.description&&(t.inputBox||t.checkAll)?"":"none",i.description2.style.display=t.description&&!(t.inputBox||t.checkAll)?"":"none",i.checkAll.style.display=t.checkAll?"":"none",i.filterContainer.style.display=t.inputBox?"":"none",i.visibleCountContainer.style.display=t.visibleCount?"":"none",i.countContainer.style.display=t.count?"":"none",i.okContainer.style.display=t.ok?"":"none",i.customButtonContainer.style.display=t.customButton?"":"none",i.message.style.display=t.message?"":"none",i.progressBar.getContainer().style.display=t.progressBar?"":"none",i.list.display(!!t.list),i.container.classList[t.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(t){if(t!==this.comboboxAccessibility){const i=this.getUI();this.comboboxAccessibility=t,this.comboboxAccessibility?(i.inputBox.setAttribute("role","combobox"),i.inputBox.setAttribute("aria-haspopup","true"),i.inputBox.setAttribute("aria-autocomplete","list"),i.inputBox.setAttribute("aria-activedescendant",i.list.getActiveDescendant()||"")):(i.inputBox.removeAttribute("role"),i.inputBox.removeAttribute("aria-haspopup"),i.inputBox.removeAttribute("aria-autocomplete"),i.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(t){if(t!==this.enabled){this.enabled=t;for(const i of this.getUI().leftActionBar.viewItems)i.getAction().enabled=t;for(const i of this.getUI().rightActionBar.viewItems)i.getAction().enabled=t;this.getUI().checkAll.disabled=!t,this.getUI().ok.enabled=t,this.getUI().list.enabled=t}}hide(t){var i;const o=this.controller;if(o){const _=!(!((i=this.ui)===null||i===void 0)&&i.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",_||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),o.didHide(t)}}layout(t,i){this.dimension=t,this.titleBarOffset=i,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const t=this.ui.container.style,i=Math.min(this.dimension.width*.62,yl.MAX_WIDTH);t.width=i+"px",t.marginLeft="-"+i/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(t){this.styles=t,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:t,quickInputBackground:i,quickInputForeground:o,contrastBorder:_,widgetShadow:A}=this.styles.widget;this.ui.titleBar.style.backgroundColor=t?t.toString():"",this.ui.container.style.backgroundColor=i?i.toString():"",this.ui.container.style.color=o?o.toString():"",this.ui.container.style.border=_?`1px solid ${_}`:"",this.ui.container.style.boxShadow=A?`0 0 8px 2px ${A}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const K=[];this.styles.list.pickerGroupBorder&&K.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&K.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(K.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&K.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&K.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&K.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&K.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&K.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),K.push("}"));const J=K.join(`
`);J!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=J)}}}yl.MAX_WIDTH=600;var fd=c(88289),gd;(function(u){u[u.PRESERVE=0]="PRESERVE",u[u.LAST=1]="LAST"})(gd||(gd={}));const ou={Quickaccess:"workbench.contributions.quickaccess"};class vc{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(t){return t.prefix.length===0?this.defaultProvider=t:this.providers.push(t),this.providers.sort((i,o)=>o.prefix.length-i.prefix.length),(0,ii.OF)(()=>{this.providers.splice(this.providers.indexOf(t),1),this.defaultProvider===t&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,eo.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(t){return t&&this.providers.find(o=>t.startsWith(o.prefix))||void 0||this.defaultProvider}}sa.B.add(ou.Quickaccess,new vc);const ru=(0,jn.yh)("quickInputService");var Cc=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},au=function(u,t){return function(i,o){t(i,o,u)}};let md=class extends ii.JT{constructor(t,i){super(),this.quickInputService=t,this.instantiationService=i,this.registry=sa.B.as(ou.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(t="",i){this.doShowOrPick(t,!1,i)}doShowOrPick(t,i,o){var _;const[A,K]=this.getOrInstantiateProvider(t),J=this.visibleQuickAccess,Ce=J==null?void 0:J.descriptor;if(J&&K&&Ce===K){t!==K.prefix&&!(o!=null&&o.preserveValue)&&(J.picker.value=t),this.adjustValueSelection(J.picker,K,o);return}if(K&&!(o!=null&&o.preserveValue)){let Fi;if(J&&Ce&&Ce!==K){const rn=J.value.substr(Ce.prefix.length);rn&&(Fi=`${K.prefix}${rn}`)}if(!Fi){const rn=A==null?void 0:A.defaultFilterValue;rn===gd.LAST?Fi=this.lastAcceptedPickerValues.get(K):typeof rn=="string"&&(Fi=`${K.prefix}${rn}`)}typeof Fi=="string"&&(t=Fi)}const Ee=new ii.SL,Fe=Ee.add(this.quickInputService.createQuickPick());Fe.value=t,this.adjustValueSelection(Fe,K,o),Fe.placeholder=K==null?void 0:K.placeholder,Fe.quickNavigate=o==null?void 0:o.quickNavigateConfiguration,Fe.hideInput=!!Fe.quickNavigate&&!J,(typeof(o==null?void 0:o.itemActivation)=="number"||o!=null&&o.quickNavigateConfiguration)&&(Fe.itemActivation=(_=o==null?void 0:o.itemActivation)!==null&&_!==void 0?_:Br.SECOND),Fe.contextKey=K==null?void 0:K.contextKey,Fe.filterValue=Fi=>Fi.substring(K?K.prefix.length:0),K!=null&&K.placeholder&&(Fe.ariaLabel=K==null?void 0:K.placeholder);let Qe,Kt;i&&(Qe=new Promise(Fi=>Kt=Fi),Ee.add((0,fd.I)(Fe.onWillAccept)(Fi=>{Fi.veto(),Fe.hide()}))),Ee.add(this.registerPickerListeners(Fe,A,K,t));const ki=Ee.add(new O.A);if(A&&Ee.add(A.provide(Fe,ki.token)),(0,fd.I)(Fe.onDidHide)(()=>{Fe.selectedItems.length===0&&ki.cancel(),Ee.dispose(),Kt==null||Kt(Fe.selectedItems)}),Fe.show(),i)return Qe}adjustValueSelection(t,i,o){var _;let A;o!=null&&o.preserveValue?A=[t.value.length,t.value.length]:A=[(_=i==null?void 0:i.prefix.length)!==null&&_!==void 0?_:0,t.value.length],t.valueSelection=A}registerPickerListeners(t,i,o,_){const A=new ii.SL,K=this.visibleQuickAccess={picker:t,descriptor:o,value:_};return A.add((0,ii.OF)(()=>{K===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),A.add(t.onDidChangeValue(J=>{const[Ce]=this.getOrInstantiateProvider(J);Ce!==i?this.show(J,{preserveValue:!0}):K.value=J})),o&&A.add(t.onDidAccept(()=>{this.lastAcceptedPickerValues.set(o,t.value)})),A}getOrInstantiateProvider(t){const i=this.registry.getQuickAccessProvider(t);if(!i)return[void 0,void 0];let o=this.mapProviderToDescriptor.get(i);return o||(o=this.instantiationService.createInstance(i.ctor),this.mapProviderToDescriptor.set(i,o)),[o,i]}};md=Cc([au(0,ru),au(1,jn.TG)],md);var bc=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},Ua=function(u,t){return function(i,o){t(i,o,u)}};let pd=class extends fs.bB{constructor(t,i,o,_,A){super(o),this.instantiationService=t,this.contextKeyService=i,this.accessibilityService=_,this.layoutService=A,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(md))),this._quickAccess}createController(t=this.layoutService,i){var o,_;const A={idPrefix:"quickInput_",container:t.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:J=>this.setContextKey(J),returnFocus:()=>t.focus(),createList:(J,Ce,Ee,Fe,Qe)=>this.instantiationService.createInstance(td.ev,J,Ce,Ee,Fe,Qe),styles:this.computeStyles()},K=this._register(new yl(Object.assign(Object.assign({},A),i)));return K.layout(t.dimension,(_=(o=t.offset)===null||o===void 0?void 0:o.top)!==null&&_!==void 0?_:0),this._register(t.onDidLayout(J=>{var Ce,Ee;return K.layout(J,(Ee=(Ce=t.offset)===null||Ce===void 0?void 0:Ce.top)!==null&&Ee!==void 0?Ee:0)})),this._register(K.onShow(()=>this.resetContextKeys())),this._register(K.onHide(()=>this.resetContextKeys())),K}setContextKey(t){let i;t&&(i=this.contexts.get(t),i||(i=new Rt.uy(t,!1).bindTo(this.contextKeyService),this.contexts.set(t,i))),!(i&&i.get())&&(this.resetContextKeys(),i&&i.set(!0))}resetContextKeys(){this.contexts.forEach(t=>{t.get()&&t.reset()})}pick(t,i={},o=O.T.None){return this.controller.pick(t,i,o)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,na.o)(this.theme,{quickInputBackground:un.zK,quickInputForeground:un.tZ,quickInputTitleBackground:un.lo,contrastBorder:un.lR,widgetShadow:un.rh})),inputBox:(0,na.o)(this.theme,{inputForeground:un.zJ,inputBackground:un.sE,inputBorder:un.dt,inputValidationInfoBackground:un._l,inputValidationInfoForeground:un.YI,inputValidationInfoBorder:un.EP,inputValidationWarningBackground:un.RV,inputValidationWarningForeground:un.SU,inputValidationWarningBorder:un.C3,inputValidationErrorBackground:un.p,inputValidationErrorForeground:un._t,inputValidationErrorBorder:un.OZ}),countBadge:(0,na.o)(this.theme,{badgeBackground:un.g8,badgeForeground:un.qe,badgeBorder:un.lR}),button:(0,na.o)(this.theme,{buttonForeground:un.j5,buttonBackground:un.b7,buttonHoverBackground:un.GO,buttonBorder:un.lR}),progressBar:(0,na.o)(this.theme,{progressBarBackground:un.zR}),keybindingLabel:(0,na.o)(this.theme,{keybindingLabelBackground:un.oQ,keybindingLabelForeground:un.lW,keybindingLabelBorder:un.AW,keybindingLabelBottomBorder:un.K1,keybindingLabelShadow:un.rh}),list:(0,na.o)(this.theme,{listBackground:un.zK,listInactiveFocusForeground:un.NP,listInactiveSelectionIconForeground:un.cb,listInactiveFocusBackground:un.Vq,listFocusOutline:un.xL,listInactiveFocusOutline:un.xL,pickerGroupBorder:un.op,pickerGroupForeground:un.kJ})}}};pd=bc([Ua(0,jn.TG),Ua(1,Rt.i6),Ua(2,fs.XE),Ua(3,De.F),Ua(4,hl)],pd);var lu=function(u,t,i,o){var _=arguments.length,A=_<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,i):o,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(u,t,i,o);else for(var J=u.length-1;J>=0;J--)(K=u[J])&&(A=(_<3?K(A):_>3?K(t,i,A):K(t,i))||A);return _>3&&A&&Object.defineProperty(t,i,A),A},ma=function(u,t){return function(i,o){t(i,o,u)}};let _d=class extends pd{constructor(t,i,o,_,A,K){super(i,o,_,A,K),this.host=void 0;const J=Na.get(t);this.host={_serviceBrand:void 0,get container(){return J.widget.getDomNode()},get dimension(){return t.getLayoutInfo()},get onDidLayout(){return t.onDidLayoutChange},focus:()=>t.focus()}}createController(){return super.createController(this.host)}};_d=lu([ma(1,jn.TG),ma(2,Rt.i6),ma(3,fs.XE),ma(4,De.F),ma(5,hl)],_d);let vd=class{constructor(t,i){this.instantiationService=t,this.codeEditorService=i,this.mapEditorToService=new Map}get activeService(){const t=this.codeEditorService.getFocusedCodeEditor();if(!t)throw new Error("Quick input service needs a focused editor to work.");let i=this.mapEditorToService.get(t);if(!i){const o=i=this.instantiationService.createInstance(_d,t);this.mapEditorToService.set(t,i),(0,fd.I)(t.onDidDispose)(()=>{o.dispose(),this.mapEditorToService.delete(t)})}return i}get quickAccess(){return this.activeService.quickAccess}pick(t,i={},o=O.T.None){return this.activeService.pick(t,i,o)}createQuickPick(){return this.activeService.createQuickPick()}};vd=lu([ma(0,jn.TG),ma(1,Mt.$)],vd);class Na{constructor(t){this.editor=t,this.widget=new Ll(this.editor)}static get(t){return t.getContribution(Na.ID)}dispose(){this.widget.dispose()}}Na.ID="editor.controller.quickInput";class Ll{constructor(t){this.codeEditor=t,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return Ll.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}Ll.ID="editor.contrib.quickInputWidget",(0,As._K)(Na.ID,Na);var so;(function(u){const t=new hr.y;class i{constructor(Ce,Ee){this._serviceId=Ce,this._factory=Ee,this._value=null}get id(){return this._serviceId}get(Ce){if(!this._value){if(Ce&&(this._value=Ce[this._serviceId.toString()]),this._value||(this._value=this._factory(Ce)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");t.set(this._serviceId,this._value)}return this._value}}u.LazyStaticService=i;let o=[];function _(J,Ce){let Ee=new i(J,Ce);return o.push(Ee),Ee}function A(J){let Ce=new hr.y;for(const[Fe,Qe]of(0,Hd.d)())Ce.set(Fe,Qe);for(let Fe in J)J.hasOwnProperty(Fe)&&Ce.set((0,jn.yh)(Fe),J[Fe]);o.forEach(Fe=>Ce.set(Fe.id,Fe.get(J)));let Ee=new fl(Ce,!0);return Ce.set(jn.TG,Ee),[Ce,Ee]}u.init=A,u.instantiationService=_(jn.TG,()=>new fl(t,!0));const K=new Gs;u.configurationService=_(d.Ui,()=>K),u.resourceConfigurationService=_(ao,()=>new Js(K)),u.resourcePropertiesService=_(es,()=>new ms(K)),u.contextService=_(Ri.ec,()=>new Ss),u.labelService=_(Uu.e,()=>new So),u.telemetryService=_(yo.b,()=>new ps),u.dialogService=_(Od,()=>new ss),u.notificationService=_(zt.lT,()=>new Ms),u.markerService=_($r.lT,()=>new ga),u.modeService=_(Ki.h,J=>new zr),u.standaloneThemeService=_(Z,()=>new be),u.logService=_(xs.VZ,()=>new xs.$V(new xs.kw)),u.undoRedoService=_(Lr.tJ,J=>new Cl(u.dialogService.get(J),u.notificationService.get(J))),u.languageConfigurationService=_(ut.c_,J=>new ut.UU(u.configurationService.get(J),u.modeService.get(J))),u.modelService=_(os.q,J=>new ba(u.configurationService.get(J),u.resourcePropertiesService.get(J),u.standaloneThemeService.get(J),u.logService.get(J),u.undoRedoService.get(J),u.modeService.get(J),u.languageConfigurationService.get(J))),u.markerDecorationsService=_(ju.i,J=>new sd(u.modelService.get(J),u.markerService.get(J))),u.contextKeyService=_(Rt.i6,J=>new Cn(u.configurationService.get(J))),u.codeEditorService=_(Mt.$,J=>new vn(null,u.contextKeyService.get(J),u.standaloneThemeService.get(J))),u.editorProgressService=_(fr.e,()=>new vs),u.storageService=_(Bd.Uy,()=>new Bd.vm),u.editorWorkerService=_(kn.p,J=>new ti(u.modelService.get(J),u.resourceConfigurationService.get(J),u.logService.get(J)))})(so||(so={}));class wc extends ii.JT{constructor(t,i){super();const[o,_]=so.init(i);this._serviceCollection=o,this._instantiationService=_;const A=this.get(d.Ui),K=this.get(zt.lT),J=this.get(yo.b),Ce=this.get(fs.XE),Ee=this.get(xs.VZ),Fe=this.get(Rt.i6);let Qe=(In,$n)=>{let Yn=null;return i&&(Yn=i[In.toString()]),Yn||(Yn=$n()),this._serviceCollection.set(In,Yn),Yn};Qe(De.F,()=>new od(Fe,A)),Qe(td.Lw,()=>new td.XN(Ce));let Kt=Qe(at.H,()=>new uo(this._instantiationService)),ki=Qe(ce.d,()=>this._register(new An(Fe,Kt,J,K,Ee,t))),Fi=Qe(hl,()=>new bo(so.codeEditorService.get(Mt.$),t));Qe(ru,()=>new vd(_,so.codeEditorService.get(Mt.$)));let rn=Qe(Io.u,()=>this._register(new ed(Fi)));Qe(dr.p,()=>new Qu),Qe(Io.i,()=>{const In=new ql(J,K,rn,ki,Ce);return In.configure({blockMouse:!1}),this._register(In)}),Qe(ie.co,()=>new id(Kt)),Qe(us.vu,()=>new Lo(so.modelService.get(os.q)))}get(t){let i=this._serviceCollection.get(t);if(!i)throw new Error("Missing service "+t);return i}set(t,i){this._serviceCollection.set(t,i)}has(t){return this._serviceCollection.has(t)}}function du(u,t,i){let o=new wc(u,t),_=null;o.has(ls.S)||(_=new Ws(so.modelService.get()),o.set(ls.S,_)),o.has(Ne.v4)||o.set(Ne.v4,new ei(o.get(Mt.$),o.get(at.H)));let A=i(o);return _&&_.setEditor(A),A}function Sc(u,t,i){return du(u,i||{},o=>new Ps(u,t,o,o.get(jn.TG),o.get(Mt.$),o.get(at.H),o.get(Rt.i6),o.get(ce.d),o.get(Io.u),o.get(Z),o.get(zt.lT),o.get(d.Ui),o.get(De.F),o.get(os.q),o.get(Ki.h)))}function yc(u){return so.codeEditorService.get().onCodeEditorAdd(t=>{u(t)})}function Lc(u,t,i){return du(u,i||{},o=>new Oo(u,t,o,o.get(jn.TG),o.get(Rt.i6),o.get(ce.d),o.get(Io.u),o.get(kn.p),o.get(Mt.$),o.get(Z),o.get(zt.lT),o.get(d.Ui),o.get(Io.i),o.get(fr.e),o.get(dr.p)))}function Dc(u,t){return new ui(u,t)}function Ec(u,t,i){return No(so.modelService.get(),so.modeService.get(),u,t,i)}function xc(u,t){so.modelService.get().setMode(u,so.modeService.get().create(t))}function Ic(u,t,i){u&&so.markerService.get().changeOne(t,u.uri,i)}function Nc(u){return so.markerService.get().read(u)}function Tc(u){return so.markerService.get().onMarkerChanged(u)}function Mc(u){return so.modelService.get().getModel(u)}function Rc(){return so.modelService.get().getModels()}function kc(u){return so.modelService.get().onModelAdded(u)}function Ac(u){return so.modelService.get().onModelRemoved(u)}function Oc(u){return so.modelService.get().onModelModeChanged(t=>{u({model:t.model,oldLanguage:t.oldModeId})})}function Pc(u){return Nt(so.modelService.get(),u)}function Fc(u,t){const i=so.standaloneThemeService.get();return i.registerEditorContainer(u),Bi.colorizeElement(i,so.modeService.get(),u,t)}function Bc(u,t,i){return so.standaloneThemeService.get().registerEditorContainer(document.body),Bi.colorize(so.modeService.get(),u,t,i)}function Wc(u,t,i=4){return so.standaloneThemeService.get().registerEditorContainer(document.body),Bi.colorizeModelLine(u,t,i)}function Vc(u){let t=ci.RW.get(u);return t||{getInitialState:()=>zi.nO,tokenize:(i,o,_,A)=>(0,zi.Ri)(u,i,_,A)}}function Hc(u,t){so.modeService.get().triggerMode(t);let o=Vc(t),_=(0,an.uq)(u),A=[],K=o.getInitialState();for(let J=0,Ce=_.length;J<Ce;J++){let Ee=_[J],Fe=o.tokenize(Ee,!0,K,0);A[J]=Fe.tokens,K=Fe.endState}return A}function zc(u,t){so.standaloneThemeService.get().defineTheme(u,t)}function Uc(u){so.standaloneThemeService.get().setTheme(u)}function $c(){(0,Cs.P)()}function Kc(u,t){return at.P.registerCommand({id:u,handler:t})}function jc(){return{create:Sc,onDidCreateEditor:yc,createDiffEditor:Lc,createDiffNavigator:Dc,createModel:Ec,setModelLanguage:xc,setModelMarkers:Ic,getModelMarkers:Nc,onDidChangeMarkers:Tc,getModels:Rc,getModel:Mc,onDidCreateModel:kc,onWillDisposeModel:Ac,onDidChangeModelLanguage:Oc,createWebWorker:Pc,colorizeElement:Fc,colorize:Bc,colorizeModelLine:Wc,tokenize:Hc,defineTheme:zc,setTheme:Uc,remeasureFonts:$c,registerCommand:Kc,AccessibilitySupport:N,ContentWidgetPositionPreference:T,CursorChangeReason:w,DefaultEndOfLine:x,EditorAutoIndentStrategy:p,EditorOption:S,EndOfLinePreference:h,EndOfLineSequence:L,MinimapPosition:ve,MouseTargetType:xe,OverlayWidgetPositionPreference:le,OverviewRulerLane:Y,RenderLineNumbersType:j,RenderMinimap:G,ScrollbarVisibility:m,ScrollType:q,TextEditorCursorBlinkingStyle:ue,TextEditorCursorStyle:Oe,TrackedRangeStickiness:Re,WrappingIndent:et,ConfigurationChangedEvent:E.Bb,BareFontInfo:Ke.E4,FontInfo:Ke.pR,TextModelResolvedOptions:Mi.dJ,FindMatch:Mi.tk,EditorType:st.g,EditorOptions:E.BH}}function Gc(u,t){if(!t||!Array.isArray(t))return!1;for(const i of t)if(!u(i))return!1;return!0}function Dl(u,t){return typeof u=="boolean"?u:t}function uu(u,t){return typeof u=="string"?u:t}function Zc(u){const t={};for(const i of u)t[i]=!0;return t}function cu(u,t=!1){t&&(u=u.map(function(o){return o.toLowerCase()}));const i=Zc(u);return t?function(o){return i[o.toLowerCase()]!==void 0&&i.hasOwnProperty(o.toLowerCase())}:function(o){return i[o]!==void 0&&i.hasOwnProperty(o)}}function Cd(u,t){t=t.replace(/@@/g,"");let i=0,o;do o=!1,t=t.replace(/@(\w+)/g,function(A,K){o=!0;let J="";if(typeof u[K]=="string")J=u[K];else if(u[K]&&u[K]instanceof RegExp)J=u[K].source;else throw u[K]===void 0?Ii(u,"language definition does not contain attribute '"+K+"', used at: "+t):Ii(u,"attribute reference '"+K+"' must be a string, used at: "+t);return Oi(J)?"":"(?:"+J+")"}),i++;while(o&&i<5);t=t.replace(/\x01/g,"@");let _=(u.ignoreCase?"i":"")+(u.unicode?"u":"");return new RegExp(t,_)}function Yc(u,t,i,o){if(o<0)return u;if(o<t.length)return t[o];if(o>=100){o=o-100;let _=i.split(".");if(_.unshift(i),o<_.length)return _[o]}return null}function Qc(u,t,i,o){let _=-1,A=i,K=i.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);K&&(K[3]&&(_=parseInt(K[3]),K[2]&&(_=_+100)),A=K[4]);let J="~",Ce=A;!A||A.length===0?(J="!=",Ce=""):/^\w*$/.test(Ce)?J="==":(K=A.match(/^(@|!@|~|!~|==|!=)(.*)$/),K&&(J=K[1],Ce=K[2]));let Ee;if((J==="~"||J==="!~")&&/^(\w|\|)*$/.test(Ce)){let Fe=cu(Ce.split("|"),u.ignoreCase);Ee=function(Qe){return J==="~"?Fe(Qe):!Fe(Qe)}}else if(J==="@"||J==="!@"){let Fe=u[Ce];if(!Fe)throw Ii(u,"the @ match target '"+Ce+"' is not defined, in rule: "+t);if(!Gc(function(Kt){return typeof Kt=="string"},Fe))throw Ii(u,"the @ match target '"+Ce+"' must be an array of strings, in rule: "+t);let Qe=cu(Fe,u.ignoreCase);Ee=function(Kt){return J==="@"?Qe(Kt):!Qe(Kt)}}else if(J==="~"||J==="!~")if(Ce.indexOf("$")<0){let Fe=Cd(u,"^"+Ce+"$");Ee=function(Qe){return J==="~"?Fe.test(Qe):!Fe.test(Qe)}}else Ee=function(Fe,Qe,Kt,ki){return Cd(u,"^"+ln(u,Ce,Qe,Kt,ki)+"$").test(Fe)};else if(Ce.indexOf("$")<0){let Fe=xi(u,Ce);Ee=function(Qe){return J==="=="?Qe===Fe:Qe!==Fe}}else{let Fe=xi(u,Ce);Ee=function(Qe,Kt,ki,Fi,rn){let In=ln(u,Fe,Kt,ki,Fi);return J==="=="?Qe===In:Qe!==In}}return _===-1?{name:i,value:o,test:function(Fe,Qe,Kt,ki){return Ee(Fe,Fe,Qe,Kt,ki)}}:{name:i,value:o,test:function(Fe,Qe,Kt,ki){let Fi=Yc(Fe,Qe,Kt,_);return Ee(Fi||"",Fe,Qe,Kt,ki)}}}function bd(u,t,i){if(i){if(typeof i=="string")return i;if(i.token||i.token===""){if(typeof i.token!="string")throw Ii(u,"a 'token' attribute must be of type string, in rule: "+t);{let o={token:i.token};if(i.token.indexOf("$")>=0&&(o.tokenSubst=!0),typeof i.bracket=="string")if(i.bracket==="@open")o.bracket=1;else if(i.bracket==="@close")o.bracket=-1;else throw Ii(u,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);if(i.next){if(typeof i.next!="string")throw Ii(u,"the next state must be a string value in rule: "+t);{let _=i.next;if(!/^(@pop|@push|@popall)$/.test(_)&&(_[0]==="@"&&(_=_.substr(1)),_.indexOf("$")<0&&!wn(u,ln(u,_,"",[],""))))throw Ii(u,"the next state '"+i.next+"' is not defined in rule: "+t);o.next=_}}return typeof i.goBack=="number"&&(o.goBack=i.goBack),typeof i.switchTo=="string"&&(o.switchTo=i.switchTo),typeof i.log=="string"&&(o.log=i.log),typeof i.nextEmbedded=="string"&&(o.nextEmbedded=i.nextEmbedded,u.usesEmbedded=!0),o}}else if(Array.isArray(i)){let o=[];for(let _=0,A=i.length;_<A;_++)o[_]=bd(u,t,i[_]);return{group:o}}else if(i.cases){let o=[];for(let A in i.cases)if(i.cases.hasOwnProperty(A)){const K=bd(u,t,i.cases[A]);A==="@default"||A==="@"||A===""?o.push({test:void 0,value:K,name:A}):A==="@eos"?o.push({test:function(J,Ce,Ee,Fe){return Fe},value:K,name:A}):o.push(Qc(u,t,A,K))}const _=u.defaultToken;return{test:function(A,K,J,Ce){for(const Ee of o)if(!Ee.test||Ee.test(A,K,J,Ce))return Ee.value;return _}}}else throw Ii(u,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}else return{token:""}}class Xc{constructor(t){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=t}setRegex(t,i){let o;if(typeof i=="string")o=i;else if(i instanceof RegExp)o=i.source;else throw Ii(t,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=o.length>0&&o[0]==="^",this.name=this.name+": "+o,this.regex=Cd(t,"^(?:"+(this.matchOnlyAtLineStart?o.substr(1):o)+")")}setAction(t,i){this.action=bd(t,this.name,i)}}function Jc(u,t){if(!t||typeof t!="object")throw new Error("Monarch: expecting a language definition object");let i={};i.languageId=u,i.includeLF=Dl(t.includeLF,!1),i.noThrow=!1,i.maxStack=100,i.start=typeof t.start=="string"?t.start:null,i.ignoreCase=Dl(t.ignoreCase,!1),i.unicode=Dl(t.unicode,!1),i.tokenPostfix=uu(t.tokenPostfix,"."+i.languageId),i.defaultToken=uu(t.defaultToken,"source"),i.usesEmbedded=!1;let o=t;o.languageId=u,o.includeLF=i.includeLF,o.ignoreCase=i.ignoreCase,o.unicode=i.unicode,o.noThrow=i.noThrow,o.usesEmbedded=i.usesEmbedded,o.stateNames=t.tokenizer,o.defaultToken=i.defaultToken;function _(K,J,Ce){for(const Ee of Ce){let Fe=Ee.include;if(Fe){if(typeof Fe!="string")throw Ii(i,"an 'include' attribute must be a string at: "+K);if(Fe[0]==="@"&&(Fe=Fe.substr(1)),!t.tokenizer[Fe])throw Ii(i,"include target '"+Fe+"' is not defined at: "+K);_(K+"."+Fe,J,t.tokenizer[Fe])}else{const Qe=new Xc(K);if(Array.isArray(Ee)&&Ee.length>=1&&Ee.length<=3)if(Qe.setRegex(o,Ee[0]),Ee.length>=3)if(typeof Ee[1]=="string")Qe.setAction(o,{token:Ee[1],next:Ee[2]});else if(typeof Ee[1]=="object"){const Kt=Ee[1];Kt.next=Ee[2],Qe.setAction(o,Kt)}else throw Ii(i,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+K);else Qe.setAction(o,Ee[1]);else{if(!Ee.regex)throw Ii(i,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+K);Ee.name&&typeof Ee.name=="string"&&(Qe.name=Ee.name),Ee.matchOnlyAtStart&&(Qe.matchOnlyAtLineStart=Dl(Ee.matchOnlyAtLineStart,!1)),Qe.setRegex(o,Ee.regex),Qe.setAction(o,Ee.action)}J.push(Qe)}}}if(!t.tokenizer||typeof t.tokenizer!="object")throw Ii(i,"a language definition must define the 'tokenizer' attribute as an object");i.tokenizer=[];for(let K in t.tokenizer)if(t.tokenizer.hasOwnProperty(K)){i.start||(i.start=K);const J=t.tokenizer[K];i.tokenizer[K]=new Array,_("tokenizer."+K,i.tokenizer[K],J)}if(i.usesEmbedded=o.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw Ii(i,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let A=[];for(let K of t.brackets){let J=K;if(J&&Array.isArray(J)&&J.length===3&&(J={token:J[2],open:J[0],close:J[1]}),J.open===J.close)throw Ii(i,"open and close brackets in a 'brackets' attribute must be different: "+J.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof J.open=="string"&&typeof J.token=="string"&&typeof J.close=="string")A.push({token:J.token+i.tokenPostfix,open:xi(i,J.open),close:xi(i,J.close)});else throw Ii(i,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return i.brackets=A,i.noThrow=!0,i}function qc(u){Zo.dQ.registerLanguage(u)}function eh(){let u=[];return u=u.concat(Zo.dQ.getLanguages()),u}function th(u){return so.modeService.get().languageIdCodec.encodeLanguageId(u)}function ih(u,t){let i=so.modeService.get().onDidEncounterLanguage(o=>{o===u&&(i.dispose(),t())});return i}function nh(u,t){const i=so.modeService.get().validateLanguageId(u);if(!i)throw new Error(`Cannot set configuration for unknown language ${u}`);return ut.zu.register(i,t,100)}class sh{constructor(t,i){this._languageId=t,this._actual=i}getInitialState(){return this._actual.getInitialState()}tokenize(t,i,o,_){if(typeof this._actual.tokenize=="function")return $a.adaptTokenize(this._languageId,this._actual,t,o,_);throw new Error("Not supported!")}tokenize2(t,i,o){let _=this._actual.tokenizeEncoded(t,o);return new s.Hi(_.tokens,_.endState)}}class $a{constructor(t,i,o,_){this._languageId=t,this._actual=i,this._modeService=o,this._standaloneThemeService=_}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(t,i,o){let _=[],A=0;for(let K=0,J=t.length;K<J;K++){const Ce=t[K];let Ee=Ce.startIndex;K===0?Ee=0:Ee<A&&(Ee=A),_[K]=new s.WU(Ee+o,Ce.scopes,i),A=Ee}return _}static adaptTokenize(t,i,o,_,A){let K=i.tokenize(o,_),J=$a._toClassicTokens(K.tokens,t,A),Ce;return K.endState.equals(_)?Ce=_:Ce=K.endState,new s.hG(J,Ce)}tokenize(t,i,o,_){return $a.adaptTokenize(this._languageId,this._actual,t,o,_)}_toBinaryTokens(t,i,o){const _=t.encodeLanguageId(this._languageId),A=this._standaloneThemeService.getColorTheme().tokenTheme;let K=[],J=0,Ce=0;for(let Fe=0,Qe=i.length;Fe<Qe;Fe++){const Kt=i[Fe],ki=A.match(_,Kt.scopes);if(J>0&&K[J-1]===ki)continue;let Fi=Kt.startIndex;Fe===0?Fi=0:Fi<Ce&&(Fi=Ce),K[J++]=Fi+o,K[J++]=ki,Ce=Fi}let Ee=new Uint32Array(J);for(let Fe=0;Fe<J;Fe++)Ee[Fe]=K[Fe];return Ee}tokenize2(t,i,o,_){let A=this._actual.tokenize(t,o),K=this._toBinaryTokens(this._modeService.languageIdCodec,A.tokens,_),J;return A.endState.equals(o)?J=o:J=A.endState,new s.Hi(K,J)}}function oh(u){return"tokenizeEncoded"in u}function hu(u){return u&&typeof u.then=="function"}function rh(u){if(u){const t=[null];for(let i=1,o=u.length;i<o;i++)t[i]=Rr.Il.fromHex(u[i]);so.standaloneThemeService.get().setColorMapOverride(t)}else so.standaloneThemeService.get().setColorMapOverride(null)}function ah(u,t){const i=so.modeService.get().validateLanguageId(u);if(!i)throw new Error(`Cannot set tokens provider for unknown language ${u}`);const o=_=>oh(_)?new sh(i,_):new $a(i,_,so.modeService.get(),so.standaloneThemeService.get());return hu(t)?ci.RW.registerPromise(u,t.then(_=>o(_))):ci.RW.register(u,o(t))}function lh(u,t){const i=o=>qt(so.modeService.get(),so.standaloneThemeService.get(),u,Jc(u,o));return hu(t)?ci.RW.registerPromise(u,t.then(o=>i(o))):ci.RW.register(u,i(t))}function dh(u,t){return ci.FL.register(u,t)}function uh(u,t){return ci.G0.register(u,t)}function ch(u,t){return ci.nD.register(u,t)}function hh(u,t){return ci.xp.register(u,{provideHover:(i,o,_)=>{let A=i.getWordAtPosition(o);return Promise.resolve(t.provideHover(i,o,_)).then(K=>{if(K)return!K.range&&A&&(K.range=new R.e(o.lineNumber,A.startColumn,o.lineNumber,A.endColumn)),K.range||(K.range=new R.e(o.lineNumber,o.column,o.lineNumber,o.column)),K})}})}function fh(u,t){return ci.vJ.register(u,t)}function gh(u,t){return ci.vH.register(u,t)}function mh(u,t){return ci.id.register(u,t)}function ph(u,t){return ci.Ct.register(u,t)}function _h(u,t){return ci.vI.register(u,t)}function vh(u,t){return ci.tA.register(u,t)}function Ch(u,t){return ci.He.register(u,t)}function bh(u,t,i){return ci.H9.register(u,{providedCodeActionKinds:i==null?void 0:i.providedCodeActionKinds,provideCodeActions:(o,_,A,K)=>{let J=so.markerService.get().read({resource:o.uri}).filter(Ce=>R.e.areIntersectingOrTouching(Ce,_));return t.provideCodeActions(o,_,{markers:J,only:A.only},K)},resolveCodeAction:t.resolveCodeAction})}function wh(u,t){return ci.Az.register(u,t)}function Sh(u,t){return ci.vN.register(u,t)}function yh(u,t){return ci.ln.register(u,t)}function Lh(u,t){return ci.pM.register(u,t)}function Dh(u,t){return ci.KZ.register(u,t)}function Eh(u,t){return ci.OH.register(u,t)}function xh(u,t){return ci.aC.register(u,t)}function Ih(u,t){return ci.RN.register(u,t)}function Nh(u,t){return ci.AC.register(u,t)}function Th(u,t){return ci.wT.register(u,t)}function Mh(u,t){return ci.K7.register(u,t)}function Rh(u,t){return ci.zu.register(u,t)}function kh(u,t){return ci.mX.register(u,t)}function Ah(){return{register:qc,getLanguages:eh,onLanguage:ih,getEncodedLanguageId:th,setLanguageConfiguration:nh,setColorMap:rh,setTokensProvider:ah,setMonarchTokensProvider:lh,registerReferenceProvider:dh,registerRenameProvider:uh,registerCompletionItemProvider:Dh,registerSignatureHelpProvider:ch,registerHoverProvider:hh,registerDocumentSymbolProvider:fh,registerDocumentHighlightProvider:gh,registerLinkedEditingRangeProvider:mh,registerDefinitionProvider:ph,registerImplementationProvider:_h,registerTypeDefinitionProvider:vh,registerCodeLensProvider:Ch,registerCodeActionProvider:bh,registerDocumentFormattingEditProvider:wh,registerDocumentRangeFormattingEditProvider:Sh,registerOnTypeFormattingEditProvider:yh,registerLinkProvider:Lh,registerColorProvider:Eh,registerFoldingRangeProvider:xh,registerDeclarationProvider:Ih,registerSelectionRangeProvider:Nh,registerDocumentSemanticTokensProvider:Th,registerDocumentRangeSemanticTokensProvider:Mh,registerInlineCompletionsProvider:Rh,registerInlayHintsProvider:kh,DocumentHighlightKind:f,CompletionItemKind:D,CompletionItemTag:H,CompletionItemInsertTextRule:g,SymbolKind:te,SymbolTag:me,IndentAction:v,CompletionTriggerKind:r,SignatureHelpTriggerKind:F,InlayHintKind:V,InlineCompletionTriggerKind:$,FoldingRangeKind:ci.AD}}var Oh=c(93761),wd;E.BH.wrappingIndent.defaultValue=0,E.BH.glyphMargin.defaultValue=!1,E.BH.autoIndent.defaultValue=3,E.BH.overviewRulerLanes.defaultValue=2,Oh.xC.setFormatterSelector((u,t,i)=>Promise.resolve(u[0]));const cr=ht();cr.editor=jc(),cr.languages=Ah();const Ph=cr.CancellationTokenSource,Fh=cr.Emitter,Bh=cr.KeyCode,Wh=cr.KeyMod,Vh=cr.Position,Hh=cr.Range,zh=cr.Selection,Uh=cr.SelectionDirection,$h=cr.MarkerSeverity,Kh=cr.MarkerTag,jh=cr.Uri,Gh=cr.Token,Zh=cr.editor,Yh=cr.languages;(!((wd=Zi.li.MonacoEnvironment)===null||wd===void 0)&&wd.globalAPI||typeof define=="function"&&c.amdO)&&(self.monaco=cr),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},61460:function(Qt,He,c){"use strict";c.d(He,{Mj:function(){return E.languages},Q5:function(){return E.Emitter},Sf:function(){return E.Uri},ZL:function(){return E.MarkerSeverity},e6:function(){return E.Range},j6:function(){return E.editor}});var E=c(50048)},40605:function(Qt,He,c){"use strict";c.r(He),c.d(He,{cssDefaults:function(){return X},lessDefaults:function(){return B},scssDefaults:function(){return R}});var E=c(50048),O=c(61460),Q=function(){function N(g,D,H){this._onDidChange=new O.Q5,this._languageId=g,this.setOptions(D),this.setModeConfiguration(H)}return Object.defineProperty(N.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"diagnosticsOptions",{get:function(){return this.options},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),N.prototype.setOptions=function(g){this._options=g||Object.create(null),this._onDidChange.fire(this)},N.prototype.setDiagnosticsOptions=function(g){this.setOptions(g)},N.prototype.setModeConfiguration=function(g){this._modeConfiguration=g||Object.create(null),this._onDidChange.fire(this)},N}(),P={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},y={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},X=new Q("css",P,y),R=new Q("scss",P,y),B=new Q("less",P,y);O.Mj.css={cssDefaults:X,lessDefaults:B,scssDefaults:R};function s(){return c.e(990).then(c.bind(c,44990))}O.Mj.onLanguage("less",function(){s().then(function(N){return N.setupMode(B)})}),O.Mj.onLanguage("scss",function(){s().then(function(N){return N.setupMode(R)})}),O.Mj.onLanguage("css",function(){s().then(function(N){return N.setupMode(X)})})},47650:function(Qt,He,c){"use strict";c.d(He,{Mj:function(){return E.languages},Q5:function(){return E.Emitter},Sf:function(){return E.Uri},e6:function(){return E.Range},j6:function(){return E.editor}});var E=c(50048)},68423:function(Qt,He,c){"use strict";c.r(He),c.d(He,{handlebarDefaults:function(){return T},handlebarLanguageService:function(){return r},htmlDefaults:function(){return H},htmlLanguageService:function(){return D},razorDefaults:function(){return x},razorLanguageService:function(){return w},registerHTMLLanguageService:function(){return p}});var E=c(50048),O=c(47650),Q=function(S,h,L,v){function V($){return $ instanceof L?$:new L(function(ee){ee($)})}return new(L||(L=Promise))(function($,ee){function de(xe){try{ve(v.next(xe))}catch(le){ee(le)}}function pe(xe){try{ve(v.throw(xe))}catch(le){ee(le)}}function ve(xe){xe.done?$(xe.value):V(xe.value).then(de,pe)}ve((v=v.apply(S,h||[])).next())})},P=function(S,h){var L={label:0,sent:function(){if($[0]&1)throw $[1];return $[1]},trys:[],ops:[]},v,V,$,ee;return ee={next:de(0),throw:de(1),return:de(2)},typeof Symbol=="function"&&(ee[Symbol.iterator]=function(){return this}),ee;function de(ve){return function(xe){return pe([ve,xe])}}function pe(ve){if(v)throw new TypeError("Generator is already executing.");for(;L;)try{if(v=1,V&&($=ve[0]&2?V.return:ve[0]?V.throw||(($=V.return)&&$.call(V),0):V.next)&&!($=$.call(V,ve[1])).done)return $;switch(V=0,$&&(ve=[ve[0]&2,$.value]),ve[0]){case 0:case 1:$=ve;break;case 4:return L.label++,{value:ve[1],done:!1};case 5:L.label++,V=ve[1],ve=[0];continue;case 7:ve=L.ops.pop(),L.trys.pop();continue;default:if($=L.trys,!($=$.length>0&&$[$.length-1])&&(ve[0]===6||ve[0]===2)){L=0;continue}if(ve[0]===3&&(!$||ve[1]>$[0]&&ve[1]<$[3])){L.label=ve[1];break}if(ve[0]===6&&L.label<$[1]){L.label=$[1],$=ve;break}if($&&L.label<$[2]){L.label=$[2],L.ops.push(ve);break}$[2]&&L.ops.pop(),L.trys.pop();continue}ve=h.call(S,L)}catch(xe){ve=[6,xe],V=0}finally{v=$=0}if(ve[0]&5)throw ve[1];return{value:ve[0]?ve[1]:void 0,done:!0}}},y=function(){function S(h,L,v){this._onDidChange=new O.Q5,this._languageId=h,this.setOptions(L),this.setModeConfiguration(v)}return Object.defineProperty(S.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),S.prototype.setOptions=function(h){this._options=h||Object.create(null),this._onDidChange.fire(this)},S.prototype.setModeConfiguration=function(h){this._modeConfiguration=h||Object.create(null),this._onDidChange.fire(this)},S}(),X={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},R={format:X,suggest:{},data:{useDefaultDataProvider:!0}};function B(S){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:S===s,documentFormattingEdits:S===s,documentRangeFormattingEdits:S===s}}var s="html",N="handlebars",g="razor",D=p(s,R,B(s)),H=D.defaults,r=p(N,R,B(N)),T=r.defaults,w=p(g,R,B(g)),x=w.defaults;O.Mj.html={htmlDefaults:H,razorDefaults:x,handlebarDefaults:T,htmlLanguageService:D,handlebarLanguageService:r,razorLanguageService:w,registerHTMLLanguageService:p};function f(){return c.e(721).then(c.bind(c,47570))}function p(S,h,L){var v=this;h===void 0&&(h=R),L===void 0&&(L=B(S));var V=new y(S,h,L),$,ee=O.Mj.onLanguage(S,function(){return Q(v,void 0,void 0,function(){return P(this,function(de){switch(de.label){case 0:return[4,f()];case 1:return $=de.sent().setupMode(V),[2]}})})});return{defaults:V,dispose:function(){ee.dispose(),$==null||$.dispose(),$=void 0}}}},61174:function(Qt,He,c){"use strict";c.d(He,{Mj:function(){return E.languages},Q5:function(){return E.Emitter},ZL:function(){return E.MarkerSeverity},e6:function(){return E.Range},j6:function(){return E.editor}});var E=c(50048)},72323:function(Qt,He,c){"use strict";c.r(He),c.d(He,{jsonDefaults:function(){return X}});var E=c(50048),O=c(61174),Q=function(){function B(s,N,g){this._onDidChange=new O.Q5,this._languageId=s,this.setDiagnosticsOptions(N),this.setModeConfiguration(g)}return Object.defineProperty(B.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),B.prototype.setDiagnosticsOptions=function(s){this._diagnosticsOptions=s||Object.create(null),this._onDidChange.fire(this)},B.prototype.setModeConfiguration=function(s){this._modeConfiguration=s||Object.create(null),this._onDidChange.fire(this)},B}(),P={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},y={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},X=new Q("json",P,y);O.Mj.json={jsonDefaults:X};function R(){return c.e(603).then(c.bind(c,36603))}O.Mj.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),O.Mj.onLanguage("json",function(){R().then(function(B){return B.setupMode(X)})})},91429:function(Qt,He,c){"use strict";c.d(He,{Mj:function(){return E.languages},Q5:function(){return E.Emitter},Sf:function(){return E.Uri},ZL:function(){return E.MarkerSeverity},e6:function(){return E.Range},eB:function(){return E.MarkerTag},j6:function(){return E.editor}});var E=c(50048)},15422:function(Qt,He,c){"use strict";c.r(He),c.d(He,{JsxEmit:function(){return y},ModuleKind:function(){return P},ModuleResolutionKind:function(){return B},NewLineKind:function(){return X},ScriptTarget:function(){return R},getJavaScriptWorker:function(){return r},getTypeScriptWorker:function(){return H},javascriptDefaults:function(){return D},typescriptDefaults:function(){return g},typescriptVersion:function(){return N}});var E=c(50048),O="4.4.4",Q=c(91429),P;(function(w){w[w.None=0]="None",w[w.CommonJS=1]="CommonJS",w[w.AMD=2]="AMD",w[w.UMD=3]="UMD",w[w.System=4]="System",w[w.ES2015=5]="ES2015",w[w.ESNext=99]="ESNext"})(P||(P={}));var y;(function(w){w[w.None=0]="None",w[w.Preserve=1]="Preserve",w[w.React=2]="React",w[w.ReactNative=3]="ReactNative",w[w.ReactJSX=4]="ReactJSX",w[w.ReactJSXDev=5]="ReactJSXDev"})(y||(y={}));var X;(function(w){w[w.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",w[w.LineFeed=1]="LineFeed"})(X||(X={}));var R;(function(w){w[w.ES3=0]="ES3",w[w.ES5=1]="ES5",w[w.ES2015=2]="ES2015",w[w.ES2016=3]="ES2016",w[w.ES2017=4]="ES2017",w[w.ES2018=5]="ES2018",w[w.ES2019=6]="ES2019",w[w.ES2020=7]="ES2020",w[w.ESNext=99]="ESNext",w[w.JSON=100]="JSON",w[w.Latest=99]="Latest"})(R||(R={}));var B;(function(w){w[w.Classic=1]="Classic",w[w.NodeJs=2]="NodeJs"})(B||(B={}));var s=function(){function w(x,f,p,S){this._onDidChange=new Q.Q5,this._onDidExtraLibsChange=new Q.Q5,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(x),this.setDiagnosticsOptions(f),this.setWorkerOptions(p),this.setInlayHintsOptions(S),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(w.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"inlayHintsOptions",{get:function(){return this._inlayHintsOptions},enumerable:!1,configurable:!0}),w.prototype.getExtraLibs=function(){return this._extraLibs},w.prototype.addExtraLib=function(x,f){var p=this,S;if(typeof f=="undefined"?S="ts:extralib-"+Math.random().toString(36).substring(2,15):S=f,this._extraLibs[S]&&this._extraLibs[S].content===x)return{dispose:function(){}};var h=1;return this._removedExtraLibs[S]&&(h=this._removedExtraLibs[S]+1),this._extraLibs[S]&&(h=this._extraLibs[S].version+1),this._extraLibs[S]={content:x,version:h},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var L=p._extraLibs[S];L&&L.version===h&&(delete p._extraLibs[S],p._removedExtraLibs[S]=h,p._fireOnDidExtraLibsChangeSoon())}}},w.prototype.setExtraLibs=function(x){for(var f in this._extraLibs)this._removedExtraLibs[f]=this._extraLibs[f].version;if(this._extraLibs=Object.create(null),x&&x.length>0)for(var p=0,S=x;p<S.length;p++){var h=S[p],f=h.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),L=h.content,v=1;this._removedExtraLibs[f]&&(v=this._removedExtraLibs[f]+1),this._extraLibs[f]={content:L,version:v}}this._fireOnDidExtraLibsChangeSoon()},w.prototype._fireOnDidExtraLibsChangeSoon=function(){var x=this;this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(function(){x._onDidExtraLibsChangeTimeout=-1,x._onDidExtraLibsChange.fire(void 0)},0))},w.prototype.getCompilerOptions=function(){return this._compilerOptions},w.prototype.setCompilerOptions=function(x){this._compilerOptions=x||Object.create(null),this._onDidChange.fire(void 0)},w.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},w.prototype.setDiagnosticsOptions=function(x){this._diagnosticsOptions=x||Object.create(null),this._onDidChange.fire(void 0)},w.prototype.setWorkerOptions=function(x){this._workerOptions=x||Object.create(null),this._onDidChange.fire(void 0)},w.prototype.setInlayHintsOptions=function(x){this._inlayHintsOptions=x||Object.create(null),this._onDidChange.fire(void 0)},w.prototype.setMaximumWorkerIdleTime=function(x){},w.prototype.setEagerModelSync=function(x){this._eagerModelSync=x},w.prototype.getEagerModelSync=function(){return this._eagerModelSync},w}(),N=O,g=new s({allowNonTsExtensions:!0,target:R.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),D=new s({allowNonTsExtensions:!0,allowJs:!0,target:R.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),H=function(){return T().then(function(w){return w.getTypeScriptWorker()})},r=function(){return T().then(function(w){return w.getJavaScriptWorker()})};Q.Mj.typescript={ModuleKind:P,JsxEmit:y,NewLineKind:X,ScriptTarget:R,ModuleResolutionKind:B,typescriptVersion:N,typescriptDefaults:g,javascriptDefaults:D,getTypeScriptWorker:H,getJavaScriptWorker:r};function T(){return c.e(597).then(c.bind(c,81597))}Q.Mj.onLanguage("typescript",function(){return T().then(function(w){return w.setupTypeScript(g)})}),Q.Mj.onLanguage("javascript",function(){return T().then(function(w){return w.setupJavaScript(D)})})},63580:function(Qt,He,c){"use strict";c.d(He,{N:function(){return O}});function E(Q,P){let y;return P.length===0?y=Q:y=Q.replace(/\{(\d+)\}/g,function(X,R){const B=R[0];return typeof P[B]!="undefined"?P[B]:X}),y}function O(Q,P,...y){return E(P,y)}},31106:function(Qt,He,c){"use strict";c.d(He,{F:function(){return Q},U:function(){return P}});var E=c(38819),O=c(72065);const Q=(0,O.yh)("accessibilityService"),P=new E.uy("accessibilityModeEnabled",!1)},42499:function(Qt,He,c){"use strict";c.d(He,{Mm:function(){return pe},Id:function(){return le},vr:function(){return $}});var E=c(65321),O=c(59069),Q=c(76033),P=c(10553),y=c(74741),X=c(4669);class R extends y.Wi{constructor(j,G){super(),this._onDidChangeVisibility=this._register(new X.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,E.R3)(j,(0,E.$)(".monaco-dropdown")),this._label=(0,E.R3)(this._element,(0,E.$)(".dropdown-label"));let q=G.labelRenderer;q||(q=b=>(b.textContent=G.label||"",null));for(const b of[E.tw.CLICK,E.tw.MOUSE_DOWN,P.t.Tap])this._register((0,E.nm)(this.element,b,F=>E.zB.stop(F,!0)));for(const b of[E.tw.MOUSE_DOWN,P.t.Tap])this._register((0,E.nm)(this._label,b,F=>{F instanceof MouseEvent&&F.detail>1||(this.visible?this.hide():this.show())}));this._register((0,E.nm)(this._label,E.tw.KEY_UP,b=>{const F=new O.y(b);(F.equals(3)||F.equals(10))&&(E.zB.stop(b,!0),this.visible?this.hide():this.show())}));const m=q(this._label);m&&this._register(m),this._register(P.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class B extends R{constructor(j,G){super(j,G),this._actions=[],this._contextMenuProvider=G.contextMenuProvider,this.actions=G.actions||[],this.actionProvider=G.actionProvider,this.menuClassName=G.menuClassName||"",this.menuAsChild=!!G.menuAsChild}set menuOptions(j){this._menuOptions=j}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(j){this._actions=j}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:j=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(j):void 0,getKeyBinding:j=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(j):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class s extends Q.Y{constructor(j,G,q,m=Object.create(null)){super(null,j,m),this.actionItem=null,this._onDidChangeVisibility=this._register(new X.Q5),this.menuActionsOrProvider=G,this.contextMenuProvider=q,this.options=m,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(j){this.actionItem=j;const G=b=>{this.element=(0,E.R3)(b,(0,E.$)("a.action-label"));let F=[];return typeof this.options.classNames=="string"?F=this.options.classNames.split(/\s+/g).filter(te=>!!te):this.options.classNames&&(F=this.options.classNames),F.find(te=>te==="icon")||F.push("codicon"),this.element.classList.add(...F),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},q=Array.isArray(this.menuActionsOrProvider),m={contextMenuProvider:this.contextMenuProvider,labelRenderer:G,menuAsChild:this.options.menuAsChild,actions:q?this.menuActionsOrProvider:void 0,actionProvider:q?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new B(j,m)),this._register(this.dropdownMenu.onDidChangeVisibility(b=>{var F;(F=this.element)===null||F===void 0||F.setAttribute("aria-expanded",`${b}`),this._onDidChangeVisibility.fire(b)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const b=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return b.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(j){super.setActionContext(j),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=j:this.dropdownMenu.menuOptions={context:j})}updateEnabled(){var j,G;const q=!this.getAction().enabled;(j=this.actionItem)===null||j===void 0||j.classList.toggle("disabled",q),(G=this.element)===null||G===void 0||G.classList.toggle("disabled",q)}}var N=c(8030),g=c(5976),D=c(1432),H=c(63580),r=c(84144),T=c(38819),w=c(5606),x=c(72065),f=c(91847),p=c(59422),S=c(87060),h=c(97781),L=function(Y,j,G,q){var m=arguments.length,b=m<3?j:q===null?q=Object.getOwnPropertyDescriptor(j,G):q,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(Y,j,G,q);else for(var te=Y.length-1;te>=0;te--)(F=Y[te])&&(b=(m<3?F(b):m>3?F(j,G,b):F(j,G))||b);return m>3&&b&&Object.defineProperty(j,G,b),b},v=function(Y,j){return function(G,q){j(G,q,Y)}},V=function(Y,j,G,q){function m(b){return b instanceof G?b:new G(function(F){F(b)})}return new(G||(G=Promise))(function(b,F){function te(Oe){try{ue(q.next(Oe))}catch(Re){F(Re)}}function me(Oe){try{ue(q.throw(Oe))}catch(Re){F(Re)}}function ue(Oe){Oe.done?b(Oe.value):m(Oe.value).then(te,me)}ue((q=q.apply(Y,j||[])).next())})};function $(Y,j,G,q,m,b,F){const te=Y.getActions(j);return de(te,G,!1,typeof q=="string"?ue=>ue===q:q,m,b,F),ee(te)}function ee(Y){const j=new g.SL;for(const[,G]of Y)for(const q of G)j.add(q);return j}function de(Y,j,G,q=te=>te==="navigation",m=Number.MAX_SAFE_INTEGER,b=()=>!1,F=!1){let te,me;Array.isArray(j)?(te=j,me=j):(te=j.primary,me=j.secondary);const ue=new Set;for(const[Oe,Re]of Y){let et;q(Oe)?(et=te,et.length>0&&F&&et.push(new y.Z0)):(et=me,et.length>0&&et.push(new y.Z0));for(let Dt of Re){G&&(Dt=Dt instanceof r.U8&&Dt.alt?Dt.alt:Dt);const ht=et.push(Dt);Dt instanceof y.wY&&ue.add({group:Oe,action:Dt,index:ht-1})}}for(const{group:Oe,action:Re,index:et}of ue){const Dt=q(Oe)?te:me,ht=Re.actions;(ht.length<=1||Dt.length+ht.length-2<=m)&&b(Re,Oe,Dt.length)&&Dt.splice(et,1,...ht)}if(te!==me&&te.length>m){const Oe=te.splice(m,te.length-m);me.unshift(...Oe,new y.Z0)}}let pe=class extends Q.g{constructor(j,G,q,m,b){super(void 0,j,{icon:!!(j.class||j.item.icon),label:!j.class&&!j.item.icon,draggable:G==null?void 0:G.draggable}),this._keybindingService=q,this._notificationService=m,this._contextKeyService=b,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new g.XK),this._altKey=E._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(j){return V(this,void 0,void 0,function*(){j.preventDefault(),j.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(G){this._notificationService.error(G)}})}render(j){super.render(j),j.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let G=!1,q=this._altKey.keyStatus.altKey||(D.ED||D.IJ)&&this._altKey.keyStatus.shiftKey;const m=()=>{const b=G&&q;b!==this._wantsAltCommand&&(this._wantsAltCommand=b,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(b=>{q=b.altKey||(D.ED||D.IJ)&&b.shiftKey,m()})),this._register((0,E.nm)(j,"mouseleave",b=>{G=!1,m()})),this._register((0,E.nm)(j,"mouseenter",b=>{G=!0,m()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const j=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),G=j&&j.getLabel(),q=this._commandAction.tooltip||this._commandAction.label;let m=G?(0,H.N)("titleAndKb","{0} ({1})",q,G):q;if(!this._wantsAltCommand&&this._menuItemAction.alt){const b=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,F=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),te=F&&F.getLabel(),me=te?(0,H.N)("titleAndKb","{0} ({1})",b,te):b;m+=`
[${N.xo.modifierLabels[D.OS].altKey}] ${me}`}this.label.title=m}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(j){var G;this._itemClassDispose.value=void 0;const{element:q,label:m}=this;if(!q||!m)return;const b=this._commandAction.checked&&(!((G=j.toggled)===null||G===void 0)&&G.icon)?j.toggled.icon:j.icon;if(b)if(h.kS.isThemeIcon(b)){const F=h.kS.asClassNameArray(b);m.classList.add(...F),this._itemClassDispose.value=(0,g.OF)(()=>{m.classList.remove(...F)})}else b.light&&m.style.setProperty("--menu-entry-icon-light",(0,E.wY)(b.light)),b.dark&&m.style.setProperty("--menu-entry-icon-dark",(0,E.wY)(b.dark)),m.classList.add("icon"),this._itemClassDispose.value=(0,g.OF)(()=>{m.classList.remove("icon"),m.style.removeProperty("--menu-entry-icon-light"),m.style.removeProperty("--menu-entry-icon-dark")})}};pe=L([v(2,f.d),v(3,p.lT),v(4,T.i6)],pe);let ve=class extends s{constructor(j,G,q){var m,b;const F=Object.assign({},G!=null?G:Object.create(null),{menuAsChild:(m=G==null?void 0:G.menuAsChild)!==null&&m!==void 0?m:!1,classNames:(b=G==null?void 0:G.classNames)!==null&&b!==void 0?b:h.kS.isThemeIcon(j.item.icon)?h.kS.asClassName(j.item.icon):void 0});super(j,{getActions:()=>j.actions},q,F)}render(j){if(super.render(j),this.element){j.classList.add("menu-entry");const{icon:G}=this._action.item;G&&!h.kS.isThemeIcon(G)&&(this.element.classList.add("icon"),G.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,E.wY)(G.light)),G.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,E.wY)(G.dark)))}}};ve=L([v(2,w.i)],ve);let xe=class extends Q.Y{constructor(j,G,q,m,b,F,te,me){var ue,Oe,Re;super(null,j),this._keybindingService=q,this._notificationService=m,this._contextMenuService=b,this._menuService=F,this._instaService=te,this._storageService=me,this._container=null,this._storageKey=`${j.item.submenu._debugName}_lastActionId`;let et,Dt=me.get(this._storageKey,1);Dt&&(et=j.actions.find(Mt=>Dt===Mt.id)),et||(et=j.actions[0]),this._defaultAction=this._instaService.createInstance(pe,et,void 0);const ht=Object.assign({},G!=null?G:Object.create(null),{menuAsChild:(ue=G==null?void 0:G.menuAsChild)!==null&&ue!==void 0?ue:!0,classNames:(Oe=G==null?void 0:G.classNames)!==null&&Oe!==void 0?Oe:["codicon","codicon-chevron-down"],actionRunner:(Re=G==null?void 0:G.actionRunner)!==null&&Re!==void 0?Re:new y.Wi});this._dropdown=new s(j,j.actions,this._contextMenuService,ht),this._dropdown.actionRunner.onDidRun(Mt=>{Mt.action instanceof r.U8&&this.update(Mt.action)})}update(j){this._storageService.store(this._storageKey,j.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(pe,j,void 0),this._defaultAction.actionRunner=new class extends y.Wi{runAction(G,q){return V(this,void 0,void 0,function*(){yield G.run(void 0)})}},this._container&&this._defaultAction.render((0,E.Ce)(this._container,(0,E.$)(".action-container")))}setActionContext(j){super.setActionContext(j),this._defaultAction.setActionContext(j),this._dropdown.setActionContext(j)}render(j){this._container=j,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const G=(0,E.$)(".action-container");this._defaultAction.render((0,E.R3)(this._container,G)),this._register((0,E.nm)(G,E.tw.KEY_DOWN,m=>{const b=new O.y(m);b.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),b.stopPropagation())}));const q=(0,E.$)(".dropdown-action-container");this._dropdown.render((0,E.R3)(this._container,q)),this._register((0,E.nm)(q,E.tw.KEY_DOWN,m=>{var b;const F=new O.y(m);F.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(b=this._defaultAction.element)===null||b===void 0||b.focus(),F.stopPropagation())}))}focus(j){j?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(j){j?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};xe=L([v(2,f.d),v(3,p.lT),v(4,w.i),v(5,r.co),v(6,x.TG),v(7,S.Uy)],xe);function le(Y,j,G){return j instanceof r.U8?Y.createInstance(pe,j,void 0):j instanceof r.NZ?j.item.rememberDefaultAction?Y.createInstance(xe,j,G):Y.createInstance(ve,j,G):void 0}},84144:function(Qt,He,c){"use strict";c.d(He,{BH:function(){return w},NZ:function(){return x},U8:function(){return f},co:function(){return T},eH:function(){return r},vr:function(){return H}});var E=c(74741),O=c(73046),Q=c(4669),P=c(56899),y=c(5976),X=c(91741),R=c(94565),B=c(38819),s=c(72065),N=c(97781),g=function(p,S,h,L){var v=arguments.length,V=v<3?S:L===null?L=Object.getOwnPropertyDescriptor(S,h):L,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(p,S,h,L);else for(var ee=p.length-1;ee>=0;ee--)($=p[ee])&&(V=(v<3?$(V):v>3?$(S,h,V):$(S,h))||V);return v>3&&V&&Object.defineProperty(S,h,V),V},D=function(p,S){return function(h,L){S(h,L,p)}};function H(p){return p.command!==void 0}class r{constructor(S){this.id=r._idPool++,this._debugName=S}}r._idPool=0,r.CommandPalette=new r("CommandPalette"),r.EditorContext=new r("EditorContext"),r.SimpleEditorContext=new r("SimpleEditorContext"),r.EditorContextCopy=new r("EditorContextCopy"),r.EditorContextPeek=new r("EditorContextPeek"),r.MenubarEditMenu=new r("MenubarEditMenu"),r.MenubarCopy=new r("MenubarCopy"),r.MenubarGoMenu=new r("MenubarGoMenu"),r.MenubarSelectionMenu=new r("MenubarSelectionMenu"),r.InlineCompletionsActions=new r("InlineCompletionsActions");const T=(0,s.yh)("menuService"),w=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Q.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:p=>p===r.CommandPalette}}addCommand(p){return this.addCommands(P.$.single(p))}addCommands(p){for(const S of p)this._commands.set(S.id,S);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,y.OF)(()=>{let S=!1;for(const h of p)S=this._commands.delete(h.id)||S;S&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(p){return this._commands.get(p)}getCommands(){const p=new Map;return this._commands.forEach((S,h)=>p.set(h,S)),p}appendMenuItem(p,S){return this.appendMenuItems(P.$.single({id:p,item:S}))}appendMenuItems(p){const S=new Set,h=new X.S;for(const{id:L,item:v}of p){let V=this._menuItems.get(L);V||(V=new X.S,this._menuItems.set(L,V)),h.push(V.push(v)),S.add(L)}return this._onDidChangeMenu.fire(S),(0,y.OF)(()=>{if(h.size>0){for(let L of h)L();this._onDidChangeMenu.fire(S),h.clear()}})}getMenuItems(p){let S;return this._menuItems.has(p)?S=[...this._menuItems.get(p)]:S=[],p===r.CommandPalette&&this._appendImplicitItems(S),S}_appendImplicitItems(p){const S=new Set;for(const h of p)H(h)&&(S.add(h.command.id),h.alt&&S.add(h.alt.id));this._commands.forEach((h,L)=>{S.has(L)||p.push({command:h})})}};class x extends E.wY{constructor(S,h,L,v){super(`submenuitem.${S.submenu.id}`,typeof S.title=="string"?S.title:S.title.value,[],"submenu"),this.item=S,this._menuService=h,this._contextKeyService=L,this._options=v}get actions(){const S=[],h=this._menuService.createMenu(this.item.submenu,this._contextKeyService),L=h.getActions(this._options);h.dispose();for(const[,v]of L)v.length>0&&(S.push(...v),S.push(new E.Z0));return S.length&&S.pop(),S}}let f=class ku{constructor(S,h,L,v,V){var $,ee;if(this._commandService=V,this.id=S.id,this.label=L!=null&&L.renderShortTitle&&S.shortTitle?typeof S.shortTitle=="string"?S.shortTitle:S.shortTitle.value:typeof S.title=="string"?S.title:S.title.value,this.tooltip=(ee=typeof S.tooltip=="string"?S.tooltip:($=S.tooltip)===null||$===void 0?void 0:$.value)!==null&&ee!==void 0?ee:"",this.enabled=!S.precondition||v.contextMatchesRules(S.precondition),this.checked=void 0,S.toggled){const de=S.toggled.condition?S.toggled:{condition:S.toggled};this.checked=v.contextMatchesRules(de.condition),this.checked&&de.tooltip&&(this.tooltip=typeof de.tooltip=="string"?de.tooltip:de.tooltip.value),de.title&&(this.label=typeof de.title=="string"?de.title:de.title.value)}this.item=S,this.alt=h?new ku(h,void 0,L,v,V):void 0,this._options=L,N.kS.isThemeIcon(S.icon)&&(this.class=O.dT.asClassName(S.icon))}dispose(){}run(...S){var h,L;let v=[];return!((h=this._options)===null||h===void 0)&&h.arg&&(v=[...v,this._options.arg]),!((L=this._options)===null||L===void 0)&&L.shouldForwardArgs&&(v=[...v,...S]),this._commandService.executeCommand(this.id,...v)}};f=g([D(3,B.i6),D(4,R.H)],f)},84972:function(Qt,He,c){"use strict";c.d(He,{p:function(){return O}});var E=c(72065);const O=(0,E.yh)("clipboardService")},94565:function(Qt,He,c){"use strict";c.d(He,{H:function(){return R},P:function(){return B}});var E=c(4669),O=c(56899),Q=c(5976),P=c(91741),y=c(98401),X=c(72065);const R=(0,X.yh)("commandService"),B=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new E.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(s,N){if(!s)throw new Error("invalid command");if(typeof s=="string"){if(!N)throw new Error("invalid command");return this.registerCommand({id:s,handler:N})}if(s.description){const T=[];for(let x of s.description.args)T.push(x.constraint);const w=s.handler;s.handler=function(x,...f){return(0,y.D8)(f,T),w(x,...f)}}const{id:g}=s;let D=this._commands.get(g);D||(D=new P.S,this._commands.set(g,D));let H=D.unshift(s),r=(0,Q.OF)(()=>{H();const T=this._commands.get(g);T!=null&&T.isEmpty()&&this._commands.delete(g)});return this._onDidRegisterCommand.fire(g),r}registerCommandAlias(s,N){return B.registerCommand(s,(g,...D)=>g.get(R).executeCommand(N,...D))}getCommand(s){const N=this._commands.get(s);if(!(!N||N.isEmpty()))return O.$.first(N)}getCommands(){const s=new Map;for(const N of this._commands.keys()){const g=this.getCommand(N);g&&s.set(N,g)}return s}};B.registerCommand("noop",()=>{})},33108:function(Qt,He,c){"use strict";c.d(He,{KV:function(){return X},MR:function(){return N},Mt:function(){return s},O4:function(){return g},Od:function(){return y},Ui:function(){return P},xL:function(){return R}});var E=c(23193),O=c(72065),Q=c(89872);const P=(0,O.yh)("configurationService");function y(D,H){const r=Object.create(null);for(let T in D)X(r,T,D[T],H);return r}function X(D,H,r,T){const w=H.split("."),x=w.pop();let f=D;for(let p=0;p<w.length;p++){let S=w[p],h=f[S];switch(typeof h){case"undefined":h=f[S]=Object.create(null);break;case"object":break;default:T(`Ignoring ${H} as ${w.slice(0,p+1).join(".")} is ${JSON.stringify(h)}`);return}f=h}if(typeof f=="object"&&f!==null)try{f[x]=r}catch(p){T(`Ignoring ${H} as ${w.join(".")} is ${JSON.stringify(f)}`)}else T(`Ignoring ${H} as ${w.join(".")} is ${JSON.stringify(f)}`)}function R(D,H){const r=H.split(".");B(D,r)}function B(D,H){const r=H.shift();if(H.length===0){delete D[r];return}if(Object.keys(D).indexOf(r)!==-1){const T=D[r];typeof T=="object"&&!Array.isArray(T)&&(B(T,H),Object.keys(T).length===0&&delete D[r])}}function s(D,H,r){function T(f,p){let S=f;for(const h of p){if(typeof S!="object"||S===null)return;S=S[h]}return S}const w=H.split("."),x=T(D,w);return typeof x=="undefined"?r:x}function N(){const D=Q.B.as(E.IP.Configuration).getConfigurationProperties();return Object.keys(D)}function g(){const D=Object.create(null),H=Q.B.as(E.IP.Configuration).getConfigurationProperties();for(let r in H){let T=H[r].default;X(D,r,T,w=>console.error(`Conflict in default settings: ${w}`))}return D}},23193:function(Qt,He,c){"use strict";c.d(He,{G1:function(){return x},IP:function(){return X},Uh:function(){return f}});var E=c(4669),O=c(98401),Q=c(63580),P=c(81294),y=c(89872);const X={Configuration:"base.contributions.configuration"},R={properties:{},patternProperties:{}},B={properties:{},patternProperties:{}},s={properties:{},patternProperties:{}},N={properties:{},patternProperties:{}},g={properties:{},patternProperties:{}},D={properties:{},patternProperties:{}},H="vscode://schemas/settings/resourceLanguage",r=y.B.as(P.I.JSONContribution);class T{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new E.Q5,this._onDidUpdateConfiguration=new E.Q5,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:Q.N("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},r.registerSchema(H,this.resourceLanguageSettingsSchema)}registerConfiguration(v,V=!0){this.registerConfigurations([v],V)}registerConfigurations(v,V=!0){const $=this.doRegisterConfigurations(v,V);r.registerSchema(H,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire($)}registerOverrideIdentifiers(v){for(const V of v)this.overrideIdentifiers.add(V);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(v,V){const $=[];return v.forEach(ee=>{$.push(...this.validateAndRegisterProperties(ee,V,ee.extensionInfo)),this.configurationContributors.push(ee),this.registerJSONConfiguration(ee)}),$}validateAndRegisterProperties(v,V=!0,$,ee=3){var de;ee=O.Jp(v.scope)?ee:v.scope;let pe=[],ve=v.properties;if(ve)for(let le in ve){if(V&&h(le)){delete ve[le];continue}const Y=ve[le];if(this.updatePropertyDefaultValue(le,Y),x.test(le)?Y.scope=void 0:(Y.scope=O.Jp(Y.scope)?ee:Y.scope,Y.restricted=O.Jp(Y.restricted)?!!(!((de=$==null?void 0:$.restrictedConfigurations)===null||de===void 0)&&de.includes(le)):Y.restricted),ve[le].hasOwnProperty("included")&&!ve[le].included){this.excludedConfigurationProperties[le]=ve[le],delete ve[le];continue}else this.configurationProperties[le]=ve[le];!ve[le].deprecationMessage&&ve[le].markdownDeprecationMessage&&(ve[le].deprecationMessage=ve[le].markdownDeprecationMessage),pe.push(le)}let xe=v.allOf;if(xe)for(let le of xe)pe.push(...this.validateAndRegisterProperties(le,V,$,ee));return pe}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(v){const V=$=>{let ee=$.properties;if(ee)for(const pe in ee)this.updateSchema(pe,ee[pe]);let de=$.allOf;de&&de.forEach(V)};V(v)}updateSchema(v,V){switch(R.properties[v]=V,V.scope){case 1:B.properties[v]=V;break;case 2:s.properties[v]=V;break;case 6:N.properties[v]=V;break;case 3:g.properties[v]=V;break;case 4:D.properties[v]=V;break;case 5:D.properties[v]=V,this.resourceLanguageSettingsSchema.properties[v]=V;break}}updateOverridePropertyPatternKey(){for(const v of this.overrideIdentifiers.values()){const V=`[${v}]`,$={type:"object",description:Q.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:Q.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:H};this.updatePropertyDefaultValue(V,$),R.properties[V]=$,B.properties[V]=$,s.properties[V]=$,N.properties[V]=$,g.properties[V]=$,D.properties[V]=$}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(v,V){let $=this.defaultValues[v];O.o8($)&&($=V.default),O.o8($)&&($=p(V.type)),V.default=$}}const w="\\[.*\\]$",x=new RegExp(w);function f(L){return L.substring(1,L.length-1)}function p(L){switch(Array.isArray(L)?L[0]:L){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const S=new T;y.B.add(X.Configuration,S);function h(L){return L.trim()?x.test(L)?Q.N("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",L):S.getConfigurationProperties()[L]!==void 0?Q.N("config.property.duplicate","Cannot register '{0}'. This property is already registered.",L):null:Q.N("config.property.empty","Cannot register an empty property")}},38819:function(Qt,He,c){"use strict";c.d(He,{Ao:function(){return R},Eq:function(){return xe},Fb:function(){return B},K8:function(){return j},i6:function(){return ve},uy:function(){return pe}});var E=c(1432),O=c(97295),Q=c(72065);let P=E.WE||"";const y=new Map;y.set("false",!1),y.set("true",!0),y.set("isMac",E.dz),y.set("isLinux",E.IJ),y.set("isWindows",E.ED),y.set("isWeb",E.$L),y.set("isMacNative",E.dz&&!E.$L),y.set("isEdge",P.indexOf("Edg/")>=0),y.set("isFirefox",P.indexOf("Firefox")>=0),y.set("isChrome",P.indexOf("Chrome")>=0),y.set("isSafari",P.indexOf("Safari")>=0);const X=Object.prototype.hasOwnProperty;class R{static has(m){return D.create(m)}static equals(m,b){return H.create(m,b)}static regex(m,b){return v.create(m,b)}static not(m){return x.create(m)}static and(...m){return ee.create(m,null)}static or(...m){return de.create(m,null,!0)}static deserialize(m,b=!1){if(m)return this._deserializeOrExpression(m,b)}static _deserializeOrExpression(m,b){let F=m.split("||");return de.create(F.map(te=>this._deserializeAndExpression(te,b)),null,!0)}static _deserializeAndExpression(m,b){let F=m.split("&&");return ee.create(F.map(te=>this._deserializeOne(te,b)),null)}static _deserializeOne(m,b){if(m=m.trim(),m.indexOf("!=")>=0){let F=m.split("!=");return w.create(F[0].trim(),this._deserializeValue(F[1],b))}if(m.indexOf("==")>=0){let F=m.split("==");return H.create(F[0].trim(),this._deserializeValue(F[1],b))}if(m.indexOf("=~")>=0){let F=m.split("=~");return v.create(F[0].trim(),this._deserializeRegexValue(F[1],b))}if(m.indexOf(" in ")>=0){let F=m.split(" in ");return r.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(m)){const F=m.split(">=");return S.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(m)){const F=m.split(">");return p.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(m)){const F=m.split("<=");return L.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(m)){const F=m.split("<");return h.create(F[0].trim(),F[1].trim())}return/^\!\s*/.test(m)?x.create(m.substr(1).trim()):D.create(m)}static _deserializeValue(m,b){if(m=m.trim(),m==="true")return!0;if(m==="false")return!1;let F=/^'([^']*)'$/.exec(m);return F?F[1].trim():m}static _deserializeRegexValue(m,b){if((0,O.m5)(m)){if(b)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let F=m.indexOf("/"),te=m.lastIndexOf("/");if(F===te||F<0){if(b)throw new Error(`bad regexp-value '${m}', missing /-enclosure`);return console.warn(`bad regexp-value '${m}', missing /-enclosure`),null}let me=m.slice(F+1,te),ue=m[te+1]==="i"?"i":"";try{return new RegExp(me,ue)}catch(Oe){if(b)throw new Error(`bad regexp-value '${m}', parse error: ${Oe}`);return console.warn(`bad regexp-value '${m}', parse error: ${Oe}`),null}}}function B(q,m){const b=q?q.substituteConstants():void 0,F=m?m.substituteConstants():void 0;return!b&&!F?!0:!b||!F?!1:b.equals(F)}function s(q,m){return q.cmp(m)}class N{constructor(){this.type=0}cmp(m){return this.type-m.type}equals(m){return m.type===this.type}substituteConstants(){return this}evaluate(m){return!1}serialize(){return"false"}keys(){return[]}negate(){return g.INSTANCE}}N.INSTANCE=new N;class g{constructor(){this.type=1}cmp(m){return this.type-m.type}equals(m){return m.type===this.type}substituteConstants(){return this}evaluate(m){return!0}serialize(){return"true"}keys(){return[]}negate(){return N.INSTANCE}}g.INSTANCE=new g;class D{constructor(m,b){this.key=m,this.negated=b,this.type=2}static create(m,b=null){const F=y.get(m);return typeof F=="boolean"?F?g.INSTANCE:N.INSTANCE:new D(m,b)}cmp(m){return m.type!==this.type?this.type-m.type:le(this.key,m.key)}equals(m){return m.type===this.type?this.key===m.key:!1}substituteConstants(){const m=y.get(this.key);return typeof m=="boolean"?m?g.INSTANCE:N.INSTANCE:this}evaluate(m){return!!m.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=x.create(this.key,this)),this.negated}}class H{constructor(m,b,F){this.key=m,this.value=b,this.negated=F,this.type=4}static create(m,b,F=null){if(typeof b=="boolean")return b?D.create(m,F):x.create(m,F);const te=y.get(m);return typeof te=="boolean"?b===(te?"true":"false")?g.INSTANCE:N.INSTANCE:new H(m,b,F)}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){const m=y.get(this.key);if(typeof m=="boolean"){const b=m?"true":"false";return this.value===b?g.INSTANCE:N.INSTANCE}return this}evaluate(m){return m.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=w.create(this.key,this.value,this)),this.negated}}class r{constructor(m,b){this.key=m,this.valueKey=b,this.type=10,this.negated=null}static create(m,b){return new r(m,b)}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.key,this.valueKey,m.key,m.valueKey)}equals(m){return m.type===this.type?this.key===m.key&&this.valueKey===m.valueKey:!1}substituteConstants(){return this}evaluate(m){const b=m.getValue(this.valueKey),F=m.getValue(this.key);return Array.isArray(b)?b.indexOf(F)>=0:typeof F=="string"&&typeof b=="object"&&b!==null?X.call(b,F):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=T.create(this)),this.negated}}class T{constructor(m){this._actual=m,this.type=11}static create(m){return new T(m)}cmp(m){return m.type!==this.type?this.type-m.type:this._actual.cmp(m._actual)}equals(m){return m.type===this.type?this._actual.equals(m._actual):!1}substituteConstants(){return this}evaluate(m){return!this._actual.evaluate(m)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class w{constructor(m,b,F){this.key=m,this.value=b,this.negated=F,this.type=5}static create(m,b,F=null){if(typeof b=="boolean")return b?x.create(m,F):D.create(m,F);const te=y.get(m);return typeof te=="boolean"?b===(te?"true":"false")?N.INSTANCE:g.INSTANCE:new w(m,b,F)}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){const m=y.get(this.key);if(typeof m=="boolean"){const b=m?"true":"false";return this.value===b?N.INSTANCE:g.INSTANCE}return this}evaluate(m){return m.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=H.create(this.key,this.value,this)),this.negated}}class x{constructor(m,b){this.key=m,this.negated=b,this.type=3}static create(m,b=null){const F=y.get(m);return typeof F=="boolean"?F?N.INSTANCE:g.INSTANCE:new x(m,b)}cmp(m){return m.type!==this.type?this.type-m.type:le(this.key,m.key)}equals(m){return m.type===this.type?this.key===m.key:!1}substituteConstants(){const m=y.get(this.key);return typeof m=="boolean"?m?N.INSTANCE:g.INSTANCE:this}evaluate(m){return!m.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=D.create(this.key,this)),this.negated}}function f(q,m){if(typeof q=="string"){const b=parseFloat(q);isNaN(b)||(q=b)}return typeof q=="string"||typeof q=="number"?m(q):N.INSTANCE}class p{constructor(m,b,F){this.key=m,this.value=b,this.negated=F,this.type=12}static create(m,b,F=null){return f(b,te=>new p(m,te,F))}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){return this}evaluate(m){return typeof this.value=="string"?!1:parseFloat(m.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=L.create(this.key,this.value,this)),this.negated}}class S{constructor(m,b,F){this.key=m,this.value=b,this.negated=F,this.type=13}static create(m,b,F=null){return f(b,te=>new S(m,te,F))}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){return this}evaluate(m){return typeof this.value=="string"?!1:parseFloat(m.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=h.create(this.key,this.value,this)),this.negated}}class h{constructor(m,b,F){this.key=m,this.value=b,this.negated=F,this.type=14}static create(m,b,F=null){return f(b,te=>new h(m,te,F))}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){return this}evaluate(m){return typeof this.value=="string"?!1:parseFloat(m.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=S.create(this.key,this.value,this)),this.negated}}class L{constructor(m,b,F){this.key=m,this.value=b,this.negated=F,this.type=15}static create(m,b,F=null){return f(b,te=>new L(m,te,F))}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){return this}evaluate(m){return typeof this.value=="string"?!1:parseFloat(m.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this.key,this.value,this)),this.negated}}class v{constructor(m,b){this.key=m,this.regexp=b,this.type=7,this.negated=null}static create(m,b){return new v(m,b)}cmp(m){if(m.type!==this.type)return this.type-m.type;if(this.key<m.key)return-1;if(this.key>m.key)return 1;const b=this.regexp?this.regexp.source:"",F=m.regexp?m.regexp.source:"";return b<F?-1:b>F?1:0}equals(m){if(m.type===this.type){const b=this.regexp?this.regexp.source:"",F=m.regexp?m.regexp.source:"";return this.key===m.key&&b===F}return!1}substituteConstants(){return this}evaluate(m){let b=m.getValue(this.key);return this.regexp?this.regexp.test(b):!1}serialize(){const m=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${m}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=V.create(this)),this.negated}}class V{constructor(m){this._actual=m,this.type=8}static create(m){return new V(m)}cmp(m){return m.type!==this.type?this.type-m.type:this._actual.cmp(m._actual)}equals(m){return m.type===this.type?this._actual.equals(m._actual):!1}substituteConstants(){return this}evaluate(m){return!this._actual.evaluate(m)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function $(q){let m=null;for(let b=0,F=q.length;b<F;b++){const te=q[b].substituteConstants();if(q[b]!==te&&m===null){m=[];for(let me=0;me<b;me++)m[me]=q[me]}m!==null&&(m[b]=te)}return m===null?q:m}class ee{constructor(m,b){this.expr=m,this.negated=b,this.type=6}static create(m,b){return ee._normalizeArr(m,b)}cmp(m){if(m.type!==this.type)return this.type-m.type;if(this.expr.length<m.expr.length)return-1;if(this.expr.length>m.expr.length)return 1;for(let b=0,F=this.expr.length;b<F;b++){const te=s(this.expr[b],m.expr[b]);if(te!==0)return te}return 0}equals(m){if(m.type===this.type){if(this.expr.length!==m.expr.length)return!1;for(let b=0,F=this.expr.length;b<F;b++)if(!this.expr[b].equals(m.expr[b]))return!1;return!0}return!1}substituteConstants(){const m=$(this.expr);return m===this.expr?this:ee.create(m,this.negated)}evaluate(m){for(let b=0,F=this.expr.length;b<F;b++)if(!this.expr[b].evaluate(m))return!1;return!0}static _normalizeArr(m,b){const F=[];let te=!1;for(const me of m)if(me){if(me.type===1){te=!0;continue}if(me.type===0)return N.INSTANCE;if(me.type===6){F.push(...me.expr);continue}F.push(me)}if(F.length===0&&te)return g.INSTANCE;if(F.length!==0){if(F.length===1)return F[0];F.sort(s);for(let me=1;me<F.length;me++)F[me-1].equals(F[me])&&(F.splice(me,1),me--);if(F.length===1)return F[0];for(;F.length>1;){const me=F[F.length-1];if(me.type!==9)break;F.pop();const ue=F.pop(),Oe=F.length===0,Re=de.create(me.expr.map(et=>ee.create([et,ue],null)),null,Oe);Re&&(F.push(Re),F.sort(s))}return F.length===1?F[0]:new ee(F,b)}}serialize(){return this.expr.map(m=>m.serialize()).join(" && ")}keys(){const m=[];for(let b of this.expr)m.push(...b.keys());return m}negate(){if(!this.negated){const m=[];for(let b of this.expr)m.push(b.negate());this.negated=de.create(m,this,!0)}return this.negated}}class de{constructor(m,b){this.expr=m,this.negated=b,this.type=9}static create(m,b,F){return de._normalizeArr(m,b,F)}cmp(m){if(m.type!==this.type)return this.type-m.type;if(this.expr.length<m.expr.length)return-1;if(this.expr.length>m.expr.length)return 1;for(let b=0,F=this.expr.length;b<F;b++){const te=s(this.expr[b],m.expr[b]);if(te!==0)return te}return 0}equals(m){if(m.type===this.type){if(this.expr.length!==m.expr.length)return!1;for(let b=0,F=this.expr.length;b<F;b++)if(!this.expr[b].equals(m.expr[b]))return!1;return!0}return!1}substituteConstants(){const m=$(this.expr);return m===this.expr?this:de.create(m,this.negated,!1)}evaluate(m){for(let b=0,F=this.expr.length;b<F;b++)if(this.expr[b].evaluate(m))return!0;return!1}static _normalizeArr(m,b,F){let te=[],me=!1;if(m){for(let ue=0,Oe=m.length;ue<Oe;ue++){const Re=m[ue];if(Re){if(Re.type===0){me=!0;continue}if(Re.type===1)return g.INSTANCE;if(Re.type===9){te=te.concat(Re.expr);continue}te.push(Re)}}if(te.length===0&&me)return N.INSTANCE;te.sort(s)}if(te.length!==0){if(te.length===1)return te[0];for(let ue=1;ue<te.length;ue++)te[ue-1].equals(te[ue])&&(te.splice(ue,1),ue--);if(te.length===1)return te[0];if(F){for(let ue=0;ue<te.length;ue++)for(let Oe=ue+1;Oe<te.length;Oe++)j(te[ue],te[Oe])&&(te.splice(Oe,1),Oe--);if(te.length===1)return te[0]}return new de(te,b)}}serialize(){return this.expr.map(m=>m.serialize()).join(" || ")}keys(){const m=[];for(let b of this.expr)m.push(...b.keys());return m}negate(){if(!this.negated){let m=[];for(let b of this.expr)m.push(b.negate());for(;m.length>1;){const b=m.shift(),F=m.shift(),te=[];for(const ue of G(b))for(const Oe of G(F))te.push(ee.create([ue,Oe],null));const me=m.length===0;m.unshift(de.create(te,null,me))}this.negated=m[0]}return this.negated}}class pe extends D{constructor(m,b,F){super(m,null),this._defaultValue=b,typeof F=="object"?pe._info.push(Object.assign(Object.assign({},F),{key:m})):F!==!0&&pe._info.push({key:m,description:F,type:b!=null?typeof b:void 0})}static all(){return pe._info.values()}bindTo(m){return m.createKey(this.key,this._defaultValue)}getValue(m){return m.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(m){return H.create(this.key,m)}}pe._info=[];const ve=(0,Q.yh)("contextKeyService"),xe="setContext";function le(q,m){return q<m?-1:q>m?1:0}function Y(q,m,b,F){return q<b?-1:q>b?1:m<F?-1:m>F?1:0}function j(q,m){if(m.type===6&&q.type!==9&&q.type!==6){for(const te of m.expr)if(q.equals(te))return!0}const b=q.negate(),F=G(b).concat(G(m));F.sort(s);for(let te=0;te<F.length;te++){const ue=F[te].negate();for(let Oe=te+1;Oe<F.length;Oe++){const Re=F[Oe];if(ue.equals(Re))return!0}}return!1}function G(q){return q.type===9?q.expr:[q]}},5606:function(Qt,He,c){"use strict";c.d(He,{i:function(){return Q},u:function(){return O}});var E=c(72065);const O=(0,E.yh)("contextViewService"),Q=(0,E.yh)("contextMenuService")},97108:function(Qt,He,c){"use strict";c.d(He,{M:function(){return E}});class E{constructor(Q,P=[],y=!1){this.ctor=Q,this.staticArguments=P,this.supportsDelayedInstantiation=y}}},65026:function(Qt,He,c){"use strict";c.d(He,{d:function(){return P},z:function(){return Q}});var E=c(97108);const O=[];function Q(y,X,R){X instanceof E.M||(X=new E.M(X,[],R)),O.push([y,X])}function P(){return O}},72065:function(Qt,He,c){"use strict";c.d(He,{I8:function(){return E},TG:function(){return O},jt:function(){return y},yh:function(){return P}});var E;(function(X){X.serviceIds=new Map,X.DI_TARGET="$di$target",X.DI_DEPENDENCIES="$di$dependencies";function R(B){return B[X.DI_DEPENDENCIES]||[]}X.getServiceDependencies=R})(E||(E={}));const O=P("instantiationService");function Q(X,R,B,s){R[E.DI_TARGET]===R?R[E.DI_DEPENDENCIES].push({id:X,index:B,optional:s}):(R[E.DI_DEPENDENCIES]=[{id:X,index:B,optional:s}],R[E.DI_TARGET]=R)}function P(X){if(E.serviceIds.has(X))return E.serviceIds.get(X);const R=function(B,s,N){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Q(R,B,N,!1)};return R.toString=()=>X,E.serviceIds.set(X,R),R}function y(X){return function(R,B,s){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");Q(X,R,s,!0)}}},60972:function(Qt,He,c){"use strict";c.d(He,{y:function(){return E}});class E{constructor(...Q){this._entries=new Map;for(let[P,y]of Q)this.set(P,y)}set(Q,P){const y=this._entries.get(Q);return this._entries.set(Q,P),y}has(Q){return this._entries.has(Q)}get(Q){return this._entries.get(Q)}}},81294:function(Qt,He,c){"use strict";c.d(He,{I:function(){return Q}});var E=c(4669),O=c(89872);const Q={JSONContribution:"base.contributions.json"};function P(R){return R.length>0&&R.charAt(R.length-1)==="#"?R.substring(0,R.length-1):R}class y{constructor(){this._onDidChangeSchema=new E.Q5,this.schemasById={}}registerSchema(B,s){this.schemasById[P(B)]=s,this._onDidChangeSchema.fire(B)}notifySchemaChanged(B){this._onDidChangeSchema.fire(B)}}const X=new y;O.B.add(Q.JSONContribution,X)},91847:function(Qt,He,c){"use strict";c.d(He,{d:function(){return O}});var E=c(72065);const O=(0,E.yh)("keybindingService")},49989:function(Qt,He,c){"use strict";c.d(He,{W:function(){return X}});var E=c(8313),O=c(1432),Q=c(94565),P=c(89872);class y{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(N){if(O.OS===1){if(N&&N.win)return N.win}else if(O.OS===2){if(N&&N.mac)return N.mac}else if(N&&N.linux)return N.linux;return N}registerKeybindingRule(N){const g=y.bindToCurrentPlatform(N);if(g&&g.primary){const D=(0,E.gm)(g.primary,O.OS);D&&this._registerDefaultKeybinding(D,N.id,N.args,N.weight,0,N.when)}if(g&&Array.isArray(g.secondary))for(let D=0,H=g.secondary.length;D<H;D++){const r=g.secondary[D],T=(0,E.gm)(r,O.OS);T&&this._registerDefaultKeybinding(T,N.id,N.args,N.weight,-D-1,N.when)}}registerCommandAndKeybindingRule(N){this.registerKeybindingRule(N),Q.P.registerCommand(N)}static _mightProduceChar(N){return N>=21&&N<=30||N>=31&&N<=56?!0:N===80||N===81||N===82||N===83||N===84||N===85||N===86||N===110||N===111||N===87||N===88||N===89||N===90||N===91||N===92}_assertNoCtrlAlt(N,g){N.ctrlKey&&N.altKey&&!N.metaKey&&y._mightProduceChar(N.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",N," for ",g)}_registerDefaultKeybinding(N,g,D,H,r,T){O.OS===1&&this._assertNoCtrlAlt(N.parts[0],g),this._coreKeybindings.push({keybinding:N.parts,command:g,commandArgs:D,when:T,weight1:H,weight2:r,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(B)),this._cachedMergedKeybindings.slice(0)}}const X=new y,R={EditorModes:"platform.keybindingsRegistry"};P.B.add(R.EditorModes,X);function B(s,N){return s.weight1!==N.weight1?s.weight1-N.weight1:s.command<N.command?-1:s.command>N.command?1:s.weight2-N.weight2}},44349:function(Qt,He,c){"use strict";c.d(He,{e:function(){return O}});var E=c(72065);const O=(0,E.yh)("labelService")},38097:function(Qt,He,c){"use strict";c.d(He,{Lw:function(){return pi},XN:function(){return _n},ls:function(){return hi},ev:function(){return es},CQ:function(){return ds}});var E=c(65321),O=c(9488),Q=c(71050),P=c(4669),y=c(5976),X=c(5520),R=c(69047);class B{constructor(W,re){this.renderer=W,this.modelProvider=re}get templateId(){return this.renderer.templateId}renderTemplate(W){return{data:this.renderer.renderTemplate(W),disposable:y.JT.None}}renderElement(W,re,Te,Ye){if(Te.disposable&&Te.disposable.dispose(),!Te.data)return;const bt=this.modelProvider();if(bt.isResolved(W))return this.renderer.renderElement(bt.get(W),W,Te.data,Ye);const $t=new Q.A,si=bt.resolve(W,$t.token);Te.disposable={dispose:()=>$t.cancel()},this.renderer.renderPlaceholder(W,Te.data),si.then(gi=>this.renderer.renderElement(gi,W,Te.data,Ye))}disposeTemplate(W){W.disposable&&(W.disposable.dispose(),W.disposable=void 0),W.data&&(this.renderer.disposeTemplate(W.data),W.data=void 0)}}class s{constructor(W,re){this.modelProvider=W,this.accessibilityProvider=re}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(W){const re=this.modelProvider();return re.isResolved(W)?this.accessibilityProvider.getAriaLabel(re.get(W)):null}}function N(Nt,W){return Object.assign(Object.assign({},W),{accessibilityProvider:W.accessibilityProvider&&new s(Nt,W.accessibilityProvider)})}class g{constructor(W,re,Te,Ye,bt={}){const $t=()=>this.model,si=Ye.map(gi=>new B(gi,$t));this.list=new R.aV(W,re,Te,si,N($t,bt))}updateOptions(W){this.list.updateOptions(W)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return P.ju.map(this.list.onMouseDblClick,({element:W,index:re,browserEvent:Te})=>({element:W===void 0?void 0:this._model.get(W),index:re,browserEvent:Te}))}get onPointer(){return P.ju.map(this.list.onPointer,({element:W,index:re,browserEvent:Te})=>({element:W===void 0?void 0:this._model.get(W),index:re,browserEvent:Te}))}get onDidChangeSelection(){return P.ju.map(this.list.onDidChangeSelection,({elements:W,indexes:re,browserEvent:Te})=>({elements:W.map(Ye=>this._model.get(Ye)),indexes:re,browserEvent:Te}))}get model(){return this._model}set model(W){this._model=W,this.list.splice(0,this.list.length,(0,O.w6)(W.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(W=>this.model.get(W))}style(W){this.list.style(W)}dispose(){this.list.dispose()}}var D=c(33225);class H{constructor(W,re,Te){this.columns=W,this.getColumnSize=Te,this.templateId=H.TemplateId,this.renderedTemplates=new Set;const Ye=new Map(re.map(bt=>[bt.templateId,bt]));this.renderers=[];for(const bt of W){const $t=Ye.get(bt.templateId);if(!$t)throw new Error(`Table cell renderer for template id ${bt.templateId} not found.`);this.renderers.push($t)}}renderTemplate(W){const re=(0,E.R3)(W,(0,E.$)(".monaco-table-tr")),Te=[],Ye=[];for(let $t=0;$t<this.columns.length;$t++){const si=this.renderers[$t],gi=(0,E.R3)(re,(0,E.$)(".monaco-table-td",{"data-col-index":$t}));gi.style.width=`${this.getColumnSize($t)}px`,Te.push(gi),Ye.push(si.renderTemplate(gi))}const bt={container:W,cellContainers:Te,cellTemplateData:Ye};return this.renderedTemplates.add(bt),bt}renderElement(W,re,Te,Ye){for(let bt=0;bt<this.columns.length;bt++){const si=this.columns[bt].project(W);this.renderers[bt].renderElement(si,re,Te.cellTemplateData[bt],Ye)}}disposeElement(W,re,Te,Ye){for(let bt=0;bt<this.columns.length;bt++){const $t=this.renderers[bt];if($t.disposeElement){const gi=this.columns[bt].project(W);$t.disposeElement(gi,re,Te.cellTemplateData[bt],Ye)}}}disposeTemplate(W){for(let re=0;re<this.columns.length;re++)this.renderers[re].disposeTemplate(W.cellTemplateData[re]);(0,E.PO)(W.container),this.renderedTemplates.delete(W)}layoutColumn(W,re){for(const{cellContainers:Te}of this.renderedTemplates)Te[W].style.width=`${re}px`}}H.TemplateId="row";function r(Nt){return{getHeight(W){return Nt.getHeight(W)},getTemplateId(){return H.TemplateId}}}class T{constructor(W,re){this.column=W,this.index=re,this._onDidLayout=new P.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,E.$)(".monaco-table-th",{"data-col-index":re,title:W.tooltip},W.label)}get minimumSize(){var W;return(W=this.column.minimumWidth)!==null&&W!==void 0?W:120}get maximumSize(){var W;return(W=this.column.maximumWidth)!==null&&W!==void 0?W:Number.POSITIVE_INFINITY}get onDidChange(){var W;return(W=this.column.onDidChangeWidthConstraints)!==null&&W!==void 0?W:P.ju.None}layout(W){this._onDidLayout.fire([this.index,W])}}class w{constructor(W,re,Te,Ye,bt,$t){this.virtualDelegate=Te,this.domId=`table_id_${++w.InstanceCount}`,this.cachedHeight=0,this.domNode=(0,E.R3)(re,(0,E.$)(`.monaco-table.${this.domId}`));const si=Ye.map((xi,Hi)=>new T(xi,Hi)),gi={size:si.reduce((xi,Hi)=>xi+Hi.column.weight,0),views:si.map(xi=>({size:xi.column.weight,view:xi}))};this.splitview=new D.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:gi}),this.splitview.el.style.height=`${Te.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${Te.headerRowHeight}px`;const Oi=new H(Ye,bt,xi=>this.splitview.getViewSize(xi));this.list=new R.aV(W,this.domNode,r(Te),[Oi],$t),this.columnLayoutDisposable=P.ju.any(...si.map(xi=>xi.onDidLayout))(([xi,Hi])=>Oi.layoutColumn(xi,Hi)),this.styleElement=(0,E.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(W){this.list.updateOptions(W)}splice(W,re,Te=[]){this.list.splice(W,re,Te)}getHTMLElement(){return this.domNode}style(W){const re=[];re.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=re.join(`
`),this.list.style(W)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}w.InstanceCount=0;var x=c(72010),f=c(23547),p=c(4850),S=c(59069),h;(function(Nt){Nt[Nt.Unknown=0]="Unknown",Nt[Nt.Twistie=1]="Twistie",Nt[Nt.Element=2]="Element"})(h||(h={}));class L extends Error{constructor(W,re){super(`TreeError [${W}] ${re}`)}}class v{constructor(W){this.fn=W,this._map=new WeakMap}map(W){let re=this._map.get(W);return re||(re=this.fn(W),this._map.set(W,re)),re}}var V=c(22571),$=c(56899);function ee(Nt){return typeof Nt=="object"&&"visibility"in Nt&&"data"in Nt}function de(Nt){switch(Nt){case!0:return 1;case!1:return 0;default:return Nt}}function pe(Nt){return typeof Nt.collapsible=="boolean"}class ve{constructor(W,re,Te,Ye={}){this.user=W,this.list=re,this.rootRef=[],this.eventBufferer=new P.E7,this._onDidChangeCollapseState=new P.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new P.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new P.Q5,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof Ye.collapseByDefault=="undefined"?!1:Ye.collapseByDefault,this.filter=Ye.filter,this.autoExpandSingleChildren=typeof Ye.autoExpandSingleChildren=="undefined"?!1:Ye.autoExpandSingleChildren,this.root={parent:void 0,element:Te,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(W,re,Te=$.$.empty(),Ye={}){if(W.length===0)throw new L(this.user,"Invalid tree location");Ye.diffIdentityProvider?this.spliceSmart(Ye.diffIdentityProvider,W,re,Te,Ye):this.spliceSimple(W,re,Te,Ye)}spliceSmart(W,re,Te,Ye,bt,$t){var si;Ye===void 0&&(Ye=$.$.empty()),$t===void 0&&($t=(si=bt.diffDepth)!==null&&si!==void 0?si:0);const{parentNode:gi}=this.getParentNodeWithListIndex(re);if(!gi.lastDiffIds)return this.spliceSimple(re,Te,Ye,bt);const Oi=[...Ye],xi=re[re.length-1],Hi=new V.Hs({getElements:()=>gi.lastDiffIds},{getElements:()=>[...gi.children.slice(0,xi),...Oi,...gi.children.slice(xi+Te)].map(wn=>W.getId(wn.element).toString())}).ComputeDiff(!1);if(Hi.quitEarly)return gi.lastDiffIds=void 0,this.spliceSimple(re,Te,Oi,bt);const cn=re.slice(0,-1),Ii=(wn,Gn,Ts)=>{if($t>0)for(let Ln=0;Ln<Ts;Ln++)wn--,Gn--,this.spliceSmart(W,[...cn,wn,0],Number.MAX_SAFE_INTEGER,Oi[Gn].children,bt,$t-1)};let ln=Math.min(gi.children.length,xi+Te),nn=Oi.length;for(const wn of Hi.changes.sort((Gn,Ts)=>Ts.originalStart-Gn.originalStart))Ii(ln,nn,ln-(wn.originalStart+wn.originalLength)),ln=wn.originalStart,nn=wn.modifiedStart-xi,this.spliceSimple([...cn,ln],wn.originalLength,$.$.slice(Oi,nn,nn+wn.modifiedLength),bt);Ii(ln,nn,ln)}spliceSimple(W,re,Te=$.$.empty(),{onDidCreateNode:Ye,onDidDeleteNode:bt,diffIdentityProvider:$t}){const{parentNode:si,listIndex:gi,revealed:Oi,visible:xi}=this.getParentNodeWithListIndex(W),Hi=[],cn=$.$.map(Te,ze=>this.createTreeNode(ze,si,si.visible?1:0,Oi,Hi,Ye)),Ii=W[W.length-1],ln=si.children.length>0;let nn=0;for(let ze=Ii;ze>=0&&ze<si.children.length;ze--){const vt=si.children[ze];if(vt.visible){nn=vt.visibleChildIndex;break}}const wn=[];let Gn=0,Ts=0;for(const ze of cn)wn.push(ze),Ts+=ze.renderNodeCount,ze.visible&&(ze.visibleChildIndex=nn+Gn++);const Ln=(0,O.db)(si.children,Ii,re,wn);$t?si.lastDiffIds?(0,O.db)(si.lastDiffIds,Ii,re,wn.map(ze=>$t.getId(ze.element).toString())):si.lastDiffIds=si.children.map(ze=>$t.getId(ze.element).toString()):si.lastDiffIds=void 0;let jt=0;for(const ze of Ln)ze.visible&&jt++;if(jt!==0)for(let ze=Ii+wn.length;ze<si.children.length;ze++){const vt=si.children[ze];vt.visible&&(vt.visibleChildIndex-=jt)}if(si.visibleChildrenCount+=Gn-jt,Oi&&xi){const ze=Ln.reduce((vt,yt)=>vt+(yt.visible?yt.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(si,Ts-ze),this.list.splice(gi,ze,Hi)}if(Ln.length>0&&bt){const ze=vt=>{bt(vt),vt.children.forEach(ze)};Ln.forEach(ze)}const _e=si.children.length>0;ln!==_e&&this.setCollapsible(W.slice(0,-1),_e),this._onDidSplice.fire({insertedNodes:wn,deletedNodes:Ln});let Me=si;for(;Me;){if(Me.visibility===2){this.refilter();break}Me=Me.parent}}rerender(W){if(W.length===0)throw new L(this.user,"Invalid tree location");const{node:re,listIndex:Te,revealed:Ye}=this.getTreeNodeWithListIndex(W);re.visible&&Ye&&this.list.splice(Te,1,[re])}has(W){return this.hasTreeNode(W)}getListIndex(W){const{listIndex:re,visible:Te,revealed:Ye}=this.getTreeNodeWithListIndex(W);return Te&&Ye?re:-1}getListRenderCount(W){return this.getTreeNode(W).renderNodeCount}isCollapsible(W){return this.getTreeNode(W).collapsible}setCollapsible(W,re){const Te=this.getTreeNode(W);typeof re=="undefined"&&(re=!Te.collapsible);const Ye={collapsible:re};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(W,Ye))}isCollapsed(W){return this.getTreeNode(W).collapsed}setCollapsed(W,re,Te){const Ye=this.getTreeNode(W);typeof re=="undefined"&&(re=!Ye.collapsed);const bt={collapsed:re,recursive:Te||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(W,bt))}_setCollapseState(W,re){const{node:Te,listIndex:Ye,revealed:bt}=this.getTreeNodeWithListIndex(W),$t=this._setListNodeCollapseState(Te,Ye,bt,re);if(Te!==this.root&&this.autoExpandSingleChildren&&$t&&!pe(re)&&Te.collapsible&&!Te.collapsed&&!re.recursive){let si=-1;for(let gi=0;gi<Te.children.length;gi++)if(Te.children[gi].visible)if(si>-1){si=-1;break}else si=gi;si>-1&&this._setCollapseState([...W,si],re)}return $t}_setListNodeCollapseState(W,re,Te,Ye){const bt=this._setNodeCollapseState(W,Ye,!1);if(!Te||!W.visible||!bt)return bt;const $t=W.renderNodeCount,si=this.updateNodeAfterCollapseChange(W),gi=$t-(re===-1?0:1);return this.list.splice(re+1,gi,si.slice(1)),bt}_setNodeCollapseState(W,re,Te){let Ye;if(W===this.root?Ye=!1:(pe(re)?(Ye=W.collapsible!==re.collapsible,W.collapsible=re.collapsible):W.collapsible?(Ye=W.collapsed!==re.collapsed,W.collapsed=re.collapsed):Ye=!1,Ye&&this._onDidChangeCollapseState.fire({node:W,deep:Te})),!pe(re)&&re.recursive)for(const bt of W.children)Ye=this._setNodeCollapseState(bt,re,!0)||Ye;return Ye}expandTo(W){this.eventBufferer.bufferEvents(()=>{let re=this.getTreeNode(W);for(;re.parent;)re=re.parent,W=W.slice(0,W.length-1),re.collapsed&&this._setCollapseState(W,{collapsed:!1,recursive:!1})})}refilter(){const W=this.root.renderNodeCount,re=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,W,re)}createTreeNode(W,re,Te,Ye,bt,$t){const si={parent:re,element:W.element,children:[],depth:re.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof W.collapsible=="boolean"?W.collapsible:typeof W.collapsed!="undefined",collapsed:typeof W.collapsed=="undefined"?this.collapseByDefault:W.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},gi=this._filterNode(si,Te);si.visibility=gi,Ye&&bt.push(si);const Oi=W.children||$.$.empty(),xi=Ye&&gi!==0&&!si.collapsed,Hi=$.$.map(Oi,ln=>this.createTreeNode(ln,si,gi,xi,bt,$t));let cn=0,Ii=1;for(const ln of Hi)si.children.push(ln),Ii+=ln.renderNodeCount,ln.visible&&(ln.visibleChildIndex=cn++);return si.collapsible=si.collapsible||si.children.length>0,si.visibleChildrenCount=cn,si.visible=gi===2?cn>0:gi===1,si.visible?si.collapsed||(si.renderNodeCount=Ii):(si.renderNodeCount=0,Ye&&bt.pop()),$t&&$t(si),si}updateNodeAfterCollapseChange(W){const re=W.renderNodeCount,Te=[];return this._updateNodeAfterCollapseChange(W,Te),this._updateAncestorsRenderNodeCount(W.parent,Te.length-re),Te}_updateNodeAfterCollapseChange(W,re){if(W.visible===!1)return 0;if(re.push(W),W.renderNodeCount=1,!W.collapsed)for(const Te of W.children)W.renderNodeCount+=this._updateNodeAfterCollapseChange(Te,re);return this._onDidChangeRenderNodeCount.fire(W),W.renderNodeCount}updateNodeAfterFilterChange(W){const re=W.renderNodeCount,Te=[];return this._updateNodeAfterFilterChange(W,W.visible?1:0,Te),this._updateAncestorsRenderNodeCount(W.parent,Te.length-re),Te}_updateNodeAfterFilterChange(W,re,Te,Ye=!0){let bt;if(W!==this.root){if(bt=this._filterNode(W,re),bt===0)return W.visible=!1,W.renderNodeCount=0,!1;Ye&&Te.push(W)}const $t=Te.length;W.renderNodeCount=W===this.root?0:1;let si=!1;if(!W.collapsed||bt!==0){let gi=0;for(const Oi of W.children)si=this._updateNodeAfterFilterChange(Oi,bt,Te,Ye&&!W.collapsed)||si,Oi.visible&&(Oi.visibleChildIndex=gi++);W.visibleChildrenCount=gi}else W.visibleChildrenCount=0;return W!==this.root&&(W.visible=bt===2?si:bt===1,W.visibility=bt),W.visible?W.collapsed||(W.renderNodeCount+=Te.length-$t):(W.renderNodeCount=0,Ye&&Te.pop()),this._onDidChangeRenderNodeCount.fire(W),W.visible}_updateAncestorsRenderNodeCount(W,re){if(re!==0)for(;W;)W.renderNodeCount+=re,this._onDidChangeRenderNodeCount.fire(W),W=W.parent}_filterNode(W,re){const Te=this.filter?this.filter.filter(W.element,re):1;return typeof Te=="boolean"?(W.filterData=void 0,Te?1:0):ee(Te)?(W.filterData=Te.data,de(Te.visibility)):(W.filterData=void 0,de(Te))}hasTreeNode(W,re=this.root){if(!W||W.length===0)return!0;const[Te,...Ye]=W;return Te<0||Te>re.children.length?!1:this.hasTreeNode(Ye,re.children[Te])}getTreeNode(W,re=this.root){if(!W||W.length===0)return re;const[Te,...Ye]=W;if(Te<0||Te>re.children.length)throw new L(this.user,"Invalid tree location");return this.getTreeNode(Ye,re.children[Te])}getTreeNodeWithListIndex(W){if(W.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:re,listIndex:Te,revealed:Ye,visible:bt}=this.getParentNodeWithListIndex(W),$t=W[W.length-1];if($t<0||$t>re.children.length)throw new L(this.user,"Invalid tree location");const si=re.children[$t];return{node:si,listIndex:Te,revealed:Ye,visible:bt&&si.visible}}getParentNodeWithListIndex(W,re=this.root,Te=0,Ye=!0,bt=!0){const[$t,...si]=W;if($t<0||$t>re.children.length)throw new L(this.user,"Invalid tree location");for(let gi=0;gi<$t;gi++)Te+=re.children[gi].renderNodeCount;return Ye=Ye&&!re.collapsed,bt=bt&&re.visible,si.length===0?{parentNode:re,listIndex:Te,revealed:Ye,visible:bt}:this.getParentNodeWithListIndex(si,re.children[$t],Te+1,Ye,bt)}getNode(W=[]){return this.getTreeNode(W)}getNodeLocation(W){const re=[];let Te=W;for(;Te.parent;)re.push(Te.parent.children.indexOf(Te)),Te=Te.parent;return re.reverse()}getParentNodeLocation(W){if(W.length!==0)return W.length===1?[]:(0,O.JH)(W)[0]}}var xe=c(73046);const le=(0,xe.CM)("tree-item-expanded",xe.lA.chevronDown),Y=(0,xe.CM)("tree-filter-on-type-on",xe.lA.listFilter),j=(0,xe.CM)("tree-filter-on-type-off",xe.lA.listSelection),G=(0,xe.CM)("tree-filter-clear",xe.lA.close),q=(0,xe.CM)("tree-item-loading",xe.lA.loading);var m=c(15393),b=c(6626),F=c(75392),te=c(59870),me=c(1432),ue=c(63580);class Oe extends x.kX{constructor(W){super(W.elements.map(re=>re.element)),this.data=W}}function Re(Nt){return Nt instanceof x.kX?new Oe(Nt):Nt}class et{constructor(W,re){this.modelProvider=W,this.dnd=re,this.autoExpandDisposable=y.JT.None}getDragURI(W){return this.dnd.getDragURI(W.element)}getDragLabel(W,re){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(W.map(Te=>Te.element),re)}onDragStart(W,re){this.dnd.onDragStart&&this.dnd.onDragStart(Re(W),re)}onDragOver(W,re,Te,Ye,bt=!0){const $t=this.dnd.onDragOver(Re(W),re&&re.element,Te,Ye),si=this.autoExpandNode!==re;if(si&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=re),typeof re=="undefined")return $t;if(si&&typeof $t!="boolean"&&$t.autoExpand&&(this.autoExpandDisposable=(0,m.Vg)(()=>{const cn=this.modelProvider(),Ii=cn.getNodeLocation(re);cn.isCollapsed(Ii)&&cn.setCollapsed(Ii,!1),this.autoExpandNode=void 0},500)),typeof $t=="boolean"||!$t.accept||typeof $t.bubble=="undefined"||$t.feedback){if(!bt){const cn=typeof $t=="boolean"?$t:$t.accept,Ii=typeof $t=="boolean"?void 0:$t.effect;return{accept:cn,effect:Ii,feedback:[Te]}}return $t}if($t.bubble===1){const cn=this.modelProvider(),Ii=cn.getNodeLocation(re),ln=cn.getParentNodeLocation(Ii),nn=cn.getNode(ln),wn=ln&&cn.getListIndex(ln);return this.onDragOver(W,nn,wn,Ye,!1)}const gi=this.modelProvider(),Oi=gi.getNodeLocation(re),xi=gi.getListIndex(Oi),Hi=gi.getListRenderCount(Oi);return Object.assign(Object.assign({},$t),{feedback:(0,O.w6)(xi,xi+Hi)})}drop(W,re,Te,Ye){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(Re(W),re&&re.element,Te,Ye)}onDragEnd(W){this.dnd.onDragEnd&&this.dnd.onDragEnd(W)}}function Dt(Nt,W){return W&&Object.assign(Object.assign({},W),{identityProvider:W.identityProvider&&{getId(re){return W.identityProvider.getId(re.element)}},dnd:W.dnd&&new et(Nt,W.dnd),multipleSelectionController:W.multipleSelectionController&&{isSelectionSingleChangeEvent(re){return W.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},re),{element:re.element}))},isSelectionRangeChangeEvent(re){return W.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},re),{element:re.element}))}},accessibilityProvider:W.accessibilityProvider&&Object.assign(Object.assign({},W.accessibilityProvider),{getSetSize(re){const Te=Nt(),Ye=Te.getNodeLocation(re),bt=Te.getParentNodeLocation(Ye);return Te.getNode(bt).visibleChildrenCount},getPosInSet(re){return re.visibleChildIndex+1},isChecked:W.accessibilityProvider&&W.accessibilityProvider.isChecked?re=>W.accessibilityProvider.isChecked(re.element):void 0,getRole:W.accessibilityProvider&&W.accessibilityProvider.getRole?re=>W.accessibilityProvider.getRole(re.element):()=>"treeitem",getAriaLabel(re){return W.accessibilityProvider.getAriaLabel(re.element)},getWidgetAriaLabel(){return W.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:W.accessibilityProvider&&W.accessibilityProvider.getWidgetRole?()=>W.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:W.accessibilityProvider&&W.accessibilityProvider.getAriaLevel?re=>W.accessibilityProvider.getAriaLevel(re.element):re=>re.depth,getActiveDescendantId:W.accessibilityProvider.getActiveDescendantId&&(re=>W.accessibilityProvider.getActiveDescendantId(re.element))}),keyboardNavigationLabelProvider:W.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},W.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(re){return W.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(re.element)}}),enableKeyboardNavigation:W.simpleKeyboardNavigation})}class ht{constructor(W){this.delegate=W}getHeight(W){return this.delegate.getHeight(W.element)}getTemplateId(W){return this.delegate.getTemplateId(W.element)}hasDynamicHeight(W){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(W.element)}setDynamicHeight(W,re){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(W.element,re)}}var Mt;(function(Nt){Nt.None="none",Nt.OnHover="onHover",Nt.Always="always"})(Mt||(Mt={}));class Je{constructor(W,re=[]){this._elements=re,this.onDidChange=P.ju.forEach(W,Te=>this._elements=Te)}get elements(){return this._elements}}class tt{constructor(W,re,Te,Ye,bt={}){this.renderer=W,this.modelProvider=re,this.activeNodes=Ye,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=tt.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new b.r,this.activeIndentNodes=new Set,this.indentGuidesDisposable=y.JT.None,this.disposables=new y.SL,this.templateId=W.templateId,this.updateOptions(bt),P.ju.map(Te,$t=>$t.node)(this.onDidChangeNodeTwistieState,this,this.disposables),W.onDidChangeTwistieState&&W.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(W={}){if(typeof W.indent!="undefined"&&(this.indent=(0,te.u)(W.indent,0,40)),typeof W.renderIndentGuides!="undefined"){const re=W.renderIndentGuides!==Mt.None;if(re!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=re,this.indentGuidesDisposable.dispose(),re)){const Te=new y.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Te),this.indentGuidesDisposable=Te,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof W.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=W.hideTwistiesOfChildlessElements)}renderTemplate(W){const re=(0,E.R3)(W,(0,E.$)(".monaco-tl-row")),Te=(0,E.R3)(re,(0,E.$)(".monaco-tl-indent")),Ye=(0,E.R3)(re,(0,E.$)(".monaco-tl-twistie")),bt=(0,E.R3)(re,(0,E.$)(".monaco-tl-contents")),$t=this.renderer.renderTemplate(bt);return{container:W,indent:Te,twistie:Ye,indentGuidesDisposable:y.JT.None,templateData:$t}}renderElement(W,re,Te,Ye){typeof Ye=="number"&&(this.renderedNodes.set(W,{templateData:Te,height:Ye}),this.renderedElements.set(W.element,W));const bt=tt.DefaultIndent+(W.depth-1)*this.indent;Te.twistie.style.paddingLeft=`${bt}px`,Te.indent.style.width=`${bt+this.indent-16}px`,this.renderTwistie(W,Te),typeof Ye=="number"&&this.renderIndentGuides(W,Te),this.renderer.renderElement(W,re,Te.templateData,Ye)}disposeElement(W,re,Te,Ye){Te.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(W,re,Te.templateData,Ye),typeof Ye=="number"&&(this.renderedNodes.delete(W),this.renderedElements.delete(W.element))}disposeTemplate(W){this.renderer.disposeTemplate(W.templateData)}onDidChangeTwistieState(W){const re=this.renderedElements.get(W);re&&this.onDidChangeNodeTwistieState(re)}onDidChangeNodeTwistieState(W){const re=this.renderedNodes.get(W);re&&(this.renderTwistie(W,re.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(W,re.templateData))}renderTwistie(W,re){re.twistie.classList.remove(...le.classNamesArray);let Te=!1;this.renderer.renderTwistie&&(Te=this.renderer.renderTwistie(W.element,re.twistie)),W.collapsible&&(!this.hideTwistiesOfChildlessElements||W.visibleChildrenCount>0)?(Te||re.twistie.classList.add(...le.classNamesArray),re.twistie.classList.add("collapsible"),re.twistie.classList.toggle("collapsed",W.collapsed)):re.twistie.classList.remove("collapsible","collapsed"),W.collapsible?re.container.setAttribute("aria-expanded",String(!W.collapsed)):re.container.removeAttribute("aria-expanded")}renderIndentGuides(W,re){if((0,E.PO)(re.indent),re.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const Te=new y.SL,Ye=this.modelProvider();let bt=W;for(;;){const $t=Ye.getNodeLocation(bt),si=Ye.getParentNodeLocation($t);if(!si)break;const gi=Ye.getNode(si),Oi=(0,E.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(gi)&&Oi.classList.add("active"),re.indent.childElementCount===0?re.indent.appendChild(Oi):re.indent.insertBefore(Oi,re.indent.firstElementChild),this.renderedIndentGuides.add(gi,Oi),Te.add((0,y.OF)(()=>this.renderedIndentGuides.delete(gi,Oi))),bt=gi}re.indentGuidesDisposable=Te}_onDidChangeActiveNodes(W){if(!this.shouldRenderIndentGuides)return;const re=new Set,Te=this.modelProvider();W.forEach(Ye=>{const bt=Te.getNodeLocation(Ye);try{const $t=Te.getParentNodeLocation(bt);Ye.collapsible&&Ye.children.length>0&&!Ye.collapsed?re.add(Ye):$t&&re.add(Te.getNode($t))}catch($t){}}),this.activeIndentNodes.forEach(Ye=>{re.has(Ye)||this.renderedIndentGuides.forEach(Ye,bt=>bt.classList.remove("active"))}),re.forEach(Ye=>{this.activeIndentNodes.has(Ye)||this.renderedIndentGuides.forEach(Ye,bt=>bt.classList.add("active"))}),this.activeIndentNodes=re}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,y.B9)(this.disposables)}}tt.DefaultIndent=8;class ke{constructor(W,re,Te){this.tree=W,this.keyboardNavigationLabelProvider=re,this._filter=Te,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new y.SL,W.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(W){this._pattern=W,this._lowercasePattern=W.toLowerCase()}filter(W,re){if(this._filter){const bt=this._filter.filter(W,re);if(this.tree.options.simpleKeyboardNavigation)return bt;let $t;if(typeof bt=="boolean"?$t=bt?1:0:ee(bt)?$t=de(bt.visibility):$t=bt,$t===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:F.CL.Default,visibility:!0};const Te=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(W),Ye=Array.isArray(Te)?Te:[Te];for(const bt of Ye){const $t=bt&&bt.toString();if(typeof $t=="undefined")return{data:F.CL.Default,visibility:!0};const si=(0,F.EW)(this._pattern,this._lowercasePattern,0,$t,$t.toLowerCase(),0,!0);if(si)return this._matchCount++,Ye.length===1?{data:si,visibility:!0}:{data:{label:$t,score:si},visibility:!0}}return this.tree.options.filterOnType?2:{data:F.CL.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,y.B9)(this.disposables)}}class fe{constructor(W,re,Te,Ye,bt){this.tree=W,this.view=Te,this.filter=Ye,this.keyboardNavigationDelegate=bt,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new P.Q5,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new P.Q5,this.enabledDisposables=new y.SL,this.disposables=new y.SL,this.domNode=(0,E.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,E.nm)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,E.R3)(Te.getHTMLElement(),(0,E.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,E.R3)(this.domNode,(0,E.$)("span.label"));const $t=(0,E.R3)(this.domNode,(0,E.$)(".controls"));this._filterOnType=!!W.options.filterOnType,this.filterOnTypeDomNode=(0,E.R3)($t,(0,E.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,E.nm)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,E.R3)($t,(0,E.$)("button.clear"+G.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,ue.N)("clear","Clear"),this.keyboardNavigationEventFilter=W.options.keyboardNavigationEventFilter,re.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(W.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(W){W.simpleKeyboardNavigation?this.disable():this.enable(),typeof W.filterOnType!="undefined"&&(this._filterOnType=!!W.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof W.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=W.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const W=this.enabledDisposables.add(new p.Y(this.view.getHTMLElement(),"keydown")),re=P.ju.chain(W.event).filter(Ye=>!(0,R.cK)(Ye.target)||Ye.target===this.filterOnTypeDomNode).filter(Ye=>Ye.key!=="Dead"&&!/^Media/.test(Ye.key)).map(Ye=>new S.y(Ye)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(Ye=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(Ye)&&!(Ye.keyCode===18||Ye.keyCode===16||Ye.keyCode===15||Ye.keyCode===17)||(this.pattern.length>0||this.triggered)&&(Ye.keyCode===9||Ye.keyCode===1)&&!Ye.altKey&&!Ye.ctrlKey&&!Ye.metaKey||Ye.keyCode===1&&(me.dz?Ye.altKey&&!Ye.metaKey:Ye.ctrlKey)&&!Ye.shiftKey).forEach(Ye=>{Ye.stopPropagation(),Ye.preventDefault()}).event,Te=this.enabledDisposables.add(new p.Y(this.clearDomNode,"click"));P.ju.chain(P.ju.any(re,Te.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(W){typeof W=="string"?this.onInput(W):W instanceof MouseEvent||W.keyCode===9||W.keyCode===1&&(me.dz?W.altKey:W.ctrlKey)?this.onInput(""):W.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+W.browserEvent.key)}onInput(W){const re=this.view.getHTMLElement();W&&!this.domNode.parentElement?re.append(this.domNode):!W&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=W,this._onDidChangePattern.fire(W),this.filter.pattern=W,this.tree.refilter(),W&&this.tree.focusNext(0,!0,void 0,Ye=>!F.CL.isDefault(Ye.filterData));const Te=this.tree.getFocus();if(Te.length>0){const Ye=Te[0];this.tree.getRelativeTop(Ye)===null&&this.tree.reveal(Ye,.5)}this.render(),W||(this.triggered=!1)}onDragStart(){const W=this.view.getHTMLElement(),{left:re}=(0,E.i)(W),Te=W.clientWidth,Ye=Te/2,bt=this.domNode.clientWidth,$t=new y.SL;let si=this.positionClassName;const gi=()=>{switch(si){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${Te-bt-6}px`;break}},Oi=Hi=>{Hi.preventDefault();const cn=Hi.clientX-re;Hi.dataTransfer&&(Hi.dataTransfer.dropEffect="none"),cn<Ye?si="nw":si="ne",gi()},xi=()=>{this.positionClassName=si,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,y.B9)($t)};gi(),this.domNode.classList.remove(si),this.domNode.classList.add("dragging"),$t.add((0,y.OF)(()=>this.domNode.classList.remove("dragging"))),$t.add((0,E.nm)(document,"dragover",Hi=>Oi(Hi))),$t.add((0,E.nm)(this.domNode,"dragend",()=>xi())),f.P$.CurrentDragAndDropData=new f.TN("vscode-ui"),$t.add((0,y.OF)(()=>f.P$.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...j.classNamesArray),this.filterOnTypeDomNode.classList.add(...Y.classNamesArray),this.filterOnTypeDomNode.title=(0,ue.N)("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...Y.classNamesArray),this.filterOnTypeDomNode.classList.add(...j.classNamesArray),this.filterOnTypeDomNode.title=(0,ue.N)("enable filter on type","Enable Filter on Type"))}render(){const W=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&W?(this.messageDomNode.textContent=(0,ue.N)("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",W),this.domNode.title=(0,ue.N)("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(W){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!F.CL.isDefault(W.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,y.B9)(this.disposables)}}function Ie(Nt){let W=h.Unknown;return(0,E.uU)(Nt.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?W=h.Twistie:(0,E.uU)(Nt.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(W=h.Element),{browserEvent:Nt.browserEvent,element:Nt.element?Nt.element.element:null,target:W}}function nt(Nt,W){W(Nt),Nt.children.forEach(re=>nt(re,W))}class at{constructor(W,re){this.getFirstViewElementWithTrait=W,this.identityProvider=re,this.nodes=[],this._onDidChange=new P.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(W,re){var Te;!(!((Te=re)===null||Te===void 0)&&Te.__forceEvent)&&(0,O.fS)(this.nodes,W)||this._set(W,!1,re)}_set(W,re,Te){if(this.nodes=[...W],this.elements=void 0,this._nodeSet=void 0,!re){const Ye=this;this._onDidChange.fire({get elements(){return Ye.get()},browserEvent:Te})}}get(){return this.elements||(this.elements=this.nodes.map(W=>W.element)),[...this.elements]}getNodes(){return this.nodes}has(W){return this.nodeSet.has(W)}onDidModelSplice({insertedNodes:W,deletedNodes:re}){if(!this.identityProvider){const gi=this.createNodeSet(),Oi=xi=>gi.delete(xi);re.forEach(xi=>nt(xi,Oi)),this.set([...gi.values()]);return}const Te=new Set,Ye=gi=>Te.add(this.identityProvider.getId(gi.element).toString());re.forEach(gi=>nt(gi,Ye));const bt=new Map,$t=gi=>bt.set(this.identityProvider.getId(gi.element).toString(),gi);W.forEach(gi=>nt(gi,$t));const si=[];for(const gi of this.nodes){const Oi=this.identityProvider.getId(gi.element).toString();if(!Te.has(Oi))si.push(gi);else{const Hi=bt.get(Oi);Hi&&si.push(Hi)}}if(this.nodes.length>0&&si.length===0){const gi=this.getFirstViewElementWithTrait();gi&&si.push(gi)}this._set(si,!0)}createNodeSet(){const W=new Set;for(const re of this.nodes)W.add(re);return W}}class ot extends R.sx{constructor(W,re){super(W),this.tree=re}onViewPointer(W){if((0,R.cK)(W.browserEvent.target)||(0,R.hD)(W.browserEvent.target))return;const re=W.element;if(!re)return super.onViewPointer(W);if(this.isSelectionRangeChangeEvent(W)||this.isSelectionSingleChangeEvent(W))return super.onViewPointer(W);const Te=W.browserEvent.target,Ye=Te.classList.contains("monaco-tl-twistie")||Te.classList.contains("monaco-icon-label")&&Te.classList.contains("folder-icon")&&W.browserEvent.offsetX<16;let bt=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?bt=this.tree.expandOnlyOnTwistieClick(re.element):bt=!!this.tree.expandOnlyOnTwistieClick,bt&&!Ye&&W.browserEvent.detail!==2)return super.onViewPointer(W);if(!this.tree.expandOnDoubleClick&&W.browserEvent.detail===2)return super.onViewPointer(W);if(re.collapsible){const $t=this.tree.model,si=$t.getNodeLocation(re),gi=W.browserEvent.altKey;if(this.tree.setFocus([si]),$t.setCollapsed(si,void 0,gi),bt&&Ye)return}super.onViewPointer(W)}onDoubleClick(W){W.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(W)}}class Ne extends R.aV{constructor(W,re,Te,Ye,bt,$t,si,gi){super(W,re,Te,Ye,gi),this.focusTrait=bt,this.selectionTrait=$t,this.anchorTrait=si}createMouseController(W){return new ot(this,W.tree)}splice(W,re,Te=[]){if(super.splice(W,re,Te),Te.length===0)return;const Ye=[],bt=[];let $t;Te.forEach((si,gi)=>{this.focusTrait.has(si)&&Ye.push(W+gi),this.selectionTrait.has(si)&&bt.push(W+gi),this.anchorTrait.has(si)&&($t=W+gi)}),Ye.length>0&&super.setFocus((0,O.EB)([...super.getFocus(),...Ye])),bt.length>0&&super.setSelection((0,O.EB)([...super.getSelection(),...bt])),typeof $t=="number"&&super.setAnchor($t)}setFocus(W,re,Te=!1){super.setFocus(W,re),Te||this.focusTrait.set(W.map(Ye=>this.element(Ye)),re)}setSelection(W,re,Te=!1){super.setSelection(W,re),Te||this.selectionTrait.set(W.map(Ye=>this.element(Ye)),re)}setAnchor(W,re=!1){super.setAnchor(W),re||(typeof W=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(W)]))}}class Pe{constructor(W,re,Te,Ye,bt={}){this._options=bt,this.eventBufferer=new P.E7,this.disposables=new y.SL,this._onWillRefilter=new P.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new P.Q5;const $t=new ht(Te),si=new P.ZD,gi=new P.ZD,Oi=new Je(gi.event);this.renderers=Ye.map(cn=>new tt(cn,()=>this.model,si.event,Oi,bt));for(let cn of this.renderers)this.disposables.add(cn);let xi;bt.keyboardNavigationLabelProvider&&(xi=new ke(this,bt.keyboardNavigationLabelProvider,bt.filter),bt=Object.assign(Object.assign({},bt),{filter:xi}),this.disposables.add(xi)),this.focus=new at(()=>this.view.getFocusedElements()[0],bt.identityProvider),this.selection=new at(()=>this.view.getSelectedElements()[0],bt.identityProvider),this.anchor=new at(()=>this.view.getAnchorElement(),bt.identityProvider),this.view=new Ne(W,re,$t,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},Dt(()=>this.model,bt)),{tree:this})),this.model=this.createModel(W,this.view,bt),si.input=this.model.onDidChangeCollapseState;const Hi=P.ju.forEach(this.model.onDidSplice,cn=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(cn),this.selection.onDidModelSplice(cn)})});if(Hi(()=>null,null,this.disposables),gi.input=P.ju.chain(P.ju.any(Hi,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const cn=new Set;for(const Ii of this.focus.getNodes())cn.add(Ii);for(const Ii of this.selection.getNodes())cn.add(Ii);return[...cn.values()]}).event,bt.keyboardSupport!==!1){const cn=P.ju.chain(this.view.onKeyDown).filter(Ii=>!(0,R.cK)(Ii.target)).map(Ii=>new S.y(Ii));cn.filter(Ii=>Ii.keyCode===15).on(this.onLeftArrow,this,this.disposables),cn.filter(Ii=>Ii.keyCode===17).on(this.onRightArrow,this,this.disposables),cn.filter(Ii=>Ii.keyCode===10).on(this.onSpace,this,this.disposables)}if(bt.keyboardNavigationLabelProvider){const cn=bt.keyboardNavigationDelegate||R.WK;this.typeFilterController=new fe(this,this.model,this.view,xi,cn),this.focusNavigationFilter=Ii=>this.typeFilterController.shouldAllowFocus(Ii),this.disposables.add(this.typeFilterController)}this.styleElement=(0,E.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Mt.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return P.ju.map(this.view.onMouseDblClick,Ie)}get onPointer(){return P.ju.map(this.view.onPointer,Ie)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(W={}){this._options=Object.assign(Object.assign({},this._options),W);for(const re of this.renderers)re.updateOptions(W);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Mt.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(W){this.view.scrollTop=W}domFocus(){this.view.domFocus()}layout(W,re){this.view.layout(W,re)}style(W){const re=`.${this.view.domId}`,Te=[];W.treeIndentGuidesStroke&&(Te.push(`.monaco-list${re}:hover .monaco-tl-indent > .indent-guide, .monaco-list${re}.always .monaco-tl-indent > .indent-guide  { border-color: ${W.treeIndentGuidesStroke.transparent(.4)}; }`),Te.push(`.monaco-list${re} .monaco-tl-indent > .indent-guide.active { border-color: ${W.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=Te.join(`
`),this.view.style(W)}collapse(W,re=!1){return this.model.setCollapsed(W,!0,re)}expand(W,re=!1){return this.model.setCollapsed(W,!1,re)}isCollapsible(W){return this.model.isCollapsible(W)}setCollapsible(W,re){return this.model.setCollapsible(W,re)}isCollapsed(W){return this.model.isCollapsed(W)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(W,re){const Te=W.map(bt=>this.model.getNode(bt));this.selection.set(Te,re);const Ye=W.map(bt=>this.model.getListIndex(bt)).filter(bt=>bt>-1);this.view.setSelection(Ye,re,!0)}getSelection(){return this.selection.get()}setFocus(W,re){const Te=W.map(bt=>this.model.getNode(bt));this.focus.set(Te,re);const Ye=W.map(bt=>this.model.getListIndex(bt)).filter(bt=>bt>-1);this.view.setFocus(Ye,re,!0)}focusNext(W=1,re=!1,Te,Ye=this.focusNavigationFilter){this.view.focusNext(W,re,Te,Ye)}getFocus(){return this.focus.get()}reveal(W,re){this.model.expandTo(W);const Te=this.model.getListIndex(W);Te!==-1&&this.view.reveal(Te,re)}getRelativeTop(W){const re=this.model.getListIndex(W);return re===-1?null:this.view.getRelativeTop(re)}onLeftArrow(W){W.preventDefault(),W.stopPropagation();const re=this.view.getFocusedElements();if(re.length===0)return;const Te=re[0],Ye=this.model.getNodeLocation(Te);if(!this.model.setCollapsed(Ye,!0)){const $t=this.model.getParentNodeLocation(Ye);if(!$t)return;const si=this.model.getListIndex($t);this.view.reveal(si),this.view.setFocus([si])}}onRightArrow(W){W.preventDefault(),W.stopPropagation();const re=this.view.getFocusedElements();if(re.length===0)return;const Te=re[0],Ye=this.model.getNodeLocation(Te);if(!this.model.setCollapsed(Ye,!1)){if(!Te.children.some(gi=>gi.visible))return;const[$t]=this.view.getFocus(),si=$t+1;this.view.reveal(si),this.view.setFocus([si])}}onSpace(W){W.preventDefault(),W.stopPropagation();const re=this.view.getFocusedElements();if(re.length===0)return;const Te=re[0],Ye=this.model.getNodeLocation(Te),bt=W.browserEvent.altKey;this.model.setCollapsed(Ye,void 0,bt)}dispose(){(0,y.B9)(this.disposables),this.view.dispose()}}class ye{constructor(W,re,Te={}){this.user=W,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new ve(W,re,null,Te),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,Te.sorter&&(this.sorter={compare(Ye,bt){return Te.sorter.compare(Ye.element,bt.element)}}),this.identityProvider=Te.identityProvider}setChildren(W,re=$.$.empty(),Te={}){const Ye=this.getElementLocation(W);this._setChildren(Ye,this.preserveCollapseState(re),Te)}_setChildren(W,re=$.$.empty(),Te){const Ye=new Set,bt=new Set,$t=gi=>{var Oi;if(gi.element===null)return;const xi=gi;if(Ye.add(xi.element),this.nodes.set(xi.element,xi),this.identityProvider){const Hi=this.identityProvider.getId(xi.element).toString();bt.add(Hi),this.nodesByIdentity.set(Hi,xi)}(Oi=Te.onDidCreateNode)===null||Oi===void 0||Oi.call(Te,xi)},si=gi=>{var Oi;if(gi.element===null)return;const xi=gi;if(Ye.has(xi.element)||this.nodes.delete(xi.element),this.identityProvider){const Hi=this.identityProvider.getId(xi.element).toString();bt.has(Hi)||this.nodesByIdentity.delete(Hi)}(Oi=Te.onDidDeleteNode)===null||Oi===void 0||Oi.call(Te,xi)};this.model.splice([...W,0],Number.MAX_VALUE,re,Object.assign(Object.assign({},Te),{onDidCreateNode:$t,onDidDeleteNode:si}))}preserveCollapseState(W=$.$.empty()){return this.sorter&&(W=[...W].sort(this.sorter.compare.bind(this.sorter))),$.$.map(W,re=>{let Te=this.nodes.get(re.element);if(!Te&&this.identityProvider){const $t=this.identityProvider.getId(re.element).toString();Te=this.nodesByIdentity.get($t)}if(!Te)return Object.assign(Object.assign({},re),{children:this.preserveCollapseState(re.children)});const Ye=typeof re.collapsible=="boolean"?re.collapsible:Te.collapsible,bt=typeof re.collapsed!="undefined"?re.collapsed:Te.collapsed;return Object.assign(Object.assign({},re),{collapsible:Ye,collapsed:bt,children:this.preserveCollapseState(re.children)})})}rerender(W){const re=this.getElementLocation(W);this.model.rerender(re)}has(W){return this.nodes.has(W)}getListIndex(W){const re=this.getElementLocation(W);return this.model.getListIndex(re)}getListRenderCount(W){const re=this.getElementLocation(W);return this.model.getListRenderCount(re)}isCollapsible(W){const re=this.getElementLocation(W);return this.model.isCollapsible(re)}setCollapsible(W,re){const Te=this.getElementLocation(W);return this.model.setCollapsible(Te,re)}isCollapsed(W){const re=this.getElementLocation(W);return this.model.isCollapsed(re)}setCollapsed(W,re,Te){const Ye=this.getElementLocation(W);return this.model.setCollapsed(Ye,re,Te)}expandTo(W){const re=this.getElementLocation(W);this.model.expandTo(re)}refilter(){this.model.refilter()}getNode(W=null){if(W===null)return this.model.getNode(this.model.rootRef);const re=this.nodes.get(W);if(!re)throw new L(this.user,`Tree element not found: ${W}`);return re}getNodeLocation(W){return W.element}getParentNodeLocation(W){if(W===null)throw new L(this.user,"Invalid getParentNodeLocation call");const re=this.nodes.get(W);if(!re)throw new L(this.user,`Tree element not found: ${W}`);const Te=this.model.getNodeLocation(re),Ye=this.model.getParentNodeLocation(Te);return this.model.getNode(Ye).element}getElementLocation(W){if(W===null)return[];const re=this.nodes.get(W);if(!re)throw new L(this.user,`Tree element not found: ${W}`);return this.model.getNodeLocation(re)}}function Ze(Nt){const W=[Nt.element],re=Nt.incompressible||!1;return{element:{elements:W,incompressible:re},children:$.$.map($.$.from(Nt.children),Ze),collapsible:Nt.collapsible,collapsed:Nt.collapsed}}function it(Nt){const W=[Nt.element],re=Nt.incompressible||!1;let Te,Ye;for(;[Ye,Te]=$.$.consume($.$.from(Nt.children),2),!(Ye.length!==1||Ye[0].incompressible);)Nt=Ye[0],W.push(Nt.element);return{element:{elements:W,incompressible:re},children:$.$.map($.$.concat(Ye,Te),it),collapsible:Nt.collapsible,collapsed:Nt.collapsed}}function Ft(Nt,W=0){let re;return W<Nt.element.elements.length-1?re=[Ft(Nt,W+1)]:re=$.$.map($.$.from(Nt.children),Te=>Ft(Te,0)),W===0&&Nt.element.incompressible?{element:Nt.element.elements[W],children:re,incompressible:!0,collapsible:Nt.collapsible,collapsed:Nt.collapsed}:{element:Nt.element.elements[W],children:re,collapsible:Nt.collapsible,collapsed:Nt.collapsed}}function ei(Nt){return Ft(Nt,0)}function bi(Nt,W,re){return Nt.element===W?Object.assign(Object.assign({},Nt),{children:re}):Object.assign(Object.assign({},Nt),{children:$.$.map($.$.from(Nt.children),Te=>bi(Te,W,re))})}const ii=Nt=>({getId(W){return W.elements.map(re=>Nt.getId(re).toString()).join("\0")}});class Ot{constructor(W,re,Te={}){this.user=W,this.rootRef=null,this.nodes=new Map,this.model=new ye(W,re,Te),this.enabled=typeof Te.compressionEnabled=="undefined"?!0:Te.compressionEnabled,this.identityProvider=Te.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(W,re=$.$.empty(),Te){const Ye=Te.diffIdentityProvider&&ii(Te.diffIdentityProvider);if(W===null){const Ii=$.$.map(re,this.enabled?it:Ze);this._setChildren(null,Ii,{diffIdentityProvider:Ye,diffDepth:1/0});return}const bt=this.nodes.get(W);if(!bt)throw new Error("Unknown compressed tree node");const $t=this.model.getNode(bt),si=this.model.getParentNodeLocation(bt),gi=this.model.getNode(si),Oi=ei($t),xi=bi(Oi,W,re),Hi=(this.enabled?it:Ze)(xi),cn=gi.children.map(Ii=>Ii===$t?Hi:Ii);this._setChildren(gi.element,cn,{diffIdentityProvider:Ye,diffDepth:$t.depth-gi.depth})}setCompressionEnabled(W){if(W===this.enabled)return;this.enabled=W;const Te=this.model.getNode().children,Ye=$.$.map(Te,ei),bt=$.$.map(Ye,W?it:Ze);this._setChildren(null,bt,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(W,re,Te){const Ye=new Set,bt=si=>{for(const gi of si.element.elements)Ye.add(gi),this.nodes.set(gi,si.element)},$t=si=>{for(const gi of si.element.elements)Ye.has(gi)||this.nodes.delete(gi)};this.model.setChildren(W,re,Object.assign(Object.assign({},Te),{onDidCreateNode:bt,onDidDeleteNode:$t}))}has(W){return this.nodes.has(W)}getListIndex(W){const re=this.getCompressedNode(W);return this.model.getListIndex(re)}getListRenderCount(W){const re=this.getCompressedNode(W);return this.model.getListRenderCount(re)}getNode(W){if(typeof W=="undefined")return this.model.getNode();const re=this.getCompressedNode(W);return this.model.getNode(re)}getNodeLocation(W){const re=this.model.getNodeLocation(W);return re===null?null:re.elements[re.elements.length-1]}getParentNodeLocation(W){const re=this.getCompressedNode(W),Te=this.model.getParentNodeLocation(re);return Te===null?null:Te.elements[Te.elements.length-1]}isCollapsible(W){const re=this.getCompressedNode(W);return this.model.isCollapsible(re)}setCollapsible(W,re){const Te=this.getCompressedNode(W);return this.model.setCollapsible(Te,re)}isCollapsed(W){const re=this.getCompressedNode(W);return this.model.isCollapsed(re)}setCollapsed(W,re,Te){const Ye=this.getCompressedNode(W);return this.model.setCollapsed(Ye,re,Te)}expandTo(W){const re=this.getCompressedNode(W);this.model.expandTo(re)}rerender(W){const re=this.getCompressedNode(W);this.model.rerender(re)}refilter(){this.model.refilter()}getCompressedNode(W){if(W===null)return null;const re=this.nodes.get(W);if(!re)throw new L(this.user,`Tree element not found: ${W}`);return re}}const en=Nt=>Nt[Nt.length-1];class ui{constructor(W,re){this.unwrapper=W,this.node=re}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(W=>new ui(this.unwrapper,W))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function Ke(Nt,W){return{splice(re,Te,Ye){W.splice(re,Te,Ye.map(bt=>Nt.map(bt)))},updateElementHeight(re,Te){W.updateElementHeight(re,Te)}}}function st(Nt,W){return Object.assign(Object.assign({},W),{identityProvider:W.identityProvider&&{getId(re){return W.identityProvider.getId(Nt(re))}},sorter:W.sorter&&{compare(re,Te){return W.sorter.compare(re.elements[0],Te.elements[0])}},filter:W.filter&&{filter(re,Te){return W.filter.filter(Nt(re),Te)}}})}class Mi{constructor(W,re,Te={}){this.rootRef=null,this.elementMapper=Te.elementMapper||en;const Ye=bt=>this.elementMapper(bt.elements);this.nodeMapper=new v(bt=>new ui(Ye,bt)),this.model=new Ot(W,Ke(this.nodeMapper,re),st(Ye,Te))}get onDidSplice(){return P.ju.map(this.model.onDidSplice,({insertedNodes:W,deletedNodes:re})=>({insertedNodes:W.map(Te=>this.nodeMapper.map(Te)),deletedNodes:re.map(Te=>this.nodeMapper.map(Te))}))}get onDidChangeCollapseState(){return P.ju.map(this.model.onDidChangeCollapseState,({node:W,deep:re})=>({node:this.nodeMapper.map(W),deep:re}))}get onDidChangeRenderNodeCount(){return P.ju.map(this.model.onDidChangeRenderNodeCount,W=>this.nodeMapper.map(W))}setChildren(W,re=$.$.empty(),Te={}){this.model.setChildren(W,re,Te)}setCompressionEnabled(W){this.model.setCompressionEnabled(W)}has(W){return this.model.has(W)}getListIndex(W){return this.model.getListIndex(W)}getListRenderCount(W){return this.model.getListRenderCount(W)}getNode(W){return this.nodeMapper.map(this.model.getNode(W))}getNodeLocation(W){return W.element}getParentNodeLocation(W){return this.model.getParentNodeLocation(W)}isCollapsible(W){return this.model.isCollapsible(W)}setCollapsible(W,re){return this.model.setCollapsible(W,re)}isCollapsed(W){return this.model.isCollapsed(W)}setCollapsed(W,re,Te){return this.model.setCollapsed(W,re,Te)}expandTo(W){return this.model.expandTo(W)}rerender(W){return this.model.rerender(W)}refilter(){return this.model.refilter()}getCompressedTreeNode(W=null){return this.model.getNode(W)}}var ci=c(49898),zi=function(Nt,W,re,Te){var Ye=arguments.length,bt=Ye<3?W:Te===null?Te=Object.getOwnPropertyDescriptor(W,re):Te,$t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(Nt,W,re,Te);else for(var si=Nt.length-1;si>=0;si--)($t=Nt[si])&&(bt=(Ye<3?$t(bt):Ye>3?$t(W,re,bt):$t(W,re))||bt);return Ye>3&&bt&&Object.defineProperty(W,re,bt),bt};class kn extends Pe{constructor(W,re,Te,Ye,bt={}){super(W,re,Te,Ye,bt)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(W,re=$.$.empty(),Te){this.model.setChildren(W,re,Te)}rerender(W){if(W===void 0){this.view.rerender();return}this.model.rerender(W)}hasElement(W){return this.model.has(W)}createModel(W,re,Te){return new ye(W,re,Te)}}class Ki{constructor(W,re){this._compressedTreeNodeProvider=W,this.renderer=re,this.templateId=re.templateId,re.onDidChangeTwistieState&&(this.onDidChangeTwistieState=re.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(W){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(W)}}renderElement(W,re,Te,Ye){const bt=this.compressedTreeNodeProvider.getCompressedTreeNode(W.element);bt.element.elements.length===1?(Te.compressedTreeNode=void 0,this.renderer.renderElement(W,re,Te.data,Ye)):(Te.compressedTreeNode=bt,this.renderer.renderCompressedElements(bt,re,Te.data,Ye))}disposeElement(W,re,Te,Ye){Te.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(Te.compressedTreeNode,re,Te.data,Ye):this.renderer.disposeElement&&this.renderer.disposeElement(W,re,Te.data,Ye)}disposeTemplate(W){this.renderer.disposeTemplate(W.data)}renderTwistie(W,re){return this.renderer.renderTwistie?this.renderer.renderTwistie(W,re):!1}}zi([ci.H],Ki.prototype,"compressedTreeNodeProvider",null);function ls(Nt,W){return W&&Object.assign(Object.assign({},W),{keyboardNavigationLabelProvider:W.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(re){let Te;try{Te=Nt().getCompressedTreeNode(re)}catch(Ye){return W.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(re)}return Te.element.elements.length===1?W.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(re):W.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Te.element.elements)}}})}class Bn extends kn{constructor(W,re,Te,Ye,bt={}){const $t=()=>this,si=Ye.map(gi=>new Ki($t,gi));super(W,re,Te,si,ls($t,bt))}setChildren(W,re=$.$.empty(),Te){this.model.setChildren(W,re,Te)}createModel(W,re,Te){return new Mi(W,re,Te)}updateOptions(W={}){super.updateOptions(W),typeof W.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(W.compressionEnabled)}getCompressedTreeNode(W=null){return this.model.getCompressedTreeNode(W)}}var On=c(17301),Zi=function(Nt,W,re,Te){function Ye(bt){return bt instanceof re?bt:new re(function($t){$t(bt)})}return new(re||(re=Promise))(function(bt,$t){function si(xi){try{Oi(Te.next(xi))}catch(Hi){$t(Hi)}}function gi(xi){try{Oi(Te.throw(xi))}catch(Hi){$t(Hi)}}function Oi(xi){xi.done?bt(xi.value):Ye(xi.value).then(si,gi)}Oi((Te=Te.apply(Nt,W||[])).next())})};function Mn(Nt){return Object.assign(Object.assign({},Nt),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function an(Nt,W){return W.parent?W.parent===Nt?!0:an(Nt,W.parent):!1}function $e(Nt,W){return Nt===W||an(Nt,W)||an(W,Nt)}class Tt{constructor(W){this.node=W}get element(){return this.node.element.element}get children(){return this.node.children.map(W=>new Tt(W))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class It{constructor(W,re,Te){this.renderer=W,this.nodeMapper=re,this.onDidChangeTwistieState=Te,this.renderedNodes=new Map,this.templateId=W.templateId}renderTemplate(W){return{templateData:this.renderer.renderTemplate(W)}}renderElement(W,re,Te,Ye){this.renderer.renderElement(this.nodeMapper.map(W),re,Te.templateData,Ye)}renderTwistie(W,re){return W.slow?(re.classList.add(...q.classNamesArray),!0):(re.classList.remove(...q.classNamesArray),!1)}disposeElement(W,re,Te,Ye){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(W),re,Te.templateData,Ye)}disposeTemplate(W){this.renderer.disposeTemplate(W.templateData)}dispose(){this.renderedNodes.clear()}}function Ge(Nt){return{browserEvent:Nt.browserEvent,elements:Nt.elements.map(W=>W.element)}}function Xe(Nt){return{browserEvent:Nt.browserEvent,element:Nt.element&&Nt.element.element,target:Nt.target}}class kt extends x.kX{constructor(W){super(W.elements.map(re=>re.element)),this.data=W}}function At(Nt){return Nt instanceof x.kX?new kt(Nt):Nt}class Jt{constructor(W){this.dnd=W}getDragURI(W){return this.dnd.getDragURI(W.element)}getDragLabel(W,re){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(W.map(Te=>Te.element),re)}onDragStart(W,re){this.dnd.onDragStart&&this.dnd.onDragStart(At(W),re)}onDragOver(W,re,Te,Ye,bt=!0){return this.dnd.onDragOver(At(W),re&&re.element,Te,Ye)}drop(W,re,Te,Ye){this.dnd.drop(At(W),re&&re.element,Te,Ye)}onDragEnd(W){this.dnd.onDragEnd&&this.dnd.onDragEnd(W)}}function ai(Nt){return Nt&&Object.assign(Object.assign({},Nt),{collapseByDefault:!0,identityProvider:Nt.identityProvider&&{getId(W){return Nt.identityProvider.getId(W.element)}},dnd:Nt.dnd&&new Jt(Nt.dnd),multipleSelectionController:Nt.multipleSelectionController&&{isSelectionSingleChangeEvent(W){return Nt.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},W),{element:W.element}))},isSelectionRangeChangeEvent(W){return Nt.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},W),{element:W.element}))}},accessibilityProvider:Nt.accessibilityProvider&&Object.assign(Object.assign({},Nt.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:Nt.accessibilityProvider.getRole?W=>Nt.accessibilityProvider.getRole(W.element):()=>"treeitem",isChecked:Nt.accessibilityProvider.isChecked?W=>{var re;return!!(!((re=Nt.accessibilityProvider)===null||re===void 0)&&re.isChecked(W.element))}:void 0,getAriaLabel(W){return Nt.accessibilityProvider.getAriaLabel(W.element)},getWidgetAriaLabel(){return Nt.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:Nt.accessibilityProvider.getWidgetRole?()=>Nt.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:Nt.accessibilityProvider.getAriaLevel&&(W=>Nt.accessibilityProvider.getAriaLevel(W.element)),getActiveDescendantId:Nt.accessibilityProvider.getActiveDescendantId&&(W=>Nt.accessibilityProvider.getActiveDescendantId(W.element))}),filter:Nt.filter&&{filter(W,re){return Nt.filter.filter(W.element,re)}},keyboardNavigationLabelProvider:Nt.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},Nt.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(W){return Nt.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(W.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof Nt.expandOnlyOnTwistieClick=="undefined"?void 0:typeof Nt.expandOnlyOnTwistieClick!="function"?Nt.expandOnlyOnTwistieClick:W=>Nt.expandOnlyOnTwistieClick(W.element),additionalScrollHeight:Nt.additionalScrollHeight})}function yi(Nt,W){W(Nt),Nt.children.forEach(re=>yi(re,W))}class sn{constructor(W,re,Te,Ye,bt,$t={}){this.user=W,this.dataSource=bt,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new P.Q5,this._onDidChangeNodeSlowState=new P.Q5,this.nodeMapper=new v(si=>new Tt(si)),this.disposables=new y.SL,this.identityProvider=$t.identityProvider,this.autoExpandSingleChildren=typeof $t.autoExpandSingleChildren=="undefined"?!1:$t.autoExpandSingleChildren,this.sorter=$t.sorter,this.collapseByDefault=$t.collapseByDefault,this.tree=this.createTree(W,re,Te,Ye,$t),this.root=Mn({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return P.ju.map(this.tree.onDidChangeFocus,Ge)}get onDidChangeSelection(){return P.ju.map(this.tree.onDidChangeSelection,Ge)}get onMouseDblClick(){return P.ju.map(this.tree.onMouseDblClick,Xe)}get onPointer(){return P.ju.map(this.tree.onPointer,Xe)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(W,re,Te,Ye,bt){const $t=new ht(Te),si=Ye.map(Oi=>new It(Oi,this.nodeMapper,this._onDidChangeNodeSlowState.event)),gi=ai(bt)||{};return new kn(W,re,$t,si,gi)}updateOptions(W={}){this.tree.updateOptions(W)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(W){this.tree.scrollTop=W}domFocus(){this.tree.domFocus()}layout(W,re){this.tree.layout(W,re)}style(W){this.tree.style(W)}getInput(){return this.root.element}setInput(W,re){return Zi(this,void 0,void 0,function*(){this.refreshPromises.forEach(Ye=>Ye.cancel()),this.refreshPromises.clear(),this.root.element=W;const Te=re&&{viewState:re,focus:[],selection:[]};yield this._updateChildren(W,!0,!1,Te),Te&&(this.tree.setFocus(Te.focus),this.tree.setSelection(Te.selection)),re&&typeof re.scrollTop=="number"&&(this.scrollTop=re.scrollTop)})}_updateChildren(W=this.root.element,re=!0,Te=!1,Ye,bt){return Zi(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new L(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield P.ju.toPromise(this._onDidRender.event));const $t=this.getDataNode(W);if(yield this.refreshAndRenderNode($t,re,Ye,bt),Te)try{this.tree.rerender($t)}catch(si){}})}rerender(W){if(W===void 0||W===this.root.element){this.tree.rerender();return}const re=this.getDataNode(W);this.tree.rerender(re)}collapse(W,re=!1){const Te=this.getDataNode(W);return this.tree.collapse(Te===this.root?null:Te,re)}expand(W,re=!1){return Zi(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new L(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield P.ju.toPromise(this._onDidRender.event));const Te=this.getDataNode(W);if(this.tree.hasElement(Te)&&!this.tree.isCollapsible(Te)||(Te.refreshPromise&&(yield this.root.refreshPromise,yield P.ju.toPromise(this._onDidRender.event)),Te!==this.root&&!Te.refreshPromise&&!this.tree.isCollapsed(Te)))return!1;const Ye=this.tree.expand(Te===this.root?null:Te,re);return Te.refreshPromise&&(yield this.root.refreshPromise,yield P.ju.toPromise(this._onDidRender.event)),Ye})}setSelection(W,re){const Te=W.map(Ye=>this.getDataNode(Ye));this.tree.setSelection(Te,re)}getSelection(){return this.tree.getSelection().map(re=>re.element)}setFocus(W,re){const Te=W.map(Ye=>this.getDataNode(Ye));this.tree.setFocus(Te,re)}getFocus(){return this.tree.getFocus().map(re=>re.element)}reveal(W,re){this.tree.reveal(this.getDataNode(W),re)}getDataNode(W){const re=this.nodes.get(W===this.root.element?null:W);if(!re)throw new L(this.user,`Data tree node not found: ${W}`);return re}refreshAndRenderNode(W,re,Te,Ye){return Zi(this,void 0,void 0,function*(){yield this.refreshNode(W,re,Te),this.render(W,Te,Ye)})}refreshNode(W,re,Te){return Zi(this,void 0,void 0,function*(){let Ye;return this.subTreeRefreshPromises.forEach((bt,$t)=>{!Ye&&$e($t,W)&&(Ye=bt.then(()=>this.refreshNode(W,re,Te)))}),Ye||this.doRefreshSubTree(W,re,Te)})}doRefreshSubTree(W,re,Te){return Zi(this,void 0,void 0,function*(){let Ye;W.refreshPromise=new Promise(bt=>Ye=bt),this.subTreeRefreshPromises.set(W,W.refreshPromise),W.refreshPromise.finally(()=>{W.refreshPromise=void 0,this.subTreeRefreshPromises.delete(W)});try{const bt=yield this.doRefreshNode(W,re,Te);W.stale=!1,yield m.jT.settled(bt.map($t=>this.doRefreshSubTree($t,re,Te)))}finally{Ye()}})}doRefreshNode(W,re,Te){return Zi(this,void 0,void 0,function*(){W.hasChildren=!!this.dataSource.hasChildren(W.element);let Ye;if(!W.hasChildren)Ye=Promise.resolve($.$.empty());else{const bt=(0,m.Vs)(800);bt.then(()=>{W.slow=!0,this._onDidChangeNodeSlowState.fire(W)},$t=>null),Ye=this.doGetChildren(W).finally(()=>bt.cancel())}try{const bt=yield Ye;return this.setChildren(W,bt,re,Te)}catch(bt){if(W!==this.root&&this.tree.hasElement(W)&&this.tree.collapse(W),(0,On.VV)(bt))return[];throw bt}finally{W.slow&&(W.slow=!1,this._onDidChangeNodeSlowState.fire(W))}})}doGetChildren(W){let re=this.refreshPromises.get(W);return re||(re=(0,m.PG)(()=>Zi(this,void 0,void 0,function*(){const Te=yield this.dataSource.getChildren(W.element);return this.processChildren(Te)})),this.refreshPromises.set(W,re),re.finally(()=>{this.refreshPromises.delete(W)}))}_onDidChangeCollapseState({node:W,deep:re}){W.element!==null&&!W.collapsed&&W.element.stale&&(re?this.collapse(W.element.element):this.refreshAndRenderNode(W.element,!1).catch(On.dL))}setChildren(W,re,Te,Ye){const bt=[...re];if(W.children.length===0&&bt.length===0)return[];const $t=new Map,si=new Map;for(const xi of W.children)if($t.set(xi.element,xi),this.identityProvider){const Hi=this.tree.isCollapsed(xi);si.set(xi.id,{node:xi,collapsed:Hi})}const gi=[],Oi=bt.map(xi=>{const Hi=!!this.dataSource.hasChildren(xi);if(!this.identityProvider){const nn=Mn({element:xi,parent:W,hasChildren:Hi});return Hi&&this.collapseByDefault&&!this.collapseByDefault(xi)&&(nn.collapsedByDefault=!1,gi.push(nn)),nn}const cn=this.identityProvider.getId(xi).toString(),Ii=si.get(cn);if(Ii){const nn=Ii.node;return $t.delete(nn.element),this.nodes.delete(nn.element),this.nodes.set(xi,nn),nn.element=xi,nn.hasChildren=Hi,Te?Ii.collapsed?(nn.children.forEach(wn=>yi(wn,Gn=>this.nodes.delete(Gn.element))),nn.children.splice(0,nn.children.length),nn.stale=!0):gi.push(nn):Hi&&this.collapseByDefault&&!this.collapseByDefault(xi)&&(nn.collapsedByDefault=!1,gi.push(nn)),nn}const ln=Mn({element:xi,parent:W,id:cn,hasChildren:Hi});return Ye&&Ye.viewState.focus&&Ye.viewState.focus.indexOf(cn)>-1&&Ye.focus.push(ln),Ye&&Ye.viewState.selection&&Ye.viewState.selection.indexOf(cn)>-1&&Ye.selection.push(ln),Ye&&Ye.viewState.expanded&&Ye.viewState.expanded.indexOf(cn)>-1?gi.push(ln):Hi&&this.collapseByDefault&&!this.collapseByDefault(xi)&&(ln.collapsedByDefault=!1,gi.push(ln)),ln});for(const xi of $t.values())yi(xi,Hi=>this.nodes.delete(Hi.element));for(const xi of Oi)this.nodes.set(xi.element,xi);return W.children.splice(0,W.children.length,...Oi),W!==this.root&&this.autoExpandSingleChildren&&Oi.length===1&&gi.length===0&&(Oi[0].collapsedByDefault=!1,gi.push(Oi[0])),gi}render(W,re,Te){const Ye=W.children.map($t=>this.asTreeElement($t,re)),bt=Te&&Object.assign(Object.assign({},Te),{diffIdentityProvider:Te.diffIdentityProvider&&{getId($t){return Te.diffIdentityProvider.getId($t.element)}}});this.tree.setChildren(W===this.root?null:W,Ye,bt),W!==this.root&&this.tree.setCollapsible(W,W.hasChildren),this._onDidRender.fire()}asTreeElement(W,re){if(W.stale)return{element:W,collapsible:W.hasChildren,collapsed:!0};let Te;return re&&re.viewState.expanded&&W.id&&re.viewState.expanded.indexOf(W.id)>-1?Te=!1:Te=W.collapsedByDefault,W.collapsedByDefault=void 0,{element:W,children:W.hasChildren?$.$.map(W.children,Ye=>this.asTreeElement(Ye,re)):[],collapsible:W.hasChildren,collapsed:Te}}processChildren(W){return this.sorter&&(W=[...W].sort(this.sorter.compare.bind(this.sorter))),W}dispose(){this.disposables.dispose()}}class Ji{constructor(W){this.node=W}get element(){return{elements:this.node.element.elements.map(W=>W.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(W=>new Ji(W))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Qn{constructor(W,re,Te,Ye){this.renderer=W,this.nodeMapper=re,this.compressibleNodeMapperProvider=Te,this.onDidChangeTwistieState=Ye,this.renderedNodes=new Map,this.disposables=[],this.templateId=W.templateId}renderTemplate(W){return{templateData:this.renderer.renderTemplate(W)}}renderElement(W,re,Te,Ye){this.renderer.renderElement(this.nodeMapper.map(W),re,Te.templateData,Ye)}renderCompressedElements(W,re,Te,Ye){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(W),re,Te.templateData,Ye)}renderTwistie(W,re){return W.slow?(re.classList.add(...q.classNamesArray),!0):(re.classList.remove(...q.classNamesArray),!1)}disposeElement(W,re,Te,Ye){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(W),re,Te.templateData,Ye)}disposeCompressedElements(W,re,Te,Ye){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(W),re,Te.templateData,Ye)}disposeTemplate(W){this.renderer.disposeTemplate(W.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,y.B9)(this.disposables)}}function Ui(Nt){const W=Nt&&ai(Nt);return W&&Object.assign(Object.assign({},W),{keyboardNavigationLabelProvider:W.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},W.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(re){return Nt.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(re.map(Te=>Te.element))}})})}class on extends sn{constructor(W,re,Te,Ye,bt,$t,si={}){super(W,re,Te,bt,$t,si),this.compressionDelegate=Ye,this.compressibleNodeMapper=new v(gi=>new Ji(gi)),this.filter=si.filter}createTree(W,re,Te,Ye,bt){const $t=new ht(Te),si=Ye.map(Oi=>new Qn(Oi,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),gi=Ui(bt)||{};return new Bn(W,re,$t,si,gi)}asTreeElement(W,re){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(W.element)},super.asTreeElement(W,re))}updateOptions(W={}){this.tree.updateOptions(W)}render(W,re){if(!this.identityProvider)return super.render(W,re);const Te=cn=>this.identityProvider.getId(cn).toString(),Ye=cn=>{const Ii=new Set;for(const ln of cn){const nn=this.tree.getCompressedTreeNode(ln===this.root?null:ln);if(nn.element)for(const wn of nn.element.elements)Ii.add(Te(wn.element))}return Ii},bt=Ye(this.tree.getSelection()),$t=Ye(this.tree.getFocus());super.render(W,re);const si=this.getSelection();let gi=!1;const Oi=this.getFocus();let xi=!1;const Hi=cn=>{const Ii=cn.element;if(Ii)for(let ln=0;ln<Ii.elements.length;ln++){const nn=Te(Ii.elements[ln].element),wn=Ii.elements[Ii.elements.length-1].element;bt.has(nn)&&si.indexOf(wn)===-1&&(si.push(wn),gi=!0),$t.has(nn)&&Oi.indexOf(wn)===-1&&(Oi.push(wn),xi=!0)}cn.children.forEach(Hi)};Hi(this.tree.getCompressedTreeNode(W===this.root?null:W)),gi&&this.setSelection(si),xi&&this.setFocus(Oi)}processChildren(W){return this.filter&&(W=$.$.filter(W,re=>{const Te=this.filter.filter(re,1),Ye=wt(Te);if(Ye===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return Ye===1})),super.processChildren(W)}}function wt(Nt){return typeof Nt=="boolean"?Nt?1:0:ee(Nt)?de(Nt.visibility):de(Nt)}class ft extends Pe{constructor(W,re,Te,Ye,bt,$t={}){super(W,re,Te,Ye,$t),this.user=W,this.dataSource=bt,this.identityProvider=$t.identityProvider}createModel(W,re,Te){return new ye(W,re,Te)}}var xt=c(31106),Ve=c(33108),qe=c(23193),mt=c(38819);const ut=new mt.uy("isWindows",me.ED,(0,ue.N)("isWindows","Whether the operating system is Windows")),ri="inputFocus";var $i=c(72065),_i=c(91847),Ni=c(89872),Gi=c(88810),hn=c(97781),pn=function(Nt,W,re,Te){var Ye=arguments.length,bt=Ye<3?W:Te===null?Te=Object.getOwnPropertyDescriptor(W,re):Te,$t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(Nt,W,re,Te);else for(var si=Nt.length-1;si>=0;si--)($t=Nt[si])&&(bt=(Ye<3?$t(bt):Ye>3?$t(W,re,bt):$t(W,re))||bt);return Ye>3&&bt&&Object.defineProperty(W,re,bt),bt},Ai=function(Nt,W){return function(re,Te){W(re,Te,Nt)}};const pi=(0,$i.yh)("listService");let _n=class{constructor(W){this._themeService=W,this.disposables=new y.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(W,re){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const Ye=new R.wD((0,E.dS)(),"");this.disposables.add((0,Gi.Jl)(Ye,this._themeService))}if(this.lists.some(Ye=>Ye.widget===W))throw new Error("Cannot register the same widget multiple times");const Te={widget:W,extraContextKeys:re};return this.lists.push(Te),W.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=W),(0,y.F8)(W.onDidFocus(()=>this._lastFocusedWidget=W),(0,y.OF)(()=>this.lists.splice(this.lists.indexOf(Te),1)),W.onDidDispose(()=>{this.lists=this.lists.filter(Ye=>Ye!==Te),this._lastFocusedWidget===W&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};_n=pn([Ai(0,hn.XE)],_n);const En=new mt.uy("listFocus",!0),is=new mt.uy("listSupportsMultiselect",!0),ds=mt.Ao.and(En,mt.Ao.not(ri)),Xn=new mt.uy("listHasSelectionOrFocus",!1),Rs=new mt.uy("listDoubleSelection",!1),Co=new mt.uy("listMultiSelection",!1),js=new mt.uy("listSelectionNavigation",!1),_s="listAutomaticKeyboardNavigation";function ho(Nt,W){const re=Nt.createScoped(W.getHTMLElement());return En.bindTo(re),re}const oo="workbench.list.multiSelectModifier",qs="workbench.list.openMode",Es="workbench.list.horizontalScrolling",Fs="workbench.list.keyboardNavigation",Xs="workbench.list.automaticKeyboardNavigation",ro="workbench.tree.indent",Ys="workbench.tree.renderIndentGuides",$s="workbench.list.smoothScrolling",mo="workbench.list.mouseWheelScrollSensitivity",Jn="workbench.list.fastScrollSensitivity",po="workbench.tree.expandMode";function os(Nt){return Nt.getValue(oo)==="alt"}class jn extends y.JT{constructor(W){super(),this.configurationService=W,this.useAltAsMultipleSelectionModifier=os(W),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(W=>{W.affectsConfiguration(oo)&&(this.useAltAsMultipleSelectionModifier=os(this.configurationService))}))}isSelectionSingleChangeEvent(W){return this.useAltAsMultipleSelectionModifier?W.browserEvent.altKey:(0,R.Zo)(W)}isSelectionRangeChangeEvent(W){return(0,R.wn)(W)}}function ao(Nt,W,re){var Te;const Ye=new y.SL;return[Object.assign(Object.assign({},Nt),{keyboardNavigationDelegate:{mightProducePrintableCharacter($t){return re.mightProducePrintableCharacter($t)}},smoothScrolling:!!W.getValue($s),mouseWheelScrollSensitivity:W.getValue(mo),fastScrollSensitivity:W.getValue(Jn),multipleSelectionController:(Te=Nt.multipleSelectionController)!==null&&Te!==void 0?Te:Ye.add(new jn(W))}),Ye]}let es=class extends R.aV{constructor(W,re,Te,Ye,bt,$t,si,gi,Oi,xi){const Hi=typeof bt.horizontalScrolling!="undefined"?bt.horizontalScrolling:!!Oi.getValue(Es),[cn,Ii]=ao(bt,Oi,xi);super(W,re,Te,Ye,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Gi.o)(gi.getColorTheme(),Gi.O2)),cn),{horizontalScrolling:Hi})),this.disposables.add(Ii),this.contextKeyService=ho($t,this),this.themeService=gi,this.listSupportsMultiSelect=is.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(bt.multipleSelectionSupport!==!1),js.bindTo(this.contextKeyService).set(!!bt.selectionNavigation),this.listHasSelectionOrFocus=Xn.bindTo(this.contextKeyService),this.listDoubleSelection=Rs.bindTo(this.contextKeyService),this.listMultiSelection=Co.bindTo(this.contextKeyService),this.horizontalScrolling=bt.horizontalScrolling,this._useAltAsMultipleSelectionModifier=os(Oi),this.disposables.add(this.contextKeyService),this.disposables.add(si.register(this)),bt.overrideStyles&&this.updateStyles(bt.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const nn=this.getSelection(),wn=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(nn.length>0||wn.length>0),this.listMultiSelection.set(nn.length>1),this.listDoubleSelection.set(nn.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const nn=this.getSelection(),wn=this.getFocus();this.listHasSelectionOrFocus.set(nn.length>0||wn.length>0)})),this.disposables.add(Oi.onDidChangeConfiguration(nn=>{nn.affectsConfiguration(oo)&&(this._useAltAsMultipleSelectionModifier=os(Oi));let wn={};if(nn.affectsConfiguration(Es)&&this.horizontalScrolling===void 0){const Gn=!!Oi.getValue(Es);wn=Object.assign(Object.assign({},wn),{horizontalScrolling:Gn})}if(nn.affectsConfiguration($s)){const Gn=!!Oi.getValue($s);wn=Object.assign(Object.assign({},wn),{smoothScrolling:Gn})}if(nn.affectsConfiguration(mo)){const Gn=Oi.getValue(mo);wn=Object.assign(Object.assign({},wn),{mouseWheelScrollSensitivity:Gn})}if(nn.affectsConfiguration(Jn)){const Gn=Oi.getValue(Jn);wn=Object.assign(Object.assign({},wn),{fastScrollSensitivity:Gn})}Object.keys(wn).length>0&&this.updateOptions(wn)})),this.navigator=new mi(this,Object.assign({configurationService:Oi},bt)),this.disposables.add(this.navigator)}updateOptions(W){super.updateOptions(W),W.overrideStyles&&this.updateStyles(W.overrideStyles),W.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!W.multipleSelectionSupport)}updateStyles(W){var re;(re=this._styler)===null||re===void 0||re.dispose(),this._styler=(0,Gi.Jl)(this,this.themeService,W)}dispose(){var W;(W=this._styler)===null||W===void 0||W.dispose(),super.dispose()}};es=pn([Ai(5,mt.i6),Ai(6,pi),Ai(7,hn.XE),Ai(8,Ve.Ui),Ai(9,_i.d)],es);let eo=class extends g{constructor(W,re,Te,Ye,bt,$t,si,gi,Oi,xi){const Hi=typeof bt.horizontalScrolling!="undefined"?bt.horizontalScrolling:!!Oi.getValue(Es),[cn,Ii]=ao(bt,Oi,xi);super(W,re,Te,Ye,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Gi.o)(gi.getColorTheme(),Gi.O2)),cn),{horizontalScrolling:Hi})),this.disposables=new y.SL,this.disposables.add(Ii),this.contextKeyService=ho($t,this),this.themeService=gi,this.horizontalScrolling=bt.horizontalScrolling,this.listSupportsMultiSelect=is.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(bt.multipleSelectionSupport!==!1),js.bindTo(this.contextKeyService).set(!!bt.selectionNavigation),this._useAltAsMultipleSelectionModifier=os(Oi),this.disposables.add(this.contextKeyService),this.disposables.add(si.register(this)),bt.overrideStyles&&this.updateStyles(bt.overrideStyles),bt.overrideStyles&&this.disposables.add((0,Gi.Jl)(this,gi,bt.overrideStyles)),this.disposables.add(Oi.onDidChangeConfiguration(nn=>{nn.affectsConfiguration(oo)&&(this._useAltAsMultipleSelectionModifier=os(Oi));let wn={};if(nn.affectsConfiguration(Es)&&this.horizontalScrolling===void 0){const Gn=!!Oi.getValue(Es);wn=Object.assign(Object.assign({},wn),{horizontalScrolling:Gn})}if(nn.affectsConfiguration($s)){const Gn=!!Oi.getValue($s);wn=Object.assign(Object.assign({},wn),{smoothScrolling:Gn})}if(nn.affectsConfiguration(mo)){const Gn=Oi.getValue(mo);wn=Object.assign(Object.assign({},wn),{mouseWheelScrollSensitivity:Gn})}if(nn.affectsConfiguration(Jn)){const Gn=Oi.getValue(Jn);wn=Object.assign(Object.assign({},wn),{fastScrollSensitivity:Gn})}Object.keys(wn).length>0&&this.updateOptions(wn)})),this.navigator=new mi(this,Object.assign({configurationService:Oi},bt)),this.disposables.add(this.navigator)}updateOptions(W){super.updateOptions(W),W.overrideStyles&&this.updateStyles(W.overrideStyles),W.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!W.multipleSelectionSupport)}updateStyles(W){var re;(re=this._styler)===null||re===void 0||re.dispose(),this._styler=(0,Gi.Jl)(this,this.themeService,W)}dispose(){var W;(W=this._styler)===null||W===void 0||W.dispose(),this.disposables.dispose(),super.dispose()}};eo=pn([Ai(5,mt.i6),Ai(6,pi),Ai(7,hn.XE),Ai(8,Ve.Ui),Ai(9,_i.d)],eo);let xs=class extends w{constructor(W,re,Te,Ye,bt,$t,si,gi,Oi,xi,Hi){const cn=typeof $t.horizontalScrolling!="undefined"?$t.horizontalScrolling:!!xi.getValue(Es),[Ii,ln]=ao($t,xi,Hi);super(W,re,Te,Ye,bt,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Gi.o)(Oi.getColorTheme(),Gi.O2)),Ii),{horizontalScrolling:cn})),this.disposables=new y.SL,this.disposables.add(ln),this.contextKeyService=ho(si,this),this.themeService=Oi,this.listSupportsMultiSelect=is.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set($t.multipleSelectionSupport!==!1),js.bindTo(this.contextKeyService).set(!!$t.selectionNavigation),this.listHasSelectionOrFocus=Xn.bindTo(this.contextKeyService),this.listDoubleSelection=Rs.bindTo(this.contextKeyService),this.listMultiSelection=Co.bindTo(this.contextKeyService),this.horizontalScrolling=$t.horizontalScrolling,this._useAltAsMultipleSelectionModifier=os(xi),this.disposables.add(this.contextKeyService),this.disposables.add(gi.register(this)),$t.overrideStyles&&this.updateStyles($t.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const wn=this.getSelection(),Gn=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(wn.length>0||Gn.length>0),this.listMultiSelection.set(wn.length>1),this.listDoubleSelection.set(wn.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const wn=this.getSelection(),Gn=this.getFocus();this.listHasSelectionOrFocus.set(wn.length>0||Gn.length>0)})),this.disposables.add(xi.onDidChangeConfiguration(wn=>{wn.affectsConfiguration(oo)&&(this._useAltAsMultipleSelectionModifier=os(xi));let Gn={};if(wn.affectsConfiguration(Es)&&this.horizontalScrolling===void 0){const Ts=!!xi.getValue(Es);Gn=Object.assign(Object.assign({},Gn),{horizontalScrolling:Ts})}if(wn.affectsConfiguration($s)){const Ts=!!xi.getValue($s);Gn=Object.assign(Object.assign({},Gn),{smoothScrolling:Ts})}if(wn.affectsConfiguration(mo)){const Ts=xi.getValue(mo);Gn=Object.assign(Object.assign({},Gn),{mouseWheelScrollSensitivity:Ts})}if(wn.affectsConfiguration(Jn)){const Ts=xi.getValue(Jn);Gn=Object.assign(Object.assign({},Gn),{fastScrollSensitivity:Ts})}Object.keys(Gn).length>0&&this.updateOptions(Gn)})),this.navigator=new ge(this,Object.assign({configurationService:xi},$t)),this.disposables.add(this.navigator)}updateOptions(W){super.updateOptions(W),W.overrideStyles&&this.updateStyles(W.overrideStyles),W.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!W.multipleSelectionSupport)}updateStyles(W){var re;(re=this._styler)===null||re===void 0||re.dispose(),this._styler=(0,Gi.Jl)(this,this.themeService,W)}dispose(){var W;(W=this._styler)===null||W===void 0||W.dispose(),this.disposables.dispose(),super.dispose()}};xs=pn([Ai(6,mt.i6),Ai(7,pi),Ai(8,hn.XE),Ai(9,Ve.Ui),Ai(10,_i.d)],xs);class io extends y.JT{constructor(W,re){var Te;super(),this.widget=W,this._onDidOpen=this._register(new P.Q5),this.onDidOpen=this._onDidOpen.event,this._register(P.ju.filter(this.widget.onDidChangeSelection,Ye=>Ye.browserEvent instanceof KeyboardEvent)(Ye=>this.onSelectionFromKeyboard(Ye))),this._register(this.widget.onPointer(Ye=>this.onPointer(Ye.element,Ye.browserEvent))),this._register(this.widget.onMouseDblClick(Ye=>this.onMouseDblClick(Ye.element,Ye.browserEvent))),typeof(re==null?void 0:re.openOnSingleClick)!="boolean"&&(re!=null&&re.configurationService)?(this.openOnSingleClick=(re==null?void 0:re.configurationService.getValue(qs))!=="doubleClick",this._register(re==null?void 0:re.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(re==null?void 0:re.configurationService.getValue(qs))!=="doubleClick"}))):this.openOnSingleClick=(Te=re==null?void 0:re.openOnSingleClick)!==null&&Te!==void 0?Te:!0}onSelectionFromKeyboard(W){if(W.elements.length!==1)return;const re=W.browserEvent,Te=typeof re.preserveFocus=="boolean"?re.preserveFocus:!0,Ye=typeof re.pinned=="boolean"?re.pinned:!Te;this._open(this.getSelectedElement(),Te,Ye,!1,W.browserEvent)}onPointer(W,re){if(!this.openOnSingleClick||re.detail===2)return;const Ye=re.button===1,bt=!0,$t=Ye,si=re.ctrlKey||re.metaKey||re.altKey;this._open(W,bt,$t,si,re)}onMouseDblClick(W,re){if(!re)return;const Te=re.target;if(Te.classList.contains("monaco-tl-twistie")||Te.classList.contains("monaco-icon-label")&&Te.classList.contains("folder-icon")&&re.offsetX<16)return;const bt=!1,$t=!0,si=re.ctrlKey||re.metaKey||re.altKey;this._open(W,bt,$t,si,re)}_open(W,re,Te,Ye,bt){W&&this._onDidOpen.fire({editorOptions:{preserveFocus:re,pinned:Te,revealIfVisible:!0},sideBySide:Ye,element:W,browserEvent:bt})}}class mi extends io{constructor(W,re){super(W,re),this.widget=W}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ge extends io{constructor(W,re){super(W,re)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ct extends io{constructor(W,re){super(W,re)}getSelectedElement(){var W;return(W=this.widget.getSelection()[0])!==null&&W!==void 0?W:void 0}}function gt(Nt,W){let re=!1;return Te=>{if(re)return re=!1,!1;const Ye=W.softDispatch(Te,Nt);return Ye&&Ye.enterChord?(re=!0,!1):(re=!1,!0)}}let Wt=class extends kn{constructor(W,re,Te,Ye,bt,$t,si,gi,Oi,xi,Hi){const{options:cn,getAutomaticKeyboardNavigation:Ii,disposable:ln}=Vi(re,bt,$t,Oi,xi,Hi);super(W,re,Te,Ye,cn),this.disposables.add(ln),this.internals=new Li(this,bt,Ii,bt.overrideStyles,$t,si,gi,Oi,Hi),this.disposables.add(this.internals)}updateOptions(W){super.updateOptions(W),this.internals.updateOptions(W)}};Wt=pn([Ai(5,mt.i6),Ai(6,pi),Ai(7,hn.XE),Ai(8,Ve.Ui),Ai(9,_i.d),Ai(10,xt.F)],Wt);let ti=class extends Bn{constructor(W,re,Te,Ye,bt,$t,si,gi,Oi,xi,Hi){const{options:cn,getAutomaticKeyboardNavigation:Ii,disposable:ln}=Vi(re,bt,$t,Oi,xi,Hi);super(W,re,Te,Ye,cn),this.disposables.add(ln),this.internals=new Li(this,bt,Ii,bt.overrideStyles,$t,si,gi,Oi,Hi),this.disposables.add(this.internals)}updateOptions(W={}){super.updateOptions(W),W.overrideStyles&&this.internals.updateStyleOverrides(W.overrideStyles),this.internals.updateOptions(W)}};ti=pn([Ai(5,mt.i6),Ai(6,pi),Ai(7,hn.XE),Ai(8,Ve.Ui),Ai(9,_i.d),Ai(10,xt.F)],ti);let Si=class extends ft{constructor(W,re,Te,Ye,bt,$t,si,gi,Oi,xi,Hi,cn){const{options:Ii,getAutomaticKeyboardNavigation:ln,disposable:nn}=Vi(re,$t,si,xi,Hi,cn);super(W,re,Te,Ye,bt,Ii),this.disposables.add(nn),this.internals=new Li(this,$t,ln,$t.overrideStyles,si,gi,Oi,xi,cn),this.disposables.add(this.internals)}updateOptions(W={}){super.updateOptions(W),W.overrideStyles&&this.internals.updateStyleOverrides(W.overrideStyles),this.internals.updateOptions(W)}};Si=pn([Ai(6,mt.i6),Ai(7,pi),Ai(8,hn.XE),Ai(9,Ve.Ui),Ai(10,_i.d),Ai(11,xt.F)],Si);let hi=class extends sn{constructor(W,re,Te,Ye,bt,$t,si,gi,Oi,xi,Hi,cn){const{options:Ii,getAutomaticKeyboardNavigation:ln,disposable:nn}=Vi(re,$t,si,xi,Hi,cn);super(W,re,Te,Ye,bt,Ii),this.disposables.add(nn),this.internals=new Li(this,$t,ln,$t.overrideStyles,si,gi,Oi,xi,cn),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(W={}){super.updateOptions(W),W.overrideStyles&&this.internals.updateStyleOverrides(W.overrideStyles),this.internals.updateOptions(W)}};hi=pn([Ai(6,mt.i6),Ai(7,pi),Ai(8,hn.XE),Ai(9,Ve.Ui),Ai(10,_i.d),Ai(11,xt.F)],hi);let Yt=class extends on{constructor(W,re,Te,Ye,bt,$t,si,gi,Oi,xi,Hi,cn,Ii){const{options:ln,getAutomaticKeyboardNavigation:nn,disposable:wn}=Vi(re,si,gi,Hi,cn,Ii);super(W,re,Te,Ye,bt,$t,ln),this.disposables.add(wn),this.internals=new Li(this,si,nn,si.overrideStyles,gi,Oi,xi,Hi,Ii),this.disposables.add(this.internals)}updateOptions(W){super.updateOptions(W),this.internals.updateOptions(W)}};Yt=pn([Ai(7,mt.i6),Ai(8,pi),Ai(9,hn.XE),Ai(10,Ve.Ui),Ai(11,_i.d),Ai(12,xt.F)],Yt);function Vi(Nt,W,re,Te,Ye,bt){var $t;const si=()=>{let ln=!!re.getContextKeyValue(_s);return ln&&(ln=!!Te.getValue(Xs)),ln},gi=bt.isScreenReaderOptimized(),Oi=W.simpleKeyboardNavigation||gi?"simple":Te.getValue(Fs),xi=W.horizontalScrolling!==void 0?W.horizontalScrolling:!!Te.getValue(Es),[Hi,cn]=ao(W,Te,Ye),Ii=W.additionalScrollHeight;return{getAutomaticKeyboardNavigation:si,disposable:cn,options:Object.assign(Object.assign({keyboardSupport:!1},Hi),{indent:typeof Te.getValue(ro)=="number"?Te.getValue(ro):void 0,renderIndentGuides:Te.getValue(Ys),smoothScrolling:!!Te.getValue($s),automaticKeyboardNavigation:si(),simpleKeyboardNavigation:Oi==="simple",filterOnType:Oi==="filter",horizontalScrolling:xi,keyboardNavigationEventFilter:gt(Nt,Ye),additionalScrollHeight:Ii,hideTwistiesOfChildlessElements:W.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:($t=W.expandOnlyOnTwistieClick)!==null&&$t!==void 0?$t:Te.getValue(po)==="doubleClick"})}}let Li=class{constructor(W,re,Te,Ye,bt,$t,si,gi,Oi){this.tree=W,this.themeService=si,this.disposables=[],this.contextKeyService=ho(bt,W),this.listSupportsMultiSelect=is.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(re.multipleSelectionSupport!==!1),js.bindTo(this.contextKeyService).set(!!re.selectionNavigation),this.hasSelectionOrFocus=Xn.bindTo(this.contextKeyService),this.hasDoubleSelection=Rs.bindTo(this.contextKeyService),this.hasMultiSelection=Co.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=os(gi);const Hi=new Set;Hi.add(_s);const cn=()=>{const ln=Oi.isScreenReaderOptimized()?"simple":gi.getValue(Fs);W.updateOptions({simpleKeyboardNavigation:ln==="simple",filterOnType:ln==="filter"})};this.updateStyleOverrides(Ye),this.disposables.push(this.contextKeyService,$t.register(W),W.onDidChangeSelection(()=>{const Ii=W.getSelection(),ln=W.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Ii.length>0||ln.length>0),this.hasMultiSelection.set(Ii.length>1),this.hasDoubleSelection.set(Ii.length===2)})}),W.onDidChangeFocus(()=>{const Ii=W.getSelection(),ln=W.getFocus();this.hasSelectionOrFocus.set(Ii.length>0||ln.length>0)}),gi.onDidChangeConfiguration(Ii=>{let ln={};if(Ii.affectsConfiguration(oo)&&(this._useAltAsMultipleSelectionModifier=os(gi)),Ii.affectsConfiguration(ro)){const nn=gi.getValue(ro);ln=Object.assign(Object.assign({},ln),{indent:nn})}if(Ii.affectsConfiguration(Ys)){const nn=gi.getValue(Ys);ln=Object.assign(Object.assign({},ln),{renderIndentGuides:nn})}if(Ii.affectsConfiguration($s)){const nn=!!gi.getValue($s);ln=Object.assign(Object.assign({},ln),{smoothScrolling:nn})}if(Ii.affectsConfiguration(Fs)&&cn(),Ii.affectsConfiguration(Xs)&&(ln=Object.assign(Object.assign({},ln),{automaticKeyboardNavigation:Te()})),Ii.affectsConfiguration(Es)&&re.horizontalScrolling===void 0){const nn=!!gi.getValue(Es);ln=Object.assign(Object.assign({},ln),{horizontalScrolling:nn})}if(Ii.affectsConfiguration(po)&&re.expandOnlyOnTwistieClick===void 0&&(ln=Object.assign(Object.assign({},ln),{expandOnlyOnTwistieClick:gi.getValue(po)==="doubleClick"})),Ii.affectsConfiguration(mo)){const nn=gi.getValue(mo);ln=Object.assign(Object.assign({},ln),{mouseWheelScrollSensitivity:nn})}if(Ii.affectsConfiguration(Jn)){const nn=gi.getValue(Jn);ln=Object.assign(Object.assign({},ln),{fastScrollSensitivity:nn})}Object.keys(ln).length>0&&W.updateOptions(ln)}),this.contextKeyService.onDidChangeContext(Ii=>{Ii.affectsSome(Hi)&&W.updateOptions({automaticKeyboardNavigation:Te()})}),Oi.onDidChangeScreenReaderOptimized(()=>cn())),this.navigator=new ct(W,Object.assign({configurationService:gi},re)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(W){W.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!W.multipleSelectionSupport)}updateStyleOverrides(W){(0,y.B9)(this.styler),this.styler=W?(0,Gi.Jl)(this.tree,this.themeService,W):y.JT.None}dispose(){this.disposables=(0,y.B9)(this.disposables),(0,y.B9)(this.styler),this.styler=void 0}};Li=pn([Ai(4,mt.i6),Ai(5,pi),Ai(6,hn.XE),Ai(7,Ve.Ui),Ai(8,xt.F)],Li),Ni.B.as(qe.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,ue.N)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[oo]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,ue.N)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,ue.N)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,ue.N)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[qs]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,ue.N)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Es]:{type:"boolean",default:!1,description:(0,ue.N)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[ro]:{type:"number",default:8,minimum:0,maximum:40,description:(0,ue.N)("tree indent setting","Controls tree indentation in pixels.")},[Ys]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,ue.N)("render tree indent guides","Controls whether the tree should render indent guides.")},[$s]:{type:"boolean",default:!1,description:(0,ue.N)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[mo]:{type:"number",default:1,description:(0,ue.N)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[Jn]:{type:"number",default:5,description:(0,ue.N)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[Fs]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,ue.N)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,ue.N)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,ue.N)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,ue.N)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[Xs]:{type:"boolean",default:!0,markdownDescription:(0,ue.N)("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[po]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,ue.N)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},43557:function(Qt,He,c){"use strict";c.d(He,{$V:function(){return s},VZ:function(){return P},in:function(){return y},kw:function(){return B}});var E=c(4669),O=c(5976),Q=c(72065);const P=(0,Q.yh)("logService");var y;(function(N){N[N.Trace=0]="Trace",N[N.Debug=1]="Debug",N[N.Info=2]="Info",N[N.Warning=3]="Warning",N[N.Error=4]="Error",N[N.Critical=5]="Critical",N[N.Off=6]="Off"})(y||(y={}));const X=y.Info;class R extends O.JT{constructor(){super(...arguments),this.level=X,this._onDidChangeLogLevel=this._register(new E.Q5)}setLevel(g){this.level!==g&&(this.level=g,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class B extends R{constructor(g=X){super(),this.setLevel(g)}trace(g,...D){this.getLevel()<=y.Trace&&console.log("%cTRACE","color: #888",g,...D)}debug(g,...D){this.getLevel()<=y.Debug&&console.log("%cDEBUG","background: #eee; color: #888",g,...D)}info(g,...D){this.getLevel()<=y.Info&&console.log("%c INFO","color: #33f",g,...D)}error(g,...D){this.getLevel()<=y.Error&&console.log("%c  ERR","color: #f33",g,...D)}dispose(){}}class s extends O.JT{constructor(g){super(),this.logger=g,this._register(g)}getLevel(){return this.logger.getLevel()}trace(g,...D){this.logger.trace(g,...D)}debug(g,...D){this.logger.debug(g,...D)}info(g,...D){this.logger.info(g,...D)}error(g,...D){this.logger.error(g,...D)}}},98674:function(Qt,He,c){"use strict";c.d(He,{H0:function(){return y},ZL:function(){return P},lT:function(){return X}});var E=c(14603),O=c(63580),Q=c(72065),P;(function(R){R[R.Hint=1]="Hint",R[R.Info=2]="Info",R[R.Warning=4]="Warning",R[R.Error=8]="Error"})(P||(P={})),function(R){function B(H,r){return r-H}R.compare=B;const s=Object.create(null);s[R.Error]=(0,O.N)("sev.error","Error"),s[R.Warning]=(0,O.N)("sev.warning","Warning"),s[R.Info]=(0,O.N)("sev.info","Info");function N(H){return s[H]||""}R.toString=N;function g(H){switch(H){case E.Z.Error:return R.Error;case E.Z.Warning:return R.Warning;case E.Z.Info:return R.Info;case E.Z.Ignore:return R.Hint}}R.fromSeverity=g;function D(H){switch(H){case R.Error:return E.Z.Error;case R.Warning:return E.Z.Warning;case R.Info:return E.Z.Info;case R.Hint:return E.Z.Ignore}}R.toSeverity=D}(P||(P={}));var y;(function(R){const B="";function s(g){return N(g,!0)}R.makeKey=s;function N(g,D){let H=[B];return g.source?H.push(g.source.replace("\xA6","\\\xA6")):H.push(B),g.code?typeof g.code=="string"?H.push(g.code.replace("\xA6","\\\xA6")):H.push(g.code.value.replace("\xA6","\\\xA6")):H.push(B),g.severity!==void 0&&g.severity!==null?H.push(P.toString(g.severity)):H.push(B),g.message&&D?H.push(g.message.replace("\xA6","\\\xA6")):H.push(B),g.startLineNumber!==void 0&&g.startLineNumber!==null?H.push(g.startLineNumber.toString()):H.push(B),g.startColumn!==void 0&&g.startColumn!==null?H.push(g.startColumn.toString()):H.push(B),g.endLineNumber!==void 0&&g.endLineNumber!==null?H.push(g.endLineNumber.toString()):H.push(B),g.endColumn!==void 0&&g.endColumn!==null?H.push(g.endColumn.toString()):H.push(B),H.push(B),H.join("\xA6")}R.makeKeyOptionalMessage=N})(y||(y={}));const X=(0,Q.yh)("markerService")},59422:function(Qt,He,c){"use strict";c.d(He,{EO:function(){return y},lT:function(){return P}});var E=c(14603),O=c(72065),Q=null;const P=(0,O.yh)("notificationService");class y{}},50988:function(Qt,He,c){"use strict";c.d(He,{SW:function(){return R},v4:function(){return X},xn:function(){return B}});var E=c(5976),O=c(97295),Q=c(70666),P=c(72065),y=function(s,N,g,D){function H(r){return r instanceof g?r:new g(function(T){T(r)})}return new(g||(g=Promise))(function(r,T){function w(p){try{f(D.next(p))}catch(S){T(S)}}function x(p){try{f(D.throw(p))}catch(S){T(S)}}function f(p){p.done?r(p.value):H(p.value).then(w,x)}f((D=D.apply(s,N||[])).next())})};const X=(0,P.yh)("openerService"),R=Object.freeze({_serviceBrand:void 0,registerOpener(){return E.JT.None},registerValidator(){return E.JT.None},registerExternalUriResolver(){return E.JT.None},setDefaultExternalOpener(){},registerExternalOpener(){return E.JT.None},open(){return y(this,void 0,void 0,function*(){return!1})},resolveExternalUri(s){return y(this,void 0,void 0,function*(){return{resolved:s,dispose(){}}})}});function B(s,N){return Q.o.isUri(s)?(0,O.qq)(s.scheme,N):(0,O.ok)(s,N+":")}},90535:function(Qt,He,c){"use strict";c.d(He,{E:function(){return O},e:function(){return Q}});var E=c(72065);class O{constructor(y){this.callback=y}report(y){this._value=y,this.callback(this._value)}}O.None=Object.freeze({report(){}});const Q=(0,E.yh)("editorProgressService")},89872:function(Qt,He,c){"use strict";c.d(He,{B:function(){return P}});var E=c(35146),O=c(98401);class Q{constructor(){this.data=new Map}add(X,R){E.ok(O.HD(X)),E.ok(O.Kn(R)),E.ok(!this.data.has(X),"There is already an extension with this id"),this.data.set(X,R)}as(X){return this.data.get(X)||null}}const P=new Q},87060:function(Qt,He,c){"use strict";c.d(He,{Uy:function(){return g},vm:function(){return r},fk:function(){return D}});var E=c(4669),O=c(5976),Q=c(98401),P=c(15393),y=function(T,w,x,f){function p(S){return S instanceof x?S:new x(function(h){h(S)})}return new(x||(x=Promise))(function(S,h){function L($){try{V(f.next($))}catch(ee){h(ee)}}function v($){try{V(f.throw($))}catch(ee){h(ee)}}function V($){$.done?S($.value):p($.value).then(L,v)}V((f=f.apply(T,w||[])).next())})},X;(function(T){T[T.None=0]="None",T[T.Initialized=1]="Initialized",T[T.Closed=2]="Closed"})(X||(X={}));class R extends O.JT{constructor(w,x=Object.create(null)){super(),this.database=w,this.options=x,this._onDidChangeStorage=this._register(new E.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=X.None,this.cache=new Map,this.flushDelayer=new P.rH(R.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(w=>this.onDidChangeItemsExternal(w)))}onDidChangeItemsExternal(w){var x,f;(x=w.changed)===null||x===void 0||x.forEach((p,S)=>this.accept(S,p)),(f=w.deleted)===null||f===void 0||f.forEach(p=>this.accept(p,void 0))}accept(w,x){if(this.state===X.Closed)return;let f=!1;(0,Q.Jp)(x)?f=this.cache.delete(w):this.cache.get(w)!==x&&(this.cache.set(w,x),f=!0),f&&this._onDidChangeStorage.fire(w)}get(w,x){const f=this.cache.get(w);return(0,Q.Jp)(f)?x:f}getBoolean(w,x){const f=this.get(w);return(0,Q.Jp)(f)?x:f==="true"}getNumber(w,x){const f=this.get(w);return(0,Q.Jp)(f)?x:parseInt(f,10)}set(w,x){return y(this,void 0,void 0,function*(){if(this.state===X.Closed)return;if((0,Q.Jp)(x))return this.delete(w);const f=String(x);if(this.cache.get(w)!==f)return this.cache.set(w,f),this.pendingInserts.set(w,f),this.pendingDeletes.delete(w),this._onDidChangeStorage.fire(w),this.flushDelayer.trigger(()=>this.flushPending())})}delete(w){return y(this,void 0,void 0,function*(){if(!(this.state===X.Closed||!this.cache.delete(w)))return this.pendingDeletes.has(w)||this.pendingDeletes.add(w),this.pendingInserts.delete(w),this._onDidChangeStorage.fire(w),this.flushDelayer.trigger(()=>this.flushPending())})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return y(this,void 0,void 0,function*(){if(!this.hasPending)return;const w={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(w).finally(()=>{var x;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(x=this.whenFlushedCallbacks.pop())===null||x===void 0||x()})})}dispose(){this.flushDelayer.dispose(),super.dispose()}}R.DEFAULT_FLUSH_DELAY=100;class B{constructor(){this.onDidChangeItemsExternal=E.ju.None,this.items=new Map}updateItems(w){return y(this,void 0,void 0,function*(){w.insert&&w.insert.forEach((x,f)=>this.items.set(f,x)),w.delete&&w.delete.forEach(x=>this.items.delete(x))})}}var s=c(72065);const N="__$__targetStorageMarker",g=(0,s.yh)("storageService");var D;(function(T){T[T.NONE=0]="NONE",T[T.SHUTDOWN=1]="SHUTDOWN"})(D||(D={}));class H extends O.JT{constructor(w={flushInterval:H.DEFAULT_FLUSH_INTERVAL}){super(),this.options=w,this._onDidChangeValue=this._register(new E.K3),this._onDidChangeTarget=this._register(new E.K3),this._onWillSaveState=this._register(new E.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(w,x){x===N?(w===0?this._globalKeyTargets=void 0:w===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:w})):this._onDidChangeValue.fire({scope:w,key:x,target:this.getKeyTargets(w)[x]})}get(w,x,f){var p;return(p=this.getStorage(x))===null||p===void 0?void 0:p.get(w,f)}getBoolean(w,x,f){var p;return(p=this.getStorage(x))===null||p===void 0?void 0:p.getBoolean(w,f)}getNumber(w,x,f){var p;return(p=this.getStorage(x))===null||p===void 0?void 0:p.getNumber(w,f)}store(w,x,f,p){if((0,Q.Jp)(x)){this.remove(w,f);return}this.withPausedEmitters(()=>{var S;this.updateKeyTarget(w,f,p),(S=this.getStorage(f))===null||S===void 0||S.set(w,x)})}remove(w,x){this.withPausedEmitters(()=>{var f;this.updateKeyTarget(w,x,void 0),(f=this.getStorage(x))===null||f===void 0||f.delete(w)})}withPausedEmitters(w){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{w()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(w,x,f){var p,S;const h=this.getKeyTargets(x);typeof f=="number"?h[w]!==f&&(h[w]=f,(p=this.getStorage(x))===null||p===void 0||p.set(N,JSON.stringify(h))):typeof h[w]=="number"&&(delete h[w],(S=this.getStorage(x))===null||S===void 0||S.set(N,JSON.stringify(h)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(w){return w===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(w){const x=this.get(N,w);if(x)try{return JSON.parse(x)}catch(f){}return Object.create(null)}}H.DEFAULT_FLUSH_INTERVAL=60*1e3;class r extends H{constructor(){super(),this.globalStorage=this._register(new R(new B)),this.workspaceStorage=this._register(new R(new B)),this._register(this.workspaceStorage.onDidChangeStorage(w=>this.emitDidChangeValue(1,w))),this._register(this.globalStorage.onDidChangeStorage(w=>this.emitDidChangeValue(0,w)))}getStorage(w){return w===0?this.globalStorage:this.workspaceStorage}}},10829:function(Qt,He,c){"use strict";c.d(He,{b:function(){return O}});var E=c(72065);const O=(0,E.yh)("telemetryService")},73910:function(Qt,He,c){"use strict";c.d(He,{$D:function(){return eo},$d:function(){return _s},A2:function(){return tt},AB:function(){return ht},AS:function(){return ho},AW:function(){return kn},BO:function(){return $t},C3:function(){return j},CA:function(){return re},CN:function(){return ai},Cd:function(){return os},Cz:function(){return qe},D0:function(){return ei},D1:function(){return ii},DE:function(){return jn},Du:function(){return ye},E3:function(){return xs},EP:function(){return xe},ES:function(){return On},Ei:function(){return Ge},F3:function(){return Co},Fm:function(){return ti},Fu:function(){return xt},GO:function(){return ue},Gj:function(){return Li},Gw:function(){return oo},Hf:function(){return bi},Hz:function(){return ao},I1:function(){return gt},IP:function(){return B},Id:function(){return H},It:function(){return W},Iv:function(){return Pn},Jp:function(){return bt},K1:function(){return Ki},KT:function(){return hi},LL:function(){return Ni},L_:function(){return Gi},Lo:function(){return yi},M6:function(){return _n},MU:function(){return $e},NO:function(){return Ft},NP:function(){return mo},Ng:function(){return Ot},OL:function(){return si},OZ:function(){return m},Oo:function(){return Ai},P4:function(){return ri},P6:function(){return g},PR:function(){return $},PX:function(){return qs},Pk:function(){return ct},Pv:function(){return de},R8:function(){return T},RV:function(){return le},Rz:function(){return Zi},S:function(){return Xs},SU:function(){return Y},Sb:function(){return Jt},Sn:function(){return nn},Sw:function(){return S},T8:function(){return Pe},Tn:function(){return En},U6:function(){return Wt},Un:function(){return ro},Vq:function(){return po},XE:function(){return ee},XL:function(){return $i},XZ:function(){return r},Xy:function(){return Te},YI:function(){return ve},ZG:function(){return io},Zn:function(){return Hi},_2:function(){return pn},_Y:function(){return sn},_b:function(){return hn},_l:function(){return pe},_t:function(){return q},_w:function(){return et},b6:function(){return fe},b7:function(){return me},br:function(){return Ye},c6:function(){return Ne},cb:function(){return Jn},cv:function(){return it},dC:function(){return pi},dR:function(){return D},dt:function(){return V},et:function(){return Dt},fE:function(){return Ze},fe:function(){return ot},g8:function(){return Oe},gk:function(){return Xe},gp:function(){return Ie},hE:function(){return ls},j5:function(){return te},jU:function(){return Tt},jb:function(){return es},kJ:function(){return st},kV:function(){return Nt},ke:function(){return mt},kv:function(){return Xn},kw:function(){return cn},lR:function(){return w},lU:function(){return mi},lW:function(){return zi},lX:function(){return ke},lo:function(){return Ke},mH:function(){return _i},mV:function(){return js},ny:function(){return an},oQ:function(){return ci},oS:function(){return Fs},op:function(){return Mi},ov:function(){return Vi},p:function(){return G},pW:function(){return at},pn:function(){return It},pt:function(){return kt},qe:function(){return Re},rg:function(){return is},rh:function(){return h},s$:function(){return Rs},sE:function(){return L},sK:function(){return Ve},sg:function(){return p},tZ:function(){return ui},u2:function(){return ge},uo:function(){return nt},ur:function(){return f},ux:function(){return Ys},vG:function(){return Es},xL:function(){return x},yJ:function(){return At},yb:function(){return Bn},yn:function(){return Mt},yp:function(){return ut},yt:function(){return ds},zJ:function(){return v},zK:function(){return en},zR:function(){return Je}});var E=c(15393),O=c(41264),Q=c(4669),P=c(98401),y=c(63580),X=c(81294),R=c(89872);const B={ColorContribution:"base.contributions.colors"};class s{constructor(){this._onDidChangeSchema=new Q.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(jt,_e,Me,ze=!1,vt){let yt={id:jt,description:Me,defaults:_e,needsTransparency:ze,deprecationMessage:vt};this.colorsById[jt]=yt;let oi={type:"string",description:Me,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return vt&&(oi.deprecationMessage=vt),this.colorSchema.properties[jt]=oi,this.colorReferenceSchema.enum.push(jt),this.colorReferenceSchema.enumDescriptions.push(Me),this._onDidChangeSchema.fire(),jt}resolveDefaultColor(jt,_e){const Me=this.colorsById[jt];if(Me&&Me.defaults){const ze=Me.defaults[_e.type];return nn(ze,_e)}}getColorSchema(){return this.colorSchema}toString(){let jt=(_e,Me)=>{let ze=_e.indexOf(".")===-1?0:1,vt=Me.indexOf(".")===-1?0:1;return ze!==vt?ze-vt:_e.localeCompare(Me)};return Object.keys(this.colorsById).sort(jt).map(_e=>`- \`${_e}\`: ${this.colorsById[_e].description}`).join(`
`)}}const N=new s;R.B.add(B.ColorContribution,N);function g(Ln,jt,_e,Me,ze){return N.registerColor(Ln,jt,_e,Me,ze)}const D=g("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},y.N("foreground","Overall foreground color. This color is only used if not overridden by a component.")),H=g("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},y.N("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),r=g("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},y.N("iconForeground","The default color for icons in the workbench.")),T=g("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},y.N("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),w=g("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},y.N("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),x=g("contrastActiveBorder",{light:null,dark:null,hc:T},y.N("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),f=g("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},y.N("textLinkForeground","Foreground color for links in text.")),p=g("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},y.N("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),S=g("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:O.Il.black},y.N("textCodeBlockBackground","Background color for code blocks in text.")),h=g("widget.shadow",{dark:Hi(O.Il.black,.36),light:Hi(O.Il.black,.16),hc:null},y.N("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),L=g("input.background",{dark:"#3C3C3C",light:O.Il.white,hc:O.Il.black},y.N("inputBoxBackground","Input box background.")),v=g("input.foreground",{dark:D,light:D,hc:D},y.N("inputBoxForeground","Input box foreground.")),V=g("input.border",{dark:null,light:null,hc:w},y.N("inputBoxBorder","Input box border.")),$=g("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:w},y.N("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),ee=g("inputOption.activeBackground",{dark:Hi(T,.4),light:Hi(T,.2),hc:O.Il.transparent},y.N("inputOption.activeBackground","Background color of activated options in input fields.")),de=g("inputOption.activeForeground",{dark:O.Il.white,light:O.Il.black,hc:null},y.N("inputOption.activeForeground","Foreground color of activated options in input fields.")),pe=g("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:O.Il.black},y.N("inputValidationInfoBackground","Input validation background color for information severity.")),ve=g("inputValidation.infoForeground",{dark:null,light:null,hc:null},y.N("inputValidationInfoForeground","Input validation foreground color for information severity.")),xe=g("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:w},y.N("inputValidationInfoBorder","Input validation border color for information severity.")),le=g("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:O.Il.black},y.N("inputValidationWarningBackground","Input validation background color for warning severity.")),Y=g("inputValidation.warningForeground",{dark:null,light:null,hc:null},y.N("inputValidationWarningForeground","Input validation foreground color for warning severity.")),j=g("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:w},y.N("inputValidationWarningBorder","Input validation border color for warning severity.")),G=g("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:O.Il.black},y.N("inputValidationErrorBackground","Input validation background color for error severity.")),q=g("inputValidation.errorForeground",{dark:null,light:null,hc:null},y.N("inputValidationErrorForeground","Input validation foreground color for error severity.")),m=g("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:w},y.N("inputValidationErrorBorder","Input validation border color for error severity.")),b=g("dropdown.background",{dark:"#3C3C3C",light:O.Il.white,hc:O.Il.black},y.N("dropdownBackground","Dropdown background.")),F=g("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:O.Il.white},y.N("dropdownForeground","Dropdown foreground.")),te=g("button.foreground",{dark:O.Il.white,light:O.Il.white,hc:O.Il.white},y.N("buttonForeground","Button foreground color.")),me=g("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},y.N("buttonBackground","Button background color.")),ue=g("button.hoverBackground",{dark:xi(me,.2),light:Oi(me,.2),hc:null},y.N("buttonHoverBackground","Button background color when hovering.")),Oe=g("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:O.Il.black},y.N("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Re=g("badge.foreground",{dark:O.Il.white,light:"#333",hc:O.Il.white},y.N("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),et=g("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},y.N("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Dt=g("scrollbarSlider.background",{dark:O.Il.fromHex("#797979").transparent(.4),light:O.Il.fromHex("#646464").transparent(.4),hc:Hi(w,.6)},y.N("scrollbarSliderBackground","Scrollbar slider background color.")),ht=g("scrollbarSlider.hoverBackground",{dark:O.Il.fromHex("#646464").transparent(.7),light:O.Il.fromHex("#646464").transparent(.7),hc:Hi(w,.8)},y.N("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Mt=g("scrollbarSlider.activeBackground",{dark:O.Il.fromHex("#BFBFBF").transparent(.4),light:O.Il.fromHex("#000000").transparent(.6),hc:w},y.N("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Je=g("progressBar.background",{dark:O.Il.fromHex("#0E70C0"),light:O.Il.fromHex("#0E70C0"),hc:w},y.N("progressBarBackground","Background color of the progress bar that can show for long running operations.")),tt=g("editorError.background",{dark:null,light:null,hc:null},y.N("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),ke=g("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},y.N("editorError.foreground","Foreground color of error squigglies in the editor.")),fe=g("editorError.border",{dark:null,light:null,hc:O.Il.fromHex("#E47777").transparent(.8)},y.N("errorBorder","Border color of error boxes in the editor.")),Ie=g("editorWarning.background",{dark:null,light:null,hc:null},y.N("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),nt=g("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},y.N("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),at=g("editorWarning.border",{dark:null,light:null,hc:O.Il.fromHex("#FFCC00").transparent(.8)},y.N("warningBorder","Border color of warning boxes in the editor.")),ot=g("editorInfo.background",{dark:null,light:null,hc:null},y.N("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ne=g("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},y.N("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Pe=g("editorInfo.border",{dark:null,light:null,hc:O.Il.fromHex("#3794FF").transparent(.8)},y.N("infoBorder","Border color of info boxes in the editor.")),ye=g("editorHint.foreground",{dark:O.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},y.N("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Ze=g("editorHint.border",{dark:null,light:null,hc:O.Il.fromHex("#eeeeee").transparent(.8)},y.N("hintBorder","Border color of hint boxes in the editor.")),it=g("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:O.Il.black},y.N("editorBackground","Editor background color.")),Ft=g("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:O.Il.white},y.N("editorForeground","Editor default foreground color.")),ei=g("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},y.N("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),bi=g("editorWidget.foreground",{dark:D,light:D,hc:D},y.N("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),ii=g("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:w},y.N("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Ot=g("editorWidget.resizeBorder",{light:null,dark:null,hc:null},y.N("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),en=g("quickInput.background",{dark:ei,light:ei,hc:ei},y.N("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),ui=g("quickInput.foreground",{dark:bi,light:bi,hc:bi},y.N("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Ke=g("quickInputTitle.background",{dark:new O.Il(new O.VS(255,255,255,.105)),light:new O.Il(new O.VS(0,0,0,.06)),hc:"#000000"},y.N("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),st=g("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:O.Il.white},y.N("pickerGroupForeground","Quick picker color for grouping labels.")),Mi=g("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:O.Il.white},y.N("pickerGroupBorder","Quick picker color for grouping borders.")),ci=g("keybindingLabel.background",{dark:new O.Il(new O.VS(128,128,128,.17)),light:new O.Il(new O.VS(221,221,221,.4)),hc:O.Il.transparent},y.N("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),zi=g("keybindingLabel.foreground",{dark:O.Il.fromHex("#CCCCCC"),light:O.Il.fromHex("#555555"),hc:O.Il.white},y.N("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),kn=g("keybindingLabel.border",{dark:new O.Il(new O.VS(51,51,51,.6)),light:new O.Il(new O.VS(204,204,204,.4)),hc:new O.Il(new O.VS(111,195,223))},y.N("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Ki=g("keybindingLabel.bottomBorder",{dark:new O.Il(new O.VS(68,68,68,.6)),light:new O.Il(new O.VS(187,187,187,.4)),hc:new O.Il(new O.VS(111,195,223))},y.N("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),ls=g("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},y.N("editorSelectionBackground","Color of the editor selection.")),Bn=g("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},y.N("editorSelectionForeground","Color of the selected text for high contrast.")),On=g("editor.inactiveSelectionBackground",{light:Hi(ls,.5),dark:Hi(ls,.5),hc:Hi(ls,.5)},y.N("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Zi=g("editor.selectionHighlightBackground",{light:ln(ls,it,.3,.6),dark:ln(ls,it,.3,.6),hc:null},y.N("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Mn=g("editor.selectionHighlightBorder",{light:null,dark:null,hc:x},y.N("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),an=g("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},y.N("editorFindMatch","Color of the current search match.")),$e=g("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},y.N("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Tt=g("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},y.N("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),It=g("editor.findMatchBorder",{light:null,dark:null,hc:x},y.N("editorFindMatchBorder","Border color of the current search match.")),Ge=g("editor.findMatchHighlightBorder",{light:null,dark:null,hc:x},y.N("findMatchHighlightBorder","Border color of the other search matches.")),Xe=g("editor.findRangeHighlightBorder",{dark:null,light:null,hc:Hi(x,.4)},y.N("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),kt=g("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},y.N("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),At=g("editorHoverWidget.background",{light:ei,dark:ei,hc:ei},y.N("hoverBackground","Background color of the editor hover.")),Jt=g("editorHoverWidget.foreground",{light:bi,dark:bi,hc:bi},y.N("hoverForeground","Foreground color of the editor hover.")),ai=g("editorHoverWidget.border",{light:ii,dark:ii,hc:ii},y.N("hoverBorder","Border color of the editor hover.")),yi=g("editorHoverWidget.statusBarBackground",{dark:xi(At,.2),light:Oi(At,.05),hc:ei},y.N("statusBarBackground","Background color of the editor hover status bar.")),sn=g("editorLink.activeForeground",{dark:"#4E94CE",light:O.Il.blue,hc:O.Il.cyan},y.N("activeLinkForeground","Color of active links.")),Ji=g("editorInlayHint.foreground",{dark:Hi(Re,.8),light:Hi(Re,.8),hc:Re},y.N("editorInlayHintForeground","Foreground color of inline hints")),Qn=g("editorInlayHint.background",{dark:Hi(Oe,.6),light:Hi(Oe,.3),hc:Oe},y.N("editorInlayHintBackground","Background color of inline hints")),Ui=g("editorInlayHint.typeForeground",{dark:Ji,light:Ji,hc:Ji},y.N("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),on=g("editorInlayHint.typeBackground",{dark:Qn,light:Qn,hc:Qn},y.N("editorInlayHintBackgroundTypes","Background color of inline hints for types")),wt=g("editorInlayHint.parameterForeground",{dark:Ji,light:Ji,hc:Ji},y.N("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),ft=g("editorInlayHint.parameterBackground",{dark:Qn,light:Qn,hc:Qn},y.N("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),xt=g("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},y.N("editorLightBulbForeground","The color used for the lightbulb actions icon.")),Ve=g("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},y.N("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),qe=new O.Il(new O.VS(155,185,85,.2)),mt=new O.Il(new O.VS(255,0,0,.2)),ut=g("diffEditor.insertedTextBackground",{dark:qe,light:qe,hc:null},y.N("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),ri=g("diffEditor.removedTextBackground",{dark:mt,light:mt,hc:null},y.N("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),$i=g("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},y.N("diffEditorInsertedOutline","Outline color for the text that got inserted.")),_i=g("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},y.N("diffEditorRemovedOutline","Outline color for text that got removed.")),Ni=g("diffEditor.border",{dark:null,light:null,hc:w},y.N("diffEditorBorder","Border color between the two text editors.")),Gi=g("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},y.N("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),hn=g("list.focusBackground",{dark:null,light:null,hc:null},y.N("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),pn=g("list.focusForeground",{dark:null,light:null,hc:null},y.N("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ai=g("list.focusOutline",{dark:T,light:T,hc:x},y.N("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),pi=g("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},y.N("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),_n=g("list.activeSelectionForeground",{dark:O.Il.white,light:O.Il.white,hc:null},y.N("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),En=g("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},y.N("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),is=g("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},y.N("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ds=g("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},y.N("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Xn=g("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},y.N("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Rs=g("list.inactiveFocusBackground",{dark:null,light:null,hc:null},y.N("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Co=g("list.inactiveFocusOutline",{dark:null,light:null,hc:null},y.N("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),js=g("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},y.N("listHoverBackground","List/Tree background when hovering over items using the mouse.")),_s=g("list.hoverForeground",{dark:null,light:null,hc:null},y.N("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),ho=g("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},y.N("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),oo=g("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:T},y.N("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),qs=g("list.focusHighlightForeground",{dark:oo,light:Ii(pi,oo,"#9DDDFF"),hc:oo},y.N("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),Es=g("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:O.Il.black},y.N("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),Fs=g("listFilterWidget.outline",{dark:O.Il.transparent,light:O.Il.transparent,hc:"#f38518"},y.N("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Xs=g("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:w},y.N("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),ro=g("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},y.N("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Ys=g("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},y.N("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),$s=g("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,y.N("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),mo=g("quickInputList.focusForeground",{dark:_n,light:_n,hc:_n},y.N("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Jn=g("quickInputList.focusIconForeground",{dark:En,light:En,hc:En},y.N("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),po=g("quickInputList.focusBackground",{dark:cn($s,pi),light:cn($s,pi),hc:null},y.N("quickInput.listFocusBackground","Quick picker background color for the focused item.")),os=g("menu.border",{dark:null,light:null,hc:w},y.N("menuBorder","Border color of menus.")),jn=g("menu.foreground",{dark:F,light:D,hc:F},y.N("menuForeground","Foreground color of menu items.")),ao=g("menu.background",{dark:b,light:b,hc:b},y.N("menuBackground","Background color of menu items.")),es=g("menu.selectionForeground",{dark:_n,light:_n,hc:_n},y.N("menuSelectionForeground","Foreground color of the selected menu item in menus.")),eo=g("menu.selectionBackground",{dark:pi,light:pi,hc:pi},y.N("menuSelectionBackground","Background color of the selected menu item in menus.")),xs=g("menu.selectionBorder",{dark:null,light:null,hc:x},y.N("menuSelectionBorder","Border color of the selected menu item in menus.")),io=g("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:w},y.N("menuSeparatorBackground","Color of a separator menu item in menus.")),mi=g("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},y.N("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),ge=g("editor.snippetTabstopHighlightBackground",{dark:new O.Il(new O.VS(124,124,124,.3)),light:new O.Il(new O.VS(10,50,100,.2)),hc:new O.Il(new O.VS(124,124,124,.3))},y.N("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),ct=g("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},y.N("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),gt=g("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},y.N("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),Wt=g("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new O.Il(new O.VS(10,50,100,.5)),hc:"#525252"},y.N("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),ti=g("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},y.N("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Si=g("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},y.N("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),hi=g("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},y.N("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Yt=g("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},y.N("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),Vi=g("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},y.N("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Li=g("minimap.errorHighlight",{dark:new O.Il(new O.VS(255,18,18,.7)),light:new O.Il(new O.VS(255,18,18,.7)),hc:new O.Il(new O.VS(255,50,50,1))},y.N("minimapError","Minimap marker color for errors.")),Pn=g("minimap.warningHighlight",{dark:nt,light:nt,hc:at},y.N("overviewRuleWarning","Minimap marker color for warnings.")),Nt=g("minimap.background",{dark:null,light:null,hc:null},y.N("minimapBackground","Minimap background color.")),W=g("minimap.foregroundOpacity",{dark:O.Il.fromHex("#000f"),light:O.Il.fromHex("#000f"),hc:O.Il.fromHex("#000f")},y.N("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),re=g("minimapSlider.background",{light:Hi(Dt,.5),dark:Hi(Dt,.5),hc:Hi(Dt,.5)},y.N("minimapSliderBackground","Minimap slider background color.")),Te=g("minimapSlider.hoverBackground",{light:Hi(ht,.5),dark:Hi(ht,.5),hc:Hi(ht,.5)},y.N("minimapSliderHoverBackground","Minimap slider background color when hovering.")),Ye=g("minimapSlider.activeBackground",{light:Hi(Mt,.5),dark:Hi(Mt,.5),hc:Hi(Mt,.5)},y.N("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),bt=g("problemsErrorIcon.foreground",{dark:ke,light:ke,hc:ke},y.N("problemsErrorIconForeground","The color used for the problems error icon.")),$t=g("problemsWarningIcon.foreground",{dark:nt,light:nt,hc:nt},y.N("problemsWarningIconForeground","The color used for the problems warning icon.")),si=g("problemsInfoIcon.foreground",{dark:Ne,light:Ne,hc:Ne},y.N("problemsInfoIconForeground","The color used for the problems info icon."));function gi(Ln,jt){var _e,Me,ze;switch(Ln.op){case 0:return(_e=nn(Ln.value,jt))===null||_e===void 0?void 0:_e.darken(Ln.factor);case 1:return(Me=nn(Ln.value,jt))===null||Me===void 0?void 0:Me.lighten(Ln.factor);case 2:return(ze=nn(Ln.value,jt))===null||ze===void 0?void 0:ze.transparent(Ln.factor);case 3:for(const oi of Ln.values){const qt=nn(oi,jt);if(qt)return qt}return;case 5:return nn(jt.defines(Ln.if)?Ln.then:Ln.else,jt);case 4:const vt=nn(Ln.value,jt);if(!vt)return;const yt=nn(Ln.background,jt);return yt?vt.isDarkerThan(yt)?O.Il.getLighterColor(vt,yt,Ln.factor).transparent(Ln.transparency):O.Il.getDarkerColor(vt,yt,Ln.factor).transparent(Ln.transparency):vt.transparent(Ln.factor*Ln.transparency);default:throw(0,P.vE)(Ln)}}function Oi(Ln,jt){return{op:0,value:Ln,factor:jt}}function xi(Ln,jt){return{op:1,value:Ln,factor:jt}}function Hi(Ln,jt){return{op:2,value:Ln,factor:jt}}function cn(...Ln){return{op:3,values:Ln}}function Ii(Ln,jt,_e){return{op:5,if:Ln,then:jt,else:_e}}function ln(Ln,jt,_e,Me){return{op:4,value:Ln,background:jt,factor:_e,transparency:Me}}function nn(Ln,jt){if(Ln!==null){if(typeof Ln=="string")return Ln[0]==="#"?O.Il.fromHex(Ln):jt.getColor(Ln);if(Ln instanceof O.Il)return Ln;if(typeof Ln=="object")return gi(Ln,jt)}}const wn="vscode://schemas/workbench-colors";let Gn=R.B.as(X.I.JSONContribution);Gn.registerSchema(wn,N.getColorSchema());const Ts=new E.pY(()=>Gn.notifySchemaChanged(wn),200);N.onDidChangeSchema(()=>{Ts.isScheduled()||Ts.schedule()})},59554:function(Qt,He,c){"use strict";c.d(He,{Ks:function(){return D},q5:function(){return g},s_:function(){return x}});var E=c(15393),O=c(73046),Q=c(4669),P=c(63580),y=c(81294),X=c(89872),R=c(97781);const B={IconContribution:"base.contributions.icons"};class s{constructor(){this._onDidChange=new Q.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,P.N)("iconDefintion.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,P.N)("iconDefintion.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${O.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(p,S,h,L){const v=this.iconsById[p];if(v){if(h&&!v.description){v.description=h,this.iconSchema.properties[p].markdownDescription=`${h} $(${p})`;const ee=this.iconReferenceSchema.enum.indexOf(p);ee!==-1&&(this.iconReferenceSchema.enumDescriptions[ee]=h),this._onDidChange.fire()}return v}let V={id:p,description:h,defaults:S,deprecationMessage:L};this.iconsById[p]=V;let $={$ref:"#/definitions/icons"};return L&&($.deprecationMessage=L),h&&($.markdownDescription=`${h}: $(${p})`),this.iconSchema.properties[p]=$,this.iconReferenceSchema.enum.push(p),this.iconReferenceSchema.enumDescriptions.push(h||""),this._onDidChange.fire(),{id:p}}getIcons(){return Object.keys(this.iconsById).map(p=>this.iconsById[p])}getIcon(p){return this.iconsById[p]}getIconSchema(){return this.iconSchema}getIconFont(p){return this.iconFontsById[p]}toString(){const p=(v,V)=>v.id.localeCompare(V.id),S=v=>{for(;R.kS.isThemeIcon(v.defaults);)v=this.iconsById[v.defaults.id];return`codicon codicon-${v?v.id:""}`};let h=[];h.push("| preview     | identifier                        | default codicon ID                | description"),h.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const L=Object.keys(this.iconsById).map(v=>this.iconsById[v]);for(const v of L.filter(V=>!!V.description).sort(p))h.push(`|<i class="${S(v)}"></i>|${v.id}|${R.kS.isThemeIcon(v.defaults)?v.defaults.id:v.id}|${v.description||""}|`);h.push("| preview     | identifier                        "),h.push("| ----------- | --------------------------------- |");for(const v of L.filter(V=>!R.kS.isThemeIcon(V.defaults)).sort(p))h.push(`|<i class="${S(v)}"></i>|${v.id}|`);return h.join(`
`)}}const N=new s;X.B.add(B.IconContribution,N);function g(f,p,S,h){return N.registerIcon(f,p,S,h)}function D(){return N}function H(){for(const f of O.fK.all)N.registerIcon(f.id,f.definition,f.description);O.fK.onDidRegister(f=>N.registerIcon(f.id,f.definition,f.description))}H();const r="vscode://schemas/icons";let T=X.B.as(y.I.JSONContribution);T.registerSchema(r,N.getIconSchema());const w=new E.pY(()=>T.notifySchemaChanged(r),200);N.onDidChange(()=>{w.isScheduled()||w.schedule()});const x=g("widget-close",O.lA.close,(0,P.N)("widgetClose","Icon for the close action in widgets."))},88810:function(Qt,He,c){"use strict";c.d(He,{Jl:function(){return y},O2:function(){return X},WZ:function(){return P},o:function(){return O},tj:function(){return B}});var E=c(73910);function O(s,N){const g=Object.create(null);for(let D in N){const H=N[D];H&&(g[D]=(0,E.Sn)(H,s))}return g}function Q(s,N,g){function D(){const H=O(s.getColorTheme(),N);typeof g=="function"?g(H):g.style(H)}return D(),s.onDidColorThemeChange(D)}function P(s,N,g){return Q(N,{badgeBackground:(g==null?void 0:g.badgeBackground)||E.g8,badgeForeground:(g==null?void 0:g.badgeForeground)||E.qe,badgeBorder:E.lR},s)}function y(s,N,g){return Q(N,Object.assign(Object.assign({},X),g||{}),s)}const X={listFocusBackground:E._b,listFocusForeground:E._2,listFocusOutline:E.Oo,listActiveSelectionBackground:E.dC,listActiveSelectionForeground:E.M6,listActiveSelectionIconForeground:E.Tn,listFocusAndSelectionBackground:E.dC,listFocusAndSelectionForeground:E.M6,listInactiveSelectionBackground:E.rg,listInactiveSelectionIconForeground:E.kv,listInactiveSelectionForeground:E.yt,listInactiveFocusBackground:E.s$,listInactiveFocusOutline:E.F3,listHoverBackground:E.mV,listHoverForeground:E.$d,listDropBackground:E.AS,listSelectionOutline:E.xL,listHoverOutline:E.xL,listFilterWidgetBackground:E.vG,listFilterWidgetOutline:E.oS,listFilterWidgetNoMatchesOutline:E.S,listMatchesShadow:E.rh,treeIndentGuidesStroke:E.Un,tableColumnsBorder:E.ux},R={shadowColor:E.rh,borderColor:E.Cd,foregroundColor:E.DE,backgroundColor:E.Hz,selectionForegroundColor:E.jb,selectionBackgroundColor:E.$D,selectionBorderColor:E.E3,separatorColor:E.ZG};function B(s,N,g){return Q(N,Object.assign(Object.assign({},R),g),s)}},92321:function(Qt,He,c){"use strict";c.d(He,{e:function(){return E}});var E;(function(O){O.DARK="dark",O.LIGHT="light",O.HIGH_CONTRAST="hc"})(E||(E={}))},97781:function(Qt,He,c){"use strict";c.d(He,{EN:function(){return s},IP:function(){return D},Ic:function(){return T},XE:function(){return R},bB:function(){return w},kS:function(){return N},m6:function(){return g}});var E=c(73046),O=c(4669),Q=c(5976),P=c(72065),y=c(89872),X=c(92321);const R=(0,P.yh)("themeService");var B;(function(x){function f(p){return p&&typeof p=="object"&&typeof p.id=="string"}x.isThemeColor=f})(B||(B={}));function s(x){return{id:x}}var N;(function(x){function f(V){return V&&typeof V=="object"&&typeof V.id=="string"&&(typeof V.color=="undefined"||B.isThemeColor(V.color))}x.isThemeIcon=f;const p=new RegExp(`^\\$\\((${E.dT.iconNameExpression}(?:${E.dT.iconModifierExpression})?)\\)$`);function S(V){const $=p.exec(V);if(!$)return;let[,ee]=$;return{id:ee}}x.fromString=S;function h(V,$){let ee=V.id;const de=ee.lastIndexOf("~");return de!==-1&&(ee=ee.substring(0,de)),$&&(ee=`${ee}~${$}`),{id:ee}}x.modify=h;function L(V,$){var ee,de;return V.id===$.id&&((ee=V.color)===null||ee===void 0?void 0:ee.id)===((de=$.color)===null||de===void 0?void 0:de.id)}x.isEqual=L;function v(V,$){return{id:V.id,color:$?s($):void 0}}x.asThemeIcon=v,x.asClassNameArray=E.dT.asClassNameArray,x.asClassName=E.dT.asClassName,x.asCSSSelector=E.dT.asCSSSelector})(N||(N={}));function g(x){switch(x){case X.e.DARK:return"vs-dark";case X.e.HIGH_CONTRAST:return"hc-black";default:return"vs"}}const D={ThemingContribution:"base.contributions.theming"};class H{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new O.Q5}onColorThemeChange(f){return this.themingParticipants.push(f),this.onThemingParticipantAddedEmitter.fire(f),(0,Q.OF)(()=>{const p=this.themingParticipants.indexOf(f);this.themingParticipants.splice(p,1)})}getThemingParticipants(){return this.themingParticipants}}let r=new H;y.B.add(D.ThemingContribution,r);function T(x){return r.onColorThemeChange(x)}class w extends Q.JT{constructor(f){super(),this.themeService=f,this.theme=f.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(p=>this.onThemeChange(p)))}onThemeChange(f){this.theme=f,this.updateStyles()}updateStyles(){}}},64862:function(Qt,He,c){"use strict";c.d(He,{Xt:function(){return P},YO:function(){return Q},gJ:function(){return y},tJ:function(){return O}});var E=c(72065);const O=(0,E.yh)("undoRedoService");class Q{constructor(R,B){this.resource=R,this.elements=B}}class P{constructor(){this.id=P._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}P._ID=0,P.None=new P;class y{constructor(){this.id=y._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}y._ID=0,y.None=new y},40382:function(Qt,He,c){"use strict";c.d(He,{ec:function(){return Q},md:function(){return y}});var E=c(43702),O=c(72065);const Q=(0,O.yh)("contextService");class P{constructor(R,B,s,N,g){this._id=R,this._transient=s,this._configuration=N,this._ignorePathCasing=g,this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing),this.folders=B}get folders(){return this._folders}set folders(R){this._folders=R,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(R){this._configuration=R}getFolder(R){return R&&this._foldersMap.findSubstr(R.with({scheme:R.scheme,authority:R.authority,path:R.path}))||null}updateFoldersMap(){this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing);for(const R of this.folders)this._foldersMap.set(R.uri,R)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class y{constructor(R,B){this.raw=B,this.uri=R.uri,this.index=R.index,this.name=R.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}},85344:function(Qt,He,c){"use strict";c.d(He,{Z:function(){return Je}});var E=c(87462),O=c(1413),Q=c(71002),P=c(97685),y=c(4942),X=c(91),R=c(67294),B=c(73935),s=c(94184),N=c.n(s),g=c(48555),D=R.forwardRef(function(tt,ke){var fe=tt.height,Ie=tt.offsetY,nt=tt.offsetX,at=tt.children,ot=tt.prefixCls,Ne=tt.onInnerResize,Pe=tt.innerProps,ye=tt.rtl,Ze=tt.extra,it={},Ft={display:"flex",flexDirection:"column"};if(Ie!==void 0){var ei;it={height:fe,position:"relative",overflow:"hidden"},Ft=(0,O.Z)((0,O.Z)({},Ft),{},(ei={transform:"translateY(".concat(Ie,"px)")},(0,y.Z)(ei,ye?"marginRight":"marginLeft",-nt),(0,y.Z)(ei,"position","absolute"),(0,y.Z)(ei,"left",0),(0,y.Z)(ei,"right",0),(0,y.Z)(ei,"top",0),ei))}return R.createElement("div",{style:it},R.createElement(g.Z,{onResize:function(ii){var Ot=ii.offsetHeight;Ot&&Ne&&Ne()}},R.createElement("div",(0,E.Z)({style:Ft,className:N()((0,y.Z)({},"".concat(ot,"-holder-inner"),ot)),ref:ke},Pe),at,Ze)))});D.displayName="Filler";var H=D,r=c(75164);function T(tt,ke){var fe="touches"in tt?tt.touches[0]:tt;return fe[ke?"pageX":"pageY"]}var w=R.forwardRef(function(tt,ke){var fe,Ie=tt.prefixCls,nt=tt.rtl,at=tt.scrollOffset,ot=tt.scrollRange,Ne=tt.onStartMove,Pe=tt.onStopMove,ye=tt.onScroll,Ze=tt.horizontal,it=tt.spinSize,Ft=tt.containerSize,ei=tt.style,bi=tt.thumbStyle,ii=R.useState(!1),Ot=(0,P.Z)(ii,2),en=Ot[0],ui=Ot[1],Ke=R.useState(null),st=(0,P.Z)(Ke,2),Mi=st[0],ci=st[1],zi=R.useState(null),kn=(0,P.Z)(zi,2),Ki=kn[0],ls=kn[1],Bn=!nt,On=R.useRef(),Zi=R.useRef(),Mn=R.useState(!1),an=(0,P.Z)(Mn,2),$e=an[0],Tt=an[1],It=R.useRef(),Ge=function(){clearTimeout(It.current),Tt(!0),It.current=setTimeout(function(){Tt(!1)},3e3)},Xe=ot-Ft||0,kt=Ft-it||0,At=Xe>0,Jt=R.useMemo(function(){if(at===0||Xe===0)return 0;var ft=at/Xe;return ft*kt},[at,Xe,kt]),ai=function(xt){xt.stopPropagation(),xt.preventDefault()},yi=R.useRef({top:Jt,dragging:en,pageY:Mi,startTop:Ki});yi.current={top:Jt,dragging:en,pageY:Mi,startTop:Ki};var sn=function(xt){ui(!0),ci(T(xt,Ze)),ls(yi.current.top),Ne(),xt.stopPropagation(),xt.preventDefault()};R.useEffect(function(){var ft=function(mt){mt.preventDefault()},xt=On.current,Ve=Zi.current;return xt.addEventListener("touchstart",ft),Ve.addEventListener("touchstart",sn),function(){xt.removeEventListener("touchstart",ft),Ve.removeEventListener("touchstart",sn)}},[]);var Ji=R.useRef();Ji.current=Xe;var Qn=R.useRef();Qn.current=kt,R.useEffect(function(){if(en){var ft,xt=function(mt){var ut=yi.current,ri=ut.dragging,$i=ut.pageY,_i=ut.startTop;if(r.Z.cancel(ft),ri){var Ni=T(mt,Ze)-$i,Gi=_i;!Bn&&Ze?Gi-=Ni:Gi+=Ni;var hn=Ji.current,pn=Qn.current,Ai=pn?Gi/pn:0,pi=Math.ceil(Ai*hn);pi=Math.max(pi,0),pi=Math.min(pi,hn),ft=(0,r.Z)(function(){ye(pi,Ze)})}},Ve=function(){ui(!1),Pe()};return window.addEventListener("mousemove",xt),window.addEventListener("touchmove",xt),window.addEventListener("mouseup",Ve),window.addEventListener("touchend",Ve),function(){window.removeEventListener("mousemove",xt),window.removeEventListener("touchmove",xt),window.removeEventListener("mouseup",Ve),window.removeEventListener("touchend",Ve),r.Z.cancel(ft)}}},[en]),R.useEffect(function(){Ge()},[at]),R.useImperativeHandle(ke,function(){return{delayHidden:Ge}});var Ui="".concat(Ie,"-scrollbar"),on={position:"absolute",visibility:$e&&At?null:"hidden"},wt={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return Ze?(on.height=8,on.left=0,on.right=0,on.bottom=0,wt.height="100%",wt.width=it,Bn?wt.left=Jt:wt.right=Jt):(on.width=8,on.top=0,on.bottom=0,Bn?on.right=0:on.left=0,wt.width="100%",wt.height=it,wt.top=Jt),R.createElement("div",{ref:On,className:N()(Ui,(fe={},(0,y.Z)(fe,"".concat(Ui,"-horizontal"),Ze),(0,y.Z)(fe,"".concat(Ui,"-vertical"),!Ze),(0,y.Z)(fe,"".concat(Ui,"-visible"),$e),fe)),style:(0,O.Z)((0,O.Z)({},on),ei),onMouseDown:ai,onMouseMove:Ge},R.createElement("div",{ref:Zi,className:N()("".concat(Ui,"-thumb"),(0,y.Z)({},"".concat(Ui,"-thumb-moving"),en)),style:(0,O.Z)((0,O.Z)({},wt),bi),onMouseDown:sn}))}),x=w;function f(tt){var ke=tt.children,fe=tt.setRef,Ie=R.useCallback(function(nt){fe(nt)},[]);return R.cloneElement(ke,{ref:Ie})}function p(tt,ke,fe,Ie,nt,at,ot){var Ne=ot.getKey;return tt.slice(ke,fe+1).map(function(Pe,ye){var Ze=ke+ye,it=at(Pe,Ze,{style:{width:Ie}}),Ft=Ne(Pe);return R.createElement(f,{key:Ft,setRef:function(bi){return nt(Pe,bi)}},it)})}var S=c(34203),h=c(15671),L=c(43144),v=function(){function tt(){(0,h.Z)(this,tt),this.maps=void 0,this.id=0,this.maps=Object.create(null)}return(0,L.Z)(tt,[{key:"set",value:function(fe,Ie){this.maps[fe]=Ie,this.id+=1}},{key:"get",value:function(fe){return this.maps[fe]}}]),tt}(),V=v;function $(tt,ke,fe){var Ie=R.useState(0),nt=(0,P.Z)(Ie,2),at=nt[0],ot=nt[1],Ne=(0,R.useRef)(new Map),Pe=(0,R.useRef)(new V),ye=(0,R.useRef)();function Ze(){r.Z.cancel(ye.current)}function it(){var ei=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Ze();var bi=function(){Ne.current.forEach(function(Ot,en){if(Ot&&Ot.offsetParent){var ui=(0,S.Z)(Ot),Ke=ui.offsetHeight;Pe.current.get(en)!==Ke&&Pe.current.set(en,ui.offsetHeight)}}),ot(function(Ot){return Ot+1})};ei?bi():ye.current=(0,r.Z)(bi)}function Ft(ei,bi){var ii=tt(ei),Ot=Ne.current.get(ii);bi?(Ne.current.set(ii,bi),it()):Ne.current.delete(ii),!Ot!=!bi&&(bi?ke==null||ke(ei):fe==null||fe(ei))}return(0,R.useEffect)(function(){return Ze},[]),[Ft,it,Pe.current,at]}var ee=c(8410),de=c(56790),pe=10;function ve(tt,ke,fe,Ie,nt,at,ot,Ne){var Pe=R.useRef(),ye=R.useState(null),Ze=(0,P.Z)(ye,2),it=Ze[0],Ft=Ze[1];return(0,ee.Z)(function(){if(it&&it.times<pe){if(!tt.current){Ft(function(Ge){return(0,O.Z)({},Ge)});return}at();var ei=it.targetAlign,bi=it.originAlign,ii=it.index,Ot=it.offset,en=tt.current.clientHeight,ui=!1,Ke=ei,st=null;if(en){for(var Mi=ei||bi,ci=0,zi=0,kn=0,Ki=Math.min(ke.length-1,ii),ls=0;ls<=Ki;ls+=1){var Bn=nt(ke[ls]);zi=ci;var On=fe.get(Bn);kn=zi+(On===void 0?Ie:On),ci=kn}for(var Zi=Mi==="top"?Ot:en-Ot,Mn=Ki;Mn>=0;Mn-=1){var an=nt(ke[Mn]),$e=fe.get(an);if($e===void 0){ui=!0;break}if(Zi-=$e,Zi<=0)break}switch(Mi){case"top":st=zi-Ot;break;case"bottom":st=kn-en+Ot;break;default:{var Tt=tt.current.scrollTop,It=Tt+en;zi<Tt?Ke="top":kn>It&&(Ke="bottom")}}st!==null&&ot(st),st!==it.lastTop&&(ui=!0)}ui&&Ft(function(Ge){return(0,O.Z)((0,O.Z)({},Ge),{},{times:Ge.times+1,targetAlign:Ke,lastTop:st})})}},[it,tt.current]),function(ei){if(ei==null){Ne();return}if(r.Z.cancel(Pe.current),typeof ei=="number")ot(ei);else if(ei&&(0,Q.Z)(ei)==="object"){var bi,ii=ei.align;"index"in ei?bi=ei.index:bi=ke.findIndex(function(ui){return nt(ui)===ei.key});var Ot=ei.offset,en=Ot===void 0?0:Ot;Ft({times:0,index:bi,offset:en,originAlign:ii})}}}function xe(tt,ke,fe,Ie){var nt=fe-tt,at=ke-fe,ot=Math.min(nt,at)*2;if(Ie<=ot){var Ne=Math.floor(Ie/2);return Ie%2?fe+Ne+1:fe-Ne}return nt>at?fe-(Ie-at):fe+(Ie-nt)}function le(tt,ke,fe){var Ie=tt.length,nt=ke.length,at,ot;if(Ie===0&&nt===0)return null;Ie<nt?(at=tt,ot=ke):(at=ke,ot=tt);var Ne={__EMPTY_ITEM__:!0};function Pe(bi){return bi!==void 0?fe(bi):Ne}for(var ye=null,Ze=Math.abs(Ie-nt)!==1,it=0;it<ot.length;it+=1){var Ft=Pe(at[it]),ei=Pe(ot[it]);if(Ft!==ei){ye=it,Ze=Ze||Ft!==Pe(ot[it+1]);break}}return ye===null?null:{index:ye,multiple:Ze}}function Y(tt,ke,fe){var Ie=R.useState(tt),nt=(0,P.Z)(Ie,2),at=nt[0],ot=nt[1],Ne=R.useState(null),Pe=(0,P.Z)(Ne,2),ye=Pe[0],Ze=Pe[1];return R.useEffect(function(){var it=le(at||[],tt||[],ke);(it==null?void 0:it.index)!==void 0&&(fe==null||fe(it.index),Ze(tt[it.index])),ot(tt)},[tt]),[ye]}var j=(typeof navigator=="undefined"?"undefined":(0,Q.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),G=j,q=function(tt,ke){var fe=(0,R.useRef)(!1),Ie=(0,R.useRef)(null);function nt(){clearTimeout(Ie.current),fe.current=!0,Ie.current=setTimeout(function(){fe.current=!1},50)}var at=(0,R.useRef)({top:tt,bottom:ke});return at.current.top=tt,at.current.bottom=ke,function(ot){var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Pe=ot<0&&at.current.top||ot>0&&at.current.bottom;return Ne&&Pe?(clearTimeout(Ie.current),fe.current=!1):(!Pe||fe.current)&&nt(),!fe.current&&Pe}};function m(tt,ke,fe,Ie,nt){var at=(0,R.useRef)(0),ot=(0,R.useRef)(null),Ne=(0,R.useRef)(null),Pe=(0,R.useRef)(!1),ye=q(ke,fe);function Ze(Ot,en){r.Z.cancel(ot.current),at.current+=en,Ne.current=en,!ye(en)&&(G||Ot.preventDefault(),ot.current=(0,r.Z)(function(){var ui=Pe.current?10:1;nt(at.current*ui),at.current=0}))}function it(Ot,en){nt(en,!0),G||Ot.preventDefault()}var Ft=(0,R.useRef)(null),ei=(0,R.useRef)(null);function bi(Ot){if(tt){r.Z.cancel(ei.current),ei.current=(0,r.Z)(function(){Ft.current=null},2);var en=Ot.deltaX,ui=Ot.deltaY,Ke=Ot.shiftKey,st=en,Mi=ui;(Ft.current==="sx"||!Ft.current&&Ke&&ui&&!en)&&(st=ui,Mi=0,Ft.current="sx");var ci=Math.abs(st),zi=Math.abs(Mi);Ft.current===null&&(Ft.current=Ie&&ci>zi?"x":"y"),Ft.current==="y"?Ze(Ot,Mi):it(Ot,st)}}function ii(Ot){tt&&(Pe.current=Ot.detail===Ne.current)}return[bi,ii]}var b=14/15;function F(tt,ke,fe){var Ie=(0,R.useRef)(!1),nt=(0,R.useRef)(0),at=(0,R.useRef)(null),ot=(0,R.useRef)(null),Ne,Pe=function(Ft){if(Ie.current){var ei=Math.ceil(Ft.touches[0].pageY),bi=nt.current-ei;nt.current=ei,fe(bi)&&Ft.preventDefault(),clearInterval(ot.current),ot.current=setInterval(function(){bi*=b,(!fe(bi,!0)||Math.abs(bi)<=.1)&&clearInterval(ot.current)},16)}},ye=function(){Ie.current=!1,Ne()},Ze=function(Ft){Ne(),Ft.touches.length===1&&!Ie.current&&(Ie.current=!0,nt.current=Math.ceil(Ft.touches[0].pageY),at.current=Ft.target,at.current.addEventListener("touchmove",Pe),at.current.addEventListener("touchend",ye))};Ne=function(){at.current&&(at.current.removeEventListener("touchmove",Pe),at.current.removeEventListener("touchend",ye))},(0,ee.Z)(function(){return tt&&ke.current.addEventListener("touchstart",Ze),function(){var it;(it=ke.current)===null||it===void 0||it.removeEventListener("touchstart",Ze),Ne(),clearInterval(ot.current)}},[tt])}var te=20;function me(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,fe=tt/ke*100;return isNaN(fe)&&(fe=0),fe=Math.max(fe,te),fe=Math.min(fe,tt/2),Math.floor(fe)}function ue(tt,ke,fe,Ie){var nt=R.useMemo(function(){return[new Map,[]]},[tt,fe.id,Ie]),at=(0,P.Z)(nt,2),ot=at[0],Ne=at[1],Pe=function(Ze){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ze,Ft=ot.get(Ze),ei=ot.get(it);if(Ft===void 0||ei===void 0)for(var bi=tt.length,ii=Ne.length;ii<bi;ii+=1){var Ot,en=tt[ii],ui=ke(en);ot.set(ui,ii);var Ke=(Ot=fe.get(ui))!==null&&Ot!==void 0?Ot:Ie;if(Ne[ii]=(Ne[ii-1]||0)+Ke,ui===Ze&&(Ft=ii),ui===it&&(ei=ii),Ft!==void 0&&ei!==void 0)break}return{top:Ne[Ft-1]||0,bottom:Ne[ei]}};return Pe}var Oe=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],Re=[],et={overflowY:"auto",overflowAnchor:"none"};function Dt(tt,ke){var fe=tt.prefixCls,Ie=fe===void 0?"rc-virtual-list":fe,nt=tt.className,at=tt.height,ot=tt.itemHeight,Ne=tt.fullHeight,Pe=Ne===void 0?!0:Ne,ye=tt.style,Ze=tt.data,it=tt.children,Ft=tt.itemKey,ei=tt.virtual,bi=tt.direction,ii=tt.scrollWidth,Ot=tt.component,en=Ot===void 0?"div":Ot,ui=tt.onScroll,Ke=tt.onVirtualScroll,st=tt.onVisibleChange,Mi=tt.innerProps,ci=tt.extraRender,zi=tt.styles,kn=(0,X.Z)(tt,Oe),Ki=!!(ei!==!1&&at&&ot),ls=Ki&&Ze&&(ot*Ze.length>at||!!ii),Bn=bi==="rtl",On=N()(Ie,(0,y.Z)({},"".concat(Ie,"-rtl"),Bn),nt),Zi=Ze||Re,Mn=(0,R.useRef)(),an=(0,R.useRef)(),$e=(0,R.useState)(0),Tt=(0,P.Z)($e,2),It=Tt[0],Ge=Tt[1],Xe=(0,R.useState)(0),kt=(0,P.Z)(Xe,2),At=kt[0],Jt=kt[1],ai=(0,R.useState)(!1),yi=(0,P.Z)(ai,2),sn=yi[0],Ji=yi[1],Qn=function(){Ji(!0)},Ui=function(){Ji(!1)},on=R.useCallback(function(hi){return typeof Ft=="function"?Ft(hi):hi==null?void 0:hi[Ft]},[Ft]),wt={getKey:on};function ft(hi){Ge(function(Yt){var Vi;typeof hi=="function"?Vi=hi(Yt):Vi=hi;var Li=Fs(Vi);return Mn.current.scrollTop=Li,Li})}var xt=(0,R.useRef)({start:0,end:Zi.length}),Ve=(0,R.useRef)(),qe=Y(Zi,on),mt=(0,P.Z)(qe,1),ut=mt[0];Ve.current=ut;var ri=$(on,null,null),$i=(0,P.Z)(ri,4),_i=$i[0],Ni=$i[1],Gi=$i[2],hn=$i[3],pn=R.useMemo(function(){if(!Ki)return{scrollHeight:void 0,start:0,end:Zi.length-1,offset:void 0};if(!ls){var hi;return{scrollHeight:((hi=an.current)===null||hi===void 0?void 0:hi.offsetHeight)||0,start:0,end:Zi.length-1,offset:void 0}}for(var Yt=0,Vi,Li,Pn,Nt=Zi.length,W=0;W<Nt;W+=1){var re=Zi[W],Te=on(re),Ye=Gi.get(Te),bt=Yt+(Ye===void 0?ot:Ye);bt>=It&&Vi===void 0&&(Vi=W,Li=Yt),bt>It+at&&Pn===void 0&&(Pn=W),Yt=bt}return Vi===void 0&&(Vi=0,Li=0,Pn=Math.ceil(at/ot)),Pn===void 0&&(Pn=Zi.length-1),Pn=Math.min(Pn+1,Zi.length-1),{scrollHeight:Yt,start:Vi,end:Pn,offset:Li}},[ls,Ki,It,Zi,hn,at]),Ai=pn.scrollHeight,pi=pn.start,_n=pn.end,En=pn.offset;xt.current.start=pi,xt.current.end=_n;var is=R.useState({width:0,height:at}),ds=(0,P.Z)(is,2),Xn=ds[0],Rs=ds[1],Co=function(Yt){Rs({width:Yt.width||Yt.offsetWidth,height:Yt.height||Yt.offsetHeight})},js=(0,R.useRef)(),_s=(0,R.useRef)(),ho=R.useMemo(function(){return me(Xn.width,ii)},[Xn.width,ii]),oo=R.useMemo(function(){return me(Xn.height,Ai)},[Xn.height,Ai]),qs=Ai-at,Es=(0,R.useRef)(qs);Es.current=qs;function Fs(hi){var Yt=hi;return Number.isNaN(Es.current)||(Yt=Math.min(Yt,Es.current)),Yt=Math.max(Yt,0),Yt}var Xs=It<=0,ro=It>=qs,Ys=q(Xs,ro),$s=function(){return{x:Bn?-At:At,y:It}},mo=(0,R.useRef)($s()),Jn=(0,de.zX)(function(){if(Ke){var hi=$s();(mo.current.x!==hi.x||mo.current.y!==hi.y)&&(Ke(hi),mo.current=hi)}});function po(hi,Yt){var Vi=hi;Yt?((0,B.flushSync)(function(){Jt(Vi)}),Jn()):ft(Vi)}function os(hi){var Yt=hi.currentTarget.scrollTop;Yt!==It&&ft(Yt),ui==null||ui(hi),Jn()}var jn=function(Yt){var Vi=Yt,Li=ii-Xn.width;return Vi=Math.max(Vi,0),Vi=Math.min(Vi,Li),Vi},ao=(0,de.zX)(function(hi,Yt){Yt?((0,B.flushSync)(function(){Jt(function(Vi){var Li=Vi+(Bn?-hi:hi);return jn(Li)})}),Jn()):ft(function(Vi){var Li=Vi+hi;return Li})}),es=m(Ki,Xs,ro,!!ii,ao),eo=(0,P.Z)(es,2),xs=eo[0],io=eo[1];F(Ki,Mn,function(hi,Yt){return Ys(hi,Yt)?!1:(xs({preventDefault:function(){},deltaY:hi}),!0)}),(0,ee.Z)(function(){function hi(Vi){Ki&&Vi.preventDefault()}var Yt=Mn.current;return Yt.addEventListener("wheel",xs),Yt.addEventListener("DOMMouseScroll",io),Yt.addEventListener("MozMousePixelScroll",hi),function(){Yt.removeEventListener("wheel",xs),Yt.removeEventListener("DOMMouseScroll",io),Yt.removeEventListener("MozMousePixelScroll",hi)}},[Ki]),(0,ee.Z)(function(){ii&&Jt(function(hi){return jn(hi)})},[Xn.width,ii]);var mi=function(){var Yt,Vi;(Yt=js.current)===null||Yt===void 0||Yt.delayHidden(),(Vi=_s.current)===null||Vi===void 0||Vi.delayHidden()},ge=ve(Mn,Zi,Gi,ot,on,function(){return Ni(!0)},ft,mi);R.useImperativeHandle(ke,function(){return{getScrollInfo:$s,scrollTo:function(Yt){function Vi(Li){return Li&&(0,Q.Z)(Li)==="object"&&("left"in Li||"top"in Li)}Vi(Yt)?(Yt.left!==void 0&&Jt(jn(Yt.left)),ge(Yt.top)):ge(Yt)}}}),(0,ee.Z)(function(){if(st){var hi=Zi.slice(pi,_n+1);st(hi,Zi)}},[pi,_n,Zi]);var ct=ue(Zi,on,Gi,ot),gt=ci==null?void 0:ci({start:pi,end:_n,virtual:ls,offsetX:At,offsetY:En,rtl:Bn,getSize:ct}),Wt=p(Zi,pi,_n,ii,_i,it,wt),ti=null;at&&(ti=(0,O.Z)((0,y.Z)({},Pe?"height":"maxHeight",at),et),Ki&&(ti.overflowY="hidden",ii&&(ti.overflowX="hidden"),sn&&(ti.pointerEvents="none")));var Si={};return Bn&&(Si.dir="rtl"),R.createElement("div",(0,E.Z)({style:(0,O.Z)((0,O.Z)({},ye),{},{position:"relative"}),className:On},Si,kn),R.createElement(g.Z,{onResize:Co},R.createElement(en,{className:"".concat(Ie,"-holder"),style:ti,ref:Mn,onScroll:os,onMouseEnter:mi},R.createElement(H,{prefixCls:Ie,height:Ai,offsetX:At,offsetY:En,scrollWidth:ii,onInnerResize:Ni,ref:an,innerProps:Mi,rtl:Bn,extra:gt},Wt))),ls&&Ai>at&&R.createElement(x,{ref:js,prefixCls:Ie,scrollOffset:It,scrollRange:Ai,rtl:Bn,onScroll:po,onStartMove:Qn,onStopMove:Ui,spinSize:oo,containerSize:Xn.height,style:zi==null?void 0:zi.verticalScrollBar,thumbStyle:zi==null?void 0:zi.verticalScrollBarThumb}),ls&&ii&&R.createElement(x,{ref:_s,prefixCls:Ie,scrollOffset:At,scrollRange:ii,rtl:Bn,onScroll:po,onStartMove:Qn,onStopMove:Ui,spinSize:ho,containerSize:Xn.width,horizontal:!0,style:zi==null?void 0:zi.horizontalScrollBar,thumbStyle:zi==null?void 0:zi.horizontalScrollBarThumb}))}var ht=R.forwardRef(Dt);ht.displayName="List";var Mt=ht,Je=Mt}}]);
